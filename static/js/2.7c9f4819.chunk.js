(this.webpackJsonpexplorer=this.webpackJsonpexplorer||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(548)},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){t.exports=n(966)()},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function classNames(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var o=classNames.apply(null,r);o&&t.push(o)}else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):void 0===(r=function(){return classNames}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(60),i=n.n(r);n.d(e,"a",(function(){return i.a}));var o=n(149),a=n.n(o);n.d(e,"b",(function(){return a.a}));var s=n(378),u=n.n(s);n.d(e,"c",(function(){return u.a}));var l=n(379),c=n.n(l);n.d(e,"d",(function(){return c.a}));var f=n(380),p=n.n(f);n.d(e,"e",(function(){return p.a}));var d=n(381),h=n.n(d);n.d(e,"f",(function(){return h.a}));var g=n(255),y=n.n(g);n.d(e,"g",(function(){return y.a}));var m=n(31),v=n.n(m);n.d(e,"h",(function(){return v.a}));var _=n(62),b=n.n(_);n.d(e,"i",(function(){return b.a}));var S=n(382),E=n.n(S);n.d(e,"j",(function(){return E.a}));var x=n(96),w=n.n(x);n.d(e,"k",(function(){return w.a}));var T=n(146),P=n.n(T);n.d(e,"l",(function(){return P.a}));var k=n(124),C=n.n(k);n.d(e,"m",(function(){return C.a}));var D=n(209),A=n.n(D);n.d(e,"n",(function(){return A.a}));var R=n(18),M=n.n(R);n.d(e,"o",(function(){return M.a}))},function(t,e,n){"use strict";function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return _assertThisInitialized}))},function(t,e,n){"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return _defineProperty}))},function(t,e,n){t.exports=n(582)},function(t,e,n){"use strict";var r=n(341),i=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.sheetsManager=void 0;var o=i(n(13)),a=i(n(36)),s=i(n(37)),u=i(n(38)),l=i(n(40)),c=i(n(41)),f=i(n(11)),p=i(n(0)),d=i(n(9)),h=(i(n(64)),i(n(203))),g=(i(n(246)),i(n(185)),i(n(703))),y=n(344),m=r(n(343)),v=i(n(350)),_=i(n(351)),b=i(n(250)),S=i(n(251)),E=i(n(354)),x=i(n(747)),w=i(n(748)),T=(0,y.create)((0,v.default)()),P=(0,E.default)(),k=-1e11,C=new Map;e.sheetsManager=C;var D,A={};function getDefaultTheme(){return D||(D=(0,b.default)())}var R=function withStyles(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=e.withTheme,i=void 0!==r&&r,y=e.flip,v=void 0===y?null:y,b=e.name,E=(0,f.default)(e,["withTheme","flip","name"]),D=(0,x.default)(t),R=D.themingEnabled||i||"string"===typeof b;k+=1,D.options.index=k;var M=function(t){function WithStyles(t,e){var n;(0,s.default)(this,WithStyles),(n=(0,l.default)(this,(WithStyles.__proto__||Object.getPrototypeOf(WithStyles)).call(this,t,e))).disableStylesGeneration=!1,n.jss=null,n.sheetOptions=null,n.sheetsManager=C,n.stylesCreatorSaved=null,n.theme=null,n.unsubscribeId=null,n.state={},n.jss=n.context[m.jss]||T;var r=n.context.muiThemeProviderOptions;return r&&(r.sheetsManager&&(n.sheetsManager=r.sheetsManager),n.disableStylesGeneration=r.disableStylesGeneration),n.stylesCreatorSaved=D,n.sheetOptions=(0,a.default)({generateClassName:P},n.context[m.sheetOptions]),n.theme=R?S.default.initial(e)||getDefaultTheme():A,n.attach(n.theme),n.cacheClasses={value:null,lastProp:null,lastJSS:{}},n}return(0,c.default)(WithStyles,t),(0,u.default)(WithStyles,[{key:"componentDidMount",value:function componentDidMount(){var t=this;R&&(this.unsubscribeId=S.default.subscribe(this.context,(function(e){var n=t.theme;t.theme=e,t.attach(t.theme),t.setState({},(function(){t.detach(n)}))})))}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.detach(this.theme),null!==this.unsubscribeId&&S.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function getClasses(){var t=!1;if(!this.disableStylesGeneration){var e=this.sheetsManager.get(this.stylesCreatorSaved).get(this.theme);e.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=e.sheet.classes,t=!0)}return this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,t=!0),t&&(this.cacheClasses.value=(0,_.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:n,noBase:this.disableStylesGeneration})),this.cacheClasses.value}},{key:"attach",value:function attach(t){if(!this.disableStylesGeneration){var e=this.stylesCreatorSaved,n=this.sheetsManager.get(e);n||(n=new Map,this.sheetsManager.set(e,n));var r=n.get(t);if(r||(r={refs:0,sheet:null},n.set(t,r)),0===r.refs){var i=e.create(t,b),o=b;0;var s=this.jss.createStyleSheet(i,(0,a.default)({meta:o,classNamePrefix:o,flip:"boolean"===typeof v?v:"rtl"===t.direction,link:!1},this.sheetOptions,e.options,{name:b},E));r.sheet=s,s.attach();var u=this.context[m.sheetsRegistry];u&&u.add(s)}r.refs+=1}}},{key:"detach",value:function detach(t){if(!this.disableStylesGeneration){var e=this.stylesCreatorSaved,n=this.sheetsManager.get(e),r=n.get(t);if(r.refs-=1,0===r.refs){n.delete(t),this.jss.removeStyleSheet(r.sheet);var i=this.context[m.sheetsRegistry];i&&i.remove(r.sheet)}}}},{key:"render",value:function render(){var t=this.props,e=(t.classes,t.innerRef),r=(0,f.default)(t,["classes","innerRef"]),a=(0,w.default)({theme:this.theme,name:b});return i&&(a.theme=this.theme),p.default.createElement(n,(0,o.default)({},a,{classes:this.getClasses(),ref:e},r))}}]),WithStyles}(p.default.Component);return M.propTypes={},M.contextTypes=(0,a.default)({muiThemeProviderOptions:d.default.object},g.default,R?S.default.contextTypes:{}),(0,h.default)(M,n),M}};e.default=R},function(t,e,n){t.exports=n(699)()},function(t,e,n){t.exports=n(586)()},function(t,e){t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},,function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(216));e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}n.d(e,"a",(function(){return _createClass}))},function(t,e,n){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return _classCallCheck}))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(701))},function(t,e,n){"use strict";function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return _getPrototypeOf}))},function(t,e,n){"use strict";function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}n.d(e,"a",(function(){return _inherits}))},function(t,e,n){"use strict";function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function _typeof(t){return _typeof2(t)}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=n(5);function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!==typeof e?Object(r.a)(t):e}n.d(e,"a",(function(){return _possibleConstructorReturn}))},function(t,e,n){t.exports=n(915)()},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createGenerateClassName",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(e,"createMuiTheme",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(e,"jssPreset",{enumerable:!0,get:function get(){return a.default}}),Object.defineProperty(e,"MuiThemeProvider",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(e,"createStyles",{enumerable:!0,get:function get(){return u.default}}),Object.defineProperty(e,"withStyles",{enumerable:!0,get:function get(){return l.default}}),Object.defineProperty(e,"withTheme",{enumerable:!0,get:function get(){return c.default}});var i=r(n(354)),o=r(n(250)),a=r(n(350)),s=r(n(901)),u=r(n(70)),l=r(n(8)),c=r(n(147))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";t.exports=function warning(){}},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(386));e.default=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}()},function(t,e,n){"use strict";function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function _next(t){asyncGeneratorStep(o,r,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(o,r,i,_next,_throw,"throw",t)}_next(void 0)}))}}n.d(e,"a",(function(){return _asyncToGenerator}))},function(t,e){t.exports=function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(553)()},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(363));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"===typeof e?"undefined":(0,r.default)(e))&&"function"!==typeof e?t:e}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(904))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toDate(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var n=e||{},s=void 0===n.additionalDigits?o:Number(n.additionalDigits);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date)return new Date(t.getTime());if("string"!==typeof t)return new Date(t);var u=function splitDateString(t){var e,n={},r=t.split(a.dateTimeDelimeter);a.plainTime.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]);if(e){var i=a.timezone.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}(t),l=function parseYear(t,e){var n,r=a.YYY[e],i=a.YYYYY[e];if(n=a.YYYY.exec(t)||i.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=a.YY.exec(t)||r.exec(t)){var s=n[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}(u.date,s),c=l.year,f=function parseDate(t,e){if(null===e)return null;var n,r,i,o;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=a.MM.exec(t))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(e,i),r;if(n=a.DDD.exec(t)){r=new Date(0);var s=parseInt(n[1],10);return r.setUTCFullYear(e,0,s),r}if(n=a.MMDD.exec(t)){r=new Date(0),i=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(e,i,u),r}if(n=a.Www.exec(t))return o=parseInt(n[1],10)-1,dayOfISOYear(e,o);if(n=a.WwwD.exec(t)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return dayOfISOYear(e,o,l)}return null}(l.restDateString,c);if(f){var p,d=f.getTime(),h=0;return u.time&&(h=function parseTime(t){var e,n,o;if(e=a.HH.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*r;if(e=a.HHMM.exec(t))return n=parseInt(e[1],10),o=parseFloat(e[2].replace(",",".")),n%24*r+o*i;if(e=a.HHMMSS.exec(t)){n=parseInt(e[1],10),o=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return n%24*r+o*i+1e3*s}return null}(u.time)),u.timezone?p=function parseTimezone(t){var e,n;if(e=a.timezoneZ.exec(t))return 0;if(e=a.timezoneHH.exec(t))return n=60*parseInt(e[2],10),"+"===e[1]?-n:n;if(e=a.timezoneHHMM.exec(t))return n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n;return 0}(u.timezone):(p=new Date(d+h).getTimezoneOffset(),p=new Date(d+h+p*i).getTimezoneOffset()),new Date(d+h+p*i)}return new Date(t)};var r=36e5,i=6e4,o=2,a={dateTimeDelimeter:/[T ]/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function dayOfISOYear(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}t.exports=e.default},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(86),o=n.n(i),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function createProvider(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||e+"Subscription",i=function(t){function Provider(n,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Provider);var i=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,n,r));return i[e]=n.store,i}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Provider,t),Provider.prototype.getChildContext=function getChildContext(){var t;return(t={})[e]=this[e],t[n]=null,t},Provider.prototype.render=function render(){return r.Children.only(this.props.children)},Provider}(r.Component);return i.propTypes={store:s.isRequired,children:o.a.element.isRequired},i.childContextTypes=((t={})[e]=s.isRequired,t[n]=a,t),i}var u=createProvider(),l=n(203),c=n.n(l),f=n(52),p=n.n(f);var d=null,h={notify:function notify(){}};var g=function(){function Subscription(t,e,n){!function Subscription_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Subscription),this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=h}return Subscription.prototype.addNestedSub=function addNestedSub(t){return this.trySubscribe(),this.listeners.subscribe(t)},Subscription.prototype.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()},Subscription.prototype.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)},Subscription.prototype.trySubscribe=function trySubscribe(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function createListenerCollection(){var t=[],e=[];return{clear:function clear(){e=d,t=d},notify:function notify(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function get(){return e},subscribe:function subscribe(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function unsubscribe(){r&&t!==d&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},Subscription.prototype.tryUnsubscribe=function tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=h)},Subscription}(),y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var m=0,v={};function noop(){}function connectAdvanced(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.getDisplayName,u=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,l=i.methodName,f=void 0===l?"connectAdvanced":l,d=i.renderCountProp,h=void 0===d?void 0:d,_=i.shouldHandleStateChanges,b=void 0===_||_,S=i.storeKey,E=void 0===S?"store":S,x=i.withRef,w=void 0!==x&&x,T=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=E+"Subscription",k=m++,C=((e={})[E]=s,e[P]=a,e),D=((n={})[P]=a,n);return function wrapWithConnect(e){p()("function"==typeof e,"You must pass a component to the function returned by "+f+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",i=u(n),o=y({},T,{getDisplayName:u,methodName:f,renderCountProp:h,shouldHandleStateChanges:b,storeKey:E,withRef:w,displayName:i,wrappedComponentName:n,WrappedComponent:e}),a=function(n){function Connect(t,e){!function connectAdvanced_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Connect);var r=function connectAdvanced_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,n.call(this,t,e));return r.version=k,r.state={},r.renderCount=0,r.store=t[E]||e[E],r.propsMode=Boolean(t[E]),r.setWrappedInstance=r.setWrappedInstance.bind(r),p()(r.store,'Could not find "'+E+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}return function connectAdvanced_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Connect,n),Connect.prototype.getChildContext=function getChildContext(){var t,e=this.propsMode?null:this.subscription;return(t={})[P]=e||this.context[P],t},Connect.prototype.componentDidMount=function componentDidMount(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},Connect.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){this.selector.run(t)},Connect.prototype.shouldComponentUpdate=function shouldComponentUpdate(){return this.selector.shouldComponentUpdate},Connect.prototype.componentWillUnmount=function componentWillUnmount(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=noop,this.store=null,this.selector.run=noop,this.selector.shouldComponentUpdate=!1},Connect.prototype.getWrappedInstance=function getWrappedInstance(){return p()(w,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+f+"() call."),this.wrappedInstance},Connect.prototype.setWrappedInstance=function setWrappedInstance(t){this.wrappedInstance=t},Connect.prototype.initSelector=function initSelector(){var e=t(this.store.dispatch,o);this.selector=function makeSelectorStateful(t,e){var n={run:function runComponentSelector(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(o){n.shouldComponentUpdate=!0,n.error=o}}};return n}(e,this.store),this.selector.run(this.props)},Connect.prototype.initSubscription=function initSubscription(){if(b){var t=(this.propsMode?this.props:this.context)[P];this.subscription=new g(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},Connect.prototype.onStateChange=function onStateChange(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(v)):this.notifyNestedSubs()},Connect.prototype.notifyNestedSubsOnComponentDidUpdate=function notifyNestedSubsOnComponentDidUpdate(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},Connect.prototype.isSubscribed=function isSubscribed(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},Connect.prototype.addExtraProps=function addExtraProps(t){if(!w&&!h&&(!this.propsMode||!this.subscription))return t;var e=y({},t);return w&&(e.ref=this.setWrappedInstance),h&&(e[h]=this.renderCount++),this.propsMode&&this.subscription&&(e[P]=this.subscription),e},Connect.prototype.render=function render(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(r.createElement)(e,this.addExtraProps(t.props))},Connect}(r.Component);return a.WrappedComponent=e,a.displayName=i,a.childContextTypes=D,a.contextTypes=C,a.propTypes=C,c()(a,e)}}var _=Object.prototype.hasOwnProperty;function is(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function shallowEqual(t,e){if(is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!_.call(e,n[i])||!is(t[n[i]],e[n[i]]))return!1;return!0}var b=n(95),S=n(431),E="object"==typeof self&&self&&self.Object===Object&&self,x=(S.a||E||Function("return this")()).Symbol,w=Object.prototype;w.hasOwnProperty,w.toString,x&&x.toStringTag;Object.prototype.toString;x&&x.toStringTag;(function overArg(t,e){return function(n){return t(e(n))}})(Object.getPrototypeOf,Object);var T=Function.prototype,P=Object.prototype,k=T.toString;P.hasOwnProperty,k.call(Object);function wrapMapToPropsConstant(t){return function initConstantSelector(e,n){var r=t(e,n);function constantSelector(){return r}return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function wrapMapToPropsFunc(t,e){return function initProxySelector(e,n){n.displayName;var r=function mapToPropsProxy(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function detectFactoryAndVerify(e,n){r.mapToProps=t,r.dependsOnOwnProps=getDependsOnOwnProps(t);var i=r(e,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=getDependsOnOwnProps(i),i=r(e,n)),i},r}}var C=[function whenMapDispatchToPropsIsFunction(t){return"function"===typeof t?wrapMapToPropsFunc(t):void 0},function whenMapDispatchToPropsIsMissing(t){return t?void 0:wrapMapToPropsConstant((function(t){return{dispatch:t}}))},function whenMapDispatchToPropsIsObject(t){return t&&"object"===typeof t?wrapMapToPropsConstant((function(e){return Object(b.b)(t,e)})):void 0}];var D=[function whenMapStateToPropsIsFunction(t){return"function"===typeof t?wrapMapToPropsFunc(t):void 0},function whenMapStateToPropsIsMissing(t){return t?void 0:wrapMapToPropsConstant((function(){return{}}))}],A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function defaultMergeProps(t,e,n){return A({},n,t,e)}var R=[function whenMergePropsIsFunction(t){return"function"===typeof t?function wrapMergePropsFunc(t){return function initMergePropsProxy(e,n){n.displayName;var r=n.pure,i=n.areMergedPropsEqual,o=!1,a=void 0;return function mergePropsProxy(e,n,s){var u=t(e,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}(t):void 0},function whenMergePropsIsOmitted(t){return t?void 0:function(){return defaultMergeProps}}];function impureFinalPropsSelectorFactory(t,e,n,r){return function impureFinalPropsSelector(i,o){return n(t(i,o),e(r,o),o)}}function pureFinalPropsSelectorFactory(t,e,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,u=!1,l=void 0,c=void 0,f=void 0,p=void 0,d=void 0;function handleSubsequentCalls(i,u){var h=!a(u,c),g=!o(i,l);return l=i,c=u,h&&g?function handleNewPropsAndNewState(){return f=t(l,c),e.dependsOnOwnProps&&(p=e(r,c)),d=n(f,p,c)}():h?function handleNewProps(){return t.dependsOnOwnProps&&(f=t(l,c)),e.dependsOnOwnProps&&(p=e(r,c)),d=n(f,p,c)}():g?function handleNewState(){var e=t(l,c),r=!s(e,f);return f=e,r&&(d=n(f,p,c)),d}():d}return function pureFinalPropsSelector(i,o){return u?handleSubsequentCalls(i,o):function handleFirstCall(i,o){return f=t(l=i,c=o),p=e(r,c),d=n(f,p,c),u=!0,d}(i,o)}}function finalPropsSelectorFactory(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=function selectorFactory_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(a,s,u,t,o)}var M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function connect_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function match(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function strictEqual(t,e){return t===e}var L=function createConnect(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?connectAdvanced:e,r=t.mapStateToPropsFactories,i=void 0===r?D:r,o=t.mapDispatchToPropsFactories,a=void 0===o?C:o,s=t.mergePropsFactories,u=void 0===s?R:s,l=t.selectorFactory,c=void 0===l?finalPropsSelectorFactory:l;return function connect(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,l=void 0===s||s,f=o.areStatesEqual,p=void 0===f?strictEqual:f,d=o.areOwnPropsEqual,h=void 0===d?shallowEqual:d,g=o.areStatePropsEqual,y=void 0===g?shallowEqual:g,m=o.areMergedPropsEqual,v=void 0===m?shallowEqual:m,_=connect_objectWithoutProperties(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=match(t,i,"mapStateToProps"),S=match(e,a,"mapDispatchToProps"),E=match(r,u,"mergeProps");return n(c,M({methodName:"connect",getDisplayName:function getDisplayName(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:b,initMapDispatchToProps:S,initMergeProps:E,pure:l,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:v},_))}}();n.d(e,"Provider",(function(){return u})),n.d(e,"createProvider",(function(){return createProvider})),n.d(e,"connectAdvanced",(function(){return connectAdvanced})),n.d(e,"connect",(function(){return L}))},function(t,e){function ap(t,e){return function(){var n=[].slice.call(arguments),r=t.slice();return r.push.apply(r,n),e.apply(this,r)}}function pa(t,e){return function(){var n=[].slice.call(arguments);return n.push.apply(n,t),e.apply(this,n)}}function partial(t){return ap([].slice.call(arguments,1),t)}function partialRight(t){return pa([].slice.call(arguments,1),t)}(e=t.exports=ap).pa=pa,e.apa=function apa(t,e,n){return function(){return n.apply(this,t.concat.apply(t,arguments).concat(e))}},e.partial=partial,e.partialRight=partialRight,e.curry=function curry(t){return partial(partial,t)},e.curryRight=function curryRight(t){return partial(partialRight,t)}},function(t,e,n){var r=n(28);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e,n){(function(r){function load(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof r&&"env"in r&&(t=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).DEBUG),t}(e=t.exports=n(858)).log=function log(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function formatArgs(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=load,e.useColors=function useColors(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(load())}).call(this,n(114))},function(t,e,n){var r=n(245),i=n(184);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e,n){var r=n(702);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";var r=n(183),i=n(680),o=n(681),a=n(682);r.optional=i,r.array=o,r.parent=a,t.exports=r},function(t,e,n){"use strict";e.__esModule=!0;var r=_interopRequireDefault(n(818)),i=_interopRequireDefault(n(822)),o=_interopRequireDefault(n(363));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){t.exports={default:n(950),__esModule:!0}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e,n){t.exports=n(957)()},function(t,e,n){var r=n(883),i=n(58);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e,n){var r=n(885);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";var r=_interopRequireWildcard(n(624)),i=_interopRequireWildcard(n(652)),o=_interopRequireWildcard(n(657)),a=_interopRequireWildcard(n(658)),s=_interopRequireWildcard(n(659)),u=_interopRequireDefault(n(662)),l=_interopRequireDefault(n(182)),c=_interopRequireWildcard(n(663)),f=_interopRequireWildcard(n(668)),p=_interopRequireWildcard(n(669)),d=_interopRequireWildcard(n(102)),h=_interopRequireWildcard(n(670)),g=_interopRequireDefault(n(671));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}t.exports={account:r,annotations:i,athena:o,auth:a,devices:s,derived:u.default,drives:c,errorHandler:l.default,leaderboard:f,raw:p,request:d,vehicles:h,video:g.default}},function(t,e,n){"use strict";t.exports=function invariant(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(80),a=n(59),s=n(142),u=n(373),l=n(864),c=n(143),f=n(79),p=r.default("capnp:pointer");p("load");var d=function(){function Pointer(t,e,n){if(void 0===n&&(n=i.MAX_DEPTH),this._capnp={compositeList:!1,depthLimit:n},this.segment=t,this.byteOffset=e,0===n)throw new Error(o.format(f.PTR_DEPTH_LIMIT_EXCEEDED,this));if(trackPointerAllocation(t.message,this),e<0||e>t.byteLength)throw new Error(o.format(f.PTR_OFFSET_OUT_OF_BOUNDS,e));p("new %s",this)}return Pointer.prototype.toString=function(){return o.format("Pointer_%d@%a,%s,limit:%x",this.segment.id,this.byteOffset,dump(this),this._capnp.depthLimit)},Pointer.adopt=adopt,Pointer.copyFrom=copyFrom,Pointer.disown=disown,Pointer.dump=dump,Pointer.isNull=isNull,Pointer._capnp={displayName:"Pointer"},Pointer}();function adopt(t,e){t._moveTo(e)}function disown(t){return new u.Orphan(t)}function dump(t){return o.bufferToHex(t.segment.buffer.slice(t.byteOffset,t.byteOffset+8))}function getListElementByteLength(t){switch(t){case a.ListElementSize.BIT:return NaN;case a.ListElementSize.BYTE:return 1;case a.ListElementSize.BYTE_2:return 2;case a.ListElementSize.BYTE_4:return 4;case a.ListElementSize.BYTE_8:case a.ListElementSize.POINTER:return 8;case a.ListElementSize.COMPOSITE:return NaN;case a.ListElementSize.VOID:return 0;default:throw new Error(o.format(f.PTR_INVALID_LIST_SIZE,t))}}function add(t,e){return new d(e.segment,e.byteOffset+t,e._capnp.depthLimit)}function copyFrom(t,e){if(e.segment!==t.segment||e.byteOffset!==t.byteOffset){if(erase(e),!isNull(t))switch(getTargetPointerType(t)){case c.PointerType.STRUCT:copyFromStruct(t,e);break;case c.PointerType.LIST:copyFromList(t,e);break;default:throw new Error(o.format(f.PTR_INVALID_POINTER_TYPE,getTargetPointerType(e)))}}else p("ignoring copy operation from identical pointer %s",t)}function erase(t){if(!isNull(t)){var e;switch(getTargetPointerType(t)){case c.PointerType.STRUCT:var n=getTargetStructSize(t);(e=getContent(t)).segment.fillZeroWords(e.byteOffset,n.dataByteLength/8);for(var r=0;r<n.pointerLength;r++)erase(add(8*r,e));break;case c.PointerType.LIST:var i=getTargetListElementSize(t),u=getTargetListLength(t),l=o.padToWord(u*getListElementByteLength(i));if(e=getContent(t),i===a.ListElementSize.POINTER){for(r=0;r<u;r++)erase(new d(e.segment,e.byteOffset+8*r,t._capnp.depthLimit-1));break}if(i===a.ListElementSize.COMPOSITE){var p=add(-8,e),h=getStructSize(p),g=s.getByteLength(h);l=getOffsetWords(p),e.segment.setWordZero(e.byteOffset-8);for(r=0;r<u;r++)for(var y=0;y<h.pointerLength;y++)erase(new d(e.segment,e.byteOffset+r*g+8*y,t._capnp.depthLimit-1))}e.segment.fillZeroWords(e.byteOffset,l);break;case c.PointerType.OTHER:break;default:throw new Error(o.format(f.PTR_INVALID_POINTER_TYPE,getTargetPointerType(t)))}erasePointer(t)}}function erasePointer(t){if(getPointerType(t)===c.PointerType.FAR){var e=followFar(t);isDoubleFar(t)&&e.segment.setWordZero(e.byteOffset+8),e.segment.setWordZero(e.byteOffset)}t.segment.setWordZero(t.byteOffset)}function followFar(t){var e=t.segment.message.getSegment(t.segment.getUint32(t.byteOffset+4)),n=t.segment.getUint32(t.byteOffset)>>>3;return new d(e,8*n,t._capnp.depthLimit-1)}function followFars(t){if(getPointerType(t)===c.PointerType.FAR){var e=followFar(t);return isDoubleFar(t)&&(e.byteOffset+=8),e}return t}function getContent(t,e){var n;if(isDoubleFar(t)){var r=followFar(t);n=new d(t.segment.message.getSegment(getFarSegmentId(r)),8*getOffsetWords(r))}else{var i=followFars(t);n=new d(i.segment,i.byteOffset+8+8*getOffsetWords(i))}return function isCompositeList(t){return getTargetPointerType(t)===c.PointerType.LIST&&getTargetListElementSize(t)===a.ListElementSize.COMPOSITE}(t)&&(n.byteOffset+=8),e||void 0===t._capnp.compositeIndex||(n.byteOffset-=8,n.byteOffset+=8+t._capnp.compositeIndex*s.getByteLength(s.padToWord(getStructSize(n)))),n}function getFarSegmentId(t){return t.segment.getUint32(t.byteOffset+4)}function getListElementSize(t){return t.segment.getUint32(t.byteOffset+4)&i.LIST_SIZE_MASK}function getListLength(t){return t.segment.getUint32(t.byteOffset+4)>>>3}function getOffsetWords(t){var e=t.segment.getInt32(t.byteOffset);return 2&e?e>>3:e>>2}function getPointerType(t){return t.segment.getUint32(t.byteOffset)&i.POINTER_TYPE_MASK}function getStructDataWords(t){return t.segment.getUint16(t.byteOffset+4)}function getStructPointerLength(t){return t.segment.getUint16(t.byteOffset+6)}function getStructSize(t){return new s.ObjectSize(8*getStructDataWords(t),getStructPointerLength(t))}function getTargetCompositeListTag(t){var e=getContent(t);return e.byteOffset-=8,e}function getTargetCompositeListSize(t){return getStructSize(getTargetCompositeListTag(t))}function getTargetListElementSize(t){return getListElementSize(followFars(t))}function getTargetListLength(t){var e=followFars(t);return getListElementSize(e)===a.ListElementSize.COMPOSITE?getOffsetWords(getTargetCompositeListTag(t)):getListLength(e)}function getTargetPointerType(t){var e=getPointerType(followFars(t));if(e===c.PointerType.FAR)throw new Error(o.format(f.PTR_INVALID_FAR_TARGET,t));return e}function getTargetStructSize(t){return getStructSize(followFars(t))}function initPointer(t,e,n){if(n.segment!==t){if(p("Initializing far pointer %s -> %s.",n,t),!t.hasCapacity(8)){var r=n.segment.allocate(16);return p("GAH! Initializing double-far pointer in %s from %s -> %s.",n,t,r),setFarPointer(!0,r.byteOffset/8,r.segment.id,n),setFarPointer(!1,e/8,t.id,r),r.byteOffset+=8,new l.PointerAllocationResult(r,0)}var i=t.allocate(8);if(i.segment.id!==t.id)throw new Error(f.INVARIANT_UNREACHABLE_CODE);return setFarPointer(!1,i.byteOffset/8,i.segment.id,n),new l.PointerAllocationResult(i,(e-i.byteOffset-8)/8)}return p("Initializing intra-segment pointer %s -> %a.",n,e),new l.PointerAllocationResult(n,(e-n.byteOffset-8)/8)}function isDoubleFar(t){return getPointerType(t)===c.PointerType.FAR&&0!==(t.segment.getUint32(t.byteOffset)&i.POINTER_DOUBLE_FAR_MASK)}function isNull(t){return t.segment.isWordZero(t.byteOffset)}function setFarPointer(t,e,n,r){var i=c.PointerType.FAR,o=t?1:0,a=e,s=n;r.segment.setUint32(r.byteOffset,i|o<<2|a<<3),r.segment.setUint32(r.byteOffset+4,s)}function setListPointer(t,e,n,r,i){var o=c.PointerType.LIST,u=t,l=e,p=n;if(e===a.ListElementSize.COMPOSITE){if(void 0===i)throw new TypeError(f.TYPE_COMPOSITE_SIZE_UNDEFINED);p*=s.getWordLength(i)}r.segment.setUint32(r.byteOffset,o|u<<2),r.segment.setUint32(r.byteOffset+4,l|p<<3)}function setStructPointer(t,e,n){var r=c.PointerType.STRUCT,i=t,o=s.getDataWordLength(e),a=e.pointerLength;n.segment.setUint32(n.byteOffset,r|i<<2),n.segment.setUint16(n.byteOffset+4,o),n.segment.setUint16(n.byteOffset+6,a)}function copyFromList(t,e){if(e._capnp.depthLimit<=0)throw new Error(f.PTR_DEPTH_LIMIT_EXCEEDED);var n,r,i,u=getContent(t),l=getTargetListElementSize(t),c=getTargetListLength(t);if(l===a.ListElementSize.POINTER){i=e.segment.allocate(c<<3);for(var p=0;p<c;p++){copyFrom(new d(u.segment,u.byteOffset+(p<<3),t._capnp.depthLimit-1),new d(i.segment,i.byteOffset+(p<<3),e._capnp.depthLimit-1))}}else if(l===a.ListElementSize.COMPOSITE){if(n=s.padToWord(getTargetCompositeListSize(t)),r=s.getByteLength(n),(i=e.segment.allocate(s.getByteLength(n)*c+8)).segment.copyWord(i.byteOffset,u.segment,u.byteOffset-8),n.dataByteLength>0){var h=s.getWordLength(n)*c;i.segment.copyWords(i.byteOffset+8,u.segment,u.byteOffset,h)}for(p=0;p<c;p++)for(var g=0;g<n.pointerLength;g++){var y=p*r+n.dataByteLength+(g<<3);copyFrom(new d(u.segment,u.byteOffset+y,t._capnp.depthLimit-1),new d(i.segment,i.byteOffset+y+8,e._capnp.depthLimit-1))}}else{var m=o.padToWord(l===a.ListElementSize.BIT?c+7>>>3:getListElementByteLength(l)*c);h=m>>>3;(i=e.segment.allocate(m)).segment.copyWords(i.byteOffset,u.segment,u.byteOffset,h)}var v=initPointer(i.segment,i.byteOffset,e);setListPointer(v.offsetWords,l,c,v.pointer,n)}function copyFromStruct(t,e){if(e._capnp.depthLimit<=0)throw new Error(f.PTR_DEPTH_LIMIT_EXCEEDED);var n=getContent(t),r=getTargetStructSize(t),i=s.getDataWordLength(r),o=e.segment.allocate(s.getByteLength(r));o.segment.copyWords(o.byteOffset,n.segment,n.byteOffset,i);for(var a=0;a<r.pointerLength;a++){var u=r.dataByteLength+8*a;copyFrom(new d(n.segment,n.byteOffset+u,t._capnp.depthLimit-1),new d(o.segment,o.byteOffset+u,e._capnp.depthLimit-1))}if(!e._capnp.compositeList){var l=initPointer(o.segment,o.byteOffset,e);setStructPointer(l.offsetWords,r,l.pointer)}}function trackPointerAllocation(t,e){if(t._capnp.traversalLimit-=8,t._capnp.traversalLimit<=0)throw new Error(o.format(f.PTR_TRAVERSAL_LIMIT_EXCEEDED,e))}e.Pointer=d,e.adopt=adopt,e.disown=disown,e.dump=dump,e.getListByteLength=function getListByteLength(t,e,n){switch(t){case a.ListElementSize.BIT:return o.padToWord(e+7>>>3);case a.ListElementSize.BYTE:case a.ListElementSize.BYTE_2:case a.ListElementSize.BYTE_4:case a.ListElementSize.BYTE_8:case a.ListElementSize.POINTER:case a.ListElementSize.VOID:return o.padToWord(getListElementByteLength(t)*e);case a.ListElementSize.COMPOSITE:if(void 0===n)throw new Error(o.format(f.PTR_INVALID_LIST_SIZE,NaN));return e*o.padToWord(s.getByteLength(n));default:throw new Error(f.PTR_INVALID_LIST_SIZE)}},e.getListElementByteLength=getListElementByteLength,e.add=add,e.copyFrom=copyFrom,e.erase=erase,e.erasePointer=erasePointer,e.followFar=followFar,e.followFars=followFars,e.getCapabilityId=function getCapabilityId(t){return t.segment.getUint32(t.byteOffset+4)},e.getContent=getContent,e.getFarSegmentId=getFarSegmentId,e.getListElementSize=getListElementSize,e.getListLength=getListLength,e.getOffsetWords=getOffsetWords,e.getPointerType=getPointerType,e.getStructDataWords=getStructDataWords,e.getStructPointerLength=getStructPointerLength,e.getStructSize=getStructSize,e.getTargetCompositeListTag=getTargetCompositeListTag,e.getTargetCompositeListSize=getTargetCompositeListSize,e.getTargetListElementSize=getTargetListElementSize,e.getTargetListLength=getTargetListLength,e.getTargetPointerType=getTargetPointerType,e.getTargetStructSize=getTargetStructSize,e.initPointer=initPointer,e.isDoubleFar=isDoubleFar,e.isNull=isNull,e.relocateTo=function relocateTo(t,e){var n=followFars(e),r=3&n.segment.getUint8(n.byteOffset),i=n.segment.getUint32(n.byteOffset+4);erase(t);var o=initPointer(n.segment,n.byteOffset+8+8*getOffsetWords(n),t);o.pointer.segment.setUint32(o.pointer.byteOffset,r|o.offsetWords<<2),o.pointer.segment.setUint32(o.pointer.byteOffset+4,i),erasePointer(e)},e.setFarPointer=setFarPointer,e.setInterfacePointer=function setInterfacePointer(t,e){e.segment.setUint32(e.byteOffset,c.PointerType.OTHER),e.segment.setUint32(e.byteOffset+4,t)},e.setListPointer=setListPointer,e.setStructPointer=setStructPointer,e.validate=function validate(t,e,n){if(!isNull(e)){var r=followFars(e);if((r.segment.getUint32(r.byteOffset)&i.POINTER_TYPE_MASK)!==t)throw new Error(o.format(f.PTR_WRONG_POINTER_TYPE,e,t));if(void 0!==n)if((r.segment.getUint32(r.byteOffset+4)&i.LIST_SIZE_MASK)!==n)throw new Error(o.format(f.PTR_WRONG_LIST_TYPE,e,a.ListElementSize[n]))}},e.copyFromList=copyFromList,e.copyFromStruct=copyFromStruct,e.trackPointerAllocation=trackPointerAllocation},function(t,e){function _getRequireWildcardCache(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}t.exports=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}return n.default=t,e&&e.set(t,n),n}},function(t,e,n){"use strict";!function checkDCE(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(t){console.error(t)}}}(),t.exports=n(549)},function(t,e){var n=t.exports={version:"2.5.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return __extends})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return __rest})),n.d(e,"__decorate",(function(){return __decorate})),n.d(e,"__param",(function(){return __param})),n.d(e,"__metadata",(function(){return __metadata})),n.d(e,"__awaiter",(function(){return __awaiter})),n.d(e,"__generator",(function(){return __generator})),n.d(e,"__exportStar",(function(){return __exportStar})),n.d(e,"__values",(function(){return __values})),n.d(e,"__read",(function(){return __read})),n.d(e,"__spread",(function(){return __spread})),n.d(e,"__spreadArrays",(function(){return __spreadArrays})),n.d(e,"__await",(function(){return __await})),n.d(e,"__asyncGenerator",(function(){return __asyncGenerator})),n.d(e,"__asyncDelegator",(function(){return __asyncDelegator})),n.d(e,"__asyncValues",(function(){return __asyncValues})),n.d(e,"__makeTemplateObject",(function(){return __makeTemplateObject})),n.d(e,"__importStar",(function(){return __importStar})),n.d(e,"__importDefault",(function(){return __importDefault}));var r=function extendStatics(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function __extends(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var i=function __assign(){return(i=Object.assign||function __assign(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function __rest(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function __decorate(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function __param(t,e){return function(n,r){e(n,r,t)}}function __metadata(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(t){try{step(r.next(t))}catch(e){o(e)}}function rejected(t){try{step(r.throw(t))}catch(e){o(e)}}function step(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))}function __generator(t,e){var n,r,i,o,a={label:0,sent:function sent(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function __exportStar(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function __values(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function next(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function __read(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r;function verb(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||resume(t,e)}))})}function resume(t,e){try{!function step(t){t.value instanceof __await?Promise.resolve(t.value.v).then(fulfill,reject):settle(o[0][2],t)}(i[t](e))}catch(n){settle(o[0][3],n)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,e){t(e),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(t){var e,n;return e={},verb("next"),verb("throw",(function(t){throw t})),verb("return"),e[Symbol.iterator]=function(){return this},e;function verb(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:__await(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=__values(t),e={},verb("next"),verb("throw"),verb("return"),e[Symbol.asyncIterator]=function(){return this},e);function verb(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function settle(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.VOID=0]="VOID",t[t.BIT=1]="BIT",t[t.BYTE=2]="BYTE",t[t.BYTE_2=3]="BYTE_2",t[t.BYTE_4=4]="BYTE_4",t[t.BYTE_8=5]="BYTE_8",t[t.POINTER=6]="POINTER",t[t.COMPOSITE=7]="COMPOSITE"}(e.ListElementSize||(e.ListElementSize={})),e.ListElementOffset=[0,.125,1,2,4,8,8,NaN]},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(833))},function(t,e,n){var r;!function(i){"use strict";var o={},a=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,c=function noop(){};function shorten(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function monthUpdate(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function pad(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],d=shorten(p,3),h=shorten(f,3);o.i18n={dayNamesShort:h,dayNames:f,monthNamesShort:d,monthNames:p,amPm:["am","pm"],DoFn:function DoFn(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10)*t%10]}};var g={D:function D(t){return t.getDate()},DD:function DD(t){return pad(t.getDate())},Do:function Do(t,e){return e.DoFn(t.getDate())},d:function d(t){return t.getDay()},dd:function dd(t){return pad(t.getDay())},ddd:function ddd(t,e){return e.dayNamesShort[t.getDay()]},dddd:function dddd(t,e){return e.dayNames[t.getDay()]},M:function M(t){return t.getMonth()+1},MM:function MM(t){return pad(t.getMonth()+1)},MMM:function MMM(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function MMMM(t,e){return e.monthNames[t.getMonth()]},YY:function YY(t){return String(t.getFullYear()).substr(2)},YYYY:function YYYY(t){return pad(t.getFullYear(),4)},h:function h(t){return t.getHours()%12||12},hh:function hh(t){return pad(t.getHours()%12||12)},H:function H(t){return t.getHours()},HH:function HH(t){return pad(t.getHours())},m:function m(t){return t.getMinutes()},mm:function mm(t){return pad(t.getMinutes())},s:function s(t){return t.getSeconds()},ss:function ss(t){return pad(t.getSeconds())},S:function S(t){return Math.round(t.getMilliseconds()/100)},SS:function SS(t){return pad(Math.round(t.getMilliseconds()/10),2)},SSS:function SSS(t){return pad(t.getMilliseconds(),3)},a:function a(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function A(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function ZZ(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+pad(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},y={D:[s,function(t,e){t.day=e}],Do:[new RegExp(s.source+u.source),function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],YY:[s,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[s,c],ddd:[u,c],MMM:[u,monthUpdate("monthNamesShort")],MMMM:[u,monthUpdate("monthNames")],a:[u,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};y.dd=y.d,y.dddd=y.ddd,y.DD=y.D,y.mm=y.m,y.hh=y.H=y.HH=y.h,y.MM=y.M,y.ss=y.s,y.A=y.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(t,e,n){var r=n||o.i18n;if("number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=o.masks[e]||e||o.masks.default;var i=[];return(e=(e=e.replace(l,(function(t,e){return i.push(e),"??"}))).replace(a,(function(e){return e in g?g[e](t,r):e.slice(1,e.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(t,e,n){var r=n||o.i18n;if("string"!==typeof e)throw new Error("Invalid format in fecha.parse");if(e=o.masks[e]||e,t.length>1e3)return!1;var i=!0,s={};if(e.replace(a,(function(e){if(y[e]){var n=y[e],o=t.search(n[0]);~o?t.replace(n[0],(function(e){return n[1](s,e,r),t=t.substr(o+e.length),e})):i=!1}return y[e]?"":e.slice(1,e.length-1)})),!i)return!1;var u,l=new Date;return!0===s.isPm&&null!=s.hour&&12!==+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12===+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(749))},function(t,e,n){"use strict";var r=n(45),i=n(46),o=n(49),a=n(47),s=n(269),u=n(50);Object.defineProperty(e,"__esModule",{value:!0});var l=n(76),c=n(76),f=n(886),p=n(887);e._capnpFileId="f3b1f17e25a4285b";var d=function(t){function Map_Entry(){return r(this,Map_Entry),o(this,a(Map_Entry).apply(this,arguments))}return u(Map_Entry,t),i(Map_Entry,[{key:"adoptKey",value:function adoptKey(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownKey",value:function disownKey(){return c.Struct.disown(this.getKey())}},{key:"getKey",value:function getKey(){return c.Struct.getPointer(0,this)}},{key:"hasKey",value:function hasKey(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"setKey",value:function setKey(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptValue",value:function adoptValue(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownValue",value:function disownValue(){return c.Struct.disown(this.getValue())}},{key:"getValue",value:function getValue(){return c.Struct.getPointer(1,this)}},{key:"hasValue",value:function hasValue(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"setValue",value:function setValue(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"Map_Entry_"+s(a(Map_Entry.prototype),"toString",this).call(this)}}]),Map_Entry}(c.Struct);d._capnp={displayName:"Entry",id:"a5dfdd084a6eea0e",size:new c.ObjectSize(0,2)},e.Map_Entry=d;var h,g=function(t){function Map(){return r(this,Map),o(this,a(Map).apply(this,arguments))}return u(Map,t),i(Map,[{key:"adoptEntries",value:function adoptEntries(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEntries",value:function disownEntries(){return c.Struct.disown(this.getEntries())}},{key:"getEntries",value:function getEntries(){return c.Struct.getList(0,Map._Entries,this)}},{key:"hasEntries",value:function hasEntries(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEntries",value:function initEntries(t){return c.Struct.initList(0,Map._Entries,t,this)}},{key:"setEntries",value:function setEntries(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"Map_"+s(a(Map.prototype),"toString",this).call(this)}}]),Map}(c.Struct);g.Entry=d,g._capnp={displayName:"Map",id:"f8b13ce2183eb696",size:new c.ObjectSize(0,1)},e.Map=g,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NEO=1]="NEO",t[t.CHFFR_ANDROID=2]="CHFFR_ANDROID",t[t.CHFFR_IOS=3]="CHFFR_IOS",t[t.TICI=4]="TICI",t[t.PC=5]="PC"}(h=e.InitData_DeviceType||(e.InitData_DeviceType={}));var y=function(t){function InitData_PandaInfo(){return r(this,InitData_PandaInfo),o(this,a(InitData_PandaInfo).apply(this,arguments))}return u(InitData_PandaInfo,t),i(InitData_PandaInfo,[{key:"getHasPanda",value:function getHasPanda(){return c.Struct.getBit(0,this)}},{key:"setHasPanda",value:function setHasPanda(t){c.Struct.setBit(0,t,this)}},{key:"getDongleId",value:function getDongleId(){return c.Struct.getText(0,this)}},{key:"setDongleId",value:function setDongleId(t){c.Struct.setText(0,t,this)}},{key:"getStVersion",value:function getStVersion(){return c.Struct.getText(1,this)}},{key:"setStVersion",value:function setStVersion(t){c.Struct.setText(1,t,this)}},{key:"getEspVersion",value:function getEspVersion(){return c.Struct.getText(2,this)}},{key:"setEspVersion",value:function setEspVersion(t){c.Struct.setText(2,t,this)}},{key:"toString",value:function toString(){return"InitData_PandaInfo_"+s(a(InitData_PandaInfo.prototype),"toString",this).call(this)}}]),InitData_PandaInfo}(c.Struct);y._capnp={displayName:"PandaInfo",id:"e673e8725cdff0ad",size:new c.ObjectSize(8,3)},e.InitData_PandaInfo=y;var m=function(t){function InitData_AndroidBuildInfo(){return r(this,InitData_AndroidBuildInfo),o(this,a(InitData_AndroidBuildInfo).apply(this,arguments))}return u(InitData_AndroidBuildInfo,t),i(InitData_AndroidBuildInfo,[{key:"getBoard",value:function getBoard(){return c.Struct.getText(0,this)}},{key:"setBoard",value:function setBoard(t){c.Struct.setText(0,t,this)}},{key:"getBootloader",value:function getBootloader(){return c.Struct.getText(1,this)}},{key:"setBootloader",value:function setBootloader(t){c.Struct.setText(1,t,this)}},{key:"getBrand",value:function getBrand(){return c.Struct.getText(2,this)}},{key:"setBrand",value:function setBrand(t){c.Struct.setText(2,t,this)}},{key:"getDevice",value:function getDevice(){return c.Struct.getText(3,this)}},{key:"setDevice",value:function setDevice(t){c.Struct.setText(3,t,this)}},{key:"getDisplay",value:function getDisplay(){return c.Struct.getText(4,this)}},{key:"setDisplay",value:function setDisplay(t){c.Struct.setText(4,t,this)}},{key:"getFingerprint",value:function getFingerprint(){return c.Struct.getText(5,this)}},{key:"setFingerprint",value:function setFingerprint(t){c.Struct.setText(5,t,this)}},{key:"getHardware",value:function getHardware(){return c.Struct.getText(6,this)}},{key:"setHardware",value:function setHardware(t){c.Struct.setText(6,t,this)}},{key:"getHost",value:function getHost(){return c.Struct.getText(7,this)}},{key:"setHost",value:function setHost(t){c.Struct.setText(7,t,this)}},{key:"getId",value:function getId(){return c.Struct.getText(8,this)}},{key:"setId",value:function setId(t){c.Struct.setText(8,t,this)}},{key:"getManufacturer",value:function getManufacturer(){return c.Struct.getText(9,this)}},{key:"setManufacturer",value:function setManufacturer(t){c.Struct.setText(9,t,this)}},{key:"getModel",value:function getModel(){return c.Struct.getText(10,this)}},{key:"setModel",value:function setModel(t){c.Struct.setText(10,t,this)}},{key:"getProduct",value:function getProduct(){return c.Struct.getText(11,this)}},{key:"setProduct",value:function setProduct(t){c.Struct.setText(11,t,this)}},{key:"getRadioVersion",value:function getRadioVersion(){return c.Struct.getText(12,this)}},{key:"setRadioVersion",value:function setRadioVersion(t){c.Struct.setText(12,t,this)}},{key:"getSerial",value:function getSerial(){return c.Struct.getText(13,this)}},{key:"setSerial",value:function setSerial(t){c.Struct.setText(13,t,this)}},{key:"adoptSupportedAbis",value:function adoptSupportedAbis(t){c.Struct.adopt(t,c.Struct.getPointer(14,this))}},{key:"disownSupportedAbis",value:function disownSupportedAbis(){return c.Struct.disown(this.getSupportedAbis())}},{key:"getSupportedAbis",value:function getSupportedAbis(){return c.Struct.getList(14,l.TextList,this)}},{key:"hasSupportedAbis",value:function hasSupportedAbis(){return!c.Struct.isNull(c.Struct.getPointer(14,this))}},{key:"initSupportedAbis",value:function initSupportedAbis(t){return c.Struct.initList(14,l.TextList,t,this)}},{key:"setSupportedAbis",value:function setSupportedAbis(t){c.Struct.copyFrom(t,c.Struct.getPointer(14,this))}},{key:"getTags",value:function getTags(){return c.Struct.getText(15,this)}},{key:"setTags",value:function setTags(t){c.Struct.setText(15,t,this)}},{key:"getTime",value:function getTime(){return c.Struct.getInt64(0,this)}},{key:"setTime",value:function setTime(t){c.Struct.setInt64(0,t,this)}},{key:"getType",value:function getType(){return c.Struct.getText(16,this)}},{key:"setType",value:function setType(t){c.Struct.setText(16,t,this)}},{key:"getUser",value:function getUser(){return c.Struct.getText(17,this)}},{key:"setUser",value:function setUser(t){c.Struct.setText(17,t,this)}},{key:"getVersionCodename",value:function getVersionCodename(){return c.Struct.getText(18,this)}},{key:"setVersionCodename",value:function setVersionCodename(t){c.Struct.setText(18,t,this)}},{key:"getVersionRelease",value:function getVersionRelease(){return c.Struct.getText(19,this)}},{key:"setVersionRelease",value:function setVersionRelease(t){c.Struct.setText(19,t,this)}},{key:"getVersionSdk",value:function getVersionSdk(){return c.Struct.getInt32(8,this)}},{key:"setVersionSdk",value:function setVersionSdk(t){c.Struct.setInt32(8,t,this)}},{key:"getVersionSecurityPatch",value:function getVersionSecurityPatch(){return c.Struct.getText(20,this)}},{key:"setVersionSecurityPatch",value:function setVersionSecurityPatch(t){c.Struct.setText(20,t,this)}},{key:"toString",value:function toString(){return"InitData_AndroidBuildInfo_"+s(a(InitData_AndroidBuildInfo.prototype),"toString",this).call(this)}}]),InitData_AndroidBuildInfo}(c.Struct);m._capnp={displayName:"AndroidBuildInfo",id:"fe2919d5c21f426c",size:new c.ObjectSize(16,21)},e.InitData_AndroidBuildInfo=m;var v=function(t){function InitData_AndroidSensor(){return r(this,InitData_AndroidSensor),o(this,a(InitData_AndroidSensor).apply(this,arguments))}return u(InitData_AndroidSensor,t),i(InitData_AndroidSensor,[{key:"getId",value:function getId(){return c.Struct.getInt32(0,this)}},{key:"setId",value:function setId(t){c.Struct.setInt32(0,t,this)}},{key:"getName",value:function getName(){return c.Struct.getText(0,this)}},{key:"setName",value:function setName(t){c.Struct.setText(0,t,this)}},{key:"getVendor",value:function getVendor(){return c.Struct.getText(1,this)}},{key:"setVendor",value:function setVendor(t){c.Struct.setText(1,t,this)}},{key:"getVersion",value:function getVersion(){return c.Struct.getInt32(4,this)}},{key:"setVersion",value:function setVersion(t){c.Struct.setInt32(4,t,this)}},{key:"getHandle",value:function getHandle(){return c.Struct.getInt32(8,this)}},{key:"setHandle",value:function setHandle(t){c.Struct.setInt32(8,t,this)}},{key:"getType",value:function getType(){return c.Struct.getInt32(12,this)}},{key:"setType",value:function setType(t){c.Struct.setInt32(12,t,this)}},{key:"getMaxRange",value:function getMaxRange(){return c.Struct.getFloat32(16,this)}},{key:"setMaxRange",value:function setMaxRange(t){c.Struct.setFloat32(16,t,this)}},{key:"getResolution",value:function getResolution(){return c.Struct.getFloat32(20,this)}},{key:"setResolution",value:function setResolution(t){c.Struct.setFloat32(20,t,this)}},{key:"getPower",value:function getPower(){return c.Struct.getFloat32(24,this)}},{key:"setPower",value:function setPower(t){c.Struct.setFloat32(24,t,this)}},{key:"getMinDelay",value:function getMinDelay(){return c.Struct.getInt32(28,this)}},{key:"setMinDelay",value:function setMinDelay(t){c.Struct.setInt32(28,t,this)}},{key:"getFifoReservedEventCount",value:function getFifoReservedEventCount(){return c.Struct.getUint32(32,this)}},{key:"setFifoReservedEventCount",value:function setFifoReservedEventCount(t){c.Struct.setUint32(32,t,this)}},{key:"getFifoMaxEventCount",value:function getFifoMaxEventCount(){return c.Struct.getUint32(36,this)}},{key:"setFifoMaxEventCount",value:function setFifoMaxEventCount(t){c.Struct.setUint32(36,t,this)}},{key:"getStringType",value:function getStringType(){return c.Struct.getText(2,this)}},{key:"setStringType",value:function setStringType(t){c.Struct.setText(2,t,this)}},{key:"getMaxDelay",value:function getMaxDelay(){return c.Struct.getInt32(40,this)}},{key:"setMaxDelay",value:function setMaxDelay(t){c.Struct.setInt32(40,t,this)}},{key:"toString",value:function toString(){return"InitData_AndroidSensor_"+s(a(InitData_AndroidSensor.prototype),"toString",this).call(this)}}]),InitData_AndroidSensor}(c.Struct);v._capnp={displayName:"AndroidSensor",id:"9b513b93a887dbcd",size:new c.ObjectSize(48,3)},e.InitData_AndroidSensor=v;var _=function(t){function InitData_ChffrAndroidExtra(){return r(this,InitData_ChffrAndroidExtra),o(this,a(InitData_ChffrAndroidExtra).apply(this,arguments))}return u(InitData_ChffrAndroidExtra,t),i(InitData_ChffrAndroidExtra,[{key:"adoptAllCameraCharacteristics",value:function adoptAllCameraCharacteristics(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownAllCameraCharacteristics",value:function disownAllCameraCharacteristics(){return c.Struct.disown(this.getAllCameraCharacteristics())}},{key:"getAllCameraCharacteristics",value:function getAllCameraCharacteristics(){return c.Struct.getStruct(0,g,this)}},{key:"hasAllCameraCharacteristics",value:function hasAllCameraCharacteristics(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initAllCameraCharacteristics",value:function initAllCameraCharacteristics(){return c.Struct.initStructAt(0,g,this)}},{key:"setAllCameraCharacteristics",value:function setAllCameraCharacteristics(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"InitData_ChffrAndroidExtra_"+s(a(InitData_ChffrAndroidExtra.prototype),"toString",this).call(this)}}]),InitData_ChffrAndroidExtra}(c.Struct);_._capnp={displayName:"ChffrAndroidExtra",id:"9cfb5d53a4f615a5",size:new c.ObjectSize(0,1)},e.InitData_ChffrAndroidExtra=_;var b=function(t){function InitData_IosBuildInfo(){return r(this,InitData_IosBuildInfo),o(this,a(InitData_IosBuildInfo).apply(this,arguments))}return u(InitData_IosBuildInfo,t),i(InitData_IosBuildInfo,[{key:"getAppVersion",value:function getAppVersion(){return c.Struct.getText(0,this)}},{key:"setAppVersion",value:function setAppVersion(t){c.Struct.setText(0,t,this)}},{key:"getAppBuild",value:function getAppBuild(){return c.Struct.getUint32(0,this)}},{key:"setAppBuild",value:function setAppBuild(t){c.Struct.setUint32(0,t,this)}},{key:"getOsVersion",value:function getOsVersion(){return c.Struct.getText(1,this)}},{key:"setOsVersion",value:function setOsVersion(t){c.Struct.setText(1,t,this)}},{key:"getDeviceModel",value:function getDeviceModel(){return c.Struct.getText(2,this)}},{key:"setDeviceModel",value:function setDeviceModel(t){c.Struct.setText(2,t,this)}},{key:"toString",value:function toString(){return"InitData_IosBuildInfo_"+s(a(InitData_IosBuildInfo.prototype),"toString",this).call(this)}}]),InitData_IosBuildInfo}(c.Struct);b._capnp={displayName:"IosBuildInfo",id:"d97e3b28239f5580",size:new c.ObjectSize(8,3)},e.InitData_IosBuildInfo=b;var S,E=function(t){function InitData(){return r(this,InitData),o(this,a(InitData).apply(this,arguments))}return u(InitData,t),i(InitData,[{key:"adoptKernelArgs",value:function adoptKernelArgs(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownKernelArgs",value:function disownKernelArgs(){return c.Struct.disown(this.getKernelArgs())}},{key:"getKernelArgs",value:function getKernelArgs(){return c.Struct.getList(0,l.TextList,this)}},{key:"hasKernelArgs",value:function hasKernelArgs(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initKernelArgs",value:function initKernelArgs(t){return c.Struct.initList(0,l.TextList,t,this)}},{key:"setKernelArgs",value:function setKernelArgs(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getKernelVersion",value:function getKernelVersion(){return c.Struct.getText(12,this)}},{key:"setKernelVersion",value:function setKernelVersion(t){c.Struct.setText(12,t,this)}},{key:"getGctx",value:function getGctx(){return c.Struct.getText(1,this)}},{key:"setGctx",value:function setGctx(t){c.Struct.setText(1,t,this)}},{key:"getDongleId",value:function getDongleId(){return c.Struct.getText(2,this)}},{key:"setDongleId",value:function setDongleId(t){c.Struct.setText(2,t,this)}},{key:"getDeviceType",value:function getDeviceType(){return c.Struct.getUint16(0,this)}},{key:"setDeviceType",value:function setDeviceType(t){c.Struct.setUint16(0,t,this)}},{key:"getVersion",value:function getVersion(){return c.Struct.getText(3,this)}},{key:"setVersion",value:function setVersion(t){c.Struct.setText(3,t,this)}},{key:"getGitCommit",value:function getGitCommit(){return c.Struct.getText(8,this)}},{key:"setGitCommit",value:function setGitCommit(t){c.Struct.setText(8,t,this)}},{key:"getGitBranch",value:function getGitBranch(){return c.Struct.getText(9,this)}},{key:"setGitBranch",value:function setGitBranch(t){c.Struct.setText(9,t,this)}},{key:"getGitRemote",value:function getGitRemote(){return c.Struct.getText(10,this)}},{key:"setGitRemote",value:function setGitRemote(t){c.Struct.setText(10,t,this)}},{key:"adoptAndroidProperties",value:function adoptAndroidProperties(t){c.Struct.adopt(t,c.Struct.getPointer(13,this))}},{key:"disownAndroidProperties",value:function disownAndroidProperties(){return c.Struct.disown(this.getAndroidProperties())}},{key:"getAndroidProperties",value:function getAndroidProperties(){return c.Struct.getStruct(13,g,this)}},{key:"hasAndroidProperties",value:function hasAndroidProperties(){return!c.Struct.isNull(c.Struct.getPointer(13,this))}},{key:"initAndroidProperties",value:function initAndroidProperties(){return c.Struct.initStructAt(13,g,this)}},{key:"setAndroidProperties",value:function setAndroidProperties(t){c.Struct.copyFrom(t,c.Struct.getPointer(13,this))}},{key:"adoptPandaInfo",value:function adoptPandaInfo(t){c.Struct.adopt(t,c.Struct.getPointer(7,this))}},{key:"disownPandaInfo",value:function disownPandaInfo(){return c.Struct.disown(this.getPandaInfo())}},{key:"getPandaInfo",value:function getPandaInfo(){return c.Struct.getStruct(7,y,this)}},{key:"hasPandaInfo",value:function hasPandaInfo(){return!c.Struct.isNull(c.Struct.getPointer(7,this))}},{key:"initPandaInfo",value:function initPandaInfo(){return c.Struct.initStructAt(7,y,this)}},{key:"setPandaInfo",value:function setPandaInfo(t){c.Struct.copyFrom(t,c.Struct.getPointer(7,this))}},{key:"getDirty",value:function getDirty(){return c.Struct.getBit(16,this)}},{key:"setDirty",value:function setDirty(t){c.Struct.setBit(16,t,this)}},{key:"getPassive",value:function getPassive(){return c.Struct.getBit(17,this)}},{key:"setPassive",value:function setPassive(t){c.Struct.setBit(17,t,this)}},{key:"adoptParams",value:function adoptParams(t){c.Struct.adopt(t,c.Struct.getPointer(14,this))}},{key:"disownParams",value:function disownParams(){return c.Struct.disown(this.getParams())}},{key:"getParams",value:function getParams(){return c.Struct.getStruct(14,g,this)}},{key:"hasParams",value:function hasParams(){return!c.Struct.isNull(c.Struct.getPointer(14,this))}},{key:"initParams",value:function initParams(){return c.Struct.initStructAt(14,g,this)}},{key:"setParams",value:function setParams(t){c.Struct.copyFrom(t,c.Struct.getPointer(14,this))}},{key:"adoptAndroidBuildInfo",value:function adoptAndroidBuildInfo(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownAndroidBuildInfo",value:function disownAndroidBuildInfo(){return c.Struct.disown(this.getAndroidBuildInfo())}},{key:"getAndroidBuildInfo",value:function getAndroidBuildInfo(){return c.Struct.getStruct(4,m,this)}},{key:"hasAndroidBuildInfo",value:function hasAndroidBuildInfo(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initAndroidBuildInfo",value:function initAndroidBuildInfo(){return c.Struct.initStructAt(4,m,this)}},{key:"setAndroidBuildInfo",value:function setAndroidBuildInfo(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptAndroidSensorsDEPRECATED",value:function adoptAndroidSensorsDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownAndroidSensorsDEPRECATED",value:function disownAndroidSensorsDEPRECATED(){return c.Struct.disown(this.getAndroidSensorsDEPRECATED())}},{key:"getAndroidSensorsDEPRECATED",value:function getAndroidSensorsDEPRECATED(){return c.Struct.getList(5,InitData._AndroidSensorsDEPRECATED,this)}},{key:"hasAndroidSensorsDEPRECATED",value:function hasAndroidSensorsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initAndroidSensorsDEPRECATED",value:function initAndroidSensorsDEPRECATED(t){return c.Struct.initList(5,InitData._AndroidSensorsDEPRECATED,t,this)}},{key:"setAndroidSensorsDEPRECATED",value:function setAndroidSensorsDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptChffrAndroidExtraDEPRECATED",value:function adoptChffrAndroidExtraDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownChffrAndroidExtraDEPRECATED",value:function disownChffrAndroidExtraDEPRECATED(){return c.Struct.disown(this.getChffrAndroidExtraDEPRECATED())}},{key:"getChffrAndroidExtraDEPRECATED",value:function getChffrAndroidExtraDEPRECATED(){return c.Struct.getStruct(6,_,this)}},{key:"hasChffrAndroidExtraDEPRECATED",value:function hasChffrAndroidExtraDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initChffrAndroidExtraDEPRECATED",value:function initChffrAndroidExtraDEPRECATED(){return c.Struct.initStructAt(6,_,this)}},{key:"setChffrAndroidExtraDEPRECATED",value:function setChffrAndroidExtraDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"adoptIosBuildInfoDEPRECATED",value:function adoptIosBuildInfoDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(11,this))}},{key:"disownIosBuildInfoDEPRECATED",value:function disownIosBuildInfoDEPRECATED(){return c.Struct.disown(this.getIosBuildInfoDEPRECATED())}},{key:"getIosBuildInfoDEPRECATED",value:function getIosBuildInfoDEPRECATED(){return c.Struct.getStruct(11,b,this)}},{key:"hasIosBuildInfoDEPRECATED",value:function hasIosBuildInfoDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(11,this))}},{key:"initIosBuildInfoDEPRECATED",value:function initIosBuildInfoDEPRECATED(){return c.Struct.initStructAt(11,b,this)}},{key:"setIosBuildInfoDEPRECATED",value:function setIosBuildInfoDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(11,this))}},{key:"toString",value:function toString(){return"InitData_"+s(a(InitData.prototype),"toString",this).call(this)}}]),InitData}(c.Struct);E.DeviceType=h,E.PandaInfo=y,E.AndroidBuildInfo=m,E.AndroidSensor=v,E.ChffrAndroidExtra=_,E.IosBuildInfo=b,E._capnp={displayName:"InitData",id:"e71008caeb3fb65c",size:new c.ObjectSize(8,15)},e.InitData=E,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NEO=1]="NEO",t[t.CHFFR_ANDROID=2]="CHFFR_ANDROID",t[t.FRONT=3]="FRONT"}(S=e.FrameData_FrameType||(e.FrameData_FrameType={}));var x=function(t){function FrameData_AndroidCaptureResult(){return r(this,FrameData_AndroidCaptureResult),o(this,a(FrameData_AndroidCaptureResult).apply(this,arguments))}return u(FrameData_AndroidCaptureResult,t),i(FrameData_AndroidCaptureResult,[{key:"getSensitivity",value:function getSensitivity(){return c.Struct.getInt32(0,this)}},{key:"setSensitivity",value:function setSensitivity(t){c.Struct.setInt32(0,t,this)}},{key:"getFrameDuration",value:function getFrameDuration(){return c.Struct.getInt64(8,this)}},{key:"setFrameDuration",value:function setFrameDuration(t){c.Struct.setInt64(8,t,this)}},{key:"getExposureTime",value:function getExposureTime(){return c.Struct.getInt64(16,this)}},{key:"setExposureTime",value:function setExposureTime(t){c.Struct.setInt64(16,t,this)}},{key:"getRollingShutterSkew",value:function getRollingShutterSkew(){return c.Struct.getUint64(24,this)}},{key:"setRollingShutterSkew",value:function setRollingShutterSkew(t){c.Struct.setUint64(24,t,this)}},{key:"adoptColorCorrectionTransform",value:function adoptColorCorrectionTransform(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownColorCorrectionTransform",value:function disownColorCorrectionTransform(){return c.Struct.disown(this.getColorCorrectionTransform())}},{key:"getColorCorrectionTransform",value:function getColorCorrectionTransform(){return c.Struct.getList(0,l.Int32List,this)}},{key:"hasColorCorrectionTransform",value:function hasColorCorrectionTransform(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initColorCorrectionTransform",value:function initColorCorrectionTransform(t){return c.Struct.initList(0,l.Int32List,t,this)}},{key:"setColorCorrectionTransform",value:function setColorCorrectionTransform(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptColorCorrectionGains",value:function adoptColorCorrectionGains(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownColorCorrectionGains",value:function disownColorCorrectionGains(){return c.Struct.disown(this.getColorCorrectionGains())}},{key:"getColorCorrectionGains",value:function getColorCorrectionGains(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasColorCorrectionGains",value:function hasColorCorrectionGains(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initColorCorrectionGains",value:function initColorCorrectionGains(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setColorCorrectionGains",value:function setColorCorrectionGains(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getDisplayRotation",value:function getDisplayRotation(){return c.Struct.getInt8(4,this)}},{key:"setDisplayRotation",value:function setDisplayRotation(t){c.Struct.setInt8(4,t,this)}},{key:"toString",value:function toString(){return"FrameData_AndroidCaptureResult_"+s(a(FrameData_AndroidCaptureResult.prototype),"toString",this).call(this)}}]),FrameData_AndroidCaptureResult}(c.Struct);x._capnp={displayName:"AndroidCaptureResult",id:"bcc3efbac41d2048",size:new c.ObjectSize(32,2)},e.FrameData_AndroidCaptureResult=x;var w=function(t){function FrameData(){return r(this,FrameData),o(this,a(FrameData).apply(this,arguments))}return u(FrameData,t),i(FrameData,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getEncodeId",value:function getEncodeId(){return c.Struct.getUint32(4,this)}},{key:"setEncodeId",value:function setEncodeId(t){c.Struct.setUint32(4,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(8,t,this)}},{key:"getFrameLength",value:function getFrameLength(){return c.Struct.getInt32(16,this)}},{key:"setFrameLength",value:function setFrameLength(t){c.Struct.setInt32(16,t,this)}},{key:"getIntegLines",value:function getIntegLines(){return c.Struct.getInt32(20,this)}},{key:"setIntegLines",value:function setIntegLines(t){c.Struct.setInt32(20,t,this)}},{key:"getGlobalGain",value:function getGlobalGain(){return c.Struct.getInt32(24,this)}},{key:"setGlobalGain",value:function setGlobalGain(t){c.Struct.setInt32(24,t,this)}},{key:"getLensPos",value:function getLensPos(){return c.Struct.getInt32(40,this)}},{key:"setLensPos",value:function setLensPos(t){c.Struct.setInt32(40,t,this)}},{key:"getLensSag",value:function getLensSag(){return c.Struct.getFloat32(44,this)}},{key:"setLensSag",value:function setLensSag(t){c.Struct.setFloat32(44,t,this)}},{key:"getLensErr",value:function getLensErr(){return c.Struct.getFloat32(48,this)}},{key:"setLensErr",value:function setLensErr(t){c.Struct.setFloat32(48,t,this)}},{key:"getLensTruePos",value:function getLensTruePos(){return c.Struct.getFloat32(52,this)}},{key:"setLensTruePos",value:function setLensTruePos(t){c.Struct.setFloat32(52,t,this)}},{key:"adoptImage",value:function adoptImage(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownImage",value:function disownImage(){return c.Struct.disown(this.getImage())}},{key:"getImage",value:function getImage(){return c.Struct.getData(0,this)}},{key:"hasImage",value:function hasImage(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initImage",value:function initImage(t){return c.Struct.initData(0,t,this)}},{key:"setImage",value:function setImage(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getGainFrac",value:function getGainFrac(){return c.Struct.getFloat32(56,this)}},{key:"setGainFrac",value:function setGainFrac(t){c.Struct.setFloat32(56,t,this)}},{key:"adoptFocusVal",value:function adoptFocusVal(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownFocusVal",value:function disownFocusVal(){return c.Struct.disown(this.getFocusVal())}},{key:"getFocusVal",value:function getFocusVal(){return c.Struct.getList(3,l.Int16List,this)}},{key:"hasFocusVal",value:function hasFocusVal(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initFocusVal",value:function initFocusVal(t){return c.Struct.initList(3,l.Int16List,t,this)}},{key:"setFocusVal",value:function setFocusVal(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptFocusConf",value:function adoptFocusConf(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownFocusConf",value:function disownFocusConf(){return c.Struct.disown(this.getFocusConf())}},{key:"getFocusConf",value:function getFocusConf(){return c.Struct.getList(4,l.Uint8List,this)}},{key:"hasFocusConf",value:function hasFocusConf(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initFocusConf",value:function initFocusConf(t){return c.Struct.initList(4,l.Uint8List,t,this)}},{key:"setFocusConf",value:function setFocusConf(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptSharpnessScore",value:function adoptSharpnessScore(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownSharpnessScore",value:function disownSharpnessScore(){return c.Struct.disown(this.getSharpnessScore())}},{key:"getSharpnessScore",value:function getSharpnessScore(){return c.Struct.getList(5,l.Uint16List,this)}},{key:"hasSharpnessScore",value:function hasSharpnessScore(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initSharpnessScore",value:function initSharpnessScore(t){return c.Struct.initList(5,l.Uint16List,t,this)}},{key:"setSharpnessScore",value:function setSharpnessScore(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"getRecoverState",value:function getRecoverState(){return c.Struct.getInt32(60,this)}},{key:"setRecoverState",value:function setRecoverState(t){c.Struct.setInt32(60,t,this)}},{key:"getFrameType",value:function getFrameType(){return c.Struct.getUint16(28,this)}},{key:"setFrameType",value:function setFrameType(t){c.Struct.setUint16(28,t,this)}},{key:"getTimestampSof",value:function getTimestampSof(){return c.Struct.getUint64(32,this)}},{key:"setTimestampSof",value:function setTimestampSof(t){c.Struct.setUint64(32,t,this)}},{key:"adoptTransform",value:function adoptTransform(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownTransform",value:function disownTransform(){return c.Struct.disown(this.getTransform())}},{key:"getTransform",value:function getTransform(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasTransform",value:function hasTransform(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initTransform",value:function initTransform(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setTransform",value:function setTransform(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptAndroidCaptureResult",value:function adoptAndroidCaptureResult(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownAndroidCaptureResult",value:function disownAndroidCaptureResult(){return c.Struct.disown(this.getAndroidCaptureResult())}},{key:"getAndroidCaptureResult",value:function getAndroidCaptureResult(){return c.Struct.getStruct(1,x,this)}},{key:"hasAndroidCaptureResult",value:function hasAndroidCaptureResult(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initAndroidCaptureResult",value:function initAndroidCaptureResult(){return c.Struct.initStructAt(1,x,this)}},{key:"setAndroidCaptureResult",value:function setAndroidCaptureResult(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"FrameData_"+s(a(FrameData.prototype),"toString",this).call(this)}}]),FrameData}(c.Struct);w.FrameType=S,w.AndroidCaptureResult=x,w._capnp={displayName:"FrameData",id:"ea0245f695ae0a33",size:new c.ObjectSize(64,6)},e.FrameData=w;var T=function(t){function Thumbnail(){return r(this,Thumbnail),o(this,a(Thumbnail).apply(this,arguments))}return u(Thumbnail,t),i(Thumbnail,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(8,t,this)}},{key:"adoptThumbnail",value:function adoptThumbnail(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownThumbnail",value:function disownThumbnail(){return c.Struct.disown(this.getThumbnail())}},{key:"getThumbnail",value:function getThumbnail(){return c.Struct.getData(0,this)}},{key:"hasThumbnail",value:function hasThumbnail(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initThumbnail",value:function initThumbnail(t){return c.Struct.initData(0,t,this)}},{key:"setThumbnail",value:function setThumbnail(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"Thumbnail_"+s(a(Thumbnail.prototype),"toString",this).call(this)}}]),Thumbnail}(c.Struct);T._capnp={displayName:"Thumbnail",id:"b65fce64120af7d3",size:new c.ObjectSize(16,1)},e.Thumbnail=T;var P=function(t){function GPSNMEAData(){return r(this,GPSNMEAData),o(this,a(GPSNMEAData).apply(this,arguments))}return u(GPSNMEAData,t),i(GPSNMEAData,[{key:"getTimestamp",value:function getTimestamp(){return c.Struct.getInt64(0,this)}},{key:"setTimestamp",value:function setTimestamp(t){c.Struct.setInt64(0,t,this)}},{key:"getLocalWallTime",value:function getLocalWallTime(){return c.Struct.getUint64(8,this)}},{key:"setLocalWallTime",value:function setLocalWallTime(t){c.Struct.setUint64(8,t,this)}},{key:"getNmea",value:function getNmea(){return c.Struct.getText(0,this)}},{key:"setNmea",value:function setNmea(t){c.Struct.setText(0,t,this)}},{key:"toString",value:function toString(){return"GPSNMEAData_"+s(a(GPSNMEAData.prototype),"toString",this).call(this)}}]),GPSNMEAData}(c.Struct);P._capnp={displayName:"GPSNMEAData",id:"9d291d7813ba4a88",size:new c.ObjectSize(16,1)},e.GPSNMEAData=P;var k,C,D=function(t){function SensorEventData_SensorVec(){return r(this,SensorEventData_SensorVec),o(this,a(SensorEventData_SensorVec).apply(this,arguments))}return u(SensorEventData_SensorVec,t),i(SensorEventData_SensorVec,[{key:"adoptV",value:function adoptV(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownV",value:function disownV(){return c.Struct.disown(this.getV())}},{key:"getV",value:function getV(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasV",value:function hasV(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initV",value:function initV(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setV",value:function setV(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getStatus",value:function getStatus(){return c.Struct.getInt8(0,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setInt8(0,t,this)}},{key:"toString",value:function toString(){return"SensorEventData_SensorVec_"+s(a(SensorEventData_SensorVec.prototype),"toString",this).call(this)}}]),SensorEventData_SensorVec}(c.Struct);D._capnp={displayName:"SensorVec",id:"a43429bd2bfc24fc",size:new c.ObjectSize(8,1)},e.SensorEventData_SensorVec=D,function(t){t[t.ANDROID=0]="ANDROID",t[t.I_OS=1]="I_OS",t[t.FIBER=2]="FIBER",t[t.VELODYNE=3]="VELODYNE",t[t.BNO055=4]="BNO055",t[t.LSM6DS3=5]="LSM6DS3",t[t.BMP280=6]="BMP280",t[t.MMC3416X=7]="MMC3416X",t[t.BMX055=8]="BMX055",t[t.RPR0521=9]="RPR0521"}(k=e.SensorEventData_SensorSource||(e.SensorEventData_SensorSource={})),function(t){t[t.ACCELERATION=0]="ACCELERATION",t[t.MAGNETIC=1]="MAGNETIC",t[t.ORIENTATION=2]="ORIENTATION",t[t.GYRO=3]="GYRO",t[t.PRESSURE=4]="PRESSURE",t[t.MAGNETIC_UNCALIBRATED=5]="MAGNETIC_UNCALIBRATED",t[t.GYRO_UNCALIBRATED=6]="GYRO_UNCALIBRATED",t[t.PROXIMITY=7]="PROXIMITY",t[t.LIGHT=8]="LIGHT",t[t.TEMPERATURE=9]="TEMPERATURE"}(C=e.SensorEventData_Which||(e.SensorEventData_Which={}));var A,R=function(t){function SensorEventData(){return r(this,SensorEventData),o(this,a(SensorEventData).apply(this,arguments))}return u(SensorEventData,t),i(SensorEventData,[{key:"getVersion",value:function getVersion(){return c.Struct.getInt32(0,this)}},{key:"setVersion",value:function setVersion(t){c.Struct.setInt32(0,t,this)}},{key:"getSensor",value:function getSensor(){return c.Struct.getInt32(4,this)}},{key:"setSensor",value:function setSensor(t){c.Struct.setInt32(4,t,this)}},{key:"getType",value:function getType(){return c.Struct.getInt32(8,this)}},{key:"setType",value:function setType(t){c.Struct.setInt32(8,t,this)}},{key:"getTimestamp",value:function getTimestamp(){return c.Struct.getInt64(16,this)}},{key:"setTimestamp",value:function setTimestamp(t){c.Struct.setInt64(16,t,this)}},{key:"getUncalibratedDEPRECATED",value:function getUncalibratedDEPRECATED(){return c.Struct.getBit(192,this)}},{key:"setUncalibratedDEPRECATED",value:function setUncalibratedDEPRECATED(t){c.Struct.setBit(192,t,this)}},{key:"adoptAcceleration",value:function adoptAcceleration(t){c.Struct.setUint16(12,0,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownAcceleration",value:function disownAcceleration(){return c.Struct.disown(this.getAcceleration())}},{key:"getAcceleration",value:function getAcceleration(){return c.Struct.testWhich("acceleration",c.Struct.getUint16(12,this),0,this),c.Struct.getStruct(0,D,this)}},{key:"hasAcceleration",value:function hasAcceleration(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initAcceleration",value:function initAcceleration(){return c.Struct.setUint16(12,0,this),c.Struct.initStructAt(0,D,this)}},{key:"isAcceleration",value:function isAcceleration(){return 0===c.Struct.getUint16(12,this)}},{key:"setAcceleration",value:function setAcceleration(t){c.Struct.setUint16(12,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptMagnetic",value:function adoptMagnetic(t){c.Struct.setUint16(12,1,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMagnetic",value:function disownMagnetic(){return c.Struct.disown(this.getMagnetic())}},{key:"getMagnetic",value:function getMagnetic(){return c.Struct.testWhich("magnetic",c.Struct.getUint16(12,this),1,this),c.Struct.getStruct(0,D,this)}},{key:"hasMagnetic",value:function hasMagnetic(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMagnetic",value:function initMagnetic(){return c.Struct.setUint16(12,1,this),c.Struct.initStructAt(0,D,this)}},{key:"isMagnetic",value:function isMagnetic(){return 1===c.Struct.getUint16(12,this)}},{key:"setMagnetic",value:function setMagnetic(t){c.Struct.setUint16(12,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrientation",value:function adoptOrientation(t){c.Struct.setUint16(12,2,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrientation",value:function disownOrientation(){return c.Struct.disown(this.getOrientation())}},{key:"getOrientation",value:function getOrientation(){return c.Struct.testWhich("orientation",c.Struct.getUint16(12,this),2,this),c.Struct.getStruct(0,D,this)}},{key:"hasOrientation",value:function hasOrientation(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrientation",value:function initOrientation(){return c.Struct.setUint16(12,2,this),c.Struct.initStructAt(0,D,this)}},{key:"isOrientation",value:function isOrientation(){return 2===c.Struct.getUint16(12,this)}},{key:"setOrientation",value:function setOrientation(t){c.Struct.setUint16(12,2,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGyro",value:function adoptGyro(t){c.Struct.setUint16(12,3,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGyro",value:function disownGyro(){return c.Struct.disown(this.getGyro())}},{key:"getGyro",value:function getGyro(){return c.Struct.testWhich("gyro",c.Struct.getUint16(12,this),3,this),c.Struct.getStruct(0,D,this)}},{key:"hasGyro",value:function hasGyro(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGyro",value:function initGyro(){return c.Struct.setUint16(12,3,this),c.Struct.initStructAt(0,D,this)}},{key:"isGyro",value:function isGyro(){return 3===c.Struct.getUint16(12,this)}},{key:"setGyro",value:function setGyro(t){c.Struct.setUint16(12,3,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptPressure",value:function adoptPressure(t){c.Struct.setUint16(12,4,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPressure",value:function disownPressure(){return c.Struct.disown(this.getPressure())}},{key:"getPressure",value:function getPressure(){return c.Struct.testWhich("pressure",c.Struct.getUint16(12,this),4,this),c.Struct.getStruct(0,D,this)}},{key:"hasPressure",value:function hasPressure(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPressure",value:function initPressure(){return c.Struct.setUint16(12,4,this),c.Struct.initStructAt(0,D,this)}},{key:"isPressure",value:function isPressure(){return 4===c.Struct.getUint16(12,this)}},{key:"setPressure",value:function setPressure(t){c.Struct.setUint16(12,4,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptMagneticUncalibrated",value:function adoptMagneticUncalibrated(t){c.Struct.setUint16(12,5,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMagneticUncalibrated",value:function disownMagneticUncalibrated(){return c.Struct.disown(this.getMagneticUncalibrated())}},{key:"getMagneticUncalibrated",value:function getMagneticUncalibrated(){return c.Struct.testWhich("magneticUncalibrated",c.Struct.getUint16(12,this),5,this),c.Struct.getStruct(0,D,this)}},{key:"hasMagneticUncalibrated",value:function hasMagneticUncalibrated(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMagneticUncalibrated",value:function initMagneticUncalibrated(){return c.Struct.setUint16(12,5,this),c.Struct.initStructAt(0,D,this)}},{key:"isMagneticUncalibrated",value:function isMagneticUncalibrated(){return 5===c.Struct.getUint16(12,this)}},{key:"setMagneticUncalibrated",value:function setMagneticUncalibrated(t){c.Struct.setUint16(12,5,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGyroUncalibrated",value:function adoptGyroUncalibrated(t){c.Struct.setUint16(12,6,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGyroUncalibrated",value:function disownGyroUncalibrated(){return c.Struct.disown(this.getGyroUncalibrated())}},{key:"getGyroUncalibrated",value:function getGyroUncalibrated(){return c.Struct.testWhich("gyroUncalibrated",c.Struct.getUint16(12,this),6,this),c.Struct.getStruct(0,D,this)}},{key:"hasGyroUncalibrated",value:function hasGyroUncalibrated(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGyroUncalibrated",value:function initGyroUncalibrated(){return c.Struct.setUint16(12,6,this),c.Struct.initStructAt(0,D,this)}},{key:"isGyroUncalibrated",value:function isGyroUncalibrated(){return 6===c.Struct.getUint16(12,this)}},{key:"setGyroUncalibrated",value:function setGyroUncalibrated(t){c.Struct.setUint16(12,6,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getProximity",value:function getProximity(){return c.Struct.testWhich("proximity",c.Struct.getUint16(12,this),7,this),c.Struct.getFloat32(28,this)}},{key:"isProximity",value:function isProximity(){return 7===c.Struct.getUint16(12,this)}},{key:"setProximity",value:function setProximity(t){c.Struct.setUint16(12,7,this),c.Struct.setFloat32(28,t,this)}},{key:"getLight",value:function getLight(){return c.Struct.testWhich("light",c.Struct.getUint16(12,this),8,this),c.Struct.getFloat32(28,this)}},{key:"isLight",value:function isLight(){return 8===c.Struct.getUint16(12,this)}},{key:"setLight",value:function setLight(t){c.Struct.setUint16(12,8,this),c.Struct.setFloat32(28,t,this)}},{key:"getTemperature",value:function getTemperature(){return c.Struct.testWhich("temperature",c.Struct.getUint16(12,this),9,this),c.Struct.getFloat32(28,this)}},{key:"isTemperature",value:function isTemperature(){return 9===c.Struct.getUint16(12,this)}},{key:"setTemperature",value:function setTemperature(t){c.Struct.setUint16(12,9,this),c.Struct.setFloat32(28,t,this)}},{key:"getSource",value:function getSource(){return c.Struct.getUint16(14,this)}},{key:"setSource",value:function setSource(t){c.Struct.setUint16(14,t,this)}},{key:"toString",value:function toString(){return"SensorEventData_"+s(a(SensorEventData.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(12,this)}}]),SensorEventData}(c.Struct);R.ACCELERATION=C.ACCELERATION,R.MAGNETIC=C.MAGNETIC,R.ORIENTATION=C.ORIENTATION,R.GYRO=C.GYRO,R.PRESSURE=C.PRESSURE,R.MAGNETIC_UNCALIBRATED=C.MAGNETIC_UNCALIBRATED,R.GYRO_UNCALIBRATED=C.GYRO_UNCALIBRATED,R.PROXIMITY=C.PROXIMITY,R.LIGHT=C.LIGHT,R.TEMPERATURE=C.TEMPERATURE,R.SensorVec=D,R.SensorSource=k,R._capnp={displayName:"SensorEventData",id:"a2b29a69d44529a1",size:new c.ObjectSize(32,1)},e.SensorEventData=R,function(t){t[t.ANDROID=0]="ANDROID",t[t.I_OS=1]="I_OS",t[t.CAR=2]="CAR",t[t.VELODYNE=3]="VELODYNE",t[t.FUSION=4]="FUSION",t[t.EXTERNAL=5]="EXTERNAL",t[t.UBLOX=6]="UBLOX",t[t.TRIMBLE=7]="TRIMBLE"}(A=e.GpsLocationData_SensorSource||(e.GpsLocationData_SensorSource={}));var M=function(t){function GpsLocationData(){return r(this,GpsLocationData),o(this,a(GpsLocationData).apply(this,arguments))}return u(GpsLocationData,t),i(GpsLocationData,[{key:"getFlags",value:function getFlags(){return c.Struct.getUint16(0,this)}},{key:"setFlags",value:function setFlags(t){c.Struct.setUint16(0,t,this)}},{key:"getLatitude",value:function getLatitude(){return c.Struct.getFloat64(8,this)}},{key:"setLatitude",value:function setLatitude(t){c.Struct.setFloat64(8,t,this)}},{key:"getLongitude",value:function getLongitude(){return c.Struct.getFloat64(16,this)}},{key:"setLongitude",value:function setLongitude(t){c.Struct.setFloat64(16,t,this)}},{key:"getAltitude",value:function getAltitude(){return c.Struct.getFloat64(24,this)}},{key:"setAltitude",value:function setAltitude(t){c.Struct.setFloat64(24,t,this)}},{key:"getSpeed",value:function getSpeed(){return c.Struct.getFloat32(4,this)}},{key:"setSpeed",value:function setSpeed(t){c.Struct.setFloat32(4,t,this)}},{key:"getBearing",value:function getBearing(){return c.Struct.getFloat32(32,this)}},{key:"setBearing",value:function setBearing(t){c.Struct.setFloat32(32,t,this)}},{key:"getAccuracy",value:function getAccuracy(){return c.Struct.getFloat32(36,this)}},{key:"setAccuracy",value:function setAccuracy(t){c.Struct.setFloat32(36,t,this)}},{key:"getTimestamp",value:function getTimestamp(){return c.Struct.getInt64(40,this)}},{key:"setTimestamp",value:function setTimestamp(t){c.Struct.setInt64(40,t,this)}},{key:"getSource",value:function getSource(){return c.Struct.getUint16(2,this)}},{key:"setSource",value:function setSource(t){c.Struct.setUint16(2,t,this)}},{key:"adoptVNED",value:function adoptVNED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownVNED",value:function disownVNED(){return c.Struct.disown(this.getVNED())}},{key:"getVNED",value:function getVNED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasVNED",value:function hasVNED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initVNED",value:function initVNED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setVNED",value:function setVNED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getVerticalAccuracy",value:function getVerticalAccuracy(){return c.Struct.getFloat32(48,this)}},{key:"setVerticalAccuracy",value:function setVerticalAccuracy(t){c.Struct.setFloat32(48,t,this)}},{key:"getBearingAccuracy",value:function getBearingAccuracy(){return c.Struct.getFloat32(52,this)}},{key:"setBearingAccuracy",value:function setBearingAccuracy(t){c.Struct.setFloat32(52,t,this)}},{key:"getSpeedAccuracy",value:function getSpeedAccuracy(){return c.Struct.getFloat32(56,this)}},{key:"setSpeedAccuracy",value:function setSpeedAccuracy(t){c.Struct.setFloat32(56,t,this)}},{key:"toString",value:function toString(){return"GpsLocationData_"+s(a(GpsLocationData.prototype),"toString",this).call(this)}}]),GpsLocationData}(c.Struct);M.SensorSource=A,M._capnp={displayName:"GpsLocationData",id:"e946524859add50e",size:new c.ObjectSize(64,1)},e.GpsLocationData=M;var L,I,O,F=function(t){function CanData(){return r(this,CanData),o(this,a(CanData).apply(this,arguments))}return u(CanData,t),i(CanData,[{key:"getAddress",value:function getAddress(){return c.Struct.getUint32(0,this)}},{key:"setAddress",value:function setAddress(t){c.Struct.setUint32(0,t,this)}},{key:"getBusTime",value:function getBusTime(){return c.Struct.getUint16(4,this)}},{key:"setBusTime",value:function setBusTime(t){c.Struct.setUint16(4,t,this)}},{key:"adoptDat",value:function adoptDat(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDat",value:function disownDat(){return c.Struct.disown(this.getDat())}},{key:"getDat",value:function getDat(){return c.Struct.getData(0,this)}},{key:"hasDat",value:function hasDat(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDat",value:function initDat(t){return c.Struct.initData(0,t,this)}},{key:"setDat",value:function setDat(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getSrc",value:function getSrc(){return c.Struct.getUint8(6,this)}},{key:"setSrc",value:function setSrc(t){c.Struct.setUint8(6,t,this)}},{key:"toString",value:function toString(){return"CanData_"+s(a(CanData.prototype),"toString",this).call(this)}}]),CanData}(c.Struct);F._capnp={displayName:"CanData",id:"8785009a964c7c59",size:new c.ObjectSize(8,1)},e.CanData=F,function(t){t[t.GREEN=0]="GREEN",t[t.YELLOW=1]="YELLOW",t[t.RED=2]="RED",t[t.DANGER=3]="DANGER"}(L=e.ThermalData_ThermalStatus||(e.ThermalData_ThermalStatus={})),function(t){t[t.NONE=0]="NONE",t[t.WIFI=1]="WIFI",t[t.CELL2G=2]="CELL2G",t[t.CELL3G=3]="CELL3G",t[t.CELL4G=4]="CELL4G",t[t.CELL5G=5]="CELL5G"}(I=e.ThermalData_NetworkType||(e.ThermalData_NetworkType={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.POOR=1]="POOR",t[t.MODERATE=2]="MODERATE",t[t.GOOD=3]="GOOD",t[t.GREAT=4]="GREAT"}(O=e.ThermalData_NetworkStrength||(e.ThermalData_NetworkStrength={}));var N,B,U,z,j=function(t){function ThermalData(){return r(this,ThermalData),o(this,a(ThermalData).apply(this,arguments))}return u(ThermalData,t),i(ThermalData,[{key:"getFreeSpacePercent",value:function getFreeSpacePercent(){return c.Struct.getFloat32(16,this)}},{key:"setFreeSpacePercent",value:function setFreeSpacePercent(t){c.Struct.setFloat32(16,t,this)}},{key:"getMemoryUsagePercent",value:function getMemoryUsagePercent(){return c.Struct.getInt8(25,this)}},{key:"setMemoryUsagePercent",value:function setMemoryUsagePercent(t){c.Struct.setInt8(25,t,this)}},{key:"getCpuUsagePercent",value:function getCpuUsagePercent(){return c.Struct.getInt8(44,this)}},{key:"setCpuUsagePercent",value:function setCpuUsagePercent(t){c.Struct.setInt8(44,t,this)}},{key:"getUsbOnline",value:function getUsbOnline(){return c.Struct.getBit(193,this)}},{key:"setUsbOnline",value:function setUsbOnline(t){c.Struct.setBit(193,t,this)}},{key:"getNetworkType",value:function getNetworkType(){return c.Struct.getUint16(48,this)}},{key:"setNetworkType",value:function setNetworkType(t){c.Struct.setUint16(48,t,this)}},{key:"getOffroadPowerUsage",value:function getOffroadPowerUsage(){return c.Struct.getUint32(52,this)}},{key:"setOffroadPowerUsage",value:function setOffroadPowerUsage(t){c.Struct.setUint32(52,t,this)}},{key:"getNetworkStrength",value:function getNetworkStrength(){return c.Struct.getUint16(50,this)}},{key:"setNetworkStrength",value:function setNetworkStrength(t){c.Struct.setUint16(50,t,this)}},{key:"getCarBatteryCapacity",value:function getCarBatteryCapacity(){return c.Struct.getUint32(56,this)}},{key:"setCarBatteryCapacity",value:function setCarBatteryCapacity(t){c.Struct.setUint32(56,t,this)}},{key:"getFanSpeedRpmDesired",value:function getFanSpeedRpmDesired(){return c.Struct.getUint16(22,this)}},{key:"setFanSpeedRpmDesired",value:function setFanSpeedRpmDesired(t){c.Struct.setUint16(22,t,this)}},{key:"getStarted",value:function getStarted(){return c.Struct.getBit(192,this)}},{key:"setStarted",value:function setStarted(t){c.Struct.setBit(192,t,this)}},{key:"getStartedMonoTime",value:function getStartedMonoTime(){return c.Struct.getUint64(32,this)}},{key:"setStartedMonoTime",value:function setStartedMonoTime(t){c.Struct.setUint64(32,t,this)}},{key:"getBatteryPercent",value:function getBatteryPercent(){return c.Struct.getInt16(20,this)}},{key:"setBatteryPercent",value:function setBatteryPercent(t){c.Struct.setInt16(20,t,this)}},{key:"getBatteryStatus",value:function getBatteryStatus(){return c.Struct.getText(0,this)}},{key:"setBatteryStatus",value:function setBatteryStatus(t){c.Struct.setText(0,t,this)}},{key:"getBatteryCurrent",value:function getBatteryCurrent(){return c.Struct.getInt32(28,this)}},{key:"setBatteryCurrent",value:function setBatteryCurrent(t){c.Struct.setInt32(28,t,this)}},{key:"getBatteryVoltage",value:function getBatteryVoltage(){return c.Struct.getInt32(40,this)}},{key:"setBatteryVoltage",value:function setBatteryVoltage(t){c.Struct.setInt32(40,t,this)}},{key:"getChargingError",value:function getChargingError(){return c.Struct.getBit(194,this)}},{key:"setChargingError",value:function setChargingError(t){c.Struct.setBit(194,t,this)}},{key:"getChargingDisabled",value:function getChargingDisabled(){return c.Struct.getBit(195,this)}},{key:"setChargingDisabled",value:function setChargingDisabled(t){c.Struct.setBit(195,t,this)}},{key:"adoptCpu",value:function adoptCpu(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownCpu",value:function disownCpu(){return c.Struct.disown(this.getCpu())}},{key:"getCpu",value:function getCpu(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasCpu",value:function hasCpu(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initCpu",value:function initCpu(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setCpu",value:function setCpu(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptGpu",value:function adoptGpu(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownGpu",value:function disownGpu(){return c.Struct.disown(this.getGpu())}},{key:"getGpu",value:function getGpu(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasGpu",value:function hasGpu(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initGpu",value:function initGpu(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setGpu",value:function setGpu(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getMem",value:function getMem(){return c.Struct.getFloat32(60,this)}},{key:"setMem",value:function setMem(t){c.Struct.setFloat32(60,t,this)}},{key:"getBat",value:function getBat(){return c.Struct.getFloat32(64,this)}},{key:"setBat",value:function setBat(t){c.Struct.setFloat32(64,t,this)}},{key:"getAmbient",value:function getAmbient(){return c.Struct.getFloat32(68,this)}},{key:"setAmbient",value:function setAmbient(t){c.Struct.setFloat32(68,t,this)}},{key:"getThermalStatus",value:function getThermalStatus(){return c.Struct.getUint16(26,this)}},{key:"setThermalStatus",value:function setThermalStatus(t){c.Struct.setUint16(26,t,this)}},{key:"getCpu0DEPRECATED",value:function getCpu0DEPRECATED(){return c.Struct.getUint16(0,this)}},{key:"setCpu0DEPRECATED",value:function setCpu0DEPRECATED(t){c.Struct.setUint16(0,t,this)}},{key:"getCpu1DEPRECATED",value:function getCpu1DEPRECATED(){return c.Struct.getUint16(2,this)}},{key:"setCpu1DEPRECATED",value:function setCpu1DEPRECATED(t){c.Struct.setUint16(2,t,this)}},{key:"getCpu2DEPRECATED",value:function getCpu2DEPRECATED(){return c.Struct.getUint16(4,this)}},{key:"setCpu2DEPRECATED",value:function setCpu2DEPRECATED(t){c.Struct.setUint16(4,t,this)}},{key:"getCpu3DEPRECATED",value:function getCpu3DEPRECATED(){return c.Struct.getUint16(6,this)}},{key:"setCpu3DEPRECATED",value:function setCpu3DEPRECATED(t){c.Struct.setUint16(6,t,this)}},{key:"getMemDEPRECATED",value:function getMemDEPRECATED(){return c.Struct.getUint16(8,this)}},{key:"setMemDEPRECATED",value:function setMemDEPRECATED(t){c.Struct.setUint16(8,t,this)}},{key:"getGpuDEPRECATED",value:function getGpuDEPRECATED(){return c.Struct.getUint16(10,this)}},{key:"setGpuDEPRECATED",value:function setGpuDEPRECATED(t){c.Struct.setUint16(10,t,this)}},{key:"getBatDEPRECATED",value:function getBatDEPRECATED(){return c.Struct.getUint32(12,this)}},{key:"setBatDEPRECATED",value:function setBatDEPRECATED(t){c.Struct.setUint32(12,t,this)}},{key:"getPa0DEPRECATED",value:function getPa0DEPRECATED(){return c.Struct.getUint16(46,this)}},{key:"setPa0DEPRECATED",value:function setPa0DEPRECATED(t){c.Struct.setUint16(46,t,this)}},{key:"toString",value:function toString(){return"ThermalData_"+s(a(ThermalData.prototype),"toString",this).call(this)}}]),ThermalData}(c.Struct);j.ThermalStatus=L,j.NetworkType=I,j.NetworkStrength=O,j._capnp={displayName:"ThermalData",id:"8d8231a40b7fe6e0",size:new c.ObjectSize(72,3)},e.ThermalData=j,function(t){t[t.NONE=0]="NONE",t[t.FAULT_TEMP=1]="FAULT_TEMP",t[t.FAULT_PERM=2]="FAULT_PERM"}(N=e.HealthData_FaultStatus||(e.HealthData_FaultStatus={})),function(t){t[t.RELAY_MALFUNCTION=0]="RELAY_MALFUNCTION",t[t.UNUSED_INTERRUPT_HANDLED=1]="UNUSED_INTERRUPT_HANDLED",t[t.INTERRUPT_RATE_CAN1=2]="INTERRUPT_RATE_CAN1",t[t.INTERRUPT_RATE_CAN2=3]="INTERRUPT_RATE_CAN2",t[t.INTERRUPT_RATE_CAN3=4]="INTERRUPT_RATE_CAN3",t[t.INTERRUPT_RATE_TACH=5]="INTERRUPT_RATE_TACH",t[t.INTERRUPT_RATE_GMLAN=6]="INTERRUPT_RATE_GMLAN",t[t.INTERRUPT_RATE_INTERRUPTS=7]="INTERRUPT_RATE_INTERRUPTS",t[t.INTERRUPT_RATE_SPI_DMA=8]="INTERRUPT_RATE_SPI_DMA",t[t.INTERRUPT_RATE_SPI_CS=9]="INTERRUPT_RATE_SPI_CS",t[t.INTERRUPT_RATE_UART1=10]="INTERRUPT_RATE_UART1",t[t.INTERRUPT_RATE_UART2=11]="INTERRUPT_RATE_UART2",t[t.INTERRUPT_RATE_UART3=12]="INTERRUPT_RATE_UART3",t[t.INTERRUPT_RATE_UART5=13]="INTERRUPT_RATE_UART5",t[t.INTERRUPT_RATE_UART_DMA=14]="INTERRUPT_RATE_UART_DMA",t[t.INTERRUPT_RATE_USB=15]="INTERRUPT_RATE_USB",t[t.INTERRUPT_RATE_TIM1=16]="INTERRUPT_RATE_TIM1",t[t.INTERRUPT_RATE_TIM3=17]="INTERRUPT_RATE_TIM3",t[t.REGISTER_DIVERGENT=18]="REGISTER_DIVERGENT",t[t.INTERRUPT_RATE_KLINE_INIT=19]="INTERRUPT_RATE_KLINE_INIT",t[t.INTERRUPT_RATE_CLOCK_SOURCE=20]="INTERRUPT_RATE_CLOCK_SOURCE",t[t.INTERRUPT_RATE_TIM9=21]="INTERRUPT_RATE_TIM9"}(B=e.HealthData_FaultType||(e.HealthData_FaultType={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WHITE_PANDA=1]="WHITE_PANDA",t[t.GREY_PANDA=2]="GREY_PANDA",t[t.BLACK_PANDA=3]="BLACK_PANDA",t[t.PEDAL=4]="PEDAL",t[t.UNO=5]="UNO",t[t.DOS=6]="DOS"}(U=e.HealthData_PandaType||(e.HealthData_PandaType={})),function(t){t[t.NONE=0]="NONE",t[t.CLIENT=1]="CLIENT",t[t.CDP=2]="CDP",t[t.DCP=3]="DCP"}(z=e.HealthData_UsbPowerMode||(e.HealthData_UsbPowerMode={}));var V=function(t){function HealthData(){return r(this,HealthData),o(this,a(HealthData).apply(this,arguments))}return u(HealthData,t),i(HealthData,[{key:"getVoltage",value:function getVoltage(){return c.Struct.getUint32(0,this)}},{key:"setVoltage",value:function setVoltage(t){c.Struct.setUint32(0,t,this)}},{key:"getCurrent",value:function getCurrent(){return c.Struct.getUint32(4,this)}},{key:"setCurrent",value:function setCurrent(t){c.Struct.setUint32(4,t,this)}},{key:"getIgnitionLine",value:function getIgnitionLine(){return c.Struct.getBit(64,this)}},{key:"setIgnitionLine",value:function setIgnitionLine(t){c.Struct.setBit(64,t,this)}},{key:"getControlsAllowed",value:function getControlsAllowed(){return c.Struct.getBit(65,this)}},{key:"setControlsAllowed",value:function setControlsAllowed(t){c.Struct.setBit(65,t,this)}},{key:"getGasInterceptorDetected",value:function getGasInterceptorDetected(){return c.Struct.getBit(66,this)}},{key:"setGasInterceptorDetected",value:function setGasInterceptorDetected(t){c.Struct.setBit(66,t,this)}},{key:"getHasGps",value:function getHasGps(){return c.Struct.getBit(68,this)}},{key:"setHasGps",value:function setHasGps(t){c.Struct.setBit(68,t,this)}},{key:"getCanSendErrs",value:function getCanSendErrs(){return c.Struct.getUint32(12,this)}},{key:"setCanSendErrs",value:function setCanSendErrs(t){c.Struct.setUint32(12,t,this)}},{key:"getCanFwdErrs",value:function getCanFwdErrs(){return c.Struct.getUint32(16,this)}},{key:"setCanFwdErrs",value:function setCanFwdErrs(t){c.Struct.setUint32(16,t,this)}},{key:"getCanRxErrs",value:function getCanRxErrs(){return c.Struct.getUint32(36,this)}},{key:"setCanRxErrs",value:function setCanRxErrs(t){c.Struct.setUint32(36,t,this)}},{key:"getGmlanSendErrs",value:function getGmlanSendErrs(){return c.Struct.getUint32(20,this)}},{key:"setGmlanSendErrs",value:function setGmlanSendErrs(t){c.Struct.setUint32(20,t,this)}},{key:"getPandaType",value:function getPandaType(){return c.Struct.getUint16(10,this)}},{key:"setPandaType",value:function setPandaType(t){c.Struct.setUint16(10,t,this)}},{key:"getFanSpeedRpm",value:function getFanSpeedRpm(){return c.Struct.getUint16(24,this)}},{key:"setFanSpeedRpm",value:function setFanSpeedRpm(t){c.Struct.setUint16(24,t,this)}},{key:"getUsbPowerMode",value:function getUsbPowerMode(){return c.Struct.getUint16(26,this)}},{key:"setUsbPowerMode",value:function setUsbPowerMode(t){c.Struct.setUint16(26,t,this)}},{key:"getIgnitionCan",value:function getIgnitionCan(){return c.Struct.getBit(69,this)}},{key:"setIgnitionCan",value:function setIgnitionCan(t){c.Struct.setBit(69,t,this)}},{key:"getSafetyModel",value:function getSafetyModel(){return c.Struct.getUint16(28,this)}},{key:"setSafetyModel",value:function setSafetyModel(t){c.Struct.setUint16(28,t,this)}},{key:"getFaultStatus",value:function getFaultStatus(){return c.Struct.getUint16(30,this)}},{key:"setFaultStatus",value:function setFaultStatus(t){c.Struct.setUint16(30,t,this)}},{key:"getPowerSaveEnabled",value:function getPowerSaveEnabled(){return c.Struct.getBit(70,this)}},{key:"setPowerSaveEnabled",value:function setPowerSaveEnabled(t){c.Struct.setBit(70,t,this)}},{key:"getUptime",value:function getUptime(){return c.Struct.getUint32(32,this)}},{key:"setUptime",value:function setUptime(t){c.Struct.setUint32(32,t,this)}},{key:"adoptFaults",value:function adoptFaults(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFaults",value:function disownFaults(){return c.Struct.disown(this.getFaults())}},{key:"getFaults",value:function getFaults(){return c.Struct.getList(0,l.Uint16List,this)}},{key:"hasFaults",value:function hasFaults(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFaults",value:function initFaults(t){return c.Struct.initList(0,l.Uint16List,t,this)}},{key:"setFaults",value:function setFaults(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getStartedSignalDetectedDEPRECATED",value:function getStartedSignalDetectedDEPRECATED(){return c.Struct.getBit(67,this)}},{key:"setStartedSignalDetectedDEPRECATED",value:function setStartedSignalDetectedDEPRECATED(t){c.Struct.setBit(67,t,this)}},{key:"toString",value:function toString(){return"HealthData_"+s(a(HealthData.prototype),"toString",this).call(this)}}]),HealthData}(c.Struct);V.FaultStatus=N,V.FaultType=B,V.PandaType=U,V.UsbPowerMode=z,V._capnp={displayName:"HealthData",id:"cfa2b0c2c82af1e4",size:new c.ObjectSize(40,1)},e.HealthData=V;var G=function(t){function RadarState_LeadData(){return r(this,RadarState_LeadData),o(this,a(RadarState_LeadData).apply(this,arguments))}return u(RadarState_LeadData,t),i(RadarState_LeadData,[{key:"getDRel",value:function getDRel(){return c.Struct.getFloat32(0,this)}},{key:"setDRel",value:function setDRel(t){c.Struct.setFloat32(0,t,this)}},{key:"getYRel",value:function getYRel(){return c.Struct.getFloat32(4,this)}},{key:"setYRel",value:function setYRel(t){c.Struct.setFloat32(4,t,this)}},{key:"getVRel",value:function getVRel(){return c.Struct.getFloat32(8,this)}},{key:"setVRel",value:function setVRel(t){c.Struct.setFloat32(8,t,this)}},{key:"getARel",value:function getARel(){return c.Struct.getFloat32(12,this)}},{key:"setARel",value:function setARel(t){c.Struct.setFloat32(12,t,this)}},{key:"getVLead",value:function getVLead(){return c.Struct.getFloat32(16,this)}},{key:"setVLead",value:function setVLead(t){c.Struct.setFloat32(16,t,this)}},{key:"getDPath",value:function getDPath(){return c.Struct.getFloat32(24,this)}},{key:"setDPath",value:function setDPath(t){c.Struct.setFloat32(24,t,this)}},{key:"getVLat",value:function getVLat(){return c.Struct.getFloat32(28,this)}},{key:"setVLat",value:function setVLat(t){c.Struct.setFloat32(28,t,this)}},{key:"getVLeadK",value:function getVLeadK(){return c.Struct.getFloat32(32,this)}},{key:"setVLeadK",value:function setVLeadK(t){c.Struct.setFloat32(32,t,this)}},{key:"getALeadK",value:function getALeadK(){return c.Struct.getFloat32(36,this)}},{key:"setALeadK",value:function setALeadK(t){c.Struct.setFloat32(36,t,this)}},{key:"getFcw",value:function getFcw(){return c.Struct.getBit(320,this)}},{key:"setFcw",value:function setFcw(t){c.Struct.setBit(320,t,this)}},{key:"getStatus",value:function getStatus(){return c.Struct.getBit(321,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setBit(321,t,this)}},{key:"getALeadTau",value:function getALeadTau(){return c.Struct.getFloat32(44,this)}},{key:"setALeadTau",value:function setALeadTau(t){c.Struct.setFloat32(44,t,this)}},{key:"getModelProb",value:function getModelProb(){return c.Struct.getFloat32(48,this)}},{key:"setModelProb",value:function setModelProb(t){c.Struct.setFloat32(48,t,this)}},{key:"getRadar",value:function getRadar(){return c.Struct.getBit(322,this)}},{key:"setRadar",value:function setRadar(t){c.Struct.setBit(322,t,this)}},{key:"getALeadDEPRECATED",value:function getALeadDEPRECATED(){return c.Struct.getFloat32(20,this)}},{key:"setALeadDEPRECATED",value:function setALeadDEPRECATED(t){c.Struct.setFloat32(20,t,this)}},{key:"toString",value:function toString(){return"RadarState_LeadData_"+s(a(RadarState_LeadData.prototype),"toString",this).call(this)}}]),RadarState_LeadData}(c.Struct);G._capnp={displayName:"LeadData",id:"b96f3ad9170cf085",size:new c.ObjectSize(56,0)},e.RadarState_LeadData=G;var W=function(t){function RadarState(){return r(this,RadarState),o(this,a(RadarState).apply(this,arguments))}return u(RadarState,t),i(RadarState,[{key:"adoptCanMonoTimes",value:function adoptCanMonoTimes(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownCanMonoTimes",value:function disownCanMonoTimes(){return c.Struct.disown(this.getCanMonoTimes())}},{key:"getCanMonoTimes",value:function getCanMonoTimes(){return c.Struct.getList(3,l.Uint64List,this)}},{key:"hasCanMonoTimes",value:function hasCanMonoTimes(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initCanMonoTimes",value:function initCanMonoTimes(t){return c.Struct.initList(3,l.Uint64List,t,this)}},{key:"setCanMonoTimes",value:function setCanMonoTimes(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getMdMonoTime",value:function getMdMonoTime(){return c.Struct.getUint64(16,this)}},{key:"setMdMonoTime",value:function setMdMonoTime(t){c.Struct.setUint64(16,t,this)}},{key:"getCarStateMonoTime",value:function getCarStateMonoTime(){return c.Struct.getUint64(32,this)}},{key:"setCarStateMonoTime",value:function setCarStateMonoTime(t){c.Struct.setUint64(32,t,this)}},{key:"adoptRadarErrors",value:function adoptRadarErrors(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownRadarErrors",value:function disownRadarErrors(){return c.Struct.disown(this.getRadarErrors())}},{key:"getRadarErrors",value:function getRadarErrors(){return c.Struct.getList(4,l.Uint16List,this)}},{key:"hasRadarErrors",value:function hasRadarErrors(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initRadarErrors",value:function initRadarErrors(t){return c.Struct.initList(4,l.Uint16List,t,this)}},{key:"setRadarErrors",value:function setRadarErrors(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptLeadOne",value:function adoptLeadOne(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownLeadOne",value:function disownLeadOne(){return c.Struct.disown(this.getLeadOne())}},{key:"getLeadOne",value:function getLeadOne(){return c.Struct.getStruct(1,G,this)}},{key:"hasLeadOne",value:function hasLeadOne(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initLeadOne",value:function initLeadOne(){return c.Struct.initStructAt(1,G,this)}},{key:"setLeadOne",value:function setLeadOne(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptLeadTwo",value:function adoptLeadTwo(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownLeadTwo",value:function disownLeadTwo(){return c.Struct.disown(this.getLeadTwo())}},{key:"getLeadTwo",value:function getLeadTwo(){return c.Struct.getStruct(2,G,this)}},{key:"hasLeadTwo",value:function hasLeadTwo(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initLeadTwo",value:function initLeadTwo(){return c.Struct.initStructAt(2,G,this)}},{key:"setLeadTwo",value:function setLeadTwo(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getCumLagMs",value:function getCumLagMs(){return c.Struct.getFloat32(8,this)}},{key:"setCumLagMs",value:function setCumLagMs(t){c.Struct.setFloat32(8,t,this)}},{key:"getFtMonoTimeDEPRECATED",value:function getFtMonoTimeDEPRECATED(){return c.Struct.getUint64(24,this)}},{key:"setFtMonoTimeDEPRECATED",value:function setFtMonoTimeDEPRECATED(t){c.Struct.setUint64(24,t,this)}},{key:"adoptWarpMatrixDEPRECATED",value:function adoptWarpMatrixDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownWarpMatrixDEPRECATED",value:function disownWarpMatrixDEPRECATED(){return c.Struct.disown(this.getWarpMatrixDEPRECATED())}},{key:"getWarpMatrixDEPRECATED",value:function getWarpMatrixDEPRECATED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasWarpMatrixDEPRECATED",value:function hasWarpMatrixDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initWarpMatrixDEPRECATED",value:function initWarpMatrixDEPRECATED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setWarpMatrixDEPRECATED",value:function setWarpMatrixDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getAngleOffsetDEPRECATED",value:function getAngleOffsetDEPRECATED(){return c.Struct.getFloat32(0,this)}},{key:"setAngleOffsetDEPRECATED",value:function setAngleOffsetDEPRECATED(t){c.Struct.setFloat32(0,t,this)}},{key:"getCalStatusDEPRECATED",value:function getCalStatusDEPRECATED(){return c.Struct.getInt8(4,this)}},{key:"setCalStatusDEPRECATED",value:function setCalStatusDEPRECATED(t){c.Struct.setInt8(4,t,this)}},{key:"getCalCycleDEPRECATED",value:function getCalCycleDEPRECATED(){return c.Struct.getInt32(12,this)}},{key:"setCalCycleDEPRECATED",value:function setCalCycleDEPRECATED(t){c.Struct.setInt32(12,t,this)}},{key:"getCalPercDEPRECATED",value:function getCalPercDEPRECATED(){return c.Struct.getInt8(5,this)}},{key:"setCalPercDEPRECATED",value:function setCalPercDEPRECATED(t){c.Struct.setInt8(5,t,this)}},{key:"toString",value:function toString(){return"RadarState_"+s(a(RadarState.prototype),"toString",this).call(this)}}]),RadarState}(c.Struct);W.LeadData=G,W._capnp={displayName:"RadarState",id:"9a185389d6fdd05f",size:new c.ObjectSize(40,5)},e.RadarState=W;var q=function(t){function LiveCalibrationData(){return r(this,LiveCalibrationData),o(this,a(LiveCalibrationData).apply(this,arguments))}return u(LiveCalibrationData,t),i(LiveCalibrationData,[{key:"getCalStatus",value:function getCalStatus(){return c.Struct.getInt8(0,this)}},{key:"setCalStatus",value:function setCalStatus(t){c.Struct.setInt8(0,t,this)}},{key:"getCalCycle",value:function getCalCycle(){return c.Struct.getInt32(4,this)}},{key:"setCalCycle",value:function setCalCycle(t){c.Struct.setInt32(4,t,this)}},{key:"getCalPerc",value:function getCalPerc(){return c.Struct.getInt8(1,this)}},{key:"setCalPerc",value:function setCalPerc(t){c.Struct.setInt8(1,t,this)}},{key:"getValidBlocks",value:function getValidBlocks(){return c.Struct.getInt32(8,this)}},{key:"setValidBlocks",value:function setValidBlocks(t){c.Struct.setInt32(8,t,this)}},{key:"adoptExtrinsicMatrix",value:function adoptExtrinsicMatrix(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownExtrinsicMatrix",value:function disownExtrinsicMatrix(){return c.Struct.disown(this.getExtrinsicMatrix())}},{key:"getExtrinsicMatrix",value:function getExtrinsicMatrix(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasExtrinsicMatrix",value:function hasExtrinsicMatrix(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initExtrinsicMatrix",value:function initExtrinsicMatrix(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setExtrinsicMatrix",value:function setExtrinsicMatrix(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptRpyCalib",value:function adoptRpyCalib(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownRpyCalib",value:function disownRpyCalib(){return c.Struct.disown(this.getRpyCalib())}},{key:"getRpyCalib",value:function getRpyCalib(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasRpyCalib",value:function hasRpyCalib(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initRpyCalib",value:function initRpyCalib(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setRpyCalib",value:function setRpyCalib(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptRpyCalibSpread",value:function adoptRpyCalibSpread(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownRpyCalibSpread",value:function disownRpyCalibSpread(){return c.Struct.disown(this.getRpyCalibSpread())}},{key:"getRpyCalibSpread",value:function getRpyCalibSpread(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasRpyCalibSpread",value:function hasRpyCalibSpread(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initRpyCalibSpread",value:function initRpyCalibSpread(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setRpyCalibSpread",value:function setRpyCalibSpread(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptWarpMatrixDEPRECATED",value:function adoptWarpMatrixDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownWarpMatrixDEPRECATED",value:function disownWarpMatrixDEPRECATED(){return c.Struct.disown(this.getWarpMatrixDEPRECATED())}},{key:"getWarpMatrixDEPRECATED",value:function getWarpMatrixDEPRECATED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasWarpMatrixDEPRECATED",value:function hasWarpMatrixDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initWarpMatrixDEPRECATED",value:function initWarpMatrixDEPRECATED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setWarpMatrixDEPRECATED",value:function setWarpMatrixDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptWarpMatrix2DEPRECATED",value:function adoptWarpMatrix2DEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownWarpMatrix2DEPRECATED",value:function disownWarpMatrix2DEPRECATED(){return c.Struct.disown(this.getWarpMatrix2DEPRECATED())}},{key:"getWarpMatrix2DEPRECATED",value:function getWarpMatrix2DEPRECATED(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasWarpMatrix2DEPRECATED",value:function hasWarpMatrix2DEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initWarpMatrix2DEPRECATED",value:function initWarpMatrix2DEPRECATED(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setWarpMatrix2DEPRECATED",value:function setWarpMatrix2DEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptWarpMatrixBigDEPRECATED",value:function adoptWarpMatrixBigDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownWarpMatrixBigDEPRECATED",value:function disownWarpMatrixBigDEPRECATED(){return c.Struct.disown(this.getWarpMatrixBigDEPRECATED())}},{key:"getWarpMatrixBigDEPRECATED",value:function getWarpMatrixBigDEPRECATED(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasWarpMatrixBigDEPRECATED",value:function hasWarpMatrixBigDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initWarpMatrixBigDEPRECATED",value:function initWarpMatrixBigDEPRECATED(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setWarpMatrixBigDEPRECATED",value:function setWarpMatrixBigDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"toString",value:function toString(){return"LiveCalibrationData_"+s(a(LiveCalibrationData.prototype),"toString",this).call(this)}}]),LiveCalibrationData}(c.Struct);q._capnp={displayName:"LiveCalibrationData",id:"96df70754d8390bc",size:new c.ObjectSize(16,6)},e.LiveCalibrationData=q;var H,K,Y,X,Z=function(t){function LiveTracks(){return r(this,LiveTracks),o(this,a(LiveTracks).apply(this,arguments))}return u(LiveTracks,t),i(LiveTracks,[{key:"getTrackId",value:function getTrackId(){return c.Struct.getInt32(0,this)}},{key:"setTrackId",value:function setTrackId(t){c.Struct.setInt32(0,t,this)}},{key:"getDRel",value:function getDRel(){return c.Struct.getFloat32(4,this)}},{key:"setDRel",value:function setDRel(t){c.Struct.setFloat32(4,t,this)}},{key:"getYRel",value:function getYRel(){return c.Struct.getFloat32(8,this)}},{key:"setYRel",value:function setYRel(t){c.Struct.setFloat32(8,t,this)}},{key:"getVRel",value:function getVRel(){return c.Struct.getFloat32(12,this)}},{key:"setVRel",value:function setVRel(t){c.Struct.setFloat32(12,t,this)}},{key:"getARel",value:function getARel(){return c.Struct.getFloat32(16,this)}},{key:"setARel",value:function setARel(t){c.Struct.setFloat32(16,t,this)}},{key:"getTimeStamp",value:function getTimeStamp(){return c.Struct.getFloat32(20,this)}},{key:"setTimeStamp",value:function setTimeStamp(t){c.Struct.setFloat32(20,t,this)}},{key:"getStatus",value:function getStatus(){return c.Struct.getFloat32(24,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setFloat32(24,t,this)}},{key:"getCurrentTime",value:function getCurrentTime(){return c.Struct.getFloat32(28,this)}},{key:"setCurrentTime",value:function setCurrentTime(t){c.Struct.setFloat32(28,t,this)}},{key:"getStationary",value:function getStationary(){return c.Struct.getBit(256,this)}},{key:"setStationary",value:function setStationary(t){c.Struct.setBit(256,t,this)}},{key:"getOncoming",value:function getOncoming(){return c.Struct.getBit(257,this)}},{key:"setOncoming",value:function setOncoming(t){c.Struct.setBit(257,t,this)}},{key:"toString",value:function toString(){return"LiveTracks_"+s(a(LiveTracks.prototype),"toString",this).call(this)}}]),LiveTracks}(c.Struct);Z._capnp={displayName:"LiveTracks",id:"8faa644732dec251",size:new c.ObjectSize(40,0)},e.LiveTracks=Z,function(t){t[t.DISABLED=0]="DISABLED",t[t.PRE_ENABLED=1]="PRE_ENABLED",t[t.ENABLED=2]="ENABLED",t[t.SOFT_DISABLING=3]="SOFT_DISABLING"}(H=e.ControlsState_OpenpilotState||(e.ControlsState_OpenpilotState={})),function(t){t[t.OFF=0]="OFF",t[t.PID=1]="PID",t[t.STOPPING=2]="STOPPING",t[t.STARTING=3]="STARTING"}(K=e.ControlsState_LongControlState||(e.ControlsState_LongControlState={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.USER_PROMPT=1]="USER_PROMPT",t[t.CRITICAL=2]="CRITICAL"}(Y=e.ControlsState_AlertStatus||(e.ControlsState_AlertStatus={})),function(t){t[t.NONE=0]="NONE",t[t.SMALL=1]="SMALL",t[t.MID=2]="MID",t[t.FULL=3]="FULL"}(X=e.ControlsState_AlertSize||(e.ControlsState_AlertSize={}));var $=function(t){function ControlsState_LateralINDIState(){return r(this,ControlsState_LateralINDIState),o(this,a(ControlsState_LateralINDIState).apply(this,arguments))}return u(ControlsState_LateralINDIState,t),i(ControlsState_LateralINDIState,[{key:"getActive",value:function getActive(){return c.Struct.getBit(0,this)}},{key:"setActive",value:function setActive(t){c.Struct.setBit(0,t,this)}},{key:"getSteerAngle",value:function getSteerAngle(){return c.Struct.getFloat32(4,this)}},{key:"setSteerAngle",value:function setSteerAngle(t){c.Struct.setFloat32(4,t,this)}},{key:"getSteerRate",value:function getSteerRate(){return c.Struct.getFloat32(8,this)}},{key:"setSteerRate",value:function setSteerRate(t){c.Struct.setFloat32(8,t,this)}},{key:"getSteerAccel",value:function getSteerAccel(){return c.Struct.getFloat32(12,this)}},{key:"setSteerAccel",value:function setSteerAccel(t){c.Struct.setFloat32(12,t,this)}},{key:"getRateSetPoint",value:function getRateSetPoint(){return c.Struct.getFloat32(16,this)}},{key:"setRateSetPoint",value:function setRateSetPoint(t){c.Struct.setFloat32(16,t,this)}},{key:"getAccelSetPoint",value:function getAccelSetPoint(){return c.Struct.getFloat32(20,this)}},{key:"setAccelSetPoint",value:function setAccelSetPoint(t){c.Struct.setFloat32(20,t,this)}},{key:"getAccelError",value:function getAccelError(){return c.Struct.getFloat32(24,this)}},{key:"setAccelError",value:function setAccelError(t){c.Struct.setFloat32(24,t,this)}},{key:"getDelayedOutput",value:function getDelayedOutput(){return c.Struct.getFloat32(28,this)}},{key:"setDelayedOutput",value:function setDelayedOutput(t){c.Struct.setFloat32(28,t,this)}},{key:"getDelta",value:function getDelta(){return c.Struct.getFloat32(32,this)}},{key:"setDelta",value:function setDelta(t){c.Struct.setFloat32(32,t,this)}},{key:"getOutput",value:function getOutput(){return c.Struct.getFloat32(36,this)}},{key:"setOutput",value:function setOutput(t){c.Struct.setFloat32(36,t,this)}},{key:"getSaturated",value:function getSaturated(){return c.Struct.getBit(1,this)}},{key:"setSaturated",value:function setSaturated(t){c.Struct.setBit(1,t,this)}},{key:"toString",value:function toString(){return"ControlsState_LateralINDIState_"+s(a(ControlsState_LateralINDIState.prototype),"toString",this).call(this)}}]),ControlsState_LateralINDIState}(c.Struct);$._capnp={displayName:"LateralINDIState",id:"939463348632375e",size:new c.ObjectSize(40,0)},e.ControlsState_LateralINDIState=$;var J=function(t){function ControlsState_LateralPIDState(){return r(this,ControlsState_LateralPIDState),o(this,a(ControlsState_LateralPIDState).apply(this,arguments))}return u(ControlsState_LateralPIDState,t),i(ControlsState_LateralPIDState,[{key:"getActive",value:function getActive(){return c.Struct.getBit(0,this)}},{key:"setActive",value:function setActive(t){c.Struct.setBit(0,t,this)}},{key:"getSteerAngle",value:function getSteerAngle(){return c.Struct.getFloat32(4,this)}},{key:"setSteerAngle",value:function setSteerAngle(t){c.Struct.setFloat32(4,t,this)}},{key:"getSteerRate",value:function getSteerRate(){return c.Struct.getFloat32(8,this)}},{key:"setSteerRate",value:function setSteerRate(t){c.Struct.setFloat32(8,t,this)}},{key:"getAngleError",value:function getAngleError(){return c.Struct.getFloat32(12,this)}},{key:"setAngleError",value:function setAngleError(t){c.Struct.setFloat32(12,t,this)}},{key:"getP",value:function getP(){return c.Struct.getFloat32(16,this)}},{key:"setP",value:function setP(t){c.Struct.setFloat32(16,t,this)}},{key:"getI",value:function getI(){return c.Struct.getFloat32(20,this)}},{key:"setI",value:function setI(t){c.Struct.setFloat32(20,t,this)}},{key:"getF",value:function getF(){return c.Struct.getFloat32(24,this)}},{key:"setF",value:function setF(t){c.Struct.setFloat32(24,t,this)}},{key:"getOutput",value:function getOutput(){return c.Struct.getFloat32(28,this)}},{key:"setOutput",value:function setOutput(t){c.Struct.setFloat32(28,t,this)}},{key:"getSaturated",value:function getSaturated(){return c.Struct.getBit(1,this)}},{key:"setSaturated",value:function setSaturated(t){c.Struct.setBit(1,t,this)}},{key:"toString",value:function toString(){return"ControlsState_LateralPIDState_"+s(a(ControlsState_LateralPIDState.prototype),"toString",this).call(this)}}]),ControlsState_LateralPIDState}(c.Struct);J._capnp={displayName:"LateralPIDState",id:"f28c5dc9e09375e3",size:new c.ObjectSize(32,0)},e.ControlsState_LateralPIDState=J;var Q,tt=function(t){function ControlsState_LateralLQRState(){return r(this,ControlsState_LateralLQRState),o(this,a(ControlsState_LateralLQRState).apply(this,arguments))}return u(ControlsState_LateralLQRState,t),i(ControlsState_LateralLQRState,[{key:"getActive",value:function getActive(){return c.Struct.getBit(0,this)}},{key:"setActive",value:function setActive(t){c.Struct.setBit(0,t,this)}},{key:"getSteerAngle",value:function getSteerAngle(){return c.Struct.getFloat32(4,this)}},{key:"setSteerAngle",value:function setSteerAngle(t){c.Struct.setFloat32(4,t,this)}},{key:"getI",value:function getI(){return c.Struct.getFloat32(8,this)}},{key:"setI",value:function setI(t){c.Struct.setFloat32(8,t,this)}},{key:"getOutput",value:function getOutput(){return c.Struct.getFloat32(12,this)}},{key:"setOutput",value:function setOutput(t){c.Struct.setFloat32(12,t,this)}},{key:"getLqrOutput",value:function getLqrOutput(){return c.Struct.getFloat32(16,this)}},{key:"setLqrOutput",value:function setLqrOutput(t){c.Struct.setFloat32(16,t,this)}},{key:"getSaturated",value:function getSaturated(){return c.Struct.getBit(1,this)}},{key:"setSaturated",value:function setSaturated(t){c.Struct.setBit(1,t,this)}},{key:"toString",value:function toString(){return"ControlsState_LateralLQRState_"+s(a(ControlsState_LateralLQRState.prototype),"toString",this).call(this)}}]),ControlsState_LateralLQRState}(c.Struct);tt._capnp={displayName:"LateralLQRState",id:"9024e2d790c82ade",size:new c.ObjectSize(24,0)},e.ControlsState_LateralLQRState=tt,function(t){t[t.INDI_STATE=0]="INDI_STATE",t[t.PID_STATE=1]="PID_STATE",t[t.LQR_STATE=2]="LQR_STATE"}(Q=e.ControlsState_LateralControlState_Which||(e.ControlsState_LateralControlState_Which={}));var et=function(t){function ControlsState_LateralControlState(){return r(this,ControlsState_LateralControlState),o(this,a(ControlsState_LateralControlState).apply(this,arguments))}return u(ControlsState_LateralControlState,t),i(ControlsState_LateralControlState,[{key:"adoptIndiState",value:function adoptIndiState(t){c.Struct.setUint16(142,0,this),c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownIndiState",value:function disownIndiState(){return c.Struct.disown(this.getIndiState())}},{key:"getIndiState",value:function getIndiState(){return c.Struct.testWhich("indiState",c.Struct.getUint16(142,this),0,this),c.Struct.getStruct(5,$,this)}},{key:"hasIndiState",value:function hasIndiState(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initIndiState",value:function initIndiState(){return c.Struct.setUint16(142,0,this),c.Struct.initStructAt(5,$,this)}},{key:"isIndiState",value:function isIndiState(){return 0===c.Struct.getUint16(142,this)}},{key:"setIndiState",value:function setIndiState(t){c.Struct.setUint16(142,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptPidState",value:function adoptPidState(t){c.Struct.setUint16(142,1,this),c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownPidState",value:function disownPidState(){return c.Struct.disown(this.getPidState())}},{key:"getPidState",value:function getPidState(){return c.Struct.testWhich("pidState",c.Struct.getUint16(142,this),1,this),c.Struct.getStruct(5,J,this)}},{key:"hasPidState",value:function hasPidState(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initPidState",value:function initPidState(){return c.Struct.setUint16(142,1,this),c.Struct.initStructAt(5,J,this)}},{key:"isPidState",value:function isPidState(){return 1===c.Struct.getUint16(142,this)}},{key:"setPidState",value:function setPidState(t){c.Struct.setUint16(142,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptLqrState",value:function adoptLqrState(t){c.Struct.setUint16(142,2,this),c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownLqrState",value:function disownLqrState(){return c.Struct.disown(this.getLqrState())}},{key:"getLqrState",value:function getLqrState(){return c.Struct.testWhich("lqrState",c.Struct.getUint16(142,this),2,this),c.Struct.getStruct(5,tt,this)}},{key:"hasLqrState",value:function hasLqrState(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initLqrState",value:function initLqrState(){return c.Struct.setUint16(142,2,this),c.Struct.initStructAt(5,tt,this)}},{key:"isLqrState",value:function isLqrState(){return 2===c.Struct.getUint16(142,this)}},{key:"setLqrState",value:function setLqrState(t){c.Struct.setUint16(142,2,this),c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"toString",value:function toString(){return"ControlsState_LateralControlState_"+s(a(ControlsState_LateralControlState.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(142,this)}}]),ControlsState_LateralControlState}(c.Struct);et.INDI_STATE=Q.INDI_STATE,et.PID_STATE=Q.PID_STATE,et.LQR_STATE=Q.LQR_STATE,et._capnp={displayName:"lateralControlState",id:"fd5b914d6b444695",size:new c.ObjectSize(176,6)},e.ControlsState_LateralControlState=et;var nt=function(t){function ControlsState(){return r(this,ControlsState),o(this,a(ControlsState).apply(this,arguments))}return u(ControlsState,t),i(ControlsState,[{key:"getStartMonoTime",value:function getStartMonoTime(){return c.Struct.getUint64(152,this)}},{key:"setStartMonoTime",value:function setStartMonoTime(t){c.Struct.setUint64(152,t,this)}},{key:"adoptCanMonoTimes",value:function adoptCanMonoTimes(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCanMonoTimes",value:function disownCanMonoTimes(){return c.Struct.disown(this.getCanMonoTimes())}},{key:"getCanMonoTimes",value:function getCanMonoTimes(){return c.Struct.getList(0,l.Uint64List,this)}},{key:"hasCanMonoTimes",value:function hasCanMonoTimes(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCanMonoTimes",value:function initCanMonoTimes(t){return c.Struct.initList(0,l.Uint64List,t,this)}},{key:"setCanMonoTimes",value:function setCanMonoTimes(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getLongitudinalPlanMonoTime",value:function getLongitudinalPlanMonoTime(){return c.Struct.getUint64(104,this)}},{key:"setLongitudinalPlanMonoTime",value:function setLongitudinalPlanMonoTime(t){c.Struct.setUint64(104,t,this)}},{key:"getLateralPlanMonoTime",value:function getLateralPlanMonoTime(){return c.Struct.getUint64(160,this)}},{key:"setLateralPlanMonoTime",value:function setLateralPlanMonoTime(t){c.Struct.setUint64(160,t,this)}},{key:"getState",value:function getState(){return c.Struct.getUint16(116,this)}},{key:"setState",value:function setState(t){c.Struct.setUint16(116,t,this)}},{key:"getEnabled",value:function getEnabled(){return c.Struct.getBit(704,this)}},{key:"setEnabled",value:function setEnabled(t){c.Struct.setBit(704,t,this)}},{key:"getActive",value:function getActive(){return c.Struct.getBit(707,this)}},{key:"setActive",value:function setActive(t){c.Struct.setBit(707,t,this)}},{key:"getLongControlState",value:function getLongControlState(){return c.Struct.getUint16(90,this)}},{key:"setLongControlState",value:function setLongControlState(t){c.Struct.setUint16(90,t,this)}},{key:"getVPid",value:function getVPid(){return c.Struct.getFloat32(8,this)}},{key:"setVPid",value:function setVPid(t){c.Struct.setFloat32(8,t,this)}},{key:"getVTargetLead",value:function getVTargetLead(){return c.Struct.getFloat32(12,this)}},{key:"setVTargetLead",value:function setVTargetLead(t){c.Struct.setFloat32(12,t,this)}},{key:"getVCruise",value:function getVCruise(){return c.Struct.getFloat32(92,this)}},{key:"setVCruise",value:function setVCruise(t){c.Struct.setFloat32(92,t,this)}},{key:"getUpAccelCmd",value:function getUpAccelCmd(){return c.Struct.getFloat32(16,this)}},{key:"setUpAccelCmd",value:function setUpAccelCmd(t){c.Struct.setFloat32(16,t,this)}},{key:"getUiAccelCmd",value:function getUiAccelCmd(){return c.Struct.getFloat32(20,this)}},{key:"setUiAccelCmd",value:function setUiAccelCmd(t){c.Struct.setFloat32(20,t,this)}},{key:"getUfAccelCmd",value:function getUfAccelCmd(){return c.Struct.getFloat32(124,this)}},{key:"setUfAccelCmd",value:function setUfAccelCmd(t){c.Struct.setFloat32(124,t,this)}},{key:"getATarget",value:function getATarget(){return c.Struct.getFloat32(132,this)}},{key:"setATarget",value:function setATarget(t){c.Struct.setFloat32(132,t,this)}},{key:"getAngleSteersDes",value:function getAngleSteersDes(){return c.Struct.getFloat32(112,this)}},{key:"setAngleSteersDes",value:function setAngleSteersDes(t){c.Struct.setFloat32(112,t,this)}},{key:"getCurvature",value:function getCurvature(){return c.Struct.getFloat32(136,this)}},{key:"setCurvature",value:function setCurvature(t){c.Struct.setFloat32(136,t,this)}},{key:"getForceDecel",value:function getForceDecel(){return c.Struct.getBit(713,this)}},{key:"setForceDecel",value:function setForceDecel(t){c.Struct.setBit(713,t,this)}},{key:"getAlertText1",value:function getAlertText1(){return c.Struct.getText(1,this)}},{key:"setAlertText1",value:function setAlertText1(t){c.Struct.setText(1,t,this)}},{key:"getAlertText2",value:function getAlertText2(){return c.Struct.getText(2,this)}},{key:"setAlertText2",value:function setAlertText2(t){c.Struct.setText(2,t,this)}},{key:"getAlertStatus",value:function getAlertStatus(){return c.Struct.getUint16(118,this)}},{key:"setAlertStatus",value:function setAlertStatus(t){c.Struct.setUint16(118,t,this)}},{key:"getAlertSize",value:function getAlertSize(){return c.Struct.getUint16(140,this)}},{key:"setAlertSize",value:function setAlertSize(t){c.Struct.setUint16(140,t,this)}},{key:"getAlertBlinkingRate",value:function getAlertBlinkingRate(){return c.Struct.getFloat32(144,this)}},{key:"setAlertBlinkingRate",value:function setAlertBlinkingRate(t){c.Struct.setFloat32(144,t,this)}},{key:"getAlertType",value:function getAlertType(){return c.Struct.getText(3,this)}},{key:"setAlertType",value:function setAlertType(t){c.Struct.setText(3,t,this)}},{key:"getAlertSound",value:function getAlertSound(){return c.Struct.getUint16(168,this)}},{key:"setAlertSound",value:function setAlertSound(t){c.Struct.setUint16(168,t,this)}},{key:"getEngageable",value:function getEngageable(){return c.Struct.getBit(709,this)}},{key:"setEngageable",value:function setEngageable(t){c.Struct.setBit(709,t,this)}},{key:"getCumLagMs",value:function getCumLagMs(){return c.Struct.getFloat32(60,this)}},{key:"setCumLagMs",value:function setCumLagMs(t){c.Struct.setFloat32(60,t,this)}},{key:"getCanErrorCounter",value:function getCanErrorCounter(){return c.Struct.getUint32(172,this)}},{key:"setCanErrorCounter",value:function setCanErrorCounter(t){c.Struct.setUint32(172,t,this)}},{key:"getLateralControlState",value:function getLateralControlState(){return c.Struct.getAs(et,this)}},{key:"initLateralControlState",value:function initLateralControlState(){return c.Struct.getAs(et,this)}},{key:"getVEgoDEPRECATED",value:function getVEgoDEPRECATED(){return c.Struct.getFloat32(0,this)}},{key:"setVEgoDEPRECATED",value:function setVEgoDEPRECATED(t){c.Struct.setFloat32(0,t,this)}},{key:"getVEgoRawDEPRECATED",value:function getVEgoRawDEPRECATED(){return c.Struct.getFloat32(120,this)}},{key:"setVEgoRawDEPRECATED",value:function setVEgoRawDEPRECATED(t){c.Struct.setFloat32(120,t,this)}},{key:"getAEgoDEPRECATED",value:function getAEgoDEPRECATED(){return c.Struct.getFloat32(4,this)}},{key:"setAEgoDEPRECATED",value:function setAEgoDEPRECATED(t){c.Struct.setFloat32(4,t,this)}},{key:"getCanMonoTimeDEPRECATED",value:function getCanMonoTimeDEPRECATED(){return c.Struct.getUint64(64,this)}},{key:"setCanMonoTimeDEPRECATED",value:function setCanMonoTimeDEPRECATED(t){c.Struct.setUint64(64,t,this)}},{key:"getRadarStateMonoTimeDEPRECATED",value:function getRadarStateMonoTimeDEPRECATED(){return c.Struct.getUint64(72,this)}},{key:"setRadarStateMonoTimeDEPRECATED",value:function setRadarStateMonoTimeDEPRECATED(t){c.Struct.setUint64(72,t,this)}},{key:"getMdMonoTimeDEPRECATED",value:function getMdMonoTimeDEPRECATED(){return c.Struct.getUint64(80,this)}},{key:"setMdMonoTimeDEPRECATED",value:function setMdMonoTimeDEPRECATED(t){c.Struct.setUint64(80,t,this)}},{key:"getYActualDEPRECATED",value:function getYActualDEPRECATED(){return c.Struct.getFloat32(24,this)}},{key:"setYActualDEPRECATED",value:function setYActualDEPRECATED(t){c.Struct.setFloat32(24,t,this)}},{key:"getYDesDEPRECATED",value:function getYDesDEPRECATED(){return c.Struct.getFloat32(28,this)}},{key:"setYDesDEPRECATED",value:function setYDesDEPRECATED(t){c.Struct.setFloat32(28,t,this)}},{key:"getUpSteerDEPRECATED",value:function getUpSteerDEPRECATED(){return c.Struct.getFloat32(32,this)}},{key:"setUpSteerDEPRECATED",value:function setUpSteerDEPRECATED(t){c.Struct.setFloat32(32,t,this)}},{key:"getUiSteerDEPRECATED",value:function getUiSteerDEPRECATED(){return c.Struct.getFloat32(36,this)}},{key:"setUiSteerDEPRECATED",value:function setUiSteerDEPRECATED(t){c.Struct.setFloat32(36,t,this)}},{key:"getUfSteerDEPRECATED",value:function getUfSteerDEPRECATED(){return c.Struct.getFloat32(128,this)}},{key:"setUfSteerDEPRECATED",value:function setUfSteerDEPRECATED(t){c.Struct.setFloat32(128,t,this)}},{key:"getATargetMinDEPRECATED",value:function getATargetMinDEPRECATED(){return c.Struct.getFloat32(40,this)}},{key:"setATargetMinDEPRECATED",value:function setATargetMinDEPRECATED(t){c.Struct.setFloat32(40,t,this)}},{key:"getATargetMaxDEPRECATED",value:function getATargetMaxDEPRECATED(){return c.Struct.getFloat32(44,this)}},{key:"setATargetMaxDEPRECATED",value:function setATargetMaxDEPRECATED(t){c.Struct.setFloat32(44,t,this)}},{key:"getRearViewCamDEPRECATED",value:function getRearViewCamDEPRECATED(){return c.Struct.getBit(706,this)}},{key:"setRearViewCamDEPRECATED",value:function setRearViewCamDEPRECATED(t){c.Struct.setBit(706,t,this)}},{key:"getDriverMonitoringOnDEPRECATED",value:function getDriverMonitoringOnDEPRECATED(){return c.Struct.getBit(710,this)}},{key:"setDriverMonitoringOnDEPRECATED",value:function setDriverMonitoringOnDEPRECATED(t){c.Struct.setBit(710,t,this)}},{key:"getHudLeadDEPRECATED",value:function getHudLeadDEPRECATED(){return c.Struct.getInt32(56,this)}},{key:"setHudLeadDEPRECATED",value:function setHudLeadDEPRECATED(t){c.Struct.setInt32(56,t,this)}},{key:"getAlertSoundDEPRECATED",value:function getAlertSoundDEPRECATED(){return c.Struct.getText(4,this)}},{key:"setAlertSoundDEPRECATED",value:function setAlertSoundDEPRECATED(t){c.Struct.setText(4,t,this)}},{key:"getAngleModelBiasDEPRECATED",value:function getAngleModelBiasDEPRECATED(){return c.Struct.getFloat32(100,this)}},{key:"setAngleModelBiasDEPRECATED",value:function setAngleModelBiasDEPRECATED(t){c.Struct.setFloat32(100,t,this)}},{key:"getGpsPlannerActiveDEPRECATED",value:function getGpsPlannerActiveDEPRECATED(){return c.Struct.getBit(708,this)}},{key:"setGpsPlannerActiveDEPRECATED",value:function setGpsPlannerActiveDEPRECATED(t){c.Struct.setBit(708,t,this)}},{key:"getDecelForTurnDEPRECATED",value:function getDecelForTurnDEPRECATED(){return c.Struct.getBit(711,this)}},{key:"setDecelForTurnDEPRECATED",value:function setDecelForTurnDEPRECATED(t){c.Struct.setBit(711,t,this)}},{key:"getDecelForModelDEPRECATED",value:function getDecelForModelDEPRECATED(){return c.Struct.getBit(714,this)}},{key:"setDecelForModelDEPRECATED",value:function setDecelForModelDEPRECATED(t){c.Struct.setBit(714,t,this)}},{key:"getAwarenessStatusDEPRECATED",value:function getAwarenessStatusDEPRECATED(){return c.Struct.getFloat32(96,this)}},{key:"setAwarenessStatusDEPRECATED",value:function setAwarenessStatusDEPRECATED(t){c.Struct.setFloat32(96,t,this)}},{key:"getAngleSteersDEPRECATED",value:function getAngleSteersDEPRECATED(){return c.Struct.getFloat32(52,this)}},{key:"setAngleSteersDEPRECATED",value:function setAngleSteersDEPRECATED(t){c.Struct.setFloat32(52,t,this)}},{key:"getVCurvatureDEPRECATED",value:function getVCurvatureDEPRECATED(){return c.Struct.getFloat32(148,this)}},{key:"setVCurvatureDEPRECATED",value:function setVCurvatureDEPRECATED(t){c.Struct.setFloat32(148,t,this)}},{key:"getMapValidDEPRECATED",value:function getMapValidDEPRECATED(){return c.Struct.getBit(712,this)}},{key:"setMapValidDEPRECATED",value:function setMapValidDEPRECATED(t){c.Struct.setBit(712,t,this)}},{key:"getJerkFactorDEPRECATED",value:function getJerkFactorDEPRECATED(){return c.Struct.getFloat32(48,this)}},{key:"setJerkFactorDEPRECATED",value:function setJerkFactorDEPRECATED(t){c.Struct.setFloat32(48,t,this)}},{key:"getSteerOverrideDEPRECATED",value:function getSteerOverrideDEPRECATED(){return c.Struct.getBit(705,this)}},{key:"setSteerOverrideDEPRECATED",value:function setSteerOverrideDEPRECATED(t){c.Struct.setBit(705,t,this)}},{key:"toString",value:function toString(){return"ControlsState_"+s(a(ControlsState.prototype),"toString",this).call(this)}}]),ControlsState}(c.Struct);nt.OpenpilotState=H,nt.LongControlState=K,nt.AlertStatus=Y,nt.AlertSize=X,nt.LateralINDIState=$,nt.LateralPIDState=J,nt.LateralLQRState=tt,nt._capnp={displayName:"ControlsState",id:"97ff69c53601abf1",size:new c.ObjectSize(176,6)},e.ControlsState=nt;var rt=function(t){function ModelDataV2_XYZTData(){return r(this,ModelDataV2_XYZTData),o(this,a(ModelDataV2_XYZTData).apply(this,arguments))}return u(ModelDataV2_XYZTData,t),i(ModelDataV2_XYZTData,[{key:"adoptX",value:function adoptX(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownX",value:function disownX(){return c.Struct.disown(this.getX())}},{key:"getX",value:function getX(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasX",value:function hasX(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initX",value:function initX(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setX",value:function setX(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptY",value:function adoptY(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownY",value:function disownY(){return c.Struct.disown(this.getY())}},{key:"getY",value:function getY(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasY",value:function hasY(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initY",value:function initY(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setY",value:function setY(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptZ",value:function adoptZ(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownZ",value:function disownZ(){return c.Struct.disown(this.getZ())}},{key:"getZ",value:function getZ(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasZ",value:function hasZ(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initZ",value:function initZ(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setZ",value:function setZ(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptT",value:function adoptT(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownT",value:function disownT(){return c.Struct.disown(this.getT())}},{key:"getT",value:function getT(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasT",value:function hasT(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initT",value:function initT(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setT",value:function setT(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptXStd",value:function adoptXStd(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownXStd",value:function disownXStd(){return c.Struct.disown(this.getXStd())}},{key:"getXStd",value:function getXStd(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasXStd",value:function hasXStd(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initXStd",value:function initXStd(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setXStd",value:function setXStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptYStd",value:function adoptYStd(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownYStd",value:function disownYStd(){return c.Struct.disown(this.getYStd())}},{key:"getYStd",value:function getYStd(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasYStd",value:function hasYStd(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initYStd",value:function initYStd(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setYStd",value:function setYStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptZStd",value:function adoptZStd(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownZStd",value:function disownZStd(){return c.Struct.disown(this.getZStd())}},{key:"getZStd",value:function getZStd(){return c.Struct.getList(6,l.Float32List,this)}},{key:"hasZStd",value:function hasZStd(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initZStd",value:function initZStd(t){return c.Struct.initList(6,l.Float32List,t,this)}},{key:"setZStd",value:function setZStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"toString",value:function toString(){return"ModelDataV2_XYZTData_"+s(a(ModelDataV2_XYZTData.prototype),"toString",this).call(this)}}]),ModelDataV2_XYZTData}(c.Struct);rt._capnp={displayName:"XYZTData",id:"c3cbae1fd505ae80",size:new c.ObjectSize(0,7)},e.ModelDataV2_XYZTData=rt;var it=function(t){function ModelDataV2_LeadDataV2(){return r(this,ModelDataV2_LeadDataV2),o(this,a(ModelDataV2_LeadDataV2).apply(this,arguments))}return u(ModelDataV2_LeadDataV2,t),i(ModelDataV2_LeadDataV2,[{key:"getProb",value:function getProb(){return c.Struct.getFloat32(0,this)}},{key:"setProb",value:function setProb(t){c.Struct.setFloat32(0,t,this)}},{key:"getT",value:function getT(){return c.Struct.getFloat32(4,this)}},{key:"setT",value:function setT(t){c.Struct.setFloat32(4,t,this)}},{key:"adoptXyva",value:function adoptXyva(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownXyva",value:function disownXyva(){return c.Struct.disown(this.getXyva())}},{key:"getXyva",value:function getXyva(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasXyva",value:function hasXyva(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initXyva",value:function initXyva(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setXyva",value:function setXyva(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptXyvaStd",value:function adoptXyvaStd(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownXyvaStd",value:function disownXyvaStd(){return c.Struct.disown(this.getXyvaStd())}},{key:"getXyvaStd",value:function getXyvaStd(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasXyvaStd",value:function hasXyvaStd(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initXyvaStd",value:function initXyvaStd(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setXyvaStd",value:function setXyvaStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"ModelDataV2_LeadDataV2_"+s(a(ModelDataV2_LeadDataV2.prototype),"toString",this).call(this)}}]),ModelDataV2_LeadDataV2}(c.Struct);it._capnp={displayName:"LeadDataV2",id:"a444ed2b2187af28",size:new c.ObjectSize(8,2)},e.ModelDataV2_LeadDataV2=it;var ot=function(t){function ModelDataV2_MetaData(){return r(this,ModelDataV2_MetaData),o(this,a(ModelDataV2_MetaData).apply(this,arguments))}return u(ModelDataV2_MetaData,t),i(ModelDataV2_MetaData,[{key:"getEngagedProb",value:function getEngagedProb(){return c.Struct.getFloat32(0,this)}},{key:"setEngagedProb",value:function setEngagedProb(t){c.Struct.setFloat32(0,t,this)}},{key:"adoptDesirePrediction",value:function adoptDesirePrediction(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDesirePrediction",value:function disownDesirePrediction(){return c.Struct.disown(this.getDesirePrediction())}},{key:"getDesirePrediction",value:function getDesirePrediction(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasDesirePrediction",value:function hasDesirePrediction(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDesirePrediction",value:function initDesirePrediction(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setDesirePrediction",value:function setDesirePrediction(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getBrakeDisengageProb",value:function getBrakeDisengageProb(){return c.Struct.getFloat32(4,this)}},{key:"setBrakeDisengageProb",value:function setBrakeDisengageProb(t){c.Struct.setFloat32(4,t,this)}},{key:"getGasDisengageProb",value:function getGasDisengageProb(){return c.Struct.getFloat32(8,this)}},{key:"setGasDisengageProb",value:function setGasDisengageProb(t){c.Struct.setFloat32(8,t,this)}},{key:"getSteerOverrideProb",value:function getSteerOverrideProb(){return c.Struct.getFloat32(12,this)}},{key:"setSteerOverrideProb",value:function setSteerOverrideProb(t){c.Struct.setFloat32(12,t,this)}},{key:"adoptDesireState",value:function adoptDesireState(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownDesireState",value:function disownDesireState(){return c.Struct.disown(this.getDesireState())}},{key:"getDesireState",value:function getDesireState(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasDesireState",value:function hasDesireState(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initDesireState",value:function initDesireState(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setDesireState",value:function setDesireState(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"ModelDataV2_MetaData_"+s(a(ModelDataV2_MetaData.prototype),"toString",this).call(this)}}]),ModelDataV2_MetaData}(c.Struct);ot._capnp={displayName:"MetaData",id:"d1646ab3b45cfabd",size:new c.ObjectSize(16,2)},e.ModelDataV2_MetaData=ot;var at,st=function(t){function ModelDataV2(){return r(this,ModelDataV2),o(this,a(ModelDataV2).apply(this,arguments))}return u(ModelDataV2,t),i(ModelDataV2,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getFrameAge",value:function getFrameAge(){return c.Struct.getUint32(4,this)}},{key:"setFrameAge",value:function setFrameAge(t){c.Struct.setUint32(4,t,this)}},{key:"getFrameDropPerc",value:function getFrameDropPerc(){return c.Struct.getFloat32(8,this)}},{key:"setFrameDropPerc",value:function setFrameDropPerc(t){c.Struct.setFloat32(8,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(16,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(16,t,this)}},{key:"getModelExecutionTime",value:function getModelExecutionTime(){return c.Struct.getFloat32(12,this)}},{key:"setModelExecutionTime",value:function setModelExecutionTime(t){c.Struct.setFloat32(12,t,this)}},{key:"getGpuExecutionTime",value:function getGpuExecutionTime(){return c.Struct.getFloat32(24,this)}},{key:"setGpuExecutionTime",value:function setGpuExecutionTime(t){c.Struct.setFloat32(24,t,this)}},{key:"adoptRawPredictions",value:function adoptRawPredictions(t){c.Struct.adopt(t,c.Struct.getPointer(11,this))}},{key:"disownRawPredictions",value:function disownRawPredictions(){return c.Struct.disown(this.getRawPredictions())}},{key:"getRawPredictions",value:function getRawPredictions(){return c.Struct.getData(11,this)}},{key:"hasRawPredictions",value:function hasRawPredictions(){return!c.Struct.isNull(c.Struct.getPointer(11,this))}},{key:"initRawPredictions",value:function initRawPredictions(t){return c.Struct.initData(11,t,this)}},{key:"setRawPredictions",value:function setRawPredictions(t){c.Struct.copyFrom(t,c.Struct.getPointer(11,this))}},{key:"adoptPosition",value:function adoptPosition(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPosition",value:function disownPosition(){return c.Struct.disown(this.getPosition())}},{key:"getPosition",value:function getPosition(){return c.Struct.getStruct(0,rt,this)}},{key:"hasPosition",value:function hasPosition(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPosition",value:function initPosition(){return c.Struct.initStructAt(0,rt,this)}},{key:"setPosition",value:function setPosition(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrientation",value:function adoptOrientation(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownOrientation",value:function disownOrientation(){return c.Struct.disown(this.getOrientation())}},{key:"getOrientation",value:function getOrientation(){return c.Struct.getStruct(1,rt,this)}},{key:"hasOrientation",value:function hasOrientation(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initOrientation",value:function initOrientation(){return c.Struct.initStructAt(1,rt,this)}},{key:"setOrientation",value:function setOrientation(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptVelocity",value:function adoptVelocity(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownVelocity",value:function disownVelocity(){return c.Struct.disown(this.getVelocity())}},{key:"getVelocity",value:function getVelocity(){return c.Struct.getStruct(2,rt,this)}},{key:"hasVelocity",value:function hasVelocity(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initVelocity",value:function initVelocity(){return c.Struct.initStructAt(2,rt,this)}},{key:"setVelocity",value:function setVelocity(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptOrientationRate",value:function adoptOrientationRate(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownOrientationRate",value:function disownOrientationRate(){return c.Struct.disown(this.getOrientationRate())}},{key:"getOrientationRate",value:function getOrientationRate(){return c.Struct.getStruct(3,rt,this)}},{key:"hasOrientationRate",value:function hasOrientationRate(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initOrientationRate",value:function initOrientationRate(){return c.Struct.initStructAt(3,rt,this)}},{key:"setOrientationRate",value:function setOrientationRate(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptLaneLines",value:function adoptLaneLines(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownLaneLines",value:function disownLaneLines(){return c.Struct.disown(this.getLaneLines())}},{key:"getLaneLines",value:function getLaneLines(){return c.Struct.getList(4,ModelDataV2._LaneLines,this)}},{key:"hasLaneLines",value:function hasLaneLines(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initLaneLines",value:function initLaneLines(t){return c.Struct.initList(4,ModelDataV2._LaneLines,t,this)}},{key:"setLaneLines",value:function setLaneLines(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptLaneLineProbs",value:function adoptLaneLineProbs(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownLaneLineProbs",value:function disownLaneLineProbs(){return c.Struct.disown(this.getLaneLineProbs())}},{key:"getLaneLineProbs",value:function getLaneLineProbs(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasLaneLineProbs",value:function hasLaneLineProbs(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initLaneLineProbs",value:function initLaneLineProbs(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setLaneLineProbs",value:function setLaneLineProbs(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptLaneLineStds",value:function adoptLaneLineStds(t){c.Struct.adopt(t,c.Struct.getPointer(9,this))}},{key:"disownLaneLineStds",value:function disownLaneLineStds(){return c.Struct.disown(this.getLaneLineStds())}},{key:"getLaneLineStds",value:function getLaneLineStds(){return c.Struct.getList(9,l.Float32List,this)}},{key:"hasLaneLineStds",value:function hasLaneLineStds(){return!c.Struct.isNull(c.Struct.getPointer(9,this))}},{key:"initLaneLineStds",value:function initLaneLineStds(t){return c.Struct.initList(9,l.Float32List,t,this)}},{key:"setLaneLineStds",value:function setLaneLineStds(t){c.Struct.copyFrom(t,c.Struct.getPointer(9,this))}},{key:"adoptRoadEdges",value:function adoptRoadEdges(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownRoadEdges",value:function disownRoadEdges(){return c.Struct.disown(this.getRoadEdges())}},{key:"getRoadEdges",value:function getRoadEdges(){return c.Struct.getList(6,ModelDataV2._RoadEdges,this)}},{key:"hasRoadEdges",value:function hasRoadEdges(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initRoadEdges",value:function initRoadEdges(t){return c.Struct.initList(6,ModelDataV2._RoadEdges,t,this)}},{key:"setRoadEdges",value:function setRoadEdges(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"adoptRoadEdgeStds",value:function adoptRoadEdgeStds(t){c.Struct.adopt(t,c.Struct.getPointer(10,this))}},{key:"disownRoadEdgeStds",value:function disownRoadEdgeStds(){return c.Struct.disown(this.getRoadEdgeStds())}},{key:"getRoadEdgeStds",value:function getRoadEdgeStds(){return c.Struct.getList(10,l.Float32List,this)}},{key:"hasRoadEdgeStds",value:function hasRoadEdgeStds(){return!c.Struct.isNull(c.Struct.getPointer(10,this))}},{key:"initRoadEdgeStds",value:function initRoadEdgeStds(t){return c.Struct.initList(10,l.Float32List,t,this)}},{key:"setRoadEdgeStds",value:function setRoadEdgeStds(t){c.Struct.copyFrom(t,c.Struct.getPointer(10,this))}},{key:"adoptLeads",value:function adoptLeads(t){c.Struct.adopt(t,c.Struct.getPointer(7,this))}},{key:"disownLeads",value:function disownLeads(){return c.Struct.disown(this.getLeads())}},{key:"getLeads",value:function getLeads(){return c.Struct.getList(7,ModelDataV2._Leads,this)}},{key:"hasLeads",value:function hasLeads(){return!c.Struct.isNull(c.Struct.getPointer(7,this))}},{key:"initLeads",value:function initLeads(t){return c.Struct.initList(7,ModelDataV2._Leads,t,this)}},{key:"setLeads",value:function setLeads(t){c.Struct.copyFrom(t,c.Struct.getPointer(7,this))}},{key:"adoptMeta",value:function adoptMeta(t){c.Struct.adopt(t,c.Struct.getPointer(8,this))}},{key:"disownMeta",value:function disownMeta(){return c.Struct.disown(this.getMeta())}},{key:"getMeta",value:function getMeta(){return c.Struct.getStruct(8,ot,this)}},{key:"hasMeta",value:function hasMeta(){return!c.Struct.isNull(c.Struct.getPointer(8,this))}},{key:"initMeta",value:function initMeta(){return c.Struct.initStructAt(8,ot,this)}},{key:"setMeta",value:function setMeta(t){c.Struct.copyFrom(t,c.Struct.getPointer(8,this))}},{key:"toString",value:function toString(){return"ModelDataV2_"+s(a(ModelDataV2.prototype),"toString",this).call(this)}}]),ModelDataV2}(c.Struct);st.XYZTData=rt,st.LeadDataV2=it,st.MetaData=ot,st._capnp={displayName:"ModelDataV2",id:"c4713f6b0d36abe9",size:new c.ObjectSize(32,12)},e.ModelDataV2=st,function(t){t[t.BIG_BOX_LOSSLESS=0]="BIG_BOX_LOSSLESS",t[t.FULL_HEVC=1]="FULL_HEVC",t[t.BIG_BOX_HEVC=2]="BIG_BOX_HEVC",t[t.CHFFR_ANDROID_H264=3]="CHFFR_ANDROID_H264",t[t.FULL_LOSSLESS_CLIP=4]="FULL_LOSSLESS_CLIP",t[t.FRONT=5]="FRONT"}(at=e.EncodeIndex_Type||(e.EncodeIndex_Type={}));var ut=function(t){function EncodeIndex(){return r(this,EncodeIndex),o(this,a(EncodeIndex).apply(this,arguments))}return u(EncodeIndex,t),i(EncodeIndex,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getType",value:function getType(){return c.Struct.getUint16(4,this)}},{key:"setType",value:function setType(t){c.Struct.setUint16(4,t,this)}},{key:"getEncodeId",value:function getEncodeId(){return c.Struct.getUint32(8,this)}},{key:"setEncodeId",value:function setEncodeId(t){c.Struct.setUint32(8,t,this)}},{key:"getSegmentNum",value:function getSegmentNum(){return c.Struct.getInt32(12,this)}},{key:"setSegmentNum",value:function setSegmentNum(t){c.Struct.setInt32(12,t,this)}},{key:"getSegmentId",value:function getSegmentId(){return c.Struct.getUint32(16,this)}},{key:"setSegmentId",value:function setSegmentId(t){c.Struct.setUint32(16,t,this)}},{key:"getSegmentIdEncode",value:function getSegmentIdEncode(){return c.Struct.getUint32(20,this)}},{key:"setSegmentIdEncode",value:function setSegmentIdEncode(t){c.Struct.setUint32(20,t,this)}},{key:"getTimestampSof",value:function getTimestampSof(){return c.Struct.getUint64(24,this)}},{key:"setTimestampSof",value:function setTimestampSof(t){c.Struct.setUint64(24,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(32,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(32,t,this)}},{key:"toString",value:function toString(){return"EncodeIndex_"+s(a(EncodeIndex.prototype),"toString",this).call(this)}}]),EncodeIndex}(c.Struct);ut.Type=at,ut._capnp={displayName:"EncodeIndex",id:"89d394e3541735fc",size:new c.ObjectSize(40,0)},e.EncodeIndex=ut;var lt,ct=function(t){function AndroidLogEntry(){return r(this,AndroidLogEntry),o(this,a(AndroidLogEntry).apply(this,arguments))}return u(AndroidLogEntry,t),i(AndroidLogEntry,[{key:"getId",value:function getId(){return c.Struct.getUint8(0,this)}},{key:"setId",value:function setId(t){c.Struct.setUint8(0,t,this)}},{key:"getTs",value:function getTs(){return c.Struct.getUint64(8,this)}},{key:"setTs",value:function setTs(t){c.Struct.setUint64(8,t,this)}},{key:"getPriority",value:function getPriority(){return c.Struct.getUint8(1,this)}},{key:"setPriority",value:function setPriority(t){c.Struct.setUint8(1,t,this)}},{key:"getPid",value:function getPid(){return c.Struct.getInt32(4,this)}},{key:"setPid",value:function setPid(t){c.Struct.setInt32(4,t,this)}},{key:"getTid",value:function getTid(){return c.Struct.getInt32(16,this)}},{key:"setTid",value:function setTid(t){c.Struct.setInt32(16,t,this)}},{key:"getTag",value:function getTag(){return c.Struct.getText(0,this)}},{key:"setTag",value:function setTag(t){c.Struct.setText(0,t,this)}},{key:"getMessage",value:function getMessage(){return c.Struct.getText(1,this)}},{key:"setMessage",value:function setMessage(t){c.Struct.setText(1,t,this)}},{key:"toString",value:function toString(){return"AndroidLogEntry_"+s(a(AndroidLogEntry.prototype),"toString",this).call(this)}}]),AndroidLogEntry}(c.Struct);ct._capnp={displayName:"AndroidLogEntry",id:"ea095da1894f7d85",size:new c.ObjectSize(24,2)},e.AndroidLogEntry=ct,function(t){t[t.CRUISE=0]="CRUISE",t[t.MPC1=1]="MPC1",t[t.MPC2=2]="MPC2",t[t.MPC3=3]="MPC3",t[t.MODEL=4]="MODEL"}(lt=e.LongitudinalPlan_LongitudinalPlanSource||(e.LongitudinalPlan_LongitudinalPlanSource={}));var ft=function(t){function LongitudinalPlan_GpsTrajectory(){return r(this,LongitudinalPlan_GpsTrajectory),o(this,a(LongitudinalPlan_GpsTrajectory).apply(this,arguments))}return u(LongitudinalPlan_GpsTrajectory,t),i(LongitudinalPlan_GpsTrajectory,[{key:"adoptX",value:function adoptX(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownX",value:function disownX(){return c.Struct.disown(this.getX())}},{key:"getX",value:function getX(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasX",value:function hasX(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initX",value:function initX(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setX",value:function setX(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptY",value:function adoptY(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownY",value:function disownY(){return c.Struct.disown(this.getY())}},{key:"getY",value:function getY(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasY",value:function hasY(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initY",value:function initY(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setY",value:function setY(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"LongitudinalPlan_GpsTrajectory_"+s(a(LongitudinalPlan_GpsTrajectory.prototype),"toString",this).call(this)}}]),LongitudinalPlan_GpsTrajectory}(c.Struct);ft._capnp={displayName:"GpsTrajectory",id:"8cfeb072f5301000",size:new c.ObjectSize(0,2)},e.LongitudinalPlan_GpsTrajectory=ft;var pt,dt,ht,gt=function(t){function LongitudinalPlan(){return r(this,LongitudinalPlan),o(this,a(LongitudinalPlan).apply(this,arguments))}return u(LongitudinalPlan,t),i(LongitudinalPlan,[{key:"getMdMonoTime",value:function getMdMonoTime(){return c.Struct.getUint64(24,this)}},{key:"setMdMonoTime",value:function setMdMonoTime(t){c.Struct.setUint64(24,t,this)}},{key:"getRadarStateMonoTime",value:function getRadarStateMonoTime(){return c.Struct.getUint64(32,this)}},{key:"setRadarStateMonoTime",value:function setRadarStateMonoTime(t){c.Struct.setUint64(32,t,this)}},{key:"getVCruise",value:function getVCruise(){return c.Struct.getFloat32(44,this)}},{key:"setVCruise",value:function setVCruise(t){c.Struct.setFloat32(44,t,this)}},{key:"getACruise",value:function getACruise(){return c.Struct.getFloat32(48,this)}},{key:"setACruise",value:function setACruise(t){c.Struct.setFloat32(48,t,this)}},{key:"getVTarget",value:function getVTarget(){return c.Struct.getFloat32(4,this)}},{key:"setVTarget",value:function setVTarget(t){c.Struct.setFloat32(4,t,this)}},{key:"getVTargetFuture",value:function getVTargetFuture(){return c.Struct.getFloat32(40,this)}},{key:"setVTargetFuture",value:function setVTargetFuture(t){c.Struct.setFloat32(40,t,this)}},{key:"getVMax",value:function getVMax(){return c.Struct.getFloat32(56,this)}},{key:"setVMax",value:function setVMax(t){c.Struct.setFloat32(56,t,this)}},{key:"getATarget",value:function getATarget(){return c.Struct.getFloat32(52,this)}},{key:"setATarget",value:function setATarget(t){c.Struct.setFloat32(52,t,this)}},{key:"getVStart",value:function getVStart(){return c.Struct.getFloat32(64,this)}},{key:"setVStart",value:function setVStart(t){c.Struct.setFloat32(64,t,this)}},{key:"getAStart",value:function getAStart(){return c.Struct.getFloat32(68,this)}},{key:"setAStart",value:function setAStart(t){c.Struct.setFloat32(68,t,this)}},{key:"getHasLead",value:function getHasLead(){return c.Struct.getBit(2,this)}},{key:"setHasLead",value:function setHasLead(t){c.Struct.setBit(2,t,this)}},{key:"getFcw",value:function getFcw(){return c.Struct.getBit(3,this)}},{key:"setFcw",value:function setFcw(t){c.Struct.setBit(3,t,this)}},{key:"getLongitudinalPlanSource",value:function getLongitudinalPlanSource(){return c.Struct.getUint16(2,this)}},{key:"setLongitudinalPlanSource",value:function setLongitudinalPlanSource(t){c.Struct.setUint16(2,t,this)}},{key:"getProcessingDelay",value:function getProcessingDelay(){return c.Struct.getFloat32(72,this)}},{key:"setProcessingDelay",value:function setProcessingDelay(t){c.Struct.setFloat32(72,t,this)}},{key:"getJerkFactorDEPRECATED",value:function getJerkFactorDEPRECATED(){return c.Struct.getFloat32(16,this)}},{key:"setJerkFactorDEPRECATED",value:function setJerkFactorDEPRECATED(t){c.Struct.setFloat32(16,t,this)}},{key:"getHasLeftLaneDEPRECATED",value:function getHasLeftLaneDEPRECATED(){return c.Struct.getBit(6,this)}},{key:"setHasLeftLaneDEPRECATED",value:function setHasLeftLaneDEPRECATED(t){c.Struct.setBit(6,t,this)}},{key:"getHasRightLaneDEPRECATED",value:function getHasRightLaneDEPRECATED(){return c.Struct.getBit(7,this)}},{key:"setHasRightLaneDEPRECATED",value:function setHasRightLaneDEPRECATED(t){c.Struct.setBit(7,t,this)}},{key:"getATargetMinDEPRECATED",value:function getATargetMinDEPRECATED(){return c.Struct.getFloat32(8,this)}},{key:"setATargetMinDEPRECATED",value:function setATargetMinDEPRECATED(t){c.Struct.setFloat32(8,t,this)}},{key:"getATargetMaxDEPRECATED",value:function getATargetMaxDEPRECATED(){return c.Struct.getFloat32(12,this)}},{key:"setATargetMaxDEPRECATED",value:function setATargetMaxDEPRECATED(t){c.Struct.setFloat32(12,t,this)}},{key:"getLateralValidDEPRECATED",value:function getLateralValidDEPRECATED(){return c.Struct.getBit(0,this)}},{key:"setLateralValidDEPRECATED",value:function setLateralValidDEPRECATED(t){c.Struct.setBit(0,t,this)}},{key:"getLongitudinalValidDEPRECATED",value:function getLongitudinalValidDEPRECATED(){return c.Struct.getBit(1,this)}},{key:"setLongitudinalValidDEPRECATED",value:function setLongitudinalValidDEPRECATED(t){c.Struct.setBit(1,t,this)}},{key:"adoptDPolyDEPRECATED",value:function adoptDPolyDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDPolyDEPRECATED",value:function disownDPolyDEPRECATED(){return c.Struct.disown(this.getDPolyDEPRECATED())}},{key:"getDPolyDEPRECATED",value:function getDPolyDEPRECATED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasDPolyDEPRECATED",value:function hasDPolyDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDPolyDEPRECATED",value:function initDPolyDEPRECATED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setDPolyDEPRECATED",value:function setDPolyDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getLaneWidthDEPRECATED",value:function getLaneWidthDEPRECATED(){return c.Struct.getFloat32(20,this)}},{key:"setLaneWidthDEPRECATED",value:function setLaneWidthDEPRECATED(t){c.Struct.setFloat32(20,t,this)}},{key:"getVCurvatureDEPRECATED",value:function getVCurvatureDEPRECATED(){return c.Struct.getFloat32(60,this)}},{key:"setVCurvatureDEPRECATED",value:function setVCurvatureDEPRECATED(t){c.Struct.setFloat32(60,t,this)}},{key:"getDecelForTurnDEPRECATED",value:function getDecelForTurnDEPRECATED(){return c.Struct.getBit(5,this)}},{key:"setDecelForTurnDEPRECATED",value:function setDecelForTurnDEPRECATED(t){c.Struct.setBit(5,t,this)}},{key:"getMapValidDEPRECATED",value:function getMapValidDEPRECATED(){return c.Struct.getBit(8,this)}},{key:"setMapValidDEPRECATED",value:function setMapValidDEPRECATED(t){c.Struct.setBit(8,t,this)}},{key:"getRadarValidDEPRECATED",value:function getRadarValidDEPRECATED(){return c.Struct.getBit(9,this)}},{key:"setRadarValidDEPRECATED",value:function setRadarValidDEPRECATED(t){c.Struct.setBit(9,t,this)}},{key:"getRadarCanErrorDEPRECATED",value:function getRadarCanErrorDEPRECATED(){return c.Struct.getBit(10,this)}},{key:"setRadarCanErrorDEPRECATED",value:function setRadarCanErrorDEPRECATED(t){c.Struct.setBit(10,t,this)}},{key:"getCommIssueDEPRECATED",value:function getCommIssueDEPRECATED(){return c.Struct.getBit(11,this)}},{key:"setCommIssueDEPRECATED",value:function setCommIssueDEPRECATED(t){c.Struct.setBit(11,t,this)}},{key:"adoptEventsDEPRECATED",value:function adoptEventsDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownEventsDEPRECATED",value:function disownEventsDEPRECATED(){return c.Struct.disown(this.getEventsDEPRECATED())}},{key:"getEventsDEPRECATED",value:function getEventsDEPRECATED(){return c.Struct.getList(2,LongitudinalPlan._EventsDEPRECATED,this)}},{key:"hasEventsDEPRECATED",value:function hasEventsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initEventsDEPRECATED",value:function initEventsDEPRECATED(t){return c.Struct.initList(2,LongitudinalPlan._EventsDEPRECATED,t,this)}},{key:"setEventsDEPRECATED",value:function setEventsDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptGpsTrajectoryDEPRECATED",value:function adoptGpsTrajectoryDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownGpsTrajectoryDEPRECATED",value:function disownGpsTrajectoryDEPRECATED(){return c.Struct.disown(this.getGpsTrajectoryDEPRECATED())}},{key:"getGpsTrajectoryDEPRECATED",value:function getGpsTrajectoryDEPRECATED(){return c.Struct.getStruct(1,ft,this)}},{key:"hasGpsTrajectoryDEPRECATED",value:function hasGpsTrajectoryDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initGpsTrajectoryDEPRECATED",value:function initGpsTrajectoryDEPRECATED(){return c.Struct.initStructAt(1,ft,this)}},{key:"setGpsTrajectoryDEPRECATED",value:function setGpsTrajectoryDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getGpsPlannerActiveDEPRECATED",value:function getGpsPlannerActiveDEPRECATED(){return c.Struct.getBit(4,this)}},{key:"setGpsPlannerActiveDEPRECATED",value:function setGpsPlannerActiveDEPRECATED(t){c.Struct.setBit(4,t,this)}},{key:"toString",value:function toString(){return"LongitudinalPlan_"+s(a(LongitudinalPlan.prototype),"toString",this).call(this)}}]),LongitudinalPlan}(c.Struct);gt.LongitudinalPlanSource=lt,gt.GpsTrajectory=ft,gt._capnp={displayName:"LongitudinalPlan",id:"e00b5b3eba12876c",size:new c.ObjectSize(80,3)},e.LongitudinalPlan=gt,function(t){t[t.NONE=0]="NONE",t[t.TURN_LEFT=1]="TURN_LEFT",t[t.TURN_RIGHT=2]="TURN_RIGHT",t[t.LANE_CHANGE_LEFT=3]="LANE_CHANGE_LEFT",t[t.LANE_CHANGE_RIGHT=4]="LANE_CHANGE_RIGHT",t[t.KEEP_LEFT=5]="KEEP_LEFT",t[t.KEEP_RIGHT=6]="KEEP_RIGHT"}(pt=e.LateralPlan_Desire||(e.LateralPlan_Desire={})),function(t){t[t.OFF=0]="OFF",t[t.PRE_LANE_CHANGE=1]="PRE_LANE_CHANGE",t[t.LANE_CHANGE_STARTING=2]="LANE_CHANGE_STARTING",t[t.LANE_CHANGE_FINISHING=3]="LANE_CHANGE_FINISHING"}(dt=e.LateralPlan_LaneChangeState||(e.LateralPlan_LaneChangeState={})),function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT"}(ht=e.LateralPlan_LaneChangeDirection||(e.LateralPlan_LaneChangeDirection={}));var yt,mt=function(t){function LateralPlan(){return r(this,LateralPlan),o(this,a(LateralPlan).apply(this,arguments))}return u(LateralPlan,t),i(LateralPlan,[{key:"getLaneWidth",value:function getLaneWidth(){return c.Struct.getFloat32(0,this)}},{key:"setLaneWidth",value:function setLaneWidth(t){c.Struct.setFloat32(0,t,this)}},{key:"getLProb",value:function getLProb(){return c.Struct.getFloat32(8,this)}},{key:"setLProb",value:function setLProb(t){c.Struct.setFloat32(8,t,this)}},{key:"getRProb",value:function getRProb(){return c.Struct.getFloat32(12,this)}},{key:"setRProb",value:function setRProb(t){c.Struct.setFloat32(12,t,this)}},{key:"adoptDPathPoints",value:function adoptDPathPoints(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownDPathPoints",value:function disownDPathPoints(){return c.Struct.disown(this.getDPathPoints())}},{key:"getDPathPoints",value:function getDPathPoints(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasDPathPoints",value:function hasDPathPoints(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initDPathPoints",value:function initDPathPoints(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setDPathPoints",value:function setDPathPoints(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"getDProb",value:function getDProb(){return c.Struct.getFloat32(36,this)}},{key:"setDProb",value:function setDProb(t){c.Struct.setFloat32(36,t,this)}},{key:"getAngleSteers",value:function getAngleSteers(){return c.Struct.getFloat32(16,this)}},{key:"setAngleSteers",value:function setAngleSteers(t){c.Struct.setFloat32(16,t,this)}},{key:"getRateSteers",value:function getRateSteers(){return c.Struct.getFloat32(28,this)}},{key:"setRateSteers",value:function setRateSteers(t){c.Struct.setFloat32(28,t,this)}},{key:"getMpcSolutionValid",value:function getMpcSolutionValid(){return c.Struct.getBit(160,this)}},{key:"setMpcSolutionValid",value:function setMpcSolutionValid(t){c.Struct.setBit(160,t,this)}},{key:"getAngleOffset",value:function getAngleOffset(){return c.Struct.getFloat32(24,this)}},{key:"setAngleOffset",value:function setAngleOffset(t){c.Struct.setFloat32(24,t,this)}},{key:"getDesire",value:function getDesire(){return c.Struct.getUint16(22,this)}},{key:"setDesire",value:function setDesire(t){c.Struct.setUint16(22,t,this)}},{key:"getLaneChangeState",value:function getLaneChangeState(){return c.Struct.getUint16(32,this)}},{key:"setLaneChangeState",value:function setLaneChangeState(t){c.Struct.setUint16(32,t,this)}},{key:"getLaneChangeDirection",value:function getLaneChangeDirection(){return c.Struct.getUint16(34,this)}},{key:"setLaneChangeDirection",value:function setLaneChangeDirection(t){c.Struct.setUint16(34,t,this)}},{key:"getCProbDEPRECATED",value:function getCProbDEPRECATED(){return c.Struct.getFloat32(4,this)}},{key:"setCProbDEPRECATED",value:function setCProbDEPRECATED(t){c.Struct.setFloat32(4,t,this)}},{key:"adoptDPolyDEPRECATED",value:function adoptDPolyDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDPolyDEPRECATED",value:function disownDPolyDEPRECATED(){return c.Struct.disown(this.getDPolyDEPRECATED())}},{key:"getDPolyDEPRECATED",value:function getDPolyDEPRECATED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasDPolyDEPRECATED",value:function hasDPolyDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDPolyDEPRECATED",value:function initDPolyDEPRECATED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setDPolyDEPRECATED",value:function setDPolyDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCPolyDEPRECATED",value:function adoptCPolyDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownCPolyDEPRECATED",value:function disownCPolyDEPRECATED(){return c.Struct.disown(this.getCPolyDEPRECATED())}},{key:"getCPolyDEPRECATED",value:function getCPolyDEPRECATED(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasCPolyDEPRECATED",value:function hasCPolyDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initCPolyDEPRECATED",value:function initCPolyDEPRECATED(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setCPolyDEPRECATED",value:function setCPolyDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptLPolyDEPRECATED",value:function adoptLPolyDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownLPolyDEPRECATED",value:function disownLPolyDEPRECATED(){return c.Struct.disown(this.getLPolyDEPRECATED())}},{key:"getLPolyDEPRECATED",value:function getLPolyDEPRECATED(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasLPolyDEPRECATED",value:function hasLPolyDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initLPolyDEPRECATED",value:function initLPolyDEPRECATED(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setLPolyDEPRECATED",value:function setLPolyDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptRPolyDEPRECATED",value:function adoptRPolyDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownRPolyDEPRECATED",value:function disownRPolyDEPRECATED(){return c.Struct.disown(this.getRPolyDEPRECATED())}},{key:"getRPolyDEPRECATED",value:function getRPolyDEPRECATED(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasRPolyDEPRECATED",value:function hasRPolyDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initRPolyDEPRECATED",value:function initRPolyDEPRECATED(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setRPolyDEPRECATED",value:function setRPolyDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getModelValidDEPRECATED",value:function getModelValidDEPRECATED(){return c.Struct.getBit(162,this)}},{key:"setModelValidDEPRECATED",value:function setModelValidDEPRECATED(t){c.Struct.setBit(162,t,this)}},{key:"getCommIssueDEPRECATED",value:function getCommIssueDEPRECATED(){return c.Struct.getBit(164,this)}},{key:"setCommIssueDEPRECATED",value:function setCommIssueDEPRECATED(t){c.Struct.setBit(164,t,this)}},{key:"getPosenetValidDEPRECATED",value:function getPosenetValidDEPRECATED(){return c.Struct.getBit(165,this)}},{key:"setPosenetValidDEPRECATED",value:function setPosenetValidDEPRECATED(t){c.Struct.setBit(165,t,this)}},{key:"getSensorValidDEPRECATED",value:function getSensorValidDEPRECATED(){return c.Struct.getBit(163,this)}},{key:"setSensorValidDEPRECATED",value:function setSensorValidDEPRECATED(t){c.Struct.setBit(163,t,this)}},{key:"getParamsValidDEPRECATED",value:function getParamsValidDEPRECATED(){return c.Struct.getBit(161,this)}},{key:"setParamsValidDEPRECATED",value:function setParamsValidDEPRECATED(t){c.Struct.setBit(161,t,this)}},{key:"toString",value:function toString(){return"LateralPlan_"+s(a(LateralPlan.prototype),"toString",this).call(this)}}]),LateralPlan}(c.Struct);mt.Desire=pt,mt.LaneChangeState=dt,mt.LaneChangeDirection=ht,mt._capnp={displayName:"LateralPlan",id:"e1e9318e2ae8b51e",size:new c.ObjectSize(40,5)},e.LateralPlan=mt,function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.UNCALIBRATED=1]="UNCALIBRATED",t[t.VALID=2]="VALID"}(yt=e.LiveLocationKalman_Status||(e.LiveLocationKalman_Status={}));var vt=function(t){function LiveLocationKalman_Measurement(){return r(this,LiveLocationKalman_Measurement),o(this,a(LiveLocationKalman_Measurement).apply(this,arguments))}return u(LiveLocationKalman_Measurement,t),i(LiveLocationKalman_Measurement,[{key:"adoptValue",value:function adoptValue(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownValue",value:function disownValue(){return c.Struct.disown(this.getValue())}},{key:"getValue",value:function getValue(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasValue",value:function hasValue(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initValue",value:function initValue(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setValue",value:function setValue(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptStd",value:function adoptStd(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownStd",value:function disownStd(){return c.Struct.disown(this.getStd())}},{key:"getStd",value:function getStd(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasStd",value:function hasStd(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initStd",value:function initStd(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setStd",value:function setStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getValid",value:function getValid(){return c.Struct.getBit(0,this)}},{key:"setValid",value:function setValid(t){c.Struct.setBit(0,t,this)}},{key:"toString",value:function toString(){return"LiveLocationKalman_Measurement_"+s(a(LiveLocationKalman_Measurement.prototype),"toString",this).call(this)}}]),LiveLocationKalman_Measurement}(c.Struct);vt._capnp={displayName:"Measurement",id:"bf23f9ed66dace1c",size:new c.ObjectSize(8,2)},e.LiveLocationKalman_Measurement=vt;var _t=function(t){function LiveLocationKalman(){return r(this,LiveLocationKalman),o(this,a(LiveLocationKalman).apply(this,arguments))}return u(LiveLocationKalman,t),i(LiveLocationKalman,[{key:"adoptPositionECEF",value:function adoptPositionECEF(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPositionECEF",value:function disownPositionECEF(){return c.Struct.disown(this.getPositionECEF())}},{key:"getPositionECEF",value:function getPositionECEF(){return c.Struct.getStruct(0,vt,this)}},{key:"hasPositionECEF",value:function hasPositionECEF(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPositionECEF",value:function initPositionECEF(){return c.Struct.initStructAt(0,vt,this)}},{key:"setPositionECEF",value:function setPositionECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptPositionGeodetic",value:function adoptPositionGeodetic(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownPositionGeodetic",value:function disownPositionGeodetic(){return c.Struct.disown(this.getPositionGeodetic())}},{key:"getPositionGeodetic",value:function getPositionGeodetic(){return c.Struct.getStruct(1,vt,this)}},{key:"hasPositionGeodetic",value:function hasPositionGeodetic(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initPositionGeodetic",value:function initPositionGeodetic(){return c.Struct.initStructAt(1,vt,this)}},{key:"setPositionGeodetic",value:function setPositionGeodetic(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptVelocityECEF",value:function adoptVelocityECEF(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownVelocityECEF",value:function disownVelocityECEF(){return c.Struct.disown(this.getVelocityECEF())}},{key:"getVelocityECEF",value:function getVelocityECEF(){return c.Struct.getStruct(2,vt,this)}},{key:"hasVelocityECEF",value:function hasVelocityECEF(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initVelocityECEF",value:function initVelocityECEF(){return c.Struct.initStructAt(2,vt,this)}},{key:"setVelocityECEF",value:function setVelocityECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptVelocityNED",value:function adoptVelocityNED(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownVelocityNED",value:function disownVelocityNED(){return c.Struct.disown(this.getVelocityNED())}},{key:"getVelocityNED",value:function getVelocityNED(){return c.Struct.getStruct(3,vt,this)}},{key:"hasVelocityNED",value:function hasVelocityNED(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initVelocityNED",value:function initVelocityNED(){return c.Struct.initStructAt(3,vt,this)}},{key:"setVelocityNED",value:function setVelocityNED(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptVelocityDevice",value:function adoptVelocityDevice(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownVelocityDevice",value:function disownVelocityDevice(){return c.Struct.disown(this.getVelocityDevice())}},{key:"getVelocityDevice",value:function getVelocityDevice(){return c.Struct.getStruct(4,vt,this)}},{key:"hasVelocityDevice",value:function hasVelocityDevice(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initVelocityDevice",value:function initVelocityDevice(){return c.Struct.initStructAt(4,vt,this)}},{key:"setVelocityDevice",value:function setVelocityDevice(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptAccelerationDevice",value:function adoptAccelerationDevice(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownAccelerationDevice",value:function disownAccelerationDevice(){return c.Struct.disown(this.getAccelerationDevice())}},{key:"getAccelerationDevice",value:function getAccelerationDevice(){return c.Struct.getStruct(5,vt,this)}},{key:"hasAccelerationDevice",value:function hasAccelerationDevice(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initAccelerationDevice",value:function initAccelerationDevice(){return c.Struct.initStructAt(5,vt,this)}},{key:"setAccelerationDevice",value:function setAccelerationDevice(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptOrientationECEF",value:function adoptOrientationECEF(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownOrientationECEF",value:function disownOrientationECEF(){return c.Struct.disown(this.getOrientationECEF())}},{key:"getOrientationECEF",value:function getOrientationECEF(){return c.Struct.getStruct(6,vt,this)}},{key:"hasOrientationECEF",value:function hasOrientationECEF(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initOrientationECEF",value:function initOrientationECEF(){return c.Struct.initStructAt(6,vt,this)}},{key:"setOrientationECEF",value:function setOrientationECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"adoptCalibratedOrientationECEF",value:function adoptCalibratedOrientationECEF(t){c.Struct.adopt(t,c.Struct.getPointer(13,this))}},{key:"disownCalibratedOrientationECEF",value:function disownCalibratedOrientationECEF(){return c.Struct.disown(this.getCalibratedOrientationECEF())}},{key:"getCalibratedOrientationECEF",value:function getCalibratedOrientationECEF(){return c.Struct.getStruct(13,vt,this)}},{key:"hasCalibratedOrientationECEF",value:function hasCalibratedOrientationECEF(){return!c.Struct.isNull(c.Struct.getPointer(13,this))}},{key:"initCalibratedOrientationECEF",value:function initCalibratedOrientationECEF(){return c.Struct.initStructAt(13,vt,this)}},{key:"setCalibratedOrientationECEF",value:function setCalibratedOrientationECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(13,this))}},{key:"adoptOrientationNED",value:function adoptOrientationNED(t){c.Struct.adopt(t,c.Struct.getPointer(7,this))}},{key:"disownOrientationNED",value:function disownOrientationNED(){return c.Struct.disown(this.getOrientationNED())}},{key:"getOrientationNED",value:function getOrientationNED(){return c.Struct.getStruct(7,vt,this)}},{key:"hasOrientationNED",value:function hasOrientationNED(){return!c.Struct.isNull(c.Struct.getPointer(7,this))}},{key:"initOrientationNED",value:function initOrientationNED(){return c.Struct.initStructAt(7,vt,this)}},{key:"setOrientationNED",value:function setOrientationNED(t){c.Struct.copyFrom(t,c.Struct.getPointer(7,this))}},{key:"adoptAngularVelocityDevice",value:function adoptAngularVelocityDevice(t){c.Struct.adopt(t,c.Struct.getPointer(8,this))}},{key:"disownAngularVelocityDevice",value:function disownAngularVelocityDevice(){return c.Struct.disown(this.getAngularVelocityDevice())}},{key:"getAngularVelocityDevice",value:function getAngularVelocityDevice(){return c.Struct.getStruct(8,vt,this)}},{key:"hasAngularVelocityDevice",value:function hasAngularVelocityDevice(){return!c.Struct.isNull(c.Struct.getPointer(8,this))}},{key:"initAngularVelocityDevice",value:function initAngularVelocityDevice(){return c.Struct.initStructAt(8,vt,this)}},{key:"setAngularVelocityDevice",value:function setAngularVelocityDevice(t){c.Struct.copyFrom(t,c.Struct.getPointer(8,this))}},{key:"adoptOrientationNEDCalibrated",value:function adoptOrientationNEDCalibrated(t){c.Struct.adopt(t,c.Struct.getPointer(9,this))}},{key:"disownOrientationNEDCalibrated",value:function disownOrientationNEDCalibrated(){return c.Struct.disown(this.getOrientationNEDCalibrated())}},{key:"getOrientationNEDCalibrated",value:function getOrientationNEDCalibrated(){return c.Struct.getStruct(9,vt,this)}},{key:"hasOrientationNEDCalibrated",value:function hasOrientationNEDCalibrated(){return!c.Struct.isNull(c.Struct.getPointer(9,this))}},{key:"initOrientationNEDCalibrated",value:function initOrientationNEDCalibrated(){return c.Struct.initStructAt(9,vt,this)}},{key:"setOrientationNEDCalibrated",value:function setOrientationNEDCalibrated(t){c.Struct.copyFrom(t,c.Struct.getPointer(9,this))}},{key:"adoptVelocityCalibrated",value:function adoptVelocityCalibrated(t){c.Struct.adopt(t,c.Struct.getPointer(10,this))}},{key:"disownVelocityCalibrated",value:function disownVelocityCalibrated(){return c.Struct.disown(this.getVelocityCalibrated())}},{key:"getVelocityCalibrated",value:function getVelocityCalibrated(){return c.Struct.getStruct(10,vt,this)}},{key:"hasVelocityCalibrated",value:function hasVelocityCalibrated(){return!c.Struct.isNull(c.Struct.getPointer(10,this))}},{key:"initVelocityCalibrated",value:function initVelocityCalibrated(){return c.Struct.initStructAt(10,vt,this)}},{key:"setVelocityCalibrated",value:function setVelocityCalibrated(t){c.Struct.copyFrom(t,c.Struct.getPointer(10,this))}},{key:"adoptAccelerationCalibrated",value:function adoptAccelerationCalibrated(t){c.Struct.adopt(t,c.Struct.getPointer(11,this))}},{key:"disownAccelerationCalibrated",value:function disownAccelerationCalibrated(){return c.Struct.disown(this.getAccelerationCalibrated())}},{key:"getAccelerationCalibrated",value:function getAccelerationCalibrated(){return c.Struct.getStruct(11,vt,this)}},{key:"hasAccelerationCalibrated",value:function hasAccelerationCalibrated(){return!c.Struct.isNull(c.Struct.getPointer(11,this))}},{key:"initAccelerationCalibrated",value:function initAccelerationCalibrated(){return c.Struct.initStructAt(11,vt,this)}},{key:"setAccelerationCalibrated",value:function setAccelerationCalibrated(t){c.Struct.copyFrom(t,c.Struct.getPointer(11,this))}},{key:"adoptAngularVelocityCalibrated",value:function adoptAngularVelocityCalibrated(t){c.Struct.adopt(t,c.Struct.getPointer(12,this))}},{key:"disownAngularVelocityCalibrated",value:function disownAngularVelocityCalibrated(){return c.Struct.disown(this.getAngularVelocityCalibrated())}},{key:"getAngularVelocityCalibrated",value:function getAngularVelocityCalibrated(){return c.Struct.getStruct(12,vt,this)}},{key:"hasAngularVelocityCalibrated",value:function hasAngularVelocityCalibrated(){return!c.Struct.isNull(c.Struct.getPointer(12,this))}},{key:"initAngularVelocityCalibrated",value:function initAngularVelocityCalibrated(){return c.Struct.initStructAt(12,vt,this)}},{key:"setAngularVelocityCalibrated",value:function setAngularVelocityCalibrated(t){c.Struct.copyFrom(t,c.Struct.getPointer(12,this))}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getInt32(0,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setInt32(0,t,this)}},{key:"getGpsTimeOfWeek",value:function getGpsTimeOfWeek(){return c.Struct.getFloat64(8,this)}},{key:"setGpsTimeOfWeek",value:function setGpsTimeOfWeek(t){c.Struct.setFloat64(8,t,this)}},{key:"getStatus",value:function getStatus(){return c.Struct.getUint16(4,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setUint16(4,t,this)}},{key:"getUnixTimestampMillis",value:function getUnixTimestampMillis(){return c.Struct.getInt64(16,this)}},{key:"setUnixTimestampMillis",value:function setUnixTimestampMillis(t){c.Struct.setInt64(16,t,this)}},{key:"getInputsOK",value:function getInputsOK(){return c.Struct.getBit(48,this,LiveLocationKalman._capnp.defaultInputsOK)}},{key:"setInputsOK",value:function setInputsOK(t){c.Struct.setBit(48,t,this)}},{key:"getPosenetOK",value:function getPosenetOK(){return c.Struct.getBit(49,this,LiveLocationKalman._capnp.defaultPosenetOK)}},{key:"setPosenetOK",value:function setPosenetOK(t){c.Struct.setBit(49,t,this)}},{key:"getGpsOK",value:function getGpsOK(){return c.Struct.getBit(50,this,LiveLocationKalman._capnp.defaultGpsOK)}},{key:"setGpsOK",value:function setGpsOK(t){c.Struct.setBit(50,t,this)}},{key:"getSensorsOK",value:function getSensorsOK(){return c.Struct.getBit(51,this,LiveLocationKalman._capnp.defaultSensorsOK)}},{key:"setSensorsOK",value:function setSensorsOK(t){c.Struct.setBit(51,t,this)}},{key:"getDeviceStable",value:function getDeviceStable(){return c.Struct.getBit(52,this,LiveLocationKalman._capnp.defaultDeviceStable)}},{key:"setDeviceStable",value:function setDeviceStable(t){c.Struct.setBit(52,t,this)}},{key:"toString",value:function toString(){return"LiveLocationKalman_"+s(a(LiveLocationKalman.prototype),"toString",this).call(this)}}]),LiveLocationKalman}(c.Struct);_t.Status=yt,_t.Measurement=vt,_t._capnp={displayName:"LiveLocationKalman",id:"ebc5703d1ee7c129",size:new c.ObjectSize(24,14),defaultInputsOK:l.getBitMask(!0,0),defaultPosenetOK:l.getBitMask(!0,1),defaultGpsOK:l.getBitMask(!0,2),defaultSensorsOK:l.getBitMask(!0,3),defaultDeviceStable:l.getBitMask(!0,4)},e.LiveLocationKalman=_t;var bt,St=function(t){function LiveLocationData_Accuracy(){return r(this,LiveLocationData_Accuracy),o(this,a(LiveLocationData_Accuracy).apply(this,arguments))}return u(LiveLocationData_Accuracy,t),i(LiveLocationData_Accuracy,[{key:"adoptPNEDError",value:function adoptPNEDError(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPNEDError",value:function disownPNEDError(){return c.Struct.disown(this.getPNEDError())}},{key:"getPNEDError",value:function getPNEDError(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasPNEDError",value:function hasPNEDError(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPNEDError",value:function initPNEDError(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setPNEDError",value:function setPNEDError(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptVNEDError",value:function adoptVNEDError(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownVNEDError",value:function disownVNEDError(){return c.Struct.disown(this.getVNEDError())}},{key:"getVNEDError",value:function getVNEDError(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasVNEDError",value:function hasVNEDError(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initVNEDError",value:function initVNEDError(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setVNEDError",value:function setVNEDError(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getRollError",value:function getRollError(){return c.Struct.getFloat32(0,this)}},{key:"setRollError",value:function setRollError(t){c.Struct.setFloat32(0,t,this)}},{key:"getPitchError",value:function getPitchError(){return c.Struct.getFloat32(4,this)}},{key:"setPitchError",value:function setPitchError(t){c.Struct.setFloat32(4,t,this)}},{key:"getHeadingError",value:function getHeadingError(){return c.Struct.getFloat32(8,this)}},{key:"setHeadingError",value:function setHeadingError(t){c.Struct.setFloat32(8,t,this)}},{key:"getEllipsoidSemiMajorError",value:function getEllipsoidSemiMajorError(){return c.Struct.getFloat32(12,this)}},{key:"setEllipsoidSemiMajorError",value:function setEllipsoidSemiMajorError(t){c.Struct.setFloat32(12,t,this)}},{key:"getEllipsoidSemiMinorError",value:function getEllipsoidSemiMinorError(){return c.Struct.getFloat32(16,this)}},{key:"setEllipsoidSemiMinorError",value:function setEllipsoidSemiMinorError(t){c.Struct.setFloat32(16,t,this)}},{key:"getEllipsoidOrientationError",value:function getEllipsoidOrientationError(){return c.Struct.getFloat32(20,this)}},{key:"setEllipsoidOrientationError",value:function setEllipsoidOrientationError(t){c.Struct.setFloat32(20,t,this)}},{key:"toString",value:function toString(){return"LiveLocationData_Accuracy_"+s(a(LiveLocationData_Accuracy.prototype),"toString",this).call(this)}}]),LiveLocationData_Accuracy}(c.Struct);St._capnp={displayName:"Accuracy",id:"943dc4625473b03f",size:new c.ObjectSize(24,2)},e.LiveLocationData_Accuracy=St,function(t){t[t.APPLANIX=0]="APPLANIX",t[t.KALMAN=1]="KALMAN",t[t.ORBSLAM=2]="ORBSLAM",t[t.TIMING=3]="TIMING",t[t.DUMMY=4]="DUMMY"}(bt=e.LiveLocationData_SensorSource||(e.LiveLocationData_SensorSource={}));var Et=function(t){function LiveLocationData(){return r(this,LiveLocationData),o(this,a(LiveLocationData).apply(this,arguments))}return u(LiveLocationData,t),i(LiveLocationData,[{key:"getStatus",value:function getStatus(){return c.Struct.getUint8(0,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setUint8(0,t,this)}},{key:"getLat",value:function getLat(){return c.Struct.getFloat64(8,this)}},{key:"setLat",value:function setLat(t){c.Struct.setFloat64(8,t,this)}},{key:"getLon",value:function getLon(){return c.Struct.getFloat64(16,this)}},{key:"setLon",value:function setLon(t){c.Struct.setFloat64(16,t,this)}},{key:"getAlt",value:function getAlt(){return c.Struct.getFloat32(4,this)}},{key:"setAlt",value:function setAlt(t){c.Struct.setFloat32(4,t,this)}},{key:"getSpeed",value:function getSpeed(){return c.Struct.getFloat32(24,this)}},{key:"setSpeed",value:function setSpeed(t){c.Struct.setFloat32(24,t,this)}},{key:"adoptVNED",value:function adoptVNED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownVNED",value:function disownVNED(){return c.Struct.disown(this.getVNED())}},{key:"getVNED",value:function getVNED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasVNED",value:function hasVNED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initVNED",value:function initVNED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setVNED",value:function setVNED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getRoll",value:function getRoll(){return c.Struct.getFloat32(28,this)}},{key:"setRoll",value:function setRoll(t){c.Struct.setFloat32(28,t,this)}},{key:"getPitch",value:function getPitch(){return c.Struct.getFloat32(32,this)}},{key:"setPitch",value:function setPitch(t){c.Struct.setFloat32(32,t,this)}},{key:"getHeading",value:function getHeading(){return c.Struct.getFloat32(36,this)}},{key:"setHeading",value:function setHeading(t){c.Struct.setFloat32(36,t,this)}},{key:"getWanderAngle",value:function getWanderAngle(){return c.Struct.getFloat32(40,this)}},{key:"setWanderAngle",value:function setWanderAngle(t){c.Struct.setFloat32(40,t,this)}},{key:"getTrackAngle",value:function getTrackAngle(){return c.Struct.getFloat32(44,this)}},{key:"setTrackAngle",value:function setTrackAngle(t){c.Struct.setFloat32(44,t,this)}},{key:"adoptGyro",value:function adoptGyro(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownGyro",value:function disownGyro(){return c.Struct.disown(this.getGyro())}},{key:"getGyro",value:function getGyro(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasGyro",value:function hasGyro(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initGyro",value:function initGyro(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setGyro",value:function setGyro(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptAccel",value:function adoptAccel(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownAccel",value:function disownAccel(){return c.Struct.disown(this.getAccel())}},{key:"getAccel",value:function getAccel(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasAccel",value:function hasAccel(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initAccel",value:function initAccel(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setAccel",value:function setAccel(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptAccuracy",value:function adoptAccuracy(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownAccuracy",value:function disownAccuracy(){return c.Struct.disown(this.getAccuracy())}},{key:"getAccuracy",value:function getAccuracy(){return c.Struct.getStruct(3,St,this)}},{key:"hasAccuracy",value:function hasAccuracy(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initAccuracy",value:function initAccuracy(){return c.Struct.initStructAt(3,St,this)}},{key:"setAccuracy",value:function setAccuracy(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getSource",value:function getSource(){return c.Struct.getUint16(2,this)}},{key:"setSource",value:function setSource(t){c.Struct.setUint16(2,t,this)}},{key:"getFixMonoTime",value:function getFixMonoTime(){return c.Struct.getUint64(48,this)}},{key:"setFixMonoTime",value:function setFixMonoTime(t){c.Struct.setUint64(48,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getInt32(56,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setInt32(56,t,this)}},{key:"getTimeOfWeek",value:function getTimeOfWeek(){return c.Struct.getFloat64(64,this)}},{key:"setTimeOfWeek",value:function setTimeOfWeek(t){c.Struct.setFloat64(64,t,this)}},{key:"adoptPositionECEF",value:function adoptPositionECEF(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownPositionECEF",value:function disownPositionECEF(){return c.Struct.disown(this.getPositionECEF())}},{key:"getPositionECEF",value:function getPositionECEF(){return c.Struct.getList(4,l.Float64List,this)}},{key:"hasPositionECEF",value:function hasPositionECEF(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initPositionECEF",value:function initPositionECEF(t){return c.Struct.initList(4,l.Float64List,t,this)}},{key:"setPositionECEF",value:function setPositionECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptPoseQuatECEF",value:function adoptPoseQuatECEF(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownPoseQuatECEF",value:function disownPoseQuatECEF(){return c.Struct.disown(this.getPoseQuatECEF())}},{key:"getPoseQuatECEF",value:function getPoseQuatECEF(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasPoseQuatECEF",value:function hasPoseQuatECEF(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initPoseQuatECEF",value:function initPoseQuatECEF(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setPoseQuatECEF",value:function setPoseQuatECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"getPitchCalibration",value:function getPitchCalibration(){return c.Struct.getFloat32(60,this)}},{key:"setPitchCalibration",value:function setPitchCalibration(t){c.Struct.setFloat32(60,t,this)}},{key:"getYawCalibration",value:function getYawCalibration(){return c.Struct.getFloat32(72,this)}},{key:"setYawCalibration",value:function setYawCalibration(t){c.Struct.setFloat32(72,t,this)}},{key:"adoptImuFrame",value:function adoptImuFrame(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownImuFrame",value:function disownImuFrame(){return c.Struct.disown(this.getImuFrame())}},{key:"getImuFrame",value:function getImuFrame(){return c.Struct.getList(6,l.Float32List,this)}},{key:"hasImuFrame",value:function hasImuFrame(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initImuFrame",value:function initImuFrame(t){return c.Struct.initList(6,l.Float32List,t,this)}},{key:"setImuFrame",value:function setImuFrame(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"toString",value:function toString(){return"LiveLocationData_"+s(a(LiveLocationData.prototype),"toString",this).call(this)}}]),LiveLocationData}(c.Struct);Et.Accuracy=St,Et.SensorSource=bt,Et._capnp={displayName:"LiveLocationData",id:"b99b2bc7a57e8128",size:new c.ObjectSize(80,7)},e.LiveLocationData=Et;var xt=function(t){function ProcLog_Process(){return r(this,ProcLog_Process),o(this,a(ProcLog_Process).apply(this,arguments))}return u(ProcLog_Process,t),i(ProcLog_Process,[{key:"getPid",value:function getPid(){return c.Struct.getInt32(0,this)}},{key:"setPid",value:function setPid(t){c.Struct.setInt32(0,t,this)}},{key:"getName",value:function getName(){return c.Struct.getText(0,this)}},{key:"setName",value:function setName(t){c.Struct.setText(0,t,this)}},{key:"getState",value:function getState(){return c.Struct.getUint8(4,this)}},{key:"setState",value:function setState(t){c.Struct.setUint8(4,t,this)}},{key:"getPpid",value:function getPpid(){return c.Struct.getInt32(8,this)}},{key:"setPpid",value:function setPpid(t){c.Struct.setInt32(8,t,this)}},{key:"getCpuUser",value:function getCpuUser(){return c.Struct.getFloat32(12,this)}},{key:"setCpuUser",value:function setCpuUser(t){c.Struct.setFloat32(12,t,this)}},{key:"getCpuSystem",value:function getCpuSystem(){return c.Struct.getFloat32(16,this)}},{key:"setCpuSystem",value:function setCpuSystem(t){c.Struct.setFloat32(16,t,this)}},{key:"getCpuChildrenUser",value:function getCpuChildrenUser(){return c.Struct.getFloat32(20,this)}},{key:"setCpuChildrenUser",value:function setCpuChildrenUser(t){c.Struct.setFloat32(20,t,this)}},{key:"getCpuChildrenSystem",value:function getCpuChildrenSystem(){return c.Struct.getFloat32(24,this)}},{key:"setCpuChildrenSystem",value:function setCpuChildrenSystem(t){c.Struct.setFloat32(24,t,this)}},{key:"getPriority",value:function getPriority(){return c.Struct.getInt64(32,this)}},{key:"setPriority",value:function setPriority(t){c.Struct.setInt64(32,t,this)}},{key:"getNice",value:function getNice(){return c.Struct.getInt32(28,this)}},{key:"setNice",value:function setNice(t){c.Struct.setInt32(28,t,this)}},{key:"getNumThreads",value:function getNumThreads(){return c.Struct.getInt32(40,this)}},{key:"setNumThreads",value:function setNumThreads(t){c.Struct.setInt32(40,t,this)}},{key:"getStartTime",value:function getStartTime(){return c.Struct.getFloat64(48,this)}},{key:"setStartTime",value:function setStartTime(t){c.Struct.setFloat64(48,t,this)}},{key:"getMemVms",value:function getMemVms(){return c.Struct.getUint64(56,this)}},{key:"setMemVms",value:function setMemVms(t){c.Struct.setUint64(56,t,this)}},{key:"getMemRss",value:function getMemRss(){return c.Struct.getUint64(64,this)}},{key:"setMemRss",value:function setMemRss(t){c.Struct.setUint64(64,t,this)}},{key:"getProcessor",value:function getProcessor(){return c.Struct.getInt32(44,this)}},{key:"setProcessor",value:function setProcessor(t){c.Struct.setInt32(44,t,this)}},{key:"adoptCmdline",value:function adoptCmdline(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownCmdline",value:function disownCmdline(){return c.Struct.disown(this.getCmdline())}},{key:"getCmdline",value:function getCmdline(){return c.Struct.getList(1,l.TextList,this)}},{key:"hasCmdline",value:function hasCmdline(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initCmdline",value:function initCmdline(t){return c.Struct.initList(1,l.TextList,t,this)}},{key:"setCmdline",value:function setCmdline(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getExe",value:function getExe(){return c.Struct.getText(2,this)}},{key:"setExe",value:function setExe(t){c.Struct.setText(2,t,this)}},{key:"toString",value:function toString(){return"ProcLog_Process_"+s(a(ProcLog_Process.prototype),"toString",this).call(this)}}]),ProcLog_Process}(c.Struct);xt._capnp={displayName:"Process",id:"b0b85613f19e6d28",size:new c.ObjectSize(72,3)},e.ProcLog_Process=xt;var wt=function(t){function ProcLog_CPUTimes(){return r(this,ProcLog_CPUTimes),o(this,a(ProcLog_CPUTimes).apply(this,arguments))}return u(ProcLog_CPUTimes,t),i(ProcLog_CPUTimes,[{key:"getCpuNum",value:function getCpuNum(){return c.Struct.getInt64(0,this)}},{key:"setCpuNum",value:function setCpuNum(t){c.Struct.setInt64(0,t,this)}},{key:"getUser",value:function getUser(){return c.Struct.getFloat32(8,this)}},{key:"setUser",value:function setUser(t){c.Struct.setFloat32(8,t,this)}},{key:"getNice",value:function getNice(){return c.Struct.getFloat32(12,this)}},{key:"setNice",value:function setNice(t){c.Struct.setFloat32(12,t,this)}},{key:"getSystem",value:function getSystem(){return c.Struct.getFloat32(16,this)}},{key:"setSystem",value:function setSystem(t){c.Struct.setFloat32(16,t,this)}},{key:"getIdle",value:function getIdle(){return c.Struct.getFloat32(20,this)}},{key:"setIdle",value:function setIdle(t){c.Struct.setFloat32(20,t,this)}},{key:"getIowait",value:function getIowait(){return c.Struct.getFloat32(24,this)}},{key:"setIowait",value:function setIowait(t){c.Struct.setFloat32(24,t,this)}},{key:"getIrq",value:function getIrq(){return c.Struct.getFloat32(28,this)}},{key:"setIrq",value:function setIrq(t){c.Struct.setFloat32(28,t,this)}},{key:"getSoftirq",value:function getSoftirq(){return c.Struct.getFloat32(32,this)}},{key:"setSoftirq",value:function setSoftirq(t){c.Struct.setFloat32(32,t,this)}},{key:"toString",value:function toString(){return"ProcLog_CPUTimes_"+s(a(ProcLog_CPUTimes.prototype),"toString",this).call(this)}}]),ProcLog_CPUTimes}(c.Struct);wt._capnp={displayName:"CPUTimes",id:"f189c8c5bf2ce087",size:new c.ObjectSize(40,0)},e.ProcLog_CPUTimes=wt;var Tt=function(t){function ProcLog_Mem(){return r(this,ProcLog_Mem),o(this,a(ProcLog_Mem).apply(this,arguments))}return u(ProcLog_Mem,t),i(ProcLog_Mem,[{key:"getTotal",value:function getTotal(){return c.Struct.getUint64(0,this)}},{key:"setTotal",value:function setTotal(t){c.Struct.setUint64(0,t,this)}},{key:"getFree",value:function getFree(){return c.Struct.getUint64(8,this)}},{key:"setFree",value:function setFree(t){c.Struct.setUint64(8,t,this)}},{key:"getAvailable",value:function getAvailable(){return c.Struct.getUint64(16,this)}},{key:"setAvailable",value:function setAvailable(t){c.Struct.setUint64(16,t,this)}},{key:"getBuffers",value:function getBuffers(){return c.Struct.getUint64(24,this)}},{key:"setBuffers",value:function setBuffers(t){c.Struct.setUint64(24,t,this)}},{key:"getCached",value:function getCached(){return c.Struct.getUint64(32,this)}},{key:"setCached",value:function setCached(t){c.Struct.setUint64(32,t,this)}},{key:"getActive",value:function getActive(){return c.Struct.getUint64(40,this)}},{key:"setActive",value:function setActive(t){c.Struct.setUint64(40,t,this)}},{key:"getInactive",value:function getInactive(){return c.Struct.getUint64(48,this)}},{key:"setInactive",value:function setInactive(t){c.Struct.setUint64(48,t,this)}},{key:"getShared",value:function getShared(){return c.Struct.getUint64(56,this)}},{key:"setShared",value:function setShared(t){c.Struct.setUint64(56,t,this)}},{key:"toString",value:function toString(){return"ProcLog_Mem_"+s(a(ProcLog_Mem.prototype),"toString",this).call(this)}}]),ProcLog_Mem}(c.Struct);Tt._capnp={displayName:"Mem",id:"fd095f94f08b3fd4",size:new c.ObjectSize(64,0)},e.ProcLog_Mem=Tt;var Pt=function(t){function ProcLog(){return r(this,ProcLog),o(this,a(ProcLog).apply(this,arguments))}return u(ProcLog,t),i(ProcLog,[{key:"adoptCpuTimes",value:function adoptCpuTimes(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCpuTimes",value:function disownCpuTimes(){return c.Struct.disown(this.getCpuTimes())}},{key:"getCpuTimes",value:function getCpuTimes(){return c.Struct.getList(0,ProcLog._CpuTimes,this)}},{key:"hasCpuTimes",value:function hasCpuTimes(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCpuTimes",value:function initCpuTimes(t){return c.Struct.initList(0,ProcLog._CpuTimes,t,this)}},{key:"setCpuTimes",value:function setCpuTimes(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptMem",value:function adoptMem(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownMem",value:function disownMem(){return c.Struct.disown(this.getMem())}},{key:"getMem",value:function getMem(){return c.Struct.getStruct(1,Tt,this)}},{key:"hasMem",value:function hasMem(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initMem",value:function initMem(){return c.Struct.initStructAt(1,Tt,this)}},{key:"setMem",value:function setMem(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptProcs",value:function adoptProcs(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownProcs",value:function disownProcs(){return c.Struct.disown(this.getProcs())}},{key:"getProcs",value:function getProcs(){return c.Struct.getList(2,ProcLog._Procs,this)}},{key:"hasProcs",value:function hasProcs(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initProcs",value:function initProcs(t){return c.Struct.initList(2,ProcLog._Procs,t,this)}},{key:"setProcs",value:function setProcs(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"ProcLog_"+s(a(ProcLog.prototype),"toString",this).call(this)}}]),ProcLog}(c.Struct);Pt.Process=xt,Pt.CPUTimes=wt,Pt.Mem=Tt,Pt._capnp={displayName:"ProcLog",id:"af85387b3f681406",size:new c.ObjectSize(0,3)},e.ProcLog=Pt;var kt=function(t){function UbloxGnss_MeasurementReport_ReceiverStatus(){return r(this,UbloxGnss_MeasurementReport_ReceiverStatus),o(this,a(UbloxGnss_MeasurementReport_ReceiverStatus).apply(this,arguments))}return u(UbloxGnss_MeasurementReport_ReceiverStatus,t),i(UbloxGnss_MeasurementReport_ReceiverStatus,[{key:"getLeapSecValid",value:function getLeapSecValid(){return c.Struct.getBit(0,this)}},{key:"setLeapSecValid",value:function setLeapSecValid(t){c.Struct.setBit(0,t,this)}},{key:"getClkReset",value:function getClkReset(){return c.Struct.getBit(1,this)}},{key:"setClkReset",value:function setClkReset(t){c.Struct.setBit(1,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_MeasurementReport_ReceiverStatus_"+s(a(UbloxGnss_MeasurementReport_ReceiverStatus.prototype),"toString",this).call(this)}}]),UbloxGnss_MeasurementReport_ReceiverStatus}(c.Struct);kt._capnp={displayName:"ReceiverStatus",id:"fbb838d65160aab6",size:new c.ObjectSize(8,0)},e.UbloxGnss_MeasurementReport_ReceiverStatus=kt;var Ct=function(t){function UbloxGnss_MeasurementReport_Measurement_TrackingStatus(){return r(this,UbloxGnss_MeasurementReport_Measurement_TrackingStatus),o(this,a(UbloxGnss_MeasurementReport_Measurement_TrackingStatus).apply(this,arguments))}return u(UbloxGnss_MeasurementReport_Measurement_TrackingStatus,t),i(UbloxGnss_MeasurementReport_Measurement_TrackingStatus,[{key:"getPseudorangeValid",value:function getPseudorangeValid(){return c.Struct.getBit(0,this)}},{key:"setPseudorangeValid",value:function setPseudorangeValid(t){c.Struct.setBit(0,t,this)}},{key:"getCarrierPhaseValid",value:function getCarrierPhaseValid(){return c.Struct.getBit(1,this)}},{key:"setCarrierPhaseValid",value:function setCarrierPhaseValid(t){c.Struct.setBit(1,t,this)}},{key:"getHalfCycleValid",value:function getHalfCycleValid(){return c.Struct.getBit(2,this)}},{key:"setHalfCycleValid",value:function setHalfCycleValid(t){c.Struct.setBit(2,t,this)}},{key:"getHalfCycleSubtracted",value:function getHalfCycleSubtracted(){return c.Struct.getBit(3,this)}},{key:"setHalfCycleSubtracted",value:function setHalfCycleSubtracted(t){c.Struct.setBit(3,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_MeasurementReport_Measurement_TrackingStatus_"+s(a(UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype),"toString",this).call(this)}}]),UbloxGnss_MeasurementReport_Measurement_TrackingStatus}(c.Struct);Ct._capnp={displayName:"TrackingStatus",id:"e8efb3a802b299b2",size:new c.ObjectSize(8,0)},e.UbloxGnss_MeasurementReport_Measurement_TrackingStatus=Ct;var Dt=function(t){function UbloxGnss_MeasurementReport_Measurement(){return r(this,UbloxGnss_MeasurementReport_Measurement),o(this,a(UbloxGnss_MeasurementReport_Measurement).apply(this,arguments))}return u(UbloxGnss_MeasurementReport_Measurement,t),i(UbloxGnss_MeasurementReport_Measurement,[{key:"getSvId",value:function getSvId(){return c.Struct.getUint8(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setUint8(0,t,this)}},{key:"adoptTrackingStatus",value:function adoptTrackingStatus(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownTrackingStatus",value:function disownTrackingStatus(){return c.Struct.disown(this.getTrackingStatus())}},{key:"getTrackingStatus",value:function getTrackingStatus(){return c.Struct.getStruct(0,Ct,this)}},{key:"hasTrackingStatus",value:function hasTrackingStatus(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initTrackingStatus",value:function initTrackingStatus(){return c.Struct.initStructAt(0,Ct,this)}},{key:"setTrackingStatus",value:function setTrackingStatus(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getPseudorange",value:function getPseudorange(){return c.Struct.getFloat64(8,this)}},{key:"setPseudorange",value:function setPseudorange(t){c.Struct.setFloat64(8,t,this)}},{key:"getCarrierCycles",value:function getCarrierCycles(){return c.Struct.getFloat64(16,this)}},{key:"setCarrierCycles",value:function setCarrierCycles(t){c.Struct.setFloat64(16,t,this)}},{key:"getDoppler",value:function getDoppler(){return c.Struct.getFloat32(4,this)}},{key:"setDoppler",value:function setDoppler(t){c.Struct.setFloat32(4,t,this)}},{key:"getGnssId",value:function getGnssId(){return c.Struct.getUint8(1,this)}},{key:"setGnssId",value:function setGnssId(t){c.Struct.setUint8(1,t,this)}},{key:"getGlonassFrequencyIndex",value:function getGlonassFrequencyIndex(){return c.Struct.getUint8(2,this)}},{key:"setGlonassFrequencyIndex",value:function setGlonassFrequencyIndex(t){c.Struct.setUint8(2,t,this)}},{key:"getLocktime",value:function getLocktime(){return c.Struct.getUint16(24,this)}},{key:"setLocktime",value:function setLocktime(t){c.Struct.setUint16(24,t,this)}},{key:"getCno",value:function getCno(){return c.Struct.getUint8(3,this)}},{key:"setCno",value:function setCno(t){c.Struct.setUint8(3,t,this)}},{key:"getPseudorangeStdev",value:function getPseudorangeStdev(){return c.Struct.getFloat32(28,this)}},{key:"setPseudorangeStdev",value:function setPseudorangeStdev(t){c.Struct.setFloat32(28,t,this)}},{key:"getCarrierPhaseStdev",value:function getCarrierPhaseStdev(){return c.Struct.getFloat32(32,this)}},{key:"setCarrierPhaseStdev",value:function setCarrierPhaseStdev(t){c.Struct.setFloat32(32,t,this)}},{key:"getDopplerStdev",value:function getDopplerStdev(){return c.Struct.getFloat32(36,this)}},{key:"setDopplerStdev",value:function setDopplerStdev(t){c.Struct.setFloat32(36,t,this)}},{key:"getSigId",value:function getSigId(){return c.Struct.getUint8(26,this)}},{key:"setSigId",value:function setSigId(t){c.Struct.setUint8(26,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_MeasurementReport_Measurement_"+s(a(UbloxGnss_MeasurementReport_Measurement.prototype),"toString",this).call(this)}}]),UbloxGnss_MeasurementReport_Measurement}(c.Struct);Dt.TrackingStatus=Ct,Dt._capnp={displayName:"Measurement",id:"8f8a655f5e326401",size:new c.ObjectSize(40,1)},e.UbloxGnss_MeasurementReport_Measurement=Dt;var At=function(t){function UbloxGnss_MeasurementReport(){return r(this,UbloxGnss_MeasurementReport),o(this,a(UbloxGnss_MeasurementReport).apply(this,arguments))}return u(UbloxGnss_MeasurementReport,t),i(UbloxGnss_MeasurementReport,[{key:"getRcvTow",value:function getRcvTow(){return c.Struct.getFloat64(0,this)}},{key:"setRcvTow",value:function setRcvTow(t){c.Struct.setFloat64(0,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getUint16(8,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setUint16(8,t,this)}},{key:"getLeapSeconds",value:function getLeapSeconds(){return c.Struct.getUint16(10,this)}},{key:"setLeapSeconds",value:function setLeapSeconds(t){c.Struct.setUint16(10,t,this)}},{key:"adoptReceiverStatus",value:function adoptReceiverStatus(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownReceiverStatus",value:function disownReceiverStatus(){return c.Struct.disown(this.getReceiverStatus())}},{key:"getReceiverStatus",value:function getReceiverStatus(){return c.Struct.getStruct(0,kt,this)}},{key:"hasReceiverStatus",value:function hasReceiverStatus(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initReceiverStatus",value:function initReceiverStatus(){return c.Struct.initStructAt(0,kt,this)}},{key:"setReceiverStatus",value:function setReceiverStatus(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getNumMeas",value:function getNumMeas(){return c.Struct.getUint8(12,this)}},{key:"setNumMeas",value:function setNumMeas(t){c.Struct.setUint8(12,t,this)}},{key:"adoptMeasurements",value:function adoptMeasurements(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownMeasurements",value:function disownMeasurements(){return c.Struct.disown(this.getMeasurements())}},{key:"getMeasurements",value:function getMeasurements(){return c.Struct.getList(1,UbloxGnss_MeasurementReport._Measurements,this)}},{key:"hasMeasurements",value:function hasMeasurements(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initMeasurements",value:function initMeasurements(t){return c.Struct.initList(1,UbloxGnss_MeasurementReport._Measurements,t,this)}},{key:"setMeasurements",value:function setMeasurements(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"UbloxGnss_MeasurementReport_"+s(a(UbloxGnss_MeasurementReport.prototype),"toString",this).call(this)}}]),UbloxGnss_MeasurementReport}(c.Struct);At.ReceiverStatus=kt,At.Measurement=Dt,At._capnp={displayName:"MeasurementReport",id:"a73ba546a29820f4",size:new c.ObjectSize(16,2)},e.UbloxGnss_MeasurementReport=At;var Rt=function(t){function UbloxGnss_Ephemeris(){return r(this,UbloxGnss_Ephemeris),o(this,a(UbloxGnss_Ephemeris).apply(this,arguments))}return u(UbloxGnss_Ephemeris,t),i(UbloxGnss_Ephemeris,[{key:"getSvId",value:function getSvId(){return c.Struct.getUint16(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setUint16(0,t,this)}},{key:"getYear",value:function getYear(){return c.Struct.getUint16(2,this)}},{key:"setYear",value:function setYear(t){c.Struct.setUint16(2,t,this)}},{key:"getMonth",value:function getMonth(){return c.Struct.getUint16(4,this)}},{key:"setMonth",value:function setMonth(t){c.Struct.setUint16(4,t,this)}},{key:"getDay",value:function getDay(){return c.Struct.getUint16(6,this)}},{key:"setDay",value:function setDay(t){c.Struct.setUint16(6,t,this)}},{key:"getHour",value:function getHour(){return c.Struct.getUint16(8,this)}},{key:"setHour",value:function setHour(t){c.Struct.setUint16(8,t,this)}},{key:"getMinute",value:function getMinute(){return c.Struct.getUint16(10,this)}},{key:"setMinute",value:function setMinute(t){c.Struct.setUint16(10,t,this)}},{key:"getSecond",value:function getSecond(){return c.Struct.getFloat32(12,this)}},{key:"setSecond",value:function setSecond(t){c.Struct.setFloat32(12,t,this)}},{key:"getAf0",value:function getAf0(){return c.Struct.getFloat64(16,this)}},{key:"setAf0",value:function setAf0(t){c.Struct.setFloat64(16,t,this)}},{key:"getAf1",value:function getAf1(){return c.Struct.getFloat64(24,this)}},{key:"setAf1",value:function setAf1(t){c.Struct.setFloat64(24,t,this)}},{key:"getAf2",value:function getAf2(){return c.Struct.getFloat64(32,this)}},{key:"setAf2",value:function setAf2(t){c.Struct.setFloat64(32,t,this)}},{key:"getIode",value:function getIode(){return c.Struct.getFloat64(40,this)}},{key:"setIode",value:function setIode(t){c.Struct.setFloat64(40,t,this)}},{key:"getCrs",value:function getCrs(){return c.Struct.getFloat64(48,this)}},{key:"setCrs",value:function setCrs(t){c.Struct.setFloat64(48,t,this)}},{key:"getDeltaN",value:function getDeltaN(){return c.Struct.getFloat64(56,this)}},{key:"setDeltaN",value:function setDeltaN(t){c.Struct.setFloat64(56,t,this)}},{key:"getM0",value:function getM0(){return c.Struct.getFloat64(64,this)}},{key:"setM0",value:function setM0(t){c.Struct.setFloat64(64,t,this)}},{key:"getCuc",value:function getCuc(){return c.Struct.getFloat64(72,this)}},{key:"setCuc",value:function setCuc(t){c.Struct.setFloat64(72,t,this)}},{key:"getEcc",value:function getEcc(){return c.Struct.getFloat64(80,this)}},{key:"setEcc",value:function setEcc(t){c.Struct.setFloat64(80,t,this)}},{key:"getCus",value:function getCus(){return c.Struct.getFloat64(88,this)}},{key:"setCus",value:function setCus(t){c.Struct.setFloat64(88,t,this)}},{key:"getA",value:function getA(){return c.Struct.getFloat64(96,this)}},{key:"setA",value:function setA(t){c.Struct.setFloat64(96,t,this)}},{key:"getToe",value:function getToe(){return c.Struct.getFloat64(104,this)}},{key:"setToe",value:function setToe(t){c.Struct.setFloat64(104,t,this)}},{key:"getCic",value:function getCic(){return c.Struct.getFloat64(112,this)}},{key:"setCic",value:function setCic(t){c.Struct.setFloat64(112,t,this)}},{key:"getOmega0",value:function getOmega0(){return c.Struct.getFloat64(120,this)}},{key:"setOmega0",value:function setOmega0(t){c.Struct.setFloat64(120,t,this)}},{key:"getCis",value:function getCis(){return c.Struct.getFloat64(128,this)}},{key:"setCis",value:function setCis(t){c.Struct.setFloat64(128,t,this)}},{key:"getI0",value:function getI0(){return c.Struct.getFloat64(136,this)}},{key:"setI0",value:function setI0(t){c.Struct.setFloat64(136,t,this)}},{key:"getCrc",value:function getCrc(){return c.Struct.getFloat64(144,this)}},{key:"setCrc",value:function setCrc(t){c.Struct.setFloat64(144,t,this)}},{key:"getOmega",value:function getOmega(){return c.Struct.getFloat64(152,this)}},{key:"setOmega",value:function setOmega(t){c.Struct.setFloat64(152,t,this)}},{key:"getOmegaDot",value:function getOmegaDot(){return c.Struct.getFloat64(160,this)}},{key:"setOmegaDot",value:function setOmegaDot(t){c.Struct.setFloat64(160,t,this)}},{key:"getIDot",value:function getIDot(){return c.Struct.getFloat64(168,this)}},{key:"setIDot",value:function setIDot(t){c.Struct.setFloat64(168,t,this)}},{key:"getCodesL2",value:function getCodesL2(){return c.Struct.getFloat64(176,this)}},{key:"setCodesL2",value:function setCodesL2(t){c.Struct.setFloat64(176,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getFloat64(184,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setFloat64(184,t,this)}},{key:"getL2",value:function getL2(){return c.Struct.getFloat64(192,this)}},{key:"setL2",value:function setL2(t){c.Struct.setFloat64(192,t,this)}},{key:"getSvAcc",value:function getSvAcc(){return c.Struct.getFloat64(200,this)}},{key:"setSvAcc",value:function setSvAcc(t){c.Struct.setFloat64(200,t,this)}},{key:"getSvHealth",value:function getSvHealth(){return c.Struct.getFloat64(208,this)}},{key:"setSvHealth",value:function setSvHealth(t){c.Struct.setFloat64(208,t,this)}},{key:"getTgd",value:function getTgd(){return c.Struct.getFloat64(216,this)}},{key:"setTgd",value:function setTgd(t){c.Struct.setFloat64(216,t,this)}},{key:"getIodc",value:function getIodc(){return c.Struct.getFloat64(224,this)}},{key:"setIodc",value:function setIodc(t){c.Struct.setFloat64(224,t,this)}},{key:"getTransmissionTime",value:function getTransmissionTime(){return c.Struct.getFloat64(232,this)}},{key:"setTransmissionTime",value:function setTransmissionTime(t){c.Struct.setFloat64(232,t,this)}},{key:"getFitInterval",value:function getFitInterval(){return c.Struct.getFloat64(240,this)}},{key:"setFitInterval",value:function setFitInterval(t){c.Struct.setFloat64(240,t,this)}},{key:"getToc",value:function getToc(){return c.Struct.getFloat64(248,this)}},{key:"setToc",value:function setToc(t){c.Struct.setFloat64(248,t,this)}},{key:"getIonoCoeffsValid",value:function getIonoCoeffsValid(){return c.Struct.getBit(2048,this)}},{key:"setIonoCoeffsValid",value:function setIonoCoeffsValid(t){c.Struct.setBit(2048,t,this)}},{key:"adoptIonoAlpha",value:function adoptIonoAlpha(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownIonoAlpha",value:function disownIonoAlpha(){return c.Struct.disown(this.getIonoAlpha())}},{key:"getIonoAlpha",value:function getIonoAlpha(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasIonoAlpha",value:function hasIonoAlpha(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initIonoAlpha",value:function initIonoAlpha(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setIonoAlpha",value:function setIonoAlpha(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptIonoBeta",value:function adoptIonoBeta(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownIonoBeta",value:function disownIonoBeta(){return c.Struct.disown(this.getIonoBeta())}},{key:"getIonoBeta",value:function getIonoBeta(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasIonoBeta",value:function hasIonoBeta(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initIonoBeta",value:function initIonoBeta(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setIonoBeta",value:function setIonoBeta(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"UbloxGnss_Ephemeris_"+s(a(UbloxGnss_Ephemeris.prototype),"toString",this).call(this)}}]),UbloxGnss_Ephemeris}(c.Struct);Rt._capnp={displayName:"Ephemeris",id:"d8418c788118f85c",size:new c.ObjectSize(264,2)},e.UbloxGnss_Ephemeris=Rt;var Mt,Lt,It=function(t){function UbloxGnss_IonoData(){return r(this,UbloxGnss_IonoData),o(this,a(UbloxGnss_IonoData).apply(this,arguments))}return u(UbloxGnss_IonoData,t),i(UbloxGnss_IonoData,[{key:"getSvHealth",value:function getSvHealth(){return c.Struct.getUint32(0,this)}},{key:"setSvHealth",value:function setSvHealth(t){c.Struct.setUint32(0,t,this)}},{key:"getTow",value:function getTow(){return c.Struct.getFloat64(8,this)}},{key:"setTow",value:function setTow(t){c.Struct.setFloat64(8,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getFloat64(16,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setFloat64(16,t,this)}},{key:"adoptIonoAlpha",value:function adoptIonoAlpha(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownIonoAlpha",value:function disownIonoAlpha(){return c.Struct.disown(this.getIonoAlpha())}},{key:"getIonoAlpha",value:function getIonoAlpha(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasIonoAlpha",value:function hasIonoAlpha(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initIonoAlpha",value:function initIonoAlpha(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setIonoAlpha",value:function setIonoAlpha(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptIonoBeta",value:function adoptIonoBeta(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownIonoBeta",value:function disownIonoBeta(){return c.Struct.disown(this.getIonoBeta())}},{key:"getIonoBeta",value:function getIonoBeta(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasIonoBeta",value:function hasIonoBeta(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initIonoBeta",value:function initIonoBeta(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setIonoBeta",value:function setIonoBeta(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getHealthValid",value:function getHealthValid(){return c.Struct.getBit(32,this)}},{key:"setHealthValid",value:function setHealthValid(t){c.Struct.setBit(32,t,this)}},{key:"getIonoCoeffsValid",value:function getIonoCoeffsValid(){return c.Struct.getBit(33,this)}},{key:"setIonoCoeffsValid",value:function setIonoCoeffsValid(t){c.Struct.setBit(33,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_IonoData_"+s(a(UbloxGnss_IonoData.prototype),"toString",this).call(this)}}]),UbloxGnss_IonoData}(c.Struct);It._capnp={displayName:"IonoData",id:"c3a3a8de519a4a26",size:new c.ObjectSize(24,2)},e.UbloxGnss_IonoData=It,function(t){t[t.INIT=0]="INIT",t[t.DONTKNOW=1]="DONTKNOW",t[t.OK=2]="OK",t[t.SHORT=3]="SHORT",t[t.OPEN=4]="OPEN"}(Mt=e.UbloxGnss_HwStatus_AntennaSupervisorState||(e.UbloxGnss_HwStatus_AntennaSupervisorState={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON",t[t.DONTKNOW=2]="DONTKNOW"}(Lt=e.UbloxGnss_HwStatus_AntennaPowerStatus||(e.UbloxGnss_HwStatus_AntennaPowerStatus={}));var Ot,Ft=function(t){function UbloxGnss_HwStatus(){return r(this,UbloxGnss_HwStatus),o(this,a(UbloxGnss_HwStatus).apply(this,arguments))}return u(UbloxGnss_HwStatus,t),i(UbloxGnss_HwStatus,[{key:"getNoisePerMS",value:function getNoisePerMS(){return c.Struct.getUint16(0,this)}},{key:"setNoisePerMS",value:function setNoisePerMS(t){c.Struct.setUint16(0,t,this)}},{key:"getAgcCnt",value:function getAgcCnt(){return c.Struct.getUint16(2,this)}},{key:"setAgcCnt",value:function setAgcCnt(t){c.Struct.setUint16(2,t,this)}},{key:"getAStatus",value:function getAStatus(){return c.Struct.getUint16(4,this)}},{key:"setAStatus",value:function setAStatus(t){c.Struct.setUint16(4,t,this)}},{key:"getAPower",value:function getAPower(){return c.Struct.getUint16(6,this)}},{key:"setAPower",value:function setAPower(t){c.Struct.setUint16(6,t,this)}},{key:"getJamInd",value:function getJamInd(){return c.Struct.getUint8(8,this)}},{key:"setJamInd",value:function setJamInd(t){c.Struct.setUint8(8,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_HwStatus_"+s(a(UbloxGnss_HwStatus.prototype),"toString",this).call(this)}}]),UbloxGnss_HwStatus}(c.Struct);Ft.AntennaSupervisorState=Mt,Ft.AntennaPowerStatus=Lt,Ft._capnp={displayName:"HwStatus",id:"ebb036b114275aa8",size:new c.ObjectSize(16,0)},e.UbloxGnss_HwStatus=Ft,function(t){t[t.UNDEFINED=0]="UNDEFINED",t[t.ROM=1]="ROM",t[t.OTP=2]="OTP",t[t.CONFIGPINS=3]="CONFIGPINS",t[t.FLASH=4]="FLASH"}(Ot=e.UbloxGnss_HwStatus2_ConfigSource||(e.UbloxGnss_HwStatus2_ConfigSource={}));var Nt,Bt=function(t){function UbloxGnss_HwStatus2(){return r(this,UbloxGnss_HwStatus2),o(this,a(UbloxGnss_HwStatus2).apply(this,arguments))}return u(UbloxGnss_HwStatus2,t),i(UbloxGnss_HwStatus2,[{key:"getOfsI",value:function getOfsI(){return c.Struct.getInt8(0,this)}},{key:"setOfsI",value:function setOfsI(t){c.Struct.setInt8(0,t,this)}},{key:"getMagI",value:function getMagI(){return c.Struct.getUint8(1,this)}},{key:"setMagI",value:function setMagI(t){c.Struct.setUint8(1,t,this)}},{key:"getOfsQ",value:function getOfsQ(){return c.Struct.getInt8(2,this)}},{key:"setOfsQ",value:function setOfsQ(t){c.Struct.setInt8(2,t,this)}},{key:"getMagQ",value:function getMagQ(){return c.Struct.getUint8(3,this)}},{key:"setMagQ",value:function setMagQ(t){c.Struct.setUint8(3,t,this)}},{key:"getCfgSource",value:function getCfgSource(){return c.Struct.getUint16(4,this)}},{key:"setCfgSource",value:function setCfgSource(t){c.Struct.setUint16(4,t,this)}},{key:"getLowLevCfg",value:function getLowLevCfg(){return c.Struct.getUint32(8,this)}},{key:"setLowLevCfg",value:function setLowLevCfg(t){c.Struct.setUint32(8,t,this)}},{key:"getPostStatus",value:function getPostStatus(){return c.Struct.getUint32(12,this)}},{key:"setPostStatus",value:function setPostStatus(t){c.Struct.setUint32(12,t,this)}},{key:"toString",value:function toString(){return"UbloxGnss_HwStatus2_"+s(a(UbloxGnss_HwStatus2.prototype),"toString",this).call(this)}}]),UbloxGnss_HwStatus2}(c.Struct);Bt.ConfigSource=Ot,Bt._capnp={displayName:"HwStatus2",id:"f919b410b90e53c6",size:new c.ObjectSize(16,0)},e.UbloxGnss_HwStatus2=Bt,function(t){t[t.MEASUREMENT_REPORT=0]="MEASUREMENT_REPORT",t[t.EPHEMERIS=1]="EPHEMERIS",t[t.IONO_DATA=2]="IONO_DATA",t[t.HW_STATUS=3]="HW_STATUS",t[t.HW_STATUS2=4]="HW_STATUS2"}(Nt=e.UbloxGnss_Which||(e.UbloxGnss_Which={}));var Ut=function(t){function UbloxGnss(){return r(this,UbloxGnss),o(this,a(UbloxGnss).apply(this,arguments))}return u(UbloxGnss,t),i(UbloxGnss,[{key:"adoptMeasurementReport",value:function adoptMeasurementReport(t){c.Struct.setUint16(0,0,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMeasurementReport",value:function disownMeasurementReport(){return c.Struct.disown(this.getMeasurementReport())}},{key:"getMeasurementReport",value:function getMeasurementReport(){return c.Struct.testWhich("measurementReport",c.Struct.getUint16(0,this),0,this),c.Struct.getStruct(0,At,this)}},{key:"hasMeasurementReport",value:function hasMeasurementReport(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMeasurementReport",value:function initMeasurementReport(){return c.Struct.setUint16(0,0,this),c.Struct.initStructAt(0,At,this)}},{key:"isMeasurementReport",value:function isMeasurementReport(){return 0===c.Struct.getUint16(0,this)}},{key:"setMeasurementReport",value:function setMeasurementReport(t){c.Struct.setUint16(0,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptEphemeris",value:function adoptEphemeris(t){c.Struct.setUint16(0,1,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEphemeris",value:function disownEphemeris(){return c.Struct.disown(this.getEphemeris())}},{key:"getEphemeris",value:function getEphemeris(){return c.Struct.testWhich("ephemeris",c.Struct.getUint16(0,this),1,this),c.Struct.getStruct(0,Rt,this)}},{key:"hasEphemeris",value:function hasEphemeris(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEphemeris",value:function initEphemeris(){return c.Struct.setUint16(0,1,this),c.Struct.initStructAt(0,Rt,this)}},{key:"isEphemeris",value:function isEphemeris(){return 1===c.Struct.getUint16(0,this)}},{key:"setEphemeris",value:function setEphemeris(t){c.Struct.setUint16(0,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptIonoData",value:function adoptIonoData(t){c.Struct.setUint16(0,2,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownIonoData",value:function disownIonoData(){return c.Struct.disown(this.getIonoData())}},{key:"getIonoData",value:function getIonoData(){return c.Struct.testWhich("ionoData",c.Struct.getUint16(0,this),2,this),c.Struct.getStruct(0,It,this)}},{key:"hasIonoData",value:function hasIonoData(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initIonoData",value:function initIonoData(){return c.Struct.setUint16(0,2,this),c.Struct.initStructAt(0,It,this)}},{key:"isIonoData",value:function isIonoData(){return 2===c.Struct.getUint16(0,this)}},{key:"setIonoData",value:function setIonoData(t){c.Struct.setUint16(0,2,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptHwStatus",value:function adoptHwStatus(t){c.Struct.setUint16(0,3,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownHwStatus",value:function disownHwStatus(){return c.Struct.disown(this.getHwStatus())}},{key:"getHwStatus",value:function getHwStatus(){return c.Struct.testWhich("hwStatus",c.Struct.getUint16(0,this),3,this),c.Struct.getStruct(0,Ft,this)}},{key:"hasHwStatus",value:function hasHwStatus(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initHwStatus",value:function initHwStatus(){return c.Struct.setUint16(0,3,this),c.Struct.initStructAt(0,Ft,this)}},{key:"isHwStatus",value:function isHwStatus(){return 3===c.Struct.getUint16(0,this)}},{key:"setHwStatus",value:function setHwStatus(t){c.Struct.setUint16(0,3,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptHwStatus2",value:function adoptHwStatus2(t){c.Struct.setUint16(0,4,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownHwStatus2",value:function disownHwStatus2(){return c.Struct.disown(this.getHwStatus2())}},{key:"getHwStatus2",value:function getHwStatus2(){return c.Struct.testWhich("hwStatus2",c.Struct.getUint16(0,this),4,this),c.Struct.getStruct(0,Bt,this)}},{key:"hasHwStatus2",value:function hasHwStatus2(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initHwStatus2",value:function initHwStatus2(){return c.Struct.setUint16(0,4,this),c.Struct.initStructAt(0,Bt,this)}},{key:"isHwStatus2",value:function isHwStatus2(){return 4===c.Struct.getUint16(0,this)}},{key:"setHwStatus2",value:function setHwStatus2(t){c.Struct.setUint16(0,4,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"UbloxGnss_"+s(a(UbloxGnss.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(0,this)}}]),UbloxGnss}(c.Struct);Ut.MEASUREMENT_REPORT=Nt.MEASUREMENT_REPORT,Ut.EPHEMERIS=Nt.EPHEMERIS,Ut.IONO_DATA=Nt.IONO_DATA,Ut.HW_STATUS=Nt.HW_STATUS,Ut.HW_STATUS2=Nt.HW_STATUS2,Ut.MeasurementReport=At,Ut.Ephemeris=Rt,Ut.IonoData=It,Ut.HwStatus=Ft,Ut.HwStatus2=Bt,Ut._capnp={displayName:"UbloxGnss",id:"85dddd7ce6cefa5d",size:new c.ObjectSize(8,1)},e.UbloxGnss=Ut;var zt=function(t){function Clocks(){return r(this,Clocks),o(this,a(Clocks).apply(this,arguments))}return u(Clocks,t),i(Clocks,[{key:"getBootTimeNanos",value:function getBootTimeNanos(){return c.Struct.getUint64(0,this)}},{key:"setBootTimeNanos",value:function setBootTimeNanos(t){c.Struct.setUint64(0,t,this)}},{key:"getMonotonicNanos",value:function getMonotonicNanos(){return c.Struct.getUint64(8,this)}},{key:"setMonotonicNanos",value:function setMonotonicNanos(t){c.Struct.setUint64(8,t,this)}},{key:"getMonotonicRawNanos",value:function getMonotonicRawNanos(){return c.Struct.getUint64(16,this)}},{key:"setMonotonicRawNanos",value:function setMonotonicRawNanos(t){c.Struct.setUint64(16,t,this)}},{key:"getWallTimeNanos",value:function getWallTimeNanos(){return c.Struct.getUint64(24,this)}},{key:"setWallTimeNanos",value:function setWallTimeNanos(t){c.Struct.setUint64(24,t,this)}},{key:"getModemUptimeMillis",value:function getModemUptimeMillis(){return c.Struct.getUint64(32,this)}},{key:"setModemUptimeMillis",value:function setModemUptimeMillis(t){c.Struct.setUint64(32,t,this)}},{key:"toString",value:function toString(){return"Clocks_"+s(a(Clocks.prototype),"toString",this).call(this)}}]),Clocks}(c.Struct);zt._capnp={displayName:"Clocks",id:"c95fb49a7bdc4618",size:new c.ObjectSize(40,0)},e.Clocks=zt;var jt=function(t){function LiveMpcData(){return r(this,LiveMpcData),o(this,a(LiveMpcData).apply(this,arguments))}return u(LiveMpcData,t),i(LiveMpcData,[{key:"adoptX",value:function adoptX(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownX",value:function disownX(){return c.Struct.disown(this.getX())}},{key:"getX",value:function getX(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasX",value:function hasX(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initX",value:function initX(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setX",value:function setX(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptY",value:function adoptY(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownY",value:function disownY(){return c.Struct.disown(this.getY())}},{key:"getY",value:function getY(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasY",value:function hasY(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initY",value:function initY(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setY",value:function setY(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptPsi",value:function adoptPsi(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownPsi",value:function disownPsi(){return c.Struct.disown(this.getPsi())}},{key:"getPsi",value:function getPsi(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasPsi",value:function hasPsi(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initPsi",value:function initPsi(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setPsi",value:function setPsi(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptDelta",value:function adoptDelta(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownDelta",value:function disownDelta(){return c.Struct.disown(this.getDelta())}},{key:"getDelta",value:function getDelta(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasDelta",value:function hasDelta(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initDelta",value:function initDelta(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setDelta",value:function setDelta(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getQpIterations",value:function getQpIterations(){return c.Struct.getUint32(0,this)}},{key:"setQpIterations",value:function setQpIterations(t){c.Struct.setUint32(0,t,this)}},{key:"getCalculationTime",value:function getCalculationTime(){return c.Struct.getUint64(8,this)}},{key:"setCalculationTime",value:function setCalculationTime(t){c.Struct.setUint64(8,t,this)}},{key:"getCost",value:function getCost(){return c.Struct.getFloat64(16,this)}},{key:"setCost",value:function setCost(t){c.Struct.setFloat64(16,t,this)}},{key:"toString",value:function toString(){return"LiveMpcData_"+s(a(LiveMpcData.prototype),"toString",this).call(this)}}]),LiveMpcData}(c.Struct);jt._capnp={displayName:"LiveMpcData",id:"92a5e332a85f32a0",size:new c.ObjectSize(24,4)},e.LiveMpcData=jt;var Vt,Gt=function(t){function LiveLongitudinalMpcData(){return r(this,LiveLongitudinalMpcData),o(this,a(LiveLongitudinalMpcData).apply(this,arguments))}return u(LiveLongitudinalMpcData,t),i(LiveLongitudinalMpcData,[{key:"adoptXEgo",value:function adoptXEgo(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownXEgo",value:function disownXEgo(){return c.Struct.disown(this.getXEgo())}},{key:"getXEgo",value:function getXEgo(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasXEgo",value:function hasXEgo(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initXEgo",value:function initXEgo(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setXEgo",value:function setXEgo(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptVEgo",value:function adoptVEgo(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownVEgo",value:function disownVEgo(){return c.Struct.disown(this.getVEgo())}},{key:"getVEgo",value:function getVEgo(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasVEgo",value:function hasVEgo(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initVEgo",value:function initVEgo(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setVEgo",value:function setVEgo(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptAEgo",value:function adoptAEgo(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownAEgo",value:function disownAEgo(){return c.Struct.disown(this.getAEgo())}},{key:"getAEgo",value:function getAEgo(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasAEgo",value:function hasAEgo(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initAEgo",value:function initAEgo(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setAEgo",value:function setAEgo(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptXLead",value:function adoptXLead(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownXLead",value:function disownXLead(){return c.Struct.disown(this.getXLead())}},{key:"getXLead",value:function getXLead(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasXLead",value:function hasXLead(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initXLead",value:function initXLead(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setXLead",value:function setXLead(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptVLead",value:function adoptVLead(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownVLead",value:function disownVLead(){return c.Struct.disown(this.getVLead())}},{key:"getVLead",value:function getVLead(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasVLead",value:function hasVLead(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initVLead",value:function initVLead(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setVLead",value:function setVLead(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptALead",value:function adoptALead(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownALead",value:function disownALead(){return c.Struct.disown(this.getALead())}},{key:"getALead",value:function getALead(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasALead",value:function hasALead(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initALead",value:function initALead(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setALead",value:function setALead(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"getALeadTau",value:function getALeadTau(){return c.Struct.getFloat32(0,this)}},{key:"setALeadTau",value:function setALeadTau(t){c.Struct.setFloat32(0,t,this)}},{key:"getQpIterations",value:function getQpIterations(){return c.Struct.getUint32(4,this)}},{key:"setQpIterations",value:function setQpIterations(t){c.Struct.setUint32(4,t,this)}},{key:"getMpcId",value:function getMpcId(){return c.Struct.getUint32(8,this)}},{key:"setMpcId",value:function setMpcId(t){c.Struct.setUint32(8,t,this)}},{key:"getCalculationTime",value:function getCalculationTime(){return c.Struct.getUint64(16,this)}},{key:"setCalculationTime",value:function setCalculationTime(t){c.Struct.setUint64(16,t,this)}},{key:"getCost",value:function getCost(){return c.Struct.getFloat64(24,this)}},{key:"setCost",value:function setCost(t){c.Struct.setFloat64(24,t,this)}},{key:"toString",value:function toString(){return"LiveLongitudinalMpcData_"+s(a(LiveLongitudinalMpcData.prototype),"toString",this).call(this)}}]),LiveLongitudinalMpcData}(c.Struct);Gt._capnp={displayName:"LiveLongitudinalMpcData",id:"e7e17c434f865ae2",size:new c.ObjectSize(32,6)},e.LiveLongitudinalMpcData=Gt,function(t){t[t.HOME=0]="HOME",t[t.MUSIC=1]="MUSIC",t[t.NAV=2]="NAV",t[t.SETTINGS=3]="SETTINGS",t[t.NONE=4]="NONE"}(Vt=e.UiLayoutState_App||(e.UiLayoutState_App={}));var Wt=function(t){function UiLayoutState(){return r(this,UiLayoutState),o(this,a(UiLayoutState).apply(this,arguments))}return u(UiLayoutState,t),i(UiLayoutState,[{key:"getActiveApp",value:function getActiveApp(){return c.Struct.getUint16(0,this)}},{key:"setActiveApp",value:function setActiveApp(t){c.Struct.setUint16(0,t,this)}},{key:"getSidebarCollapsed",value:function getSidebarCollapsed(){return c.Struct.getBit(16,this)}},{key:"setSidebarCollapsed",value:function setSidebarCollapsed(t){c.Struct.setBit(16,t,this)}},{key:"getMapEnabled",value:function getMapEnabled(){return c.Struct.getBit(17,this)}},{key:"setMapEnabled",value:function setMapEnabled(t){c.Struct.setBit(17,t,this)}},{key:"getMockEngaged",value:function getMockEngaged(){return c.Struct.getBit(18,this)}},{key:"setMockEngaged",value:function setMockEngaged(t){c.Struct.setBit(18,t,this)}},{key:"toString",value:function toString(){return"UiLayoutState_"+s(a(UiLayoutState.prototype),"toString",this).call(this)}}]),UiLayoutState}(c.Struct);Wt.App=Vt,Wt._capnp={displayName:"UiLayoutState",id:"88dcce08ad29dda0",size:new c.ObjectSize(8,0)},e.UiLayoutState=Wt;var qt=function(t){function Joystick(){return r(this,Joystick),o(this,a(Joystick).apply(this,arguments))}return u(Joystick,t),i(Joystick,[{key:"adoptAxes",value:function adoptAxes(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownAxes",value:function disownAxes(){return c.Struct.disown(this.getAxes())}},{key:"getAxes",value:function getAxes(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasAxes",value:function hasAxes(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initAxes",value:function initAxes(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setAxes",value:function setAxes(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptButtons",value:function adoptButtons(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownButtons",value:function disownButtons(){return c.Struct.disown(this.getButtons())}},{key:"getButtons",value:function getButtons(){return c.Struct.getList(1,l.BoolList,this)}},{key:"hasButtons",value:function hasButtons(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initButtons",value:function initButtons(t){return c.Struct.initList(1,l.BoolList,t,this)}},{key:"setButtons",value:function setButtons(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"Joystick_"+s(a(Joystick.prototype),"toString",this).call(this)}}]),Joystick}(c.Struct);qt._capnp={displayName:"Joystick",id:"e42401658e2715e2",size:new c.ObjectSize(0,2)},e.Joystick=qt;var Ht=function(t){function DriverState(){return r(this,DriverState),o(this,a(DriverState).apply(this,arguments))}return u(DriverState,t),i(DriverState,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getModelExecutionTime",value:function getModelExecutionTime(){return c.Struct.getFloat32(36,this)}},{key:"setModelExecutionTime",value:function setModelExecutionTime(t){c.Struct.setFloat32(36,t,this)}},{key:"getDspExecutionTime",value:function getDspExecutionTime(){return c.Struct.getFloat32(40,this)}},{key:"setDspExecutionTime",value:function setDspExecutionTime(t){c.Struct.setFloat32(40,t,this)}},{key:"adoptRawPredictions",value:function adoptRawPredictions(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownRawPredictions",value:function disownRawPredictions(){return c.Struct.disown(this.getRawPredictions())}},{key:"getRawPredictions",value:function getRawPredictions(){return c.Struct.getData(5,this)}},{key:"hasRawPredictions",value:function hasRawPredictions(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initRawPredictions",value:function initRawPredictions(t){return c.Struct.initData(5,t,this)}},{key:"setRawPredictions",value:function setRawPredictions(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptFaceOrientation",value:function adoptFaceOrientation(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownFaceOrientation",value:function disownFaceOrientation(){return c.Struct.disown(this.getFaceOrientation())}},{key:"getFaceOrientation",value:function getFaceOrientation(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasFaceOrientation",value:function hasFaceOrientation(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initFaceOrientation",value:function initFaceOrientation(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setFaceOrientation",value:function setFaceOrientation(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptFacePosition",value:function adoptFacePosition(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownFacePosition",value:function disownFacePosition(){return c.Struct.disown(this.getFacePosition())}},{key:"getFacePosition",value:function getFacePosition(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasFacePosition",value:function hasFacePosition(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initFacePosition",value:function initFacePosition(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setFacePosition",value:function setFacePosition(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getFaceProb",value:function getFaceProb(){return c.Struct.getFloat32(8,this)}},{key:"setFaceProb",value:function setFaceProb(t){c.Struct.setFloat32(8,t,this)}},{key:"getLeftEyeProb",value:function getLeftEyeProb(){return c.Struct.getFloat32(12,this)}},{key:"setLeftEyeProb",value:function setLeftEyeProb(t){c.Struct.setFloat32(12,t,this)}},{key:"getRightEyeProb",value:function getRightEyeProb(){return c.Struct.getFloat32(16,this)}},{key:"setRightEyeProb",value:function setRightEyeProb(t){c.Struct.setFloat32(16,t,this)}},{key:"getLeftBlinkProb",value:function getLeftBlinkProb(){return c.Struct.getFloat32(20,this)}},{key:"setLeftBlinkProb",value:function setLeftBlinkProb(t){c.Struct.setFloat32(20,t,this)}},{key:"getRightBlinkProb",value:function getRightBlinkProb(){return c.Struct.getFloat32(24,this)}},{key:"setRightBlinkProb",value:function setRightBlinkProb(t){c.Struct.setFloat32(24,t,this)}},{key:"adoptFaceOrientationStd",value:function adoptFaceOrientationStd(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownFaceOrientationStd",value:function disownFaceOrientationStd(){return c.Struct.disown(this.getFaceOrientationStd())}},{key:"getFaceOrientationStd",value:function getFaceOrientationStd(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasFaceOrientationStd",value:function hasFaceOrientationStd(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initFaceOrientationStd",value:function initFaceOrientationStd(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setFaceOrientationStd",value:function setFaceOrientationStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptFacePositionStd",value:function adoptFacePositionStd(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownFacePositionStd",value:function disownFacePositionStd(){return c.Struct.disown(this.getFacePositionStd())}},{key:"getFacePositionStd",value:function getFacePositionStd(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasFacePositionStd",value:function hasFacePositionStd(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initFacePositionStd",value:function initFacePositionStd(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setFacePositionStd",value:function setFacePositionStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"getSunglassesProb",value:function getSunglassesProb(){return c.Struct.getFloat32(32,this)}},{key:"setSunglassesProb",value:function setSunglassesProb(t){c.Struct.setFloat32(32,t,this)}},{key:"getPoorVision",value:function getPoorVision(){return c.Struct.getFloat32(44,this)}},{key:"setPoorVision",value:function setPoorVision(t){c.Struct.setFloat32(44,t,this)}},{key:"getPartialFace",value:function getPartialFace(){return c.Struct.getFloat32(48,this)}},{key:"setPartialFace",value:function setPartialFace(t){c.Struct.setFloat32(48,t,this)}},{key:"getDistractedPose",value:function getDistractedPose(){return c.Struct.getFloat32(52,this)}},{key:"setDistractedPose",value:function setDistractedPose(t){c.Struct.setFloat32(52,t,this)}},{key:"getDistractedEyes",value:function getDistractedEyes(){return c.Struct.getFloat32(56,this)}},{key:"setDistractedEyes",value:function setDistractedEyes(t){c.Struct.setFloat32(56,t,this)}},{key:"getIrPwrDEPRECATED",value:function getIrPwrDEPRECATED(){return c.Struct.getFloat32(28,this)}},{key:"setIrPwrDEPRECATED",value:function setIrPwrDEPRECATED(t){c.Struct.setFloat32(28,t,this)}},{key:"adoptDescriptorDEPRECATED",value:function adoptDescriptorDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDescriptorDEPRECATED",value:function disownDescriptorDEPRECATED(){return c.Struct.disown(this.getDescriptorDEPRECATED())}},{key:"getDescriptorDEPRECATED",value:function getDescriptorDEPRECATED(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasDescriptorDEPRECATED",value:function hasDescriptorDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDescriptorDEPRECATED",value:function initDescriptorDEPRECATED(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setDescriptorDEPRECATED",value:function setDescriptorDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getStdDEPRECATED",value:function getStdDEPRECATED(){return c.Struct.getFloat32(4,this)}},{key:"setStdDEPRECATED",value:function setStdDEPRECATED(t){c.Struct.setFloat32(4,t,this)}},{key:"toString",value:function toString(){return"DriverState_"+s(a(DriverState.prototype),"toString",this).call(this)}}]),DriverState}(c.Struct);Ht._capnp={displayName:"DriverState",id:"b83c6cc593ed0a00",size:new c.ObjectSize(64,6)},e.DriverState=Ht;var Kt=function(t){function DriverMonitoringState(){return r(this,DriverMonitoringState),o(this,a(DriverMonitoringState).apply(this,arguments))}return u(DriverMonitoringState,t),i(DriverMonitoringState,[{key:"adoptEvents",value:function adoptEvents(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEvents",value:function disownEvents(){return c.Struct.disown(this.getEvents())}},{key:"getEvents",value:function getEvents(){return c.Struct.getList(0,DriverMonitoringState._Events,this)}},{key:"hasEvents",value:function hasEvents(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEvents",value:function initEvents(t){return c.Struct.initList(0,DriverMonitoringState._Events,t,this)}},{key:"setEvents",value:function setEvents(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getFaceDetected",value:function getFaceDetected(){return c.Struct.getBit(0,this)}},{key:"setFaceDetected",value:function setFaceDetected(t){c.Struct.setBit(0,t,this)}},{key:"getIsDistracted",value:function getIsDistracted(){return c.Struct.getBit(1,this)}},{key:"setIsDistracted",value:function setIsDistracted(t){c.Struct.setBit(1,t,this)}},{key:"getAwarenessStatus",value:function getAwarenessStatus(){return c.Struct.getFloat32(4,this)}},{key:"setAwarenessStatus",value:function setAwarenessStatus(t){c.Struct.setFloat32(4,t,this)}},{key:"getPosePitchOffset",value:function getPosePitchOffset(){return c.Struct.getFloat32(8,this)}},{key:"setPosePitchOffset",value:function setPosePitchOffset(t){c.Struct.setFloat32(8,t,this)}},{key:"getPosePitchValidCount",value:function getPosePitchValidCount(){return c.Struct.getUint32(12,this)}},{key:"setPosePitchValidCount",value:function setPosePitchValidCount(t){c.Struct.setUint32(12,t,this)}},{key:"getPoseYawOffset",value:function getPoseYawOffset(){return c.Struct.getFloat32(16,this)}},{key:"setPoseYawOffset",value:function setPoseYawOffset(t){c.Struct.setFloat32(16,t,this)}},{key:"getPoseYawValidCount",value:function getPoseYawValidCount(){return c.Struct.getUint32(20,this)}},{key:"setPoseYawValidCount",value:function setPoseYawValidCount(t){c.Struct.setUint32(20,t,this)}},{key:"getStepChange",value:function getStepChange(){return c.Struct.getFloat32(24,this)}},{key:"setStepChange",value:function setStepChange(t){c.Struct.setFloat32(24,t,this)}},{key:"getAwarenessActive",value:function getAwarenessActive(){return c.Struct.getFloat32(28,this)}},{key:"setAwarenessActive",value:function setAwarenessActive(t){c.Struct.setFloat32(28,t,this)}},{key:"getAwarenessPassive",value:function getAwarenessPassive(){return c.Struct.getFloat32(32,this)}},{key:"setAwarenessPassive",value:function setAwarenessPassive(t){c.Struct.setFloat32(32,t,this)}},{key:"getIsLowStd",value:function getIsLowStd(){return c.Struct.getBit(4,this)}},{key:"setIsLowStd",value:function setIsLowStd(t){c.Struct.setBit(4,t,this)}},{key:"getHiStdCount",value:function getHiStdCount(){return c.Struct.getUint32(36,this)}},{key:"setHiStdCount",value:function setHiStdCount(t){c.Struct.setUint32(36,t,this)}},{key:"getIsActiveMode",value:function getIsActiveMode(){return c.Struct.getBit(6,this)}},{key:"setIsActiveMode",value:function setIsActiveMode(t){c.Struct.setBit(6,t,this)}},{key:"getIsRHDDEPRECATED",value:function getIsRHDDEPRECATED(){return c.Struct.getBit(2,this)}},{key:"setIsRHDDEPRECATED",value:function setIsRHDDEPRECATED(t){c.Struct.setBit(2,t,this)}},{key:"getIsPreviewDEPRECATED",value:function getIsPreviewDEPRECATED(){return c.Struct.getBit(5,this)}},{key:"setIsPreviewDEPRECATED",value:function setIsPreviewDEPRECATED(t){c.Struct.setBit(5,t,this)}},{key:"getRhdCheckedDEPRECATED",value:function getRhdCheckedDEPRECATED(){return c.Struct.getBit(3,this)}},{key:"setRhdCheckedDEPRECATED",value:function setRhdCheckedDEPRECATED(t){c.Struct.setBit(3,t,this)}},{key:"toString",value:function toString(){return"DriverMonitoringState_"+s(a(DriverMonitoringState.prototype),"toString",this).call(this)}}]),DriverMonitoringState}(c.Struct);Kt._capnp={displayName:"DriverMonitoringState",id:"b83cda094a1da284",size:new c.ObjectSize(40,1)},e.DriverMonitoringState=Kt;var Yt=function(t){function Boot(){return r(this,Boot),o(this,a(Boot).apply(this,arguments))}return u(Boot,t),i(Boot,[{key:"getWallTimeNanos",value:function getWallTimeNanos(){return c.Struct.getUint64(0,this)}},{key:"setWallTimeNanos",value:function setWallTimeNanos(t){c.Struct.setUint64(0,t,this)}},{key:"adoptLastKmsg",value:function adoptLastKmsg(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLastKmsg",value:function disownLastKmsg(){return c.Struct.disown(this.getLastKmsg())}},{key:"getLastKmsg",value:function getLastKmsg(){return c.Struct.getData(0,this)}},{key:"hasLastKmsg",value:function hasLastKmsg(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLastKmsg",value:function initLastKmsg(t){return c.Struct.initData(0,t,this)}},{key:"setLastKmsg",value:function setLastKmsg(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLastPmsg",value:function adoptLastPmsg(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownLastPmsg",value:function disownLastPmsg(){return c.Struct.disown(this.getLastPmsg())}},{key:"getLastPmsg",value:function getLastPmsg(){return c.Struct.getData(1,this)}},{key:"hasLastPmsg",value:function hasLastPmsg(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initLastPmsg",value:function initLastPmsg(t){return c.Struct.initData(1,t,this)}},{key:"setLastPmsg",value:function setLastPmsg(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getLaunchLog",value:function getLaunchLog(){return c.Struct.getText(2,this)}},{key:"setLaunchLog",value:function setLaunchLog(t){c.Struct.setText(2,t,this)}},{key:"toString",value:function toString(){return"Boot_"+s(a(Boot.prototype),"toString",this).call(this)}}]),Boot}(c.Struct);Yt._capnp={displayName:"Boot",id:"a12e8670927a2549",size:new c.ObjectSize(8,3)},e.Boot=Yt;var Xt=function(t){function LiveParametersData(){return r(this,LiveParametersData),o(this,a(LiveParametersData).apply(this,arguments))}return u(LiveParametersData,t),i(LiveParametersData,[{key:"getValid",value:function getValid(){return c.Struct.getBit(0,this)}},{key:"setValid",value:function setValid(t){c.Struct.setBit(0,t,this)}},{key:"getGyroBias",value:function getGyroBias(){return c.Struct.getFloat32(4,this)}},{key:"setGyroBias",value:function setGyroBias(t){c.Struct.setFloat32(4,t,this)}},{key:"getAngleOffset",value:function getAngleOffset(){return c.Struct.getFloat32(8,this)}},{key:"setAngleOffset",value:function setAngleOffset(t){c.Struct.setFloat32(8,t,this)}},{key:"getAngleOffsetAverage",value:function getAngleOffsetAverage(){return c.Struct.getFloat32(12,this)}},{key:"setAngleOffsetAverage",value:function setAngleOffsetAverage(t){c.Struct.setFloat32(12,t,this)}},{key:"getStiffnessFactor",value:function getStiffnessFactor(){return c.Struct.getFloat32(16,this)}},{key:"setStiffnessFactor",value:function setStiffnessFactor(t){c.Struct.setFloat32(16,t,this)}},{key:"getSteerRatio",value:function getSteerRatio(){return c.Struct.getFloat32(20,this)}},{key:"setSteerRatio",value:function setSteerRatio(t){c.Struct.setFloat32(20,t,this)}},{key:"getSensorValid",value:function getSensorValid(){return c.Struct.getBit(1,this)}},{key:"setSensorValid",value:function setSensorValid(t){c.Struct.setBit(1,t,this)}},{key:"getYawRate",value:function getYawRate(){return c.Struct.getFloat32(24,this)}},{key:"setYawRate",value:function setYawRate(t){c.Struct.setFloat32(24,t,this)}},{key:"getPosenetSpeed",value:function getPosenetSpeed(){return c.Struct.getFloat32(28,this)}},{key:"setPosenetSpeed",value:function setPosenetSpeed(t){c.Struct.setFloat32(28,t,this)}},{key:"getPosenetValid",value:function getPosenetValid(){return c.Struct.getBit(2,this)}},{key:"setPosenetValid",value:function setPosenetValid(t){c.Struct.setBit(2,t,this)}},{key:"toString",value:function toString(){return"LiveParametersData_"+s(a(LiveParametersData.prototype),"toString",this).call(this)}}]),LiveParametersData}(c.Struct);Xt._capnp={displayName:"LiveParametersData",id:"d9058dcb967c2753",size:new c.ObjectSize(32,0)},e.LiveParametersData=Xt;var Zt=function(t){function LiveMapDataDEPRECATED(){return r(this,LiveMapDataDEPRECATED),o(this,a(LiveMapDataDEPRECATED).apply(this,arguments))}return u(LiveMapDataDEPRECATED,t),i(LiveMapDataDEPRECATED,[{key:"getSpeedLimitValid",value:function getSpeedLimitValid(){return c.Struct.getBit(0,this)}},{key:"setSpeedLimitValid",value:function setSpeedLimitValid(t){c.Struct.setBit(0,t,this)}},{key:"getSpeedLimit",value:function getSpeedLimit(){return c.Struct.getFloat32(4,this)}},{key:"setSpeedLimit",value:function setSpeedLimit(t){c.Struct.setFloat32(4,t,this)}},{key:"getSpeedAdvisoryValid",value:function getSpeedAdvisoryValid(){return c.Struct.getBit(3,this)}},{key:"setSpeedAdvisoryValid",value:function setSpeedAdvisoryValid(t){c.Struct.setBit(3,t,this)}},{key:"getSpeedAdvisory",value:function getSpeedAdvisory(){return c.Struct.getFloat32(24,this)}},{key:"setSpeedAdvisory",value:function setSpeedAdvisory(t){c.Struct.setFloat32(24,t,this)}},{key:"getSpeedLimitAheadValid",value:function getSpeedLimitAheadValid(){return c.Struct.getBit(4,this)}},{key:"setSpeedLimitAheadValid",value:function setSpeedLimitAheadValid(t){c.Struct.setBit(4,t,this)}},{key:"getSpeedLimitAhead",value:function getSpeedLimitAhead(){return c.Struct.getFloat32(28,this)}},{key:"setSpeedLimitAhead",value:function setSpeedLimitAhead(t){c.Struct.setFloat32(28,t,this)}},{key:"getSpeedLimitAheadDistance",value:function getSpeedLimitAheadDistance(){return c.Struct.getFloat32(32,this)}},{key:"setSpeedLimitAheadDistance",value:function setSpeedLimitAheadDistance(t){c.Struct.setFloat32(32,t,this)}},{key:"getCurvatureValid",value:function getCurvatureValid(){return c.Struct.getBit(1,this)}},{key:"setCurvatureValid",value:function setCurvatureValid(t){c.Struct.setBit(1,t,this)}},{key:"getCurvature",value:function getCurvature(){return c.Struct.getFloat32(8,this)}},{key:"setCurvature",value:function setCurvature(t){c.Struct.setFloat32(8,t,this)}},{key:"getWayId",value:function getWayId(){return c.Struct.getUint64(16,this)}},{key:"setWayId",value:function setWayId(t){c.Struct.setUint64(16,t,this)}},{key:"adoptRoadX",value:function adoptRoadX(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownRoadX",value:function disownRoadX(){return c.Struct.disown(this.getRoadX())}},{key:"getRoadX",value:function getRoadX(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasRoadX",value:function hasRoadX(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initRoadX",value:function initRoadX(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setRoadX",value:function setRoadX(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptRoadY",value:function adoptRoadY(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownRoadY",value:function disownRoadY(){return c.Struct.disown(this.getRoadY())}},{key:"getRoadY",value:function getRoadY(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasRoadY",value:function hasRoadY(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initRoadY",value:function initRoadY(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setRoadY",value:function setRoadY(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptLastGps",value:function adoptLastGps(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownLastGps",value:function disownLastGps(){return c.Struct.disown(this.getLastGps())}},{key:"getLastGps",value:function getLastGps(){return c.Struct.getStruct(2,M,this)}},{key:"hasLastGps",value:function hasLastGps(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initLastGps",value:function initLastGps(){return c.Struct.initStructAt(2,M,this)}},{key:"setLastGps",value:function setLastGps(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptRoadCurvatureX",value:function adoptRoadCurvatureX(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownRoadCurvatureX",value:function disownRoadCurvatureX(){return c.Struct.disown(this.getRoadCurvatureX())}},{key:"getRoadCurvatureX",value:function getRoadCurvatureX(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasRoadCurvatureX",value:function hasRoadCurvatureX(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initRoadCurvatureX",value:function initRoadCurvatureX(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setRoadCurvatureX",value:function setRoadCurvatureX(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptRoadCurvature",value:function adoptRoadCurvature(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownRoadCurvature",value:function disownRoadCurvature(){return c.Struct.disown(this.getRoadCurvature())}},{key:"getRoadCurvature",value:function getRoadCurvature(){return c.Struct.getList(4,l.Float32List,this)}},{key:"hasRoadCurvature",value:function hasRoadCurvature(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initRoadCurvature",value:function initRoadCurvature(t){return c.Struct.initList(4,l.Float32List,t,this)}},{key:"setRoadCurvature",value:function setRoadCurvature(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"getDistToTurn",value:function getDistToTurn(){return c.Struct.getFloat32(12,this)}},{key:"setDistToTurn",value:function setDistToTurn(t){c.Struct.setFloat32(12,t,this)}},{key:"getMapValid",value:function getMapValid(){return c.Struct.getBit(2,this)}},{key:"setMapValid",value:function setMapValid(t){c.Struct.setBit(2,t,this)}},{key:"toString",value:function toString(){return"LiveMapDataDEPRECATED_"+s(a(LiveMapDataDEPRECATED.prototype),"toString",this).call(this)}}]),LiveMapDataDEPRECATED}(c.Struct);Zt._capnp={displayName:"LiveMapDataDEPRECATED",id:"943e268f93f711a6",size:new c.ObjectSize(40,5)},e.LiveMapDataDEPRECATED=Zt;var $t,Jt=function(t){function CameraOdometry(){return r(this,CameraOdometry),o(this,a(CameraOdometry).apply(this,arguments))}return u(CameraOdometry,t),i(CameraOdometry,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(8,t,this)}},{key:"adoptTrans",value:function adoptTrans(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownTrans",value:function disownTrans(){return c.Struct.disown(this.getTrans())}},{key:"getTrans",value:function getTrans(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasTrans",value:function hasTrans(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initTrans",value:function initTrans(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setTrans",value:function setTrans(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptRot",value:function adoptRot(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownRot",value:function disownRot(){return c.Struct.disown(this.getRot())}},{key:"getRot",value:function getRot(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasRot",value:function hasRot(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initRot",value:function initRot(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setRot",value:function setRot(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptTransStd",value:function adoptTransStd(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownTransStd",value:function disownTransStd(){return c.Struct.disown(this.getTransStd())}},{key:"getTransStd",value:function getTransStd(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasTransStd",value:function hasTransStd(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initTransStd",value:function initTransStd(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setTransStd",value:function setTransStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptRotStd",value:function adoptRotStd(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownRotStd",value:function disownRotStd(){return c.Struct.disown(this.getRotStd())}},{key:"getRotStd",value:function getRotStd(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasRotStd",value:function hasRotStd(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initRotStd",value:function initRotStd(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setRotStd",value:function setRotStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"toString",value:function toString(){return"CameraOdometry_"+s(a(CameraOdometry.prototype),"toString",this).call(this)}}]),CameraOdometry}(c.Struct);Jt._capnp={displayName:"CameraOdometry",id:"fa9a296b9fd41a96",size:new c.ObjectSize(16,4)},e.CameraOdometry=Jt,function(t){t[t.END_OF_SEGMENT=0]="END_OF_SEGMENT",t[t.END_OF_ROUTE=1]="END_OF_ROUTE",t[t.START_OF_SEGMENT=2]="START_OF_SEGMENT",t[t.START_OF_ROUTE=3]="START_OF_ROUTE"}($t=e.Sentinel_SentinelType||(e.Sentinel_SentinelType={}));var Qt=function(t){function Sentinel(){return r(this,Sentinel),o(this,a(Sentinel).apply(this,arguments))}return u(Sentinel,t),i(Sentinel,[{key:"getType",value:function getType(){return c.Struct.getUint16(0,this)}},{key:"setType",value:function setType(t){c.Struct.setUint16(0,t,this)}},{key:"toString",value:function toString(){return"Sentinel_"+s(a(Sentinel.prototype),"toString",this).call(this)}}]),Sentinel}(c.Struct);Qt.SentinelType=$t,Qt._capnp={displayName:"Sentinel",id:"ef0382d244f56e38",size:new c.ObjectSize(8,0)},e.Sentinel=Qt;var te=function(t){function ManagerState_ProcessState(){return r(this,ManagerState_ProcessState),o(this,a(ManagerState_ProcessState).apply(this,arguments))}return u(ManagerState_ProcessState,t),i(ManagerState_ProcessState,[{key:"getName",value:function getName(){return c.Struct.getText(0,this)}},{key:"setName",value:function setName(t){c.Struct.setText(0,t,this)}},{key:"getPid",value:function getPid(){return c.Struct.getInt32(0,this)}},{key:"setPid",value:function setPid(t){c.Struct.setInt32(0,t,this)}},{key:"getRunning",value:function getRunning(){return c.Struct.getBit(32,this)}},{key:"setRunning",value:function setRunning(t){c.Struct.setBit(32,t,this)}},{key:"getExitCode",value:function getExitCode(){return c.Struct.getInt32(8,this)}},{key:"setExitCode",value:function setExitCode(t){c.Struct.setInt32(8,t,this)}},{key:"toString",value:function toString(){return"ManagerState_ProcessState_"+s(a(ManagerState_ProcessState.prototype),"toString",this).call(this)}}]),ManagerState_ProcessState}(c.Struct);te._capnp={displayName:"ProcessState",id:"869a54d2708469ea",size:new c.ObjectSize(16,1)},e.ManagerState_ProcessState=te;var ee,ne=function(t){function ManagerState(){return r(this,ManagerState),o(this,a(ManagerState).apply(this,arguments))}return u(ManagerState,t),i(ManagerState,[{key:"adoptProcesses",value:function adoptProcesses(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownProcesses",value:function disownProcesses(){return c.Struct.disown(this.getProcesses())}},{key:"getProcesses",value:function getProcesses(){return c.Struct.getList(0,ManagerState._Processes,this)}},{key:"hasProcesses",value:function hasProcesses(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initProcesses",value:function initProcesses(t){return c.Struct.initList(0,ManagerState._Processes,t,this)}},{key:"setProcesses",value:function setProcesses(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"ManagerState_"+s(a(ManagerState.prototype),"toString",this).call(this)}}]),ManagerState}(c.Struct);ne.ProcessState=te,ne._capnp={displayName:"ManagerState",id:"cf7154b31a69635b",size:new c.ObjectSize(0,1)},e.ManagerState=ne,function(t){t[t.INIT_DATA=0]="INIT_DATA",t[t.SENTINEL=71]="SENTINEL",t[t.BOOT=59]="BOOT",t[t.FRAME=1]="FRAME",t[t.GPS_NMEA=2]="GPS_NMEA",t[t.CAN=4]="CAN",t[t.THERMAL=5]="THERMAL",t[t.CONTROLS_STATE=6]="CONTROLS_STATE",t[t.SENSOR_EVENTS=10]="SENSOR_EVENTS",t[t.HEALTH=11]="HEALTH",t[t.RADAR_STATE=12]="RADAR_STATE",t[t.ENCODE_IDX=14]="ENCODE_IDX",t[t.LIVE_TRACKS=15]="LIVE_TRACKS",t[t.SENDCAN=16]="SENDCAN",t[t.LOG_MESSAGE=17]="LOG_MESSAGE",t[t.LIVE_CALIBRATION=18]="LIVE_CALIBRATION",t[t.ANDROID_LOG=19]="ANDROID_LOG",t[t.GPS_LOCATION=20]="GPS_LOCATION",t[t.CAR_STATE=21]="CAR_STATE",t[t.CAR_CONTROL=22]="CAR_CONTROL",t[t.LONGITUDINAL_PLAN=23]="LONGITUDINAL_PLAN",t[t.LATERAL_PLAN=63]="LATERAL_PLAN",t[t.LIVE_LOCATION=24]="LIVE_LOCATION",t[t.PROC_LOG=32]="PROC_LOG",t[t.UBLOX_GNSS=33]="UBLOX_GNSS",t[t.CLOCKS=34]="CLOCKS",t[t.LIVE_MPC=35]="LIVE_MPC",t[t.LIVE_LONGITUDINAL_MPC=36]="LIVE_LONGITUDINAL_MPC",t[t.UBLOX_RAW=38]="UBLOX_RAW",t[t.GPS_LOCATION_EXTERNAL=47]="GPS_LOCATION_EXTERNAL",t[t.LOCATION=48]="LOCATION",t[t.UI_LAYOUT_STATE=56]="UI_LAYOUT_STATE",t[t.DRIVER_STATE=58]="DRIVER_STATE",t[t.LIVE_PARAMETERS=60]="LIVE_PARAMETERS",t[t.CAMERA_ODOMETRY=62]="CAMERA_ODOMETRY",t[t.THUMBNAIL=65]="THUMBNAIL",t[t.CAR_EVENTS=66]="CAR_EVENTS",t[t.CAR_PARAMS=67]="CAR_PARAMS",t[t.FRONT_FRAME=68]="FRONT_FRAME",t[t.DRIVER_MONITORING_STATE=69]="DRIVER_MONITORING_STATE",t[t.LIVE_LOCATION_KALMAN=70]="LIVE_LOCATION_KALMAN",t[t.WIDE_FRAME=72]="WIDE_FRAME",t[t.MODEL_V2=73]="MODEL_V2",t[t.FRONT_ENCODE_IDX=74]="FRONT_ENCODE_IDX",t[t.WIDE_ENCODE_IDX=75]="WIDE_ENCODE_IDX",t[t.MANAGER_STATE=76]="MANAGER_STATE",t[t.TEST_JOYSTICK=51]="TEST_JOYSTICK",t[t.MODEL=8]="MODEL",t[t.LIVE_LOCATION_KALMAN_DEPRECATED=50]="LIVE_LOCATION_KALMAN_DEPRECATED",t[t.ORBSLAM_CORRECTION_DEPRECATED=44]="ORBSLAM_CORRECTION_DEPRECATED",t[t.LIVE_UIDEPRECATED=13]="LIVE_UIDEPRECATED",t[t.SENSOR_EVENT_DEPRECATED=3]="SENSOR_EVENT_DEPRECATED",t[t.LIVE_EVENT_DEPRECATED=7]="LIVE_EVENT_DEPRECATED",t[t.ETHERNET_DATA_DEPRECATED=25]="ETHERNET_DATA_DEPRECATED",t[t.CELL_INFO_DEPRECATED=27]="CELL_INFO_DEPRECATED",t[t.WIFI_SCAN_DEPRECATED=28]="WIFI_SCAN_DEPRECATED",t[t.UI_NAVIGATION_EVENT_DEPRECATED=49]="UI_NAVIGATION_EVENT_DEPRECATED",t[t.LIVE_MAP_DATA_DEPRECATED=61]="LIVE_MAP_DATA_DEPRECATED",t[t.GPS_PLANNER_POINTS_DEPRECATED=39]="GPS_PLANNER_POINTS_DEPRECATED",t[t.GPS_PLANNER_PLAN_DEPRECATED=40]="GPS_PLANNER_PLAN_DEPRECATED",t[t.APPLANIX_RAW_DEPRECATED=41]="APPLANIX_RAW_DEPRECATED",t[t.ANDROID_GNSS_DEPRECATED=29]="ANDROID_GNSS_DEPRECATED",t[t.QCOM_GNSS_DEPRECATD=30]="QCOM_GNSS_DEPRECATD",t[t.LIDAR_PTS_DEPRECATED=31]="LIDAR_PTS_DEPRECATED",t[t.NAV_STATUS_DEPRECATED=37]="NAV_STATUS_DEPRECATED",t[t.TRAFFIC_EVENTS_DEPRECATED=42]="TRAFFIC_EVENTS_DEPRECATED",t[t.LIVE_LOCATION_TIMING_DEPRECATED=43]="LIVE_LOCATION_TIMING_DEPRECATED",t[t.LIVE_LOCATION_CORRECTED_DEPRECATED=45]="LIVE_LOCATION_CORRECTED_DEPRECATED",t[t.NAV_UPDATE_DEPRECATED=26]="NAV_UPDATE_DEPRECATED",t[t.ORB_OBSERVATION_DEPRECATED=46]="ORB_OBSERVATION_DEPRECATED",t[t.ORB_ODOMETRY_DEPRECATED=52]="ORB_ODOMETRY_DEPRECATED",t[t.ORB_FEATURES_DEPRECATED=53]="ORB_FEATURES_DEPRECATED",t[t.APPLANIX_LOCATION_DEPRECATED=54]="APPLANIX_LOCATION_DEPRECATED",t[t.ORB_KEY_FRAME_DEPRECATED=55]="ORB_KEY_FRAME_DEPRECATED",t[t.ORB_FEATURES_SUMMARY_DEPRECATED=57]="ORB_FEATURES_SUMMARY_DEPRECATED",t[t.FEATURES_DEPRECATED=9]="FEATURES_DEPRECATED",t[t.KALMAN_ODOMETRY_DEPRECATED=64]="KALMAN_ODOMETRY_DEPRECATED"}(ee=e.Event_Which||(e.Event_Which={}));var re=function(t){function Event(){return r(this,Event),o(this,a(Event).apply(this,arguments))}return u(Event,t),i(Event,[{key:"getLogMonoTime",value:function getLogMonoTime(){return c.Struct.getUint64(0,this)}},{key:"setLogMonoTime",value:function setLogMonoTime(t){c.Struct.setUint64(0,t,this)}},{key:"getValid",value:function getValid(){return c.Struct.getBit(80,this,Event._capnp.defaultValid)}},{key:"setValid",value:function setValid(t){c.Struct.setBit(80,t,this)}},{key:"adoptInitData",value:function adoptInitData(t){c.Struct.setUint16(8,0,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownInitData",value:function disownInitData(){return c.Struct.disown(this.getInitData())}},{key:"getInitData",value:function getInitData(){return c.Struct.testWhich("initData",c.Struct.getUint16(8,this),0,this),c.Struct.getStruct(0,E,this)}},{key:"hasInitData",value:function hasInitData(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initInitData",value:function initInitData(){return c.Struct.setUint16(8,0,this),c.Struct.initStructAt(0,E,this)}},{key:"isInitData",value:function isInitData(){return 0===c.Struct.getUint16(8,this)}},{key:"setInitData",value:function setInitData(t){c.Struct.setUint16(8,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptSentinel",value:function adoptSentinel(t){c.Struct.setUint16(8,71,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSentinel",value:function disownSentinel(){return c.Struct.disown(this.getSentinel())}},{key:"getSentinel",value:function getSentinel(){return c.Struct.testWhich("sentinel",c.Struct.getUint16(8,this),71,this),c.Struct.getStruct(0,Qt,this)}},{key:"hasSentinel",value:function hasSentinel(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSentinel",value:function initSentinel(){return c.Struct.setUint16(8,71,this),c.Struct.initStructAt(0,Qt,this)}},{key:"isSentinel",value:function isSentinel(){return 71===c.Struct.getUint16(8,this)}},{key:"setSentinel",value:function setSentinel(t){c.Struct.setUint16(8,71,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptBoot",value:function adoptBoot(t){c.Struct.setUint16(8,59,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownBoot",value:function disownBoot(){return c.Struct.disown(this.getBoot())}},{key:"getBoot",value:function getBoot(){return c.Struct.testWhich("boot",c.Struct.getUint16(8,this),59,this),c.Struct.getStruct(0,Yt,this)}},{key:"hasBoot",value:function hasBoot(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initBoot",value:function initBoot(){return c.Struct.setUint16(8,59,this),c.Struct.initStructAt(0,Yt,this)}},{key:"isBoot",value:function isBoot(){return 59===c.Struct.getUint16(8,this)}},{key:"setBoot",value:function setBoot(t){c.Struct.setUint16(8,59,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptFrame",value:function adoptFrame(t){c.Struct.setUint16(8,1,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFrame",value:function disownFrame(){return c.Struct.disown(this.getFrame())}},{key:"getFrame",value:function getFrame(){return c.Struct.testWhich("frame",c.Struct.getUint16(8,this),1,this),c.Struct.getStruct(0,w,this)}},{key:"hasFrame",value:function hasFrame(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFrame",value:function initFrame(){return c.Struct.setUint16(8,1,this),c.Struct.initStructAt(0,w,this)}},{key:"isFrame",value:function isFrame(){return 1===c.Struct.getUint16(8,this)}},{key:"setFrame",value:function setFrame(t){c.Struct.setUint16(8,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGpsNMEA",value:function adoptGpsNMEA(t){c.Struct.setUint16(8,2,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGpsNMEA",value:function disownGpsNMEA(){return c.Struct.disown(this.getGpsNMEA())}},{key:"getGpsNMEA",value:function getGpsNMEA(){return c.Struct.testWhich("gpsNMEA",c.Struct.getUint16(8,this),2,this),c.Struct.getStruct(0,P,this)}},{key:"hasGpsNMEA",value:function hasGpsNMEA(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGpsNMEA",value:function initGpsNMEA(){return c.Struct.setUint16(8,2,this),c.Struct.initStructAt(0,P,this)}},{key:"isGpsNMEA",value:function isGpsNMEA(){return 2===c.Struct.getUint16(8,this)}},{key:"setGpsNMEA",value:function setGpsNMEA(t){c.Struct.setUint16(8,2,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCan",value:function adoptCan(t){c.Struct.setUint16(8,4,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCan",value:function disownCan(){return c.Struct.disown(this.getCan())}},{key:"getCan",value:function getCan(){return c.Struct.testWhich("can",c.Struct.getUint16(8,this),4,this),c.Struct.getList(0,Event._Can,this)}},{key:"hasCan",value:function hasCan(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCan",value:function initCan(t){return c.Struct.setUint16(8,4,this),c.Struct.initList(0,Event._Can,t,this)}},{key:"isCan",value:function isCan(){return 4===c.Struct.getUint16(8,this)}},{key:"setCan",value:function setCan(t){c.Struct.setUint16(8,4,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptThermal",value:function adoptThermal(t){c.Struct.setUint16(8,5,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownThermal",value:function disownThermal(){return c.Struct.disown(this.getThermal())}},{key:"getThermal",value:function getThermal(){return c.Struct.testWhich("thermal",c.Struct.getUint16(8,this),5,this),c.Struct.getStruct(0,j,this)}},{key:"hasThermal",value:function hasThermal(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initThermal",value:function initThermal(){return c.Struct.setUint16(8,5,this),c.Struct.initStructAt(0,j,this)}},{key:"isThermal",value:function isThermal(){return 5===c.Struct.getUint16(8,this)}},{key:"setThermal",value:function setThermal(t){c.Struct.setUint16(8,5,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptControlsState",value:function adoptControlsState(t){c.Struct.setUint16(8,6,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownControlsState",value:function disownControlsState(){return c.Struct.disown(this.getControlsState())}},{key:"getControlsState",value:function getControlsState(){return c.Struct.testWhich("controlsState",c.Struct.getUint16(8,this),6,this),c.Struct.getStruct(0,nt,this)}},{key:"hasControlsState",value:function hasControlsState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initControlsState",value:function initControlsState(){return c.Struct.setUint16(8,6,this),c.Struct.initStructAt(0,nt,this)}},{key:"isControlsState",value:function isControlsState(){return 6===c.Struct.getUint16(8,this)}},{key:"setControlsState",value:function setControlsState(t){c.Struct.setUint16(8,6,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptSensorEvents",value:function adoptSensorEvents(t){c.Struct.setUint16(8,10,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSensorEvents",value:function disownSensorEvents(){return c.Struct.disown(this.getSensorEvents())}},{key:"getSensorEvents",value:function getSensorEvents(){return c.Struct.testWhich("sensorEvents",c.Struct.getUint16(8,this),10,this),c.Struct.getList(0,Event._SensorEvents,this)}},{key:"hasSensorEvents",value:function hasSensorEvents(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSensorEvents",value:function initSensorEvents(t){return c.Struct.setUint16(8,10,this),c.Struct.initList(0,Event._SensorEvents,t,this)}},{key:"isSensorEvents",value:function isSensorEvents(){return 10===c.Struct.getUint16(8,this)}},{key:"setSensorEvents",value:function setSensorEvents(t){c.Struct.setUint16(8,10,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptHealth",value:function adoptHealth(t){c.Struct.setUint16(8,11,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownHealth",value:function disownHealth(){return c.Struct.disown(this.getHealth())}},{key:"getHealth",value:function getHealth(){return c.Struct.testWhich("health",c.Struct.getUint16(8,this),11,this),c.Struct.getStruct(0,V,this)}},{key:"hasHealth",value:function hasHealth(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initHealth",value:function initHealth(){return c.Struct.setUint16(8,11,this),c.Struct.initStructAt(0,V,this)}},{key:"isHealth",value:function isHealth(){return 11===c.Struct.getUint16(8,this)}},{key:"setHealth",value:function setHealth(t){c.Struct.setUint16(8,11,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptRadarState",value:function adoptRadarState(t){c.Struct.setUint16(8,12,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownRadarState",value:function disownRadarState(){return c.Struct.disown(this.getRadarState())}},{key:"getRadarState",value:function getRadarState(){return c.Struct.testWhich("radarState",c.Struct.getUint16(8,this),12,this),c.Struct.getStruct(0,W,this)}},{key:"hasRadarState",value:function hasRadarState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initRadarState",value:function initRadarState(){return c.Struct.setUint16(8,12,this),c.Struct.initStructAt(0,W,this)}},{key:"isRadarState",value:function isRadarState(){return 12===c.Struct.getUint16(8,this)}},{key:"setRadarState",value:function setRadarState(t){c.Struct.setUint16(8,12,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptEncodeIdx",value:function adoptEncodeIdx(t){c.Struct.setUint16(8,14,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEncodeIdx",value:function disownEncodeIdx(){return c.Struct.disown(this.getEncodeIdx())}},{key:"getEncodeIdx",value:function getEncodeIdx(){return c.Struct.testWhich("encodeIdx",c.Struct.getUint16(8,this),14,this),c.Struct.getStruct(0,ut,this)}},{key:"hasEncodeIdx",value:function hasEncodeIdx(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEncodeIdx",value:function initEncodeIdx(){return c.Struct.setUint16(8,14,this),c.Struct.initStructAt(0,ut,this)}},{key:"isEncodeIdx",value:function isEncodeIdx(){return 14===c.Struct.getUint16(8,this)}},{key:"setEncodeIdx",value:function setEncodeIdx(t){c.Struct.setUint16(8,14,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveTracks",value:function adoptLiveTracks(t){c.Struct.setUint16(8,15,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveTracks",value:function disownLiveTracks(){return c.Struct.disown(this.getLiveTracks())}},{key:"getLiveTracks",value:function getLiveTracks(){return c.Struct.testWhich("liveTracks",c.Struct.getUint16(8,this),15,this),c.Struct.getList(0,Event._LiveTracks,this)}},{key:"hasLiveTracks",value:function hasLiveTracks(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveTracks",value:function initLiveTracks(t){return c.Struct.setUint16(8,15,this),c.Struct.initList(0,Event._LiveTracks,t,this)}},{key:"isLiveTracks",value:function isLiveTracks(){return 15===c.Struct.getUint16(8,this)}},{key:"setLiveTracks",value:function setLiveTracks(t){c.Struct.setUint16(8,15,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptSendcan",value:function adoptSendcan(t){c.Struct.setUint16(8,16,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSendcan",value:function disownSendcan(){return c.Struct.disown(this.getSendcan())}},{key:"getSendcan",value:function getSendcan(){return c.Struct.testWhich("sendcan",c.Struct.getUint16(8,this),16,this),c.Struct.getList(0,Event._Sendcan,this)}},{key:"hasSendcan",value:function hasSendcan(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSendcan",value:function initSendcan(t){return c.Struct.setUint16(8,16,this),c.Struct.initList(0,Event._Sendcan,t,this)}},{key:"isSendcan",value:function isSendcan(){return 16===c.Struct.getUint16(8,this)}},{key:"setSendcan",value:function setSendcan(t){c.Struct.setUint16(8,16,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getLogMessage",value:function getLogMessage(){return c.Struct.testWhich("logMessage",c.Struct.getUint16(8,this),17,this),c.Struct.getText(0,this)}},{key:"isLogMessage",value:function isLogMessage(){return 17===c.Struct.getUint16(8,this)}},{key:"setLogMessage",value:function setLogMessage(t){c.Struct.setUint16(8,17,this),c.Struct.setText(0,t,this)}},{key:"adoptLiveCalibration",value:function adoptLiveCalibration(t){c.Struct.setUint16(8,18,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveCalibration",value:function disownLiveCalibration(){return c.Struct.disown(this.getLiveCalibration())}},{key:"getLiveCalibration",value:function getLiveCalibration(){return c.Struct.testWhich("liveCalibration",c.Struct.getUint16(8,this),18,this),c.Struct.getStruct(0,q,this)}},{key:"hasLiveCalibration",value:function hasLiveCalibration(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveCalibration",value:function initLiveCalibration(){return c.Struct.setUint16(8,18,this),c.Struct.initStructAt(0,q,this)}},{key:"isLiveCalibration",value:function isLiveCalibration(){return 18===c.Struct.getUint16(8,this)}},{key:"setLiveCalibration",value:function setLiveCalibration(t){c.Struct.setUint16(8,18,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptAndroidLog",value:function adoptAndroidLog(t){c.Struct.setUint16(8,19,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownAndroidLog",value:function disownAndroidLog(){return c.Struct.disown(this.getAndroidLog())}},{key:"getAndroidLog",value:function getAndroidLog(){return c.Struct.testWhich("androidLog",c.Struct.getUint16(8,this),19,this),c.Struct.getStruct(0,ct,this)}},{key:"hasAndroidLog",value:function hasAndroidLog(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initAndroidLog",value:function initAndroidLog(){return c.Struct.setUint16(8,19,this),c.Struct.initStructAt(0,ct,this)}},{key:"isAndroidLog",value:function isAndroidLog(){return 19===c.Struct.getUint16(8,this)}},{key:"setAndroidLog",value:function setAndroidLog(t){c.Struct.setUint16(8,19,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGpsLocation",value:function adoptGpsLocation(t){c.Struct.setUint16(8,20,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGpsLocation",value:function disownGpsLocation(){return c.Struct.disown(this.getGpsLocation())}},{key:"getGpsLocation",value:function getGpsLocation(){return c.Struct.testWhich("gpsLocation",c.Struct.getUint16(8,this),20,this),c.Struct.getStruct(0,M,this)}},{key:"hasGpsLocation",value:function hasGpsLocation(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGpsLocation",value:function initGpsLocation(){return c.Struct.setUint16(8,20,this),c.Struct.initStructAt(0,M,this)}},{key:"isGpsLocation",value:function isGpsLocation(){return 20===c.Struct.getUint16(8,this)}},{key:"setGpsLocation",value:function setGpsLocation(t){c.Struct.setUint16(8,20,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCarState",value:function adoptCarState(t){c.Struct.setUint16(8,21,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCarState",value:function disownCarState(){return c.Struct.disown(this.getCarState())}},{key:"getCarState",value:function getCarState(){return c.Struct.testWhich("carState",c.Struct.getUint16(8,this),21,this),c.Struct.getStruct(0,f.CarState,this)}},{key:"hasCarState",value:function hasCarState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCarState",value:function initCarState(){return c.Struct.setUint16(8,21,this),c.Struct.initStructAt(0,f.CarState,this)}},{key:"isCarState",value:function isCarState(){return 21===c.Struct.getUint16(8,this)}},{key:"setCarState",value:function setCarState(t){c.Struct.setUint16(8,21,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCarControl",value:function adoptCarControl(t){c.Struct.setUint16(8,22,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCarControl",value:function disownCarControl(){return c.Struct.disown(this.getCarControl())}},{key:"getCarControl",value:function getCarControl(){return c.Struct.testWhich("carControl",c.Struct.getUint16(8,this),22,this),c.Struct.getStruct(0,f.CarControl,this)}},{key:"hasCarControl",value:function hasCarControl(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCarControl",value:function initCarControl(){return c.Struct.setUint16(8,22,this),c.Struct.initStructAt(0,f.CarControl,this)}},{key:"isCarControl",value:function isCarControl(){return 22===c.Struct.getUint16(8,this)}},{key:"setCarControl",value:function setCarControl(t){c.Struct.setUint16(8,22,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLongitudinalPlan",value:function adoptLongitudinalPlan(t){c.Struct.setUint16(8,23,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLongitudinalPlan",value:function disownLongitudinalPlan(){return c.Struct.disown(this.getLongitudinalPlan())}},{key:"getLongitudinalPlan",value:function getLongitudinalPlan(){return c.Struct.testWhich("longitudinalPlan",c.Struct.getUint16(8,this),23,this),c.Struct.getStruct(0,gt,this)}},{key:"hasLongitudinalPlan",value:function hasLongitudinalPlan(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLongitudinalPlan",value:function initLongitudinalPlan(){return c.Struct.setUint16(8,23,this),c.Struct.initStructAt(0,gt,this)}},{key:"isLongitudinalPlan",value:function isLongitudinalPlan(){return 23===c.Struct.getUint16(8,this)}},{key:"setLongitudinalPlan",value:function setLongitudinalPlan(t){c.Struct.setUint16(8,23,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLateralPlan",value:function adoptLateralPlan(t){c.Struct.setUint16(8,63,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLateralPlan",value:function disownLateralPlan(){return c.Struct.disown(this.getLateralPlan())}},{key:"getLateralPlan",value:function getLateralPlan(){return c.Struct.testWhich("lateralPlan",c.Struct.getUint16(8,this),63,this),c.Struct.getStruct(0,mt,this)}},{key:"hasLateralPlan",value:function hasLateralPlan(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLateralPlan",value:function initLateralPlan(){return c.Struct.setUint16(8,63,this),c.Struct.initStructAt(0,mt,this)}},{key:"isLateralPlan",value:function isLateralPlan(){return 63===c.Struct.getUint16(8,this)}},{key:"setLateralPlan",value:function setLateralPlan(t){c.Struct.setUint16(8,63,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLocation",value:function adoptLiveLocation(t){c.Struct.setUint16(8,24,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLocation",value:function disownLiveLocation(){return c.Struct.disown(this.getLiveLocation())}},{key:"getLiveLocation",value:function getLiveLocation(){return c.Struct.testWhich("liveLocation",c.Struct.getUint16(8,this),24,this),c.Struct.getStruct(0,Et,this)}},{key:"hasLiveLocation",value:function hasLiveLocation(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLocation",value:function initLiveLocation(){return c.Struct.setUint16(8,24,this),c.Struct.initStructAt(0,Et,this)}},{key:"isLiveLocation",value:function isLiveLocation(){return 24===c.Struct.getUint16(8,this)}},{key:"setLiveLocation",value:function setLiveLocation(t){c.Struct.setUint16(8,24,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptProcLog",value:function adoptProcLog(t){c.Struct.setUint16(8,32,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownProcLog",value:function disownProcLog(){return c.Struct.disown(this.getProcLog())}},{key:"getProcLog",value:function getProcLog(){return c.Struct.testWhich("procLog",c.Struct.getUint16(8,this),32,this),c.Struct.getStruct(0,Pt,this)}},{key:"hasProcLog",value:function hasProcLog(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initProcLog",value:function initProcLog(){return c.Struct.setUint16(8,32,this),c.Struct.initStructAt(0,Pt,this)}},{key:"isProcLog",value:function isProcLog(){return 32===c.Struct.getUint16(8,this)}},{key:"setProcLog",value:function setProcLog(t){c.Struct.setUint16(8,32,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptUbloxGnss",value:function adoptUbloxGnss(t){c.Struct.setUint16(8,33,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownUbloxGnss",value:function disownUbloxGnss(){return c.Struct.disown(this.getUbloxGnss())}},{key:"getUbloxGnss",value:function getUbloxGnss(){return c.Struct.testWhich("ubloxGnss",c.Struct.getUint16(8,this),33,this),c.Struct.getStruct(0,Ut,this)}},{key:"hasUbloxGnss",value:function hasUbloxGnss(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initUbloxGnss",value:function initUbloxGnss(){return c.Struct.setUint16(8,33,this),c.Struct.initStructAt(0,Ut,this)}},{key:"isUbloxGnss",value:function isUbloxGnss(){return 33===c.Struct.getUint16(8,this)}},{key:"setUbloxGnss",value:function setUbloxGnss(t){c.Struct.setUint16(8,33,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptClocks",value:function adoptClocks(t){c.Struct.setUint16(8,34,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownClocks",value:function disownClocks(){return c.Struct.disown(this.getClocks())}},{key:"getClocks",value:function getClocks(){return c.Struct.testWhich("clocks",c.Struct.getUint16(8,this),34,this),c.Struct.getStruct(0,zt,this)}},{key:"hasClocks",value:function hasClocks(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initClocks",value:function initClocks(){return c.Struct.setUint16(8,34,this),c.Struct.initStructAt(0,zt,this)}},{key:"isClocks",value:function isClocks(){return 34===c.Struct.getUint16(8,this)}},{key:"setClocks",value:function setClocks(t){c.Struct.setUint16(8,34,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveMpc",value:function adoptLiveMpc(t){c.Struct.setUint16(8,35,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveMpc",value:function disownLiveMpc(){return c.Struct.disown(this.getLiveMpc())}},{key:"getLiveMpc",value:function getLiveMpc(){return c.Struct.testWhich("liveMpc",c.Struct.getUint16(8,this),35,this),c.Struct.getStruct(0,jt,this)}},{key:"hasLiveMpc",value:function hasLiveMpc(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveMpc",value:function initLiveMpc(){return c.Struct.setUint16(8,35,this),c.Struct.initStructAt(0,jt,this)}},{key:"isLiveMpc",value:function isLiveMpc(){return 35===c.Struct.getUint16(8,this)}},{key:"setLiveMpc",value:function setLiveMpc(t){c.Struct.setUint16(8,35,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLongitudinalMpc",value:function adoptLiveLongitudinalMpc(t){c.Struct.setUint16(8,36,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLongitudinalMpc",value:function disownLiveLongitudinalMpc(){return c.Struct.disown(this.getLiveLongitudinalMpc())}},{key:"getLiveLongitudinalMpc",value:function getLiveLongitudinalMpc(){return c.Struct.testWhich("liveLongitudinalMpc",c.Struct.getUint16(8,this),36,this),c.Struct.getStruct(0,Gt,this)}},{key:"hasLiveLongitudinalMpc",value:function hasLiveLongitudinalMpc(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLongitudinalMpc",value:function initLiveLongitudinalMpc(){return c.Struct.setUint16(8,36,this),c.Struct.initStructAt(0,Gt,this)}},{key:"isLiveLongitudinalMpc",value:function isLiveLongitudinalMpc(){return 36===c.Struct.getUint16(8,this)}},{key:"setLiveLongitudinalMpc",value:function setLiveLongitudinalMpc(t){c.Struct.setUint16(8,36,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptUbloxRaw",value:function adoptUbloxRaw(t){c.Struct.setUint16(8,38,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownUbloxRaw",value:function disownUbloxRaw(){return c.Struct.disown(this.getUbloxRaw())}},{key:"getUbloxRaw",value:function getUbloxRaw(){return c.Struct.testWhich("ubloxRaw",c.Struct.getUint16(8,this),38,this),c.Struct.getData(0,this)}},{key:"hasUbloxRaw",value:function hasUbloxRaw(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initUbloxRaw",value:function initUbloxRaw(t){return c.Struct.setUint16(8,38,this),c.Struct.initData(0,t,this)}},{key:"isUbloxRaw",value:function isUbloxRaw(){return 38===c.Struct.getUint16(8,this)}},{key:"setUbloxRaw",value:function setUbloxRaw(t){c.Struct.setUint16(8,38,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGpsLocationExternal",value:function adoptGpsLocationExternal(t){c.Struct.setUint16(8,47,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGpsLocationExternal",value:function disownGpsLocationExternal(){return c.Struct.disown(this.getGpsLocationExternal())}},{key:"getGpsLocationExternal",value:function getGpsLocationExternal(){return c.Struct.testWhich("gpsLocationExternal",c.Struct.getUint16(8,this),47,this),c.Struct.getStruct(0,M,this)}},{key:"hasGpsLocationExternal",value:function hasGpsLocationExternal(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGpsLocationExternal",value:function initGpsLocationExternal(){return c.Struct.setUint16(8,47,this),c.Struct.initStructAt(0,M,this)}},{key:"isGpsLocationExternal",value:function isGpsLocationExternal(){return 47===c.Struct.getUint16(8,this)}},{key:"setGpsLocationExternal",value:function setGpsLocationExternal(t){c.Struct.setUint16(8,47,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLocation",value:function adoptLocation(t){c.Struct.setUint16(8,48,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLocation",value:function disownLocation(){return c.Struct.disown(this.getLocation())}},{key:"getLocation",value:function getLocation(){return c.Struct.testWhich("location",c.Struct.getUint16(8,this),48,this),c.Struct.getStruct(0,Et,this)}},{key:"hasLocation",value:function hasLocation(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLocation",value:function initLocation(){return c.Struct.setUint16(8,48,this),c.Struct.initStructAt(0,Et,this)}},{key:"isLocation",value:function isLocation(){return 48===c.Struct.getUint16(8,this)}},{key:"setLocation",value:function setLocation(t){c.Struct.setUint16(8,48,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptUiLayoutState",value:function adoptUiLayoutState(t){c.Struct.setUint16(8,56,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownUiLayoutState",value:function disownUiLayoutState(){return c.Struct.disown(this.getUiLayoutState())}},{key:"getUiLayoutState",value:function getUiLayoutState(){return c.Struct.testWhich("uiLayoutState",c.Struct.getUint16(8,this),56,this),c.Struct.getStruct(0,Wt,this)}},{key:"hasUiLayoutState",value:function hasUiLayoutState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initUiLayoutState",value:function initUiLayoutState(){return c.Struct.setUint16(8,56,this),c.Struct.initStructAt(0,Wt,this)}},{key:"isUiLayoutState",value:function isUiLayoutState(){return 56===c.Struct.getUint16(8,this)}},{key:"setUiLayoutState",value:function setUiLayoutState(t){c.Struct.setUint16(8,56,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptDriverState",value:function adoptDriverState(t){c.Struct.setUint16(8,58,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDriverState",value:function disownDriverState(){return c.Struct.disown(this.getDriverState())}},{key:"getDriverState",value:function getDriverState(){return c.Struct.testWhich("driverState",c.Struct.getUint16(8,this),58,this),c.Struct.getStruct(0,Ht,this)}},{key:"hasDriverState",value:function hasDriverState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDriverState",value:function initDriverState(){return c.Struct.setUint16(8,58,this),c.Struct.initStructAt(0,Ht,this)}},{key:"isDriverState",value:function isDriverState(){return 58===c.Struct.getUint16(8,this)}},{key:"setDriverState",value:function setDriverState(t){c.Struct.setUint16(8,58,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveParameters",value:function adoptLiveParameters(t){c.Struct.setUint16(8,60,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveParameters",value:function disownLiveParameters(){return c.Struct.disown(this.getLiveParameters())}},{key:"getLiveParameters",value:function getLiveParameters(){return c.Struct.testWhich("liveParameters",c.Struct.getUint16(8,this),60,this),c.Struct.getStruct(0,Xt,this)}},{key:"hasLiveParameters",value:function hasLiveParameters(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveParameters",value:function initLiveParameters(){return c.Struct.setUint16(8,60,this),c.Struct.initStructAt(0,Xt,this)}},{key:"isLiveParameters",value:function isLiveParameters(){return 60===c.Struct.getUint16(8,this)}},{key:"setLiveParameters",value:function setLiveParameters(t){c.Struct.setUint16(8,60,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCameraOdometry",value:function adoptCameraOdometry(t){c.Struct.setUint16(8,62,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCameraOdometry",value:function disownCameraOdometry(){return c.Struct.disown(this.getCameraOdometry())}},{key:"getCameraOdometry",value:function getCameraOdometry(){return c.Struct.testWhich("cameraOdometry",c.Struct.getUint16(8,this),62,this),c.Struct.getStruct(0,Jt,this)}},{key:"hasCameraOdometry",value:function hasCameraOdometry(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCameraOdometry",value:function initCameraOdometry(){return c.Struct.setUint16(8,62,this),c.Struct.initStructAt(0,Jt,this)}},{key:"isCameraOdometry",value:function isCameraOdometry(){return 62===c.Struct.getUint16(8,this)}},{key:"setCameraOdometry",value:function setCameraOdometry(t){c.Struct.setUint16(8,62,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptThumbnail",value:function adoptThumbnail(t){c.Struct.setUint16(8,65,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownThumbnail",value:function disownThumbnail(){return c.Struct.disown(this.getThumbnail())}},{key:"getThumbnail",value:function getThumbnail(){return c.Struct.testWhich("thumbnail",c.Struct.getUint16(8,this),65,this),c.Struct.getStruct(0,T,this)}},{key:"hasThumbnail",value:function hasThumbnail(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initThumbnail",value:function initThumbnail(){return c.Struct.setUint16(8,65,this),c.Struct.initStructAt(0,T,this)}},{key:"isThumbnail",value:function isThumbnail(){return 65===c.Struct.getUint16(8,this)}},{key:"setThumbnail",value:function setThumbnail(t){c.Struct.setUint16(8,65,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCarEvents",value:function adoptCarEvents(t){c.Struct.setUint16(8,66,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCarEvents",value:function disownCarEvents(){return c.Struct.disown(this.getCarEvents())}},{key:"getCarEvents",value:function getCarEvents(){return c.Struct.testWhich("carEvents",c.Struct.getUint16(8,this),66,this),c.Struct.getList(0,Event._CarEvents,this)}},{key:"hasCarEvents",value:function hasCarEvents(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCarEvents",value:function initCarEvents(t){return c.Struct.setUint16(8,66,this),c.Struct.initList(0,Event._CarEvents,t,this)}},{key:"isCarEvents",value:function isCarEvents(){return 66===c.Struct.getUint16(8,this)}},{key:"setCarEvents",value:function setCarEvents(t){c.Struct.setUint16(8,66,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCarParams",value:function adoptCarParams(t){c.Struct.setUint16(8,67,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCarParams",value:function disownCarParams(){return c.Struct.disown(this.getCarParams())}},{key:"getCarParams",value:function getCarParams(){return c.Struct.testWhich("carParams",c.Struct.getUint16(8,this),67,this),c.Struct.getStruct(0,f.CarParams,this)}},{key:"hasCarParams",value:function hasCarParams(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCarParams",value:function initCarParams(){return c.Struct.setUint16(8,67,this),c.Struct.initStructAt(0,f.CarParams,this)}},{key:"isCarParams",value:function isCarParams(){return 67===c.Struct.getUint16(8,this)}},{key:"setCarParams",value:function setCarParams(t){c.Struct.setUint16(8,67,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptFrontFrame",value:function adoptFrontFrame(t){c.Struct.setUint16(8,68,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFrontFrame",value:function disownFrontFrame(){return c.Struct.disown(this.getFrontFrame())}},{key:"getFrontFrame",value:function getFrontFrame(){return c.Struct.testWhich("frontFrame",c.Struct.getUint16(8,this),68,this),c.Struct.getStruct(0,w,this)}},{key:"hasFrontFrame",value:function hasFrontFrame(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFrontFrame",value:function initFrontFrame(){return c.Struct.setUint16(8,68,this),c.Struct.initStructAt(0,w,this)}},{key:"isFrontFrame",value:function isFrontFrame(){return 68===c.Struct.getUint16(8,this)}},{key:"setFrontFrame",value:function setFrontFrame(t){c.Struct.setUint16(8,68,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptDriverMonitoringState",value:function adoptDriverMonitoringState(t){c.Struct.setUint16(8,69,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDriverMonitoringState",value:function disownDriverMonitoringState(){return c.Struct.disown(this.getDriverMonitoringState())}},{key:"getDriverMonitoringState",value:function getDriverMonitoringState(){return c.Struct.testWhich("driverMonitoringState",c.Struct.getUint16(8,this),69,this),c.Struct.getStruct(0,Kt,this)}},{key:"hasDriverMonitoringState",value:function hasDriverMonitoringState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDriverMonitoringState",value:function initDriverMonitoringState(){return c.Struct.setUint16(8,69,this),c.Struct.initStructAt(0,Kt,this)}},{key:"isDriverMonitoringState",value:function isDriverMonitoringState(){return 69===c.Struct.getUint16(8,this)}},{key:"setDriverMonitoringState",value:function setDriverMonitoringState(t){c.Struct.setUint16(8,69,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLocationKalman",value:function adoptLiveLocationKalman(t){c.Struct.setUint16(8,70,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLocationKalman",value:function disownLiveLocationKalman(){return c.Struct.disown(this.getLiveLocationKalman())}},{key:"getLiveLocationKalman",value:function getLiveLocationKalman(){return c.Struct.testWhich("liveLocationKalman",c.Struct.getUint16(8,this),70,this),c.Struct.getStruct(0,_t,this)}},{key:"hasLiveLocationKalman",value:function hasLiveLocationKalman(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLocationKalman",value:function initLiveLocationKalman(){return c.Struct.setUint16(8,70,this),c.Struct.initStructAt(0,_t,this)}},{key:"isLiveLocationKalman",value:function isLiveLocationKalman(){return 70===c.Struct.getUint16(8,this)}},{key:"setLiveLocationKalman",value:function setLiveLocationKalman(t){c.Struct.setUint16(8,70,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptWideFrame",value:function adoptWideFrame(t){c.Struct.setUint16(8,72,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownWideFrame",value:function disownWideFrame(){return c.Struct.disown(this.getWideFrame())}},{key:"getWideFrame",value:function getWideFrame(){return c.Struct.testWhich("wideFrame",c.Struct.getUint16(8,this),72,this),c.Struct.getStruct(0,w,this)}},{key:"hasWideFrame",value:function hasWideFrame(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initWideFrame",value:function initWideFrame(){return c.Struct.setUint16(8,72,this),c.Struct.initStructAt(0,w,this)}},{key:"isWideFrame",value:function isWideFrame(){return 72===c.Struct.getUint16(8,this)}},{key:"setWideFrame",value:function setWideFrame(t){c.Struct.setUint16(8,72,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptModelV2",value:function adoptModelV2(t){c.Struct.setUint16(8,73,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownModelV2",value:function disownModelV2(){return c.Struct.disown(this.getModelV2())}},{key:"getModelV2",value:function getModelV2(){return c.Struct.testWhich("modelV2",c.Struct.getUint16(8,this),73,this),c.Struct.getStruct(0,st,this)}},{key:"hasModelV2",value:function hasModelV2(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initModelV2",value:function initModelV2(){return c.Struct.setUint16(8,73,this),c.Struct.initStructAt(0,st,this)}},{key:"isModelV2",value:function isModelV2(){return 73===c.Struct.getUint16(8,this)}},{key:"setModelV2",value:function setModelV2(t){c.Struct.setUint16(8,73,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptFrontEncodeIdx",value:function adoptFrontEncodeIdx(t){c.Struct.setUint16(8,74,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFrontEncodeIdx",value:function disownFrontEncodeIdx(){return c.Struct.disown(this.getFrontEncodeIdx())}},{key:"getFrontEncodeIdx",value:function getFrontEncodeIdx(){return c.Struct.testWhich("frontEncodeIdx",c.Struct.getUint16(8,this),74,this),c.Struct.getStruct(0,ut,this)}},{key:"hasFrontEncodeIdx",value:function hasFrontEncodeIdx(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFrontEncodeIdx",value:function initFrontEncodeIdx(){return c.Struct.setUint16(8,74,this),c.Struct.initStructAt(0,ut,this)}},{key:"isFrontEncodeIdx",value:function isFrontEncodeIdx(){return 74===c.Struct.getUint16(8,this)}},{key:"setFrontEncodeIdx",value:function setFrontEncodeIdx(t){c.Struct.setUint16(8,74,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptWideEncodeIdx",value:function adoptWideEncodeIdx(t){c.Struct.setUint16(8,75,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownWideEncodeIdx",value:function disownWideEncodeIdx(){return c.Struct.disown(this.getWideEncodeIdx())}},{key:"getWideEncodeIdx",value:function getWideEncodeIdx(){return c.Struct.testWhich("wideEncodeIdx",c.Struct.getUint16(8,this),75,this),c.Struct.getStruct(0,ut,this)}},{key:"hasWideEncodeIdx",value:function hasWideEncodeIdx(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initWideEncodeIdx",value:function initWideEncodeIdx(){return c.Struct.setUint16(8,75,this),c.Struct.initStructAt(0,ut,this)}},{key:"isWideEncodeIdx",value:function isWideEncodeIdx(){return 75===c.Struct.getUint16(8,this)}},{key:"setWideEncodeIdx",value:function setWideEncodeIdx(t){c.Struct.setUint16(8,75,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptManagerState",value:function adoptManagerState(t){c.Struct.setUint16(8,76,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownManagerState",value:function disownManagerState(){return c.Struct.disown(this.getManagerState())}},{key:"getManagerState",value:function getManagerState(){return c.Struct.testWhich("managerState",c.Struct.getUint16(8,this),76,this),c.Struct.getStruct(0,ne,this)}},{key:"hasManagerState",value:function hasManagerState(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initManagerState",value:function initManagerState(){return c.Struct.setUint16(8,76,this),c.Struct.initStructAt(0,ne,this)}},{key:"isManagerState",value:function isManagerState(){return 76===c.Struct.getUint16(8,this)}},{key:"setManagerState",value:function setManagerState(t){c.Struct.setUint16(8,76,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptTestJoystick",value:function adoptTestJoystick(t){c.Struct.setUint16(8,51,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownTestJoystick",value:function disownTestJoystick(){return c.Struct.disown(this.getTestJoystick())}},{key:"getTestJoystick",value:function getTestJoystick(){return c.Struct.testWhich("testJoystick",c.Struct.getUint16(8,this),51,this),c.Struct.getStruct(0,qt,this)}},{key:"hasTestJoystick",value:function hasTestJoystick(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initTestJoystick",value:function initTestJoystick(){return c.Struct.setUint16(8,51,this),c.Struct.initStructAt(0,qt,this)}},{key:"isTestJoystick",value:function isTestJoystick(){return 51===c.Struct.getUint16(8,this)}},{key:"setTestJoystick",value:function setTestJoystick(t){c.Struct.setUint16(8,51,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptModel",value:function adoptModel(t){c.Struct.setUint16(8,8,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownModel",value:function disownModel(){return c.Struct.disown(this.getModel())}},{key:"getModel",value:function getModel(){return c.Struct.testWhich("model",c.Struct.getUint16(8,this),8,this),c.Struct.getStruct(0,p.ModelData,this)}},{key:"hasModel",value:function hasModel(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initModel",value:function initModel(){return c.Struct.setUint16(8,8,this),c.Struct.initStructAt(0,p.ModelData,this)}},{key:"isModel",value:function isModel(){return 8===c.Struct.getUint16(8,this)}},{key:"setModel",value:function setModel(t){c.Struct.setUint16(8,8,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLocationKalmanDEPRECATED",value:function adoptLiveLocationKalmanDEPRECATED(t){c.Struct.setUint16(8,50,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLocationKalmanDEPRECATED",value:function disownLiveLocationKalmanDEPRECATED(){return c.Struct.disown(this.getLiveLocationKalmanDEPRECATED())}},{key:"getLiveLocationKalmanDEPRECATED",value:function getLiveLocationKalmanDEPRECATED(){return c.Struct.testWhich("liveLocationKalmanDEPRECATED",c.Struct.getUint16(8,this),50,this),c.Struct.getStruct(0,Et,this)}},{key:"hasLiveLocationKalmanDEPRECATED",value:function hasLiveLocationKalmanDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLocationKalmanDEPRECATED",value:function initLiveLocationKalmanDEPRECATED(){return c.Struct.setUint16(8,50,this),c.Struct.initStructAt(0,Et,this)}},{key:"isLiveLocationKalmanDEPRECATED",value:function isLiveLocationKalmanDEPRECATED(){return 50===c.Struct.getUint16(8,this)}},{key:"setLiveLocationKalmanDEPRECATED",value:function setLiveLocationKalmanDEPRECATED(t){c.Struct.setUint16(8,50,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbslamCorrectionDEPRECATED",value:function adoptOrbslamCorrectionDEPRECATED(t){c.Struct.setUint16(8,44,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbslamCorrectionDEPRECATED",value:function disownOrbslamCorrectionDEPRECATED(){return c.Struct.disown(this.getOrbslamCorrectionDEPRECATED())}},{key:"getOrbslamCorrectionDEPRECATED",value:function getOrbslamCorrectionDEPRECATED(){return c.Struct.testWhich("orbslamCorrectionDEPRECATED",c.Struct.getUint16(8,this),44,this),c.Struct.getStruct(0,p.OrbslamCorrection,this)}},{key:"hasOrbslamCorrectionDEPRECATED",value:function hasOrbslamCorrectionDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbslamCorrectionDEPRECATED",value:function initOrbslamCorrectionDEPRECATED(){return c.Struct.setUint16(8,44,this),c.Struct.initStructAt(0,p.OrbslamCorrection,this)}},{key:"isOrbslamCorrectionDEPRECATED",value:function isOrbslamCorrectionDEPRECATED(){return 44===c.Struct.getUint16(8,this)}},{key:"setOrbslamCorrectionDEPRECATED",value:function setOrbslamCorrectionDEPRECATED(t){c.Struct.setUint16(8,44,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveUIDEPRECATED",value:function adoptLiveUIDEPRECATED(t){c.Struct.setUint16(8,13,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveUIDEPRECATED",value:function disownLiveUIDEPRECATED(){return c.Struct.disown(this.getLiveUIDEPRECATED())}},{key:"getLiveUIDEPRECATED",value:function getLiveUIDEPRECATED(){return c.Struct.testWhich("liveUIDEPRECATED",c.Struct.getUint16(8,this),13,this),c.Struct.getStruct(0,p.LiveUI,this)}},{key:"hasLiveUIDEPRECATED",value:function hasLiveUIDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveUIDEPRECATED",value:function initLiveUIDEPRECATED(){return c.Struct.setUint16(8,13,this),c.Struct.initStructAt(0,p.LiveUI,this)}},{key:"isLiveUIDEPRECATED",value:function isLiveUIDEPRECATED(){return 13===c.Struct.getUint16(8,this)}},{key:"setLiveUIDEPRECATED",value:function setLiveUIDEPRECATED(t){c.Struct.setUint16(8,13,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptSensorEventDEPRECATED",value:function adoptSensorEventDEPRECATED(t){c.Struct.setUint16(8,3,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSensorEventDEPRECATED",value:function disownSensorEventDEPRECATED(){return c.Struct.disown(this.getSensorEventDEPRECATED())}},{key:"getSensorEventDEPRECATED",value:function getSensorEventDEPRECATED(){return c.Struct.testWhich("sensorEventDEPRECATED",c.Struct.getUint16(8,this),3,this),c.Struct.getStruct(0,R,this)}},{key:"hasSensorEventDEPRECATED",value:function hasSensorEventDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSensorEventDEPRECATED",value:function initSensorEventDEPRECATED(){return c.Struct.setUint16(8,3,this),c.Struct.initStructAt(0,R,this)}},{key:"isSensorEventDEPRECATED",value:function isSensorEventDEPRECATED(){return 3===c.Struct.getUint16(8,this)}},{key:"setSensorEventDEPRECATED",value:function setSensorEventDEPRECATED(t){c.Struct.setUint16(8,3,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveEventDEPRECATED",value:function adoptLiveEventDEPRECATED(t){c.Struct.setUint16(8,7,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveEventDEPRECATED",value:function disownLiveEventDEPRECATED(){return c.Struct.disown(this.getLiveEventDEPRECATED())}},{key:"getLiveEventDEPRECATED",value:function getLiveEventDEPRECATED(){return c.Struct.testWhich("liveEventDEPRECATED",c.Struct.getUint16(8,this),7,this),c.Struct.getList(0,Event._LiveEventDEPRECATED,this)}},{key:"hasLiveEventDEPRECATED",value:function hasLiveEventDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveEventDEPRECATED",value:function initLiveEventDEPRECATED(t){return c.Struct.setUint16(8,7,this),c.Struct.initList(0,Event._LiveEventDEPRECATED,t,this)}},{key:"isLiveEventDEPRECATED",value:function isLiveEventDEPRECATED(){return 7===c.Struct.getUint16(8,this)}},{key:"setLiveEventDEPRECATED",value:function setLiveEventDEPRECATED(t){c.Struct.setUint16(8,7,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptEthernetDataDEPRECATED",value:function adoptEthernetDataDEPRECATED(t){c.Struct.setUint16(8,25,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEthernetDataDEPRECATED",value:function disownEthernetDataDEPRECATED(){return c.Struct.disown(this.getEthernetDataDEPRECATED())}},{key:"getEthernetDataDEPRECATED",value:function getEthernetDataDEPRECATED(){return c.Struct.testWhich("ethernetDataDEPRECATED",c.Struct.getUint16(8,this),25,this),c.Struct.getList(0,Event._EthernetDataDEPRECATED,this)}},{key:"hasEthernetDataDEPRECATED",value:function hasEthernetDataDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEthernetDataDEPRECATED",value:function initEthernetDataDEPRECATED(t){return c.Struct.setUint16(8,25,this),c.Struct.initList(0,Event._EthernetDataDEPRECATED,t,this)}},{key:"isEthernetDataDEPRECATED",value:function isEthernetDataDEPRECATED(){return 25===c.Struct.getUint16(8,this)}},{key:"setEthernetDataDEPRECATED",value:function setEthernetDataDEPRECATED(t){c.Struct.setUint16(8,25,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptCellInfoDEPRECATED",value:function adoptCellInfoDEPRECATED(t){c.Struct.setUint16(8,27,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCellInfoDEPRECATED",value:function disownCellInfoDEPRECATED(){return c.Struct.disown(this.getCellInfoDEPRECATED())}},{key:"getCellInfoDEPRECATED",value:function getCellInfoDEPRECATED(){return c.Struct.testWhich("cellInfoDEPRECATED",c.Struct.getUint16(8,this),27,this),c.Struct.getList(0,Event._CellInfoDEPRECATED,this)}},{key:"hasCellInfoDEPRECATED",value:function hasCellInfoDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCellInfoDEPRECATED",value:function initCellInfoDEPRECATED(t){return c.Struct.setUint16(8,27,this),c.Struct.initList(0,Event._CellInfoDEPRECATED,t,this)}},{key:"isCellInfoDEPRECATED",value:function isCellInfoDEPRECATED(){return 27===c.Struct.getUint16(8,this)}},{key:"setCellInfoDEPRECATED",value:function setCellInfoDEPRECATED(t){c.Struct.setUint16(8,27,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptWifiScanDEPRECATED",value:function adoptWifiScanDEPRECATED(t){c.Struct.setUint16(8,28,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownWifiScanDEPRECATED",value:function disownWifiScanDEPRECATED(){return c.Struct.disown(this.getWifiScanDEPRECATED())}},{key:"getWifiScanDEPRECATED",value:function getWifiScanDEPRECATED(){return c.Struct.testWhich("wifiScanDEPRECATED",c.Struct.getUint16(8,this),28,this),c.Struct.getList(0,Event._WifiScanDEPRECATED,this)}},{key:"hasWifiScanDEPRECATED",value:function hasWifiScanDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initWifiScanDEPRECATED",value:function initWifiScanDEPRECATED(t){return c.Struct.setUint16(8,28,this),c.Struct.initList(0,Event._WifiScanDEPRECATED,t,this)}},{key:"isWifiScanDEPRECATED",value:function isWifiScanDEPRECATED(){return 28===c.Struct.getUint16(8,this)}},{key:"setWifiScanDEPRECATED",value:function setWifiScanDEPRECATED(t){c.Struct.setUint16(8,28,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptUiNavigationEventDEPRECATED",value:function adoptUiNavigationEventDEPRECATED(t){c.Struct.setUint16(8,49,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownUiNavigationEventDEPRECATED",value:function disownUiNavigationEventDEPRECATED(){return c.Struct.disown(this.getUiNavigationEventDEPRECATED())}},{key:"getUiNavigationEventDEPRECATED",value:function getUiNavigationEventDEPRECATED(){return c.Struct.testWhich("uiNavigationEventDEPRECATED",c.Struct.getUint16(8,this),49,this),c.Struct.getStruct(0,p.UiNavigationEvent,this)}},{key:"hasUiNavigationEventDEPRECATED",value:function hasUiNavigationEventDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initUiNavigationEventDEPRECATED",value:function initUiNavigationEventDEPRECATED(){return c.Struct.setUint16(8,49,this),c.Struct.initStructAt(0,p.UiNavigationEvent,this)}},{key:"isUiNavigationEventDEPRECATED",value:function isUiNavigationEventDEPRECATED(){return 49===c.Struct.getUint16(8,this)}},{key:"setUiNavigationEventDEPRECATED",value:function setUiNavigationEventDEPRECATED(t){c.Struct.setUint16(8,49,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveMapDataDEPRECATED",value:function adoptLiveMapDataDEPRECATED(t){c.Struct.setUint16(8,61,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveMapDataDEPRECATED",value:function disownLiveMapDataDEPRECATED(){return c.Struct.disown(this.getLiveMapDataDEPRECATED())}},{key:"getLiveMapDataDEPRECATED",value:function getLiveMapDataDEPRECATED(){return c.Struct.testWhich("liveMapDataDEPRECATED",c.Struct.getUint16(8,this),61,this),c.Struct.getStruct(0,Zt,this)}},{key:"hasLiveMapDataDEPRECATED",value:function hasLiveMapDataDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveMapDataDEPRECATED",value:function initLiveMapDataDEPRECATED(){return c.Struct.setUint16(8,61,this),c.Struct.initStructAt(0,Zt,this)}},{key:"isLiveMapDataDEPRECATED",value:function isLiveMapDataDEPRECATED(){return 61===c.Struct.getUint16(8,this)}},{key:"setLiveMapDataDEPRECATED",value:function setLiveMapDataDEPRECATED(t){c.Struct.setUint16(8,61,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGpsPlannerPointsDEPRECATED",value:function adoptGpsPlannerPointsDEPRECATED(t){c.Struct.setUint16(8,39,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGpsPlannerPointsDEPRECATED",value:function disownGpsPlannerPointsDEPRECATED(){return c.Struct.disown(this.getGpsPlannerPointsDEPRECATED())}},{key:"getGpsPlannerPointsDEPRECATED",value:function getGpsPlannerPointsDEPRECATED(){return c.Struct.testWhich("gpsPlannerPointsDEPRECATED",c.Struct.getUint16(8,this),39,this),c.Struct.getStruct(0,p.GPSPlannerPoints,this)}},{key:"hasGpsPlannerPointsDEPRECATED",value:function hasGpsPlannerPointsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGpsPlannerPointsDEPRECATED",value:function initGpsPlannerPointsDEPRECATED(){return c.Struct.setUint16(8,39,this),c.Struct.initStructAt(0,p.GPSPlannerPoints,this)}},{key:"isGpsPlannerPointsDEPRECATED",value:function isGpsPlannerPointsDEPRECATED(){return 39===c.Struct.getUint16(8,this)}},{key:"setGpsPlannerPointsDEPRECATED",value:function setGpsPlannerPointsDEPRECATED(t){c.Struct.setUint16(8,39,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptGpsPlannerPlanDEPRECATED",value:function adoptGpsPlannerPlanDEPRECATED(t){c.Struct.setUint16(8,40,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownGpsPlannerPlanDEPRECATED",value:function disownGpsPlannerPlanDEPRECATED(){return c.Struct.disown(this.getGpsPlannerPlanDEPRECATED())}},{key:"getGpsPlannerPlanDEPRECATED",value:function getGpsPlannerPlanDEPRECATED(){return c.Struct.testWhich("gpsPlannerPlanDEPRECATED",c.Struct.getUint16(8,this),40,this),c.Struct.getStruct(0,p.GPSPlannerPlan,this)}},{key:"hasGpsPlannerPlanDEPRECATED",value:function hasGpsPlannerPlanDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initGpsPlannerPlanDEPRECATED",value:function initGpsPlannerPlanDEPRECATED(){return c.Struct.setUint16(8,40,this),c.Struct.initStructAt(0,p.GPSPlannerPlan,this)}},{key:"isGpsPlannerPlanDEPRECATED",value:function isGpsPlannerPlanDEPRECATED(){return 40===c.Struct.getUint16(8,this)}},{key:"setGpsPlannerPlanDEPRECATED",value:function setGpsPlannerPlanDEPRECATED(t){c.Struct.setUint16(8,40,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptApplanixRawDEPRECATED",value:function adoptApplanixRawDEPRECATED(t){c.Struct.setUint16(8,41,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownApplanixRawDEPRECATED",value:function disownApplanixRawDEPRECATED(){return c.Struct.disown(this.getApplanixRawDEPRECATED())}},{key:"getApplanixRawDEPRECATED",value:function getApplanixRawDEPRECATED(){return c.Struct.testWhich("applanixRawDEPRECATED",c.Struct.getUint16(8,this),41,this),c.Struct.getData(0,this)}},{key:"hasApplanixRawDEPRECATED",value:function hasApplanixRawDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initApplanixRawDEPRECATED",value:function initApplanixRawDEPRECATED(t){return c.Struct.setUint16(8,41,this),c.Struct.initData(0,t,this)}},{key:"isApplanixRawDEPRECATED",value:function isApplanixRawDEPRECATED(){return 41===c.Struct.getUint16(8,this)}},{key:"setApplanixRawDEPRECATED",value:function setApplanixRawDEPRECATED(t){c.Struct.setUint16(8,41,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptAndroidGnssDEPRECATED",value:function adoptAndroidGnssDEPRECATED(t){c.Struct.setUint16(8,29,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownAndroidGnssDEPRECATED",value:function disownAndroidGnssDEPRECATED(){return c.Struct.disown(this.getAndroidGnssDEPRECATED())}},{key:"getAndroidGnssDEPRECATED",value:function getAndroidGnssDEPRECATED(){return c.Struct.testWhich("androidGnssDEPRECATED",c.Struct.getUint16(8,this),29,this),c.Struct.getStruct(0,p.AndroidGnss,this)}},{key:"hasAndroidGnssDEPRECATED",value:function hasAndroidGnssDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initAndroidGnssDEPRECATED",value:function initAndroidGnssDEPRECATED(){return c.Struct.setUint16(8,29,this),c.Struct.initStructAt(0,p.AndroidGnss,this)}},{key:"isAndroidGnssDEPRECATED",value:function isAndroidGnssDEPRECATED(){return 29===c.Struct.getUint16(8,this)}},{key:"setAndroidGnssDEPRECATED",value:function setAndroidGnssDEPRECATED(t){c.Struct.setUint16(8,29,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptQcomGnssDEPRECATD",value:function adoptQcomGnssDEPRECATD(t){c.Struct.setUint16(8,30,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownQcomGnssDEPRECATD",value:function disownQcomGnssDEPRECATD(){return c.Struct.disown(this.getQcomGnssDEPRECATD())}},{key:"getQcomGnssDEPRECATD",value:function getQcomGnssDEPRECATD(){return c.Struct.testWhich("qcomGnssDEPRECATD",c.Struct.getUint16(8,this),30,this),c.Struct.getStruct(0,p.QcomGnss,this)}},{key:"hasQcomGnssDEPRECATD",value:function hasQcomGnssDEPRECATD(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initQcomGnssDEPRECATD",value:function initQcomGnssDEPRECATD(){return c.Struct.setUint16(8,30,this),c.Struct.initStructAt(0,p.QcomGnss,this)}},{key:"isQcomGnssDEPRECATD",value:function isQcomGnssDEPRECATD(){return 30===c.Struct.getUint16(8,this)}},{key:"setQcomGnssDEPRECATD",value:function setQcomGnssDEPRECATD(t){c.Struct.setUint16(8,30,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLidarPtsDEPRECATED",value:function adoptLidarPtsDEPRECATED(t){c.Struct.setUint16(8,31,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLidarPtsDEPRECATED",value:function disownLidarPtsDEPRECATED(){return c.Struct.disown(this.getLidarPtsDEPRECATED())}},{key:"getLidarPtsDEPRECATED",value:function getLidarPtsDEPRECATED(){return c.Struct.testWhich("lidarPtsDEPRECATED",c.Struct.getUint16(8,this),31,this),c.Struct.getStruct(0,p.LidarPts,this)}},{key:"hasLidarPtsDEPRECATED",value:function hasLidarPtsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLidarPtsDEPRECATED",value:function initLidarPtsDEPRECATED(){return c.Struct.setUint16(8,31,this),c.Struct.initStructAt(0,p.LidarPts,this)}},{key:"isLidarPtsDEPRECATED",value:function isLidarPtsDEPRECATED(){return 31===c.Struct.getUint16(8,this)}},{key:"setLidarPtsDEPRECATED",value:function setLidarPtsDEPRECATED(t){c.Struct.setUint16(8,31,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptNavStatusDEPRECATED",value:function adoptNavStatusDEPRECATED(t){c.Struct.setUint16(8,37,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownNavStatusDEPRECATED",value:function disownNavStatusDEPRECATED(){return c.Struct.disown(this.getNavStatusDEPRECATED())}},{key:"getNavStatusDEPRECATED",value:function getNavStatusDEPRECATED(){return c.Struct.testWhich("navStatusDEPRECATED",c.Struct.getUint16(8,this),37,this),c.Struct.getStruct(0,p.NavStatus,this)}},{key:"hasNavStatusDEPRECATED",value:function hasNavStatusDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initNavStatusDEPRECATED",value:function initNavStatusDEPRECATED(){return c.Struct.setUint16(8,37,this),c.Struct.initStructAt(0,p.NavStatus,this)}},{key:"isNavStatusDEPRECATED",value:function isNavStatusDEPRECATED(){return 37===c.Struct.getUint16(8,this)}},{key:"setNavStatusDEPRECATED",value:function setNavStatusDEPRECATED(t){c.Struct.setUint16(8,37,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptTrafficEventsDEPRECATED",value:function adoptTrafficEventsDEPRECATED(t){c.Struct.setUint16(8,42,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownTrafficEventsDEPRECATED",value:function disownTrafficEventsDEPRECATED(){return c.Struct.disown(this.getTrafficEventsDEPRECATED())}},{key:"getTrafficEventsDEPRECATED",value:function getTrafficEventsDEPRECATED(){return c.Struct.testWhich("trafficEventsDEPRECATED",c.Struct.getUint16(8,this),42,this),c.Struct.getList(0,Event._TrafficEventsDEPRECATED,this)}},{key:"hasTrafficEventsDEPRECATED",value:function hasTrafficEventsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initTrafficEventsDEPRECATED",value:function initTrafficEventsDEPRECATED(t){return c.Struct.setUint16(8,42,this),c.Struct.initList(0,Event._TrafficEventsDEPRECATED,t,this)}},{key:"isTrafficEventsDEPRECATED",value:function isTrafficEventsDEPRECATED(){return 42===c.Struct.getUint16(8,this)}},{key:"setTrafficEventsDEPRECATED",value:function setTrafficEventsDEPRECATED(t){c.Struct.setUint16(8,42,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLocationTimingDEPRECATED",value:function adoptLiveLocationTimingDEPRECATED(t){c.Struct.setUint16(8,43,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLocationTimingDEPRECATED",value:function disownLiveLocationTimingDEPRECATED(){return c.Struct.disown(this.getLiveLocationTimingDEPRECATED())}},{key:"getLiveLocationTimingDEPRECATED",value:function getLiveLocationTimingDEPRECATED(){return c.Struct.testWhich("liveLocationTimingDEPRECATED",c.Struct.getUint16(8,this),43,this),c.Struct.getStruct(0,Et,this)}},{key:"hasLiveLocationTimingDEPRECATED",value:function hasLiveLocationTimingDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLocationTimingDEPRECATED",value:function initLiveLocationTimingDEPRECATED(){return c.Struct.setUint16(8,43,this),c.Struct.initStructAt(0,Et,this)}},{key:"isLiveLocationTimingDEPRECATED",value:function isLiveLocationTimingDEPRECATED(){return 43===c.Struct.getUint16(8,this)}},{key:"setLiveLocationTimingDEPRECATED",value:function setLiveLocationTimingDEPRECATED(t){c.Struct.setUint16(8,43,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLiveLocationCorrectedDEPRECATED",value:function adoptLiveLocationCorrectedDEPRECATED(t){c.Struct.setUint16(8,45,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownLiveLocationCorrectedDEPRECATED",value:function disownLiveLocationCorrectedDEPRECATED(){return c.Struct.disown(this.getLiveLocationCorrectedDEPRECATED())}},{key:"getLiveLocationCorrectedDEPRECATED",value:function getLiveLocationCorrectedDEPRECATED(){return c.Struct.testWhich("liveLocationCorrectedDEPRECATED",c.Struct.getUint16(8,this),45,this),c.Struct.getStruct(0,Et,this)}},{key:"hasLiveLocationCorrectedDEPRECATED",value:function hasLiveLocationCorrectedDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initLiveLocationCorrectedDEPRECATED",value:function initLiveLocationCorrectedDEPRECATED(){return c.Struct.setUint16(8,45,this),c.Struct.initStructAt(0,Et,this)}},{key:"isLiveLocationCorrectedDEPRECATED",value:function isLiveLocationCorrectedDEPRECATED(){return 45===c.Struct.getUint16(8,this)}},{key:"setLiveLocationCorrectedDEPRECATED",value:function setLiveLocationCorrectedDEPRECATED(t){c.Struct.setUint16(8,45,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptNavUpdateDEPRECATED",value:function adoptNavUpdateDEPRECATED(t){c.Struct.setUint16(8,26,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownNavUpdateDEPRECATED",value:function disownNavUpdateDEPRECATED(){return c.Struct.disown(this.getNavUpdateDEPRECATED())}},{key:"getNavUpdateDEPRECATED",value:function getNavUpdateDEPRECATED(){return c.Struct.testWhich("navUpdateDEPRECATED",c.Struct.getUint16(8,this),26,this),c.Struct.getStruct(0,p.NavUpdate,this)}},{key:"hasNavUpdateDEPRECATED",value:function hasNavUpdateDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initNavUpdateDEPRECATED",value:function initNavUpdateDEPRECATED(){return c.Struct.setUint16(8,26,this),c.Struct.initStructAt(0,p.NavUpdate,this)}},{key:"isNavUpdateDEPRECATED",value:function isNavUpdateDEPRECATED(){return 26===c.Struct.getUint16(8,this)}},{key:"setNavUpdateDEPRECATED",value:function setNavUpdateDEPRECATED(t){c.Struct.setUint16(8,26,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbObservationDEPRECATED",value:function adoptOrbObservationDEPRECATED(t){c.Struct.setUint16(8,46,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbObservationDEPRECATED",value:function disownOrbObservationDEPRECATED(){return c.Struct.disown(this.getOrbObservationDEPRECATED())}},{key:"getOrbObservationDEPRECATED",value:function getOrbObservationDEPRECATED(){return c.Struct.testWhich("orbObservationDEPRECATED",c.Struct.getUint16(8,this),46,this),c.Struct.getList(0,Event._OrbObservationDEPRECATED,this)}},{key:"hasOrbObservationDEPRECATED",value:function hasOrbObservationDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbObservationDEPRECATED",value:function initOrbObservationDEPRECATED(t){return c.Struct.setUint16(8,46,this),c.Struct.initList(0,Event._OrbObservationDEPRECATED,t,this)}},{key:"isOrbObservationDEPRECATED",value:function isOrbObservationDEPRECATED(){return 46===c.Struct.getUint16(8,this)}},{key:"setOrbObservationDEPRECATED",value:function setOrbObservationDEPRECATED(t){c.Struct.setUint16(8,46,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbOdometryDEPRECATED",value:function adoptOrbOdometryDEPRECATED(t){c.Struct.setUint16(8,52,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbOdometryDEPRECATED",value:function disownOrbOdometryDEPRECATED(){return c.Struct.disown(this.getOrbOdometryDEPRECATED())}},{key:"getOrbOdometryDEPRECATED",value:function getOrbOdometryDEPRECATED(){return c.Struct.testWhich("orbOdometryDEPRECATED",c.Struct.getUint16(8,this),52,this),c.Struct.getStruct(0,p.OrbOdometry,this)}},{key:"hasOrbOdometryDEPRECATED",value:function hasOrbOdometryDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbOdometryDEPRECATED",value:function initOrbOdometryDEPRECATED(){return c.Struct.setUint16(8,52,this),c.Struct.initStructAt(0,p.OrbOdometry,this)}},{key:"isOrbOdometryDEPRECATED",value:function isOrbOdometryDEPRECATED(){return 52===c.Struct.getUint16(8,this)}},{key:"setOrbOdometryDEPRECATED",value:function setOrbOdometryDEPRECATED(t){c.Struct.setUint16(8,52,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbFeaturesDEPRECATED",value:function adoptOrbFeaturesDEPRECATED(t){c.Struct.setUint16(8,53,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbFeaturesDEPRECATED",value:function disownOrbFeaturesDEPRECATED(){return c.Struct.disown(this.getOrbFeaturesDEPRECATED())}},{key:"getOrbFeaturesDEPRECATED",value:function getOrbFeaturesDEPRECATED(){return c.Struct.testWhich("orbFeaturesDEPRECATED",c.Struct.getUint16(8,this),53,this),c.Struct.getStruct(0,p.OrbFeatures,this)}},{key:"hasOrbFeaturesDEPRECATED",value:function hasOrbFeaturesDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbFeaturesDEPRECATED",value:function initOrbFeaturesDEPRECATED(){return c.Struct.setUint16(8,53,this),c.Struct.initStructAt(0,p.OrbFeatures,this)}},{key:"isOrbFeaturesDEPRECATED",value:function isOrbFeaturesDEPRECATED(){return 53===c.Struct.getUint16(8,this)}},{key:"setOrbFeaturesDEPRECATED",value:function setOrbFeaturesDEPRECATED(t){c.Struct.setUint16(8,53,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptApplanixLocationDEPRECATED",value:function adoptApplanixLocationDEPRECATED(t){c.Struct.setUint16(8,54,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownApplanixLocationDEPRECATED",value:function disownApplanixLocationDEPRECATED(){return c.Struct.disown(this.getApplanixLocationDEPRECATED())}},{key:"getApplanixLocationDEPRECATED",value:function getApplanixLocationDEPRECATED(){return c.Struct.testWhich("applanixLocationDEPRECATED",c.Struct.getUint16(8,this),54,this),c.Struct.getStruct(0,Et,this)}},{key:"hasApplanixLocationDEPRECATED",value:function hasApplanixLocationDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initApplanixLocationDEPRECATED",value:function initApplanixLocationDEPRECATED(){return c.Struct.setUint16(8,54,this),c.Struct.initStructAt(0,Et,this)}},{key:"isApplanixLocationDEPRECATED",value:function isApplanixLocationDEPRECATED(){return 54===c.Struct.getUint16(8,this)}},{key:"setApplanixLocationDEPRECATED",value:function setApplanixLocationDEPRECATED(t){c.Struct.setUint16(8,54,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbKeyFrameDEPRECATED",value:function adoptOrbKeyFrameDEPRECATED(t){c.Struct.setUint16(8,55,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbKeyFrameDEPRECATED",value:function disownOrbKeyFrameDEPRECATED(){return c.Struct.disown(this.getOrbKeyFrameDEPRECATED())}},{key:"getOrbKeyFrameDEPRECATED",value:function getOrbKeyFrameDEPRECATED(){return c.Struct.testWhich("orbKeyFrameDEPRECATED",c.Struct.getUint16(8,this),55,this),c.Struct.getStruct(0,p.OrbKeyFrame,this)}},{key:"hasOrbKeyFrameDEPRECATED",value:function hasOrbKeyFrameDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbKeyFrameDEPRECATED",value:function initOrbKeyFrameDEPRECATED(){return c.Struct.setUint16(8,55,this),c.Struct.initStructAt(0,p.OrbKeyFrame,this)}},{key:"isOrbKeyFrameDEPRECATED",value:function isOrbKeyFrameDEPRECATED(){return 55===c.Struct.getUint16(8,this)}},{key:"setOrbKeyFrameDEPRECATED",value:function setOrbKeyFrameDEPRECATED(t){c.Struct.setUint16(8,55,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptOrbFeaturesSummaryDEPRECATED",value:function adoptOrbFeaturesSummaryDEPRECATED(t){c.Struct.setUint16(8,57,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownOrbFeaturesSummaryDEPRECATED",value:function disownOrbFeaturesSummaryDEPRECATED(){return c.Struct.disown(this.getOrbFeaturesSummaryDEPRECATED())}},{key:"getOrbFeaturesSummaryDEPRECATED",value:function getOrbFeaturesSummaryDEPRECATED(){return c.Struct.testWhich("orbFeaturesSummaryDEPRECATED",c.Struct.getUint16(8,this),57,this),c.Struct.getStruct(0,p.OrbFeaturesSummary,this)}},{key:"hasOrbFeaturesSummaryDEPRECATED",value:function hasOrbFeaturesSummaryDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initOrbFeaturesSummaryDEPRECATED",value:function initOrbFeaturesSummaryDEPRECATED(){return c.Struct.setUint16(8,57,this),c.Struct.initStructAt(0,p.OrbFeaturesSummary,this)}},{key:"isOrbFeaturesSummaryDEPRECATED",value:function isOrbFeaturesSummaryDEPRECATED(){return 57===c.Struct.getUint16(8,this)}},{key:"setOrbFeaturesSummaryDEPRECATED",value:function setOrbFeaturesSummaryDEPRECATED(t){c.Struct.setUint16(8,57,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptFeaturesDEPRECATED",value:function adoptFeaturesDEPRECATED(t){c.Struct.setUint16(8,9,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFeaturesDEPRECATED",value:function disownFeaturesDEPRECATED(){return c.Struct.disown(this.getFeaturesDEPRECATED())}},{key:"getFeaturesDEPRECATED",value:function getFeaturesDEPRECATED(){return c.Struct.testWhich("featuresDEPRECATED",c.Struct.getUint16(8,this),9,this),c.Struct.getStruct(0,p.CalibrationFeatures,this)}},{key:"hasFeaturesDEPRECATED",value:function hasFeaturesDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFeaturesDEPRECATED",value:function initFeaturesDEPRECATED(){return c.Struct.setUint16(8,9,this),c.Struct.initStructAt(0,p.CalibrationFeatures,this)}},{key:"isFeaturesDEPRECATED",value:function isFeaturesDEPRECATED(){return 9===c.Struct.getUint16(8,this)}},{key:"setFeaturesDEPRECATED",value:function setFeaturesDEPRECATED(t){c.Struct.setUint16(8,9,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptKalmanOdometryDEPRECATED",value:function adoptKalmanOdometryDEPRECATED(t){c.Struct.setUint16(8,64,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownKalmanOdometryDEPRECATED",value:function disownKalmanOdometryDEPRECATED(){return c.Struct.disown(this.getKalmanOdometryDEPRECATED())}},{key:"getKalmanOdometryDEPRECATED",value:function getKalmanOdometryDEPRECATED(){return c.Struct.testWhich("kalmanOdometryDEPRECATED",c.Struct.getUint16(8,this),64,this),c.Struct.getStruct(0,p.KalmanOdometry,this)}},{key:"hasKalmanOdometryDEPRECATED",value:function hasKalmanOdometryDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initKalmanOdometryDEPRECATED",value:function initKalmanOdometryDEPRECATED(){return c.Struct.setUint16(8,64,this),c.Struct.initStructAt(0,p.KalmanOdometry,this)}},{key:"isKalmanOdometryDEPRECATED",value:function isKalmanOdometryDEPRECATED(){return 64===c.Struct.getUint16(8,this)}},{key:"setKalmanOdometryDEPRECATED",value:function setKalmanOdometryDEPRECATED(t){c.Struct.setUint16(8,64,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"Event_"+s(a(Event.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(8,this)}}]),Event}(c.Struct);re.INIT_DATA=ee.INIT_DATA,re.SENTINEL=ee.SENTINEL,re.BOOT=ee.BOOT,re.FRAME=ee.FRAME,re.GPS_NMEA=ee.GPS_NMEA,re.CAN=ee.CAN,re.THERMAL=ee.THERMAL,re.CONTROLS_STATE=ee.CONTROLS_STATE,re.SENSOR_EVENTS=ee.SENSOR_EVENTS,re.HEALTH=ee.HEALTH,re.RADAR_STATE=ee.RADAR_STATE,re.ENCODE_IDX=ee.ENCODE_IDX,re.LIVE_TRACKS=ee.LIVE_TRACKS,re.SENDCAN=ee.SENDCAN,re.LOG_MESSAGE=ee.LOG_MESSAGE,re.LIVE_CALIBRATION=ee.LIVE_CALIBRATION,re.ANDROID_LOG=ee.ANDROID_LOG,re.GPS_LOCATION=ee.GPS_LOCATION,re.CAR_STATE=ee.CAR_STATE,re.CAR_CONTROL=ee.CAR_CONTROL,re.LONGITUDINAL_PLAN=ee.LONGITUDINAL_PLAN,re.LATERAL_PLAN=ee.LATERAL_PLAN,re.LIVE_LOCATION=ee.LIVE_LOCATION,re.PROC_LOG=ee.PROC_LOG,re.UBLOX_GNSS=ee.UBLOX_GNSS,re.CLOCKS=ee.CLOCKS,re.LIVE_MPC=ee.LIVE_MPC,re.LIVE_LONGITUDINAL_MPC=ee.LIVE_LONGITUDINAL_MPC,re.UBLOX_RAW=ee.UBLOX_RAW,re.GPS_LOCATION_EXTERNAL=ee.GPS_LOCATION_EXTERNAL,re.LOCATION=ee.LOCATION,re.UI_LAYOUT_STATE=ee.UI_LAYOUT_STATE,re.DRIVER_STATE=ee.DRIVER_STATE,re.LIVE_PARAMETERS=ee.LIVE_PARAMETERS,re.CAMERA_ODOMETRY=ee.CAMERA_ODOMETRY,re.THUMBNAIL=ee.THUMBNAIL,re.CAR_EVENTS=ee.CAR_EVENTS,re.CAR_PARAMS=ee.CAR_PARAMS,re.FRONT_FRAME=ee.FRONT_FRAME,re.DRIVER_MONITORING_STATE=ee.DRIVER_MONITORING_STATE,re.LIVE_LOCATION_KALMAN=ee.LIVE_LOCATION_KALMAN,re.WIDE_FRAME=ee.WIDE_FRAME,re.MODEL_V2=ee.MODEL_V2,re.FRONT_ENCODE_IDX=ee.FRONT_ENCODE_IDX,re.WIDE_ENCODE_IDX=ee.WIDE_ENCODE_IDX,re.MANAGER_STATE=ee.MANAGER_STATE,re.TEST_JOYSTICK=ee.TEST_JOYSTICK,re.MODEL=ee.MODEL,re.LIVE_LOCATION_KALMAN_DEPRECATED=ee.LIVE_LOCATION_KALMAN_DEPRECATED,re.ORBSLAM_CORRECTION_DEPRECATED=ee.ORBSLAM_CORRECTION_DEPRECATED,re.LIVE_UIDEPRECATED=ee.LIVE_UIDEPRECATED,re.SENSOR_EVENT_DEPRECATED=ee.SENSOR_EVENT_DEPRECATED,re.LIVE_EVENT_DEPRECATED=ee.LIVE_EVENT_DEPRECATED,re.ETHERNET_DATA_DEPRECATED=ee.ETHERNET_DATA_DEPRECATED,re.CELL_INFO_DEPRECATED=ee.CELL_INFO_DEPRECATED,re.WIFI_SCAN_DEPRECATED=ee.WIFI_SCAN_DEPRECATED,re.UI_NAVIGATION_EVENT_DEPRECATED=ee.UI_NAVIGATION_EVENT_DEPRECATED,re.LIVE_MAP_DATA_DEPRECATED=ee.LIVE_MAP_DATA_DEPRECATED,re.GPS_PLANNER_POINTS_DEPRECATED=ee.GPS_PLANNER_POINTS_DEPRECATED,re.GPS_PLANNER_PLAN_DEPRECATED=ee.GPS_PLANNER_PLAN_DEPRECATED,re.APPLANIX_RAW_DEPRECATED=ee.APPLANIX_RAW_DEPRECATED,re.ANDROID_GNSS_DEPRECATED=ee.ANDROID_GNSS_DEPRECATED,re.QCOM_GNSS_DEPRECATD=ee.QCOM_GNSS_DEPRECATD,re.LIDAR_PTS_DEPRECATED=ee.LIDAR_PTS_DEPRECATED,re.NAV_STATUS_DEPRECATED=ee.NAV_STATUS_DEPRECATED,re.TRAFFIC_EVENTS_DEPRECATED=ee.TRAFFIC_EVENTS_DEPRECATED,re.LIVE_LOCATION_TIMING_DEPRECATED=ee.LIVE_LOCATION_TIMING_DEPRECATED,re.LIVE_LOCATION_CORRECTED_DEPRECATED=ee.LIVE_LOCATION_CORRECTED_DEPRECATED,re.NAV_UPDATE_DEPRECATED=ee.NAV_UPDATE_DEPRECATED,re.ORB_OBSERVATION_DEPRECATED=ee.ORB_OBSERVATION_DEPRECATED,re.ORB_ODOMETRY_DEPRECATED=ee.ORB_ODOMETRY_DEPRECATED,re.ORB_FEATURES_DEPRECATED=ee.ORB_FEATURES_DEPRECATED,re.APPLANIX_LOCATION_DEPRECATED=ee.APPLANIX_LOCATION_DEPRECATED,re.ORB_KEY_FRAME_DEPRECATED=ee.ORB_KEY_FRAME_DEPRECATED,re.ORB_FEATURES_SUMMARY_DEPRECATED=ee.ORB_FEATURES_SUMMARY_DEPRECATED,re.FEATURES_DEPRECATED=ee.FEATURES_DEPRECATED,re.KALMAN_ODOMETRY_DEPRECATED=ee.KALMAN_ODOMETRY_DEPRECATED,re._capnp={displayName:"Event",id:"d314cfd957229c11",size:new c.ObjectSize(16,1),defaultValid:l.getBitMask(!0,0)},e.Event=re,g._Entries=l.CompositeList(d),E._AndroidSensorsDEPRECATED=l.CompositeList(v),st._LaneLines=l.CompositeList(rt),st._RoadEdges=l.CompositeList(rt),st._Leads=l.CompositeList(it),gt._EventsDEPRECATED=l.CompositeList(f.CarEvent),Pt._CpuTimes=l.CompositeList(wt),Pt._Procs=l.CompositeList(xt),At._Measurements=l.CompositeList(Dt),Kt._Events=l.CompositeList(f.CarEvent),ne._Processes=l.CompositeList(te),re._Can=l.CompositeList(F),re._SensorEvents=l.CompositeList(R),re._LiveTracks=l.CompositeList(Z),re._Sendcan=l.CompositeList(F),re._CarEvents=l.CompositeList(f.CarEvent),re._LiveEventDEPRECATED=l.CompositeList(p.LiveEventData),re._EthernetDataDEPRECATED=l.CompositeList(p.EthernetPacket),re._CellInfoDEPRECATED=l.CompositeList(p.CellInfo),re._WifiScanDEPRECATED=l.CompositeList(p.WifiScan),re._TrafficEventsDEPRECATED=l.CompositeList(p.TrafficEvent),re._OrbObservationDEPRECATED=l.CompositeList(p.OrbObservation)},function(t,e,n){"use strict";var r=function warning(){};t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(79),a=n(80),s=n(59),u=n(142),l=n(53),c=i.default("capnp:list");c("load");var f=function(t){function List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(List,t),List.toString=function(){return this._capnp.displayName},List.prototype.all=function(t){for(var e=this.getLength(),n=0;n<e;n++)if(!t(this.get(n),n))return!1;return!0},List.prototype.any=function(t){for(var e=this.getLength(),n=0;n<e;n++)if(t(this.get(n),n))return!0;return!1},List.prototype.ap=function(t){for(var e=this,n=this.getLength(),r=[],i=function _loop_1(n){r.push.apply(r,t.map((function(t){return t(e.get(n),n)})))},o=0;o<n;o++)i(o);return r},List.prototype.concat=function(t){for(var e=this.getLength(),n=t.getLength(),r=new Array(e+n),i=0;i<e;i++)r[i]=this.get(i);for(i=0;i<n;i++)r[i+e]=t.get(i);return r},List.prototype.drop=function(t){for(var e=this.getLength(),n=new Array(e),r=t;r<e;r++)n[r]=this.get(r);return n},List.prototype.dropWhile=function(t){for(var e=this.getLength(),n=[],r=!0,i=0;i<e;i++){var o=this.get(i);r&&(r=t(o,i)),r||n.push(o)}return n},List.prototype.empty=function(){return[]},List.prototype.every=function(t){return this.all(t)},List.prototype.filter=function(t){for(var e=this.getLength(),n=[],r=0;r<e;r++){var i=this.get(r);t(i,r)&&n.push(i)}return n},List.prototype.find=function(t){for(var e=this.getLength(),n=0;n<e;n++){var r=this.get(n);if(t(r,n))return r}},List.prototype.findIndex=function(t){for(var e=this.getLength(),n=0;n<e;n++){if(t(this.get(n),n))return n}return-1},List.prototype.forEach=function(t){for(var e=this.getLength(),n=0;n<e;n++)t(this.get(n),n)},List.prototype.get=function(t){return get(t,this)},List.prototype.getLength=function(){return l.getTargetListLength(this)},List.prototype.groupBy=function(t){for(var e=this.getLength(),n={},r=0;r<e;r++){var i=this.get(r);n[t(i,r)]=i}return n},List.prototype.intersperse=function(t){for(var e=this.getLength(),n=new Array(e),r=0;r<e;r++)r>0&&n.push(t),n.push(this.get(r));return n},List.prototype.map=function(t){for(var e=this.getLength(),n=new Array(e),r=0;r<e;r++)n[r]=t(this.get(r),r);return n},List.prototype.reduce=function(t,e){var n,r=0;for(void 0===e?(n=this.get(0),r++):n=e;r<this.getLength();r++)n=t(n,this.get(r),r);return n},List.prototype.set=function(t,e){set(t,e,this)},List.prototype.slice=function(t,e){void 0===t&&(t=0);for(var n=e?Math.min(this.getLength(),e):this.getLength(),r=new Array(n-t),i=t;i<n;i++)r[i]=this.get(i);return r},List.prototype.some=function(t){return this.any(t)},List.prototype.take=function(t){for(var e=Math.min(this.getLength(),t),n=new Array(e),r=0;r<e;r++)n[r]=this.get(r);return n},List.prototype.takeWhile=function(t){for(var e=this.getLength(),n=[],r=0;r<e;r++){var i=this.get(r);if(!t(i,r))return n;n.push(i)}return n},List.prototype.toArray=function(){return this.map(a.identity)},List.prototype.toString=function(){return"List_"+t.prototype.toString.call(this)},List._capnp={displayName:"List<Generic>",size:s.ListElementSize.VOID},List.get=get,List.initList=initList,List.set=set,List}(l.Pointer);function initList(t,e,n,r){var i;switch(t){case s.ListElementSize.BIT:i=n.segment.allocate(Math.ceil(e/8));break;case s.ListElementSize.BYTE:case s.ListElementSize.BYTE_2:case s.ListElementSize.BYTE_4:case s.ListElementSize.BYTE_8:case s.ListElementSize.POINTER:i=n.segment.allocate(e*l.getListElementByteLength(t));break;case s.ListElementSize.COMPOSITE:if(void 0===r)throw new Error(a.format(o.PTR_COMPOSITE_SIZE_UNDEFINED));r=u.padToWord(r);var f=u.getByteLength(r)*e;i=n.segment.allocate(f+8),l.setStructPointer(e,r,i),c("Wrote composite tag word %s for %s.",i,n);break;case s.ListElementSize.VOID:return void l.setListPointer(0,t,e,n);default:throw new Error(a.format(o.PTR_INVALID_LIST_SIZE,t))}var p=l.initPointer(i.segment,i.byteOffset,n);l.setListPointer(p.offsetWords,t,e,p.pointer,r)}function get(t,e){throw new TypeError}function set(t,e,n){throw new TypeError}e.List=f,e.initList=initList,e.get=get,e.set=set},function(t,e,n){(function(e){var r,i="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},o=n(552);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=r}).call(this,n(32))},function(t,e,n){"use strict";function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return _slicedToArray}))},function(t,e,n){"use strict";(function(e){function compare(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function isBuffer(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var r=n(978),i=Object.prototype.hasOwnProperty,o=Array.prototype.slice,a="foo"===function foo(){}.name;function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return!isBuffer(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var s=t.exports=ok,u=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(r.isFunction(t)){if(a)return t.name;var e=t.toString().match(u);return e&&e[1]}}function truncate(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function inspect(t){if(a||!r.isFunction(t))return r.inspect(t);var e=getName(t);return"[Function"+(e?": "+e:"")+"]"}function fail(t,e,n,r,i){throw new s.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function ok(t,e){t||fail(t,!0,e,"==",s.ok)}function _deepEqual(t,e,n,i){if(t===e)return!0;if(isBuffer(t)&&isBuffer(e))return 0===compare(t,e);if(r.isDate(t)&&r.isDate(e))return t.getTime()===e.getTime();if(r.isRegExp(t)&&r.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(isBuffer(t)!==isBuffer(e))return!1;var a=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function objEquiv(t,e,n,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(r.isPrimitive(t)||r.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var a=isArguments(t),s=isArguments(e);if(a&&!s||!a&&s)return!1;if(a)return t=o.call(t),e=o.call(e),_deepEqual(t,e,n);var u,c,f=l(t),p=l(e);if(f.length!==p.length)return!1;for(f.sort(),p.sort(),c=f.length-1;c>=0;c--)if(f[c]!==p[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!_deepEqual(t[u],e[u],n,i))return!1;return!0}(t,e,n,i))}return n?t===e:t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function expectedException(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _throws(t,e,n,i){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(i=n,n=null),o=function _tryBlock(t){var e;try{t()}catch(n){e=n}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!o&&fail(o,n,"Missing expected exception"+i);var a="string"===typeof i,s=!t&&o&&!n;if((!t&&r.isError(o)&&a&&expectedException(o,n)||s)&&fail(o,n,"Got unwanted exception"+i),t&&o&&n&&!expectedException(o,n)||!t&&o)throw o}s.AssertionError=function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=getName(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},r.inherits(s.AssertionError,Error),s.fail=fail,s.ok=ok,s.equal=function equal(t,e,n){t!=e&&fail(t,e,n,"==",s.equal)},s.notEqual=function notEqual(t,e,n){t==e&&fail(t,e,n,"!=",s.notEqual)},s.deepEqual=function deepEqual(t,e,n){_deepEqual(t,e,!1)||fail(t,e,n,"deepEqual",s.deepEqual)},s.deepStrictEqual=function deepStrictEqual(t,e,n){_deepEqual(t,e,!0)||fail(t,e,n,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function notDeepEqual(t,e,n){_deepEqual(t,e,!1)&&fail(t,e,n,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=function notDeepStrictEqual(t,e,n){_deepEqual(t,e,!0)&&fail(t,e,n,"notDeepStrictEqual",notDeepStrictEqual)},s.strictEqual=function strictEqual(t,e,n){t!==e&&fail(t,e,n,"===",s.strictEqual)},s.notStrictEqual=function notStrictEqual(t,e,n){t===e&&fail(t,e,n,"!==",s.notStrictEqual)},s.throws=function(t,e,n){_throws(!0,t,e,n)},s.doesNotThrow=function(t,e,n){_throws(!1,t,e,n)},s.ifError=function(t){if(t)throw t};var l=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e}}).call(this,n(32))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createStyles(t){return t}},function(t,e,n){t.exports=n(906)()},function(t,e,n){var r;!function(n){"use strict";var i=function cosh(t){return.5*(Math.exp(t)+Math.exp(-t))},o=function sinh(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function parser_exit(){throw SyntaxError("Invalid Param")};function logHypot(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}var s=function parse(t,e){var n={re:0,im:0};if(void 0===t||null===t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return Complex.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return Complex.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):a();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&a();for(var s=0;s<r.length;s++){var u=r[s];" "===u||"\t"===u||"\n"===u||("+"===u?i++:"-"===u?o++:"i"===u||"I"===u?(i+o===0&&a()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&a(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((o%2?"-":"")+u),s++):n.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&a();break;case"number":n.im=0,n.re=t;break;default:a()}return isNaN(n.re)||isNaN(n.im),n};function Complex(t,e){if(!(this instanceof Complex))return new Complex(t,e);var n=s(t,e);this.re=n.re,this.im=n.im}Complex.prototype={re:0,im:0,sign:function sign(){var t=this.abs();return new Complex(this.re/t,this.im/t)},add:function add(t,e){var n=new Complex(t,e);return this.isInfinite()&&n.isInfinite()?Complex.NAN:this.isInfinite()||n.isInfinite()?Complex.INFINITY:new Complex(this.re+n.re,this.im+n.im)},sub:function sub(t,e){var n=new Complex(t,e);return this.isInfinite()&&n.isInfinite()?Complex.NAN:this.isInfinite()||n.isInfinite()?Complex.INFINITY:new Complex(this.re-n.re,this.im-n.im)},mul:function mul(t,e){var n=new Complex(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?Complex.NAN:this.isInfinite()||n.isInfinite()?Complex.INFINITY:0===n.im&&0===this.im?new Complex(this.re*n.re,0):new Complex(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function div(t,e){var n=new Complex(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return Complex.NAN;if(this.isInfinite()||n.isZero())return Complex.INFINITY;if(this.isZero()||n.isInfinite())return Complex.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new Complex(t/o,e/o):Math.abs(o)<Math.abs(a)?new Complex((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new Complex((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function pow(t,e){var n=new Complex(t,e);if(t=this.re,e=this.im,n.isZero())return Complex.ONE;if(0===n.im){if(0===e&&t>=0)return new Complex(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new Complex(Math.pow(e,n.re),0);case 1:return new Complex(0,Math.pow(e,n.re));case 2:return new Complex(-Math.pow(e,n.re),0);case 3:return new Complex(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return Complex.ZERO;var r=Math.atan2(e,t),i=logHypot(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new Complex(t*Math.cos(e),t*Math.sin(e))},sqrt:function sqrt(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new Complex(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new Complex(t,r<0?-e:e)},exp:function exp(){var t=Math.exp(this.re);return this.im,new Complex(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function expm1(){var t=this.re,e=this.im;return new Complex(Math.expm1(t)*Math.cos(e)+function cosm1(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function log(){var t=this.re,e=this.im;return new Complex(logHypot(t,e),Math.atan2(e,t))},abs:function abs(){return function hypot(t,e){var n=Math.abs(t),r=Math.abs(e);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function arg(){return Math.atan2(this.im,this.re)},sin:function sin(){var t=this.re,e=this.im;return new Complex(Math.sin(t)*i(e),Math.cos(t)*o(e))},cos:function cos(){var t=this.re,e=this.im;return new Complex(Math.cos(t)*i(e),-Math.sin(t)*o(e))},tan:function tan(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+i(e);return new Complex(Math.sin(t)/n,o(e)/n)},cot:function cot(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-i(e);return new Complex(-Math.sin(t)/n,o(e)/n)},sec:function sec(){var t=this.re,e=this.im,n=.5*i(2*e)+.5*Math.cos(2*t);return new Complex(Math.cos(t)*i(e)/n,Math.sin(t)*o(e)/n)},csc:function csc(){var t=this.re,e=this.im,n=.5*i(2*e)-.5*Math.cos(2*t);return new Complex(Math.sin(t)*i(e)/n,-Math.cos(t)*o(e)/n)},asin:function asin(){var t=this.re,e=this.im,n=new Complex(e*e-t*t+1,-2*t*e).sqrt(),r=new Complex(n.re-e,n.im+t).log();return new Complex(r.im,-r.re)},acos:function acos(){var t=this.re,e=this.im,n=new Complex(e*e-t*t+1,-2*t*e).sqrt(),r=new Complex(n.re-e,n.im+t).log();return new Complex(Math.PI/2-r.im,r.re)},atan:function atan(){var t=this.re,e=this.im;if(0===t){if(1===e)return new Complex(0,1/0);if(-1===e)return new Complex(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new Complex((1-e*e-t*t)/n,-2*t/n).log();return new Complex(-.5*r.im,.5*r.re)},acot:function acot(){var t=this.re,e=this.im;if(0===e)return new Complex(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).atan():new Complex(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function asec(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(0,1/0);var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).acos():new Complex(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function acsc(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).asin():new Complex(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function sinh(){var t=this.re,e=this.im;return new Complex(o(t)*Math.cos(e),i(t)*Math.sin(e))},cosh:function cosh(){var t=this.re,e=this.im;return new Complex(i(t)*Math.cos(e),o(t)*Math.sin(e))},tanh:function tanh(){var t=2*this.re,e=2*this.im,n=i(t)+Math.cos(e);return new Complex(o(t)/n,Math.sin(e)/n)},coth:function coth(){var t=2*this.re,e=2*this.im,n=i(t)-Math.cos(e);return new Complex(o(t)/n,-Math.sin(e)/n)},csch:function csch(){var t=this.re,e=this.im,n=Math.cos(2*e)-i(2*t);return new Complex(-2*o(t)*Math.cos(e)/n,2*i(t)*Math.sin(e)/n)},sech:function sech(){var t=this.re,e=this.im,n=Math.cos(2*e)+i(2*t);return new Complex(2*i(t)*Math.cos(e)/n,-2*o(t)*Math.sin(e)/n)},asinh:function asinh(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function acosh(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function atanh(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,o=r*r+e*e,a=0!==o?new Complex((i*r-e*e)/o,(e*r+i*e)/o):new Complex(-1!==t?t/0:0,0!==e?e/0:0),s=a.re;return a.re=logHypot(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,n&&(a.im=-a.im),a},acoth:function acoth(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).atanh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function acsch(){var t=this.re,e=this.im;if(0===e)return new Complex(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).asinh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function asech(){var t=this.re,e=this.im;if(this.isZero())return Complex.INFINITY;var n=t*t+e*e;return 0!==n?new Complex(t/n,-e/n).acosh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function inverse(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new Complex(t/n,-e/n)},conjugate:function conjugate(){return new Complex(this.re,-this.im)},neg:function neg(){return new Complex(-this.re,-this.im)},ceil:function ceil(t){return t=Math.pow(10,t||0),new Complex(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function floor(t){return t=Math.pow(10,t||0),new Complex(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function round(t){return t=Math.pow(10,t||0),new Complex(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function equals(t,e){var n=new Complex(t,e);return Math.abs(n.re-this.re)<=Complex.EPSILON&&Math.abs(n.im-this.im)<=Complex.EPSILON},clone:function clone(){return new Complex(this.re,this.im)},toString:function toString(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),1!==(e=Math.abs(e))&&(n+=e),n+="i"),n||"0")},toVector:function toVector(){return[this.re,this.im]},valueOf:function valueOf(){return 0===this.im?this.re:null},isNaN:function(t){function isNaN(){return t.apply(this,arguments)}return isNaN.toString=function(){return t.toString()},isNaN}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function isZero(){return(0===this.re||-0===this.re)&&(0===this.im||-0===this.im)},isFinite:function(t){function isFinite(){return t.apply(this,arguments)}return isFinite.toString=function(){return t.toString()},isFinite}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function isInfinite(){return!(this.isNaN()||this.isFinite())}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-16,void 0===(r=function(){return Complex}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){var r=n(236)("wks"),i=n(179),o=n(69).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=function capitalize(t){0;return t.charAt(0).toUpperCase()+t.slice(1)},e.contains=contains,e.findIndex=findIndex,e.find=function find(t,e){var n=findIndex(t,e);return n>-1?t[n]:void 0},e.createChainedFunction=function createChainedFunction(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function chainedFunction(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),(function(){}))};var i=r(n(245));r(n(64));function contains(t,e){return Object.keys(e).every((function(n){return t.hasOwnProperty(n)&&t[n]===e[n]}))}function findIndex(t,e){for(var n=(0,i.default)(e),r=0;r<t.length;r+=1){if("function"===n&&!0===!!e(t[r],r,t))return r;if("object"===n&&contains(t[r],e))return r;if(-1!==["string","number","boolean"].indexOf(n))return t.indexOf(e)}return-1}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(803))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(855);e.ListElementSize=r.ListElementSize,e.Message=r.Message,e.ObjectSize=r.ObjectSize,e.readRawPointer=r.readRawPointer,e.AnyPointerList=r.AnyPointerList,e.BoolList=r.BoolList,e.CompositeList=r.CompositeList,e.Data=r.Data,e.DataList=r.DataList,e.Float32List=r.Float32List,e.Float64List=r.Float64List,e.Int16List=r.Int16List,e.Int32List=r.Int32List,e.Int64List=r.Int64List,e.Int8List=r.Int8List,e.Interface=r.Interface,e.InterfaceList=r.InterfaceList,e.List=r.List,e.Orphan=r.Orphan,e.PointerList=r.PointerList,e.PointerType=r.PointerType,e.Pointer=r.Pointer,e.Struct=r.Struct,e.Text=r.Text,e.TextList=r.TextList,e.Uint16List=r.Uint16List,e.Uint32List=r.Uint32List,e.Uint64List=r.Uint64List,e.Uint8List=r.Uint8List,e.VoidList=r.VoidList,e.Void=r.Void,e.getBitMask=r.getBitMask,e.getFloat32Mask=r.getFloat32Mask,e.getFloat64Mask=r.getFloat64Mask,e.getInt16Mask=r.getInt16Mask,e.getInt32Mask=r.getInt32Mask,e.getInt64Mask=r.getInt64Mask,e.getInt8Mask=r.getInt8Mask,e.getUint16Mask=r.getUint16Mask,e.getUint32Mask=r.getUint32Mask,e.getUint64Mask=r.getUint64Mask,e.getUint8Mask=r.getUint8Mask;var i=n(267);e.Int64=i.Int64,e.Uint64=i.Uint64},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(828))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.storage=void 0;var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100)),o=function(){var t=(0,i.default)(r.default.mark((function _callee(){var t;return r.default.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getCommaAccessToken();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}}(),a=function(){var t=(0,i.default)(r.default.mark((function _callee2(){return r.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.logOut();case 2:s.default.location.href=s.default.location.origin;case 3:case"end":return t.stop()}}),_callee2,this)})));return function logOut(){return t.apply(this,arguments)}}(),s=_interopRequireDefault(n(334)),u=_interopRequireWildcard(n(621)),l=_interopRequireWildcard(n(623));function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.storage=u,e.config=l,e.default={init:o,logOut:a,isAuthenticated:function isAuthenticated(){return u.isAuthed}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83);r.default("capnp:errors")("load"),e.INVARIANT_UNREACHABLE_CODE="CAPNP-TS000 Unreachable code detected.",e.assertNever=function assertNever(t){throw new Error(e.INVARIANT_UNREACHABLE_CODE+" (never block hit with: "+t+")")},e.MSG_INVALID_FRAME_HEADER="CAPNP-TS001 Attempted to parse an invalid message frame header; are you sure this is a Cap'n Proto message?",e.MSG_NO_SEGMENTS_IN_ARENA="CAPNP-TS002 Attempted to preallocate a message with no segments in the arena.",e.MSG_PACK_NOT_WORD_ALIGNED="CAPNP-TS003 Attempted to pack a message that was not word-aligned.",e.MSG_SEGMENT_OUT_OF_BOUNDS="CAPNP-TS004 Segment ID %X is out of bounds for message %s.",e.MSG_SEGMENT_TOO_SMALL="CAPNP-TS005 First segment must have at least enough room to hold the root pointer (8 bytes).",e.NOT_IMPLEMENTED="CAPNP-TS006 %s is not implemented.",e.PTR_ADOPT_COMPOSITE_STRUCT="CAPNP-TS007 Attempted to adopt a struct into a composite list (%s).",e.PTR_ADOPT_WRONG_MESSAGE="CAPNP-TS008 Attempted to adopt %s into a pointer in a different message %s.",e.PTR_ALREADY_ADOPTED="CAPNP-TS009 Attempted to adopt %s more than once.",e.PTR_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS010 Attempted to set a composite list without providing a composite element size.",e.PTR_DEPTH_LIMIT_EXCEEDED="CAPNP-TS011 Nesting depth limit exceeded for %s.",e.PTR_DISOWN_COMPOSITE_STRUCT="CAPNP-TS012 Attempted to disown a struct member from a composite list (%s).",e.PTR_INIT_COMPOSITE_STRUCT="CAPNP-TS013 Attempted to initialize a struct member from a composite list (%s).",e.PTR_INIT_NON_GROUP="CAPNP-TS014 Attempted to initialize a group field with a non-group struct class.",e.PTR_INVALID_FAR_TARGET="CAPNP-TS015 Target of a far pointer (%s) is another far pointer.",e.PTR_INVALID_LIST_SIZE="CAPNP-TS016 Invalid list element size: %x.",e.PTR_INVALID_POINTER_TYPE="CAPNP-TS017 Invalid pointer type: %x.",e.PTR_INVALID_UNION_ACCESS="CAPNP-TS018 Attempted to access getter on %s for union field %s that is not currently set (wanted: %d, found: %d).",e.PTR_OFFSET_OUT_OF_BOUNDS="CAPNP-TS019 Pointer offset %a is out of bounds for underlying buffer.",e.PTR_STRUCT_DATA_OUT_OF_BOUNDS="CAPNP-TS020 Attempted to access out-of-bounds struct data (struct: %s, %d bytes at %a, data words: %d).",e.PTR_STRUCT_POINTER_OUT_OF_BOUNDS="CAPNP-TS021 Attempted to access out-of-bounds struct pointer (%s, index: %d, length: %d).",e.PTR_TRAVERSAL_LIMIT_EXCEEDED="CAPNP-TS022 Traversal limit exceeded! Slow down! %s",e.PTR_WRONG_LIST_TYPE="CAPNP-TS023 Cannot convert %s to a %s list.",e.PTR_WRONG_POINTER_TYPE="CAPNP-TS024 Attempted to convert pointer %s to a %s type.",e.PTR_WRONG_COMPOSITE_DATA_SIZE="CAPNP-TS025 Attempted to convert %s to a composite list with the wrong data size (found: %d).",e.PTR_WRONG_COMPOSITE_PTR_SIZE="CAPNP-TS026 Attempted to convert %s to a composite list with the wrong pointer size (found: %d).",e.PTR_WRONG_STRUCT_DATA_SIZE="CAPNP-TS027 Attempted to convert %s to a struct with the wrong data size (found: %d).",e.PTR_WRONG_STRUCT_PTR_SIZE="CAPNP-TS028 Attempted to convert %s to a struct with the wrong pointer size (found: %d).",e.RANGE_INT32_OVERFLOW="CAPNP-TS029 32-bit signed integer overflow detected.",e.RANGE_INT64_UNDERFLOW="CAPNP-TS030 Buffer is not large enough to hold a word.",e.RANGE_INVALID_UTF8="CAPNP-TS031 Invalid UTF-8 code sequence detected.",e.RANGE_SIZE_OVERFLOW="CAPNP-TS032 Size %x exceeds maximum "+i.MAX_SEGMENT_LENGTH.toString(16)+".",e.RANGE_UINT32_OVERFLOW="CAPNP-TS033 32-bit unsigned integer overflow detected.",e.SEG_BUFFER_NOT_ALLOCATED="CAPNP-TS034 allocate() needs to be called at least once before getting a buffer.",e.SEG_GET_NON_ZERO_SINGLE="CAPNP-TS035 Attempted to get a segment other than 0 (%d) from a single segment arena.",e.SEG_ID_OUT_OF_BOUNDS="CAPNP-TS036 Attempted to get an out-of-bounds segment (%d).",e.SEG_NOT_WORD_ALIGNED="CAPNP-TS037 Segment buffer length %d is not a multiple of 8.",e.SEG_REPLACEMENT_BUFFER_TOO_SMALL="CAPNP-TS038 Attempted to replace a segment buffer with one that is smaller than the allocated space.",e.SEG_SIZE_OVERFLOW="CAPNP-TS039 Requested size %x exceeds maximum value ("+i.MAX_SEGMENT_LENGTH+").",e.TYPE_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS040 Must provide a composite element size for composite list pointers.",e.TYPE_GET_GENERIC_LIST="CAPNP-TS041 Attempted to call get() on a generic list.",e.TYPE_SET_GENERIC_LIST="CAPNP-TS042 Attempted to call set() on a generic list.",e.PTR_WRITE_CONST_LIST="CAPNP-TS043 Attempted to write to a const list.",e.PTR_WRITE_CONST_STRUCT="CAPNP-TS044 Attempted to write to a const struct."},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79);function format(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i,o,a=t.length,s=0,u=!1,l=0,c=!1,f="";function nextArg(){return e[s++]}function slurpNumber(){for(var e="";/\d/.test(t[l]);)e+=t[l++],i=t[l];return e.length>0?parseInt(e,10):null}for(;l<a;++l)if(i=t[l],u)switch(u=!1,"."===i?(c=!1,i=t[++l]):"0"===i&&"."===t[l+1]?(c=!0,i=t[l+=2]):c=!0,o=slurpNumber(),i){case"a":f+="0x"+pad(parseInt(nextArg(),10).toString(16),8);break;case"b":f+=parseInt(nextArg(),10).toString(2);break;case"c":"string"===typeof(r=nextArg())||r instanceof String?f+=r:f+=String.fromCharCode(parseInt(r,10));break;case"d":f+=parseInt(nextArg(),10);break;case"f":var p=String(parseFloat(nextArg()).toFixed(o||6));f+=c?p:p.replace(/^0/,"");break;case"j":f+=JSON.stringify(nextArg());break;case"o":f+="0"+parseInt(nextArg(),10).toString(8);break;case"s":f+=nextArg();break;case"x":f+="0x"+parseInt(nextArg(),10).toString(16);break;case"X":f+="0x"+parseInt(nextArg(),10).toString(16).toUpperCase();break;default:f+=i}else"%"===i?u=!0:f+=i;return f}function pad(t,e,n){return void 0===n&&(n="0"),t.length>=e?t:new Array(e-t.length+1).join(n)+t}function repeat(t,e){var n="",r=t,i=e;if(r<1||r>Number.MAX_VALUE)return n;do{r%2&&(n+=i),(r=Math.floor(r/2))&&(i+=i)}while(r);return n}r.default("capnp:util")("load"),e.bufferToHex=function bufferToHex(t){for(var e=new Uint8Array(t),n=[],r=0;r<e.byteLength;r++)n.push(pad(e[r].toString(16),2));return"["+n.join(" ")+"]"},e.checkInt32=function checkInt32(t){if(t>i.MAX_INT32||t<-i.MAX_INT32)throw new RangeError(o.RANGE_INT32_OVERFLOW);return t},e.checkUint32=function checkUint32(t){if(t<0||t>i.MAX_UINT32)throw new RangeError(o.RANGE_UINT32_OVERFLOW);return t},e.decodeUtf8=function decodeUtf8(t){for(var e=t.byteLength,n="",r=0,i=0,a=0;r<e;){if(0===(128&(a=t[r++])))i=a;else if(192===(224&a)){if(r>=e)throw new RangeError(o.RANGE_INVALID_UTF8);i=(31&a)<<6|63&t[r++]}else if(224===(240&a)){if(r+1>=e)throw new RangeError(o.RANGE_INVALID_UTF8);i=(15&a)<<12|(63&t[r++])<<6|63&t[r++]}else{if(240!==(248&a))throw new RangeError(o.RANGE_INVALID_UTF8);if(r+2>=e)throw new RangeError(o.RANGE_INVALID_UTF8);i=(7&a)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++]}if(i<=55295||i>=57344&&i<=65535)n+=String.fromCharCode(i);else{var s=55296+((i-=65536)>>>10),u=56320+(1023&i);if(s<55296||s>56319)throw new RangeError(o.RANGE_INVALID_UTF8);n+=String.fromCharCode(s,u)}}return n},e.dumpBuffer=function dumpBuffer(t){for(var e=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=Math.min(e.byteLength,i.MAX_BUFFER_DUMP_BYTES),r=format("\n=== buffer[%d] ===",n),o=0;o<n;o+=16){r+="\n"+pad(o.toString(16),8)+": ";var a="",s=void 0;for(s=0;s<16&&o+s<e.byteLength;s++){var u=e[o+s];r+=pad(u.toString(16),2)+" ",a+=u>31&&u<255?String.fromCharCode(u):"\xb7",7===s&&(r+=" ")}r+=""+repeat(3*(17-s)," ")+a}return r+="\n",n!==e.byteLength&&(r+=format("=== (truncated %d bytes) ===\n",e.byteLength-n)),r},e.encodeUtf8=function encodeUtf8(t){for(var e=t.length,n=new Uint8Array(new ArrayBuffer(4*e)),r=0,i=0;i<e;i++){var a=t.charCodeAt(i);if(a<=127)n[r++]=a;else if(a<=2047)n[r++]=192|a>>>6,n[r++]=128|a>>>0&63;else if(a<=55295||a>=57344)n[r++]=224|a>>>12,n[r++]=128|a>>>6&63,n[r++]=128|a>>>0&63;else{if(i+1>=e)throw new RangeError(o.RANGE_INVALID_UTF8);var s=65536+(a-55296<<10|t.charCodeAt(++i)-56320);n[r++]=240|s>>>18,n[r++]=128|s>>>12&63,n[r++]=128|s>>>6&63,n[r++]=128|s>>>0&63}}return n.subarray(0,r)},e.format=format,e.identity=function identity(t){return t},e.pad=pad,e.padToWord=function padToWord(t){return t+7&-8},e.repeat=repeat,r.default.formatters.h=function(t){return t.toString("hex")},r.default.formatters.x=function(t){return"0x"+t.toString(16)},r.default.formatters.a=function(t){return"0x"+pad(t.toString(16),8)},r.default.formatters.X=function(t){return"0x"+t.toString(16).toUpperCase()}},function(t,e,n){(function(e){for(var r=n(903),i="undefined"===typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,f=0,p=[];s=function raf(t){if(0===p.length){var e=r(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout((function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return p.push({handle:++f,callback:t,cancelled:!1}),f},u=function caf(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(32))},function(t,e,n){var r=n(69),i=n(56),o=n(135),a=n(121),s=n(122),u=function $export(t,e,n){var u,l,c,f=t&$export.F,p=t&$export.G,d=t&$export.S,h=t&$export.P,g=t&$export.B,y=t&$export.W,m=p?i:i[e]||(i[e]={}),v=m.prototype,_=p?r:d?r[e]:(r[e]||{}).prototype;for(u in p&&(n=e),n)(l=!f&&_&&void 0!==_[u])&&s(m,u)||(c=l?_[u]:n[u],m[u]=p&&"function"!=typeof _[u]?n[u]:g&&l?o(c,r):y&&_[u]==c?function(t){var e=function F(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((m.virtual||(m.virtual={}))[u]=c,t&$export.R&&v&&!v[u]&&a(v,u,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new DataView(new ArrayBuffer(8));new Uint16Array(r.buffer)[0]=258,e.DEFAULT_BUFFER_SIZE=4096,e.DEFAULT_DECODE_LIMIT=64<<20,e.DEFAULT_DEPTH_LIMIT=64,e.DEFAULT_TRAVERSE_LIMIT=64<<20,e.GROWTH_FACTOR=1.5,e.LIST_SIZE_MASK=7,e.MAX_BUFFER_DUMP_BYTES=8192,e.MAX_INT32=2147483647,e.MAX_UINT32=4294967295,e.MAX_SAFE_INTEGER=9007199254740991,e.MAX_STREAM_SEGMENTS=512,e.MIN_SAFE_INTEGER=-9007199254740991,e.MIN_SINGLE_SEGMENT_GROWTH=4096,e.NATIVE_LITTLE_ENDIAN=2===r.getUint8(0),e.PACK_SPAN_THRESHOLD=2,e.POINTER_COPY_LIMIT=32,e.POINTER_DOUBLE_FAR_MASK=4,e.POINTER_TYPE_MASK=3,e.VAL32=4294967296,e.MAX_DEPTH=e.MAX_INT32,e.MAX_SEGMENT_LENGTH=e.MAX_UINT32},function(t,e,n){"use strict";function componentWillMount(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function componentWillReceiveProps(t){this.setState(function updater(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function componentWillUpdate(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function polyfill(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,r=null,i=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?i="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=t.displayName||t.name,a="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=componentWillMount,e.componentWillReceiveProps=componentWillReceiveProps),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=componentWillUpdate;var s=e.componentDidUpdate;e.componentDidUpdate=function componentDidUpdatePolyfill(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return polyfill})),componentWillMount.__suppressDeprecationWarning=!0,componentWillReceiveProps.__suppressDeprecationWarning=!0,componentWillUpdate.__suppressDeprecationWarning=!0},function(t,e,n){(function(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=n}).call(this,n(32))},function(t,e,n){t.exports=n(583)()},function(t,e){t.exports=function debounce(t,e,n){var r,i,o,a,s;function later(){var u=Date.now()-a;u<e&&u>=0?r=setTimeout(later,e-u):(r=null,n||(s=t.apply(o,i),o=i=null))}null==e&&(e=100);var u=function debounced(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(later,e)),u&&(s=t.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}},function(t,e,n){(function(e){var r=n(543),i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),t.exports=a,t.exports.Client=r}).call(this,n(32))},function(t,e){function ListItem(t){this.fn=t,this.deleted=!1}t.exports=function Event(){var t=[];return{broadcast:function broadcast(e){for(var n=t.slice(),r=0;r<n.length;r++)n[r].deleted||n[r].fn(e)},listen:function event(e){return t.push(new ListItem(e)),function removeListener(){for(var n=0;n<t.length;n++)if(t[n].fn===e){t[n].deleted=!0,t.splice(n,1);break}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function format(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var f=String(e),p=n||{},d=p.locale||o.default;if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var h=d.formatters||{},g=d.formattingTokensRegExp||c,y=d.formatLong,m=(0,r.default)(t,p);if(!(0,i.default)(m,p))return"Invalid Date";var v=m.getTimezoneOffset(),_=(0,u.default)(m,-v,p),b=(0,s.default)(p);return b.locale=d,b.formatters=a.default,b._originalDate=m,f.replace(l,(function(t){return"["===t[0]?t:"\\"===t[0]?cleanEscapedString(t):y(t)})).replace(g,(function(t){var e=h[t]||a.default[t];return e?e(_,b):cleanEscapedString(t)}))};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(281)),o=_interopRequireDefault(n(312)),a=_interopRequireDefault(n(568)),s=_interopRequireDefault(n(315)),u=_interopRequireDefault(n(570));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,c=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;function cleanEscapedString(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}t.exports=e.default},function(t,e,n){var r=n(110);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.formatTime=function formatTime(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);(u(t)||t===1/0)&&(i="-",r="-",n="-");return i=i>0||a>0?"".concat(i,":"):"",r="".concat((i||o>=10)&&r<10?"0".concat(r):r,":"),n=n<10?"0".concat(n):n,i+r+n},e.isVideoChild=function isVideoChild(t){if(t.props&&t.props.isVideoChild)return!0;return"source"===t.type||"track"===t.type},e.mergeAndSortChildren=function mergeAndSortChildren(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=s.default.Children.toArray(e),u=(n.order,(0,a.default)(n,["order"]));return i.filter((function(t){return!t.props.disabled})).concat(t.filter((function(t){return!l(i,(function(e){return c(e,t)}))}))).map((function(e){var n=l(t,(function(t){return c(t,e)})),r=n?n.props:{},i=(0,o.default)({},u,r,e.props);return s.default.cloneElement(e,i,e.props.children)})).sort((function(t,e){return(t.props.order||r)-(e.props.order||r)}))},e.deprecatedWarning=function deprecatedWarning(t,e){console.warn("WARNING: ".concat(t," will be deprecated soon! Please use ").concat(e," instead."))},e.throttle=function throttle(t,e){var n=arguments,r=!1;return function(){r||(t.apply(void 0,(0,i.default)(n)),r=!0,setTimeout((function(){r=!1}),e))}},e.mediaProperties=void 0;var i=r(n(395)),o=r(n(115)),a=r(n(273)),s=r(n(0)),u=Number.isNaN||function(t){return t!==t};var l=function find(t,e){return t.filter(e)[0]},c=function isTypeEqual(t,e){var n=t.type,r=e.type;return"string"===typeof n||"string"===typeof r?n===r:"function"===typeof n&&"function"===typeof r&&n.displayName===r.displayName};e.mediaProperties=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"]},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(e,"ModalManager",{enumerable:!0,get:function get(){return o.default}});var i=r(n(786)),o=r(n(360))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BodyClass=e.RootClass=e.For=e.Choose=e.If=e.canUseDOM=e.getDisplayName=e.isStatelessComponent=e.classNames=e.autoBind=void 0;var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=_interopRequireDefault(n(0)),o=_interopRequireDefault(n(918)),a=_interopRequireDefault(n(921)),s=_interopRequireDefault(n(922));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.autoBind=a.default.react,e.classNames=s.default,e.isStatelessComponent=function isStatelessComponent(t){return!("undefined"!==typeof t.prototype&&"function"===typeof t.prototype.render)},e.getDisplayName=function getDisplayName(t){return t.displayName||t.name||"Component"},e.canUseDOM="undefined"!==typeof window&&"document"in window&&"createElement"in window.document;var u=e.If=function If(t){return t.condition?t.render?t.render():t.children:null};u.propTypes={condition:o.default.bool.isRequired,children:o.default.node,render:o.default.func};var l=e.Choose=function Choose(t){var e=null,n=null;return i.default.Children.forEach(t.children,(function(t){void 0===t.props.condition?n=t:e||!0!==t.props.condition||(e=t)})),e||n};l.propTypes={children:o.default.node},l.When=u,l.Otherwise=function(t){var e=t.render,n=t.children;return e?e():n},l.Otherwise.propTypes={children:o.default.node,render:o.default.func},(e.For=function For(t){var e=t.render;return t.of.map((function(t,n){return e(t,n)}))}).propTypes={of:o.default.array.isRequired,render:o.default.func.isRequired};var c=function(t){function ElementClass(){return _classCallCheck(this,ElementClass),_possibleConstructorReturn(this,(ElementClass.__proto__||Object.getPrototypeOf(ElementClass)).apply(this,arguments))}return _inherits(ElementClass,t),r(ElementClass,[{key:"componentWillMount",value:function componentWillMount(){var t=this.props,e=t.add,n=t.remove,r=this.element.classList;e&&r.add.apply(r,_toConsumableArray(e.trim().split(" "))),n&&r.remove.apply(r,_toConsumableArray(n.trim().split(" ")))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props,e=t.add,n=t.remove,r=this.element.classList;e&&r.remove.apply(r,_toConsumableArray(e.trim().split(" "))),n&&r.add.apply(r,_toConsumableArray(n.trim().split(" ")))}},{key:"render",value:function render(){return null}}]),ElementClass}(i.default.PureComponent);c.propTypes={add:o.default.string,remove:o.default.string},(e.RootClass=function(t){function RootClass(){_classCallCheck(this,RootClass);var t=_possibleConstructorReturn(this,(RootClass.__proto__||Object.getPrototypeOf(RootClass)).call(this));return t.element=document.documentElement,t}return _inherits(RootClass,t),RootClass}(c)).propTypes=c.propTypes,(e.BodyClass=function(t){function BodyClass(){_classCallCheck(this,BodyClass);var t=_possibleConstructorReturn(this,(BodyClass.__proto__||Object.getPrototypeOf(BodyClass)).call(this));return t.element=document.body,t}return _inherits(BodyClass,t),BodyClass}(c)).propTypes=c.propTypes},function(t,e,n){"use strict";n.d(e,"e",(function(){return createStore})),n.d(e,"c",(function(){return combineReducers})),n.d(e,"b",(function(){return bindActionCreators})),n.d(e,"a",(function(){return applyMiddleware})),n.d(e,"d",(function(){return compose}));var r=n(125),i={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function isPlainObject(t){if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,n){var a;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var s=t,u=e,l=[],c=l,f=!1;function ensureCanMutateNextListeners(){c===l&&(c=l.slice())}function getState(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function subscribe(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return ensureCanMutateNextListeners(),c.push(t),function unsubscribe(){if(e){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,ensureCanMutateNextListeners();var n=c.indexOf(t);c.splice(n,1)}}}function dispatch(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=s(u,t)}finally{f=!1}for(var e=l=c,n=0;n<e.length;n++){(0,e[n])()}return t}return dispatch({type:i.INIT}),(a={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");s=t,dispatch({type:i.REPLACE})}})[r.default]=function observable(){var t,e=subscribe;return(t={subscribe:function subscribe(t){if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)throw new TypeError("Expected the observer to be an object.");function observeState(){t.next&&t.next(getState())}return observeState(),{unsubscribe:e(observeState)}}})[r.default]=function(){return this},t},a}function getUndefinedStateErrorMessage(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];0,"function"===typeof t[o]&&(n[o]=t[o])}var a=Object.keys(n);var s=void 0;try{!function assertReducerShape(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:i.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){s=u}return function combination(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var r=!1,i={},o=0;o<a.length;o++){var u=a[o],l=n[u],c=t[u],f=l(c,e);if("undefined"===typeof f){var p=getUndefinedStateErrorMessage(u,e);throw new Error(p)}i[u]=f,r=r||f!==c}return r?i:t}}function bindActionCreator(t,e){return function(){return e(t.apply(this,arguments))}}function bindActionCreators(t,e){if("function"===typeof t)return bindActionCreator(t,e);if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":"undefined"===typeof t?"undefined":o(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var a=n[i],s=t[a];"function"===typeof s&&(r[a]=bindActionCreator(s,e))}return r}function compose(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function applyMiddleware(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.apply(void 0,r),s=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},u={getState:o.getState,dispatch:function dispatch(){return s.apply(void 0,arguments)}},l=e.map((function(t){return t(u)}));return s=compose.apply(void 0,l)(o.dispatch),a({},o,{dispatch:s})}}}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(898))},function(t,e,n){"use strict";function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return _toConsumableArray}))},function(t,e,n){"use strict";n.r(e);var r=n(25),i=n.n(r),o=n(0),a=n.n(o),s=n(10),u=n.n(s),l=n(433),c=n.n(l),f=n(52),p=n.n(f),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var h=function(t){function Router(){var e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Router);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n.state={match:n.computeMatch(n.props.history.location.pathname)},_possibleConstructorReturn(n,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Router,t),Router.prototype.getChildContext=function getChildContext(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},Router.prototype.computeMatch=function computeMatch(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},Router.prototype.componentWillMount=function componentWillMount(){var t=this,e=this.props,n=e.children,r=e.history;p()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){t.setState({match:t.computeMatch(r.location.pathname)})}))},Router.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){i()(this.props.history===t.history,"You cannot change <Router history>")},Router.prototype.componentWillUnmount=function componentWillUnmount(){this.unlisten()},Router.prototype.render=function render(){var t=this.props.children;return t?a.a.Children.only(t):null},Router}(a.a.Component);h.propTypes={history:u.a.object.isRequired,children:u.a.node},h.contextTypes={router:u.a.object},h.childContextTypes={router:u.a.object.isRequired};var g=h;function MemoryRouter_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=function(t){function MemoryRouter(){var e,n;!function MemoryRouter_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MemoryRouter);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=MemoryRouter_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n.history=c()(n.props),MemoryRouter_possibleConstructorReturn(n,e)}return function MemoryRouter_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(MemoryRouter,t),MemoryRouter.prototype.componentWillMount=function componentWillMount(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},MemoryRouter.prototype.render=function render(){return a.a.createElement(g,{history:this.history,children:this.props.children})},MemoryRouter}(a.a.Component);y.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var m=y;var v=function(t){function Prompt(){return function Prompt_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Prompt),function Prompt_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Prompt_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Prompt,t),Prompt.prototype.enable=function enable(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},Prompt.prototype.disable=function disable(){this.unblock&&(this.unblock(),this.unblock=null)},Prompt.prototype.componentWillMount=function componentWillMount(){p()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},Prompt.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},Prompt.prototype.componentWillUnmount=function componentWillUnmount(){this.disable()},Prompt.prototype.render=function render(){return null},Prompt}(a.a.Component);v.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},v.defaultProps={when:!0},v.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired};var _=v,b=n(152);var S=function(t){function Redirect(){return function Redirect_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Redirect),function Redirect_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Redirect_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Redirect,t),Redirect.prototype.isStatic=function isStatic(){return this.context.router&&this.context.router.staticContext},Redirect.prototype.componentWillMount=function componentWillMount(){p()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},Redirect.prototype.componentDidMount=function componentDidMount(){this.isStatic()||this.perform()},Redirect.prototype.componentDidUpdate=function componentDidUpdate(t){var e=Object(b.a)(t.to),n=Object(b.a)(this.props.to);Object(b.b)(e,n)?i()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},Redirect.prototype.perform=function perform(){var t=this.context.router.history,e=this.props,n=e.push,r=e.to;n?t.push(r):t.replace(r)},Redirect.prototype.render=function render(){return null},Redirect}(a.a.Component);S.propTypes={push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired},S.defaultProps={push:!1},S.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired};var E=S,x=n(434),w=n.n(x),T={},P=0,k=function compilePath(t,e){var n=""+e.end+e.strict+e.sensitive,r=T[n]||(T[n]={});if(r[t])return r[t];var i=[],o={re:w()(t,i,e),keys:i};return P<1e4&&(r[t]=o,P++),o},D=function matchPath(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e={path:e});var n=e,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,s=n.strict,u=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l,f=k(i,{end:a,strict:u,sensitive:c}),p=f.re,d=f.keys,h=p.exec(t);if(!h)return null;var g=h[0],y=h.slice(1),m=t===g;return a&&!m?null:{path:i,url:"/"===i&&""===g?"/":g,isExact:m,params:d.reduce((function(t,e,n){return t[e.name]=y[n],t}),{})}},A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Route_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var R=function isEmptyChildren(t){return 0===a.a.Children.count(t)},M=function(t){function Route(){var e,n;!function Route_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Route);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=Route_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n.state={match:n.computeMatch(n.props,n.context.router)},Route_possibleConstructorReturn(n,e)}return function Route_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Route,t),Route.prototype.getChildContext=function getChildContext(){return{router:A({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},Route.prototype.computeMatch=function computeMatch(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,a=t.exact,s=t.sensitive;if(n)return n;p()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,l=(r||u.location).pathname;return i?D(l,{path:i,strict:o,exact:a,sensitive:s}):u.match},Route.prototype.componentWillMount=function componentWillMount(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!R(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!R(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},Route.prototype.componentWillReceiveProps=function componentWillReceiveProps(t,e){i()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},Route.prototype.render=function render(){var t=this.state.match,e=this.props,n=e.children,r=e.component,render=e.render,i=this.context.router,o=i.history,s=i.route,u=i.staticContext,l={match:t,location:this.props.location||s.location,history:o,staticContext:u};return r?t?a.a.createElement(r,l):null:render?t?render(l):null:n?"function"===typeof n?n(l):R(n)?null:a.a.Children.only(n):null},Route}(a.a.Component);M.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},M.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},M.childContextTypes={router:u.a.object.isRequired};var L=M,I=n(107),O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function StaticRouter_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var F=function addBasename(t,e){return t?O({},e,{pathname:Object(I.addLeadingSlash)(t)+e.pathname}):e},N=function stripBasename(t,e){if(!t)return e;var n=Object(I.addLeadingSlash)(t);return 0!==e.pathname.indexOf(n)?e:O({},e,{pathname:e.pathname.substr(n.length)})},B=function createLocation(t){return"string"===typeof t?Object(I.parsePath)(t):function normalizeLocation(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}}(t)},U=function createURL(t){return"string"===typeof t?t:Object(I.createPath)(t)},z=function staticHandler(t){return function(){p()(!1,"You cannot %s with <StaticRouter>",t)}},j=function noop(){},V=function(t){function StaticRouter(){var e,n;!function StaticRouter_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StaticRouter);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=StaticRouter_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n.createHref=function(t){return Object(I.addLeadingSlash)(n.props.basename+U(t))},n.handlePush=function(t){var e=n.props,r=e.basename,i=e.context;i.action="PUSH",i.location=F(r,B(t)),i.url=U(i.location)},n.handleReplace=function(t){var e=n.props,r=e.basename,i=e.context;i.action="REPLACE",i.location=F(r,B(t)),i.url=U(i.location)},n.handleListen=function(){return j},n.handleBlock=function(){return j},StaticRouter_possibleConstructorReturn(n,e)}return function StaticRouter_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(StaticRouter,t),StaticRouter.prototype.getChildContext=function getChildContext(){return{router:{staticContext:this.props.context}}},StaticRouter.prototype.componentWillMount=function componentWillMount(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},StaticRouter.prototype.render=function render(){var t=this.props,e=t.basename,n=(t.context,t.location),r=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:N(e,B(n)),push:this.handlePush,replace:this.handleReplace,go:z("go"),goBack:z("goBack"),goForward:z("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(g,O({},r,{history:i}))},StaticRouter}(a.a.Component);V.propTypes={basename:u.a.string,context:u.a.object.isRequired,location:u.a.oneOfType([u.a.string,u.a.object])},V.defaultProps={basename:"",location:"/"},V.childContextTypes={router:u.a.object.isRequired};var G=V;var W=function(t){function Switch(){return function Switch_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Switch),function Switch_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Switch_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Switch,t),Switch.prototype.componentWillMount=function componentWillMount(){p()(this.context.router,"You should not use <Switch> outside a <Router>")},Switch.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){i()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},Switch.prototype.render=function render(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,i=void 0;return a.a.Children.forEach(e,(function(e){if(a.a.isValidElement(e)){var o=e.props,s=o.path,u=o.exact,l=o.strict,c=o.sensitive,f=o.from,p=s||f;null==r&&(i=e,r=p?D(n.pathname,{path:p,exact:u,strict:l,sensitive:c}):t.match)}})),r?a.a.cloneElement(i,{location:n,computedMatch:r}):null},Switch}(a.a.Component);W.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},W.propTypes={children:u.a.node,location:u.a.object};var q=W,H=n(435),K=n.n(H),Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var X=function withRouter(t){var e=function C(e){var n=e.wrappedComponentRef,r=function withRouter_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrappedComponentRef"]);return a.a.createElement(L,{render:function render(e){return a.a.createElement(t,Y({},r,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:u.a.func},K()(e,t)};n.d(e,"MemoryRouter",(function(){return m})),n.d(e,"Prompt",(function(){return _})),n.d(e,"Redirect",(function(){return E})),n.d(e,"Route",(function(){return L})),n.d(e,"Router",(function(){return g})),n.d(e,"StaticRouter",(function(){return G})),n.d(e,"Switch",(function(){return q})),n.d(e,"matchPath",(function(){return D})),n.d(e,"withRouter",(function(){return X}))},function(t,e,n){t.exports=n(599)},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(144));e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default((function(t,n){return function step(i,o){try{var a=e[i](o),s=a.value}catch(u){return void n(u)}if(!a.done)return r.default.resolve(s).then((function(t){step("next",t)}),(function(t){step("throw",t)}));t(s)}("next")}))}}},function(t,e,n){var r=n(91),i=n(321),o=n(232),a=Object.defineProperty;e.f=n(111)?Object.defineProperty:function defineProperty(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patch=e.postForm=e.post=e.get=void 0;var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100)),o=_interopRequireDefault(n(144));e.get=function(){var t=(0,i.default)(r.default.mark((function _callee(t,e){return r.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ensureInit();case 2:return n.abrupt("return",new o.default((function(n,r){f.get(t,{query:e,json:!0},p(n,r))})));case 3:case"end":return n.stop()}}),_callee,this)})));return function get(e,n){return t.apply(this,arguments)}}(),e.post=function(){var t=(0,i.default)(r.default.mark((function _callee2(t,e){return r.default.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ensureInit();case 2:return n.abrupt("return",new o.default((function(n,r){f.post(t,{body:e,json:!0},p(n,r))})));case 3:case"end":return n.stop()}}),_callee2,this)})));return function post(e,n){return t.apply(this,arguments)}}(),e.postForm=function(){var t=(0,i.default)(r.default.mark((function _callee3(t,e){return r.default.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ensureInit();case 2:return n.abrupt("return",new o.default((function(n,r){f.post(t,{body:s.default.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}},p(n,r))})));case 3:case"end":return n.stop()}}),_callee3,this)})));return function postForm(e,n){return t.apply(this,arguments)}}(),e.patch=function(){var t=(0,i.default)(r.default.mark((function _callee4(t,e){return r.default.wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ensureInit();case 2:return n.abrupt("return",new o.default((function(n,r){f.patch(t,{body:e,json:!0},p(n,r))})));case 3:case"end":return n.stop()}}),_callee4,this)})));return function patch(e,n){return t.apply(this,arguments)}}();e.configure=configure;var a=_interopRequireDefault(n(241)),s=_interopRequireDefault(n(167)),u=_interopRequireDefault(n(182)),l=n(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var c,f=(0,a.default)(),p=u.default;function ensureInit(){return c||(c=configure()),c}function configure(t,e){var n={baseUrl:l.COMMA_URL_ROOT,jwt:!1,parse:null};return t&&(n.token="JWT "+t),p=e||u.default,f.configure(n),c=o.default.resolve()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function ownerDocument(t){return t&&t.ownerDocument||document};e.default=r},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=r(n(197)),a=r(n(77));var s=function createSvgIcon(t,e){var n=function Icon(e){return i.default.createElement(a.default,e,t)};return n.displayName=e,(n=(0,o.default)(n)).muiName="SvgIcon",n};e.default=s},function(t,e){function keyCode(t){if(t&&"object"===typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"===typeof t)return o[t];var i,a=String(t);return(i=n[a.toLowerCase()])?i:(i=r[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(t,e){if(t&&"object"===typeof t){var i=t.which||t.keyCode||t.charCode;if(null===i||void 0===i)return!1;if("string"===typeof e){var o;if(o=n[e.toLowerCase()])return o===i;if(o=r[e.toLowerCase()])return o===i}else if("number"===typeof e)return e===i;return!1}};var n=(e=t.exports=keyCode).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=e.names=e.title={};for(i in n)o[n[i]]=i;for(var a in r)n[a]=r[a]},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(917))},function(t,e,n){"use strict";e.__esModule=!0;e.addLeadingSlash=function addLeadingSlash(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function stripLeadingSlash(t){return"/"===t.charAt(0)?t.substr(1):t};var r=e.hasBasename=function hasBasename(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)};e.stripBasename=function stripBasename(t,e){return r(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function stripTrailingSlash(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function parsePath(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function createPath(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){t.exports={default:n(959),__esModule:!0}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){t.exports=!n(136)((function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7}}).a}))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(750))},function(t,e,n){"use strict";function _interopDefault(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var r=_interopDefault(n(766)),i=_interopDefault(n(767)),o=_interopDefault(n(768)),a=_interopDefault(n(770)),s=_interopDefault(n(356)),u=_interopDefault(n(772)),l=_interopDefault(n(773)),c=_interopDefault(n(0));_interopDefault(n(775)),_interopDefault(n(778));var f=function(){var t=null;return function(){if(null!==t)return t;var e=!1;try{window.addEventListener("test",null,function defineProperty(t,e,n){return Object.defineProperty(t,e,n)}({},"passive",{get:function get(){e=!0}}))}catch(n){}return t=e,e}()}(),p={capture:!1,passive:!1};function mergeDefaultEventOptions(t){return l({},p,t)}function getEventListenerArgs(t,e,n){var r=[t,e];return r.push(f?n:n.capture),r}function on(t,e,n,r){t.addEventListener.apply(t,getEventListenerArgs(e,n,r))}function off(t,e,n,r){t.removeEventListener.apply(t,getEventListenerArgs(e,n,r))}function forEachListener(t,e){t.children,t.target;var n=u(t,["children","target"]);Object.keys(n).forEach((function(t){if("on"===t.substring(0,2)){var r=n[t],i=s(r),o="object"===i;if(o||"function"===i){var a="capture"===t.substr(-7).toLowerCase(),u=t.substring(2).toLowerCase();u=a?u.substring(0,u.length-7):u,o?e(u,r.handler,r.options):e(u,r,mergeDefaultEventOptions({capture:a}))}}}))}var d=function(t){function EventListener(){return r(this,EventListener),o(this,(EventListener.__proto__||Object.getPrototypeOf(EventListener)).apply(this,arguments))}return a(EventListener,t),i(EventListener,[{key:"componentDidMount",value:function componentDidMount(){this.applyListeners(on)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.applyListeners(off,t),this.applyListeners(on)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.applyListeners(off)}},{key:"applyListeners",value:function applyListeners(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=e.target;if(n){var r=n;"string"===typeof n&&(r=window[n]),forEachListener(e,t.bind(null,r))}}},{key:"render",value:function render(){return this.props.children||null}}]),EventListener}(c.PureComponent);d.propTypes={},e.withOptions=function withOptions(t,e){return{handler:t,options:mergeDefaultEventOptions(e)}},e.default=d},function(t,e){var n,r,i=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{r="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var o,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=a.length;e;){for(o=a,a=[];++u<e;)o&&o[u].run();u=-1,e=a.length}o=null,s=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new Item(t,e)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(272);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function extend(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(853))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=e.routerMiddleware=e.connectRouter=e.ConnectedRouter=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.LOCATION_CHANGE=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=_interopRequireDefault(n(590)),o=_interopRequireDefault(n(594));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=_get__("createAll")(_get__("plainStructure")),s=a.LOCATION_CHANGE,u=a.CALL_HISTORY_METHOD,l=a.push,c=a.replace,f=a.go,p=a.goBack,d=a.goForward,h=a.routerActions,g=a.ConnectedRouter,y=a.connectRouter,m=a.routerMiddleware;function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.LOCATION_CHANGE=s,e.CALL_HISTORY_METHOD=u,e.push=l,e.replace=c,e.go=f,e.goBack=p,e.goForward=d,e.routerActions=h,e.ConnectedRouter=g,e.connectRouter=y,e.routerMiddleware=m;var v=null;function _getRewireModuleId__(){if(null===v){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),v=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return v}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var _="__INTENTIONAL_UNDEFINED__",b={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"createAll":return i.default;case"plainStructure":return o.default}return}(t);var n=e[t];return n===_?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?_:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(b,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}(),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=b,e.default=b}).call(this,n(32))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(763))},function(t,e,n){(function(e){var r=n(981).default,i="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";t.exports={window:"undefined"!==typeof window?window:e,global:"undefined"!==typeof e?e:window,document:"undefined"!==typeof document?document:{},isBrowser:r,userAgent:i}}).call(this,n(32))},function(t,e,n){var r=n(101),i=n(157);t.exports=n(111)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(324),i=n(230);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(764))},function(t,e,n){"use strict";n.r(e),function(t,r){var i,o=n(432);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.default=a}.call(this,n(32),n(585)(t))},function(t,e){t.exports=function scale(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function translate(t,e,n){var r,i,o,a,s,u,l,c,f,p,d,h,g=n[0],y=n[1],m=n[2];e===t?(t[12]=e[0]*g+e[4]*y+e[8]*m+e[12],t[13]=e[1]*g+e[5]*y+e[9]*m+e[13],t[14]=e[2]*g+e[6]*y+e[10]*m+e[14],t[15]=e[3]*g+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=d,t[11]=h,t[12]=r*g+s*y+f*m+e[12],t[13]=i*g+u*y+p*m+e[13],t[14]=o*g+l*y+d*m+e[14],t[15]=a*g+c*y+h*m+e[15]);return t}},function(t,e,n){"use strict";(function(e){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(76);function toJSON(t,e){if("object"!==("undefined"===typeof t?"undefined":r(t))||!t._capnp)return t;if(Array.isArray(t))return t.map(toJSON);e=e||t.constructor;var n=t.which?t.which():-1;if(t.constructor._capnp.displayName.startsWith("List"))return t.toArray().map((function(t){return toJSON(t)}));var i={},o=Object.getPrototypeOf(t);return Object.getOwnPropertyNames(o).forEach((function(r){if(r.startsWith("get")){for(var o=r.substr(3),a="",s=!1,u=0,l=o.length;u<l;++u)o[u].toLowerCase()!==o[u]?(s&&(a+="_"),s=!1):s=!0,a+=o[u].toUpperCase();n===e[a]?(assignGetter(i,o,t,r),o,a):void 0===e[a]&&assignGetter(i,o,t,r)}})),i}function assignGetter(t,n,r,o){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function get(){var a=r[o]();switch(a.constructor.name){case"Uint64":case"Int64":a=a.toString();break;case"Data":a=e.from(a.toUint8Array()).toString("base64");break;case"Pointer":try{a=i.Text.fromPointer(a).get()}catch(s){a=void 0}break;default:a=toJSON(a)}return Object.defineProperty(t,n,{configurable:!1,writable:!1,value:a}),a}})}t.exports=toJSON}).call(this,n(377).Buffer)},,function(t,e){t.exports=function multiply(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],g=e[12],y=e[13],m=e[14],v=e[15],_=n[0],b=n[1],S=n[2],E=n[3];return t[0]=_*r+b*s+S*f+E*g,t[1]=_*i+b*u+S*p+E*y,t[2]=_*o+b*l+S*d+E*m,t[3]=_*a+b*c+S*h+E*v,_=n[4],b=n[5],S=n[6],E=n[7],t[4]=_*r+b*s+S*f+E*g,t[5]=_*i+b*u+S*p+E*y,t[6]=_*o+b*l+S*d+E*m,t[7]=_*a+b*c+S*h+E*v,_=n[8],b=n[9],S=n[10],E=n[11],t[8]=_*r+b*s+S*f+E*g,t[9]=_*i+b*u+S*p+E*y,t[10]=_*o+b*l+S*d+E*m,t[11]=_*a+b*c+S*h+E*v,_=n[12],b=n[13],S=n[14],E=n[15],t[12]=_*r+b*s+S*f+E*g,t[13]=_*i+b*u+S*p+E*y,t[14]=_*o+b*l+S*d+E*m,t[15]=_*a+b*c+S*h+E*v,t}},function(t,e){t.exports=function transformMat4(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}},function(t,e,n){"undefined"!==typeof window&&function webpackUniversalModuleDefinition(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":function node_modulesEventemitter3IndexJs(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function Events(){}function EE(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function addListener(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new EE(n,r||t,o),s=i?i+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function clearEvent(t,e){0===--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(i=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},EventEmitter.prototype.listeners=function listeners(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},EventEmitter.prototype.listenerCount=function listenerCount(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},EventEmitter.prototype.emit=function emit(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},EventEmitter.prototype.on=function on(t,e,n){return addListener(this,t,e,n,!1)},EventEmitter.prototype.once=function once(t,e,n){return addListener(this,t,e,n,!0)},EventEmitter.prototype.removeListener=function removeListener(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return clearEvent(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||clearEvent(this,o);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e;return t?(e=i?i+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=i,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},"./node_modules/node-libs-browser/node_modules/events/events.js":function node_modulesNodeLibsBrowserNode_modulesEventsEventsJs(t,e){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(t){return"function"===typeof t}function isObject(t){return"object"===typeof t&&null!==t}function isUndefined(t){return void 0===t}t.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(t){if(!function isNumber(t){return"number"===typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},EventEmitter.prototype.emit=function(t){var e,n,r,i,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(isUndefined(n=this._events[t]))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(t,e){var n;if(!isFunction(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,isFunction(e.listener)?e.listener:e),this._events[t]?isObject(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,isObject(this._events[t])&&!this._events[t].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(t,e){if(!isFunction(e))throw TypeError("listener must be a function");var n=!1;function g(){this.removeListener(t,g),n||(n=!0,e.apply(this,arguments))}return g.listener=e,this.on(t,g),this},EventEmitter.prototype.removeListener=function(t,e){var n,r,i,o;if(!isFunction(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||isFunction(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},EventEmitter.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},EventEmitter.prototype.listeners=function(t){return this._events&&this._events[t]?isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[]},EventEmitter.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(isFunction(e))return 1;if(e)return e.length}return 0},EventEmitter.listenerCount=function(t,e){return t.listenerCount(e)}},"./node_modules/url-toolkit/src/url-toolkit.js":function node_modulesUrlToolkitSrcUrlToolkitJs(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function buildAbsoluteURL(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(f)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function parseURL(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function normalizePath(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function buildURLFromParts(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},"./node_modules/webworkify-webpack/index.js":function node_modulesWebworkifyWebpackIndexJs(t,e,n){function webpackBootstrapFunc(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__.oe=function(t){throw console.error(t),t};var n=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return n.default||n}var r="[\\.|\\-|\\+|\\w|/|@]+",i="\\((/\\*.*?\\*/)?s?.*?("+r+").*?\\)";function quoteRegExp(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function getModuleDependencies(t,e,o){var a={};a[o]=[];var s=e.toString(),u=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;for(var l,c=u[1],f=new RegExp("(\\\\n|\\W)"+quoteRegExp(c)+i,"g");l=f.exec(s);)"dll-reference"!==l[3]&&a[o].push(l[3]);for(f=new RegExp("\\("+quoteRegExp(c)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+i,"g");l=f.exec(s);)t[l[2]]||(a[o].push(l[1]),t[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var p,d=Object.keys(a),h=0;h<d.length;h++)for(var g=0;g<a[d[h]].length;g++)p=a[d[h]][g],isNaN(1*p)||(a[d[h]][g]=1*a[d[h]][g]);return a}function hasValuesInQueues(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var r={main:n.m},i=e.all?{main:Object.keys(r.main)}:function getRequiredModules(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};hasValuesInQueues(n);)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],u=n[s].pop();if(i[s]=i[s]||{},!i[s][u]&&t[s][u]){i[s][u]=!0,r[s]=r[s]||[],r[s].push(u);for(var l=getModuleDependencies(t,t[s][u],s),c=Object.keys(l),f=0;f<c.length;f++)n[c[f]]=n[c[f]]||[],n[c[f]]=n[c[f]].concat(l[c[f]])}}return r}(r,t),o="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;i[t][e];)e++;i[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+t+" = ("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i[t].map((function(e){return JSON.stringify(e)+": "+r[t][e].toString()})).join(",")+"});\n"})),o=o+"new (("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+r.main[t].toString()})).join(",")+"}))(self);";var a=new window.Blob([o],{type:"text/javascript"});if(e.bare)return a;var s=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(a),u=new window.Worker(s);return u.objectURL=s,u}},"./src/config.js":function srcConfigJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/controller/abr-controller.js"),i=n("./src/controller/buffer-controller.js"),o=n("./src/controller/cap-level-controller.js"),a=n("./src/controller/fps-controller.js"),s=n("./src/utils/xhr-loader.js"),u=n("./src/controller/audio-track-controller.js"),l=n("./src/controller/audio-stream-controller.js"),c=n("./src/utils/cues.js"),f=n("./src/controller/timeline-controller.js"),p=n("./src/controller/subtitle-track-controller.js"),d=n("./src/controller/subtitle-stream-controller.js"),h=n("./src/controller/eme-controller.js"),g=n("./src/utils/mediakeys-helper.js");e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:i.default,capLevelController:o.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,disablePtsDtsCorrectionInMp4Remux:!1},e.hlsDefaultConfig.subtitleStreamController=d.SubtitleStreamController,e.hlsDefaultConfig.subtitleTrackController=p.default,e.hlsDefaultConfig.timelineController=f.default,e.hlsDefaultConfig.cueHandler=c,e.hlsDefaultConfig.enableCEA708Captions=!0,e.hlsDefaultConfig.enableWebVTT=!0,e.hlsDefaultConfig.captionsTextTrack1Label="English",e.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",e.hlsDefaultConfig.captionsTextTrack2Label="Spanish",e.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",e.hlsDefaultConfig.audioStreamController=l.default,e.hlsDefaultConfig.audioTrackController=u.default,e.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":function srcControllerAbrControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/buffer-helper.js"),s=n("./src/errors.js"),u=n("./src/utils/logger.js"),l=n("./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,f=function(e){function AbrController(t){var n=e.call(this,t,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return r(AbrController,e),AbrController.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},AbrController.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,i=e.level,o=void 0,a=void 0;n.levels[i].details.live?(o=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(o=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new l.default(n,a,o,r.abrEwmaDefaultEstimate)}},AbrController.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var r=n.loader,o=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=r.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=c.now()-s.trequest,f=Math.abs(e.playbackRate);if(l>500*n.duration/f){var p=t.levels,d=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),h=p[n.level],g=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,y=s.total?s.total:Math.max(s.loaded,Math.round(n.duration*g/8)),m=e.currentTime,v=(y-s.loaded)/d,_=(a.BufferHelper.bufferInfo(e,m,t.config.maxBufferHole).end-m)/f;if(_<2*n.duration/f&&v>_){var b=void 0,S=void 0;for(S=n.level-1;S>o;S--){var E=p[S].realBitrate?Math.max(p[S].realBitrate,p[S].bitrate):p[S].bitrate;if((b=n.duration*E/(6.4*d))<_)break}b<v&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+S+":fragLoadedDelay["+S+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+v.toFixed(1)+":"+_.toFixed(1)),t.nextLoadLevel=S,this._bwEstimator.sample(l,s.loaded),r.abort(),this.clearTimer(),t.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:s}))}}}}},AbrController.prototype.onFragLoaded=function(e){var n=e.frag;if("main"===n.type&&t.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[n.level],i=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,o=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:i,duration:o},r.realBitrate=Math.round(8*i/o)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},AbrController.prototype.onFragBuffered=function(e){var n=e.stats,r=e.frag;if(!0!==n.aborted&&"main"===r.type&&t.isFinite(r.sn)&&(!r.bitrateTest||n.tload===n.tbuffered)){var i=n.tparsed-n.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(i,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},AbrController.prototype.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},AbrController.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(AbrController.prototype,"nextAutoLevel",{get:function get(){var t=this._nextAutoLevel,e=this._bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function set(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(AbrController.prototype,"_nextABRAutoLevel",{get:function get(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,i=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=o?o.currentTime:0,f=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,p=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,d=(a.BufferHelper.bufferInfo(o,c,r.maxBufferHole).end-c)/f,h=this._findBestLevel(s,l,p,i,e,d,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(h>=0)return h;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,y=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0===d){var v=this.bitrateTestDelay;if(v)g=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-v,u.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),y=m=1}return h=this._findBestLevel(s,l,p,i,e,d+g,y,m,n),Math.max(h,0)},enumerable:!0,configurable:!0}),AbrController.prototype._findBestLevel=function(t,e,n,r,i,o,a,s,l){for(var c=i;c>=r;c--){var f=l[c];if(f){var p=f.details,d=p?p.totalduration/p.fragments.length:e,h=!!p&&p.live,g=void 0;g=c<=t?a*n:s*n;var y=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,m=y*d/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+y+"/"+d+"/"+o+"/"+m),g>y&&(!m||h&&!this.bitrateTestDelay||m<o))return c}}return-1},AbrController}(o.default);e.default=f}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":function srcControllerAudioStreamControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js"),o=n("./src/utils/buffer-helper.js"),a=n("./src/demux/demuxer.js"),s=n("./src/events.js"),u=n("./src/controller/level-helper.js"),l=n("./src/utils/time-ranges.js"),c=n("./src/errors.js"),f=n("./src/utils/logger.js"),p=n("./src/utils/discontinuities.js"),d=n("./src/controller/fragment-tracker.js"),h=n("./src/loader/fragment.js"),g=n("./src/controller/base-stream-controller.js"),y=window.performance,m=function(e){function AudioStreamController(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=g.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return r(AudioStreamController,e),AudioStreamController.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[n]=r,this.videoTrackCC=n,f.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===g.State.WAITING_INIT_PTS&&this.tick())},AudioStreamController.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(f.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=g.State.STOPPED},Object.defineProperty(AudioStreamController.prototype,"state",{get:function get(){return this._state},set:function set(t){if(this.state!==t){var e=this.state;this._state=t,f.logger.log("audio stream:"+e+"->"+t)}},enumerable:!0,configurable:!0}),AudioStreamController.prototype.doTick=function(){var e,n,r,a=this.hls,u=a.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!u.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,h=this.videoBuffer?this.videoBuffer:this.media,m=o.BufferHelper.bufferInfo(c,e,u.maxBufferHole),v=o.BufferHelper.bufferInfo(h,e,u.maxBufferHole),_=m.len,b=m.end,S=this.fragPrevious,E=Math.min(u.maxBufferLength,u.maxMaxBufferLength),x=Math.max(E,v.len),w=this.audioSwitch,T=this.trackId;if((_<x||w)&&T<l.length){if("undefined"===typeof(r=l[T].details)){this.state=g.State.WAITING_TRACK;break}if(!w&&this._streamEnded(m,r))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var P=r.fragments,k=P.length,C=P[0].start,D=P[k-1].start+P[k-1].duration,A=void 0;if(w)if(r.live&&!r.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),b=0;else if(b=e,r.PTSKnown&&e<C){if(!(m.end>C||m.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=C+.05}if(r.initSegment&&!r.initSegment.data)A=r.initSegment;else if(b<=C){if(A=P[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=p.findFragWithCC(P,this.videoTrackCC)),r.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var R=m.nextStart?m.nextStart:C;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(R+.05)),void(this.media.currentTime=R+.05)}}else{var M=void 0,L=u.maxFragLookUpTolerance,I=S?P[S.sn-P[0].sn+1]:void 0,O=function fragmentWithinToleranceTest(t){var e=Math.min(L,t.duration);return t.start+t.duration-e<=b?1:t.start-e>b&&t.start?-1:0};b<D?(b>D-L&&(L=0),M=I&&!O(I)?I:i.default.search(P,O)):M=P[k-1],M&&(A=M,C=M.start,S&&A.level===S.level&&A.sn===S.sn&&(A.sn<r.endSN?(A=P[A.sn+1-r.startSN],f.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(f.logger.log("Loading key for "+A.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+T),this.state=g.State.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:A})):(f.logger.log("Loading "+A.sn+", cc: "+A.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+T+", currentTime:"+e+",bufferEnd:"+b.toFixed(3)),this.fragCurrent=A,(w||this.fragmentTracker.getState(A)===d.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,t.isFinite(A.sn)&&(this.nextLoadPosition=A.start+A.duration),a.trigger(s.default.FRAG_LOADING,{frag:A}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(n=this.tracks[this.trackId])&&n.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var F=y.now(),N=this.retryDate,B=(c=this.media)&&c.seeking;(!N||F>=N||B)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var z=this.waitingFragment;if(z){var j=z.frag.cc;U!==j?(n=this.tracks[this.trackId]).details&&n.details.live&&(f.logger.warn("Waiting fragment CC ("+j+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},AudioStreamController.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},AudioStreamController.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},AudioStreamController.prototype.onAudioTracksUpdated=function(t){f.logger.log("audio tracks updated"),this.tracks=t.audioTracks},AudioStreamController.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},AudioStreamController.prototype.onAudioTrackLoaded=function(e){var n=e.details,r=e.id,i=this.tracks[r],o=n.totalduration,a=0;if(f.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+o),n.live){var s=i.details;s&&n.fragments.length>0?(u.mergeDetails(s,n),a=n.fragments[0].start,n.PTSKnown?f.logger.log("live audio playlist sliding:"+a.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else n.PTSKnown=!1;if(i.details=n,!this.startFragRequested){if(-1===this.startPosition){var l=n.startTimeOffset;t.isFinite(l)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},AudioStreamController.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},AudioStreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===g.State.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,u=e.level,l=e.sn,c=e.cc,p=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===l)this.state=g.State.IDLE,d.tparsed=d.tbuffered=y.now(),i.initSegment.data=t.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new a.default(this.hls,"audio"));var h=this.initPTS[c],m=i.initSegment?i.initSegment.data:[];if(i.initSegment||void 0!==h){this.pendingBuffering=!0,f.logger.log("Demuxing "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u);this.demuxer.push(t.payload,m,p,null,e,o,!1,h)}else f.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.waitingFragment=t,this.state=g.State.WAITING_INIT_PTS}}this.fragLoadError=0},AudioStreamController.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING){var r=t.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(s.default.BUFFER_CODECS,r),f.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,a))}this.tick()}}},AudioStreamController.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&i.sn===r.sn&&i.level===r.level&&this.state===g.State.PARSING){var o=this.trackId,a=this.tracks[o],l=this.hls;t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),r.addElementaryStream(h.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),u.updateFragPTSDTS(a.details,r,e.startPTS,e.endPTS);var p=this.audioSwitch,d=this.media,y=!1;if(p&&d)if(d.readyState){var m=d.currentTime;f.logger.log("switching audio track : currentTime:"+m),m>=e.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,l.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),y=!0,this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o});var v=this.pendingData;if(!v)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void l.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&v.push({type:e.type,data:t,parent:"audio",content:"data"})})),!y&&v.length&&(v.forEach((function(t){n.state===g.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(s.default.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},AudioStreamController.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING&&(this.stats.tparsed=y.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},AudioStreamController.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},AudioStreamController.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},AudioStreamController.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==g.State.PARSING&&e!==g.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},AudioStreamController.prototype._checkAppendedParsed=function(){if(this.state===g.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=y.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+l.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},AudioStreamController.prototype.onError=function(e){var n=e.frag;if(!n||"audio"===n.type)switch(e.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=e.frag;if(r&&"audio"!==r.type)break;if(!e.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=(u=this.config).fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*u.fragLoadingRetryDelay,u.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=y.now()+a,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=e.fatal?g.State.ERROR:g.State.IDLE,f.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var u,l=this.mediaBuffer,p=this.media.currentTime;if(l&&o.BufferHelper.isBuffered(l,p)&&o.BufferHelper.isBuffered(l,p+.5))(u=this.config).maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=g.State.IDLE;else f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"})}}},AudioStreamController.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(s.default.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},AudioStreamController}(g.default);e.default=m}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":function srcControllerAudioTrackControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/task-loop.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=function(t){function AudioTrackController(e){var n=t.call(this,e,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return r(AudioTrackController,t),AudioTrackController.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},AudioTrackController.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:e})},AudioTrackController.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)a.logger.warn("Invalid audio track id:",t.id);else{if(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},AudioTrackController.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},AudioTrackController.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},AudioTrackController.prototype.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(a.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},Object.defineProperty(AudioTrackController.prototype,"audioTracks",{get:function get(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(AudioTrackController.prototype,"audioTrack",{get:function get(){return this._trackId},set:function set(t){this._setAudioTrack(t),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),AudioTrackController.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)a.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)a.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];a.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,r=e.type,o=e.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(e)}},AudioTrackController.prototype.doTick=function(){this._updateTrack(this._trackId)},AudioTrackController.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=e.filter((function(t){return t.default}));o.length?e=o:a.logger.warn("No default audio tracks defined")}var u=!1,l=function traverseTracks(){e.forEach((function(e){u||t.audioGroupId&&e.groupId!==t.audioGroupId||r&&r!==e.name||(t._setAudioTrack(e.id),u=!0)}))};l(),u||(r=null,l()),u||(a.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},AudioTrackController.prototype._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live)&&!!n},AudioTrackController.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;a.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},AudioTrackController.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,a.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},AudioTrackController.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,r=e.language,i=e.groupId;a.logger.warn("Loading failed on audio track id: "+t+", group-id: "+i+', name/language: "'+n+'" / "'+r+'"');for(var o=t,s=0;s<this.tracks.length;s++){if(!this.trackIdBlacklist[s])if(this.tracks[s].name===n){o=s;break}}o!==t?(a.logger.log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),this._setAudioTrack(o)):a.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},AudioTrackController}(o.default);e.default=u},"./src/controller/base-stream-controller.js":function srcControllerBaseStreamControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/task-loop.js"),o=n("./src/controller/fragment-tracker.js"),a=n("./src/utils/buffer-helper.js"),s=n("./src/utils/logger.js");e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(n){function BaseStreamController(){return null!==n&&n.apply(this,arguments)||this}return r(BaseStreamController,n),BaseStreamController.prototype.doTick=function(){},BaseStreamController.prototype.startLoad=function(){},BaseStreamController.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=e.State.STOPPED},BaseStreamController.prototype._streamEnded=function(t,e){var n=this.fragCurrent,r=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var i=r.getState(n);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},BaseStreamController.prototype.onMediaSeeking=function(){var n=this.config,r=this.media,i=this.mediaBuffer,o=this.state,u=r?r.currentTime:null,l=a.BufferHelper.bufferInfo(i||r,u,this.config.maxBufferHole);if(t.isFinite(u)&&s.logger.log("media seeking to "+u.toFixed(3)),o===e.State.FRAG_LOADING){var c=this.fragCurrent;if(0===l.len&&c){var f=n.maxFragLookUpTolerance,p=c.start-f,d=c.start+c.duration+f;u<p||u>d?(c.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else o===e.State.ENDED&&(0===l.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);r&&(this.lastCurrentTime=u),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=u),this.tick()},BaseStreamController.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},BaseStreamController.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},BaseStreamController.prototype.onHandlerDestroyed=function(){this.state=e.State.STOPPED,this.fragmentTracker=null},BaseStreamController}(i.default);e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function srcControllerBufferControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=n("./src/utils/mediasource-helper.js").getMediaSource(),l=function(e){function BufferController(t){var n=e.call(this,t,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return r(BufferController,e),BufferController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},BufferController.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-t.start)>.1){var i=r.updating;try{r.abort()}catch(o){a.logger.warn("can not abort audio buffer: "+o)}i?this.audioTimestampOffset=t.start:(a.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},BufferController.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},BufferController.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},BufferController.prototype.onMediaDetaching=function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){a.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):a.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},BufferController.prototype.onMediaSourceOpen=function(){a.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},BufferController.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},BufferController.prototype.onMediaSourceClose=function(){a.logger.log("media source closed")},BufferController.prototype.onMediaSourceEnded=function(){a.logger.log("media source ended")},BufferController.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;a.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),r={},o=this.sourceBuffer;for(var s in o)r[s]=o[s].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},BufferController.prototype.onSBUpdateError=function(t){a.logger.error("sourceBuffer error:",t),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},BufferController.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach((function(n){e.pendingTracks[n]=t[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},BufferController.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var o=t[r],u=o.levelCodec||o.codec,l=o.container+";codecs="+u;a.logger.log("creating sourceBuffer("+l+")");try{var c=e[r]=n.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:o.container},o.buffer=c}catch(f){a.logger.error("error while trying to add sourceBuffer:"+f.message),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:f,mimeType:l})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:t})},BufferController.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},BufferController.prototype.onBufferAppendFail=function(t){a.logger.error("sourceBuffer error:",t.event),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var r in e)n&&r!==n||e[r].ended||(e[r].ended=!0,a.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},BufferController.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}a.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(i){a.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},BufferController.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},BufferController.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),i=e-Math.max(t,this._levelTargetDuration),o=r.length-1;o>=0;o--){var a=r[o],s=n[a].buffered;s.length>0&&i>s.start(0)&&this.removeBufferRange(a,n[a],0,i)}}},BufferController.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},BufferController.prototype.updateMediaElementDuration=function(){var e,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(a.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(a.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},BufferController.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(o){a.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(i.default.BUFFER_FLUSHED)}},BufferController.prototype.doAppending=function(){var t=this.hls,e=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(this.media.error)return this.segments=[],void a.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(e&&e.length){var r=e.shift();try{var o=n[r.type];o?o.updating?e.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(l){a.logger.error("error while trying to append buffer:"+l.message),e.unshift(r);var u={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==l.code?(this.appendError?this.appendError++:this.appendError=1,u.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(a.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],u.fatal=!0,t.trigger(i.default.ERROR,u)):(u.fatal=!1,t.trigger(i.default.ERROR,u))):(this.segments=[],u.details=s.ErrorDetails.BUFFER_FULL_ERROR,u.fatal=!1,t.trigger(i.default.ERROR,u))}}}},BufferController.prototype.flushBuffer=function(t,e,n){var r,i=this.sourceBuffer;if(Object.keys(i).length){if(a.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var o in i)if(!n||o===n){if((r=i[o]).ended=!1,r.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(o,r,t,e))return this.flushBufferCounter++,!1}}else a.logger.warn("abort flushing too many retries");a.logger.log("buffer flushed")}return!0},BufferController.prototype.removeBufferRange=function(t,e,n,r){try{for(var i=0;i<e.buffered.length;i++){var o=e.buffered.start(i),s=e.buffered.end(i),u=Math.max(o,n),l=Math.min(s,r);if(Math.min(l,s)-u>.5)return a.logger.log("sb remove "+t+" ["+u+","+l+"], of ["+o+","+s+"], pos:"+this.media.currentTime),e.remove(u,l),!0}}catch(c){a.logger.warn("removeBufferRange failed",c)}return!1},BufferController}(o.default);e.default=l}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function srcControllerCapLevelControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=function(e){function CapLevelController(n){var r=e.call(this,n,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=t.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return r(CapLevelController,e),CapLevelController.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},CapLevelController.prototype.onFpsDropLevelCapping=function(t){CapLevelController.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},CapLevelController.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},CapLevelController.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},CapLevelController.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},CapLevelController.prototype.onLevelsUpdated=function(t){this.levels=t.levels},CapLevelController.prototype.onMediaDetaching=function(){this._stopCapping()},CapLevelController.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},CapLevelController.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var n=this.levels.filter((function(n,r){return CapLevelController.isLevelAllowed(r,e.restrictedLevels)&&r<=t}));return CapLevelController.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},CapLevelController.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},CapLevelController.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(CapLevelController.prototype,"mediaWidth",{get:function get(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=CapLevelController.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController.prototype,"mediaHeight",{get:function get(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=CapLevelController.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController,"contentScaleFactor",{get:function get(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t},enumerable:!0,configurable:!0}),CapLevelController.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},CapLevelController.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var r=function atGreatestBandiwdth(t,e){return!e||(t.width!==e.width||t.height!==e.height)},i=t.length-1,o=0;o<t.length;o+=1){var a=t[o];if((a.width>=e||a.height>=n)&&r(a,t[o+1])){i=o;break}}return i},CapLevelController}(n("./src/event-handler.js").default);e.default=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":function srcControllerEmeControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/event-handler.js"),o=n("./src/events.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=window.XMLHttpRequest,l="com.widevine.alpha",c="com.microsoft.playready",f=function(t){function EMEController(e){var n=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return n._widevineLicenseUrl=e.config.widevineLicenseUrl,n._licenseXhrSetup=e.config.licenseXhrSetup,n._emeEnabled=e.config.emeEnabled,n._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return r(EMEController,t),EMEController.prototype.getLicenseServerUrl=function(t){var e;switch(t){case l:e=this._widevineLicenseUrl;break;default:e=null}return e||(s.logger.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},EMEController.prototype._attemptKeySystemAccess=function(t,e,n){var r=this,i=function getSupportedMediaKeySystemConfigurations(t,e,n){switch(t){case l:return function createWidevineMediaKeySystemConfigurations(t,e,n){var r={videoCapabilities:[]};return e.forEach((function(t){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+t)}}(t,0,n);i?(s.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,i).then((function(e){r._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){s.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))):s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(EMEController.prototype,"requestMediaKeySystemAccess",{get:function get(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),EMEController.prototype._onMediaKeySystemAccessObtained=function(t,e){var n=this;s.logger.log('Access for key-system "'+t+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(r),e.createMediaKeys().then((function(e){r.mediaKeys=e,s.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()})).catch((function(t){s.logger.error("Failed to create media-keys:",t)}))},EMEController.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},EMEController.prototype._onNewMediaKeySession=function(t){var e=this;s.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},EMEController.prototype._onKeySessionMessage=function(t,e){s.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){s.logger.log("Received license data, updating key-session"),t.update(e)}))},EMEController.prototype._onMediaEncrypted=function(t,e){s.logger.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},EMEController.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},EMEController.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var n=e.mediaKeysSession;n||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;s.logger.log('Generating key-session request for "'+r+'" init data type'),e.mediaKeysSessionInitialized=!0,n.generateRequest(r,i).then((function(){s.logger.debug("Key-session generation succeeded")})).catch((function(e){s.logger.error("Error generating key-session request:",e),t.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},EMEController.prototype._createLicenseXhr=function(t,e,n){var r=new u,i=this._licenseXhrSetup;try{if(i)try{i(r,t)}catch(l){r.open("POST",t,!0),i(r,t)}r.readyState||r.open("POST",t,!0)}catch(l){return s.logger.error("Error setting up key-system license XHR",l),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},EMEController.prototype._onLicenseRequestReadyStageChange=function(t,e,n,r){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),r(t.response);else{if(s.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},EMEController.prototype._generateLicenseRequestChallenge=function(t,e){var n;return t.mediaKeySystemDomain===c?s.logger.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===l?n=e:s.logger.error("Unsupported key-system:",t.mediaKeySystemDomain),n},EMEController.prototype._requestLicense=function(t,e){s.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,t,e);s.logger.log("Sending license request to URL: "+r),i.send(this._generateLicenseRequestChallenge(n,t))},EMEController.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},EMEController.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),n=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(l,e,n)}},EMEController}(i.default);e.default=f},"./src/controller/fps-controller.js":function srcControllerFpsControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=window.performance,u=function(t){function FPSController(e){return t.call(this,e,i.default.MEDIA_ATTACHING)||this}return r(FPSController,t),FPSController.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},FPSController.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"===typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},FPSController.prototype.checkFPS=function(t,e,n){var r=s.now();if(e){if(this.lastTime){var o=r-this.lastTime,u=n-this.lastDroppedFrames,l=e-this.lastDecodedFrames,c=1e3*u/o,f=this.hls;if(f.trigger(i.default.FPS_DROP,{currentDropped:u,currentDecoded:l,totalDroppedFrames:n}),c>0&&u>f.config.fpsDroppedMonitoringThreshold*l){var p=f.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+p),p>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=p)&&(p-=1,f.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:p,droppedLevel:f.currentLevel}),f.autoLevelCapping=p,f.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},FPSController.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},FPSController}(o.default);e.default=u},"./src/controller/fragment-finders.js":function srcControllerFragmentFindersJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/binary-search.js");function fragmentWithinToleranceTest(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function pdtWithinToleranceTest(t,e,n){var r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>t}e.findFragmentByPDT=function findFragmentByPDT(e,n,r){if(!Array.isArray(e)||!e.length||!t.isFinite(n))return null;if(n<e[0].programDateTime)return null;if(n>=e[e.length-1].endProgramDateTime)return null;r=r||0;for(var i=0;i<e.length;++i){var o=e[i];if(pdtWithinToleranceTest(n,r,o))return o}return null},e.findFragmentByPTS=function findFragmentByPTS(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=t?e[t.sn-e[0].sn+1]:null;return o&&!fragmentWithinToleranceTest(n,i,o)?o:r.default.search(e,fragmentWithinToleranceTest.bind(null,n,i))},e.fragmentWithinToleranceTest=fragmentWithinToleranceTest,e.pdtWithinToleranceTest=pdtWithinToleranceTest}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function srcControllerFragmentTrackerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/event-handler.js"),o=n("./src/events.js");e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var a=function(n){function FragmentTracker(t){var e=n.call(this,t,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return r(FragmentTracker,n),FragmentTracker.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},FragmentTracker.prototype.getBufferedFrag=function(t,e){var n=this.fragments,r=Object.keys(n).filter((function(r){var i=n[r];if(i.body.type!==e)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===r.length)return null;var i=r.pop();return n[i].body},FragmentTracker.prototype.detectEvictedFragments=function(t,e){var n,r,i=this;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){n=s.time;for(var u=0;u<n.length;u++)if(r=n[u],!1===i.isTimeBuffered(r.startPTS,r.endPTS,e)){i.removeFragment(a.body);break}}}}))},FragmentTracker.prototype.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(t.hasElementaryStream(n)){var i=e.timeRanges[n];r.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,i)}})))},FragmentTracker.prototype.getBufferedTimes=function(t,e,n){for(var r,i,o=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,i=n.end(s)+this.bufferPadding,t>=r&&e<=i){o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<i&&e>r)o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=r)break}return{time:o,partial:a}},FragmentTracker.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},FragmentTracker.prototype.getPartialFragment=function(t){var e,n,r,i=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=i.fragments[s];i.isPartial(u)&&(n=u.body.startPTS-i.bufferPadding,r=u.body.endPTS+i.bufferPadding,t>=n&&t<=r&&(e=Math.min(t-n,r-t),a<=e&&(o=u.body,a=e)))})),o},FragmentTracker.prototype.getState=function(t){var n=this.getFragmentKey(t),r=this.fragments[n],i=e.FragmentState.NOT_LOADED;return void 0!==r&&(i=r.buffered?!0===this.isPartial(r)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),i},FragmentTracker.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},FragmentTracker.prototype.isTimeBuffered=function(t,e,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1},FragmentTracker.prototype.onFragLoaded=function(e){var n=e.frag;t.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},FragmentTracker.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},FragmentTracker.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},FragmentTracker.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},FragmentTracker.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},FragmentTracker.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},FragmentTracker}(i.default);e.FragmentTracker=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function srcControllerGapControllerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/buffer-helper.js"),i=n("./src/errors.js"),o=n("./src/events.js"),a=n("./src/utils/logger.js"),s=function(){function GapController(t,e,n,r){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return GapController.prototype.poll=function(t,e){var n=this.config,i=this.media,o=i.currentTime,s=window.performance.now();if(o!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2)&&(!i.seeking||!r.BufferHelper.isBuffered(i,o))){var u=s-this.stalled,l=r.BufferHelper.bufferInfo(i,o,n.maxBufferHole);this.stalled?(u>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,u)):this.stalled=s}},GapController.prototype._tryFixBufferStall=function(t,e){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,o=r.getPartialFragment(i);o&&this._trySkipBufferHole(o),t.len>.5&&e>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},GapController.prototype._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},GapController.prototype._trySkipBufferHole=function(t){for(var e=this.hls,n=this.media,r=n.currentTime,s=0,u=0;u<n.buffered.length;u++){var l=n.buffered.start(u);if(r>=s&&r<l)return n.currentTime=Math.max(l,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:t});s=n.buffered.end(u)}},GapController.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<t.nudgeMaxRetry){var u=r+s*t.nudgeOffset;a.logger.log("adjust currentTime from "+r+" to "+u),n.currentTime=u,e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+r+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},GapController}();e.default=s},"./src/controller/id3-track-controller.js":function srcControllerId3TrackControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/demux/id3.js"),s=n("./src/utils/texttrack-utils.js"),u=function(t){function ID3TrackController(e){var n=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return r(ID3TrackController,t),ID3TrackController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},ID3TrackController.prototype.onMediaAttached=function(t){this.media=t.media,this.media},ID3TrackController.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},ID3TrackController.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return s.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},ID3TrackController.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=a.default.getID3Frames(n[i].data);if(o){var s=n[i].pts,u=i<n.length-1?n[i+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<o.length;l++){var c=o[l];if(!a.default.isTimeStampFrame(c)){var f=new r(s,u,"");f.value=c,this.id3Track.addCue(f)}}}}},ID3TrackController}(o.default);e.default=u},"./src/controller/level-controller.js":function srcControllerLevelControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/utils/logger.js"),u=n("./src/errors.js"),l=n("./src/utils/codecs.js"),c=n("./src/controller/level-helper.js"),f=(window.performance,function(t){function LevelController(e){var n=t.call(this,e,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return r(LevelController,t),LevelController.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},LevelController.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},LevelController.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},LevelController.prototype.stopLoad=function(){this.canload=!1},LevelController.prototype.onManifestLoaded=function(t){var e,n=[],r=[],a={},f=null,p=!1,d=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,p=p||!!t.videoCodec,d=d||!!t.audioCodec,i&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(f=a[t.bitrate])?f.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&(d=!0,c.addGroupId(f||t,"audio",e.AUDIO)),e.SUBTITLES&&c.addGroupId(f||t,"text",e.SUBTITLES))})),p&&d&&(n=n.filter((function(t){return!!t.videoCodec}))),n=n.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||l.isCodecSupportedInMp4(e,"audio"))&&(!n||l.isCodecSupportedInMp4(n,"video"))})),t.audioTracks&&(r=t.audioTracks.filter((function(t){return!t.audioCodec||l.isCodecSupportedInMp4(t.audioCodec,"audio")}))).forEach((function(t,e){t.id=e})),n.length>0){e=n[0].bitrate,n.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=n;for(var h=0;h<n.length;h++)if(n[h].bitrate===e){this._firstLevel=h,s.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:t.stats,audio:d,video:p,altAudio:r.some((function(t){return!!t.url}))})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(LevelController.prototype,"levels",{get:function get(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"level",{get:function get(){return this.currentLevelIndex},set:function set(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),LevelController.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){s.logger.log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,n.trigger(o.default.LEVEL_SWITCHING,r)}var i=e[t],a=i.details;if(!a||a.live){var l=i.urlId;n.trigger(o.default.LEVEL_LOADING,{url:i.url[l],level:t,id:l})}}else n.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(LevelController.prototype,"manualLevel",{get:function get(){return this.manualLevelIndex},set:function set(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"firstLevel",{get:function get(){return this._firstLevel},set:function set(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"startLevel",{get:function get(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function set(t){this._startLevel=t},enumerable:!0,configurable:!0}),LevelController.prototype.onError=function(t){if(t.fatal)t.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,r=!1;switch(t.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,r=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,r)}},LevelController.prototype.recoverLevel=function(t,e,n,r){var i,o,a,u=this,l=this.hls.config,c=t.details,f=this._levels[e];if(f.loadError++,f.fragmentError=r,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return u.loadLevel()}),o),t.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((i=f.url.length)>1&&f.loadError<i?(f.urlId=(f.urlId+1)%i,f.details=void 0,s.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,s.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(s.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},LevelController.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},LevelController.prototype.onLevelLoaded=function(t){var e=this,n=t.level,r=t.details;if(n===this.currentLevelIndex){var i=this._levels[n];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),r.live){var o=c.computeReloadInterval(i.details,r,t.stats.trequest);s.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),o)}else this.clearTimer()}},LevelController.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===e){r=i;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},LevelController.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,r=t.url[n];s.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(o.default.LEVEL_LOADING,{url:r,level:e,id:n})}}},Object.defineProperty(LevelController.prototype,"nextLoadLevel",{get:function get(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function set(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),LevelController}(a.default));e.default=f},"./src/controller/level-helper.js":function srcControllerLevelHelperJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js");function updatePTS(e,n,i){var o=e[n],a=e[i],s=a.startPTS;t.isFinite(s)?i>n?(o.duration=s-o.start,o.duration<0&&r.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):(a.duration=o.start-s,a.duration<0&&r.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=i>n?o.start+o.duration:Math.max(o.start-a.duration,0)}function updateFragPTSDTS(e,n,r,i,o,a){var s=r;if(t.isFinite(n.startPTS)){var u=Math.abs(n.startPTS-r);t.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(u,n.deltaPTS):n.deltaPTS=u,s=Math.max(r,n.startPTS),r=Math.min(r,n.startPTS),i=Math.max(i,n.endPTS),o=Math.min(o,n.startDTS),a=Math.max(a,n.endDTS)}var l=r-n.start;n.start=n.startPTS=r,n.maxStartPTS=s,n.endPTS=i,n.startDTS=o,n.endDTS=a,n.duration=i-r;var c,f,p,d=n.sn;if(!e||d<e.startSN||d>e.endSN)return 0;for(c=d-e.startSN,(f=e.fragments)[c]=n,p=c;p>0;p--)updatePTS(f,p,p-1);for(p=c;p<f.length-1;p++)updatePTS(f,p,p+1);return e.PTSKnown=!0,l}function mapFragmentIntersection(t,e,n){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=r;a<=i;a++){var s=t.fragments[o+a],u=e.fragments[a];if(!s||!u)break;n(s,u,a)}}function adjustSliding(t,e){var n=e.startSN-t.startSN,r=t.fragments,i=e.fragments;if(!(n<0||n>r.length))for(var o=0;o<i.length;o++)i[o].start+=r[n].start}e.addGroupId=function addGroupId(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}},e.updatePTS=updatePTS,e.updateFragPTSDTS=updateFragPTSDTS,e.mergeDetails=function mergeDetails(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var i,o=0;if(mapFragmentIntersection(e,n,(function(e,r){o=e.cc-r.cc,t.isFinite(e.startPTS)&&(r.start=r.startPTS=e.startPTS,r.endPTS=e.endPTS,r.duration=e.duration,r.backtracked=e.backtracked,r.dropped=e.dropped,i=r),n.PTSKnown=!0})),n.PTSKnown){if(o){r.logger.log("discontinuity sliding from playlist, take drift into account");for(var a=n.fragments,s=0;s<a.length;s++)a[s].cc+=o}i?updateFragPTSDTS(n,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):adjustSliding(e,n),n.PTSKnown=e.PTSKnown}},e.mergeSubtitlePlaylists=function mergeSubtitlePlaylists(t,e,n){void 0===n&&(n=0);var r=-1;mapFragmentIntersection(t,e,(function(t,e,n){e.start=t.start,r=n}));var i=e.fragments;if(r<0)i.forEach((function(t){t.start+=n}));else for(var o=r+1;o<i.length;o++)i[o].start=i[o-1].start+i[o-1].duration},e.mapFragmentIntersection=mapFragmentIntersection,e.adjustSliding=adjustSliding,e.computeReloadInterval=function computeReloadInterval(t,e,n){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),i=r/2;return t&&e.endSN===t.endSN&&(r=i),n&&(r=Math.max(i,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function srcControllerStreamControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js"),o=n("./src/utils/buffer-helper.js"),a=n("./src/demux/demuxer.js"),s=n("./src/events.js"),u=n("./src/controller/fragment-tracker.js"),l=n("./src/loader/fragment.js"),c=n("./src/loader/playlist-loader.js"),f=n("./src/controller/level-helper.js"),p=n("./src/utils/time-ranges.js"),d=n("./src/errors.js"),h=n("./src/utils/logger.js"),g=n("./src/utils/discontinuities.js"),y=n("./src/controller/fragment-finders.js"),m=n("./src/controller/gap-controller.js"),v=n("./src/controller/base-stream-controller.js"),_=function(e){function StreamController(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=v.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return r(StreamController,e),StreamController.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(h.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=v.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=v.State.STOPPED},StreamController.prototype.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},StreamController.prototype.doTick=function(){switch(this.state){case v.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case v.State.IDLE:this._doTickIdle();break;case v.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=v.State.IDLE);break;case v.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(h.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=v.State.IDLE);break;case v.State.ERROR:case v.State.STOPPED:case v.State.FRAG_LOADING:case v.State.PARSING:case v.State.PARSED:case v.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},StreamController.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,a=this.levels[i];if(a){var u,l=a.bitrate;u=l?Math.max(8*e.maxBufferSize/l,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,e.maxBufferHole),f=c.len;if(!(f>=u)){h.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var p=a.details;if(!p||p.live&&this.levelLastLoaded!==i)this.state=v.State.WAITING_LEVEL;else{if(this._streamEnded(c,p)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(s.default.BUFFER_EOS,d),void(this.state=v.State.ENDED)}this._fetchPayloadOrEos(r,c,p)}}}}},StreamController.prototype._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0!==a){var s,u=o[0].start,l=o[a-1].start+o[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void h.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(n,c,u,l,r,o,a)))return}else c<u&&(s=o[0]);s||(s=this._findFragment(u,r,a,o,c,l,n)),s&&(s.encrypted?(h.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i),this._loadKey(s)):(h.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i+", currentTime:"+t.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},StreamController.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,o,a,s){var u,l=this.hls.config,c=this.media,f=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-l.maxFragLookUpTolerance,r-f)){var p=this.liveSyncPosition=this.computeLivePosition(n,t);h.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+p.toFixed(3)),e=p,c&&c.readyState&&c.duration>p&&(c.currentTime=p),this.nextLoadPosition=p}if(t.PTSKnown&&e>r&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.hasProgramDateTime)h.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),u=y.findFragmentByPDT(a,o.endProgramDateTime,l.maxFragLookUpTolerance);else{var d=o.sn+1;if(d>=t.startSN&&d<=t.endSN){var g=a[d-t.startSN];o.cc===g.cc&&(u=g,h.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=i.default.search(a,(function(t){return o.cc-t.cc})))&&h.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(s-1,Math.round(s/2))],h.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},StreamController.prototype._findFragment=function(t,e,n,r,i,o,a){var s,u=this.hls.config;if(i<o){var l=i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;s=y.findFragmentByPTS(e,r,i,l)}else s=r[n-1];if(s){var c=s.sn-a.startSN,f=e&&s.level===e.level,p=r[c-1],d=r[c+1];if(e&&s.sn===e.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var g=e.deltaPTS;g&&g>u.maxBufferHole&&e.dropped&&c?(s=p,h.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=d,h.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(d&&d.backtracked?(h.logger.warn("Already backtracked from fragment "+d.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+d.sn),s=d):(h.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,p?(s=p).backtracked=!0:c&&(s=null)))}return s},StreamController.prototype._loadKey=function(t){this.state=v.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:t})},StreamController.prototype._loadFragment=function(e){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||n===u.FragmentState.NOT_LOADED||n===u.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new a.default(this.hls,"main")),this.state=v.State.FRAG_LOADING):n===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(StreamController.prototype,"state",{get:function get(){return this._state},set:function set(t){if(this.state!==t){var e=this.state;this._state=t,h.logger.log("main stream:"+e+"->"+t),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),StreamController.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.default.LevelType.MAIN)},Object.defineProperty(StreamController.prototype,"currentLevel",{get:function get(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(StreamController.prototype,"nextBufferedFrag",{get:function get(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),StreamController.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(StreamController.prototype,"nextLevel",{get:function get(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),StreamController.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),o.BufferHelper.isBuffered(n,e)?t=this.getBufferedFrag(e):o.BufferHelper.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},StreamController.prototype.immediateLevelSwitch=function(){if(h.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,n=void 0;e?(n=e.paused,e.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},StreamController.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},StreamController.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var n,r=void 0,i=void 0;if((n=this.getBufferedFrag(e.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)r=0;else{var o=this.hls.nextLoadLevel,a=this.levels[o],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(e.currentTime+r))&&(i=this.followingBufferedFrag(i))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,t.POSITIVE_INFINITY)}}},StreamController.prototype.flushMainBuffer=function(t,e){this.state=v.State.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,n)},StreamController.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new m.default(n,e,this.fragmentTracker,this.hls)},StreamController.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(h.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},StreamController.prototype.onMediaSeeked=function(){var e=this.media,n=e?e.currentTime:void 0;t.isFinite(n)&&h.logger.log("media seeked to "+n.toFixed(3)),this.tick()},StreamController.prototype.onManifestLoading=function(){h.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},StreamController.prototype.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach((function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&h.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},StreamController.prototype.onLevelLoaded=function(e){var n=e.details,r=e.level,i=this.levels[this.levelLastLoaded],o=this.levels[r],a=n.totalduration,u=0;if(h.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var l=o.details;l&&n.fragments.length>0?(f.mergeDetails(l,n),u=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(u,l),n.PTSKnown&&t.isFinite(u)?h.logger.log("live playlist sliding:"+u.toFixed(3)):(h.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,i,n))):(h.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,g.alignStream(this.fragPrevious,i,n))}else n.PTSKnown=!1;if(o.details=n,this.levelLastLoaded=r,this.hls.trigger(s.default.LEVEL_UPDATED,{details:n,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=n.startTimeOffset;t.isFinite(c)?(c<0&&(h.logger.log("negative start time offset "+c+", count from end of last fragment"),c=u+a+c),h.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):n.live?(this.startPosition=this.computeLivePosition(u,n),h.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===v.State.WAITING_LEVEL&&(this.state=v.State.IDLE),this.tick()},StreamController.prototype.onKeyLoaded=function(){this.state===v.State.KEY_LOADING&&(this.state=v.State.IDLE,this.tick())},StreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,r=this.levels,i=this.media,o=t.frag;if(this.state===v.State.FRAG_LOADING&&e&&"main"===o.type&&o.level===e.level&&o.sn===e.sn){var u=t.stats,l=r[e.level],c=l.details;if(this.bitrateTest=!1,this.stats=u,h.logger.log("Loaded "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level),o.bitrateTest&&n.nextLoadLevel)this.state=v.State.IDLE,this.startFragRequested=!1,u.tparsed=u.tbuffered=window.performance.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=v.State.IDLE,u.tparsed=u.tbuffered=window.performance.now(),c.initSegment.data=t.payload,n.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else{h.logger.log("Parsing "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level+", cc "+e.cc),this.state=v.State.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var f=!(i&&i.seeking)&&(c.PTSKnown||!c.live),p=c.initSegment?c.initSegment.data:[],d=this._getAudioCodec(l);(this.demuxer=this.demuxer||new a.default(this.hls,"main")).push(t.payload,p,d,l.videoCodec,e,c.totalduration,f)}}this.fragLoadError=0},StreamController.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===v.State.PARSING){var r=t.tracks,i=void 0,o=void 0;if(r.audio&&this.altAudio&&delete r.audio,o=r.audio){var a=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(a="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",h.logger.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=t.id}for(i in(o=r.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(s.default.BUFFER_CODECS,r),r){o=r[i],h.logger.log("main track:"+i+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},StreamController.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"main"===e.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===v.State.PARSING){var o=this.levels[this.level],a=r;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&a.addElementaryStream(l.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(l.default.ElementaryStreamTypes.VIDEO),h.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)h.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var u=o.details;if(!u||a.sn!==u.startSN)return h.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=v.State.IDLE,this.fragPrevious=a,void this.tick();h.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=f.updateFragPTSDTS(o.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),p=this.hls;p.trigger(s.default.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(t){t&&t.length&&n.state===v.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,p.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))})),this.tick()}},StreamController.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===v.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=v.State.PARSED,this._checkAppendedParsed())},StreamController.prototype.onAudioTrackSwitching=function(e){var n=!!e.url,r=e.id;if(!n){if(this.mediaBuffer!==this.media){h.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(h.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.State.IDLE}var o=this.hls;o.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},StreamController.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(h.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},StreamController.prototype.onBufferCreated=function(t){var e,n,r=t.tracks,i=!1;for(var o in r){var a=r[o];"main"===a.id?(n=o,e=a,"video"===o&&(this.videoBuffer=r[o].buffer)):i=!0}i&&e?(h.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},StreamController.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==v.State.PARSING&&e!==v.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},StreamController.prototype._checkAppendedParsed=function(){if(this.state===v.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;h.logger.log("main buffered : "+p.default.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=v.State.IDLE}this.tick()}},StreamController.prototype.onError=function(e){var n=e.frag||this.fragCurrent;if(!n||"main"===n.type){var r=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);h.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=v.State.FRAG_LOADING_WAITING_RETRY}else h.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=v.State.ERROR;break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==v.State.ERROR&&(e.fatal?(this.state=v.State.ERROR,h.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==v.State.WAITING_LEVEL||(this.state=v.State.IDLE));break;case d.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==v.State.PARSING&&this.state!==v.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=v.State.IDLE):(h.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},StreamController.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,h.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},StreamController.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},StreamController.prototype.onFragLoadEmergencyAborted=function(){this.state=v.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},StreamController.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(l.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=v.State.IDLE,this.fragPrevious=null},StreamController.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},StreamController.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},StreamController.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=t.seeking?e:this.startPosition;e!==n&&(h.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+e+" "),t.currentTime=n)},StreamController.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(StreamController.prototype,"liveSyncPosition",{get:function get(){return this._liveSyncPosition},set:function set(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),StreamController}(v.default);e.default=_}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":function srcControllerSubtitleStreamControllerJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/utils/logger.js"),a=n("./src/crypt/decrypter.js"),s=n("./src/utils/buffer-helper.js"),u=n("./src/controller/fragment-finders.js"),l=n("./src/controller/fragment-tracker.js"),c=n("./src/controller/base-stream-controller.js"),f=n("./src/controller/level-helper.js"),p=window.performance,d=function(t){function SubtitleStreamController(e,n){var r=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=n,r.config=e.config,r.state=c.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new a.default(e,e.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return r(SubtitleStreamController,t),SubtitleStreamController.prototype.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=c.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var i,o=e.start,a=0;a<r.length;a++)if(o>=r[a].start&&o<=r[a].end){i=r[a];break}var s=e.start+e.duration;i?i.end=s:(i={start:o,end:s},r.push(i))}}},SubtitleStreamController.prototype.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=c.State.IDLE},SubtitleStreamController.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},SubtitleStreamController.prototype.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=c.State.IDLE)},SubtitleStreamController.prototype.onSubtitleTracksUpdated=function(t){var e=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},SubtitleStreamController.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},SubtitleStreamController.prototype.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,r=this.currentTrackId,i=this.tracks,o=i[r];e>=i.length||e!==r||!o||(n.live&&f.mergeSubtitlePlaylists(o.details,n,this.lastAVStart),o.details=n,this.setInterval(500))},SubtitleStreamController.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},SubtitleStreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,o=this.hls;if(this.state===c.State.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=p.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,(function(t){var e=p.now();o.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},SubtitleStreamController.prototype.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},SubtitleStreamController.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var t=this,e=t.config,n=t.currentTrackId,r=t.fragmentTracker,a=t.media,f=t.tracks;if(!f||!f[n]||!f[n].details)break;var p=e.maxBufferHole,d=e.maxFragLookUpTolerance,h=Math.min(e.maxBufferLength,e.maxMaxBufferLength),g=s.BufferHelper.bufferedInfo(this._getBuffered(),a.currentTime,p),y=g.end,m=g.len,v=f[n].details,_=v.fragments,b=_.length,S=_[b-1].start+_[b-1].duration;if(m>h)return;var E=void 0,x=this.fragPrevious;y<S?(x&&v.hasProgramDateTime&&(E=u.findFragmentByPDT(_,x.endProgramDateTime,d)),E||(E=u.findFragmentByPTS(x,_,y,d))):E=_[b-1],E&&E.encrypted?(o.logger.log("Loading key for "+E.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:E})):E&&r.getState(E)===l.FragmentState.NOT_LOADED&&(this.fragCurrent=E,this.state=c.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:E}))}else this.state=c.State.IDLE},SubtitleStreamController.prototype.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},SubtitleStreamController.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},SubtitleStreamController.prototype.onMediaSeeking=function(){this.fragPrevious=null},SubtitleStreamController}(c.default);e.SubtitleStreamController=d},"./src/controller/subtitle-track-controller.js":function srcControllerSubtitleTrackControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=n("./src/controller/level-helper.js"),u=function(e){function SubtitleTrackController(t){var n=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n}return r(SubtitleTrackController,e),SubtitleTrackController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},SubtitleTrackController.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},SubtitleTrackController.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},SubtitleTrackController.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},SubtitleTrackController.prototype.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,r=t.details,i=this.trackId,o=this.tracks,u=o[i];if(n>=o.length||n!==i||!u||this.stopped)this._clearReloadTimer();else if(a.logger.log("subtitle track "+n+" loaded"),r.live){var l=s.computeReloadInterval(u.details,r,t.stats.trequest);a.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),l)}else this._clearReloadTimer()},SubtitleTrackController.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},SubtitleTrackController.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(SubtitleTrackController.prototype,"subtitleTracks",{get:function get(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(SubtitleTrackController.prototype,"subtitleTrack",{get:function get(){return this.trackId},set:function set(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))},enumerable:!0,configurable:!0}),SubtitleTrackController.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},SubtitleTrackController.prototype._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,r=e[t];t<0||!r||r.details&&!r.details.live||(a.logger.log("Loading subtitle track "+t),n.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))},SubtitleTrackController.prototype._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,r=this.trackId;if(e){var i=filterSubtitleTracks(e.textTracks);if(-1===t)[].slice.call(i).forEach((function(t){t.mode="disabled"}));else{var o=i[r];o&&(o.mode="disabled")}var a=i[t];a&&(a.mode=n?"showing":"hidden")}},SubtitleTrackController.prototype._setSubtitleTrackInternal=function(e){var n=this.hls,r=this.tracks;!t.isFinite(e)||e<-1||e>=r.length||(this.trackId=e,a.logger.log("Switching to subtitle track "+e),n.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},SubtitleTrackController.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=filterSubtitleTracks(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},SubtitleTrackController}(o.default);function filterSubtitleTracks(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"subtitles"===r.kind&&r.label&&e.push(t[n])}return e}e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":function srcControllerTimelineControllerJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/cea-608-parser.js"),s=n("./src/utils/output-filter.js"),u=n("./src/utils/webvtt-parser.js"),l=n("./src/utils/logger.js"),c=n("./src/utils/texttrack-utils.js");function canReuseVttTextTrack(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var f=function(e){function TimelineController(t){var n=e.call(this,t,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new s.default(n,"textTrack1"),o=new s.default(n,"textTrack2");n.cea608Parser=new a.default(0,r,o)}return n}return r(TimelineController,e),TimelineController.prototype.addCues=function(t,e,n,r){for(var i,o,a,s,u=this.cueRanges,l=!1,c=u.length;c--;){var f=u[c],p=(i=f[0],o=f[1],a=e,s=n,Math.min(o,s)-Math.max(i,a));if(p>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),l=!0,p/(n-e)>.5))return}l||u.push([e,n]),this.Cues.newCue(this.captionsTracks[t],e,n,r)},TimelineController.prototype.onInitPtsFound=function(t){var e=this;if("main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach((function(t){e.onFragLoaded(t)}))}},TimelineController.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(r[t])return r}return null},TimelineController.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],n=e.label,r=e.languageCode,i=this.captionsTracks;if(!i[t]){var o=this.getExistingTrack(t);if(o)i[t]=o,c.clearCurrentCues(i[t]),c.sendAddTrackEvent(i[t],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[t]=!0,i[t]=a)}}},TimelineController.prototype.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},TimelineController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},TimelineController.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},TimelineController.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){c.clearCurrentCues(t[e]),delete t[e]}))},TimelineController.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},TimelineController.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)c.clearCurrentCues(e[n])}},TimelineController.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,r){var i;if(r<n.length){for(var o=null,a=0;a<n.length;a++)if(canReuseVttTextTrack(n[a],t)){o=n[a];break}o&&(i=o)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),t.default?i.mode=e.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",e.textTracks.push(i)}))}},TimelineController.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},TimelineController.prototype.onFragLoaded=function(e){var n=e.frag,r=e.payload;if("main"===n.type){var o=n.sn;if(o!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=o}else if("subtitle"===n.type)if(r.byteLength){if(!t.isFinite(this.initPTS[n.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n}));var s=n.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(n,r)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})},TimelineController.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var r=this.textTracks,o=this.hls;u.default.parse(e,this.initPTS[t.cc],n,t.cc,(function(e){var n=r[t.level];"disabled"!==n.mode?(e.forEach((function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(r){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}})),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){l.logger.log("Failed to parse VTT cue: "+e),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},TimelineController.prototype.onFragDecrypted=function(e){var n=e.payload,r=e.frag;if("subtitle"===r.type){if(!t.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(r,n)}},TimelineController.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},TimelineController.prototype.extractCea608Data=function(t){for(var e,n,r,i=31&t[0],o=2,a=[],s=0;s<i;s++)e=t[o++],n=127&t[o++],r=127&t[o++],0===n&&0===r||0!==(4&e)&&0===(3&e)&&(a.push(n),a.push(r));return a},TimelineController}(o.default);e.default=f}).call(this,n("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function srcCryptAesCryptoJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function AESCrypto(t,e){this.subtle=t,this.aesIV=e}return AESCrypto.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},AESCrypto}();e.default=r},"./src/crypt/aes-decryptor.js":function srcCryptAesDecryptorJs(t,e,n){"use strict";function removePadding(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=removePadding;var r=function(){function AESDecryptor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return AESDecryptor.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},AESDecryptor.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],p=new Uint32Array(256),d=0,h=0,g=0;for(g=0;g<256;g++)p[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var y=h^h<<1^h<<2^h<<3^h<<4;y=y>>>8^255&y^99,t[d]=y,e[y]=d;var m=p[d],v=p[m],_=p[v],b=257*p[y]^16843008*y;r[d]=b<<24|b>>>8,i[d]=b<<16|b>>>16,o[d]=b<<8|b>>>24,a[d]=b,b=16843009*_^65537*v^257*m^16843008*d,u[y]=b<<24|b>>>8,l[y]=b<<16|b>>>16,c[y]=b<<8|b>>>24,f[y]=b,d?(d=m^p[p[p[_^m]]],h^=p[p[h]]):d=h=1}},AESDecryptor.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),p=this.sBox,d=this.rcon,h=this.invSubMix,g=h[0],y=h[1],m=h[2],v=h[3];for(o=0;o<l;o++)o<i?s=c[o]=e[o]:(u=s,o%i===0?(u=p[(u=u<<8|u>>>24)>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u],u^=d[o/i|0]<<24):i>6&&o%i===4&&(u=p[u>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:g[p[u>>>24]]^y[p[u>>>16&255]]^m[p[u>>>8&255]]^v[p[255&u]],f[a]=f[a]>>>0}},AESDecryptor.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},AESDecryptor.prototype.decrypt=function(t,e,n,r){for(var i,o,a,s,u,l,c,f,p,d,h,g,y,m,v=this.keySize+6,_=this.invKeySchedule,b=this.invSBox,S=this.invSubMix,E=S[0],x=S[1],w=S[2],T=S[3],P=this.uint8ArrayToUint32Array_(n),k=P[0],C=P[1],D=P[2],A=P[3],R=new Int32Array(t),M=new Int32Array(R.length),L=this.networkToHostOrderSwap;e<R.length;){for(p=L(R[e]),d=L(R[e+1]),h=L(R[e+2]),g=L(R[e+3]),u=p^_[0],l=g^_[1],c=h^_[2],f=d^_[3],y=4,m=1;m<v;m++)i=E[u>>>24]^x[l>>16&255]^w[c>>8&255]^T[255&f]^_[y],o=E[l>>>24]^x[c>>16&255]^w[f>>8&255]^T[255&u]^_[y+1],a=E[c>>>24]^x[f>>16&255]^w[u>>8&255]^T[255&l]^_[y+2],s=E[f>>>24]^x[u>>16&255]^w[l>>8&255]^T[255&c]^_[y+3],u=i,l=o,c=a,f=s,y+=4;i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&f]^_[y],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[f>>8&255]<<8^b[255&u]^_[y+1],a=b[c>>>24]<<24^b[f>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^_[y+2],s=b[f>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^_[y+3],y+=3,M[e]=L(i^k),M[e+1]=L(s^C),M[e+2]=L(a^D),M[e+3]=L(o^A),k=p,C=d,D=h,A=g,e+=4}return r?removePadding(M.buffer):M.buffer},AESDecryptor.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},AESDecryptor}();e.default=r},"./src/crypt/decrypter.js":function srcCryptDecrypterJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/crypt/aes-crypto.js"),i=n("./src/crypt/fast-aes-key.js"),o=n("./src/crypt/aes-decryptor.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=n("./src/events.js"),l=n("./src/utils/get-self-scope.js").getSelfScope(),c=function(){function Decrypter(t,e,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var o=l.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}this.disableWebCrypto=!this.subtle}return Decrypter.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},Decrypter.prototype.decrypt=function(t,e,n,a){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new o.default),l.expandKey(e),a(l.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new i.default(c,e)),this.fastAesKey.expandKey().then((function(i){new r.default(c,n).decrypt(t,i).catch((function(r){u.onWebCryptoError(r,t,e,n,a)})).then((function(t){a(t)}))})).catch((function(r){u.onWebCryptoError(r,t,e,n,a)}))}},Decrypter.prototype.onWebCryptoError=function(t,e,n,r,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,i)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},Decrypter.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},Decrypter}();e.default=c},"./src/crypt/fast-aes-key.js":function srcCryptFastAesKeyJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function FastAESKey(t,e){this.subtle=t,this.key=e}return FastAESKey.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},FastAESKey}();e.default=r},"./src/demux/aacdemuxer.js":function srcDemuxAacdemuxerJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/adts.js"),i=n("./src/utils/logger.js"),o=n("./src/demux/id3.js"),a=function(){function AACDemuxer(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return AACDemuxer.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},AACDemuxer.prototype.resetTimeStamp=function(){},AACDemuxer.probe=function(t){if(!t)return!1;for(var e=(o.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(r.probe(t,e))return i.logger.log("ADTS sync word found !"),!0;return!1},AACDemuxer.prototype.append=function(e,n,a,s){for(var u=this._audioTrack,l=o.default.getID3Data(e,0)||[],c=o.default.getTimeStamp(l),f=t.isFinite(c)?90*c:9e4*n,p=0,d=f,h=e.length,g=l.length,y=[{pts:d,dts:d,data:l}];g<h-1;)if(r.isHeader(e,g)&&g+5<h){r.initTrackConfig(u,this.observer,e,g,u.manifestCodec);var m=r.appendFrame(u,e,g,f,p);if(!m){i.logger.log("Unable to parse AAC frame");break}g+=m.length,d=m.sample.pts,p++}else o.default.isHeader(e,g)?(l=o.default.getID3Data(e,g),y.push({pts:d,dts:d,data:l}),g+=l.length):g++;this.remuxer.remux(u,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},n,a,s)},AACDemuxer.prototype.destroy=function(){},AACDemuxer}();e.default=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function srcDemuxAdtsJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/errors.js"),o=n("./src/events.js");function getAudioConfig(t,e,n,a){var s,u,l,c,f,p=navigator.userAgent.toLowerCase(),d=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&e[n+2])>>>6),!((u=(60&e[n+2])>>>2)>h.length-1))return c=(1&e[n+2])<<2,c|=(192&e[n+3])>>>6,r.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+u+"["+h[u]+"Hz],channelConfig:"+c),/firefox/i.test(p)?u>=6?(s=5,f=new Array(4),l=u-3):(s=2,f=new Array(2),l=u):-1!==p.indexOf("android")?(s=2,f=new Array(2),l=u):(s=5,f=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&u>=6?l=u-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(p))||!a&&1===c)&&(s=2,f=new Array(2)),l=u)),f[0]=s<<3,f[0]|=(14&u)>>1,f[1]|=(1&u)<<7,f[1]|=c<<3,5===s&&(f[1]|=(14&l)>>1,f[2]=(1&l)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:h[u],channelCount:c,codec:"mp4a.40."+s,manifestCodec:d};t.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}function isHeaderPattern(t,e){return 255===t[e]&&240===(246&t[e+1])}function getHeaderLength(t,e){return 1&t[e+1]?7:9}function getFullFrameLength(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function getFrameDuration(t){return 9216e4/t}function parseFrameHeader(t,e,n,r,i){var o,a,s=t.length;if(o=getHeaderLength(t,e),a=getFullFrameLength(t,e),(a-=o)>0&&e+o+a<=s)return{headerLength:o,frameLength:a,stamp:n+r*i}}e.getAudioConfig=getAudioConfig,e.isHeaderPattern=isHeaderPattern,e.getHeaderLength=getHeaderLength,e.getFullFrameLength=getFullFrameLength,e.isHeader=function isHeader(t,e){return!!(e+1<t.length&&isHeaderPattern(t,e))},e.probe=function probe(t,e){if(e+1<t.length&&isHeaderPattern(t,e)){var n=getHeaderLength(t,e);e+5<t.length&&(n=getFullFrameLength(t,e));var r=e+n;if(r===t.length||r+1<t.length&&isHeaderPattern(t,r))return!0}return!1},e.initTrackConfig=function initTrackConfig(t,e,n,i,o){if(!t.samplerate){var a=getAudioConfig(e,n,i,o);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,r.logger.log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}},e.getFrameDuration=getFrameDuration,e.parseFrameHeader=parseFrameHeader,e.appendFrame=function appendFrame(t,e,n,r,i){var o=parseFrameHeader(e,n,r,i,getFrameDuration(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,u=o.frameLength,l={unit:e.subarray(n+s,n+s+u),pts:a,dts:a};return t.samples.push(l),t.len+=u,{sample:l,length:u+s}}}},"./src/demux/demuxer-inline.js":function srcDemuxDemuxerInlineJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("./src/events.js"),o=n("./src/errors.js"),a=n("./src/crypt/decrypter.js"),s=n("./src/demux/aacdemuxer.js"),u=n("./src/demux/mp4demuxer.js"),l=n("./src/demux/tsdemuxer.js"),c=n("./src/demux/mp3demuxer.js"),f=n("./src/remux/mp4-remuxer.js"),p=n("./src/remux/passthrough-remuxer.js"),d=n("./src/utils/get-self-scope.js"),h=n("./src/utils/logger.js"),g=d.getSelfScope();try{r=g.performance.now.bind(g.performance)}catch(m){h.logger.debug("Unable to use Performance API on this environment"),r=g.Date.now}var y=function(){function DemuxerInline(t,e,n,r){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}return DemuxerInline.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},DemuxerInline.prototype.push=function(t,e,n,o,s,u,l,c,f,p,d,h){var g=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var y=this.decrypter;null==y&&(y=this.decrypter=new a.default(this.observer,this.config));var m=r();y.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=r();g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,f,p,d,h)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,f,p,d,h)},DemuxerInline.prototype.pushDecrypted=function(t,e,n,r,a,d,h,g,y,m,v,_){var b=this.demuxer;if(!b||(h||g)&&!this.probe(t)){for(var S=this.observer,E=this.typeSupported,x=this.config,w=[{demux:l.default,remux:f.default},{demux:u.default,remux:p.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],T=0,P=w.length;T<P;T++){var k=w[T],C=k.demux.probe;if(C(t)){var D=this.remuxer=new k.remux(S,x,E,this.vendor);b=new k.demux(S,D,x,E),this.probe=C;break}}if(!b)return void S.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var A=this.remuxer;(h||g)&&(b.resetInitSegment(n,r,a,m),A.resetInitSegment()),h&&(b.resetTimeStamp(_),A.resetTimeStamp(_)),"function"===typeof b.setDecryptData&&b.setDecryptData(e),b.append(t,d,y,v)},DemuxerInline}();e.default=y},"./src/demux/demuxer-worker.js":function srcDemuxDemuxerWorkerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/demuxer-inline.js"),i=n("./src/events.js"),o=n("./src/utils/logger.js"),a=n("./node_modules/node-libs-browser/node_modules/events/events.js");e.default=function DemuxerWorker(t){var e=new a.EventEmitter;e.trigger=function trigger(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function off(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var n=function forwardMessage(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new r.default(e,a.typeSupported,s,a.vendor),o.enableLogs(s.debug),n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(i.default.FRAG_DECRYPTED,n),e.on(i.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(i.default.FRAG_PARSED,n),e.on(i.default.ERROR,n),e.on(i.default.FRAG_PARSING_METADATA,n),e.on(i.default.FRAG_PARSING_USERDATA,n),e.on(i.default.INIT_PTS_FOUND,n),e.on(i.default.FRAG_PARSING_DATA,(function(e,n){var r=[],i={event:e,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),t.postMessage(i,r)}))}},"./src/demux/demuxer.js":function srcDemuxDemuxerJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.js"),o=n("./src/demux/demuxer-inline.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=n("./src/utils/mediasource-helper.js"),l=n("./src/utils/get-self-scope.js"),c=n("./src/observer.js"),f=l.getSelfScope(),p=u.getMediaSource(),d=function(){function Demuxer(t,e){var n=this;this.hls=t,this.id=e;var u=this.observer=new c.Observer,l=t.config,d=function forwardMessage(e,r){(r=r||{}).frag=n.frag,r.id=n.id,t.trigger(e,r)};u.on(i.default.FRAG_DECRYPTED,d),u.on(i.default.FRAG_PARSING_INIT_SEGMENT,d),u.on(i.default.FRAG_PARSING_DATA,d),u.on(i.default.FRAG_PARSED,d),u.on(i.default.ERROR,d),u.on(i.default.FRAG_PARSING_METADATA,d),u.on(i.default.FRAG_PARSING_USERDATA,d),u.on(i.default.INIT_PTS_FOUND,d);var h={mp4:p.isTypeSupported("video/mp4"),mpeg:p.isTypeSupported("audio/mpeg"),mp3:p.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(l.enableWorker&&"undefined"!==typeof Worker){a.logger.log("demuxing in webworker");var y=void 0;try{y=this.w=r("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),y.addEventListener("message",this.onwmsg),y.onerror=function(e){t.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},y.postMessage({cmd:"init",typeSupported:h,vendor:g,id:e,config:JSON.stringify(l)})}catch(m){a.logger.warn("Error in worker:",m),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),y&&f.URL.revokeObjectURL(y.objectURL),this.demuxer=new o.default(u,h,l,g),this.w=void 0}}else this.demuxer=new o.default(u,h,l,g)}return Demuxer.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},Demuxer.prototype.push=function(e,n,r,i,o,s,u,l){var c=this.w,f=t.isFinite(o.startPTS)?o.startPTS:o.start,p=o.decryptdata,d=this.frag,h=!(d&&o.cc===d.cc),g=!(d&&o.level===d.level),y=d&&o.sn===d.sn+1,m=!g&&y;if(h&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=o,c)c.postMessage({cmd:"demux",data:e,decryptdata:p,initSegment:n,audioCodec:r,videoCodec:i,timeOffset:f,discontinuity:h,trackSwitch:g,contiguous:m,duration:s,accurateTimeOffset:u,defaultInitPTS:l},e instanceof ArrayBuffer?[e]:[]);else{var v=this.demuxer;v&&v.push(e,p,n,r,i,f,h,g,m,s,u,l)}},Demuxer.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},Demuxer}();e.default=d}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function srcDemuxExpGolombJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=function(){function ExpGolomb(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return ExpGolomb.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},ExpGolomb.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},ExpGolomb.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},ExpGolomb.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},ExpGolomb.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},ExpGolomb.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},ExpGolomb.prototype.readBoolean=function(){return 1===this.readBits(1)},ExpGolomb.prototype.readUByte=function(){return this.readBits(8)},ExpGolomb.prototype.readUShort=function(){return this.readBits(16)},ExpGolomb.prototype.readUInt=function(){return this.readBits(32)},ExpGolomb.prototype.skipScalingList=function(t){var e,n=8,r=8;for(e=0;e<t;e++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},ExpGolomb.prototype.readSPS=function(){var t,e,n,r,i,o,a,s=0,u=0,l=0,c=0,f=this.readUByte.bind(this),p=this.readBits.bind(this),d=this.readUEG.bind(this),h=this.readBoolean.bind(this),g=this.skipBits.bind(this),y=this.skipEG.bind(this),m=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(f(),t=f(),p(5),g(3),f(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=d();if(3===_&&g(1),m(),m(),g(1),h())for(o=3!==_?8:12,a=0;a<o;a++)h()&&v(a<6?16:64)}m();var b=d();if(0===b)d();else if(1===b)for(g(1),y(),y(),e=d(),a=0;a<e;a++)y();m(),g(1),n=d(),r=d(),0===(i=p(1))&&g(1),g(1),h()&&(s=d(),u=d(),l=d(),c=d());var S=[1,1];if(h()&&h())switch(f()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:S}},ExpGolomb.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},ExpGolomb}();e.default=i},"./src/demux/id3.js":function srcDemuxId3Js(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function ID3(){}return ID3.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},ID3.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},ID3.getID3Data=function(t,e){for(var n=e,r=0;ID3.isHeader(t,e);){r+=10,r+=ID3._readSize(t,e+6),ID3.isFooter(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},ID3._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},ID3.getTimeStamp=function(t){for(var e=ID3.getID3Frames(t),n=0;n<e.length;n++){var r=e[n];if(ID3.isTimeStampFrame(r))return ID3._readTimeStamp(r)}},ID3.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},ID3._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=ID3._readSize(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},ID3.getID3Frames=function(t){for(var e=0,n=[];ID3.isHeader(t,e);){for(var r=ID3._readSize(t,e+6),i=(e+=10)+r;e+8<i;){var o=ID3._getFrameData(t.subarray(e)),a=ID3._decodeFrame(o);a&&n.push(a),e+=o.size+10}ID3.isFooter(t,e)&&(e+=10)}return n},ID3._decodeFrame=function(t){return"PRIV"===t.type?ID3._decodePrivFrame(t):"T"===t.type[0]?ID3._decodeTextFrame(t):"W"===t.type[0]?ID3._decodeURLFrame(t):void 0},ID3._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},ID3._decodePrivFrame=function(t){if(!(t.size<2)){var e=ID3._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},ID3._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=ID3._utf8ArrayToStr(t.data.subarray(e));e+=n.length+1;var r=ID3._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=ID3._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},ID3._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=ID3._utf8ArrayToStr(t.data.subarray(e));e+=n.length+1;var r=ID3._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=ID3._utf8ArrayToStr(t.data);return{key:t.type,data:i}},ID3._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var n,r,i,o=t.length,a="",s=0;s<o;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[s++],i=t[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&i)<<0)}}return a},ID3}(),i=r._utf8ArrayToStr;e.utf8ArrayToStr=i,e.default=r},"./src/demux/mp3demuxer.js":function srcDemuxMp3demuxerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/id3.js"),i=n("./src/utils/logger.js"),o=n("./src/demux/mpegaudio.js"),a=function(){function MP3Demuxer(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return MP3Demuxer.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},MP3Demuxer.prototype.resetTimeStamp=function(){},MP3Demuxer.probe=function(t){var e,n,a=r.default.getID3Data(t,0);if(a&&void 0!==r.default.getTimeStamp(a))for(e=a.length,n=Math.min(t.length-1,e+100);e<n;e++)if(o.default.probe(t,e))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},MP3Demuxer.prototype.append=function(t,e,n,i){for(var a=r.default.getID3Data(t,0),s=r.default.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,f=0,p=0,d=this._audioTrack,h=[{pts:u,dts:u,data:a}];l<c;)if(o.default.isHeader(t,l)){var g=o.default.appendFrame(d,t,l,u,f);if(!g)break;l+=g.length,p=g.sample.pts,f++}else r.default.isHeader(t,l)?(a=r.default.getID3Data(t,l),h.push({pts:p,dts:p,data:a}),l+=a.length):l++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},MP3Demuxer.prototype.destroy=function(){},MP3Demuxer}();e.default=a},"./src/demux/mp4demuxer.js":function srcDemuxMp4demuxerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/events.js"),o=Math.pow(2,32)-1,a=function(){function MP4Demuxer(t,e){this.observer=t,this.remuxer=e}return MP4Demuxer.prototype.resetTimeStamp=function(t){this.initPTS=t},MP4Demuxer.prototype.resetInitSegment=function(t,e,n,r){if(t&&t.byteLength){var o=this.initData=MP4Demuxer.parseInitSegment(t);null==e&&(e="mp4a.40.5"),null==n&&(n="avc1.42e01e");var a={};o.audio&&o.video?a.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:r?t:null}:(o.audio&&(a.audio={container:"audio/mp4",codec:e,initSegment:r?t:null}),o.video&&(a.video={container:"video/mp4",codec:n,initSegment:r?t:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else e&&(this.audioCodec=e),n&&(this.videoCodec=n)},MP4Demuxer.probe=function(t){return MP4Demuxer.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},MP4Demuxer.bin2str=function(t){return String.fromCharCode.apply(null,t)},MP4Demuxer.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},MP4Demuxer.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},MP4Demuxer.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},MP4Demuxer.findBox=function(t,e){var n,r,i,o,a,s,u=[];if(t.data?(a=t.start,i=t.end,t=t.data):(a=0,i=t.byteLength),!e.length)return null;for(n=a;n<i;)s=(r=MP4Demuxer.readUint32(t,n))>1?n+r:i,MP4Demuxer.bin2str(t.subarray(n+4,n+8))===e[0]&&(1===e.length?u.push({data:t,start:n+8,end:s}):(o=MP4Demuxer.findBox({data:t,start:n+8,end:s},e.slice(1))).length&&(u=u.concat(o))),n=s;return u},MP4Demuxer.parseSegmentIndex=function(t){var e,n=MP4Demuxer.findBox(t,["moov"])[0],r=n?n.end:null,i=0,o=MP4Demuxer.findBox(t,["sidx"]);if(!o||!o[0])return null;e=[];var a=(o=o[0]).data[0];i=0===a?8:16;var s=MP4Demuxer.readUint32(o,i);i+=4;i+=0===a?8:16,i+=2;var u=o.end+0,l=MP4Demuxer.readUint16(o,i);i+=2;for(var c=0;c<l;c++){var f=i,p=MP4Demuxer.readUint32(o,f);f+=4;var d=2147483647&p;if(1===(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var h=MP4Demuxer.readUint32(o,f);f+=4,e.push({referenceSize:d,subsegmentDuration:h,info:{duration:h/s,start:u,end:u+d-1}}),u+=d,i=f+=4}return{earliestPresentationTime:0,timescale:s,version:a,referencesCount:l,references:e,moovEndOffset:r}},MP4Demuxer.parseInitSegment=function(t){var e=[];return MP4Demuxer.findBox(t,["moov","trak"]).forEach((function(t){var n=MP4Demuxer.findBox(t,["tkhd"])[0];if(n){var i=n.data[n.start],o=0===i?12:20,a=MP4Demuxer.readUint32(n,o),s=MP4Demuxer.findBox(t,["mdia","mdhd"])[0];if(s){o=0===(i=s.data[s.start])?12:20;var u=MP4Demuxer.readUint32(s,o),l=MP4Demuxer.findBox(t,["mdia","hdlr"])[0];if(l){var c={soun:"audio",vide:"video"}[MP4Demuxer.bin2str(l.data.subarray(l.start+8,l.start+12))];if(c){var f=MP4Demuxer.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var p=MP4Demuxer.bin2str(f.data.subarray(f.start+12,f.start+16));r.logger.log("MP4Demuxer:"+c+":"+p+" found")}e[a]={timescale:u,type:c},e[c]={timescale:u,id:a}}}}}})),e},MP4Demuxer.getStartDTS=function(t,e){var n,r,i;return n=MP4Demuxer.findBox(e,["moof","traf"]),r=[].concat.apply([],n.map((function(e){return MP4Demuxer.findBox(e,["tfhd"]).map((function(n){var r,i;return r=MP4Demuxer.readUint32(n,4),i=t[r].timescale||9e4,MP4Demuxer.findBox(e,["tfdt"]).map((function(t){var e,n;return e=t.data[t.start],n=MP4Demuxer.readUint32(t,4),1===e&&(n*=Math.pow(2,32),n+=MP4Demuxer.readUint32(t,8)),n}))[0]/i}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},MP4Demuxer.offsetStartDTS=function(t,e,n){MP4Demuxer.findBox(e,["moof","traf"]).map((function(e){return MP4Demuxer.findBox(e,["tfhd"]).map((function(r){var i=MP4Demuxer.readUint32(r,4),a=t[i].timescale||9e4;MP4Demuxer.findBox(e,["tfdt"]).map((function(t){var e=t.data[t.start],r=MP4Demuxer.readUint32(t,4);if(0===e)MP4Demuxer.writeUint32(t,4,r-n*a);else{r*=Math.pow(2,32),r+=MP4Demuxer.readUint32(t,8),r-=n*a,r=Math.max(r,0);var i=Math.floor(r/(o+1)),s=Math.floor(r%(o+1));MP4Demuxer.writeUint32(t,4,i),MP4Demuxer.writeUint32(t,8,s)}}))}))}))},MP4Demuxer.prototype.append=function(t,e,n,r){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var a,s=this.initPTS;if(void 0===s){var u=MP4Demuxer.getStartDTS(o,t);this.initPTS=s=u-e,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:s})}MP4Demuxer.offsetStartDTS(o,t,s),a=MP4Demuxer.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,a,n,r,t)},MP4Demuxer.prototype.destroy=function(){},MP4Demuxer}();e.default=a},"./src/demux/mpegaudio.js":function srcDemuxMpegaudioJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function appendFrame(t,e,n,r,i){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function parseHeader(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==n&&0!==o&&15!==o&&3!==a){var u=3===n?3-i:3===i?3:4,l=1e3*r.BitratesMap[14*u+o-1],c=3===n?0:2===n?1:2,f=r.SamplingRateMap[3*c+a],p=t[e+3]>>6===3?1:2,d=r.SamplesCoefficients[n][i],h=r.BytesInSlot[i],g=8*d*h;return{sampleRate:f,channelCount:p,frameLength:parseInt(d*l/f+s,10)*h,samplesPerFrame:g}}},isHeaderPattern:function isHeaderPattern(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])},isHeader:function isHeader(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function probe(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4;n&&n.frameLength&&(r=n.frameLength);var i=e+r;if(i===t.length||i+1<t.length&&this.isHeaderPattern(t,i))return!0}return!1}};e.default=r},"./src/demux/sample-aes.js":function srcDemuxSampleAesJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/crypt/decrypter.js"),i=function(){function SampleAesDecrypter(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new r.default(t,e,{removePKCS7Padding:!1})}return SampleAesDecrypter.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},SampleAesDecrypter.prototype.decryptAacSample=function(t,e,n,r){var i=t[e].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),i.set(o,16),r||s.decryptAacSamples(t,e+1,n)}))},SampleAesDecrypter.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},SampleAesDecrypter.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},SampleAesDecrypter.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},SampleAesDecrypter.prototype.decryptAvcSample=function(t,e,n,r,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,r)}))},SampleAesDecrypter.prototype.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,a),!a)return}}}},SampleAesDecrypter}();e.default=i},"./src/demux/tsdemuxer.js":function srcDemuxTsdemuxerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/adts.js"),i=n("./src/demux/mpegaudio.js"),o=n("./src/events.js"),a=n("./src/demux/exp-golomb.js"),s=n("./src/demux/sample-aes.js"),u=n("./src/utils/logger.js"),l=n("./src/errors.js"),c={video:1,audio:2,id3:3,text:4},f=function(){function TSDemuxer(t,e,n,r){this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}return TSDemuxer.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},TSDemuxer.probe=function(t){var e=TSDemuxer._syncOffset(t);return!(e<0)&&(e&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),!0)},TSDemuxer._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},TSDemuxer.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},TSDemuxer.prototype.resetInitSegment=function(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=TSDemuxer.createTrack("video",r),this._audioTrack=TSDemuxer.createTrack("audio",r),this._id3Track=TSDemuxer.createTrack("id3",r),this._txtTrack=TSDemuxer.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=r},TSDemuxer.prototype.resetTimeStamp=function(){},TSDemuxer.prototype.append=function(t,e,n,r){var i,a,s,c,f,p=t.length,d=!1;this.contiguous=n;var h=this.pmtParsed,g=this._avcTrack,y=this._audioTrack,m=this._id3Track,v=g.pid,_=y.pid,b=m.pid,S=this._pmtId,E=g.pesData,x=y.pesData,w=m.pesData,T=this._parsePAT,P=this._parsePMT,k=this._parsePES,C=this._parseAVCPES.bind(this),D=this._parseAACPES.bind(this),A=this._parseMPEGPES.bind(this),R=this._parseID3PES.bind(this),M=TSDemuxer._syncOffset(t);for(p-=(p+M)%188,i=M;i<p;i+=188)if(71===t[i]){if(a=!!(64&t[i+1]),s=((31&t[i+1])<<8)+t[i+2],(48&t[i+3])>>4>1){if((c=i+5+t[i+4])===i+188)continue}else c=i+4;switch(s){case v:a&&(E&&(f=k(E))&&void 0!==f.pts&&C(f,!1),E={data:[],size:0}),E&&(E.data.push(t.subarray(c,i+188)),E.size+=i+188-c);break;case _:a&&(x&&(f=k(x))&&void 0!==f.pts&&(y.isAAC?D(f):A(f)),x={data:[],size:0}),x&&(x.data.push(t.subarray(c,i+188)),x.size+=i+188-c);break;case b:a&&(w&&(f=k(w))&&void 0!==f.pts&&R(f),w={data:[],size:0}),w&&(w.data.push(t.subarray(c,i+188)),w.size+=i+188-c);break;case 0:a&&(c+=t[c]+1),S=this._pmtId=T(t,c);break;case S:a&&(c+=t[c]+1);var L=P(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(v=L.avc)>0&&(g.pid=v),(_=L.audio)>0&&(y.pid=_,y.isAAC=L.isAAC),(b=L.id3)>0&&(m.pid=b),d&&!h&&(u.logger.log("reparse from beginning"),d=!1,i=M-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:d=!0}}else this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(f=k(E))&&void 0!==f.pts?(C(f,!0),g.pesData=null):g.pesData=E,x&&(f=k(x))&&void 0!==f.pts?(y.isAAC?D(f):A(f),y.pesData=null):(x&&x.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=x),w&&(f=k(w))&&void 0!==f.pts?(R(f),m.pesData=null):m.pesData=w,null==this.sampleAes?this.remuxer.remux(y,g,m,this._txtTrack,e,n,r):this.decryptAndRemux(y,g,m,this._txtTrack,e,n,r)},TSDemuxer.prototype.decryptAndRemux=function(t,e,n,r,i,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,r,i,o,a)}))}else this.decryptAndRemuxAvc(t,e,n,r,i,o,a)},TSDemuxer.prototype.decryptAndRemuxAvc=function(t,e,n,r,i,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,r,i,o,a)}))}else this.remuxer.remux(t,e,n,r,i,o,a)},TSDemuxer.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},TSDemuxer.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},TSDemuxer.prototype._parsePMT=function(t,e,n,r){var i,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:n?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},TSDemuxer.prototype._parsePES=function(t){var e,n,r,i,o,a,s,l,c=0,f=t.data;if(!t||0===t.size)return null;for(;f[0].length<19&&f.length>1;){var p=new Uint8Array(f[0].length+f[1].length);p.set(f[0]),p.set(f[1],f[0].length),f[0]=p,f.splice(1,1)}if(1===((e=f[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;192&(n=e[7])&&(a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&n?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(u.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(i=e[8])+9,t.size-=l,o=new Uint8Array(t.size);for(var d=0,h=f.length;d<h;d++){var g=(e=f[d]).byteLength;if(l){if(l>g){l-=g;continue}e=e.subarray(l),g-=l,l=0}o.set(e,c),c+=g}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null},TSDemuxer.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++}t.debug.length&&u.logger.log(t.pts+"/"+t.dts+":"+t.debug)},TSDemuxer.prototype._parseAVCPES=function(t,e){var n,r,i,o=this,s=this._avcTrack,u=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,f=this.pushAccesUnit.bind(this),p=function createAVCSample(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}};t.data=null,l&&u.length&&!s.audFound&&(f(l,s),l=this.avcSample=p(!1,t.pts,t.dts,"")),u.forEach((function(e){switch(e.type){case 1:r=!0,l||(l=o.avcSample=p(!0,t.pts,t.dts,"")),l.frame=!0;var u=e.data;if(c&&u.length>4){var d=new a.default(u).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(l.key=!0)}break;case 5:r=!0,l||(l=o.avcSample=p(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,(n=new a.default(o.discardEPB(e.data))).readUByte();for(var h=0,g=0,y=!1,m=0;!y&&n.bytesAvailable>1;){h=0;do{h+=m=n.readUByte()}while(255===m);g=0;do{g+=m=n.readUByte()}while(255===m);if(4===h&&0!==n.bytesAvailable){if(y=!0,181===n.readUByte())if(49===n.readUShort())if(1195456820===n.readUInt())if(3===n.readUByte()){var v=n.readUByte(),_=31&v,b=[v,n.readUByte()];for(i=0;i<_;i++)b.push(n.readUByte()),b.push(n.readUByte()),b.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(g<n.bytesAvailable)for(i=0;i<g;i++)n.readUByte()}break;case 7:if(r=!0,c=!0,!s.sps){var S=(n=new a.default(e.data)).readSPS();s.width=S.width,s.height=S.height,s.pixelRatio=S.pixelRatio,s.sps=[e.data],s.duration=o._duration;var E=e.data.subarray(1,4),x="avc1.";for(i=0;i<3;i++){var w=E[i].toString(16);w.length<2&&(w="0"+w),x+=w}s.codec=x}break;case 8:r=!0,s.pps||(s.pps=[e.data]);break;case 9:r=!1,s.audFound=!0,l&&f(l,s),l=o.avcSample=p(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&r&&l.units.push(e)})),e&&l&&(f(l,s),this.avcSample=null)},TSDemuxer.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},TSDemuxer.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},TSDemuxer.prototype._parseAVCNALu=function(t){var e,n,r,i,o=0,a=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],f=-1;for(-1===u&&(f=0,i=31&t[0],u=0,o=1);o<a;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){var p,d;if(f>=0)r={data:t.subarray(f,o-u-1),type:i},c.push(r);else if(p=this._getLastNalUnit())if(l&&o<=4-l&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-l)),(n=o-u-1)>0)(d=new Uint8Array(p.data.byteLength+n)).set(p.data,0),d.set(t.subarray(0,n),p.data.byteLength),p.data=d;o<a?(f=o,i=31&t[o],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;(f>=0&&u>=0&&(r={data:t.subarray(f,a),type:i,state:u},c.push(r)),0===c.length)&&((p=this._getLastNalUnit())&&((d=new Uint8Array(p.data.byteLength+t.byteLength)).set(p.data,0),d.set(t,p.data.byteLength),p.data=d));return s.naluState=u,c},TSDemuxer.prototype.discardEPB=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},TSDemuxer.prototype._parseAACPES=function(t){var e,n,i,a,s,c=this._audioTrack,f=t.data,p=t.pts,d=this.aacOverFlow,h=this.aacLastPTS;if(d){var g=new Uint8Array(d.byteLength+f.byteLength);g.set(d,0),g.set(f,d.byteLength),f=g}for(i=0,s=f.length;i<s-1&&!r.isHeader(f,i);i++);if(i){var y=void 0,m=void 0;if(i<s-1?(y="AAC PES did not start with ADTS header,offset:"+i,m=!1):(y="no ADTS header found in AAC PES",m=!0),u.logger.warn("parsing error:"+y),this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:m,reason:y}),m)return}if(r.initTrackConfig(c,this.observer,f,i,this.audioCodec),n=0,e=r.getFrameDuration(c.samplerate),d&&h){var v=h+e;Math.abs(v-p)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((v-p)/90)),p=v)}for(;i<s;)if(r.isHeader(f,i)&&i+5<s){var _=r.appendFrame(c,f,i,p,n);if(!_)break;i+=_.length,a=_.sample.pts,n++}else i++;d=i<s?f.subarray(i,s):null,this.aacOverFlow=d,this.aacLastPTS=a},TSDemuxer.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,o=0,a=t.pts;o<n;)if(i.default.isHeader(e,o)){var s=i.default.appendFrame(this._audioTrack,e,o,a,r);if(!s)break;o+=s.length,r++}else o++},TSDemuxer.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},TSDemuxer}();e.default=f},"./src/errors.js":function srcErrorsJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function srcEventHandlerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/errors.js"),o=n("./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function EventHandler(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return EventHandler.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},EventHandler.prototype.onHandlerDestroying=function(){},EventHandler.prototype.onHandlerDestroyed=function(){},EventHandler.prototype.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},EventHandler.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},EventHandler.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},EventHandler.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},EventHandler.prototype.onEventGeneric=function(t,e){try{(function eventToFunction(t,e){var n="on"+t.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(n){r.logger.error("An internal error happened while handling event "+t+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.hls.trigger(o.default.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:n})}},EventHandler}();e.default=s},"./src/events.js":function srcEventsJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function srcHlsJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/errors.js"),a=n("./src/loader/playlist-loader.js"),s=n("./src/loader/fragment-loader.js"),u=n("./src/loader/key-loader.js"),l=n("./src/controller/fragment-tracker.js"),c=n("./src/controller/stream-controller.js"),f=n("./src/controller/level-controller.js"),p=n("./src/controller/id3-track-controller.js"),d=n("./src/is-supported.js"),h=n("./src/utils/logger.js"),g=n("./src/config.js"),y=n("./src/events.js"),m=function(t){function Hls(e){void 0===e&&(e={});var n=t.call(this)||this,r=Hls.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in r)i in e||(e[i]=r[i]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');h.enableLogs(e.debug),n.config=e,n._autoLevelCapping=-1;var o=n.abrController=new e.abrController(n),d=new e.bufferController(n),g=new e.capLevelController(n),y=new e.fpsController(n),m=new a.default(n),v=new s.default(n),_=new u.default(n),b=new p.default(n),S=n.levelController=new f.default(n),E=new l.FragmentTracker(n),x=[S,n.streamController=new c.default(n,E)],w=e.audioStreamController;w&&x.push(new w(n,E)),n.networkControllers=x;var T=[m,v,_,o,d,g,y,b,E];if(w=e.audioTrackController){var P=new w(n);n.audioTrackController=P,T.push(P)}if(w=e.subtitleTrackController){var k=new w(n);n.subtitleTrackController=k,x.push(k)}if(w=e.emeController){var C=new w(n);n.emeController=C,T.push(C)}return(w=e.subtitleStreamController)&&x.push(new w(n,E)),(w=e.timelineController)&&T.push(new w(n)),n.coreComponents=T,n}return r(Hls,t),Object.defineProperty(Hls,"version",{get:function get(){return"0.12.6"},enumerable:!0,configurable:!0}),Hls.isSupported=function(){return d.isSupported()},Object.defineProperty(Hls,"Events",{get:function get(){return y.default},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorTypes",{get:function get(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorDetails",{get:function get(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"DefaultConfig",{get:function get(){return Hls.defaultConfig?Hls.defaultConfig:g.hlsDefaultConfig},set:function set(t){Hls.defaultConfig=t},enumerable:!0,configurable:!0}),Hls.prototype.destroy=function(){h.logger.log("destroy"),this.trigger(y.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},Hls.prototype.attachMedia=function(t){h.logger.log("attachMedia"),this.media=t,this.trigger(y.default.MEDIA_ATTACHING,{media:t})},Hls.prototype.detachMedia=function(){h.logger.log("detachMedia"),this.trigger(y.default.MEDIA_DETACHING),this.media=null},Hls.prototype.loadSource=function(t){t=i.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),h.logger.log("loadSource:"+t),this.url=t,this.trigger(y.default.MANIFEST_LOADING,{url:t})},Hls.prototype.startLoad=function(t){void 0===t&&(t=-1),h.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},Hls.prototype.stopLoad=function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},Hls.prototype.swapAudioCodec=function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},Hls.prototype.recoverMediaError=function(){h.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(Hls.prototype,"levels",{get:function get(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"currentLevel",{get:function get(){return this.streamController.currentLevel},set:function set(t){h.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLevel",{get:function get(){return this.streamController.nextLevel},set:function set(t){h.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"loadLevel",{get:function get(){return this.levelController.level},set:function set(t){h.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLoadLevel",{get:function get(){return this.levelController.nextLoadLevel},set:function set(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"firstLevel",{get:function get(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function set(t){h.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"startLevel",{get:function get(){return this.levelController.startLevel},set:function set(t){h.logger.log("set startLevel:"+t);-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelCapping",{get:function get(){return this._autoLevelCapping},set:function set(t){h.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelEnabled",{get:function get(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"manualLevel",{get:function get(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"minAutoLevel",{get:function get(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++){if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>e)return r}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"maxAutoLevel",{get:function get(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextAutoLevel",{get:function get(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function set(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTracks",{get:function get(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTrack",{get:function get(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function set(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"liveSyncPosition",{get:function get(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTracks",{get:function get(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTrack",{get:function get(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function set(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleDisplay",{get:function get(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function set(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),Hls}(n("./src/observer.js").Observer);e.default=m},"./src/is-supported.js":function srcIsSupportedJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/mediasource-helper.js");e.isSupported=function isSupported(){var t=r.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!n&&!!i}},"./src/loader/fragment-loader.js":function srcLoaderFragmentLoaderJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(e){function FragmentLoader(t){var n=e.call(this,t,i.default.FRAG_LOADING)||this;return n.loaders={},n}return r(FragmentLoader,e),FragmentLoader.prototype.destroy=function(){var t=this.loaders;for(var n in t){var r=t[n];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},FragmentLoader.prototype.onFragLoading=function(e){var n=e.frag,r=n.type,i=this.loaders,o=this.hls.config,a=o.fLoader,u=o.loader;n.loaded=0;var l,c,f,p=i[r];p&&(s.logger.warn("abort previous fragment loader for type: "+r),p.abort()),p=i[r]=n.loader=o.fLoader?new a(o):new u(o),l={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var d=n.byteRangeStartOffset,h=n.byteRangeEndOffset;t.isFinite(d)&&t.isFinite(h)&&(l.rangeStart=d,l.rangeEnd=h),c={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},p.load(l,c,f)},FragmentLoader.prototype.loadsuccess=function(t,e,n,r){void 0===r&&(r=null);var o=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:r})},FragmentLoader.prototype.loaderror=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},FragmentLoader.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},FragmentLoader.prototype.loadprogress=function(t,e,n,r){void 0===r&&(r=null);var o=e.frag;o.loaded=t.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:r})},FragmentLoader}(o.default);e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function srcLoaderFragmentJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/level-key.js"),o=function(){function Fragment(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[Fragment.ElementaryStreamTypes.AUDIO]=!1,t[Fragment.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(Fragment,"ElementaryStreamTypes",{get:function get(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"url",{get:function get(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function set(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRange",{get:function get(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeStartOffset",{get:function get(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeEndOffset",{get:function get(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"decryptdata",{get:function get(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"endProgramDateTime",{get:function get(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"encrypted",{get:function get(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),Fragment.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},Fragment.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},Fragment.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},Fragment.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new i.default).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},Fragment}();e.default=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function srcLoaderKeyLoaderJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(t){function KeyLoader(e){var n=t.call(this,e,i.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return r(KeyLoader,t),KeyLoader.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},KeyLoader.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],o=e.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;r&&(s.logger.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new u.loader(u),this.decrypturl=a,this.decryptkey=null;var l,c,f;l={url:a,frag:e,responseType:"arraybuffer"},c={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(l,c,f)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:e}))},KeyLoader.prototype.loadsuccess=function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},KeyLoader.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},KeyLoader.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},KeyLoader}(o.default);e.default=u},"./src/loader/level-key.js":function srcLoaderLevelKeyJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function LevelKey(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(LevelKey.prototype,"uri",{get:function get(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),LevelKey}();e.default=i},"./src/loader/level.js":function srcLoaderLevelJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function Level(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(Level.prototype,"hasProgramDateTime",{get:function get(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),Level}();e.default=n}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function srcLoaderM3u8ParserJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/fragment.js"),o=n("./src/loader/level.js"),a=n("./src/loader/level-key.js"),s=n("./src/utils/attr-list.js"),u=n("./src/utils/logger.js"),l=n("./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),d=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function M3U8Parser(){}return M3U8Parser.findGroup=function(t,e){if(!t)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];i.id===e&&(n=i)}return n},M3U8Parser.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},M3U8Parser.resolve=function(t,e){return r.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},M3U8Parser.parseMasterPlaylist=function(t,e){var n,r=[];function setCodecs(t,e){["video","audio"].forEach((function(n){var r=t.filter((function(t){return l.isCodecType(t,n)}));if(r.length){var i=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=i.length>0?i[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}for(c.lastIndex=0;null!=(n=c.exec(t));){var i={},o=i.attrs=new s.default(n[1]);i.url=M3U8Parser.resolve(n[2],e);var a=o.decimalResolution("RESOLUTION");a&&(i.width=a.width,i.height=a.height),i.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),i.name=o.NAME,setCodecs([].concat((o.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=M3U8Parser.convertAVC1ToAVCOTI(i.videoCodec)),r.push(i)}return r},M3U8Parser.parseMasterPlaylistMedia=function(t,e,n,r){var i;void 0===r&&(r=[]);var o=[],a=0;for(f.lastIndex=0;null!==(i=f.exec(t));){var u={},l=new s.default(i[1]);if(l.TYPE===n){if(u.groupId=l["GROUP-ID"],u.name=l.NAME,u.type=n,u.default="YES"===l.DEFAULT,u.autoselect="YES"===l.AUTOSELECT,u.forced="YES"===l.FORCED,l.URI&&(u.url=M3U8Parser.resolve(l.URI,e)),u.lang=l.LANGUAGE,u.name||(u.name=u.lang),r.length){var c=M3U8Parser.findGroup(r,u.groupId);u.audioCodec=c?c.codec:r[0].codec}u.id=a++,o.push(u)}}return o},M3U8Parser.parseLevelPlaylist=function(e,n,r,l,c){var f,g,y=0,m=0,v=new o.default(n),_=new a.default,b=0,S=null,E=new i.default,x=null;for(p.lastIndex=0;null!==(f=p.exec(e));){var w=f[1];if(w){E.duration=parseFloat(w);var T=(" "+f[2]).slice(1);E.title=T||null,E.tagList.push(T?["INF",w,T]:["INF",w])}else if(f[3]){if(t.isFinite(E.duration)){var P=y++;E.type=l,E.start=m,E.levelkey=_,E.sn=P,E.level=r,E.cc=b,E.urlId=c,E.baseurl=n,E.relurl=(" "+f[3]).slice(1),assignProgramDateTime(E,S),v.fragments.push(E),S=E,m+=E.duration,E=new i.default}}else if(f[4]){if(E.rawByteRange=(" "+f[4]).slice(1),S){var k=S.byteRangeEndOffset;k&&(E.lastByteRangeEndOffset=k)}}else if(f[5])E.rawProgramDateTime=(" "+f[5]).slice(1),E.tagList.push(["PROGRAM-DATE-TIME",E.rawProgramDateTime]),null===x&&(x=v.fragments.length);else{for(f=f[0].match(d),g=1;g<f.length&&void 0===f[g];g++);var C=(" "+f[g+1]).slice(1),D=(" "+f[g+2]).slice(1);switch(f[g]){case"#":E.tagList.push(D?[C,D]:[C]);break;case"PLAYLIST-TYPE":v.type=C.toUpperCase();break;case"MEDIA-SEQUENCE":y=v.startSN=parseInt(C);break;case"TARGETDURATION":v.targetduration=parseFloat(C);break;case"VERSION":v.version=parseInt(C);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"DIS":b++,E.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":b=parseInt(C);break;case"KEY":var A=C,R=new s.default(A),M=R.enumeratedString("METHOD"),L=R.URI,I=R.hexadecimalInteger("IV");M&&(_=new a.default,L&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(M)>=0&&(_.method=M,_.baseuri=n,_.reluri=L,_.key=null,_.iv=I));break;case"START":var O=C,F=new s.default(O).decimalFloatingPoint("TIME-OFFSET");t.isFinite(F)&&(v.startTimeOffset=F);break;case"MAP":var N=new s.default(C);E.relurl=N.URI,E.rawByteRange=N.BYTERANGE,E.baseurl=n,E.level=r,E.type=l,E.sn="initSegment",v.initSegment=E,(E=new i.default).rawProgramDateTime=v.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+f)}}}return(E=S)&&!E.relurl&&(v.fragments.pop(),m-=E.duration),v.totalduration=m,v.averagetargetduration=m/v.fragments.length,v.endSN=y-1,v.startCC=v.fragments[0]?v.fragments[0].cc:0,v.endCC=b,!v.initSegment&&v.fragments.length&&v.fragments.every((function(t){return h.test(t.relurl)}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(E=new i.default).relurl=v.fragments[0].relurl,E.baseurl=n,E.level=r,E.type=l,E.sn="initSegment",v.initSegment=E,v.needSidxRanges=!0),x&&function backfillProgramDateTimes(t,e){for(var n=t[e],r=e-1;r>=0;r--){var i=t[r];i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(v.fragments,x),v},M3U8Parser}();function assignProgramDateTime(e,n){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):n&&n.programDateTime&&(e.programDateTime=n.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}e.default=g}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function srcLoaderPlaylistLoaderJs(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=n("./src/demux/mp4demuxer.js"),l=n("./src/loader/m3u8-parser.js"),c=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},p={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},d=function(e){function PlaylistLoader(t){var n=e.call(this,t,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return r(PlaylistLoader,e),Object.defineProperty(PlaylistLoader,"ContextType",{get:function get(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(PlaylistLoader,"LevelType",{get:function get(){return p},enumerable:!0,configurable:!0}),PlaylistLoader.canHaveQualityLevels=function(t){return t!==f.AUDIO_TRACK&&t!==f.SUBTITLE_TRACK},PlaylistLoader.mapContextToLevelType=function(t){switch(t.type){case f.AUDIO_TRACK:return p.AUDIO;case f.SUBTITLE_TRACK:return p.SUBTITLE;default:return p.MAIN}},PlaylistLoader.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n},PlaylistLoader.prototype.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return t.loader=i,this.loaders[t.type]=i,i},PlaylistLoader.prototype.getInternalLoader=function(t){return this.loaders[t.type]},PlaylistLoader.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},PlaylistLoader.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},PlaylistLoader.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},PlaylistLoader.prototype.onManifestLoading=function(t){this.load(t.url,{type:f.MANIFEST,level:0,id:null})},PlaylistLoader.prototype.onLevelLoading=function(t){this.load(t.url,{type:f.LEVEL,level:t.level,id:t.id})},PlaylistLoader.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:f.AUDIO_TRACK,level:null,id:t.id})},PlaylistLoader.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:f.SUBTITLE_TRACK,level:null,id:t.id})},PlaylistLoader.prototype.load=function(t,e){var n=this.hls.config;s.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,o,a,u=this.getInternalLoader(e);if(u){var l=u.context;if(l&&l.url===t)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case f.MANIFEST:r=n.manifestLoadingMaxRetry,i=n.manifestLoadingTimeOut,o=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:r=0,i=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,i=n.levelLoadingTimeOut,o=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}u=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var c={timeout:i,maxRetry:r,retryDelay:o,maxRetryDelay:a},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+t),u.load(e,c,p),!0},PlaylistLoader.prototype.loadsuccess=function(t,e,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,r);this.resetInternalLoader(n.type);var i=t.data;e.tload=c.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,r):this._handleMasterPlaylist(t,e,n,r):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",r)},PlaylistLoader.prototype.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},PlaylistLoader.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},PlaylistLoader.prototype._handleMasterPlaylist=function(t,e,n,r){var o=this.hls,a=t.data,u=PlaylistLoader.getResponseUrl(t,n),c=l.default.parseMasterPlaylist(a,u);if(c.length){var f=c.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),p=l.default.parseMasterPlaylistMedia(a,u,"AUDIO",f),d=l.default.parseMasterPlaylistMedia(a,u,"SUBTITLES");if(p.length){var h=!1;p.forEach((function(t){t.url||(h=!0)})),!1===h&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}o.trigger(i.default.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:d,url:u,stats:e,networkDetails:r})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},PlaylistLoader.prototype._handleTrackOrLevelPlaylist=function(e,n,r,o){var a=this.hls,s=r.id,u=r.level,p=r.type,d=PlaylistLoader.getResponseUrl(e,r),h=t.isFinite(s)?s:0,g=t.isFinite(u)?u:h,y=PlaylistLoader.mapContextToLevelType(r),m=l.default.parseLevelPlaylist(e.data,d,g,y,h);if(m.tload=n.tload,p===f.MANIFEST){var v={url:d,details:m};a.trigger(i.default.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:d,stats:n,networkDetails:o})}if(n.tparsed=c.now(),m.needSidxRanges){var _=m.initSegment.url;this.load(_,{isSidxRequest:!0,type:p,level:u,levelDetails:m,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=m,this._handlePlaylistLoaded(e,n,r,o)},PlaylistLoader.prototype._handleSidxRequest=function(t,e){var n=u.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var r=n.references,i=e.levelDetails;r.forEach((function(t,e){var n=t.info,r=i.fragments[e];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),i.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},PlaylistLoader.prototype._handleManifestParsingError=function(t,e,n,r){this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:r})},PlaylistLoader.prototype._handleNetworkError=function(t,e,n,r){var o,u;void 0===n&&(n=!1),void 0===r&&(r=null),s.logger.info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case f.MANIFEST:o=n?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case f.LEVEL:o=n?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case f.AUDIO_TRACK:o=n?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;default:u=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var c={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:u,url:l.url,loader:l,context:t,networkDetails:e};r&&(c.response=r),this.hls.trigger(i.default.ERROR,c)},PlaylistLoader.prototype._handlePlaylistLoaded=function(t,e,n,r){var o=n.type,a=n.level,s=n.id,u=n.levelDetails;if(u.targetduration)if(PlaylistLoader.canHaveQualityLevels(n.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:u,level:a||0,id:s||0,stats:e,networkDetails:r});else switch(o){case f.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:u,id:s,stats:e,networkDetails:r});break;case f.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:u,id:s,stats:e,networkDetails:r})}else this._handleManifestParsingError(t,n,"invalid target duration",r)},PlaylistLoader}(o.default);e.default=d}).call(this,n("./src/polyfills/number.js").Number)},"./src/observer.js":function srcObserverJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function Observer(){return null!==t&&t.apply(this,arguments)||this}return r(Observer,t),Observer.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.emit.apply(this,[t,t].concat(e))},Observer}(n("./node_modules/eventemitter3/index.js").EventEmitter);e.Observer=i},"./src/polyfills/number.js":function srcPolyfillsNumberJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js").getSelfScope().Number;e.Number=r,r.isFinite=r.isFinite||function(t){return"number"===typeof t&&isFinite(t)}},"./src/remux/aac-helper.js":function srcRemuxAacHelperJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function AAC(){}return AAC.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},AAC}();e.default=r},"./src/remux/mp4-generator.js":function srcRemuxMp4GeneratorJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.pow(2,32)-1,i=function(){function MP4(){}return MP4.init=function(){var t;for(t in MP4.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},MP4.types)MP4.types.hasOwnProperty(t)&&(MP4.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);MP4.HDLR_TYPES={video:e,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);MP4.STTS=MP4.STSC=MP4.STCO=i,MP4.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),MP4.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),MP4.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),MP4.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,o,s,o,a),MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,r))},MP4.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e},MP4.hdlr=function(t){return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[t])},MP4.mdat=function(t){return MP4.box(MP4.types.mdat,t)},MP4.mdhd=function(t,e){e*=t;var n=Math.floor(e/(r+1)),i=Math.floor(e%(r+1));return MP4.box(MP4.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},MP4.mdia=function(t){return MP4.box(MP4.types.mdia,MP4.mdhd(t.timescale,t.duration),MP4.hdlr(t.type),MP4.minf(t))},MP4.mfhd=function(t){return MP4.box(MP4.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},MP4.minf=function(t){return"audio"===t.type?MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(t)):MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(t))},MP4.moof=function(t,e,n){return MP4.box(MP4.types.moof,MP4.mfhd(t),MP4.traf(n,e))},MP4.moov=function(t){for(var e=t.length,n=[];e--;)n[e]=MP4.trak(t[e]);return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(MP4.mvex(t)))},MP4.mvex=function(t){for(var e=t.length,n=[];e--;)n[e]=MP4.trex(t[e]);return MP4.box.apply(null,[MP4.types.mvex].concat(n))},MP4.mvhd=function(t,e){e*=t;var n=Math.floor(e/(r+1)),i=Math.floor(e%(r+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return MP4.box(MP4.types.mvhd,o)},MP4.sdtp=function(t){var e,n,r=t.samples||[],i=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,i[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return MP4.box(MP4.types.sdtp,i)},MP4.stbl=function(t){return MP4.box(MP4.types.stbl,MP4.stsd(t),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO))},MP4.avc1=function(t){var e,n,r,i=[],o=[];for(e=0;e<t.sps.length;e++)r=(n=t.sps[e]).byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)r=(n=t.pps[e]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));var a=MP4.box(MP4.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),s=t.width,u=t.height,l=t.pixelRatio[0],c=t.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c])))},MP4.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},MP4.mp4a=function(t){var e=t.samplerate;return MP4.box(MP4.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),MP4.box(MP4.types.esds,MP4.esds(t)))},MP4.mp3=function(t){var e=t.samplerate;return MP4.box(MP4.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},MP4.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(t)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(t)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(t))},MP4.tkhd=function(t){var e=t.id,n=t.duration*t.timescale,i=t.width,o=t.height,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return MP4.box(MP4.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},MP4.traf=function(t,e){var n=MP4.sdtp(t),i=t.id,o=Math.floor(e/(r+1)),a=Math.floor(e%(r+1));return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),MP4.box(MP4.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),MP4.trun(t,n.length+16+20+8+16+8+8),n)},MP4.trak=function(t){return t.duration=t.duration||4294967295,MP4.box(MP4.types.trak,MP4.tkhd(t),MP4.mdia(t))},MP4.trex=function(t){var e=t.id;return MP4.box(MP4.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},MP4.trun=function(t,e){var n,r,i,o,a,s,u=t.samples||[],l=u.length,c=12+16*l,f=new Uint8Array(c);for(e+=8+c,f.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),n=0;n<l;n++)i=(r=u[n]).duration,o=r.size,a=r.flags,s=r.cts,f.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*n);return MP4.box(MP4.types.trun,f)},MP4.initSegment=function(t){MP4.types||MP4.init();var e,n=MP4.moov(t);return(e=new Uint8Array(MP4.FTYP.byteLength+n.byteLength)).set(MP4.FTYP),e.set(n,MP4.FTYP.byteLength),e},MP4}();e.default=i},"./src/remux/mp4-remuxer.js":function srcRemuxMp4RemuxerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/remux/aac-helper.js"),i=n("./src/remux/mp4-generator.js"),o=n("./src/events.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(){function MP4Remuxer(t,e,n,r){this.observer=t,this.config=e,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return MP4Remuxer.prototype.destroy=function(){},MP4Remuxer.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},MP4Remuxer.prototype.resetInitSegment=function(){this.ISGenerated=!1},MP4Remuxer.prototype.remux=function(t,e,n,r,i,a,u){if(this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated){var l=t.samples.length,c=e.samples.length,f=i,p=i;if(l&&c){var d=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;f+=Math.max(0,d),p+=Math.max(0,-d)}if(l){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i));var h=this.remuxAudio(t,f,a,u);if(c){var g=void 0;h&&(g=h.endPTS-h.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,p,a,g,u)}}else if(c){var y=this.remuxVideo(e,p,a,0,u);y&&t.codec&&this.remuxEmptyAudio(t,f,a,y)}}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(o.default.FRAG_PARSED)},MP4Remuxer.prototype.generateIS=function(t,e,n){var r,u,l=this.observer,c=t.samples,f=e.samples,p=this.typeSupported,d="audio/mp4",h={},g={tracks:h},y=void 0===this._initPTS;if(y&&(r=u=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(p.mpeg?(d="audio/mpeg",t.codec=""):p.mp3&&(t.codec="mp3")),h.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&p.mpeg?new Uint8Array:i.default.initSegment([t]),metadata:{channelCount:t.channelCount}},y&&(r=u=c[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&f.length){var m=e.inputTimeScale;e.timescale=m,h.video={container:"video/mp4",codec:e.codec,initSegment:i.default.initSegment([e]),metadata:{width:e.width,height:e.height}},y&&(r=Math.min(r,f[0].pts-m*n),u=Math.min(u,f[0].dts-m*n),this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(h).length?(l.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,y&&(this.config.disablePtsDtsCorrectionInMp4Remux?(this._initPTS=0,this._initDTS=0):(this._initPTS=r,this._initDTS=u))):l.trigger(o.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},MP4Remuxer.prototype.remuxVideo=function(t,e,n,r,u){var l,c,f,p,d,h,g,y=8,m=t.timescale,v=t.samples,_=[],b=v.length,S=this._PTSNormalize,E=this._initPTS,x=this.nextAvcDts,w=this.isSafari;if(0!==b){w&&(n|=v.length&&x&&(u&&Math.abs(e-x/m)<.1||Math.abs(v[0].pts-x-E)<m/5)),n||(x=e*m),v.forEach((function(t){t.pts=S(t.pts-E,x),t.dts=S(t.dts-E,x)})),v.sort((function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id}));var T=v.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(T<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(T/90)+" ms to overcome this issue");for(var P=0;P<v.length;P++)v[P].dts+=T}var k=v[0];d=Math.max(k.dts,0),p=Math.max(k.pts,0);var C=Math.round((d-x)/90);n&&C&&(C>1?s.logger.log("AVC:"+C+" ms hole between fragments detected,filling it"):C<-1&&s.logger.log("AVC:"+-C+" ms overlapping between fragments detected"),d=x,v[0].dts=d,p=Math.max(p-C,x),v[0].pts=p,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(d/90)+",delta:"+C+" ms")),k=v[v.length-1],g=Math.max(k.dts,0),h=Math.max(k.pts,0,g),w&&(l=Math.round((g-d)/(v.length-1)));var D=0,A=0;for(P=0;P<b;P++){for(var R=v[P],M=R.units,L=M.length,I=0,O=0;O<L;O++)I+=M[O].data.length;A+=I,D+=L,R.length=I,R.dts=w?d+P*l:Math.max(R.dts,d),R.pts=Math.max(R.pts,R.dts)}var F=A+4*D+8;try{c=new Uint8Array(F)}catch(Q){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var N=new DataView(c.buffer);N.setUint32(0,F),c.set(i.default.types.mdat,4);for(P=0;P<b;P++){var B=v[P],U=B.units,z=0,j=void 0;for(O=0,L=U.length;O<L;O++){var V=U[O],G=V.data,W=V.data.byteLength;N.setUint32(y,W),y+=4,c.set(G,y),y+=W,z+=4+W}if(w)j=Math.max(0,l*Math.round((B.pts-B.dts)/l));else{if(P<b-1)l=v[P+1].dts-B.dts;else{var q=this.config,H=B.dts-v[P>0?P-1:P].dts;if(q.stretchShortVideoTrack){var K=q.maxBufferHole,Y=Math.floor(K*m),X=(r?p+r*m:this.nextAudioPts)-B.pts;X>Y?((l=X-H)<0&&(l=H),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=H}else l=H}j=Math.round(B.pts-B.dts)}_.push({size:z,duration:l,cts:j,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=g+l;var Z=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var $=_[0].flags;$.dependsOn=2,$.isNonSync=0}t.samples=_,f=i.default.moof(t.sequenceNumber++,d,t),t.samples=[];var J={data1:f,data2:c,startPTS:p/m,endPTS:(h+l)/m,startDTS:d/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:_.length,dropped:Z};return this.observer.trigger(o.default.FRAG_PARSING_DATA,J),J}},MP4Remuxer.prototype.remuxAudio=function(t,e,n,u){var l,c,f,p,d,h,g,y=t.inputTimeScale,m=t.timescale,v=y/m,_=(t.isAAC?1024:1152)*v,b=this._PTSNormalize,S=this._initPTS,E=!t.isAAC&&this.typeSupported.mpeg,x=t.samples,w=[],T=this.nextAudioPts;if(n|=x.length&&T&&(u&&Math.abs(e-T/y)<.1||Math.abs(x[0].pts-T-S)<20*_),x.forEach((function(t){t.pts=t.dts=b(t.pts-S,e*y)})),0!==(x=x.filter((function(t){return t.pts>=0}))).length){if(n||(T=u?e*y:x[0].pts),t.isAAC)for(var P=this.config.maxAudioFramesDrift,k=0,C=T;k<x.length;){var D,A=x[k];D=(B=A.pts)-C;var R=Math.abs(1e3*D/y);if(D<=-P*_)s.logger.warn("Dropping 1 audio frame @ "+(C/y).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),x.splice(k,1),t.len-=A.unit.length;else if(D>=P*_&&R<1e4&&C){var M=Math.round(D/_);s.logger.warn("Injecting "+M+" audio frame @ "+(C/y).toFixed(3)+"s due to "+Math.round(1e3*D/y)+" ms gap.");for(var L=0;L<M;L++){var I=Math.max(C,0);(f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=A.unit.subarray()),x.splice(k,0,{unit:f,pts:I,dts:I}),t.len+=f.length,C+=_,k++}A.pts=A.dts=C,C+=_,k++}else Math.abs(D),A.pts=A.dts=C,C+=_,k++}L=0;for(var O=x.length;L<O;L++){var F=x[L],N=F.unit,B=F.pts;if(void 0!==g)c.duration=Math.round((B-g)/v);else{var U=Math.round(1e3*(B-T)/y),z=0;if(n&&t.isAAC&&U){if(U>0&&U<1e4)z=Math.round((B-T)/_),s.logger.log(U+" ms hole between AAC samples detected,filling it"),z>0&&((f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(f=N.subarray()),t.len+=z*f.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(T/y).toFixed(3)+"s/"+(B/y).toFixed(3)+"s/"+-U+"ms"),t.len-=N.byteLength;continue}B=T}if(h=B,!(t.len>0))return;var j=E?t.len:t.len+8;l=E?0:8;try{p=new Uint8Array(j)}catch(Y){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}E||(new DataView(p.buffer).setUint32(0,j),p.set(i.default.types.mdat,4));for(k=0;k<z;k++)(f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=N.subarray()),p.set(f,l),l+=f.byteLength,c={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c)}p.set(N,l);var V=N.byteLength;l+=V,c={size:V,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c),g=B}var G=0,W=w.length;if(W>=2&&(G=w[W-2].duration,c.duration=G),W){this.nextAudioPts=T=g+v*G,t.len=0,t.samples=w,d=E?new Uint8Array:i.default.moof(t.sequenceNumber++,h/v,t),t.samples=[];var q=h/y,H=T/y,K={data1:d,data2:p,startPTS:q,endPTS:H,startDTS:q,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(o.default.FRAG_PARSING_DATA,K),K}return null}},MP4Remuxer.prototype.remuxEmptyAudio=function(t,e,n,i){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),u=this.nextAudioPts,l=(void 0!==u?u:i.startDTS*o)+this._initDTS,c=i.endDTS*o+this._initDTS,f=1024*a,p=Math.ceil((c-l)/f),d=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),d){for(var h=[],g=0;g<p;g++){var y=l+g*f;h.push({unit:d,pts:y,dts:y}),t.len+=d.length}t.samples=h,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},MP4Remuxer.prototype.remuxID3=function(t){var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(e=t.samples[s]).pts=(e.pts-i)/r,e.dts=(e.dts-a)/r;this.observer.trigger(o.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},MP4Remuxer.prototype.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS;if(n){for(var a=0;a<n;a++)(e=t.samples[a]).pts=(e.pts-i)/r;this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},MP4Remuxer.prototype._PTSNormalize=function(t,e){return t},MP4Remuxer}();e.default=u},"./src/remux/passthrough-remuxer.js":function srcRemuxPassthroughRemuxerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),i=function(){function PassThroughRemuxer(t){this.observer=t}return PassThroughRemuxer.prototype.destroy=function(){},PassThroughRemuxer.prototype.resetTimeStamp=function(){},PassThroughRemuxer.prototype.resetInitSegment=function(){},PassThroughRemuxer.prototype.remux=function(t,e,n,i,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(r.default.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(r.default.FRAG_PARSED)},PassThroughRemuxer}();e.default=i},"./src/task-loop.js":function srcTaskLoopJs(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function TaskLoop(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t.apply(this,[e].concat(n))||this;return i._tickInterval=null,i._tickTimer=null,i._tickCallCount=0,i._boundTick=i.tick.bind(i),i}return r(TaskLoop,t),TaskLoop.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},TaskLoop.prototype.hasInterval=function(){return!!this._tickInterval},TaskLoop.prototype.hasNextTick=function(){return!!this._tickTimer},TaskLoop.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},TaskLoop.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},TaskLoop.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},TaskLoop.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},TaskLoop.prototype.doTick=function(){},TaskLoop}(n("./src/event-handler.js").default);e.default=i},"./src/utils/attr-list.js":function srcUtilsAttrListJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function AttrList(t){for(var e in"string"===typeof t&&(t=AttrList.parseAttrList(t)),t)t.hasOwnProperty(e)&&(this[e]=t[e])}return AttrList.prototype.decimalInteger=function(e){var n=parseInt(this[e],10);return n>t.MAX_SAFE_INTEGER?1/0:n},AttrList.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},AttrList.prototype.hexadecimalIntegerAsNumber=function(e){var n=parseInt(this[e],16);return n>t.MAX_SAFE_INTEGER?1/0:n},AttrList.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},AttrList.prototype.enumeratedString=function(t){return this[t]},AttrList.prototype.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},AttrList.parseAttrList=function(t){var e,n={};for(r.lastIndex=0;null!==(e=r.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},AttrList}();e.default=i}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function srcUtilsBinarySearchJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={search:function search(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.js":function srcUtilsBufferHelperJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function BufferHelper(){}return BufferHelper.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(i){}return!1},BufferHelper.bufferInfo=function(t,e,n){try{if(t){var r=t.buffered,i=[],o=void 0;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(a){}return{len:0,start:e,end:e,nextStart:void 0}},BufferHelper.bufferedInfo=function(t,e,n){var r,i,o,a,s,u=[];for(t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end})),s=0;s<t.length;s++){var l=u.length;if(l){var c=u[l-1].end;t[s].start-c<n?t[s].end>c&&(u[l-1].end=t[s].end):u.push(t[s])}else u.push(t[s])}for(s=0,r=0,i=o=e;s<u.length;s++){var f=u[s].start,p=u[s].end;if(e+n>=f&&e<p)i=f,r=(o=p)-e;else if(e+n<f){a=f;break}}return{len:r,start:i,end:o,nextStart:a}},BufferHelper}();e.BufferHelper=r},"./src/utils/cea-608-parser.js":function srcUtilsCea608ParserJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function getCharForByte(t){var e=t;return r.hasOwnProperty(t)&&(e=r[t]),String.fromCharCode(e)},o=15,a=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function setTime(t){this.time=t},log:function log(t,e){this.verboseFilter[t];this.verboseLevel}},d=function numArrayToHexArray(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},h=function(){function PenState(t,e,n,r,i){this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}return PenState.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},PenState.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},PenState.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},PenState.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},PenState.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},PenState.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},PenState}(),g=function(){function StyledUnicodeChar(t,e,n,r,i,o){this.uchar=t||" ",this.penState=new h(e,n,r,i,o)}return StyledUnicodeChar.prototype.reset=function(){this.uchar=" ",this.penState.reset()},StyledUnicodeChar.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},StyledUnicodeChar.prototype.setPenState=function(t){this.penState.copy(t)},StyledUnicodeChar.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},StyledUnicodeChar.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},StyledUnicodeChar.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},StyledUnicodeChar}(),y=function(){function Row(){this.chars=[];for(var t=0;t<a;t++)this.chars.push(new g);this.pos=0,this.currPenState=new h}return Row.prototype.equals=function(t){for(var e=!0,n=0;n<a;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},Row.prototype.copy=function(t){for(var e=0;e<a;e++)this.chars[e].copy(t.chars[e])},Row.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},Row.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=a)},Row.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},Row.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},Row.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=i(t);this.pos>=a?p.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},Row.prototype.clearFromPos=function(t){var e;for(e=t;e<a;e++)this.chars[e].reset()},Row.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},Row.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},Row.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<a;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},Row.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},Row}(),m=function(){function CaptionScreen(){this.rows=[];for(var t=0;t<o;t++)this.rows.push(new y);this.currRow=o-1,this.nrRollUpRows=null,this.reset()}return CaptionScreen.prototype.reset=function(){for(var t=0;t<o;t++)this.rows[t].clear();this.currRow=o-1},CaptionScreen.prototype.equals=function(t){for(var e=!0,n=0;n<o;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},CaptionScreen.prototype.copy=function(t){for(var e=0;e<o;e++)this.rows[e].copy(t.rows[e])},CaptionScreen.prototype.isEmpty=function(){for(var t=!0,e=0;e<o;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},CaptionScreen.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},CaptionScreen.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},CaptionScreen.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},CaptionScreen.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},CaptionScreen.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},CaptionScreen.prototype.setCursor=function(t){p.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},CaptionScreen.prototype.setPAC=function(t){p.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<o;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime;if(a&&a<p.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[e-this.nrRollUpRows+n+1].copy(i.rows[r+n])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,l=Math.max(u-1,0);s.setCursor(t.indent),t.color=s.chars[l].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},CaptionScreen.prototype.setBkgData=function(t){p.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},CaptionScreen.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},CaptionScreen.prototype.rollUp=function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")},CaptionScreen.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<o;i++){var a=this.rows[i].getTextString();a&&(r=i+1,t?e.push("Row "+r+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},CaptionScreen.prototype.getTextAndFormat=function(){return this.rows},CaptionScreen}(),v=function(){function Cea608Channel(t,e){this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new m,this.nonDisplayedMemory=new m,this.lastOutputScreen=new m,this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return Cea608Channel.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},Cea608Channel.prototype.getHandler=function(){return this.outputFilter},Cea608Channel.prototype.setHandler=function(t){this.outputFilter=t},Cea608Channel.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},Cea608Channel.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},Cea608Channel.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,p.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},Cea608Channel.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},Cea608Channel.prototype.ccRCL=function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},Cea608Channel.prototype.ccBS=function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},Cea608Channel.prototype.ccAOF=function(){},Cea608Channel.prototype.ccAON=function(){},Cea608Channel.prototype.ccDER=function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},Cea608Channel.prototype.ccRU=function(t){p.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},Cea608Channel.prototype.ccFON=function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},Cea608Channel.prototype.ccRDC=function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},Cea608Channel.prototype.ccTR=function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccRTD=function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccEDM=function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccCR=function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccENM=function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},Cea608Channel.prototype.ccEOC=function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},Cea608Channel.prototype.ccTO=function(t){p.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},Cea608Channel.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}p.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},Cea608Channel.prototype.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=p.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},Cea608Channel.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},Cea608Channel}(),_=function(){function Cea608Parser(t,e,n){this.field=t||1,this.outputs=[e,n],this.channels=[new v(1,e),new v(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return Cea608Parser.prototype.getHandler=function(t){return this.channels[t].getHandler()},Cea608Parser.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},Cea608Parser.prototype.addData=function(t,e){var n,r,i,o=!1;this.lastTime=t,p.setTime(t);for(var a=0;a<e.length;a+=2)if(r=127&e[a],i=127&e[a+1],0!==r||0!==i){if(p.log("DATA","["+d([e[a],e[a+1]])+"] -> ("+d([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n)if(o=this.parseChars(r,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(o);else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+d([r,i])+" orig: "+d([e[a],e[a+1]])))}else this.dataCounters.padding+=2},Cea608Parser.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+d([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var r=this.channels[n-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},Cea608Parser.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&e>=32&&e<=47&&((n=17===t?1:2)!==this.currChNr?(p.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),p.log("DEBUG","MIDROW ("+d([t,e])+")"),!0))},Cea608Parser.prototype.parsePAC=function(t,e){var n,r=null;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,r=e>=64&&e<=95?1===n?s[t]:l[t]:1===n?u[t]:c[t];var i=this.interpretPAC(r,e);return this.channels[n-1].setPAC(i),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},Cea608Parser.prototype.interpretPAC=function(t,e){var n=e,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},Cea608Parser.prototype.parseChars=function(t,e){var n=null,r=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19){var a=e;a=17===o?e+80:18===o?e+112:e+144,p.log("INFO","Special char '"+i(a)+"' in channel "+n),r=[a]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var s=d(r);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},Cea608Parser.prototype.parseBackgroundAttributes=function(t,e){var n,r,i;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=f[r],e%2===1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},Cea608Parser.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},Cea608Parser.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},Cea608Parser}();e.default=_},"./src/utils/codecs.js":function srcUtilsCodecsJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function isCodecType(t,e){var n=r[e];return!!n&&!0===n[t.slice(0,4)]},e.isCodecSupportedInMp4=function isCodecSupportedInMp4(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.js":function srcUtilsCuesJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttparser.js");e.newCue=function newCue(t,e,n,i){for(var o,a,s,u,l,c=window.VTTCue||window.TextTrackCue,f=0;f<i.rows.length;f++)if(s=!0,u=0,l="",!(o=i.rows[f]).isEmpty()){for(var p=0;p<o.chars.length;p++)o.chars[p].uchar.match(/\s/)&&s?u++:(l+=o.chars[p].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),a=new c(e,n,r.fixLineBreaks(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=f+1:a.line=f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}},"./src/utils/discontinuities.js":function srcUtilsDiscontinuitiesJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/binary-search.js"),i=n("./src/utils/logger.js");function findFirstFragWithCC(t,e){for(var n=null,r=0;r<t.length;r+=1){var i=t[r];if(i&&i.cc===e){n=i;break}}return n}function shouldAlignOnDiscontinuities(t,e,n){var r=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(r=!0),r}function findDiscontinuousReferenceFrag(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var o=findFirstFragWithCC(n,r[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function adjustPts(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}function alignDiscontinuities(t,e,n){if(shouldAlignOnDiscontinuities(t,n,e)){var r=findDiscontinuousReferenceFrag(n.details,e);r&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level"),adjustPts(r.start,e))}}function alignPDT(e,n){if(n&&n.fragments.length){if(!e.hasProgramDateTime||!n.hasProgramDateTime)return;var r=n.fragments[0].programDateTime,o=(e.fragments[0].programDateTime-r)/1e3+n.fragments[0].start;t.isFinite(o)&&(i.logger.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),adjustPts(o,e))}}e.findFirstFragWithCC=findFirstFragWithCC,e.findFragWithCC=function findFragWithCC(t,e){return r.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.shouldAlignOnDiscontinuities=shouldAlignOnDiscontinuities,e.findDiscontinuousReferenceFrag=findDiscontinuousReferenceFrag,e.adjustPts=adjustPts,e.alignStream=function alignStream(t,e,n){alignDiscontinuities(t,n,e),!n.PTSKnown&&e&&alignPDT(n,e.details)},e.alignDiscontinuities=alignDiscontinuities,e.alignPDT=alignPDT}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function srcUtilsEwmaBandwidthEstimatorJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/ewma.js"),i=function(){function EwmaBandWidthEstimator(t,e,n,i){this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(n)}return EwmaBandWidthEstimator.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),r=t/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},EwmaBandWidthEstimator.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},EwmaBandWidthEstimator.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},EwmaBandWidthEstimator.prototype.destroy=function(){},EwmaBandWidthEstimator}();e.default=i},"./src/utils/ewma.js":function srcUtilsEwmaJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function EWMA(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return EWMA.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},EWMA.prototype.getTotalWeight=function(){return this.totalWeight_},EWMA.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},EWMA}();e.default=r},"./src/utils/get-self-scope.js":function srcUtilsGetSelfScopeJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function getSelfScope(){return"undefined"===typeof window?self:window}},"./src/utils/logger.js":function srcUtilsLoggerJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js");function noop(){}var i={trace:noop,debug:noop,log:noop,warn:noop,info:noop,error:noop},o=i;function formatMsg(t,e){return e="["+t+"] > "+e}var a=r.getSelfScope();function exportLoggerFunctions(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e){o[e]=t[e]?t[e].bind(t):function consolePrintFn(t){var e=a.console[t];return e?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]&&(n[0]=formatMsg(t,n[0])),e.apply(a.console,n)}:noop}(e)}))}e.enableLogs=function(t){if(!0===t||"object"===typeof t){exportLoggerFunctions(t,"debug","log","info","warn","error");try{o.log()}catch(e){o=i}}else o=i},e.logger=o},"./src/utils/mediakeys-helper.js":function srcUtilsMediakeysHelperJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":function srcUtilsMediasourceHelperJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function getMediaSource(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":function srcUtilsOutputFilterJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function OutputFilter(t,e){this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}return OutputFilter.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},OutputFilter.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},OutputFilter}();e.default=r},"./src/utils/texttrack-utils.js":function srcUtilsTexttrackUtilsJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function sendAddTrackEvent(t,e){var n=null;try{n=new window.Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.clearCurrentCues=function clearCurrentCues(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},"./src/utils/time-ranges.js":function srcUtilsTimeRangesJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={toString:function toString(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}}},"./src/utils/vttcue.js":function srcUtilsVttcueJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function findAlignSetting(t){return"string"===typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function extend(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function VTTCue(n,r,i){var o=this,a=function(){if("undefined"!==typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),s={};a?o=document.createElement("custom"):s.enumerable=!0,o.hasBeenReset=!1;var u="",l=!1,c=n,f=r,p=i,d=null,h="",g=!0,y="auto",m="start",v=50,_="middle",b=50,S="middle";if(Object.defineProperty(o,"id",extend({},s,{get:function get(){return u},set:function set(t){u=""+t}})),Object.defineProperty(o,"pauseOnExit",extend({},s,{get:function get(){return l},set:function set(t){l=!!t}})),Object.defineProperty(o,"startTime",extend({},s,{get:function get(){return c},set:function set(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",extend({},s,{get:function get(){return f},set:function set(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",extend({},s,{get:function get(){return p},set:function set(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",extend({},s,{get:function get(){return d},set:function set(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",extend({},s,{get:function get(){return h},set:function set(t){var n=function findDirectionSetting(t){return"string"===typeof t&&(!!e[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");h=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",extend({},s,{get:function get(){return g},set:function set(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",extend({},s,{get:function get(){return y},set:function set(e){if("number"!==typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",extend({},s,{get:function get(){return m},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",extend({},s,{get:function get(){return v},set:function set(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",extend({},s,{get:function get(){return _},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",extend({},s,{get:function get(){return b},set:function set(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",extend({},s,{get:function get(){return S},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),o.displayState=void 0,a)return o}return VTTCue.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},VTTCue}()},"./src/utils/vttparser.js":function srcUtilsVttparserJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttcue.js"),i=function StringDecoder(){return{decode:function decode(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function VTTParser(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function Settings(){this.values=Object.create(null)}function parseOptions(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);if(2===a.length)e(a[0],a[1])}}Settings.prototype={set:function set(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function has(t){return t in this.values},alt:function alt(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function percent(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var o=new r.default(0,0,0),a="middle"===o.align?"middle":"center";function parseCue(t,e,n){var r=t;function consumeTimeStamp(){var e=function parseTimeStamp(t){function computeSeconds(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var e=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?computeSeconds(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?computeSeconds(e[1],e[2],0,e[4]):computeSeconds(0,e[1],e[2],e[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function skipWhitespace(){t=t.replace(/^\s+/,"")}if(skipWhitespace(),e.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),skipWhitespace(),e.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(t,e){var r=new Settings;parseOptions(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),s=o[0];r.integer(t,s),r.percent(t,s)&&r.set("snapToLines",!1),r.alt(t,s,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",a,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",a,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",a,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===o.line&&(i=-1),e.line=i,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",a);var s=r.get("position","auto");"auto"===s&&50===o.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function fixLineBreaks(t){return t.replace(/<br(?: \/)?>/gi,"\n")}e.fixLineBreaks=fixLineBreaks,VTTParser.prototype={parse:function parse(t){var e=this;function collectNextLine(){var t=e.buffer,n=0;for(t=fixLineBreaks(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var r=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var i=(n=collectNextLine()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:n=collectNextLine(),e.state){case"HEADER":/:/.test(n)?parseOptions(n,(function(t,e){}),/:/):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;if(e.cue=new r.default(0,0,""),e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":try{parseCue(n,e.cue,e.regionList)}catch(s){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n;continue;case"BADCUE":n||(e.state="ID");continue}}}catch(s){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function flush(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},e.default=VTTParser},"./src/utils/webvtt-parser.js":function srcUtilsWebvttParserJs(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttparser.js"),i=n("./src/demux/id3.js"),o=function startsWith(t,e,n){return t.substr(n||0,e.length)===e},a=function hash(t){for(var hash=5381,e=t.length;e;)hash=33*hash^t.charCodeAt(--e);return(hash>>>0).toString()},s={parse:function parse(e,n,s,u,l,c){var f,p=i.utf8ArrayToStr(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",h=0,g=0,y=0,m=[],v=!0,_=new r.default;_.oncue=function(t){var e=s[u],n=s.ccOffset;e&&e.new&&(void 0!==g?n=s.ccOffset=e.start:function calculateOffset(t,e,n){var r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)t.ccOffset+=r.start-i.start,r.new=!1,i=t[(r=i).prevCC];t.presentationOffset=n}(s,u,y)),y&&(n=y-s.presentationOffset),t.startTime+=n-g,t.endTime+=n-g,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&m.push(t)},_.onparsingerror=function(t){f=t},_.onflush=function(){f&&c?c(f):l(m)},p.forEach((function(e){if(v){if(o(e,"X-TIMESTAMP-MAP=")){v=!1,e.substr(16).split(",").forEach((function(t){o(t,"LOCAL:")?d=t.substr(6):o(t,"MPEGTS:")&&(h=parseInt(t.substr(7)))}));try{n+(9e4*s[u].start||0)<0&&(n+=8589934592),h-=n,g=function cueString2millis(e){var n=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return t.isFinite(n)&&t.isFinite(r)&&t.isFinite(i)&&t.isFinite(o)?(n+=1e3*r,n+=6e4*i,n+=36e5*o):-1}(d)/1e3,y=h/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(r){f=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(v=!1)}_.parse(e+"\n")})),_.flush()}};e.default=s}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":function srcUtilsXhrLoaderJs(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=window.performance,o=window.XMLHttpRequest,a=function(){function XhrLoader(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return XhrLoader.prototype.destroy=function(){this.abort(),this.loader=null},XhrLoader.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},XhrLoader.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:i.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},XhrLoader.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new o;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,e.url)}catch(i){t.open("GET",e.url,!0),r(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},XhrLoader.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,o=this.stats,a=this.context,s=this.config;if(!o.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(i.now(),o.trequest)),4===n){var u=e.status;if(u>=200&&u<300){o.tload=Math.max(o.tfirst,i.now());var l=void 0,c=void 0;c="arraybuffer"===a.responseType?(l=e.response).byteLength:(l=e.responseText).length,o.loaded=o.total=c;var f={url:e.responseURL,data:l};this.callbacks.onSuccess(f,o,a,e)}else o.retry>=s.maxRetry||u>=400&&u<499?(r.logger.error(u+" while loading "+a.url),this.callbacks.onError({code:u,text:e.statusText},a,e)):(r.logger.warn(u+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),o.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},XhrLoader.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},XhrLoader.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,e)},XhrLoader}();e.default=a}}).default}))},function(t,e,n){var r;!function(n){"use strict";var i=2e3,o={s:1,n:0,d:1};function createError(t){function errorConstructor(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function IntermediateInheritor(){}return IntermediateInheritor.prototype=Error.prototype,errorConstructor.prototype=new IntermediateInheritor,errorConstructor}var a=Fraction.DivisionByZero=createError("DivisionByZero"),s=Fraction.InvalidParameter=createError("InvalidParameter");function assign(t,e){return isNaN(t=parseInt(t,10))&&throwInvalidParam(),t*e}function throwInvalidParam(){throw new s}var u=function parse(t,e){var n,r=0,i=1,s=1,u=0,l=0,c=0,f=1,p=1,d=0,h=1,g=1,y=1,m=1e7;if(void 0===t||null===t);else if(void 0!==e)s=(r=t)*(i=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):throwInvalidParam(),s=r*i;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)r=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));h<=m&&y<=m;){if(t===(n=(d+g)/(h+y))){h+y<=m?(r=d+g,i=h+y):y>h?(r=g,i=y):(r=d,i=h);break}t>n?(d+=g,h+=y):(g+=d,y+=h),h>m?(r=g,i=y):(r=d,i=h)}r*=p}else(isNaN(t)||isNaN(e))&&(i=r=NaN);break;case"string":if(null===(h=t.match(/\d+|./g))&&throwInvalidParam(),"-"===h[d]?(s=-1,d++):"+"===h[d]&&d++,h.length===d+1?l=assign(h[d++],s):"."===h[d+1]||"."===h[d]?("."!==h[d]&&(u=assign(h[d++],s)),(++d+1===h.length||"("===h[d+1]&&")"===h[d+3]||"'"===h[d+1]&&"'"===h[d+3])&&(l=assign(h[d],s),f=Math.pow(10,h[d].length),d++),("("===h[d]&&")"===h[d+2]||"'"===h[d]&&"'"===h[d+2])&&(c=assign(h[d+1],s),p=Math.pow(10,h[d+1].length)-1,d+=3)):"/"===h[d+1]||":"===h[d+1]?(l=assign(h[d],s),f=assign(h[d+2],1),d+=3):"/"===h[d+3]&&" "===h[d+1]&&(u=assign(h[d],s),l=assign(h[d+2],s),f=assign(h[d+4],1),d+=5),h.length<=d){s=r=c+(i=f*p)*u+p*l;break}default:throwInvalidParam()}if(0===i)throw new a;o.s=s<0?-1:1,o.n=Math.abs(r),o.d=Math.abs(i)};function _gcd(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function Fraction(t,e){if(!(this instanceof Fraction))return new Fraction(t,e);u(t,e),t=Fraction.REDUCE?_gcd(o.d,o.n):1,this.s=o.s,this.n=o.n/t,this.d=o.d/t}Fraction.REDUCE=1,Fraction.prototype={s:1,n:0,d:1,abs:function abs(){return new Fraction(this.n,this.d)},neg:function neg(){return new Fraction(-this.s*this.n,this.d)},add:function add(t,e){return u(t,e),new Fraction(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function sub(t,e){return u(t,e),new Fraction(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function mul(t,e){return u(t,e),new Fraction(this.s*o.s*this.n*o.n,this.d*o.d)},div:function div(t,e){return u(t,e),new Fraction(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function clone(){return new Fraction(this)},mod:function mod(t,e){return isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):void 0===t?new Fraction(this.s*this.n%this.d,1):(u(t,e),0===o.n&&0===this.d&&Fraction(0,0),new Fraction(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function gcd(t,e){return u(t,e),new Fraction(_gcd(o.n,this.n)*_gcd(o.d,this.d),o.d*this.d)},lcm:function lcm(t,e){return u(t,e),0===o.n&&0===this.n?new Fraction:new Fraction(o.n*this.n,_gcd(o.n,this.n)*_gcd(o.d,this.d))},ceil:function ceil(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.ceil(t*this.s*this.n/this.d),t)},floor:function floor(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.floor(t*this.s*this.n/this.d),t)},round:function round(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.round(t*this.s*this.n/this.d),t)},inverse:function inverse(){return new Fraction(this.s*this.d,this.n)},pow:function pow(t){return t<0?new Fraction(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new Fraction(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function equals(t,e){return u(t,e),this.s*this.n*o.d===o.s*o.n*this.d},compare:function compare(t,e){u(t,e);var n=this.s*this.n*o.d-o.s*o.n*this.d;return(0<n)-(n<0)},simplify:function simplify(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function rec(t){return 1===t.length?new Fraction(t[0]):rec(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var r=rec(e.slice(0,n+1));if(r.sub(this.abs()).abs().valueOf()<t)return r.mul(this.s)}return this},divisible:function divisible(t,e){return u(t,e),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function valueOf(){return this.s*this.n/this.d},toFraction:function toFraction(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function toLatex(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function toContinued(){var t,e=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function toString(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";Fraction.REDUCE||(n/=e=_gcd(n,r),r/=e),t=t||15;var o=function cycleLen(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>i)return 0;return r}(0,r),a=function cycleStart(t,e,n){for(var r=1,i=function modpow(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,r,o),s=-1===this.s?"-":"";if(s+=n/r|0,n%=r,(n*=10)&&(s+="."),o){for(var u=a;u--;)s+=n/r|0,n%=r,n*=10;s+="(";for(u=o;u--;)s+=n/r|0,n%=r,n*=10;s+=")"}else for(u=t;n&&u--;)s+=n/r|0,n%=r,n*=10;return s}},void 0===(r=function(){return Fraction}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function naturalSort(t,e){"use strict";var n,r,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function i(t){return naturalSort.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(a,"")||"",p=c(e).replace(a,"")||"",d=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(f.match(u),16)||1!==d.length&&f.match(s)&&Date.parse(f),y=parseInt(p.match(u),16)||g&&p.match(s)&&Date.parse(p)||null;if(y){if(g<y)return-1;if(g>y)return 1}for(var m=0,v=Math.max(d.length,h.length);m<v;m++){if(n=!(d[m]||"").match(l)&&parseFloat(d[m])||d[m]||0,r=!(h[m]||"").match(l)&&parseFloat(h[m])||h[m]||0,isNaN(n)!==isNaN(r))return isNaN(n)?1:-1;if(typeof n!==typeof r&&(n+="",r+=""),n<r)return-1;if(n>r)return 1}return 0}},function(t,e,n){var r=n(178);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),a=_interopRequireDefault(n(25)),s=_interopRequireDefault(n(247)),u=_interopRequireDefault(n(186));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function(){function StyleRule(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StyleRule),this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer,o=n.selector;this.key=t,this.options=n,this.style=e,o&&(this.selectorText=o),this.renderer=r?r.renderer:new i}return o(StyleRule,[{key:"prop",value:function prop(t,e){if(void 0===e)return this.style[t];if(this.style[t]===e)return this;var n=null==(e=this.options.jss.plugins.onChangeValue(e,t,this))||!1===e,r=t in this.style;if(n&&!r)return this;var i=n&&r;if(i?delete this.style[t]:this.style[t]=e,this.renderable)return i?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,e),this;var o=this.options.sheet;return o&&o.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function applyTo(t){var e=this.toJSON();for(var n in e)this.renderer.setProperty(t,n,e[n]);return this}},{key:"toJSON",value:function toJSON(){var t={};for(var e in this.style){var n=this.style[e];"object"!==("undefined"===typeof n?"undefined":i(n))?t[e]=n:Array.isArray(n)&&(t[e]=(0,u.default)(n))}return t}},{key:"toString",value:function toString(t){var e=this.options.sheet,n=!!e&&e.options.link?r({},t,{allowEmpty:!0}):t;return(0,s.default)(this.selector,this.style,n)}},{key:"selector",set:function set(t){if(t!==this.selectorText&&(this.selectorText=t,this.renderable&&!this.renderer.setSelector(this.renderable,t)&&this.renderable)){var e=this.renderer.replaceRule(this.renderable,this);e&&(this.renderable=e)}},get:function get(){return this.selectorText}}]),StyleRule}();e.default=l},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.convertHexToRGB=convertHexToRGB,e.decomposeColor=decomposeColor,e.recomposeColor=recomposeColor,e.getContrastRatio=function getContrastRatio(t,e){var n=getLuminance(t),r=getLuminance(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},e.getLuminance=getLuminance,e.emphasize=function emphasize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return getLuminance(t)>.5?darken(t,e):lighten(t,e)},e.fade=function fade(t,e){if(!t)return t;t=decomposeColor(t),e=clamp(e),("rgb"===t.type||"hsl"===t.type)&&(t.type+="a");return t.values[3]=e,recomposeColor(t)},e.darken=darken,e.lighten=lighten;r(n(64));function clamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t}function convertHexToRGB(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length/3,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb(".concat(n.map((function(t){return parseInt(t,16)})).join(", "),")"):""}function decomposeColor(t){if("#"===t.charAt(0))return decomposeColor(convertHexToRGB(t));var e=t.indexOf("("),n=t.substring(0,e),r=t.substring(e+1,t.length-1).split(",");return{type:n,values:r=r.map((function(t){return parseFloat(t)}))}}function recomposeColor(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")&&(n=n.map((function(t,e){return e<3?parseInt(t,10):t}))),-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t.type,"(").concat(n.join(", "),")")}function getLuminance(t){var e=decomposeColor(t);if(-1!==e.type.indexOf("rgb")){var n=e.values.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}return e.values[2]/100}function darken(t,e){if(!t)return t;if(t=decomposeColor(t),e=clamp(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return recomposeColor(t)}function lighten(t,e){if(!t)return t;if(t=decomposeColor(t),e=clamp(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return recomposeColor(t)}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isNumber=e.isString=e.formatMs=e.duration=e.easing=void 0;var i=r(n(11)),o=(r(n(64)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});e.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};e.duration=a;var s=function formatMs(t){return"".concat(Math.round(t),"ms")};e.formatMs=s;e.isString=function isString(t){return"string"===typeof t};e.isNumber=function isNumber(t){return!isNaN(parseFloat(t))};var u={easing:o,duration:a,create:function create(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=e.duration,r=void 0===n?a.standard:n,u=e.easing,l=void 0===u?o.easeInOut:u,c=e.delay,f=void 0===c?0:c;(0,i.default)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof r?r:s(r)," ").concat(l," ").concat("string"===typeof f?f:s(f))})).join(",")}()},getAutoHeightDuration:function getAutoHeightDuration(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}};e.default=u},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(253))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(80);r.default("capnp:object-size")("load");var o=function(){function ObjectSize(t,e){this.dataByteLength=t,this.pointerLength=e}return ObjectSize.prototype.toString=function(){return i.format("ObjectSize_dw:%d,pc:%d",getDataWordLength(this),this.pointerLength)},ObjectSize}();function getDataWordLength(t){return t.dataByteLength/8}e.ObjectSize=o,e.getByteLength=function getByteLength(t){return t.dataByteLength+8*t.pointerLength},e.getDataWordLength=getDataWordLength,e.getWordLength=function getWordLength(t){return t.dataByteLength/8+t.pointerLength},e.padToWord=function padToWord(t){return new o(i.padToWord(t.dataByteLength),t.pointerLength)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.STRUCT=0]="STRUCT",t[t.LIST=1]="LIST",t[t.FAR=2]="FAR",t[t.OTHER=3]="OTHER"}(e.PointerType||(e.PointerType={}))},function(t,e,n){t.exports={default:n(601),__esModule:!0}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(781))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(783))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=r(n(13)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(0)),f=r(n(203)),p=(r(n(185)),r(n(250))),d=r(n(251));var h=function withTheme(){return function(t){var e=function(e){function WithTheme(t,e){var n;return(0,a.default)(this,WithTheme),(n=(0,u.default)(this,(WithTheme.__proto__||Object.getPrototypeOf(WithTheme)).call(this,t,e))).unsubscribeId=null,n.state={},n.state={theme:d.default.initial(e)||i||(i=(0,p.default)())},n}return(0,l.default)(WithTheme,e),(0,s.default)(WithTheme,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.unsubscribeId=d.default.subscribe(this.context,(function(e){t.setState({theme:e})}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.unsubscribeId&&d.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function render(){return c.default.createElement(t,(0,o.default)({theme:this.state.theme},this.props))}}]),WithTheme}(c.default.Component);return e.contextTypes=d.default.contextTypes,(0,f.default)(e,t),e}};e.default=h},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(844))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(900))},function(t,e,n){var r=n(597);function wrap(t,e){return function(n,i){return r(n),function handler(t,e){return function(){return t(e)}}(e,t(n,i))}}t.exports={timeout:wrap(setTimeout,clearTimeout),interval:wrap(setInterval,clearInterval)}},function(t,e,n){(function(n){var r;t.exports=function e(t,n,i){function s(a,u){if(!n[a]){if(!t[a]){if(!u&&"function"==typeof r&&r)return r(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return s(n||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof r&&r,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,r){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(nextTick),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function scheduleDrain(){s.data=o=++o%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function scheduleDrain(){var e=t.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function scheduleDrain(){setTimeout(nextTick,0)};else{var u=new t.MessageChannel;u.port1.onmessage=nextTick,n=function scheduleDrain(){u.port2.postMessage(0)}}var l=[];function nextTick(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function immediate(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function INTERNAL(){}var i={},o=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function Promise(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==INTERNAL&&safelyResolveThenable(this,t)}function QueueItem(t,e,n){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function unwrap(t,e,n){r((function(){var r;try{r=e(n)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)}))}function getThen(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function appyThen(){e.apply(t,arguments)}}function safelyResolveThenable(t,e){var n=!1;function onError(e){n||(n=!0,i.reject(t,e))}function onSuccess(e){n||(n=!0,i.resolve(t,e))}var r=tryCatch((function tryToUnwrap(){e(onSuccess,onError)}));"error"===r.status&&onError(r.value)}function tryCatch(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=Promise,Promise.prototype.catch=function(t){return this.then(null,t)},Promise.prototype.then=function(t,e){if("function"!==typeof t&&this.state===a||"function"!==typeof e&&this.state===o)return this;var n=new this.constructor(INTERNAL);return this.state!==s?unwrap(n,this.state===a?t:e,this.outcome):this.queue.push(new QueueItem(n,t,e)),n},QueueItem.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},QueueItem.prototype.otherCallFulfilled=function(t){unwrap(this.promise,this.onFulfilled,t)},QueueItem.prototype.callRejected=function(t){i.reject(this.promise,t)},QueueItem.prototype.otherCallRejected=function(t){unwrap(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=tryCatch(getThen,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)safelyResolveThenable(t,r);else{t.state=a,t.outcome=e;for(var o=-1,s=t.queue.length;++o<s;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},Promise.resolve=function resolve(t){return t instanceof this?t:i.resolve(new this(INTERNAL),t)},Promise.reject=function reject(t){var e=new this(INTERNAL);return i.reject(e,t)},Promise.all=function all(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(INTERNAL);++s<n;)allResolver(t[s],s);return u;function allResolver(t,s){e.resolve(t).then((function resolveFromAll(t){o[s]=t,++a!==n||r||(r=!0,i.resolve(u,o))}),(function(t){r||(r=!0,i.reject(u,t))}))}},Promise.race=function race(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o,a=-1,s=new this(INTERNAL);++a<n;)o=t[a],e.resolve(o).then((function(t){r||(r=!0,i.resolve(s,t))}),(function(t){r||(r=!0,i.reject(s,t))}));return s}},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function createBlob(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var o=Promise;function executeCallback(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function executeTwoCallbacks(t,e,n){"function"===typeof e&&t.then(e),"function"===typeof n&&t.catch(n)}function normalizeKey(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",s=void 0,u={},l=Object.prototype.toString,c="readonly",f="readwrite";function _checkBlobSupport(t){return"boolean"===typeof s?o.resolve(s):function _checkBlobSupportWithoutCaching(t){return new o((function(e){var n=t.transaction(a,f),r=createBlob([""]);n.objectStore(a).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return s=t}))}function _deferReadiness(t){var e=u[t.name],n={};n.promise=new o((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function _advanceReadiness(t){var e=u[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _rejectReadiness(t,e){var n=u[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function _getConnection(t,e){return new o((function(n,r){if(u[t.name]=u[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);_deferReadiness(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(a)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),_advanceReadiness(t)}}))}function _getOriginalConnection(t){return _getConnection(t,!1)}function _getUpgradedConnection(t){return _getConnection(t,!0)}function _isUpgradeNeeded(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function _decodeBlob(t){return createBlob([function _binStringToArrayBuffer(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function _isEncodedBlob(t){return t&&t.__local_forage_encoded_blob}function _fullyReady(t){var e=this,n=e._initReady().then((function(){var t=u[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return executeTwoCallbacks(n,t,t),n}function createTransaction(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(a){if(r>0&&(!t.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return o.resolve().then((function(){if(!t.db||"NotFoundError"===a.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),_getUpgradedConnection(t)})).then((function(){return function _tryReconnect(t){_deferReadiness(t);for(var e=u[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,_getOriginalConnection(t).then((function(e){return t.db=e,_isUpgradeNeeded(t)?_getUpgradedConnection(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw _rejectReadiness(t,e),e}))}(t).then((function(){createTransaction(t,e,n,r-1)}))})).catch(n);n(a)}}var p={_driver:"asyncStorage",_initStorage:function _initStorage(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=u[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},u[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=_fullyReady);var a=[];function ignoreErrors(){return o.resolve()}for(var s=0;s<i.forages.length;s++){var l=i.forages[s];l!==e&&a.push(l._initReady().catch(ignoreErrors))}var c=i.forages.slice(0);return o.all(a).then((function(){return n.db=i.db,_getOriginalConnection(n)})).then((function(t){return n.db=t,_isUpgradeNeeded(n,e._defaultConfig.version)?_getUpgradedConnection(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<c.length;r++){var o=c[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function isIndexedDBValid(){try{if(!i)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}(),iterate:function iterate(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;_isEncodedBlob(r)&&(r=_decodeBlob(r));var i=t(r,n.key,s++);void 0!==i?e(i):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}}))})).catch(r)}));return executeCallback(r,e),r},getItem:function getItem(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_isEncodedBlob(t)&&(t=_decodeBlob(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,e),r},setItem:function setItem(t,e,n){var r=this;t=normalizeKey(t);var i=new o((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===l.call(e)?_checkBlobSupport(a.db).then((function(t){return t?e:function _encodeBlob(t){return new o((function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)}))}(e)})):e})).then((function(e){createTransaction(r._dbInfo,f,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(l){i(l)}}))})).catch(i)}));return executeCallback(i,n),i},removeItem:function removeItem(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,f,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,e),r},clear:function clear(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(a){n(a)}}))})).catch(n)}));return executeCallback(n,t),n},length:function length(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return executeCallback(n,t),n},key:function key(t,e){var n=this,r=new o((function(e,r){t<0?e(null):n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(l){r(l)}}))})).catch(r)}));return executeCallback(r,e),r},keys:function keys(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var e=o.result;e?(a.push(e.key),e.continue()):t(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,t),n},dropInstance:function dropInstance(t,e){e=getCallback.apply(this,arguments);var n,r=this.config();if((t="function"!==typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var a=t.name===r.name&&this._dbInfo.db?o.resolve(this._dbInfo.db):_getOriginalConnection(t).then((function(e){var n=u[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));n=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;_deferReadiness(t);var r=u[t.name],a=r.forages;e.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=n}return new o((function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<a.length;e++){var n=a[e];n._dbInfo.db=t,_advanceReadiness(n._dbInfo)}})).catch((function(e){throw(_rejectReadiness(t,e)||o.resolve()).catch((function(){})),e}))}})):a.then((function(e){_deferReadiness(t);var n=u[t.name],r=n.forages;e.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new o((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<r.length;e++)_advanceReadiness(r[e]._dbInfo)})).catch((function(e){throw(_rejectReadiness(t,e)||o.resolve()).catch((function(){})),e}))}))}else n=o.reject("Invalid arguments");return executeCallback(n,e),n}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="~~local_forage_type~",g=/^~~local_forage_type~([^~]+)~/,y="__lfsc__:",m=y.length,v="arbf",_="blob",b="si08",S="ui08",E="uic8",x="si16",w="si32",T="ur16",P="ui32",k="fl32",C="fl64",D=m+v.length,A=Object.prototype.toString;function stringToBuffer(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)n=d.indexOf(t[e]),r=d.indexOf(t[e+1]),i=d.indexOf(t[e+2]),o=d.indexOf(t[e+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}function bufferToString(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=d[n[e]>>2],r+=d[(3&n[e])<<4|n[e+1]>>4],r+=d[(15&n[e+1])<<2|n[e+2]>>6],r+=d[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var R={serialize:function serialize(t,e){var n="";if(t&&(n=A.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===A.call(t.buffer))){var r,i=y;t instanceof ArrayBuffer?(r=t,i+=v):(r=t.buffer,"[object Int8Array]"===n?i+=b:"[object Uint8Array]"===n?i+=S:"[object Uint8ClampedArray]"===n?i+=E:"[object Int16Array]"===n?i+=x:"[object Uint16Array]"===n?i+=T:"[object Int32Array]"===n?i+=w:"[object Uint32Array]"===n?i+=P:"[object Float32Array]"===n?i+=k:"[object Float64Array]"===n?i+=C:e(new Error("Failed to get type for BinaryArray"))),e(i+bufferToString(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=h+t.type+"~"+bufferToString(this.result);e(y+_+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function deserialize(t){if(t.substring(0,m)!==y)return JSON.parse(t);var e,n=t.substring(D),r=t.substring(m,D);if(r===_&&g.test(n)){var i=n.match(g);e=i[1],n=n.substring(i[0].length)}var o=stringToBuffer(n);switch(r){case v:return o;case _:return createBlob([o],{type:e});case b:return new Int8Array(o);case S:return new Uint8Array(o);case E:return new Uint8ClampedArray(o);case x:return new Int16Array(o);case T:return new Uint16Array(o);case w:return new Int32Array(o);case P:return new Uint32Array(o);case k:return new Float32Array(o);case C:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function tryExecuteSql(t,e,n,r,i,o){t.executeSql(n,r,i,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],(function(t,s){s.rows.length?o(t,a):createDbTable(t,e,(function(){t.executeSql(n,r,i,o)}),o)}),o):o(t,a)}),o)}function _setItem(t,e,n,r){var i=this;t=normalizeKey(t);var a=new o((function(o,a){i.ready().then((function(){void 0===e&&(e=null);var s=e,u=i._dbInfo;u.serializer.serialize(e,(function(e,l){l?a(l):u.db.transaction((function(n){tryExecuteSql(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(_setItem.apply(i,[t,s,n,r-1]));a(e)}}))}))})).catch(a)}));return executeCallback(a,n),a}var M={_driver:"webSQLStorage",_initStorage:function _initStorage$1(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!==typeof t[r]?t[r].toString():t[r];var i=new o((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){createDbTable(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=R,i},_support:function isWebSQLValid(){return"function"===typeof openDatabase}(),iterate:function iterate$1(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},getItem:function getItem$1(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},setItem:function setItem$1(t,e,n){return _setItem.apply(this,[t,e,n,1])},removeItem:function removeItem$1(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},clear:function clear$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},length:function length$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},key:function key$1(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},keys:function keys$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},dropInstance:function dropInstance$1(t,e){e=getCallback.apply(this,arguments);var n=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return executeCallback(r=t.name?new o((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function getAllStoreNames(t){return new o((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}(r))})).then((function(t){return new o((function(e,n){t.db.transaction((function(r){function dropTable(t){return new o((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var i=[],a=0,s=t.storeNames.length;a<s;a++)i.push(dropTable(t.storeNames[a]));o.all(i).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):o.reject("Invalid arguments"),e),r}};function _getKeyPrefix(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var L={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=_getKeyPrefix(t,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=e,e.serializer=R,o.resolve()):o.reject()},_support:function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function iterate$2(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(i),a++)))return l}}}));return executeCallback(r,e),r},getItem:function getItem$2(t,e){var n=this;t=normalizeKey(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return executeCallback(r,e),r},setItem:function setItem$2(t,e,n){var r=this;t=normalizeKey(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new o((function(i,o){var a=r._dbInfo;a.serializer.serialize(e,(function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}}))}))}));return executeCallback(i,n),i},removeItem:function removeItem$2(t,e){var n=this;t=normalizeKey(t);var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return executeCallback(r,e),r},clear:function clear$2(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return executeCallback(n,t),n},length:function length$2(t){var e=this.keys().then((function(t){return t.length}));return executeCallback(e,t),e},key:function key$2(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return executeCallback(r,e),r},keys:function keys$2(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r}));return executeCallback(n,t),n},dropInstance:function dropInstance$2(t,e){if(e=getCallback.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return executeCallback(r=t.name?new o((function(e){t.storeName?e(_getKeyPrefix(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):o.reject("Invalid arguments"),e),r}},I=function sameValue(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},O=function includes(t,e){for(var n=t.length,r=0;r<n;){if(I(t[r],e))return!0;r++}return!1},F=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},N={},B={},U={INDEXEDDB:p,WEBSQL:M,LOCALSTORAGE:L},z=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver],j=["dropInstance"],V=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(j),G={description:"",driver:z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function extend(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(F(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var W=new(function(){function LocalForage(t){for(var e in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),U)if(U.hasOwnProperty(e)){var n=U[e],r=n._driver;this[e]=r,N[r]||this.defineDriver(n)}this._defaultConfig=extend({},G),this._config=extend({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(t){if("object"===("undefined"===typeof t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},LocalForage.prototype.defineDriver=function defineDriver(t,e,n){var r=new o((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var a=V.concat("_initStorage"),s=0,u=a.length;s<u;s++){var l=a[s];if((!O(j,l)||t[l])&&"function"!==typeof t[l])return void n(i)}!function configureMissingMethods(){for(var e=function methodNotImplementedFactory(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=o.reject(e);return executeCallback(n,arguments[arguments.length-1]),n}},n=0,r=j.length;n<r;n++){var i=j[n];t[i]||(t[i]=e(i))}}();var c=function setDriverSupport(n){N[r]&&console.info("Redefining LocalForage driver: "+r),N[r]=t,B[r]=n,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(c,n):c(!!t._support):c(!0)}catch(f){n(f)}}));return executeTwoCallbacks(r,e,n),r},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(t,e,n){var r=N[t]?o.resolve(N[t]):o.reject(new Error("Driver not found."));return executeTwoCallbacks(r,e,n),r},LocalForage.prototype.getSerializer=function getSerializer(t){var e=o.resolve(R);return executeTwoCallbacks(e,t),e},LocalForage.prototype.ready=function ready(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return executeTwoCallbacks(n,t,t),n},LocalForage.prototype.setDriver=function setDriver(t,e,n){var r=this;F(t)||(t=[t]);var i=this._getSupportedDrivers(t);function setDriverToConfig(){r._config.driver=r.driver()}function extendSelfWithDriver(t){return r._extend(t),setDriverToConfig(),r._ready=r._initStorage(r._config),r._ready}var a=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=a.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,setDriverToConfig(),r._wrapLibraryMethodsWithReady(),r._initDriver=function initDriver(t){return function(){var e=0;return function driverPromiseLoop(){for(;e<t.length;){var n=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(n).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var i=new Error("No available storage method found.");return r._driverSet=o.reject(i),r._driverSet}()}}(i)}))})).catch((function(){setDriverToConfig();var t=new Error("No available storage method found.");return r._driverSet=o.reject(t),r._driverSet})),executeTwoCallbacks(this._driverSet,e,n),this._driverSet},LocalForage.prototype.supports=function supports(t){return!!B[t]},LocalForage.prototype._extend=function _extend(t){extend(this,t)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var t=0,e=V.length;t<e;t++)callWhenReady(this,V[t])},LocalForage.prototype.createInstance=function createInstance(t){return new LocalForage(t)},LocalForage}());e.exports=W},{3:3}]},{},[4])(4)}).call(this,n(32))},function(t,e,n){"use strict";n(25),n(52);var r=n(282),i=n(283),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function createLocation(t,e,n,i){var a=void 0;"string"===typeof t?(a=function parsePath(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(a=o({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(r.default)(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a},s=function locationsAreEqual(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(i.default)(t.state,e.state)};"undefined"===typeof window||!window.document||window.document.createElement,"function"===typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"===typeof Symbol&&Symbol.iterator,Object.assign;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isBefore(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=(0,r.default)(e,n);return i.getTime()<o.getTime()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";(function(t){var r=n(2),i=n.n(r),o=n(483),a=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var s=o.a?n(977):null;function noop(){}var u={container:i.a.object,mapboxApiAccessToken:i.a.string,attributionControl:i.a.bool,preserveDrawingBuffer:i.a.bool,onLoad:i.a.func,onError:i.a.func,reuseMaps:i.a.bool,reuseMap:i.a.bool,transformRequest:i.a.func,mapStyle:i.a.string,visible:i.a.bool,width:i.a.number.isRequired,height:i.a.number.isRequired,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,zoom:i.a.number.isRequired,bearing:i.a.number,pitch:i.a.number,altitude:i.a.number},l={mapboxApiAccessToken:function getAccessToken(){var e=null;if("undefined"!==typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||"undefined"===typeof t||(e=e||Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).MapboxAccessToken);return e||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:noop,onError:noop,reuseMaps:!1,reuseMap:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5};function checkPropTypes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&i.a.checkPropTypes(u,t,"prop",e)}var c=function(){function Mapbox(t){if(function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Mapbox),!s)throw new Error("Mapbox not supported");!Mapbox.initialized&&console.debug&&(Mapbox.initialized=!0,console.debug("react-map-gl: using mapbox-gl v"+s.version)),this.props={},this._initialize(t)}return a(Mapbox,null,[{key:"supported",value:function supported(){return s&&s.supported()}}]),a(Mapbox,[{key:"finalize",value:function finalize(){return s&&this._map?(this._destroy(),this):this}},{key:"setProps",value:function setProps(t){return s&&this._map?(this._update(this.props,t),this):this}},{key:"resize",value:function resize(){return s&&this._map?(this._map.resize(),this):this}},{key:"getMap",value:function getMap(){return this._map}},{key:"_create",value:function _create(t){if((t.reuseMaps||t.reuseMap)&&Mapbox.savedMap){this._map=this.map=Mapbox.savedMap;var e=this._map.getContainer(),n=t.container;for(n.classList.add("mapboxgl-map");e.childNodes.length>0;)n.appendChild(e.childNodes[0]);this._map._container=n,Mapbox.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle),t.onLoad()}else{var r={container:t.container||document.body,center:[t.longitude,t.latitude],zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,style:t.mapStyle,interactive:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(r.transformRequest=t.transformRequest),this._map=this.map=new s.Map(r),this.map.once("load",t.onLoad),this.map.on("error",t.onError)}return this}},{key:"_destroy",value:function _destroy(){Mapbox.savedMap?this._map.remove():Mapbox.savedMap=this._map}},{key:"_initialize",value:function _initialize(t){checkPropTypes(t=Object.assign({},l,t),"Mapbox"),this.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,s&&(this.accessToken?s.accessToken=this.accessToken:s.accessToken="no-token"),this._create(t);var e=this.map.getCanvas();e&&(e.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function _update(t,e){checkPropTypes(e=Object.assign({},this.props,e),"Mapbox"),this._updateMapViewport(t,e),this._updateMapSize(t,e),this.props=e}},{key:"_updateMapViewport",value:function _updateMapViewport(t,e){(e.latitude!==t.latitude||e.longitude!==t.longitude||e.zoom!==t.zoom||e.pitch!==t.pitch||e.bearing!==t.bearing||e.altitude!==t.altitude)&&(this._map.jumpTo({center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.altitude!==t.altitude&&(this._map.transform.altitude=e.altitude))}},{key:"_updateMapSize",value:function _updateMapSize(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}}]),Mapbox}();e.a=c,c.propTypes=u,c.defaultProps=l}).call(this,n(114))},function(t,e,n){"use strict";var r=n(602)(!0);n(320)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(323),i=n(237);t.exports=Object.keys||function keys(t){return r(t,i)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(230);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=_interopRequireDefault(n(187)),a=_interopRequireDefault(n(347)),s=_interopRequireDefault(n(138)),u=_interopRequireDefault(n(710));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function(){function RuleList(t){var e=this;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,RuleList),this.map={},this.raw={},this.index=[],this.update=function(t,n){var r=e.options,i=r.jss.plugins,o=r.sheet;if("string"===typeof t)i.onUpdate(n,e.get(t),o);else for(var a=0;a<e.index.length;a++)i.onUpdate(t,e.index[a],o)},this.options=t,this.classes=t.classes}return i(RuleList,[{key:"add",value:function add(t,e,n){var i=this.options,a=i.parent,l=i.sheet,c=i.jss,f=i.Renderer,p=i.generateClassName;!(n=r({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:f,generateClassName:p},n)).selector&&this.classes[t]&&(n.selector="."+(0,u.default)(this.classes[t])),this.raw[t]=e;var d=(0,o.default)(t,e,n),h=void 0;!n.selector&&d instanceof s.default&&(h=p(d,l),d.selector="."+(0,u.default)(h)),this.register(d,h);var g=void 0===n.index?this.index.length:n.index;return this.index.splice(g,0,d),d}},{key:"get",value:function get(t){return this.map[t]}},{key:"remove",value:function remove(t){this.unregister(t),this.index.splice(this.indexOf(t),1)}},{key:"indexOf",value:function indexOf(t){return this.index.indexOf(t)}},{key:"process",value:function process(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)}},{key:"register",value:function register(t,e){this.map[t.key]=t,t instanceof s.default&&(this.map[t.selector]=t,e&&(this.classes[t.key]=e))}},{key:"unregister",value:function unregister(t){delete this.map[t.key],t instanceof s.default&&(delete this.map[t.selector],delete this.classes[t.key])}},{key:"link",value:function link(t){for(var e=this.options.sheet.renderer.getUnescapedKeysMap(this.index),n=0;n<t.length;n++){var r=t[n],i=this.options.sheet.renderer.getKey(r);e[i]&&(i=e[i]);var o=this.map[i];o&&(0,a.default)(o,r)}}},{key:"toString",value:function toString(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e}}]),RuleList}();e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(252)),i=_interopRequireDefault(n(0)),o=_interopRequireDefault(n(55));n(761);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=e.UNMOUNTED="unmounted",s=e.EXITED="exited",u=e.ENTERING="entering",l=e.ENTERED="entered",c=e.EXITING="exiting",f=function(t){function Transition(e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Transition);var r=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,e,n)),i=n.transitionGroup,o=i&&!i.isMounting?e.enter:e.appear,c=void 0;return r.nextStatus=null,e.in?o?(c=s,r.nextStatus=u):c=l:c=e.unmountOnExit||e.mountOnEnter?a:s,r.state={status:c},r.nextCallback=null,r}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Transition,t),Transition.prototype.getChildContext=function getChildContext(){return{transitionGroup:null}},Transition.prototype.componentDidMount=function componentDidMount(){this.updateStatus(!0)},Transition.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){var e=(this.pendingState||this.state).status;t.in?(e===a&&this.setState({status:s}),e!==u&&e!==l&&(this.nextStatus=u)):e!==u&&e!==l||(this.nextStatus=c)},Transition.prototype.componentDidUpdate=function componentDidUpdate(){this.updateStatus()},Transition.prototype.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},Transition.prototype.getTimeouts=function getTimeouts(){var t=this.props.timeout,e=void 0,n=void 0,r=void 0;return e=n=r=t,null!=t&&"number"!==typeof t&&(e=t.exit,n=t.enter,r=t.appear),{exit:e,enter:n,appear:r}},Transition.prototype.updateStatus=function updateStatus(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nextStatus;if(null!==e){this.nextStatus=null,this.cancelNextCallback();var n=o.default.findDOMNode(this);e===u?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:a})},Transition.prototype.performEnter=function performEnter(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts();e||r?(this.props.onEnter(t,i),this.safeSetState({status:u},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,o.enter,(function(){n.safeSetState({status:l},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:l},(function(){n.props.onEntered(t)}))},Transition.prototype.performExit=function performExit(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:c},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:s},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:s},(function(){e.props.onExited(t)}))},Transition.prototype.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},Transition.prototype.safeSetState=function safeSetState(t,e){var n=this;this.pendingState=t,e=this.setNextCallback(e),this.setState(t,(function(){n.pendingState=null,e()}))},Transition.prototype.setNextCallback=function setNextCallback(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},Transition.prototype.onTransitionEnd=function onTransitionEnd(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},Transition.prototype.render=function render(){var t=this.state.status;if(t===a)return null;var e=this.props,n=e.children,r=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},Transition}(i.default.Component);function noop(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function transitionGroup(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4,e.default=f},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.cloneElementWithClassName=cloneElementWithClassName,e.cloneChildrenWithClassName=function cloneChildrenWithClassName(t,e){return i.default.Children.map(t,(function(t){return i.default.isValidElement(t)&&cloneElementWithClassName(t,e)}))},e.isMuiElement=function isMuiElement(t,e){return i.default.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)},e.isMuiComponent=function isMuiComponent(t,e){return-1!==e.indexOf(t.muiName)};var i=r(n(0)),o=r(n(3));function cloneElementWithClassName(t,e){return i.default.cloneElement(t,{className:(0,o.default)(t.props.className,e)})}},function(t,e,n){t.exports=n(836)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load"),e.PointerList=function PointerList(t){var e;return(e=function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(class_1,e),class_1.prototype.get=function(e){var n=s.getContent(this);return new t(n.segment,n.byteOffset+8*e,this._capnp.depthLimit-1)},class_1.prototype.set=function(t,e){s.copyFrom(e,this.get(t))},class_1.prototype.toString=function(){return"Pointer_"+e.prototype.toString.call(this)+",cls:"+t.toString()},class_1}(a.List))._capnp={displayName:"List<"+t._capnp.displayName+">",size:o.ListElementSize.POINTER},e}},function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function decode(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}e.stringify=function querystringify(t,e){e=e||"";var n,o,a=[];for(o in"string"!==typeof e&&(e="?"),t)if(i.call(t,o)){if((n=t[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?e+a.join("&"):""},e.parse=function querystring(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=decode(e[1]),o=decode(e[2]);null===i||null===o||i in r||(r[i]=o)}return r}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(785))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(899))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(357))},function(t,e,n){"use strict";var r=n(318),i=n(175),o=n(598);function encode(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function extract(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function parse(t,e){var n=function parserForArrayFormat(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!==typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)})),Object.keys(r).sort().reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=function keysSorter(t){return Array.isArray(t)?t.sort():"object"===typeof t?keysSorter(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}(n):t[e]=n,t}),Object.create(null))):r}e.extract=extract,e.parse=parse,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function encoderForArrayFormat(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[encode(e,t),"[",r,"]"].join(""):[encode(e,t),"[",encode(r,t),"]=",encode(n,t)].join("")};case"bracket":return function(e,n){return null===n?encode(e,t):[encode(e,t),"[]=",encode(n,t)].join("")};default:return function(e,n){return null===n?encode(e,t):[encode(e,t),"=",encode(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map((function(r){var i=t[r];if(void 0===i)return"";if(null===i)return encode(r,e);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(t){void 0!==t&&o.push(n(r,t,o.length))})),o.join("&")}return encode(r,e)+"="+encode(i,e)})).filter((function(t){return t.length>0})).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:parse(extract(t),e)}}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(964))},function(t,e,n){"use strict";var r=n(14);e.__esModule=!0,e.default=function scrollbarSize(t){if((!i&&0!==i||t)&&o.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return i};var i,o=r(n(961));t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(386));e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function toObject(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,s=toObject(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfUTCISOWeek(t,e){var n=(0,r.default)(t,e),i=n.getUTCDay(),o=(i<1?7:0)+i-1;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",i=(e.onLocationChanged=function onLocationChanged(t,e){return{type:_get__("LOCATION_CHANGE"),payload:{location:t,action:e}}},e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD"),o=function updateLocation(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return{type:_get__("CALL_HISTORY_METHOD"),payload:{method:t,args:n}}}},a=e.push=_get__("updateLocation")("push"),s=e.replace=_get__("updateLocation")("replace"),u=e.go=_get__("updateLocation")("go"),l=e.goBack=_get__("updateLocation")("goBack"),c=e.goForward=_get__("updateLocation")("goForward");e.routerActions={push:_get__("push"),replace:_get__("replace"),go:_get__("go"),goBack:_get__("goBack"),goForward:_get__("goForward")};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}var f=null;function _getRewireModuleId__(){if(null===f){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),f=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return f}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var p="__INTENTIONAL_UNDEFINED__",d={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"LOCATION_CHANGE":return r;case"CALL_HISTORY_METHOD":return i;case"updateLocation":return o;case"push":return a;case"replace":return s;case"go":return u;case"goBack":return l;case"goForward":return c}return}(t);var n=e[t];return n===p?void 0:n}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?p:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(d,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}(),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=d,e.default=d}).call(this,n(32))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(101).f,i=n(122),o=n(73)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(607);for(var r=n(69),i=n(121),o=n(137),a=n(73)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function handle(n,r,i){if(n)return 0===n.statusCode&&(n=new Error("There was an unexpected server error, please try again later.")),e(n);t(r)}}},function(t,e,n){"use strict";var r=n(678),i=n(679),o=n(228),a=n(337),s=n(35).partial;function Obstruct(t,e){if(!r(t))throw new Error("schema object is required");return arguments.length<2?s(Obstruct,t):a(t,function createParser(t){return function parser(e,n){if(!n)throw new Error("falsy values not allowed in schema ("+e+")");if(~e.indexOf("."))throw new Error("dots are not allowed in schema keys");var a,s;return o(n)?(a=n[0],n=n[1]):a=e,!0===n&&(s=t[e]),"string"===typeof n&&(s=i.get(t,n)),"function"===typeof n&&(s=n(i.get(t,a),t,a)),r(n)&&(s=Obstruct(n,i.get(t,a)||{})),[e,s]}}(e))}t.exports=Obstruct},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(246));e.default=function wrapDisplayName(t,e){return e+"("+(0,r.default)(t)+")"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toCssValue(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var i=0;i<t.length&&"!important"!==t[i];i++)n&&(n+=", "),n+=r(t[i]," ");else n=r(t,", ");e||"!important"!==t[t.length-1]||(n+=" !important");return n};var r=function join(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createRule(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",e=arguments[1],n=arguments[2],a=n.jss,s=(0,o.default)(e),u=a.plugins.onCreateRule(t,s,n);if(u)return u;"@"===t[0]&&(0,r.default)(!1,"[JSS] Unknown at-rule %s",t);return new i.default(t,s,n)};var r=_interopRequireDefault(n(25)),i=_interopRequireDefault(n(138)),o=_interopRequireDefault(n(709));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"isBrowser",(function(){return i}));var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;e.default=i},function(t,e,n){"use strict";n.r(e);var r=function isMergeableObject(t){return function isNonNullObject(t){return!!t&&"object"===typeof t}(t)&&!function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function isReactElement(t){return t.$$typeof===i}(t)}(t)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepmerge(function emptyTarget(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function defaultArrayMerge(t,e,n){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,n)}))}function deepmerge(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||r;var i=Array.isArray(e);return i===Array.isArray(t)?i?n.arrayMerge(t,e,n):function mergeObject(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach((function(e){r[e]=cloneUnlessOtherwiseSpecified(t[e],n)})),Object.keys(e).forEach((function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=deepmerge(t[i],e[i],n):r[i]=cloneUnlessOtherwiseSpecified(e[i],n)})),r}(t,e,n):cloneUnlessOtherwiseSpecified(e,n)}deepmerge.all=function deepmergeAll(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return deepmerge(t,n,e)}),{})};var o=deepmerge;e.default=o},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(103));var o=function ownerWindow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=(0,i.default)(t);return n.defaultView||n.parentView||e};e.default=o},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(779))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(787))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.specialProperty=void 0;r(n(28)),r(n(36));var i="exact-prop: \u200b";e.specialProperty=i;var o=function exactProp(t){return t};e.default=o},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(788))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(801))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransitionProps=function getTransitionProps(t,e){var n=t.timeout,r=t.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[e.mode],delay:i.transitionDelay}},e.reflow=void 0;e.reflow=function reflow(t){return t.scrollTop}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(806)),i=_interopRequireDefault(n(826));_interopRequireDefault(n(365)),_interopRequireDefault(n(185));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function pure(t){return(0,r.default)((function(t,e){return!(0,i.default)(t,e)}))(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SINGLE_SEGMENT=0]="SINGLE_SEGMENT",t[t.MULTI_SEGMENT=1]="MULTI_SEGMENT"}(e.ArenaKind||(e.ArenaKind={}))},function(t,e,n){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.handleFullscreenChange=function handleFullscreenChange(t){return{type:a,isFullscreen:t}},e.activate=function activate(t){return{type:s,activity:t}},e.userActivate=function userActivate(t){return{type:u,activity:t}},e.play=function play(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"play",source:""};return this.video.play(),{type:o,operation:t}},e.pause=function pause(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"pause",source:""};return this.video.pause(),{type:o,operation:t}},e.togglePlay=function togglePlay(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"toggle-play",source:""};return this.video.togglePlay(),{type:o,operation:t}},e.seek=function seek(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"seek",source:""};return this.video.seek(t),{type:o,operation:e}},e.forward=function forward(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"forward-".concat(t),source:""};return this.video.forward(t),{type:o,operation:e}},e.replay=function replay(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"replay-".concat(t),source:""};return this.video.replay(t),{type:o,operation:e}},e.changeRate=function changeRate(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-rate",source:""};return this.video.playbackRate=t,{type:o,operation:e}},e.changeVolume=function changeVolume(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-volume",source:""},n=t;t<0&&(n=0);t>1&&(n=1);return this.video.volume=n,{type:o,operation:e}},e.mute=function mute(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:t?"muted":"unmuted",source:""};return this.video.muted=t,{type:o,operation:e}},e.toggleFullscreen=function toggleFullscreen(t){if(i.default.enabled)return i.default.isFullscreen?i.default.exit():i.default.request(this.rootElement),{type:o,operation:{action:"toggle-fullscreen",source:""}};return{type:a,isFullscreen:!t.isFullscreen}},e.USER_ACTIVATE=e.PLAYER_ACTIVATE=e.FULLSCREEN_CHANGE=e.OPERATE=void 0;var i=r(n(390)),o="video-react/OPERATE";e.OPERATE=o;var a="video-react/FULLSCREEN_CHANGE";e.FULLSCREEN_CHANGE=a;var s="video-react/PLAYER_ACTIVATE";e.PLAYER_ACTIVATE=s;var u="video-react/USER_ACTIVATE";e.USER_ACTIVATE=u},function(t,e,n){"use strict";function findElPosition(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=document,r=n.body,i=n.documentElement,o=i.clientLeft||r.clientLeft||0,a=window.pageXOffset||r.scrollLeft,s=e.left+a-o,u=i.clientTop||r.clientTop||0,l=window.pageYOffset||r.scrollTop,c=e.top+l-u;return{left:Math.round(s),top:Math.round(c)}}Object.defineProperty(e,"__esModule",{value:!0}),e.findElPosition=findElPosition,e.getPointerPosition=function getPointerPosition(t,e){var n={},r=findElPosition(t),i=t.offsetWidth,o=t.offsetHeight,a=r.top,s=r.left,u=e.pageY,l=e.pageX;e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY);return n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n},e.blurNode=function blurNode(t){t&&t.blur&&t.blur()},e.focusNode=function focusNode(t){t&&t.focus&&t.focus()},e.hasClass=function hasClass(t,e){for(var n=t.className.split(" "),r=0;r<n.length;r++)if(n[r].toLowerCase()===e.toLowerCase())return!0;return!1}},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);t.exports=function hoistNonReactStatics(t,e,n){if("string"!==typeof e){if(c){var f=l(e);f&&f!==c&&hoistNonReactStatics(t,f,n)}var p=a(e);s&&(p=p.concat(s(e)));for(var d=0;d<p.length;++d){var h=p[d];if(!r[h]&&!i[h]&&(!n||!n[h])){var g=u(e,h);try{o(t,h,g)}catch(y){}}}return t}return t}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(698))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(830))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(831))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(832))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(834))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(914))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(1005))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(1010))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMonths(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,r.default)(t,n),a=Number(e),s=o.getMonth()+a,u=new Date(0);u.setFullYear(o.getFullYear(),s,1),u.setHours(0,0,0,0);var l=(0,i.default)(u,n);return o.setMonth(s,Math.min(l,o.getDate())),o};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(555));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfDay(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e);return n.setHours(0,0,0,0),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){var r=n(892);t.exports=function createStore(){var t={};return function(e){if(("object"!==typeof e||null===e)&&"function"!==typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:r(e,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withContentRect=e.default=void 0;var r=_interopRequireDefault(n(941)),i=_interopRequireDefault(n(385));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=r.default,e.withContentRect=i.default},function(t,e,n){t.exports={default:n(954),__esModule:!0}},function(t,e,n){"use strict";(function(t){function createDetectElementResize(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof self?self:t;var r="undefined"!==typeof document&&document.attachEvent;if(!r){var i=function(){var t=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)};return function(e){return t(e)}}(),o=function(){var t=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(e){return t(e)}}(),a=function resetTriggers(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},s=function scrollListener(t){if(!(t.target.className&&"function"===typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function checkTriggers(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},u=!1,l="",c="animationstart",f="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(u=!0),!1===u)for(var h=0;h<f.length;h++)if(void 0!==d.style[f[h]+"AnimationName"]){l="-"+f[h].toLowerCase()+"-",c=p[h],u=!0;break}var g="resizeanim",y="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",m=l+"animation: 1ms "+g+"; "}return{addResizeListener:function addResizeListener(t,i){if(r)t.attachEvent("onresize",i);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,u=n.getComputedStyle(t);u&&"static"==u.position&&(t.style.position="relative"),function createStyles(t){if(!t.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),a(t),t.addEventListener("scroll",s,!0),c&&(t.__resizeTriggers__.__animationListener__=function animationListener(e){e.animationName==g&&a(t)},t.__resizeTriggers__.addEventListener(c,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(i)}},removeResizeListener:function removeResizeListener(t,e){if(r)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",s,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(c,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}n.d(e,"a",(function(){return createDetectElementResize}))}).call(this,n(32))},function(t,e){t.exports=function perspective(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}},function(t,e){t.exports=function invert(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],d=e[11],h=e[12],g=e[13],y=e[14],m=e[15],v=n*s-r*a,_=n*u-i*a,b=n*l-o*a,S=r*u-i*s,E=r*l-o*s,x=i*l-o*u,w=c*g-f*h,T=c*y-p*h,P=c*m-d*h,k=f*y-p*g,C=f*m-d*g,D=p*m-d*y,A=v*D-_*C+b*k+S*P-E*T+x*w;if(!A)return null;return A=1/A,t[0]=(s*D-u*C+l*k)*A,t[1]=(i*C-r*D-o*k)*A,t[2]=(g*x-y*E+m*S)*A,t[3]=(p*E-f*x-d*S)*A,t[4]=(u*P-a*D-l*T)*A,t[5]=(n*D-i*P+o*T)*A,t[6]=(y*b-h*x-m*_)*A,t[7]=(c*x-p*b+d*_)*A,t[8]=(a*C-s*P+l*w)*A,t[9]=(r*P-n*C-o*w)*A,t[10]=(h*E-g*b+m*v)*A,t[11]=(f*b-c*E-d*v)*A,t[12]=(s*T-a*k-u*w)*A,t[13]=(n*k-r*T+i*w)*A,t[14]=(g*_-h*S-y*v)*A,t[15]=(c*S-f*_+p*v)*A,t}},function(t,e){t.exports=function rotateX(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t}},function(t,e){t.exports=function rotateZ(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isAfter(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=(0,r.default)(e,n);return i.getTime()>o.getTime()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e){t.exports=function CarlyRaeJepsen(t){var e=!1;return{callback:function wrapped(){if(e)return;return t.apply(this,arguments)},cancel:function cancel(){e=!0}}}},function(t,e,n){"use strict";function _interopDefault(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var r=_interopDefault(n(684)),i=_interopDefault(n(685)),o=_interopDefault(n(686)),a=_interopDefault(n(688)),s=_interopDefault(n(689)),u=_interopDefault(n(340)),l=_interopDefault(n(691)),c=_interopDefault(n(693)),f=_interopDefault(n(0));_interopDefault(n(694)),_interopDefault(n(697));var p=function(){var t=null;return function(){if(null!==t)return t;var e=!1;try{window.addEventListener("test",null,function defineProperty(t,e,n){return Object.defineProperty(t,e,n)}({},"passive",{get:function get(){e=!0}}))}catch(n){}return t=e,e}()}(),d={capture:!1,passive:!1};function mergeDefaultEventOptions(t){return c({},d,t)}function getEventListenerArgs(t,e,n){var r=[t,e];return r.push(p?n:n.capture),r}function on(t,e,n,r){t.addEventListener.apply(t,getEventListenerArgs(e,n,r))}function off(t,e,n,r){t.removeEventListener.apply(t,getEventListenerArgs(e,n,r))}function forEachListener(t,e){t.children,t.target;var n=l(t,["children","target"]);Object.keys(n).forEach((function(t){if("on"===t.substring(0,2)){var r=n[t],i=u(r),o="object"===i;if(o||"function"===i){var a="capture"===t.substr(-7).toLowerCase(),s=t.substring(2).toLowerCase();s=a?s.substring(0,s.length-7):s,o?e(s,r.handler,r.options):e(s,r,mergeDefaultEventOptions({capture:a}))}}}))}var h=function(t){function EventListener(){return r(this,EventListener),o(this,a(EventListener).apply(this,arguments))}return s(EventListener,t),i(EventListener,[{key:"componentDidMount",value:function componentDidMount(){this.applyListeners(on)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.applyListeners(off,t),this.applyListeners(on)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.applyListeners(off)}},{key:"applyListeners",value:function applyListeners(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=e.target;if(n){var r=n;"string"===typeof n&&(r=window[n]),forEachListener(e,t.bind(null,r))}}},{key:"render",value:function render(){return this.props.children||null}}]),EventListener}(f.PureComponent);h.propTypes={},e.withOptions=function withOptions(t,e){return{handler:t,options:mergeDefaultEventOptions(e)}},e.default=h},function(t,e,n){var r;r=function(){var t=!0;function detect(e){function getFirstMatch(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function getSecondMatch(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var n,r=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),i=!/like android/i.test(e)&&/android/i.test(e),o=/nexus\s*[0-6]\s*/i.test(e),a=!o&&/nexus\s*[0-9]+/i.test(e),s=/CrOS/.test(e),u=/silk/i.test(e),l=/sailfish/i.test(e),c=/tizen/i.test(e),f=/(web|hpw)os/i.test(e),p=/windows phone/i.test(e),d=(/SamsungBrowser/i.test(e),!p&&/windows/i.test(e)),h=!r&&!u&&/macintosh/i.test(e),g=!i&&!l&&!c&&!f&&/linux/i.test(e),y=getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),m=getFirstMatch(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(e)&&!/tablet pc/i.test(e),_=!v&&/[^-]mobi/i.test(e),b=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:t,version:m||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?n={name:"Opera",opera:t,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||m}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:t,version:m||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:t,version:m||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:t,version:m||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:t,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:t,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:t,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:t,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:t,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:t,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(n={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},y?(n.msedge=t,n.version=y):(n.msie=t,n.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:s?n={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?n={name:"Microsoft Edge",msedge:t,version:y}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:t,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||m}:l?n={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=t,n.osname="Firefox OS")):u?n={name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:t,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:m||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(n={name:"WebOS",osname:"WebOS",webos:t,version:m||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=t)):/bada/i.test(e)?n={name:"Bada",osname:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:c?n={name:"Tizen",osname:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||m}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:t,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||m}:/chromium/i.test(e)?n={name:"Chromium",chromium:t,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||m}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?n={name:"Android",version:m}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:t},m&&(n.version=m)):r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},m&&(n.version=m)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||m}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=t):(n.name=n.name||"Webkit",n.webkit=t),!n.version&&m&&(n.version=m)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=t,n.version=n.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||!i&&!n.silk?!n.windowsphone&&r?(n[r]=t,n.ios=t,n.osname="iOS"):h?(n.mac=t,n.osname="macOS"):b?(n.xbox=t,n.osname="Xbox"):d?(n.windows=t,n.osname="Windows"):g&&(n.linux=t,n.osname="Linux"):(n.android=t,n.osname="Android");var S="";n.windows?S=function getWindowsVersion(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i)):n.windowsphone?S=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n.mac?S=(S=getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?S=(S=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):i?S=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):n.webos?S=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?S=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?S=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(S=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(n.osversion=S);var E=!n.windows&&S.split(".")[0];return v||a||"ipad"==r||i&&(3==E||E>=4&&!_)||n.silk?n.tablet=t:(_||"iphone"==r||"ipod"==r||i||o||n.blackberry||n.webos||n.bada)&&(n.mobile=t),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=t:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=t:n.x=t,n}var e=detect("undefined"!==typeof navigator&&navigator.userAgent||"");function getVersionPrecision(t){return t.split(".").length}function map(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function compareVersions(t){for(var e=Math.max(getVersionPrecision(t[0]),getVersionPrecision(t[1])),n=map(t,(function(t){var n=e-getVersionPrecision(t);return map((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function isUnsupportedBrowser(t,n,r){var i=e;"string"===typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(i=detect(r));var o=""+i.version;for(var a in t)if(t.hasOwnProperty(a)&&i[a]){if("string"!==typeof t[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(t));return compareVersions([o,t[a]])<0}return n}return e.test=function(t){for(var n=0;n<t.length;++n){var r=t[n];if("string"===typeof r&&r in e)return!0}return!1},e.isUnsupportedBrowser=isUnsupportedBrowser,e.compareVersions=compareVersions,e.check=function check(t,e,n){return!isUnsupportedBrowser(t,e,n)},e._detect=detect,e.detect=detect,e},t.exports?t.exports=r():n(983)("bowser",r)},function(t,e,n){(function(e){var r=n(311),i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function isUndefined(t){return void 0===t}function isPlainObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function supportsFetch(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function each(t,e){var n,r;if(isUndefined(t.length))for(n in t)hasKey(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function truncate(t,e){if("number"!==typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!==typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"\u2026"}function hasKey(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function joinRegExp(t){for(var e,n=[],r=0,i=t.length;r<i;r++)isString(e=t[r])?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function htmlElementAsString(t){var e,n,r,i,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&isString(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)r=s[o],(i=t.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function isOnlyOneTruthy(t,e){return!!(!!t^!!e)}function isSameStacktrace(t,e){if(isOnlyOneTruthy(t,e))return!1;var n,r,i=t.frames,o=e.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var o=3,a=51200,s=40;function jsonSize(t){return function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function serializeValue(t){if("string"===typeof t){return truncate(t,40)}if("number"===typeof t||"boolean"===typeof t||"undefined"===typeof t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function isObject(t){return"object"===typeof t&&null!==t},isError:function isError(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function isErrorEvent(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function isDOMError(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function isDOMException(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:isUndefined,isFunction:function isFunction(t){return"function"===typeof t},isPlainObject:isPlainObject,isString:isString,isArray:isArray,isEmptyObject:function isEmptyObject(t){if(!isPlainObject(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function supportsErrorEvent(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function supportsDOMError(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function supportsDOMException(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:supportsFetch,supportsReferrerPolicy:function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function supportsPromiseRejectionEvent(){return"function"===typeof PromiseRejectionEvent},wrappedCallback:function wrappedCallback(t){return function dataCallback(e,n){var r=t(e)||e;return n&&n(r)||r}},each:each,objectMerge:function objectMerge(t,e){return e?(each(e,(function(e,n){t[e]=n})),t):t},truncate:truncate,objectFrozen:function objectFrozen(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:hasKey,joinRegExp:joinRegExp,urlencode:function urlencode(t){var e=[];return each(t,(function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})),e.join("&")},uuid4:function uuid4(){var t=i.crypto||i.msCrypto;if(!isUndefined(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function pad(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},htmlTreeAsString:function htmlTreeAsString(t){for(var e,n=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(e=htmlElementAsString(t))||r>1&&i+n.length*o+e.length>=80);)n.push(e),i+=e.length,t=t.parentNode;return n.reverse().join(" > ")},htmlElementAsString:htmlElementAsString,isSameException:function isSameException(t,e){return!isOnlyOneTruthy(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(!function isBothUndefined(t,e){return isUndefined(t)&&isUndefined(e)}(t.stacktrace,e.stacktrace)&&isSameStacktrace(t.stacktrace,e.stacktrace)))},isSameStacktrace:isSameStacktrace,parseUrl:function parseUrl(t){if("string"!==typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}},fill:function fill(t,e,n,r){if(null!=t){var i=t[e];t[e]=n(i),t[e].__raven__=!0,t[e].__orig__=i,r&&r.push([t,e,i])}},safeJoin:function safeJoin(t,e){if(!isArray(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(i){n.push("[value cannot be serialized]")}return n.join(e)},serializeException:function serializeException(t,e,n){if(!isPlainObject(t))return t;n="number"!==typeof(e="number"!==typeof e?o:e)?a:n;var i=function serializeObject(t,e){return 0===e?serializeValue(t):isPlainObject(t)?Object.keys(t).reduce((function(n,r){return n[r]=serializeObject(t[r],e-1),n}),{}):Array.isArray(t)?t.map((function(t){return serializeObject(t,e-1)})):serializeValue(t)}(t,e);return jsonSize(r(i))>n?serializeException(t,e-1):i},serializeKeysForMessage:function serializeKeysForMessage(t,e){if("number"===typeof t||"string"===typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter((function(t){return"string"===typeof t}))).length)return"[object has no keys]";if(e="number"!==typeof e?s:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"\u2026"}return""},sanitize:function sanitize(t,e){if(!isArray(e)||isArray(e)&&0===e.length)return t;var n,i=joinRegExp(e),o="********";try{n=JSON.parse(r(t))}catch(a){return t}return function sanitizeWorker(t){return isArray(t)?t.map((function(t){return sanitizeWorker(t)})):isPlainObject(t)?Object.keys(t).reduce((function(e,n){return i.test(n)?e[n]=o:e[n]=sanitizeWorker(t[n]),e}),{}):t}(n)}}}).call(this,n(32))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfUTCISOWeekYear(t,e){var n=(0,r.default)(t,e),o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),(0,i.default)(o,e)};var r=_interopRequireDefault(n(314)),i=_interopRequireDefault(n(176));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(110),i=n(69).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(110);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(91),i=n(604),o=n(237),a=n(235)("IE_PROTO"),s=function Empty(){},u=function createDict(){var t,e=n(231)("iframe"),r=o.length;for(e.style.display="none",n(325).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function create(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(229),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(236)("keys"),i=n(179);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(56),i=n(69),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(156)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(159),i=n(73)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function tryGet(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(238),i=n(73)("iterator"),o=n(137);t.exports=n(56).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(178);function PromiseCapability(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new PromiseCapability(t)}},function(t,e,n){var r=n(625),i=n(243),o=n(116),a=n(634),s=n(242),u=n(635),l=n(335),c=n(638),f=n(639),p=n(640);t.exports=function Client(t){return t=o(h,t=t||{}),Request.configure=function configure(e){a(t,e)},Request.config=t,function httpMethods(t){return d.forEach((function createMethod(e){t[e]=function(n,r,i){return"function"===typeof r&&(i=r,r={}),r.method=e,t(n,r,i)}})),t}(Request);function Request(e,n,d){e=e||"",s(n)&&(d=n,n={}),function setQuery(t){var e=t.query;if(!e)return;t.query=("string"===typeof e?String:p)(e)}(n=o(t.options,n)),function setToken(e){if(!e.token&&!t.token)return;e.headers=e.headers||{};var n=e.authorization||t.authorization||"Authorization",r=e.token||t.token;(e.jwt||t.jwt)&&(r="Bearer "+r);e.headers[n]=r,delete e.token}(n);var h=i(t.baseUrl,e);return r(h,n,function responseHandler(e,n){return function handleResponse(r,i,o){if(r)return e(r,null,o);if(l(o.statusCode))return function createError(t,e,n){var r=u(e.statusCode);if(!t)return n(r);if(t){if(Array.isArray(t)&&(t=t[0]),f(t))return n(a(r,t));c(t,(function(t,e){if(t)return n(t);n(a(r,e))}))}}(i,o,(function(t){e(t,null,o)}));var p=n.parse||t.parse;i=s(p)?p(i,o):i,e(null,i,o)}}(d,{url:h,method:n.method}))}};var d=["get","post","put","patch","head","delete"],h={baseUrl:"http://localhost:8000",jwt:!1,token:null,options:{}}},function(t,e){t.exports=function isFunction(t){var e=n.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},function(t,e,n){var r,i,o;o=function(){function normalize(t,e){return t=(t=(t=(t=t.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments;"object"===typeof arguments[0]&&(t=arguments[0],arguments[1]);var e=[].slice.call(t,0).join("/");return normalize(e)}},t.exports?t.exports=o():void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.COMMA_URL_ROOT="https://api.commadotai.com/",e.ATHENA_URL_ROOT="https://athena.comma.ai/";var r=e.VIDEO_HOST=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).COMMA_VIDEO_CDN;r||(e.VIDEO_HOST=r="https://my-comma-video.azureedge.net")},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function getDisplayName(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toCss(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";if(!e)return i;var o=n.indent,a=void 0===o?0:o,s=e.fallbacks;if(a++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var l=s[u];for(var c in l){var f=l[c];null!=f&&(i+="\n"+indentStr(c+": "+(0,r.default)(f)+";",a))}}else for(var p in s){var d=s[p];null!=d&&(i+="\n"+indentStr(p+": "+(0,r.default)(d)+";",a))}for(var h in e){var g=e[h];null!=g&&"fallbacks"!==h&&(i+="\n"+indentStr(h+": "+(0,r.default)(g)+";",a))}return i||n.allowEmpty?i=indentStr(t+" {"+i+"\n",--a)+indentStr("}",a):i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(186));function indentStr(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(345));e.default=new r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="",i="";if(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(188)).default){var o={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in o)if(s+"Transform"in a){r=s,i=o[s];break}}e.default={js:r,css:i}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(36)),o=r(n(11)),a=r(n(189)),s=(r(n(64)),r(n(352))),u=r(n(736)),l=r(n(737)),c=r(n(742)),f=r(n(743)),p=r(n(744)),d=r(n(745)),h=r(n(140)),g=r(n(746));var y=function createMuiTheme(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,y=void 0===r?{}:r,m=t.palette,v=void 0===m?{}:m,_=t.shadows,b=t.typography,S=void 0===b?{}:b,E=(0,o.default)(t,["breakpoints","mixins","palette","shadows","typography"]),x=(0,l.default)(v),w=(0,s.default)(n);return(0,i.default)({breakpoints:w,direction:"ltr",mixins:(0,u.default)(w,d.default,y),overrides:{},palette:x,props:{},shadows:_||f.default,shape:p.default,typography:(0,c.default)(x,S)},(0,a.default)({transitions:h.default,spacing:d.default,zIndex:g.default},E))};e.default=y},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CHANNEL=void 0;var i=r(n(28)),o=r(n(9)),a="__THEMING__";e.CHANNEL=a;var s={contextTypes:(0,i.default)({},a,o.default.object),initial:function initial(t){return t[a]?t[a].getState():null},subscribe:function subscribe(t,e){return t[a]?t[a].subscribe(e):null},unsubscribe:function unsubscribe(t,e){t[a]&&t[a].unsubscribe(e)}};e.default=s},function(t,e,n){t.exports=n(757)()},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.hasValue=hasValue,e.isFilled=isFilled,e.isAdornedStart=function isAdornedStart(t){return t.startAdornment},e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(28)),s=r(n(11)),u=r(n(37)),l=r(n(38)),c=r(n(40)),f=r(n(41)),p=r(n(0)),d=r(n(9)),h=r(n(3)),g=r(n(8)),y=r(n(765));function hasValue(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function isFilled(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(hasValue(t.value)&&""!==t.value||e&&hasValue(t.defaultValue)&&""!==t.defaultValue)}var m=function styles(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:0},i={opacity:e?.42:.5},o=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{display:"inline-flex",position:"relative",fontFamily:t.typography.fontFamily,color:e?"rgba(0, 0, 0, 0.87)":t.palette.common.white,fontSize:t.typography.pxToRem(16),lineHeight:"1.1875em","&$disabled":{color:t.palette.text.disabled}},formControl:{"label + &":{marginTop:2*t.spacing.unit}},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary[e?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottom:"1px dotted ".concat(o)}},error:{},multiline:{padding:"".concat(t.spacing.unit-2,"px 0 ").concat(t.spacing.unit-1,"px")},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(t.spacing.unit-2,"px 0 ").concat(t.spacing.unit-1,"px"),border:0,boxSizing:"content-box",verticalAlign:"middle",background:"none",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,flexGrow:1,"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1}},inputMarginDense:{paddingTop:t.spacing.unit/2-1},inputMultiline:{resize:"none",padding:0},inputType:{height:"1.1875em"},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"}}};function formControlState(t,e){var n=t.disabled,r=t.error,i=t.margin;return e&&e.muiFormControl&&("undefined"===typeof n&&(n=e.muiFormControl.disabled),"undefined"===typeof r&&(r=e.muiFormControl.error),"undefined"===typeof i&&(i=e.muiFormControl.margin)),{disabled:n,error:r,margin:i}}e.styles=m;var v=function(t){function Input(t,e){var n;(0,u.default)(this,Input),(n=(0,c.default)(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,t,e))).isControlled=null!=n.props.value,n.input=null,n.state={focused:!1},n.handleFocus=function(t){if(formControlState(n.props,n.context).disabled)t.stopPropagation();else{n.setState({focused:!0}),n.props.onFocus&&n.props.onFocus(t);var e=n.context.muiFormControl;e&&e.onFocus&&e.onFocus(t)}},n.handleBlur=function(t){n.setState({focused:!1}),n.props.onBlur&&n.props.onBlur(t);var e=n.context.muiFormControl;e&&e.onBlur&&e.onBlur(t)},n.handleChange=function(t){n.isControlled||n.checkDirty(n.input),n.props.onChange&&n.props.onChange(t)},n.handleRefInput=function(t){var e;n.input=t,n.props.inputRef?e=n.props.inputRef:n.props.inputProps&&n.props.inputProps.ref&&(e=n.props.inputProps.ref),e&&("function"===typeof e?e(t):e.current=t)},n.isControlled&&n.checkDirty(t);var r=function componentWillReceiveProps(t,e){!formControlState(n.props,n.context).disabled&&formControlState(t,e).disabled&&n.setState({focused:!1})},i=function componentWillUpdate(t,e,r){if(!formControlState(n.props,n.context).disabled&&formControlState(t,r).disabled){var i=n.context.muiFormControl;i&&i.onBlur&&i.onBlur()}};return p.default.createContext?(n.UNSAFE_componentWillReceiveProps=r,n.UNSAFE_componentWillUpdate=i):(n.componentWillReceiveProps=r,n.componentWillUpdate=i),n}return(0,f.default)(Input,t),(0,l.default)(Input,[{key:"getChildContext",value:function getChildContext(){return{muiFormControl:null}}},{key:"componentDidMount",value:function componentDidMount(){this.isControlled||this.checkDirty(this.input)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.isControlled&&this.checkDirty(this.props)}},{key:"checkDirty",value:function checkDirty(t){var e=this.context.muiFormControl;if(isFilled(t))return e&&e.onFilled&&e.onFilled(),void(this.props.onFilled&&this.props.onFilled());e&&e.onEmpty&&e.onEmpty(),this.props.onEmpty&&this.props.onEmpty()}},{key:"render",value:function render(){var t,e,n=this.props,r=n.autoComplete,u=n.autoFocus,l=n.classes,c=n.className,f=n.defaultValue,d=(n.disabled,n.disableUnderline),g=n.endAdornment,m=(n.error,n.fullWidth),v=n.id,_=n.inputComponent,b=n.inputProps,S=(b=void 0===b?{}:b).className,E=(0,s.default)(b,["className"]),x=(n.inputRef,n.margin,n.multiline),w=n.name,T=(n.onBlur,n.onChange,n.onEmpty,n.onFilled,n.onFocus,n.onKeyDown),P=n.onKeyUp,k=n.placeholder,C=n.readOnly,D=n.rows,A=n.rowsMax,R=n.startAdornment,M=n.type,L=n.value,I=(0,s.default)(n,["autoComplete","autoFocus","classes","className","defaultValue","disabled","disableUnderline","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onEmpty","onFilled","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","rows","rowsMax","startAdornment","type","value"]),O=this.context.muiFormControl,F=formControlState(this.props,this.context),N=F.disabled,B=F.error,U=F.margin,z=(0,h.default)(l.root,(t={},(0,a.default)(t,l.disabled,N),(0,a.default)(t,l.error,B),(0,a.default)(t,l.fullWidth,m),(0,a.default)(t,l.focused,this.state.focused),(0,a.default)(t,l.formControl,O),(0,a.default)(t,l.multiline,x),(0,a.default)(t,l.underline,!d),t),c),j=(0,h.default)(l.input,(e={},(0,a.default)(e,l.disabled,N),(0,a.default)(e,l.inputType,"text"!==M),(0,a.default)(e,l.inputTypeSearch,"search"===M),(0,a.default)(e,l.inputMultiline,x),(0,a.default)(e,l.inputMarginDense,"dense"===U),e),S),V=O&&!0===O.required,G="input",W=(0,o.default)({},E,{ref:this.handleRefInput});return _?(G=_,W=(0,o.default)({inputRef:this.handleRefInput},W,{ref:null})):x&&(D&&!A?G="textarea":(W=(0,o.default)({rowsMax:A,textareaRef:this.handleRefInput},W,{ref:null}),G=y.default)),p.default.createElement("div",(0,i.default)({className:z},I),R,p.default.createElement(G,(0,i.default)({"aria-invalid":B,"aria-required":V,autoComplete:r,autoFocus:u,className:j,defaultValue:f,disabled:N,id:v,name:w,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:T,onKeyUp:P,placeholder:k,readOnly:C,required:!!V||void 0,rows:D,type:M,value:L},W)),g)}}]),Input}(p.default.Component);v.propTypes={},v.muiName="Input",v.defaultProps={disableUnderline:!1,fullWidth:!1,multiline:!1,type:"text"},v.contextTypes={muiFormControl:d.default.object},v.childContextTypes={muiFormControl:d.default.object};var _=(0,g.default)(m,{name:"MuiInput"})(v);e.default=_},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(780))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(782))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(800))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(802))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(804))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(805))},function(t,e,n){e.f=n(73)},function(t,e,n){var r=n(69),i=n(56),o=n(156),a=n(260),s=n(101).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(198),i=n(157),o=n(123),a=n(232),s=n(122),u=n(321),l=Object.getOwnPropertyDescriptor;e.f=n(111)?l:function getOwnPropertyDescriptor(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(863);e.AnyPointerList=r.AnyPointerList;var i=n(865);e.BoolList=i.BoolList;var o=n(866);e.CompositeList=o.CompositeList;var a=n(265);e.Data=a.Data;var s=n(867);e.DataList=s.DataList;var u=n(868);e.Float32List=u.Float32List;var l=n(869);e.Float64List=l.Float64List;var c=n(870);e.Int8List=c.Int8List;var f=n(871);e.Int16List=f.Int16List;var p=n(872);e.Int32List=p.Int32List;var d=n(873);e.Int64List=d.Int64List;var h=n(374);e.Interface=h.Interface;var g=n(874);e.InterfaceList=g.InterfaceList;var y=n(65);e.List=y.List;var m=n(373);e.Orphan=m.Orphan;var v=n(165);e.PointerList=v.PointerList;var _=n(143);e.PointerType=_.PointerType;var b=n(53);e.Pointer=b.Pointer;var S=n(266);e.Struct=S.Struct;var E=n(268);e.Text=E.Text;var x=n(876);e.TextList=x.TextList;var w=n(877);e.Uint8List=w.Uint8List;var T=n(878);e.Uint16List=T.Uint16List;var P=n(879);e.Uint32List=P.Uint32List;var k=n(880);e.Uint64List=k.Uint64List;var C=n(376);e.Void=C.Void,e.VOID=C.VOID;var D=n(881);e.VoidList=D.VoidList},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53),u=n(143),l=i.default("capnp:data");l("load");var c=function(t){function Data(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Data,t),Data.fromPointer=function(t){return s.validate(u.PointerType.LIST,t,o.ListElementSize.BYTE),this._fromPointerUnchecked(t)},Data._fromPointerUnchecked=function(t){return new this(t.segment,t.byteOffset,t._capnp.depthLimit)},Data.prototype.copyBuffer=function(t){var e=s.getContent(this),n=this.getLength(),r=t.byteLength,i=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,Math.min(n,r)),o=new Uint8Array(e.segment.buffer,e.byteOffset,this.getLength());o.set(i),n>r?(l("Zeroing out remaining %d bytes after copy into %s.",n-r,this),o.fill(0,r,n)):n<r&&l("Truncated %d bytes from source buffer while copying to %s.",r-n,this)},Data.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint8(e.byteOffset+t)},Data.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setUint8(n.byteOffset+t,e)},Data.prototype.toArrayBuffer=function(){var t=s.getContent(this);return t.segment.buffer.slice(t.byteOffset,t.byteOffset+this.getLength())},Data.prototype.toDataView=function(){var t=s.getContent(this);return new DataView(t.segment.buffer,t.byteOffset,this.getLength())},Data.prototype.toString=function(){return"Data_"+t.prototype.toString.call(this)},Data.prototype.toUint8Array=function(){var t=s.getContent(this);return new Uint8Array(t.segment.buffer,t.byteOffset,this.getLength())},Data}(a.List);e.Data=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(83),a=n(267),s=n(80),u=n(59),l=n(142),c=n(265),f=n(65),p=n(53),d=n(143),h=n(268),g=n(79),y=i.default("capnp:struct");y("load");var m=new DataView(new ArrayBuffer(8)),v=function(t){function Struct(e,n,r,i){void 0===r&&(r=o.MAX_DEPTH);var a=t.call(this,e,n,r)||this;return a._capnp.compositeIndex=i,a._capnp.compositeList=void 0!==i,a}return r.__extends(Struct,t),Struct.toString=function(){return this._capnp.displayName},Struct.prototype.toString=function(){return"Struct_"+t.prototype.toString.call(this)+(void 0===this._capnp.compositeIndex?"":",ci:"+this._capnp.compositeIndex)},Struct._capnp={displayName:"Struct"},Struct.getAs=getAs,Struct.getBit=getBit,Struct.getData=getData,Struct.getFloat32=getFloat32,Struct.getFloat64=getFloat64,Struct.getUint8=getUint8,Struct.getUint16=getUint16,Struct.getUint32=getUint32,Struct.getUint64=getUint64,Struct.getInt8=getInt8,Struct.getInt16=getInt16,Struct.getInt32=getInt32,Struct.getInt64=getInt64,Struct.getList=getList,Struct.getPointer=getPointer,Struct.getPointerAs=getPointerAs,Struct.getStruct=getStruct,Struct.getText=getText,Struct.initData=initData,Struct.initList=initList,Struct.initStruct=initStruct,Struct.initStructAt=initStructAt,Struct.setBit=setBit,Struct.setFloat32=setFloat32,Struct.setFloat64=setFloat64,Struct.setUint8=setUint8,Struct.setUint16=setUint16,Struct.setUint32=setUint32,Struct.setUint64=setUint64,Struct.setInt8=setInt8,Struct.setInt16=setInt16,Struct.setInt32=setInt32,Struct.setInt64=setInt64,Struct.setText=setText,Struct.testWhich=testWhich,Struct}(p.Pointer);function initStruct(t,e){if(void 0!==e._capnp.compositeIndex)throw new Error(s.format(g.PTR_INIT_COMPOSITE_STRUCT,e));p.erase(e);var n=e.segment.allocate(l.getByteLength(t)),r=p.initPointer(n.segment,n.byteOffset,e);p.setStructPointer(r.offsetWords,t,r.pointer)}function initStructAt(t,e,n){var r=getPointerAs(t,e,n);return initStruct(e._capnp.size,r),r}function resize(t,e){var n=getSize(e),r=p.getContent(e),i=e.segment.allocate(l.getByteLength(t));i.segment.copyWords(i.byteOffset,r.segment,r.byteOffset,Math.min(l.getDataWordLength(n),l.getDataWordLength(t)));var o=p.initPointer(i.segment,i.byteOffset,e);p.setStructPointer(o.offsetWords,t,o.pointer);for(var a=0;a<Math.min(n.pointerLength,t.pointerLength);a++){var s=new p.Pointer(r.segment,r.byteOffset+n.dataByteLength+8*a);if(!p.isNull(s)){var c=p.followFars(s),f=p.getContent(s),h=new p.Pointer(i.segment,i.byteOffset+t.dataByteLength+8*a);p.getTargetPointerType(s)===d.PointerType.LIST&&p.getTargetListElementSize(s)===u.ListElementSize.COMPOSITE&&(f.byteOffset-=8);var g=p.initPointer(f.segment,f.byteOffset,h),y=3&c.segment.getUint8(c.byteOffset),m=c.segment.getUint32(c.byteOffset+4);g.pointer.segment.setUint32(g.pointer.byteOffset,y|g.offsetWords<<2),g.pointer.segment.setUint32(g.pointer.byteOffset+4,m)}}r.segment.fillZeroWords(r.byteOffset,l.getWordLength(n))}function getAs(t,e){return new t(e.segment,e.byteOffset,e._capnp.depthLimit,e._capnp.compositeIndex)}function getBit(t,e,n){var r=Math.floor(t/8),i=1<<t%8;checkDataBounds(r,1,e);var o=getDataSection(e),a=o.segment.getUint8(o.byteOffset+r);return void 0===n?0!==(a&i):0!==((a^n.getUint8(0))&i)}function getData(t,e,n){checkPointerBounds(t,e);var r=getPointerSection(e);r.byteOffset+=8*t;var i=new c.Data(r.segment,r.byteOffset,e._capnp.depthLimit-1);return p.isNull(i)&&(n?p.Pointer.copyFrom(n,i):f.List.initList(u.ListElementSize.BYTE,0,i)),i}function getDataSection(t){return p.getContent(t)}function getFloat32(t,e,n){checkDataBounds(t,4,e);var r=getDataSection(e);if(void 0===n)return r.segment.getFloat32(r.byteOffset+t);var i=r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0);return m.setUint32(0,i,o.NATIVE_LITTLE_ENDIAN),m.getFloat32(0,o.NATIVE_LITTLE_ENDIAN)}function getFloat64(t,e,n){checkDataBounds(t,8,e);var r=getDataSection(e);if(void 0!==n){var i=r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0),a=r.segment.getUint32(r.byteOffset+t+4)^n.getUint32(4,!0);return m.setUint32(0,i,o.NATIVE_LITTLE_ENDIAN),m.setUint32(4,a,o.NATIVE_LITTLE_ENDIAN),m.getFloat64(0,o.NATIVE_LITTLE_ENDIAN)}return r.segment.getFloat64(r.byteOffset+t)}function getInt16(t,e,n){checkDataBounds(t,2,e);var r=getDataSection(e);if(void 0===n)return r.segment.getInt16(r.byteOffset+t);var i=r.segment.getUint16(r.byteOffset+t)^n.getUint16(0,!0);return m.setUint16(0,i,o.NATIVE_LITTLE_ENDIAN),m.getInt16(0,o.NATIVE_LITTLE_ENDIAN)}function getInt32(t,e,n){checkDataBounds(t,4,e);var r=getDataSection(e);if(void 0===n)return r.segment.getInt32(r.byteOffset+t);var i=r.segment.getUint32(r.byteOffset+t)^n.getUint16(0,!0);return m.setUint32(0,i,o.NATIVE_LITTLE_ENDIAN),m.getInt32(0,o.NATIVE_LITTLE_ENDIAN)}function getInt64(t,e,n){checkDataBounds(t,8,e);var r=getDataSection(e);if(void 0===n)return r.segment.getInt64(r.byteOffset+t);var i=r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0),s=r.segment.getUint32(r.byteOffset+t+4)^n.getUint32(4,!0);return m.setUint32(0,i,o.NATIVE_LITTLE_ENDIAN),m.setUint32(4,s,o.NATIVE_LITTLE_ENDIAN),new a.Int64(new Uint8Array(m.buffer.slice(0)))}function getInt8(t,e,n){checkDataBounds(t,1,e);var r=getDataSection(e);if(void 0===n)return r.segment.getInt8(r.byteOffset+t);var i=r.segment.getUint8(r.byteOffset+t)^n.getUint8(0);return m.setUint8(0,i),m.getInt8(0)}function getList(t,e,n,r){checkPointerBounds(t,n);var i=getPointerSection(n);i.byteOffset+=8*t;var o=new e(i.segment,i.byteOffset,n._capnp.depthLimit-1);if(p.isNull(o))r?p.Pointer.copyFrom(r,o):f.List.initList(e._capnp.size,0,o,e._capnp.compositeSize);else if(void 0!==e._capnp.compositeSize){var a=p.getTargetCompositeListSize(o),s=e._capnp.compositeSize;if(s.dataByteLength>a.dataByteLength||s.pointerLength>a.pointerLength){var c=p.getContent(o),h=p.getTargetListLength(o);y("resizing composite list %s due to protocol upgrade, new size: %d",o,l.getByteLength(s)*h);var g=o.segment.allocate(l.getByteLength(s)*h+8),m=p.initPointer(g.segment,g.byteOffset,o);p.setListPointer(m.offsetWords,e._capnp.size,h,m.pointer,s),p.setStructPointer(h,s,g),g.byteOffset+=8;for(var v=0;v<h;v++){var _=c.byteOffset+v*l.getByteLength(a),b=g.byteOffset+v*l.getByteLength(s);g.segment.copyWords(b,c.segment,_,l.getWordLength(a));for(var S=0;S<a.pointerLength;S++){var E=new p.Pointer(c.segment,_+a.dataByteLength+8*S),x=new p.Pointer(g.segment,b+s.dataByteLength+8*S),w=p.followFars(E),T=p.getContent(E);p.getTargetPointerType(E)===d.PointerType.LIST&&p.getTargetListElementSize(E)===u.ListElementSize.COMPOSITE&&(T.byteOffset-=8);var P=p.initPointer(T.segment,T.byteOffset,x),k=3&w.segment.getUint8(w.byteOffset),C=w.segment.getUint32(w.byteOffset+4);P.pointer.segment.setUint32(P.pointer.byteOffset,k|P.offsetWords<<2),P.pointer.segment.setUint32(P.pointer.byteOffset+4,C)}}c.segment.fillZeroWords(c.byteOffset,l.getWordLength(a)*h)}}return o}function getPointer(t,e){checkPointerBounds(t,e);var n=getPointerSection(e);return n.byteOffset+=8*t,new p.Pointer(n.segment,n.byteOffset,e._capnp.depthLimit-1)}function getPointerAs(t,e,n){checkPointerBounds(t,n);var r=getPointerSection(n);return r.byteOffset+=8*t,new e(r.segment,r.byteOffset,n._capnp.depthLimit-1)}function getPointerSection(t){var e=p.getContent(t);return e.byteOffset+=s.padToWord(getSize(t).dataByteLength),e}function getSize(t){if(void 0!==t._capnp.compositeIndex){var e=p.getContent(t,!0);return e.byteOffset-=8,p.getStructSize(e)}return p.getTargetStructSize(t)}function getStruct(t,e,n,r){var i=getPointerAs(t,e,n);if(p.isNull(i))r?p.Pointer.copyFrom(r,i):initStruct(e._capnp.size,i);else{p.validate(d.PointerType.STRUCT,i);var o=p.getTargetStructSize(i);(o.dataByteLength<e._capnp.size.dataByteLength||o.pointerLength<e._capnp.size.pointerLength)&&(y("need to resize child struct %s",i),resize(e._capnp.size,i))}return i}function getText(t,e,n){var r=h.Text.fromPointer(getPointer(t,e));return p.isNull(r)&&n&&r.set(0,n),r.get(0)}function getUint16(t,e,n){checkDataBounds(t,2,e);var r=getDataSection(e);return void 0===n?r.segment.getUint16(r.byteOffset+t):r.segment.getUint16(r.byteOffset+t)^n.getUint16(0,!0)}function getUint32(t,e,n){checkDataBounds(t,4,e);var r=getDataSection(e);return void 0===n?r.segment.getUint32(r.byteOffset+t):r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0)}function getUint64(t,e,n){checkDataBounds(t,8,e);var r=getDataSection(e);if(void 0===n)return r.segment.getUint64(r.byteOffset+t);var i=r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0),s=r.segment.getUint32(r.byteOffset+t+4)^n.getUint32(4,!0);return m.setUint32(0,i,o.NATIVE_LITTLE_ENDIAN),m.setUint32(4,s,o.NATIVE_LITTLE_ENDIAN),new a.Uint64(new Uint8Array(m.buffer.slice(0)))}function getUint8(t,e,n){checkDataBounds(t,1,e);var r=getDataSection(e);return void 0===n?r.segment.getUint8(r.byteOffset+t):r.segment.getUint8(r.byteOffset+t)^n.getUint8(0)}function initData(t,e,n){checkPointerBounds(t,n);var r=getPointerSection(n);r.byteOffset+=8*t;var i=new c.Data(r.segment,r.byteOffset,n._capnp.depthLimit-1);return p.erase(i),f.List.initList(u.ListElementSize.BYTE,e,i),i}function initList(t,e,n,r){checkPointerBounds(t,r);var i=getPointerSection(r);i.byteOffset+=8*t;var o=new e(i.segment,i.byteOffset,r._capnp.depthLimit-1);return p.erase(o),f.List.initList(e._capnp.size,n,o,e._capnp.compositeSize),o}function setBit(t,e,n,r){var i=Math.floor(t/8),o=1<<t%8;checkDataBounds(i,1,n);var a=getDataSection(n),s=a.segment.getUint8(a.byteOffset+i);void 0!==r&&(e=0!==(r.getUint8(0)&o)?!e:e),a.segment.setUint8(a.byteOffset+i,e?s|o:s&~o)}function setFloat32(t,e,n,r){checkDataBounds(t,4,n);var i=getDataSection(n);if(void 0===r)i.segment.setFloat32(i.byteOffset+t,e);else{m.setFloat32(0,e,o.NATIVE_LITTLE_ENDIAN);var a=m.getUint32(0,o.NATIVE_LITTLE_ENDIAN)^r.getUint32(0,!0);i.segment.setUint32(i.byteOffset+t,a)}}function setFloat64(t,e,n,r){checkDataBounds(t,8,n);var i=getDataSection(n);if(void 0!==r){m.setFloat64(0,e,o.NATIVE_LITTLE_ENDIAN);var a=m.getUint32(0,o.NATIVE_LITTLE_ENDIAN)^r.getUint32(0,!0),s=m.getUint32(4,o.NATIVE_LITTLE_ENDIAN)^r.getUint32(4,!0);return i.segment.setUint32(i.byteOffset+t,a),void i.segment.setUint32(i.byteOffset+t+4,s)}i.segment.setFloat64(i.byteOffset+t,e)}function setInt16(t,e,n,r){checkDataBounds(t,2,n);var i=getDataSection(n);if(void 0===r)i.segment.setInt16(i.byteOffset+t,e);else{m.setInt16(0,e,o.NATIVE_LITTLE_ENDIAN);var a=m.getUint16(0,o.NATIVE_LITTLE_ENDIAN)^r.getUint16(0,!0);i.segment.setUint16(i.byteOffset+t,a)}}function setInt32(t,e,n,r){checkDataBounds(t,4,n);var i=getDataSection(n);if(void 0===r)i.segment.setInt32(i.byteOffset+t,e);else{m.setInt32(0,e,o.NATIVE_LITTLE_ENDIAN);var a=m.getUint32(0,o.NATIVE_LITTLE_ENDIAN)^r.getUint32(0,!0);i.segment.setUint32(i.byteOffset+t,a)}}function setInt64(t,e,n,r){checkDataBounds(t,8,n);var i=getDataSection(n);if(void 0===r)i.segment.setInt64(i.byteOffset+t,e);else for(var o=0;o<8;o++)i.segment.setUint8(i.byteOffset+t+o,e.buffer[o]^r.getUint8(o))}function setInt8(t,e,n,r){checkDataBounds(t,1,n);var i=getDataSection(n);if(void 0===r)i.segment.setInt8(i.byteOffset+t,e);else{m.setInt8(0,e);var o=m.getUint8(0)^r.getUint8(0);i.segment.setUint8(i.byteOffset+t,o)}}function setText(t,e,n){h.Text.fromPointer(getPointer(t,n)).set(0,e)}function setUint16(t,e,n,r){checkDataBounds(t,2,n);var i=getDataSection(n);void 0!==r&&(e^=r.getUint16(0,!0)),i.segment.setUint16(i.byteOffset+t,e)}function setUint32(t,e,n,r){checkDataBounds(t,4,n);var i=getDataSection(n);void 0!==r&&(e^=r.getUint32(0,!0)),i.segment.setUint32(i.byteOffset+t,e)}function setUint64(t,e,n,r){checkDataBounds(t,8,n);var i=getDataSection(n);if(void 0===r)i.segment.setUint64(i.byteOffset+t,e);else for(var o=0;o<8;o++)i.segment.setUint8(i.byteOffset+t+o,e.buffer[o]^r.getUint8(o))}function setUint8(t,e,n,r){checkDataBounds(t,1,n);var i=getDataSection(n);void 0!==r&&(e^=r.getUint8(0)),i.segment.setUint8(i.byteOffset+t,e)}function testWhich(t,e,n,r){if(e!==n)throw new Error(s.format(g.PTR_INVALID_UNION_ACCESS,r,t,e,n))}function checkDataBounds(t,e,n){var r=getSize(n).dataByteLength;if(t<0||e<0||t+e>r)throw new Error(s.format(g.PTR_STRUCT_DATA_OUT_OF_BOUNDS,n,e,t,r))}function checkPointerBounds(t,e){var n=getSize(e).pointerLength;if(t<0||t>=n)throw new Error(s.format(g.PTR_STRUCT_POINTER_OUT_OF_BOUNDS,e,t,n))}e.Struct=v,e.initStruct=initStruct,e.initStructAt=initStructAt,e.resize=resize,e.adopt=function adopt(t,e){if(void 0!==e._capnp.compositeIndex)throw new Error(s.format(g.PTR_ADOPT_COMPOSITE_STRUCT,e));p.Pointer.adopt(t,e)},e.disown=function disown(t){if(void 0!==t._capnp.compositeIndex)throw new Error(s.format(g.PTR_DISOWN_COMPOSITE_STRUCT,t));return p.Pointer.disown(t)},e.getAs=getAs,e.getBit=getBit,e.getData=getData,e.getDataSection=getDataSection,e.getFloat32=getFloat32,e.getFloat64=getFloat64,e.getInt16=getInt16,e.getInt32=getInt32,e.getInt64=getInt64,e.getInt8=getInt8,e.getList=getList,e.getPointer=getPointer,e.getPointerAs=getPointerAs,e.getPointerSection=getPointerSection,e.getSize=getSize,e.getStruct=getStruct,e.getText=getText,e.getUint16=getUint16,e.getUint32=getUint32,e.getUint64=getUint64,e.getUint8=getUint8,e.initData=initData,e.initList=initList,e.setBit=setBit,e.setFloat32=setFloat32,e.setFloat64=setFloat64,e.setInt16=setInt16,e.setInt32=setInt32,e.setInt64=setInt64,e.setInt8=setInt8,e.setPointer=function setPointer(t,e,n){p.copyFrom(e,getPointer(t,n))},e.setText=setText,e.setUint16=setUint16,e.setUint32=setUint32,e.setUint64=setUint64,e.setUint8=setUint8,e.testWhich=testWhich,e.checkDataBounds=checkDataBounds,e.checkPointerBounds=checkPointerBounds},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(875);e.Int64=r.Int64;var i=n(375);e.Uint64=i.Uint64},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(80),a=n(59),s=n(65),u=n(53),l=n(143),c=i.default("capnp:text");c("load");var f=function(t){function Text(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Text,t),Text.fromPointer=function(t){return u.validate(l.PointerType.LIST,t,a.ListElementSize.BYTE),textFromPointerUnchecked(t)},Text.prototype.get=function(t){if(void 0===t&&(t=0),0!==t&&c("Called get() on %s with a strange index (%d).",this,t),u.isNull(this))return"";var e=u.getContent(this);return o.decodeUtf8(new Uint8Array(e.segment.buffer,e.byteOffset+t,this.getLength()-t))},Text.prototype.getLength=function(){return t.prototype.getLength.call(this)-1},Text.prototype.set=function(t,e){0!==t&&c("Called set() on %s with a strange index (%d).",this,t);var n,r,i=o.encodeUtf8(e),l=i.byteLength+t;if(!u.isNull(this)){n=u.getContent(this);var f=this.getLength();f>=t?f=t:c("%d byte gap exists between original text and new text in %s.",t-f,this),r=new Uint8Array(n.segment.buffer.slice(n.byteOffset,n.byteOffset+Math.min(f,t))),u.erase(this)}s.initList(a.ListElementSize.BYTE,l+1,this),n=u.getContent(this);var p=new Uint8Array(n.segment.buffer,n.byteOffset,l);r&&p.set(r),p.set(i,t)},Text.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},Text}(s.List);function textFromPointerUnchecked(t){return new f(t.segment,t.byteOffset,t._capnp.depthLimit)}e.Text=f},function(t,e,n){var r=n(884);function _get(e,n,i){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=_get=Reflect.get:t.exports=_get=function _get(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},_get(e,n,i||e)}t.exports=_get},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(909))},function(t,e,n){var r=n(82),i=n(56),o=n(136);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e){t.exports=function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(985);t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleLoadStart=function handleLoadStart(t){return{type:r,videoProps:t}},e.handleCanPlay=function handleCanPlay(t){return{type:i,videoProps:t}},e.handleWaiting=function handleWaiting(t){return{type:o,videoProps:t}},e.handleCanPlayThrough=function handleCanPlayThrough(t){return{type:a,videoProps:t}},e.handlePlaying=function handlePlaying(t){return{type:s,videoProps:t}},e.handlePlay=function handlePlay(t){return{type:u,videoProps:t}},e.handlePause=function handlePause(t){return{type:l,videoProps:t}},e.handleEnd=function handleEnd(t){return{type:c,videoProps:t}},e.handleSeeking=function handleSeeking(t){return{type:f,videoProps:t}},e.handleSeeked=function handleSeeked(t){return{type:p,videoProps:t}},e.handleDurationChange=function handleDurationChange(t){return{type:g,videoProps:t}},e.handleTimeUpdate=function handleTimeUpdate(t){return{type:y,videoProps:t}},e.handleVolumeChange=function handleVolumeChange(t){return{type:m,videoProps:t}},e.handleProgressChange=function handleProgressChange(t){return{type:v,videoProps:t}},e.handleRateChange=function handleRateChange(t){return{type:_,videoProps:t}},e.handleSuspend=function handleSuspend(t){return{type:b,videoProps:t}},e.handleAbort=function handleAbort(t){return{type:S,videoProps:t}},e.handleEmptied=function handleEmptied(t){return{type:E,videoProps:t}},e.handleStalled=function handleStalled(t){return{type:x,videoProps:t}},e.handleLoadedMetaData=function handleLoadedMetaData(t){return{type:w,videoProps:t}},e.handleLoadedData=function handleLoadedData(t){return{type:T,videoProps:t}},e.handleResize=function handleResize(t){return{type:P,videoProps:t}},e.handleError=function handleError(t){return{type:k,videoProps:t}},e.handleSeekingTime=function handleSeekingTime(t){return{type:d,time:t}},e.handleEndSeeking=function handleEndSeeking(t){return{type:h,time:t}},e.activateTextTrack=function activateTextTrack(t){return{type:C,textTrack:t}},e.ACTIVATE_TEXT_TRACK=e.ERROR=e.RESIZE=e.LOADED_DATA=e.LOADED_META_DATA=e.STALLED=e.EMPTIED=e.ABORT=e.SUSPEND=e.RATE_CHANGE=e.PROGRESS_CHANGE=e.VOLUME_CHANGE=e.TIME_UPDATE=e.DURATION_CHANGE=e.END_SEEKING=e.SEEKING_TIME=e.SEEKED=e.SEEKING=e.END=e.PAUSE=e.PLAY=e.PLAYING=e.CAN_PLAY_THROUGH=e.WAITING=e.CAN_PLAY=e.LOAD_START=void 0;var r="video-react/LOAD_START";e.LOAD_START=r;var i="video-react/CAN_PLAY";e.CAN_PLAY=i;var o="video-react/WAITING";e.WAITING=o;var a="video-react/CAN_PLAY_THROUGH";e.CAN_PLAY_THROUGH=a;var s="video-react/PLAYING";e.PLAYING=s;var u="video-react/PLAY";e.PLAY=u;var l="video-react/PAUSE";e.PAUSE=l;var c="video-react/END";e.END=c;var f="video-react/SEEKING";e.SEEKING=f;var p="video-react/SEEKED";e.SEEKED=p;var d="video-react/SEEKING_TIME";e.SEEKING_TIME=d;var h="video-react/END_SEEKING";e.END_SEEKING=h;var g="video-react/DURATION_CHANGE";e.DURATION_CHANGE=g;var y="video-react/TIME_UPDATE";e.TIME_UPDATE=y;var m="video-react/VOLUME_CHANGE";e.VOLUME_CHANGE=m;var v="video-react/PROGRESS_CHANGE";e.PROGRESS_CHANGE=v;var _="video-react/RATE_CHANGE";e.RATE_CHANGE=_;var b="video-react/SUSPEND";e.SUSPEND=b;var S="video-react/ABORT";e.ABORT=S;var E="video-react/EMPTIED";e.EMPTIED=E;var x="video-react/STALLED";e.STALLED=x;var w="video-react/LOADED_META_DATA";e.LOADED_META_DATA=w;var T="video-react/LOADED_DATA";e.LOADED_DATA=T;var P="video-react/RESIZE";e.RESIZE=P;var k="video-react/ERROR";e.ERROR=k;var C="video-react/ACTIVATE_TEXT_TRACK";e.ACTIVATE_TEXT_TRACK=C},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h=r(n(202)),g={className:f.default.string,onMouseDown:f.default.func,onMouseMove:f.default.func,stepForward:f.default.func,stepBack:f.default.func,sliderActive:f.default.func,sliderInactive:f.default.func,onMouseUp:f.default.func,onFocus:f.default.func,onBlur:f.default.func,onClick:f.default.func,getPercent:f.default.func,vertical:f.default.bool,children:f.default.node,label:f.default.string,valuenow:f.default.string,valuetext:f.default.string},y=function(t){function Slider(t,e){var n;return(0,o.default)(this,Slider),(n=(0,s.default)(this,(0,u.default)(Slider).call(this,t,e))).handleMouseDown=n.handleMouseDown.bind((0,l.default)(n)),n.handleMouseMove=n.handleMouseMove.bind((0,l.default)(n)),n.handleMouseUp=n.handleMouseUp.bind((0,l.default)(n)),n.handleFocus=n.handleFocus.bind((0,l.default)(n)),n.handleBlur=n.handleBlur.bind((0,l.default)(n)),n.handleClick=n.handleClick.bind((0,l.default)(n)),n.handleKeyPress=n.handleKeyPress.bind((0,l.default)(n)),n.stepForward=n.stepForward.bind((0,l.default)(n)),n.stepBack=n.stepBack.bind((0,l.default)(n)),n.calculateDistance=n.calculateDistance.bind((0,l.default)(n)),n.getProgress=n.getProgress.bind((0,l.default)(n)),n.renderChildren=n.renderChildren.bind((0,l.default)(n)),n.state={active:!1},n}return(0,c.default)(Slider,t),(0,a.default)(Slider,[{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"getProgress",value:function getProgress(){var t=this.props.getPercent;if(!t)return 0;var e=t();return("number"!==typeof e||e<0||e===1/0)&&(e=0),e}},{key:"handleMouseDown",value:function handleMouseDown(t){var e=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(t),this.handleMouseMove(t),e&&e(t)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.onMouseMove;e&&e(t)}},{key:"handleMouseUp",value:function handleMouseUp(t){t.preventDefault();var e=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(t),e&&e(t)}},{key:"handleFocus",value:function handleFocus(t){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(t)}},{key:"handleClick",value:function handleClick(t){t.preventDefault(),this.props.onClick&&this.props.onClick(t)}},{key:"handleKeyPress",value:function handleKeyPress(t){37===t.which||40===t.which?(t.preventDefault(),t.stopPropagation(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),t.stopPropagation(),this.stepForward())}},{key:"stepForward",value:function stepForward(){this.props.stepForward&&this.props.stepForward()}},{key:"stepBack",value:function stepBack(){this.props.stepBack&&this.props.stepBack()}},{key:"calculateDistance",value:function calculateDistance(t){var e=this.slider,n=h.getPointerPosition(e,t);return this.props.vertical?n.y:n.x}},{key:"renderChildren",value:function renderChildren(){var t=this.getProgress(),e="".concat((100*t).toFixed(2),"%");return p.default.Children.map(this.props.children,(function(n){return p.default.cloneElement(n,{progress:t,percentage:e})}))}},{key:"render",value:function render(){var t=this,e=this.props,n=e.vertical,r=e.label,i=e.valuenow,o=e.valuetext;return p.default.createElement("div",{className:(0,d.default)(this.props.className,{"video-react-slider-vertical":n,"video-react-slider-horizontal":!n,"video-react-sliding":this.state.active},"video-react-slider"),ref:function ref(e){t.slider=e},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":r||"","aria-valuenow":i||"","aria-valuetext":o||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),Slider}(p.Component);e.default=y,y.propTypes=g,y.displayName="Slider"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h=i(n(277)),g={player:f.default.object,actions:f.default.object,rates:f.default.array,className:f.default.string},y=function(t){function PlaybackRateMenuButton(t,e){var n;return(0,o.default)(this,PlaybackRateMenuButton),(n=(0,s.default)(this,(0,u.default)(PlaybackRateMenuButton).call(this,t,e))).handleSelectItem=n.handleSelectItem.bind((0,l.default)(n)),n}return(0,c.default)(PlaybackRateMenuButton,t),(0,a.default)(PlaybackRateMenuButton,[{key:"handleSelectItem",value:function handleSelectItem(t){var e=this.props,n=e.rates,r=e.actions;t>=0&&t<n.length&&r.changeRate(n[t])}},{key:"render",value:function render(){var t=this.props,e=t.rates,n=t.player,r=e.map((function(t){return{label:"".concat(t,"x"),value:t}})),i=e.indexOf(n.playbackRate)||0;return p.default.createElement(h.default,{className:(0,d.default)("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:r,selectedIndex:i},p.default.createElement("span",{className:"video-react-control-text"},"Playback Rate"),p.default.createElement("div",{className:"video-react-playback-rate-value"},"".concat(n.playbackRate.toFixed(2),"x")))}}]),PlaybackRateMenuButton}(p.Component);y.propTypes=g,y.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},y.displayName="PlaybackRateMenuButton";var m=y;e.default=m},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h=i(n(997)),g=i(n(998)),y=i(n(414)),m={inline:f.default.bool,items:f.default.array,className:f.default.string,onSelectItem:f.default.func,children:f.default.any,selectedIndex:f.default.number},v=function(t){function MenuButton(t,e){var n;return(0,o.default)(this,MenuButton),(n=(0,s.default)(this,(0,u.default)(MenuButton).call(this,t,e))).state={active:!1,activateIndex:t.selectedIndex||0},n.commitSelection=n.commitSelection.bind((0,l.default)(n)),n.activateMenuItem=n.activateMenuItem.bind((0,l.default)(n)),n.handleClick=n.handleClick.bind((0,l.default)(n)),n.renderMenu=n.renderMenu.bind((0,l.default)(n)),n.handleFocus=n.handleFocus.bind((0,l.default)(n)),n.handleBlur=n.handleBlur.bind((0,l.default)(n)),n.handleUpArrow=n.handleUpArrow.bind((0,l.default)(n)),n.handleDownArrow=n.handleDownArrow.bind((0,l.default)(n)),n.handleEscape=n.handleEscape.bind((0,l.default)(n)),n.handleReturn=n.handleReturn.bind((0,l.default)(n)),n.handleTab=n.handleTab.bind((0,l.default)(n)),n.handleKeyPress=n.handleKeyPress.bind((0,l.default)(n)),n.handleSelectItem=n.handleSelectItem.bind((0,l.default)(n)),n.handleIndexChange=n.handleIndexChange.bind((0,l.default)(n)),n}return(0,c.default)(MenuButton,t),(0,a.default)(MenuButton,[{key:"componentDidUpdate",value:function componentDidUpdate(t){t.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:"commitSelection",value:function commitSelection(t){this.setState({activateIndex:t}),this.handleIndexChange(t)}},{key:"activateMenuItem",value:function activateMenuItem(t){this.setState({activateIndex:t}),this.handleIndexChange(t)}},{key:"handleIndexChange",value:function handleIndexChange(t){(0,this.props.onSelectItem)(t)}},{key:"handleClick",value:function handleClick(){this.setState((function(t){return{active:!t.active}}))}},{key:"handleFocus",value:function handleFocus(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleBlur",value:function handleBlur(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleUpArrow",value:function handleUpArrow(t){var e=this.props.items;if(this.state.active){t.preventDefault();var n=this.state.activateIndex-1;n<0&&(n=e.length?e.length-1:0),this.activateMenuItem(n)}}},{key:"handleDownArrow",value:function handleDownArrow(t){var e=this.props.items;if(this.state.active){t.preventDefault();var n=this.state.activateIndex+1;n>=e.length&&(n=0),this.activateMenuItem(n)}}},{key:"handleTab",value:function handleTab(t){this.state.active&&(t.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:"handleReturn",value:function handleReturn(t){t.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:"handleEscape",value:function handleEscape(){this.setState({active:!1,activateIndex:0})}},{key:"handleKeyPress",value:function handleKeyPress(t){27===t.which?this.handleEscape(t):9===t.which?this.handleTab(t):13===t.which?this.handleReturn(t):38===t.which?this.handleUpArrow(t):40===t.which&&this.handleDownArrow(t)}},{key:"handleSelectItem",value:function handleSelectItem(t){this.commitSelection(t)}},{key:"renderMenu",value:function renderMenu(){var t=this;if(!this.state.active)return null;var e=this.props.items;return p.default.createElement(h.default,null,e.map((function(e,n){return p.default.createElement(g.default,{item:e,index:n,onSelectItem:t.handleSelectItem,activateIndex:t.state.activateIndex,key:"item-".concat(n++)})})))}},{key:"render",value:function render(){var t=this,e=this.props,n=e.inline,r=e.className;return p.default.createElement(y.default,{className:(0,d.default)(r,{"video-react-menu-button-inline":!!n,"video-react-menu-button-popup":!n,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function ref(e){t.menuButton=e},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),MenuButton}(p.Component);e.default=v,v.propTypes=m,v.displayName="MenuButton"},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(1006))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(1007))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(1008))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isValid(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e);return!isNaN(n)};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";function isAbsolute(t){return"/"===t.charAt(0)}function spliceOne(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}n.r(e),e.default=function resolvePathname(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&isAbsolute(t),o=e&&isAbsolute(e),a=i||o;if(t&&isAbsolute(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var l=0,c=r.length;c>=0;c--){var f=r[c];"."===f?spliceOne(r,c):".."===f?(spliceOne(r,c),l++):l&&(spliceOne(r,c),l--)}if(!a)for(;l--;l)r.unshift("..");!a||""===r[0]||r[0]&&isAbsolute(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,e,n){"use strict";n.r(e);var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function valueEqual(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every((function(t,n){return valueEqual(t,e[n])}));var n="undefined"===typeof t?"undefined":r(t);if(n!==("undefined"===typeof e?"undefined":r(e)))return!1;if("object"===n){var i=t.valueOf(),o=e.valueOf();if(i!==t||o!==e)return valueEqual(i,o);var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return valueEqual(t[n],e[n])}))}return!1}},function(t,e){t.exports=function Collector(){var t=[],e=[];return function collectOrRun(){if(0===arguments.length){var n=t.slice().filter((function(t){return!t.deleted}));if(t=[],n=n.map(run),e.length)throw e;return n}var r=Array.prototype.slice.call(arguments);return t=t.concat(r.map(FnEntry)),function removeFromQueue(){return r.map((function(e){for(var n=0;n<t.length;n++)if(t[n].fn===e){t[n].deleted=!0,t.splice(n,1);break}}))}};function run(t){try{return t.fn()}catch(n){return e.push(n),n}}function FnEntry(t){return this instanceof FnEntry?(this.fn=t,this.deleted=!1,this):new FnEntry(t)}}},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(664));e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e,n){"use strict";e.__esModule=!0;var r=_interopRequireDefault(n(672)),i=_interopRequireDefault(n(675));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function sliceIterator(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},,function(t,e){t.exports=function cross(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}},function(t,e){t.exports=function length(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},function(t,e,n){t.exports=n(973)},function(t,e){t.exports=function setAxisAngle(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}},function(t,e){t.exports=function scale(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addDays(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=Number(e);return i.setDate(i.getDate()+o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfDay(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e);return n.setHours(23,59,59,999),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfWeek(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,a=void 0===o?0:Number(o),s=void 0===n.weekStartsOn?a:Number(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(t,n),l=u.getDay(),c=6+(l<s?-7:0)-(l-s);return u.setDate(u.getDate()+c),u.setHours(23,59,59,999),u};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e);return n.setDate(1),n.setHours(0,0,0,0),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfWeek(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,a=void 0===o?0:Number(o),s=void 0===n.weekStartsOn?a:Number(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,r.default)(t,n),l=u.getDay(),c=(l<s?7:0)+l-s;return u.setDate(u.getDate()-c),u.setHours(0,0,0,0),u};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e),i=new Date(0);return i.setFullYear(n.getFullYear(),0,1),i.setHours(0,0,0,0),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";var r=_interopRequireDefault(n(835)),i=_interopRequireDefault(n(842)),o=_interopRequireDefault(n(369)),a=_interopRequireDefault(n(367));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(t,e,n){"use strict";(function(t){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function microtaskDebounce(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function taskDebounce(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),i))}};function isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}function getStyleComputedProperty(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function getParentNode(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function getScrollParent(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=getStyleComputedProperty(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:getScrollParent(getParentNode(t))}var s=n&&!(!window.MSInputMethodContext||!document.documentMode),u=n&&/MSIE 10/.test(navigator.userAgent);function isIE(t){return 11===t?s:10===t?u:s||u}function getOffsetParent(t){if(!t)return document.documentElement;for(var e=isIE(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===getStyleComputedProperty(n,"position")?getOffsetParent(n):n:t?t.ownerDocument.documentElement:document.documentElement}function getRoot(t){return null!==t.parentNode?getRoot(t.parentNode):t}function findCommonOffsetParent(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||r.contains(i))return function isOffsetContainer(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||getOffsetParent(t.firstElementChild)===t)}(a)?a:getOffsetParent(a);var s=getRoot(t);return s.host?findCommonOffsetParent(s.host,e):findCommonOffsetParent(t,getRoot(e).host)}function getScroll(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function getBordersSize(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function getSize(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],isIE(10)?n["offset"+t]+r["margin"+("Height"===t?"Top":"Left")]+r["margin"+("Height"===t?"Bottom":"Right")]:0)}function getWindowSizes(){var t=document.body,e=document.documentElement,n=isIE(10)&&getComputedStyle(e);return{height:getSize("Height",t,e,n),width:getSize("Width",t,e,n)}}var l=function classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),f=function defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function getClientRect(t){return p({},t,{right:t.left+t.width,bottom:t.top+t.height})}function getBoundingClientRect(t){var e={};try{if(isIE(10)){e=t.getBoundingClientRect();var n=getScroll(t,"top"),r=getScroll(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(f){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?getWindowSizes():{},a=o.width||t.clientWidth||i.right-i.left,s=o.height||t.clientHeight||i.bottom-i.top,u=t.offsetWidth-a,l=t.offsetHeight-s;if(u||l){var c=getStyleComputedProperty(t);u-=getBordersSize(c,"x"),l-=getBordersSize(c,"y"),i.width-=u,i.height-=l}return getClientRect(i)}function getOffsetRectRelativeToArbitraryNode(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=isIE(10),i="HTML"===e.nodeName,o=getBoundingClientRect(t),a=getBoundingClientRect(e),s=getScrollParent(t),u=getStyleComputedProperty(e),l=parseFloat(u.borderTopWidth,10),c=parseFloat(u.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=getClientRect({top:o.top-a.top-l,left:o.left-a.left-c,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var p=parseFloat(u.marginTop,10),d=parseFloat(u.marginLeft,10);f.top-=l-p,f.bottom-=l-p,f.left-=c-d,f.right-=c-d,f.marginTop=p,f.marginLeft=d}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(f=function includeScroll(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=getScroll(e,"top"),i=getScroll(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(f,e)),f}function getFixedPositionOffsetParent(t){if(!t||!t.parentElement||isIE())return document.documentElement;for(var e=t.parentElement;e&&"none"===getStyleComputedProperty(e,"transform");)e=e.parentElement;return e||document.documentElement}function getBoundaries(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,e);if("viewport"===r)o=function getViewportOffsetRectRelativeToArtbitraryNode(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=getOffsetRectRelativeToArbitraryNode(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:getScroll(n),s=e?0:getScroll(n,"left");return getClientRect({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=getScrollParent(getParentNode(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var u=getOffsetRectRelativeToArbitraryNode(s,a,i);if("HTML"!==s.nodeName||function isFixed(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===getStyleComputedProperty(t,"position")||isFixed(getParentNode(t)))}(a))o=u;else{var l=getWindowSizes(),c=l.height,f=l.width;o.top+=u.top-u.marginTop,o.bottom=c+u.top,o.left+=u.left-u.marginLeft,o.right=f+u.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function computeAutoPlacement(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=getBoundaries(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return p({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),l=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,f=t.split("-")[1];return c+(f?"-"+f:"")}function getReferenceOffsets(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(n,r?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,n),r)}function getOuterSizes(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function getOppositePlacement(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function getPopperOffsets(t,e,n){n=n.split("-")[0];var r=getOuterSizes(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=e[a]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[l]:e[getOppositePlacement(s)],i}function find(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function runModifiers(t,e,n){return(void 0===n?t:t.slice(0,function findIndex(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=find(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&isFunction(n)&&(e.offsets.popper=getClientRect(e.offsets.popper),e.offsets.reference=getClientRect(e.offsets.reference),e=n(e,t))})),e}function update(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=computeAutoPlacement(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=getPopperOffsets(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=runModifiers(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function isModifierEnabled(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function getSupportedPropertyName(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(t){var e=t.ownerDocument;return e?e.defaultView:window}function setupEventListeners(t,e,n,r){n.updateBound=r,getWindow(t).addEventListener("resize",n.updateBound,{passive:!0});var i=getScrollParent(t);return function attachToScrollParents(t,e,n,r){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||attachToScrollParents(getScrollParent(o.parentNode),e,n,r),r.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(t,e){return getWindow(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function isNumeric(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function setStyles(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&isNumeric(e[n])&&(r="px"),t.style[n]=e[n]+r}))}function isModifierRequired(t,e,n){var r=find(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var d=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],h=d.slice(3);function clockwise(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.indexOf(t),r=h.slice(n+1).concat(h.slice(0,n));return e?r.reverse():r}var g={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(find(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function toValue(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return getClientRect(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){isNumeric(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var y={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:f({},u,o[u]),end:f({},u,o[u]+o[l]-a[l])};t.offsets.popper=p({},a,c[r])}return t}},offset:{order:200,enabled:!0,fn:function offset(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=isNumeric(+n)?[+n,0]:parseOffset(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(t,e){var n=e.boundariesElement||getOffsetParent(t.instance.popper);t.instance.reference===n&&(n=getOffsetParent(n));var r=getSupportedPropertyName("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=getBoundaries(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=u;var l=e.priority,c=t.offsets.popper,d={primary:function primary(t){var n=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(c[t],u[t])),f({},t,n)},secondary:function secondary(t){var n="right"===t?"left":"top",r=c[n];return c[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(c[n],u[t]-("right"===t?c.width:c.height))),f({},n,r)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=p({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[s])&&(t.offsets.popper[u]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function arrow(t,e){var n;if(!isModifierRequired(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"===typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",c=u?"Top":"Left",p=c.toLowerCase(),d=u?"left":"top",h=u?"bottom":"right",g=getOuterSizes(r)[l];s[h]-g<a[p]&&(t.offsets.popper[p]-=a[p]-(s[h]-g)),s[p]+g>a[h]&&(t.offsets.popper[p]+=s[p]+g-a[h]),t.offsets.popper=getClientRect(t.offsets.popper);var y=s[p]+s[l]/2-g/2,m=getStyleComputedProperty(t.instance.popper),v=parseFloat(m["margin"+c],10),_=parseFloat(m["border"+c+"Width"],10),b=y-t.offsets.popper[p]-v-_;return b=Math.max(Math.min(a[l]-g,b),0),t.arrowElement=r,t.offsets.arrow=(f(n={},p,Math.round(b)),f(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(t,e){if(isModifierEnabled(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=getBoundaries(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=getOppositePlacement(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case g.FLIP:a=[r,i];break;case g.CLOCKWISE:a=clockwise(r);break;case g.COUNTERCLOCKWISE:a=clockwise(r,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],i=getOppositePlacement(r);var l=t.offsets.popper,c=t.offsets.reference,f=Math.floor,d="left"===r&&f(l.right)>f(c.left)||"right"===r&&f(l.left)<f(c.right)||"top"===r&&f(l.bottom)>f(c.top)||"bottom"===r&&f(l.top)<f(c.bottom),h=f(l.left)<f(n.left),g=f(l.right)>f(n.right),y=f(l.top)<f(n.top),m=f(l.bottom)>f(n.bottom),v="left"===r&&h||"right"===r&&g||"top"===r&&y||"bottom"===r&&m,_=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(_&&"start"===o&&h||_&&"end"===o&&g||!_&&"start"===o&&y||!_&&"end"===o&&m);(d||v||b)&&(t.flipped=!0,(d||v)&&(r=a[u+1]),b&&(o=function getOppositeVariation(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=p({},t.offsets.popper,getPopperOffsets(t.instance.popper,t.offsets.reference,t.placement)),t=runModifiers(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function inner(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=getOppositePlacement(e),t.offsets.popper=getClientRect(i),t}},hide:{order:800,enabled:!0,fn:function hide(t){if(!isModifierRequired(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=find(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=find(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=getBoundingClientRect(getOffsetParent(t.instance.popper)),u={position:i.position},l={left:Math.floor(i.left),top:Math.round(i.top),bottom:Math.round(i.bottom),right:Math.floor(i.right)},c="bottom"===n?"top":"bottom",f="right"===r?"left":"right",d=getSupportedPropertyName("transform"),h=void 0,g=void 0;if(g="bottom"===c?-s.height+l.bottom:l.top,h="right"===f?-s.width+l.right:l.left,a&&d)u[d]="translate3d("+h+"px, "+g+"px, 0)",u[c]=0,u[f]=0,u.willChange="transform";else{var y="bottom"===c?-1:1,m="right"===f?-1:1;u[c]=g*y,u[f]=h*m,u.willChange=c+", "+f}var v={"x-placement":t.placement};return t.attributes=p({},v,t.attributes),t.styles=p({},u,t.styles),t.arrowStyles=p({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(t){return setStyles(t.instance.popper,t.styles),function setAttributes(t,e){Object.keys(e).forEach((function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&setStyles(t.arrowElement,t.arrowStyles),t},onLoad:function applyStyleOnLoad(t,e,n,r,i){var o=getReferenceOffsets(i,e,t,n.positionFixed),a=computeAutoPlacement(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),setStyles(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},m=function(){function Popper(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=a(this.update.bind(this)),this.options=p({},Popper.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(p({},Popper.Defaults.modifiers,r.modifiers)).forEach((function(t){n.options.modifiers[t]=p({},Popper.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return p({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&isFunction(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return c(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();m.Utils=("undefined"!==typeof window?window:t).PopperUtils,m.placements=d,m.Defaults=y,e.a=m}).call(this,n(32))},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),"Check");e.default=o},function(t,e){t.exports=function add(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e,n){(function(e){t.exports={window:"undefined"!==typeof window?window:e,global:"undefined"!==typeof e?e:window,document:"undefined"!==typeof document?document:{}}}).call(this,n(32))},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Player",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(e,"Video",{enumerable:!0,get:function get(){return a.default}}),Object.defineProperty(e,"BigPlayButton",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(e,"LoadingSpinner",{enumerable:!0,get:function get(){return u.default}}),Object.defineProperty(e,"PosterImage",{enumerable:!0,get:function get(){return l.default}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function get(){return c.default}}),Object.defineProperty(e,"Bezel",{enumerable:!0,get:function get(){return f.default}}),Object.defineProperty(e,"Shortcut",{enumerable:!0,get:function get(){return p.default}}),Object.defineProperty(e,"ControlBar",{enumerable:!0,get:function get(){return d.default}}),Object.defineProperty(e,"PlayToggle",{enumerable:!0,get:function get(){return h.default}}),Object.defineProperty(e,"ForwardControl",{enumerable:!0,get:function get(){return g.default}}),Object.defineProperty(e,"ReplayControl",{enumerable:!0,get:function get(){return y.default}}),Object.defineProperty(e,"FullscreenToggle",{enumerable:!0,get:function get(){return m.default}}),Object.defineProperty(e,"ProgressControl",{enumerable:!0,get:function get(){return v.default}}),Object.defineProperty(e,"SeekBar",{enumerable:!0,get:function get(){return _.default}}),Object.defineProperty(e,"PlayProgressBar",{enumerable:!0,get:function get(){return b.default}}),Object.defineProperty(e,"LoadProgressBar",{enumerable:!0,get:function get(){return S.default}}),Object.defineProperty(e,"MouseTimeDisplay",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(e,"VolumeMenuButton",{enumerable:!0,get:function get(){return x.default}}),Object.defineProperty(e,"PlaybackRateMenuButton",{enumerable:!0,get:function get(){return w.default}}),Object.defineProperty(e,"PlaybackRate",{enumerable:!0,get:function get(){return T.default}}),Object.defineProperty(e,"ClosedCaptionButton",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(e,"RemainingTimeDisplay",{enumerable:!0,get:function get(){return k.default}}),Object.defineProperty(e,"CurrentTimeDisplay",{enumerable:!0,get:function get(){return C.default}}),Object.defineProperty(e,"DurationDisplay",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(e,"TimeDivider",{enumerable:!0,get:function get(){return A.default}}),Object.defineProperty(e,"MenuButton",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(e,"playerReducer",{enumerable:!0,get:function get(){return I.playerReducer}}),Object.defineProperty(e,"operationReducer",{enumerable:!0,get:function get(){return I.operationReducer}}),e.videoActions=e.playerActions=void 0;var o=i(n(984)),a=i(n(394)),s=i(n(391)),u=i(n(392)),l=i(n(393)),c=i(n(275)),f=i(n(396)),p=i(n(397)),d=i(n(398)),h=i(n(404)),g=i(n(405)),y=i(n(407)),m=i(n(408)),v=i(n(399)),_=i(n(400)),b=i(n(401)),S=i(n(402)),E=i(n(403)),x=i(n(413)),w=i(n(276)),T=i(n(1e3)),P=i(n(1001)),k=i(n(409)),C=i(n(410)),D=i(n(411)),A=i(n(412)),R=i(n(277)),M=r(n(201));e.playerActions=M;var L=r(n(274));e.videoActions=L;var I=n(389)},function(t,e,n){"use strict";var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){function ok(){return!0}function notOk(){return!1}function undef(){}return function create(){var t=[{name:"number",test:function test(t){return"number"===typeof t}},{name:"string",test:function test(t){return"string"===typeof t}},{name:"boolean",test:function test(t){return"boolean"===typeof t}},{name:"Function",test:function test(t){return"function"===typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function test(t){return t instanceof Date}},{name:"RegExp",test:function test(t){return t instanceof RegExp}},{name:"Object",test:function test(t){return"object"===typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function test(t){return null===t}},{name:"undefined",test:function test(t){return void 0===t}}],e={name:"any",test:ok},n=[],r=[],i={types:t,conversions:r,ignore:n};function findTypeByName(t){var n=findInArray(i.types,(function(e){return e.name===t}));if(n)return n;if("any"===t)return e;var r=findInArray(i.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function findTypeIndex(t){return t===e?999:i.types.indexOf(t)}function findTypeName(t){var e=findInArray(i.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function stringifyParams(t){return t.map((function(t){var e=t.types.map(getTypeName);return(t.restParam?"...":"")+e.join("|")})).join(",")}function parseParam(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(trim).filter(notEmpty).filter(notIgnore),i=function filterConversions(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(e,r),o=r.map((function(t){var e=findTypeByName(t);return{name:t,typeIndex:findTypeIndex(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var n=findTypeByName(t.from);return{name:t.from,typeIndex:findTypeIndex(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:o.concat(a),restParam:n}}function hasRestParam(t){var e=last(t);return!!e&&e.restParam}function hasConversions(t){return t.types.some((function(t){return null!=t.conversion}))}function compileTest(t){if(t&&0!==t.types.length){if(1===t.types.length)return findTypeByName(t.types[0].name).test;if(2===t.types.length){var e=findTypeByName(t.types[0].name).test,n=findTypeByName(t.types[1].name).test;return function or(t){return e(t)||n(t)}}var r=t.types.map((function(t){return findTypeByName(t.name).test}));return function or(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}}return ok}function compileTests(t){var e,n,r;if(hasRestParam(t)){var i=(e=function initial(t){return t.slice(0,t.length-1)}(t).map(compileTest)).length,o=compileTest(last(t));return function testArgs(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function testRestParam(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function testArgs(t){return 0===t.length}:1===t.length?(n=compileTest(t[0]),function testArgs(t){return n(t[0])&&1===t.length}):2===t.length?(n=compileTest(t[0]),r=compileTest(t[1]),function testArgs(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(compileTest),function testArgs(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function getParamAtIndex(t,e){return e<t.params.length?t.params[e]:hasRestParam(t.params)?last(t.params):null}function getExpectedTypeNames(t,e,n){var r=getParamAtIndex(t,e);return(r?n?r.types.filter(isExactType):r.types:[]).map(getTypeName)}function getTypeName(t){return t.name}function isExactType(t){return null===t.conversion||void 0===t.conversion}function mergeExpectedParams(t,e){var n=function uniq(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(flatMap(t,(function(t){return getExpectedTypeNames(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function createError(t,e,n){var r,i,o,a=t||"unnamed",s=n;for(o=0;o<e.length;o++){var u=s.filter((function(t){var n=compileTest(getParamAtIndex(t,o));return(o<t.params.length||hasRestParam(t.params))&&n(e[o])}));if(0===u.length){if((i=mergeExpectedParams(s,o)).length>0){var l=findTypeName(e[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+l+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:l,expected:i},r}}else s=u}var c=s.map((function(t){return hasRestParam(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=mergeExpectedParams(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},r;var f=Math.max.apply(null,c);return e.length>f?((r=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(findTypeName)},r)}function getLowestTypeIndex(t){for(var e=999,n=0;n<t.types.length;n++)isExactType(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function getLowestConversionIndex(t){for(var e=999,n=0;n<t.types.length;n++)isExactType(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function compareParams(t,e){var n;return 0!==(n=t.restParam-e.restParam)?n:0!==(n=hasConversions(t)-hasConversions(e))?n:0!==(n=getLowestTypeIndex(t)-getLowestTypeIndex(e))?n:getLowestConversionIndex(t)-getLowestConversionIndex(e)}function compareSignatures(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!==(r=t.params.some(hasConversions)-e.params.some(hasConversions)))return r;for(n=0;n<i;n++)if(0!==(r=hasConversions(t.params[n])-hasConversions(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=compareParams(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function compileArgConversion(t){var e,n,r,i,o=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(findTypeByName(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function convertArg(t){return t};case 1:return e=o[0],r=a[0],function convertArg(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=a[0],i=a[1],function convertArg(t){return e(t)?r(t):n(t)?i(t):t};default:return function convertArg(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function splitParams(t,e){return function _splitParams(t,n,r){if(n<t.length){var i,o=t[n],a=e?o.types.filter(isExactType):o.types;if(o.restParam){var s=a.filter(isExactType);i=s.length<a.length?[s,a]:[a]}else i=a.map((function(t){return[t]}));return flatMap(i,(function(e){return _splitParams(t,n+1,r.concat([e]))}))}return[r.map((function(e,n){return{types:e,restParam:n===t.length-1&&hasRestParam(t)}}))]}(t,0,[])}function createTypedFunction(t,e){if(0===Object.keys(e).length)throw new SyntaxError("No signatures provided");var n=[];Object.keys(e).map((function(t){return function parseSignature(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(trim).map((function(t,e,r){var i=parseParam(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),r.some(isInvalidParam)?null:{params:r,fn:e}}(t,e[t],i.conversions)})).filter(notNull).forEach((function(t){var e=findInArray(n,(function(e){return function hasConflictingParams(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!hasOverlap(getExpectedTypeNames(t,r,!0),getExpectedTypeNames(e,r,!0)))return!1;var i=t.params.length,o=e.params.length,a=hasRestParam(t.params),s=hasRestParam(e.params);return a?s?i===o:o>=i:s?i>=o:i===o}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+stringifyParams(e.params)+'" and "'+stringifyParams(t.params)+'".');n.push(t)}));var r=flatMap(n,(function(t){return(t?splitParams(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(notNull);r.sort(compareSignatures);var o=r[0]&&r[0].params.length<=2&&!hasRestParam(r[0].params),a=r[1]&&r[1].params.length<=2&&!hasRestParam(r[1].params),s=r[2]&&r[2].params.length<=2&&!hasRestParam(r[2].params),u=r[3]&&r[3].params.length<=2&&!hasRestParam(r[3].params),l=r[4]&&r[4].params.length<=2&&!hasRestParam(r[4].params),c=r[5]&&r[5].params.length<=2&&!hasRestParam(r[5].params),f=o&&a&&s&&u&&l&&c,p=r.map((function(t){return compileTests(t.params)})),d=o?compileTest(r[0].params[0]):notOk,h=a?compileTest(r[1].params[0]):notOk,g=s?compileTest(r[2].params[0]):notOk,y=u?compileTest(r[3].params[0]):notOk,m=l?compileTest(r[4].params[0]):notOk,v=c?compileTest(r[5].params[0]):notOk,_=o?compileTest(r[0].params[1]):notOk,b=a?compileTest(r[1].params[1]):notOk,S=s?compileTest(r[2].params[1]):notOk,E=u?compileTest(r[3].params[1]):notOk,x=l?compileTest(r[4].params[1]):notOk,w=c?compileTest(r[5].params[1]):notOk,T=r.map((function(t){return function compileArgsPreprocessing(t,e){var n=e;if(t.some(hasConversions)){var r=hasRestParam(t),i=t.map(compileArgConversion);n=function convertArgs(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(null,t)}}var o=n;if(hasRestParam(t)){var a=t.length-1;o=function preprocessRestParams(){return n.apply(null,slice(arguments,0,a).concat([slice(arguments,a)]))}}return o}(t.params,t.fn)})),P=o?T[0]:undef,k=a?T[1]:undef,C=s?T[2]:undef,D=u?T[3]:undef,A=l?T[4]:undef,R=c?T[5]:undef,M=o?r[0].params.length:-1,L=a?r[1].params.length:-1,I=s?r[2].params.length:-1,O=u?r[3].params.length:-1,F=l?r[4].params.length:-1,N=c?r[5].params.length:-1,B=f?6:0,U=r.length,z=function generic(){for(var e=B;e<U;e++)if(p[e](arguments))return T[e].apply(null,arguments);throw createError(t,arguments,r)},j=function fn(t,e){return arguments.length===M&&d(t)&&_(e)?P.apply(null,arguments):arguments.length===L&&h(t)&&b(e)?k.apply(null,arguments):arguments.length===I&&g(t)&&S(e)?C.apply(null,arguments):arguments.length===O&&y(t)&&E(e)?D.apply(null,arguments):arguments.length===F&&m(t)&&x(e)?A.apply(null,arguments):arguments.length===N&&v(t)&&w(e)?R.apply(null,arguments):z.apply(null,arguments)};try{Object.defineProperty(j,"name",{value:t})}catch(V){}return j.signatures=function createSignaturesMap(t){var e={};return t.forEach((function(t){t.params.some(hasConversions)||splitParams(t.params,!0).forEach((function(n){e[stringifyParams(n)]=t.fn}))})),e}(r),j}function notIgnore(t){return-1===i.ignore.indexOf(t)}function trim(t){return t.trim()}function notEmpty(t){return!!t}function notNull(t){return null!==t}function isInvalidParam(t){return 0===t.types.length}function last(t){return t[t.length-1]}function slice(t,e,n){return Array.prototype.slice.call(t,e,n)}function hasOverlap(t,e){for(var n=0;n<t.length;n++)if(r=e,i=t[n],-1!==r.indexOf(i))return!0;var r,i;return!1}function findInArray(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function flatMap(t,e){return Array.prototype.concat.apply([],t.map(e))}function getName(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function extractSignatures(t){var e,n={};function validateUnique(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var r=0;r<t.length;r++){var i=t[r];if("object"===typeof i.signatures)for(var o in i.signatures)i.signatures.hasOwnProperty(o)&&(validateUnique(o,i.signatures[o]),n[o]=i.signatures[o]);else{if("string"!==typeof i.signature)throw(e=new TypeError("Function is no typed-function (index: "+r+")")).data={index:r},e;validateUnique(i.signature,i),n[i.signature]=i}}return n}return(i=createTypedFunction("typed",{"string, Object":createTypedFunction,Object:function Object(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return createTypedFunction(getName(e),t)},"...Function":function Function(t){return createTypedFunction(getName(t),extractSignatures(t))},"string, ...Function":function stringFunction(t,e){return createTypedFunction(t,extractSignatures(e))}})).create=create,i.types=t,i.conversions=r,i.ignore=n,i.convert=function convert(t,e){var n=findTypeName(t);if(e===n)return t;for(var r=0;r<i.conversions.length;r++){var o=i.conversions[r];if(o.from===n&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},i.find=function find(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},i.addType=function(t,e){if(!t||"string"!==typeof t.name||"function"!==typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<i.types.length;n++)if("Object"===i.types[n].name)return void i.types.splice(n,0,t);i.types.push(t)},i.addConversion=function(t){if(!t||"string"!==typeof t.from||"string"!==typeof t.to||"function"!==typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");i.conversions.push(t)},i}()})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";(function(e){var n=256,r=[],i="undefined"===typeof e?window:e,o=Math.pow(n,6),a=Math.pow(2,52),s=2*a,u=n-1,l=Math.random;function ARC4(t){var e,r=t.length,i=this,o=0,a=i.i=i.j=0,s=i.S=[];for(r||(t=[r++]);o<n;)s[o]=o++;for(o=0;o<n;o++)s[o]=s[a=u&a+t[o%r]+(e=s[o])],s[a]=e;(i.g=function(t){for(var e,r=0,o=i.i,a=i.j,s=i.S;t--;)e=s[o=u&o+1],r=r*n+s[u&(s[o]=s[a=u&a+e])+(s[a]=e)];return i.i=o,i.j=a,r})(n)}function flatten(t,e){var n,r=[],i=(typeof t)[0];if(e&&"o"==i)for(n in t)try{r.push(flatten(t[n],e-1))}catch(o){}return r.length?r:"s"==i?t:t+"\0"}function mixkey(t,e){for(var n,r=t+"",i=0;i<r.length;)e[u&i]=u&(n^=19*e[u&i])+r.charCodeAt(i++);return tostring(e)}function autoseed(t){try{return i.crypto.getRandomValues(t=new Uint8Array(n)),tostring(t)}catch(e){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,tostring(r)]}}function tostring(t){return String.fromCharCode.apply(0,t)}t.exports=function(e,i){if(i&&!0===i.global)return i.global=!1,Math.random=t.exports(e,i),i.global=!0,Math.random;var u=i&&i.entropy||!1,l=[],c=(mixkey(flatten(u?[e,tostring(r)]:0 in arguments?e:autoseed(),3),l),new ARC4(l));return mixkey(tostring(c.S),r),function(){for(var t=c.g(6),e=o,r=0;t<a;)t=(t+r)*n,e*=n,r=c.g(1);for(;t>=s;)t/=2,e/=2,r>>>=1;return(t+r)/e}},t.exports.resetGlobal=function(){Math.random=l},mixkey(Math.random(),r)}).call(this,n(32))},function(t,e,n){"use strict";var r=n(44),i=n.n(r),o=n(24),a=n.n(o),s=n(26),u=n.n(s),l=n(30),c=n.n(l),f=n(43),p=n.n(f),d=n(0),h=n(84),g=n(216),y=n.n(g),m=n(15),v=n.n(m);function toVal(t){var e,n,r="";if(t)if("object"===typeof t)if(t.push)for(e=0;e<t.length;e++)t[e]&&(n=toVal(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(n=toVal(e))&&(r&&(r+=" "),r+=n);else"boolean"===typeof t||t.call||(r&&(r+=" "),r+=t);return r}var _=function(){for(var t,e=0,n="";e<arguments.length;)(t=toVal(arguments[e++]))&&(n&&(n+=" "),n+=t);return n};function calculateSizeAndPositionDataAndUpdateScrollOffset(t){var e=t.cellCount,n=t.cellSize,r=t.computeMetadataCallback,i=t.computeMetadataCallbackProps,o=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,u=t.scrollToIndex,l=t.updateScrollOffsetForScrollToIndex;e===o&&("number"!==typeof n&&"number"!==typeof a||n===a)||(r(i),u>=0&&u===s&&l())}var b=n(108),S=n.n(b),E=n(445),x=n.n(E),w=(n(48),function(){function CellSizeAndPositionManager(t){var e=t.cellCount,n=t.cellSizeGetter,r=t.estimatedCellSize;a()(this,CellSizeAndPositionManager),this._lastMeasuredIndex=-1,this._cellSizeGetter=n,this._cellCount=e,this._estimatedCellSize=r,this._layoutVector=new x.a,this._layoutVector.setLength(e),this._layoutVector.setDefaultSize(r)}return u()(CellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return!1}},{key:"configure",value:function configure(t){var e=t.cellCount,n=t.estimatedCellSize,r=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=r,this._layoutVector.setLength(e),this._layoutVector.setDefaultSize(n)}},{key:"getCellCount",value:function getCellCount(){return this._cellCount}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(){return 0}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(t){if(t<0||t>=this._cellCount)throw Error("Requested index "+t+" is outside of range 0.."+this._cellCount);var e=this._layoutVector;if(t>this._lastMeasuredIndex){for(var n={index:this._lastMeasuredIndex+1},r=n.index;r<=t;n.index=++r){var i=this._cellSizeGetter(n);if(void 0===i||i!==i)throw Error("Invalid size returned for cell "+r+" of value "+i);null!==i&&e.setItemSize(r,i)}this._lastMeasuredIndex=Math.min(t,this._cellCount-1)}return{offset:e.start(t),size:e.getItemSize(t)}}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){var t=this._lastMeasuredIndex;if(t<=0)return{offset:0,size:0};var e=this._layoutVector;return{offset:e.start(t),size:e.getItemSize(t)}}},{key:"getTotalSize",value:function getTotalSize(){var t=this._cellCount-1;return t>=0?this._layoutVector.end(t):0}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,i=t.currentOffset,o=t.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(o),s=a.offset,u=s-r+a.size,l=void 0;switch(n){case"start":l=s;break;case"end":l=u;break;case"center":l=s-(r-a.size)/2;break;default:l=Math.max(u,Math.min(s,i))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,l))}},{key:"getVisibleCellRange",value:function getVisibleCellRange(t){if(0===this.getTotalSize())return{};var e=t.containerSize,n=t.offset,r=n+e-1;return{start:this._findNearestCell(n),stop:this._findNearestCell(r)}}},{key:"resetCell",value:function resetCell(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_findNearestCell",value:function _findNearestCell(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");for(var e=this._layoutVector,n=this._cellCount-1,r=Math.max(0,Math.min(t,e.start(n))),i=e.indexOf(r);i>this._lastMeasuredIndex;){if(this.getSizeAndPositionOfCell(i),i===n)return i;-1===(i=e.indexOf(r))&&(i=this._lastMeasuredIndex,this._lastMeasuredIndex=i-1,r=Math.max(0,Math.min(t,e.start(n))))}return i}}]),CellSizeAndPositionManager}()),T=function getMaxElementSize(){return function isBrowser(){return"undefined"!==typeof window}()&&function isChrome(){return!!window.chrome&&!!window.chrome.webstore}()?16777100:15e5},P=function(){function ScalingCellSizeAndPositionManager(t){var e=t.maxScrollSize,n=void 0===e?T():e,r=S()(t,["maxScrollSize"]);a()(this,ScalingCellSizeAndPositionManager),this._cellSizeAndPositionManager=new w(r),this._maxScrollSize=n}return u()(ScalingCellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function configure(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function getCellCount(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:i});return Math.round(o*(i-r))}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function getTotalSize(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,i=t.currentOffset,o=t.targetIndex;i=this._safeOffsetToOffset({containerSize:r,offset:i});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function getVisibleCellRange(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function resetCell(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function _getOffsetPercentage(t){var e=t.containerSize,n=t.offset,r=t.totalSize;return r<=e?0:n/(r-e)}},{key:"_offsetToSafeOffset",value:function _offsetToSafeOffset(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(o*(i-e))}},{key:"_safeOffsetToOffset",value:function _safeOffsetToOffset(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:i});return Math.round(o*(r-e))}}]),ScalingCellSizeAndPositionManager}(),k=n(109),C=n.n(k);function createCallbackMemoizer(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(n){var r=n.callback,i=n.indices,o=C()(i),a=!t||o.every((function(t){var e=i[t];return Array.isArray(e)?e.length>0:e>=0})),s=o.length!==C()(e).length||o.some((function(t){var n=e[t],r=i[t];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));e=i,a&&s&&r(i)}}var D=1;function updateScrollIndexHelper(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,r=t.previousCellsCount,i=t.previousCellSize,o=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,u=t.scrollOffset,l=t.scrollToAlignment,c=t.scrollToIndex,f=t.size,p=t.sizeJustIncreasedFromZero,d=t.updateScrollIndexCallback,h=n.getCellCount(),g=c>=0&&c<h;g&&(f!==s||p||!i||"number"===typeof e&&e!==i||l!==o||c!==a)?d(c):!g&&h>0&&(f<s||h<r)&&u>n.getTotalSize()-f&&d(h-1)}var A=n(173),R=n.n(A),M=n(144),L=n.n(M),I=void 0,O=(I="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||I.webkitRequestAnimationFrame||I.mozRequestAnimationFrame||I.oRequestAnimationFrame||I.msRequestAnimationFrame||function(t){return I.setTimeout(t,1e3/60)},F=I.cancelAnimationFrame||I.webkitCancelAnimationFrame||I.mozCancelAnimationFrame||I.oCancelAnimationFrame||I.msCancelAnimationFrame||function(t){I.clearTimeout(t)},N=O,B=F,U=function cancelAnimationTimeout(t){return B(t.id)},z=function requestAnimationTimeout(t,e){var n=void 0;L.a.resolve().then((function(){n=Date.now()}));var r={id:N((function timeout(){Date.now()-n>=e?t.call():r.id=N(timeout)}))};return r},j="observed",V="requested",G=function(t){function Grid(t){a()(this,Grid);var e=c()(this,(Grid.__proto__||i()(Grid)).call(this,t));e._onGridRenderedMemoizer=createCallbackMemoizer(),e._onScrollMemoizer=createCallbackMemoizer(!1),e._deferredInvalidateColumnIndex=null,e._deferredInvalidateRowIndex=null,e._recomputeScrollLeftFlag=!1,e._recomputeScrollTopFlag=!1,e._horizontalScrollBarSize=0,e._verticalScrollBarSize=0,e._scrollbarPresenceChanged=!1,e._renderedColumnStartIndex=0,e._renderedColumnStopIndex=0,e._renderedRowStartIndex=0,e._renderedRowStopIndex=0,e._styleCache={},e._cellCache={},e._debounceScrollEndedCallback=function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})},e._invokeOnGridRenderedHelper=function(){var t=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})},e._setScrollingContainerRef=function(t){e._scrollingContainer=t},e._onScroll=function(t){t.target===e._scrollingContainer&&e.handleScrollEvent(t.target)};var n=new P({cellCount:t.columnCount,cellSizeGetter:function cellSizeGetter(e){return Grid._wrapSizeGetter(t.columnWidth)(e)},estimatedCellSize:Grid._getEstimatedColumnSize(t)}),r=new P({cellCount:t.rowCount,cellSizeGetter:function cellSizeGetter(e){return Grid._wrapSizeGetter(t.rowHeight)(e)},estimatedCellSize:Grid._getEstimatedRowSize(t)});return e.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:r,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,prevScrollLeft:t.scrollLeft,prevScrollTop:t.scrollTop,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:D,scrollDirectionVertical:D,scrollLeft:t.scrollLeft||0,scrollTop:t.scrollTop||0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(t,e.state)),t.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(t,e.state)),e}return p()(Grid,t),u()(Grid,[{key:"getOffsetForCell",value:function getOffsetForCell(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,n=void 0===e?this.props.scrollToAlignment:e,r=t.columnIndex,i=void 0===r?this.props.scrollToColumn:r,o=t.rowIndex,a=void 0===o?this.props.scrollToRow:o,s=v()({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function getTotalRowsHeight(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function getTotalColumnsWidth(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function handleScrollEvent(t){var e=t.scrollLeft,n=void 0===e?0:e,r=t.scrollTop,i=void 0===r?0:r;if(!(i<0)){this._debounceScrollEnded();var o=this.props,a=o.autoHeight,s=o.autoWidth,u=o.height,l=o.width,c=this.state.instanceProps,f=c.scrollbarSize,p=c.rowSizeAndPositionManager.getTotalSize(),d=c.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,d-l+f),n),g=Math.min(Math.max(0,p-u+f),i);if(this.state.scrollLeft!==h||this.state.scrollTop!==g){var y={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?D:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:g!==this.state.scrollTop?g>this.state.scrollTop?D:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:j};a||(y.scrollTop=g),s||(y.scrollLeft=h),y.needToResetStyleCache=!1,this.setState(y)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:g,totalColumnsWidth:d,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,n=t.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function measureAllCells(){var t=this.props,e=t.columnCount,n=t.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,i=void 0===r?0:r,o=this.props,a=o.scrollToColumn,s=o.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(n),u.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===D?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===D?i<=s:i>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function scrollToCell(t){var e=t.columnIndex,n=t.rowIndex,r=this.props.columnCount,i=this.props;r>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(v()({},i,{scrollToColumn:e})),void 0!==n&&this._updateScrollTopForScrollToRow(v()({},i,{scrollToRow:n}))}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.getScrollbarSize,n=t.height,r=t.scrollLeft,i=t.scrollToColumn,o=t.scrollTop,a=t.scrollToRow,s=t.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState((function(t){var n=v()({},t,{needToResetStyleCache:!1});return n.instanceProps.scrollbarSize=e(),n.instanceProps.scrollbarSizeMeasured=!0,n})),"number"===typeof r&&r>=0||"number"===typeof o&&o>=0){var l=Grid._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:o});l&&(l.needToResetStyleCache=!1,this.setState(l))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var c=n>0&&s>0;i>=0&&c&&this._updateScrollLeftForScrollToColumn(),a>=0&&c&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:o||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var n=this,r=this.props,i=r.autoHeight,o=r.autoWidth,a=r.columnCount,s=r.height,u=r.rowCount,l=r.scrollToAlignment,c=r.scrollToColumn,f=r.scrollToRow,p=r.width,d=this.state,h=d.scrollLeft,g=d.scrollPositionChangeReason,y=d.scrollTop,m=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===t.columnCount||u>0&&0===t.rowCount;g===V&&(!o&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!i&&y>=0&&(y!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=y));var _=(0===t.width||0===t.height)&&s>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:m.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:h,scrollToAlignment:l,scrollToIndex:c,size:p,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function updateScrollIndexCallback(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:m.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:y,scrollToAlignment:l,scrollToIndex:f,size:s,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function updateScrollIndexCallback(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==e.scrollLeft||y!==e.scrollTop){var b=m.rowSizeAndPositionManager.getTotalSize(),S=m.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:y,totalColumnsWidth:S,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId)}},{key:"render",value:function render(){var t=this.props,e=t.autoContainerWidth,n=t.autoHeight,r=t.autoWidth,i=t.className,o=t.containerProps,a=t.containerRole,s=t.containerStyle,u=t.height,l=t.id,c=t.noContentRenderer,f=t.role,p=t.style,h=t.tabIndex,g=t.width,y=this.state,m=y.instanceProps,b=y.needToResetStyleCache,S=this._isScrolling(),E={boxSizing:"border-box",direction:"ltr",height:n?"auto":u,position:"relative",width:r?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var x=m.columnSizeAndPositionManager.getTotalSize(),w=m.rowSizeAndPositionManager.getTotalSize(),T=w>u?m.scrollbarSize:0,P=x>g?m.scrollbarSize:0;P===this._horizontalScrollBarSize&&T===this._verticalScrollBarSize||(this._horizontalScrollBarSize=P,this._verticalScrollBarSize=T,this._scrollbarPresenceChanged=!0),E.overflowX=x+T<=g?"hidden":"auto",E.overflowY=w+P<=u?"hidden":"auto";var k=this._childrenToDisplay,C=0===k.length&&u>0&&g>0;return d.createElement("div",v()({ref:this._setScrollingContainerRef},o,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:_("ReactVirtualized__Grid",i),id:l,onScroll:this._onScroll,role:f,style:v()({},E,p),tabIndex:h}),k.length>0&&d.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:v()({width:e?"auto":x,height:w,maxWidth:x,maxHeight:w,overflow:"hidden",pointerEvents:S?"none":"",position:"relative"},s)},k),C&&c())}},{key:"_calculateChildrenToRender",value:function _calculateChildrenToRender(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.cellRenderer,r=t.cellRangeRenderer,i=t.columnCount,o=t.deferredMeasurementCache,a=t.height,s=t.overscanColumnCount,u=t.overscanIndicesGetter,l=t.overscanRowCount,c=t.rowCount,f=t.width,p=t.isScrollingOptOut,d=e.scrollDirectionHorizontal,h=e.scrollDirectionVertical,g=e.instanceProps,y=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,m=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,v=this._isScrolling(t,e);if(this._childrenToDisplay=[],a>0&&f>0){var _=g.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:m}),b=g.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:y}),S=g.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:m}),E=g.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:y});this._renderedColumnStartIndex=_.start,this._renderedColumnStopIndex=_.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var x=u({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:d,startIndex:"number"===typeof _.start?_.start:0,stopIndex:"number"===typeof _.stop?_.stop:-1}),w=u({direction:"vertical",cellCount:c,overscanCellsCount:l,scrollDirection:h,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),T=x.overscanStartIndex,P=x.overscanStopIndex,k=w.overscanStartIndex,C=w.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var D=k;D<=C;D++)if(!o.has(D,0)){T=0,P=i-1;break}if(!o.hasFixedWidth())for(var A=T;A<=P;A++)if(!o.has(0,A)){k=0,C=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:g.columnSizeAndPositionManager,columnStartIndex:T,columnStopIndex:P,deferredMeasurementCache:o,horizontalOffsetAdjustment:S,isScrolling:v,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:g.rowSizeAndPositionManager,rowStartIndex:k,rowStopIndex:C,scrollLeft:m,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:E,visibleColumnIndices:_,visibleRowIndices:b}),this._columnStartIndex=T,this._columnStopIndex=P,this._rowStartIndex=k,this._rowStopIndex=C}}},{key:"_debounceScrollEnded",value:function _debounceScrollEnded(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=z(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(t){var e=this,n=t.scrollLeft,r=t.scrollTop,i=t.totalColumnsWidth,o=t.totalRowsHeight;this._onScrollMemoizer({callback:function callback(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function _isScrolling(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function _maybeCallOnScrollbarPresenceChange(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function scrollToPosition(t){var e=t.scrollLeft,n=t.scrollTop,r=Grid._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:e,scrollTop:n});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function _getCalculatedScrollLeft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Grid._getCalculatedScrollLeft(t,e)}},{key:"_updateScrollLeftForScrollToColumn",value:function _updateScrollLeftForScrollToColumn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=Grid._getScrollLeftForScrollToColumnStateUpdate(t,e);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function _getCalculatedScrollTop(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Grid._getCalculatedScrollTop(t,e)}},{key:"_resetStyleCache",value:function _resetStyleCache(){var t=this._styleCache,e=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o=r+"-"+i;this._styleCache[o]=t[o],n&&(this._cellCache[o]=e[o])}}},{key:"_updateScrollTopForScrollToRow",value:function _updateScrollTopForScrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=Grid._getScrollTopForScrollToRowStateUpdate(t,e);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){var n={},r=e.instanceProps;0===t.columnCount&&0!==e.scrollLeft||0===t.rowCount&&0!==e.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(t.scrollLeft!==r.prevScrollLeft&&t.scrollToColumn<0||t.scrollTop!==r.prevScrollTop&&t.scrollToRow<0)&&y()(n,Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})),n.needToResetStyleCache=!1,t.columnWidth===r.prevColumnWidth&&t.rowHeight===r.prevRowHeight||(n.needToResetStyleCache=!0),r.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:Grid._getEstimatedColumnSize(t),cellSizeGetter:Grid._wrapSizeGetter(t.columnWidth)}),r.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:Grid._getEstimatedRowSize(t),cellSizeGetter:Grid._wrapSizeGetter(t.rowHeight)}),0!==r.prevColumnCount&&0!==r.prevRowCount||(r.prevColumnCount=0,r.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===r.prevIsScrolling&&y()(n,{isScrolling:!1});var i=void 0,o=void 0;return calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:r.prevColumnCount,cellSize:"number"===typeof r.prevColumnWidth?r.prevColumnWidth:null,computeMetadataCallback:function computeMetadataCallback(){return r.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"===typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:r.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){i=Grid._getScrollLeftForScrollToColumnStateUpdate(t,e)}}),calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:r.prevRowCount,cellSize:"number"===typeof r.prevRowHeight?r.prevRowHeight:null,computeMetadataCallback:function computeMetadataCallback(){return r.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"===typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:r.prevScrollToRow,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){o=Grid._getScrollTopForScrollToRowStateUpdate(t,e)}}),r.prevColumnCount=t.columnCount,r.prevColumnWidth=t.columnWidth,r.prevIsScrolling=!0===t.isScrolling,r.prevRowCount=t.rowCount,r.prevRowHeight=t.rowHeight,r.prevScrollToColumn=t.scrollToColumn,r.prevScrollToRow=t.scrollToRow,r.prevScrollLeft=t.scrollLeft,r.prevScrollTop=t.scrollTop,r.scrollbarSize=t.getScrollbarSize(),void 0===r.scrollbarSize?(r.scrollbarSizeMeasured=!1,r.scrollbarSize=0):r.scrollbarSizeMeasured=!0,n.instanceProps=r,v()({},n,i,o)}},{key:"_getEstimatedColumnSize",value:function _getEstimatedColumnSize(t){return"number"===typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function _getEstimatedRowSize(t){return"number"===typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function _getScrollToPositionStateUpdate(t){var e=t.prevState,n=t.scrollLeft,r=t.scrollTop,i={scrollPositionChangeReason:V};return"number"===typeof n&&n>=0&&(i.scrollDirectionHorizontal=n>e.scrollLeft?D:-1,i.scrollLeft=n),"number"===typeof r&&r>=0&&(i.scrollDirectionVertical=r>e.scrollTop?D:-1,i.scrollTop=r),"number"===typeof n&&n>=0&&n!==e.scrollLeft||"number"===typeof r&&r>=0&&r!==e.scrollTop?i:null}},{key:"_wrapSizeGetter",value:function _wrapSizeGetter(t){return"function"===typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function _getCalculatedScrollLeft(t,e){var n=t.columnCount,r=t.height,i=t.scrollToAlignment,o=t.scrollToColumn,a=t.width,s=e.scrollLeft,u=e.instanceProps;if(n>0){var l=n-1,c=o<0?l:Math.min(l,o),f=u.rowSizeAndPositionManager.getTotalSize(),p=u.scrollbarSizeMeasured&&f>r?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-p,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function _getScrollLeftForScrollToColumnStateUpdate(t,e){var n=e.scrollLeft,r=Grid._getCalculatedScrollLeft(t,e);return"number"===typeof r&&r>=0&&n!==r?Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:r,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function _getCalculatedScrollTop(t,e){var n=t.height,r=t.rowCount,i=t.scrollToAlignment,o=t.scrollToRow,a=t.width,s=e.scrollTop,u=e.instanceProps;if(r>0){var l=r-1,c=o<0?l:Math.min(l,o),f=u.columnSizeAndPositionManager.getTotalSize(),p=u.scrollbarSizeMeasured&&f>a?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:n-p,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function _getScrollTopForScrollToRowStateUpdate(t,e){var n=e.scrollTop,r=Grid._getCalculatedScrollTop(t,e);return"number"===typeof r&&r>=0&&n!==r?Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:-1,scrollTop:r}):null}}]),Grid}(d.PureComponent);G.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function defaultCellRangeRenderer(t){for(var e=t.cellCache,n=t.cellRenderer,r=t.columnSizeAndPositionManager,i=t.columnStartIndex,o=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,u=t.isScrolling,l=t.isScrollingOptOut,c=t.parent,f=t.rowSizeAndPositionManager,p=t.rowStartIndex,d=t.rowStopIndex,h=t.styleCache,g=t.verticalOffsetAdjustment,y=t.visibleColumnIndices,m=t.visibleRowIndices,v=[],_=r.areOffsetsAdjusted()||f.areOffsetsAdjusted(),b=!u&&!_,S=p;S<=d;S++)for(var E=f.getSizeAndPositionOfCell(S),x=i;x<=o;x++){var w=r.getSizeAndPositionOfCell(x),T=x>=y.start&&x<=y.stop&&S>=m.start&&S<=m.stop,P=S+"-"+x,k=void 0;b&&h[P]?k=h[P]:a&&!a.has(S,x)?k={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(k={height:E.size,left:w.offset+s,position:"absolute",top:E.offset+g,width:w.size},h[P]=k);var C={columnIndex:x,isScrolling:u,isVisible:T,key:P,parent:c,rowIndex:S,style:k},D=void 0;!l&&!u||s||g?D=n(C):(e[P]||(e[P]=n(C)),D=e[P]),null!=D&&!1!==D&&v.push(D)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:R.a,noContentRenderer:function renderNull(){return null},onScroll:function onScroll(){},onScrollbarPresenceChange:function onScrollbarPresenceChange(){},onSectionRendered:function onSectionRendered(){},overscanColumnCount:0,overscanIndicesGetter:function defaultOverscanIndicesGetter(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,i=t.startIndex,o=t.stopIndex;return r===D?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(e-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(e-1,o)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},G.propTypes=null,Object(h.polyfill)(G);var W=G,q=1;function accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,i=t.startIndex,o=t.stopIndex;return n=Math.max(1,n),r===q?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(e-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(e-1,o+1)}}var H=function(t){function ArrowKeyStepper(){var t,e,n,r;a()(this,ArrowKeyStepper);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=ArrowKeyStepper.__proto__||i()(ArrowKeyStepper)).call.apply(t,[this].concat(s))),n.state={scrollToColumn:0,scrollToRow:0},n._columnStartIndex=0,n._columnStopIndex=0,n._rowStartIndex=0,n._rowStopIndex=0,n._onKeyDown=function(t){var e=n.props,r=e.columnCount,i=e.disabled,o=e.mode,a=e.rowCount;if(!i){var s=n._getScrollState(),u=s.scrollToColumn,l=s.scrollToRow,c=n._getScrollState(),f=c.scrollToColumn,p=c.scrollToRow;switch(t.key){case"ArrowDown":p="cells"===o?Math.min(p+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":f="cells"===o?Math.max(f-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":f="cells"===o?Math.min(f+1,r-1):Math.min(n._columnStopIndex+1,r-1);break;case"ArrowUp":p="cells"===o?Math.max(p-1,0):Math.max(n._rowStartIndex-1,0)}f===u&&p===l||(t.preventDefault(),n._updateScrollState({scrollToColumn:f,scrollToRow:p}))}},n._onSectionRendered=function(t){var e=t.columnStartIndex,r=t.columnStopIndex,i=t.rowStartIndex,o=t.rowStopIndex;n._columnStartIndex=e,n._columnStopIndex=r,n._rowStartIndex=i,n._rowStopIndex=o},r=e,c()(n,r)}return p()(ArrowKeyStepper,t),u()(ArrowKeyStepper,[{key:"setScrollIndexes",value:function setScrollIndexes(t){var e=t.scrollToColumn,n=t.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:e})}},{key:"render",value:function render(){var t=this.props,e=t.className,n=t.children,r=this._getScrollState(),i=r.scrollToColumn,o=r.scrollToRow;return d.createElement("div",{className:e,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:o}))}},{key:"_getScrollState",value:function _getScrollState(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function _updateScrollState(t){var e=t.scrollToColumn,n=t.scrollToRow,r=this.props,i=r.isControlled,o=r.onScrollToChange;"function"===typeof o&&o({scrollToColumn:e,scrollToRow:n}),i||this.setState({scrollToColumn:e,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return t.isControlled?null:t.scrollToColumn!==e.scrollToColumn||t.scrollToRow!==e.scrollToRow?{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow}:null}}]),ArrowKeyStepper}(d.PureComponent);H.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},H.propTypes=null,Object(h.polyfill)(H);var K=n(217),Y=function(t){function AutoSizer(){var t,e,n,r;a()(this,AutoSizer);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=AutoSizer.__proto__||i()(AutoSizer)).call.apply(t,[this].concat(s))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var t=n.props,e=t.disableHeight,r=t.disableWidth,i=t.onResize;if(n._parentNode){var o=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,p=o-c-f,d=a-u-l;(!e&&n.state.height!==p||!r&&n.state.width!==d)&&(n.setState({height:o-c-f,width:a-u-l}),i({height:o,width:a}))}},n._setRef=function(t){n._autoSizer=t},r=e,c()(n,r)}return p()(AutoSizer,t),u()(AutoSizer,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(K.a)(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function render(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,i=t.disableWidth,o=t.style,a=this.state,s=a.height,u=a.width,l={overflow:"visible"},c={};return r||(l.height=0,c.height=s),i||(l.width=0,c.width=u),d.createElement("div",{className:n,ref:this._setRef,style:v()({},l,o)},e(c))}}]),AutoSizer}(d.PureComponent);Y.defaultProps={onResize:function onResize(){},disableHeight:!1,disableWidth:!1,style:{}},Y.propTypes=null;var X=Y,Z=n(55),$=function(t){function CellMeasurer(){var t,e,n,r;a()(this,CellMeasurer);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=CellMeasurer.__proto__||i()(CellMeasurer)).call.apply(t,[this].concat(s))),n._measure=function(){var t=n.props,e=t.cache,r=t.columnIndex,i=void 0===r?0:r,o=t.parent,a=t.rowIndex,s=void 0===a?n.props.index||0:a,u=n._getCellMeasurements(),l=u.height,c=u.width;l===e.getHeight(s,i)&&c===e.getWidth(s,i)||(e.set(s,i,c,l),o&&"function"===typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:i,rowIndex:s}))},r=e,c()(n,r)}return p()(CellMeasurer,t),u()(CellMeasurer,[{key:"componentDidMount",value:function componentDidMount(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._maybeMeasureCell()}},{key:"render",value:function render(){var t=this.props.children;return"function"===typeof t?t({measure:this._measure}):t}},{key:"_getCellMeasurements",value:function _getCellMeasurements(){var t=this.props.cache,e=Object(Z.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var n=e.style.width,r=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var i=Math.ceil(e.offsetHeight),o=Math.ceil(e.offsetWidth);return n&&(e.style.width=n),r&&(e.style.height=r),{height:i,width:o}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function _maybeMeasureCell(){var t=this.props,e=t.cache,n=t.columnIndex,r=void 0===n?0:n,i=t.parent,o=t.rowIndex,a=void 0===o?this.props.index||0:o;if(!e.has(a,r)){var s=this._getCellMeasurements(),u=s.height,l=s.width;e.set(a,r,l,u),i&&"function"===typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),CellMeasurer}(d.PureComponent);$.__internalCellMeasurerFlag=!1,$.propTypes=null;var J=30,Q=100;!function(){function CellMeasurerCache(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,CellMeasurerCache),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,r=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(r)?t._columnWidthCache[r]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,r=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(r)?t._rowHeightCache[r]:t._defaultHeight};var n=e.defaultHeight,r=e.defaultWidth,i=e.fixedHeight,o=e.fixedWidth,s=e.keyMapper,u=e.minHeight,l=e.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===o,this._minHeight=u||0,this._minWidth=l||0,this._keyMapper=s||defaultKeyMapper,this._defaultHeight=Math.max(this._minHeight,"number"===typeof n?n:J),this._defaultWidth=Math.max(this._minWidth,"number"===typeof r?r:Q)}u()(CellMeasurerCache,[{key:"clear",value:function clear(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function clearAll(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._hasFixedWidth}},{key:"getHeight",value:function getHeight(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function getWidth(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function has(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function set(t,e,n,r){var i=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[i]=r,this._cellWidthCache[i]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function _updateCachedColumnAndRowSizes(t,e){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,e));var i=this._keyMapper(0,e);this._columnWidthCache[i]=n}if(!this._hasFixedHeight){for(var o=0,a=0;a<this._columnCount;a++)o=Math.max(o,this.getHeight(t,a));var s=this._keyMapper(t,0);this._rowHeightCache[s]=o}}},{key:"defaultHeight",get:function get(){return this._defaultHeight}},{key:"defaultWidth",get:function get(){return this._defaultWidth}}])}();function defaultKeyMapper(t,e){return t+"-"+e}var tt={OBSERVED:"observed",REQUESTED:"requested"},et=function(t){function CollectionView(){var t;a()(this,CollectionView);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=c()(this,(t=CollectionView.__proto__||i()(CollectionView)).call.apply(t,[this].concat(n)));return o.state={isScrolling:!1,scrollLeft:0,scrollTop:0},o._calculateSizeAndPositionDataOnNextUpdate=!1,o._onSectionRenderedMemoizer=createCallbackMemoizer(),o._onScrollMemoizer=createCallbackMemoizer(!1),o._invokeOnSectionRenderedHelper=function(){var t=o.props,e=t.cellLayoutManager,n=t.onSectionRendered;o._onSectionRenderedMemoizer({callback:n,indices:{indices:e.getLastRenderedIndices()}})},o._setScrollingContainerRef=function(t){o._scrollingContainer=t},o._updateScrollPositionForScrollToCell=function(){var t=o.props,e=t.cellLayoutManager,n=t.height,r=t.scrollToAlignment,i=t.scrollToCell,a=t.width,s=o.state,u=s.scrollLeft,l=s.scrollTop;if(i>=0){var c=e.getScrollPositionForCell({align:r,cellIndex:i,height:n,scrollLeft:u,scrollTop:l,width:a});c.scrollLeft===u&&c.scrollTop===l||o._setScrollPosition(c)}},o._onScroll=function(t){if(t.target===o._scrollingContainer){o._enablePointerEventsAfterDelay();var e=o.props,n=e.cellLayoutManager,r=e.height,i=e.isScrollingChange,a=e.width,s=o._scrollbarSize,u=n.getTotalSize(),l=u.height,c=u.width,f=Math.max(0,Math.min(c-a+s,t.target.scrollLeft)),p=Math.max(0,Math.min(l-r+s,t.target.scrollTop));if(o.state.scrollLeft!==f||o.state.scrollTop!==p){var d=t.cancelable?tt.OBSERVED:tt.REQUESTED;o.state.isScrolling||i(!0),o.setState({isScrolling:!0,scrollLeft:f,scrollPositionChangeReason:d,scrollTop:p})}o._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:p,totalWidth:c,totalHeight:l})}},o._scrollbarSize=R()(),void 0===o._scrollbarSize?(o._scrollbarSizeMeasured=!1,o._scrollbarSize=0):o._scrollbarSizeMeasured=!0,o}return p()(CollectionView,t),u()(CollectionView,[{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.cellLayoutManager,n=t.scrollLeft,r=t.scrollToCell,i=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=R()(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||i>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:i}),this._invokeOnSectionRenderedHelper();var o=e.getTotalSize(),a=o.height,s=o.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:i||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var n=this.props,r=n.height,i=n.scrollToAlignment,o=n.scrollToCell,a=n.width,s=this.state,u=s.scrollLeft,l=s.scrollPositionChangeReason,c=s.scrollTop;l===tt.REQUESTED&&(u>=0&&u!==e.scrollLeft&&u!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=u),c>=0&&c!==e.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),r===t.height&&i===t.scrollToAlignment&&o===t.scrollToCell&&a===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function render(){var t=this.props,e=t.autoHeight,n=t.cellCount,r=t.cellLayoutManager,i=t.className,o=t.height,a=t.horizontalOverscanSize,s=t.id,u=t.noContentRenderer,l=t.style,c=t.verticalOverscanSize,f=t.width,p=this.state,h=p.isScrolling,g=p.scrollLeft,y=p.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var m=r.getTotalSize(),b=m.height,S=m.width,E=Math.max(0,g-a),x=Math.max(0,y-c),w=Math.min(S,g+f+a),T=Math.min(b,y+o+c),P=o>0&&f>0?r.cellRenderers({height:T-x,isScrolling:h,width:w-E,x:E,y:x}):[],k={boxSizing:"border-box",direction:"ltr",height:e?"auto":o,position:"relative",WebkitOverflowScrolling:"touch",width:f,willChange:"transform"},C=b>o?this._scrollbarSize:0,D=S>f?this._scrollbarSize:0;return k.overflowX=S+C<=f?"hidden":"auto",k.overflowY=b+D<=o?"hidden":"auto",d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_("ReactVirtualized__Collection",i),id:s,onScroll:this._onScroll,role:"grid",style:v()({},k,l),tabIndex:0},n>0&&d.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:S,overflow:"hidden",pointerEvents:h?"none":"",width:S}},P),0===n&&u())}},{key:"_enablePointerEventsAfterDelay",value:function _enablePointerEventsAfterDelay(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(t){var e=this,n=t.scrollLeft,r=t.scrollTop,i=t.totalHeight,o=t.totalWidth;this._onScrollMemoizer({callback:function callback(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function _setScrollPosition(t){var e=t.scrollLeft,n=t.scrollTop,r={scrollPositionChangeReason:tt.REQUESTED};e>=0&&(r.scrollLeft=e),n>=0&&(r.scrollTop=n),(e>=0&&e!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),CollectionView}(d.PureComponent);et.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function noContentRenderer(){return null},onScroll:function onScroll(){return null},onSectionRendered:function onSectionRendered(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},et.propTypes={},Object(h.polyfill)(et);var nt=et,rt=function(){function Section(t){var e=t.height,n=t.width,r=t.x,i=t.y;a()(this,Section),this.height=e,this.width=n,this.x=r,this.y=i,this._indexMap={},this._indices=[]}return u()(Section,[{key:"addCellIndex",value:function addCellIndex(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function getCellIndices(){return this._indices}},{key:"toString",value:function toString(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),Section}(),it=100,ot=function(){function SectionManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;a()(this,SectionManager),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return u()(SectionManager,[{key:"getCellIndices",value:function getCellIndices(t){var e=t.height,n=t.width,r=t.x,i=t.y,o={};return this.getSections({height:e,width:n,x:r,y:i}).forEach((function(t){return t.getCellIndices().forEach((function(t){o[t]=t}))})),C()(o).map((function(t){return o[t]}))}},{key:"getCellMetadata",value:function getCellMetadata(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function getSections(t){for(var e=t.height,n=t.width,r=t.x,i=t.y,o=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(i/this._sectionSize),u=Math.floor((i+e-1)/this._sectionSize),l=[],c=o;c<=a;c++)for(var f=s;f<=u;f++){var p=c+"."+f;this._sections[p]||(this._sections[p]=new rt({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:f*this._sectionSize})),l.push(this._sections[p])}return l}},{key:"getTotalSectionCount",value:function getTotalSectionCount(){return C()(this._sections).length}},{key:"toString",value:function toString(){var t=this;return C()(this._sections).map((function(e){return t._sections[e].toString()}))}},{key:"registerCell",value:function registerCell(t){var e=t.cellMetadatum,n=t.index;this._cellMetadata[n]=e,this.getSections(e).forEach((function(t){return t.addCellIndex({index:n})}))}}]),SectionManager}();function getUpdatedOffsetForIndex(t){var e=t.align,n=void 0===e?"auto":e,r=t.cellOffset,i=t.cellSize,o=t.containerSize,a=t.currentOffset,s=r,u=s-o+i;switch(n){case"start":return s;case"end":return u;case"center":return s-(o-i)/2;default:return Math.max(u,Math.min(s,a))}}var at=function(t){function Collection(t,e){a()(this,Collection);var n=c()(this,(Collection.__proto__||i()(Collection)).call(this,t,e));return n._cellMetadata=[],n._lastRenderedCellIndices=[],n._cellCache=[],n._isScrollingChange=n._isScrollingChange.bind(n),n._setCollectionViewRef=n._setCollectionViewRef.bind(n),n}return p()(Collection,t),u()(Collection,[{key:"forceUpdate",value:function forceUpdate(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function render(){var t=S()(this.props,[]);return d.createElement(nt,v()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function calculateSizeAndPositionData(){var t=this.props,e=function calculateSizeAndPositionData_calculateSizeAndPositionData(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,r=t.sectionSize,i=[],o=new ot(r),a=0,s=0,u=0;u<e;u++){var l=n({index:u});if(null==l.height||isNaN(l.height)||null==l.width||isNaN(l.width)||null==l.x||isNaN(l.x)||null==l.y||isNaN(l.y))throw Error("Invalid metadata returned for cell "+u+":\n        x:"+l.x+", y:"+l.y+", width:"+l.width+", height:"+l.height);a=Math.max(a,l.y+l.height),s=Math.max(s,l.x+l.width),i[u]=l,o.registerCell({cellMetadatum:l,index:u})}return{cellMetadata:i,height:a,sectionManager:o,width:s}}({cellCount:t.cellCount,cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,sectionSize:t.sectionSize});this._cellMetadata=e.cellMetadata,this._sectionManager=e.sectionManager,this._height=e.height,this._width=e.width}},{key:"getLastRenderedIndices",value:function getLastRenderedIndices(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function getScrollPositionForCell(t){var e=t.align,n=t.cellIndex,r=t.height,i=t.scrollLeft,o=t.scrollTop,a=t.width,s=this.props.cellCount;if(n>=0&&n<s){var u=this._cellMetadata[n];i=getUpdatedOffsetForIndex({align:e,cellOffset:u.x,cellSize:u.width,containerSize:a,currentOffset:i,targetIndex:n}),o=getUpdatedOffsetForIndex({align:e,cellOffset:u.y,cellSize:u.height,containerSize:r,currentOffset:o,targetIndex:n})}return{scrollLeft:i,scrollTop:o}}},{key:"getTotalSize",value:function getTotalSize(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function cellRenderers(t){var e=this,n=t.height,r=t.isScrolling,i=t.width,o=t.x,a=t.y,s=this.props,u=s.cellGroupRenderer,l=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:i,x:o,y:a}),u({cellCache:this._cellCache,cellRenderer:l,cellSizeAndPositionGetter:function cellSizeAndPositionGetter(t){var n=t.index;return e._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function _isScrollingChange(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function _setCollectionViewRef(t){this._collectionView=t}}]),Collection}(d.PureComponent);at.defaultProps={"aria-label":"grid",cellGroupRenderer:function defaultCellGroupRenderer(t){var e=t.cellCache,n=t.cellRenderer,r=t.cellSizeAndPositionGetter,i=t.indices,o=t.isScrolling;return i.map((function(t){var i=r({index:t}),a={index:t,isScrolling:o,key:t,style:{height:i.height,left:i.x,position:"absolute",top:i.y,width:i.width}};return o?(t in e||(e[t]=n(a)),e[t]):n(a)})).filter((function(t){return!!t}))}};at.propTypes={};var st=function(t){function ColumnSizer(t,e){a()(this,ColumnSizer);var n=c()(this,(ColumnSizer.__proto__||i()(ColumnSizer)).call(this,t,e));return n._registerChild=n._registerChild.bind(n),n}return p()(ColumnSizer,t),u()(ColumnSizer,[{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=this.props,n=e.columnMaxWidth,r=e.columnMinWidth,i=e.columnCount,o=e.width;n===t.columnMaxWidth&&r===t.columnMinWidth&&i===t.columnCount&&o===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function render(){var t=this.props,e=t.children,n=t.columnMaxWidth,r=t.columnMinWidth,i=t.columnCount,o=t.width,a=r||1,s=n?Math.min(n,o):o,u=o/i;return u=Math.max(a,u),u=Math.min(s,u),u=Math.floor(u),e({adjustedWidth:Math.min(o,u*i),columnWidth:u,getColumnWidth:function getColumnWidth(){return u},registerChild:this._registerChild})}},{key:"_registerChild",value:function _registerChild(t){if(t&&"function"!==typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ColumnSizer}(d.PureComponent);st.propTypes={};var ut=n(285),lt=n.n(ut),ct=function(t){function InfiniteLoader(t,e){a()(this,InfiniteLoader);var n=c()(this,(InfiniteLoader.__proto__||i()(InfiniteLoader)).call(this,t,e));return n._loadMoreRowsMemoizer=createCallbackMemoizer(),n._onRowsRendered=n._onRowsRendered.bind(n),n._registerChild=n._registerChild.bind(n),n}return p()(InfiniteLoader,t),u()(InfiniteLoader,[{key:"resetLoadMoreRowsCache",value:function resetLoadMoreRowsCache(t){this._loadMoreRowsMemoizer=createCallbackMemoizer(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function render(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function _loadUnloadedRanges(t){var e=this,n=this.props.loadMoreRows;t.forEach((function(t){var r=n(t);r&&r.then((function(){(function isRangeVisible(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,r=t.startIndex,i=t.stopIndex;return!(r>n||i<e)})({lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex})&&e._registeredChild&&function forceUpdateReactVirtualizedComponent(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"===typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}(e._registeredChild,e._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function _onRowsRendered(t){var e=t.startIndex,n=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=n,this._doStuff(e,n)}},{key:"_doStuff",value:function _doStuff(t,e){var n,r=this,i=this.props,o=i.isRowLoaded,a=i.minimumBatchSize,s=i.rowCount,u=i.threshold,l=function scanForUnloadedRanges(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,r=t.rowCount,i=t.startIndex,o=t.stopIndex,a=[],s=null,u=null,l=i;l<=o;l++){e({index:l})?null!==u&&(a.push({startIndex:s,stopIndex:u}),s=u=null):(u=l,null===s&&(s=l))}if(null!==u){for(var c=Math.min(Math.max(u,s+n-1),r-1),f=u+1;f<=c&&!e({index:f});f++)u=f;a.push({startIndex:s,stopIndex:u})}if(a.length)for(var p=a[0];p.stopIndex-p.startIndex+1<n&&p.startIndex>0;){var d=p.startIndex-1;if(e({index:d}))break;p.startIndex=d}return a}({isRowLoaded:o,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,t-u),stopIndex:Math.min(s-1,e+u)}),c=(n=[]).concat.apply(n,lt()(l.map((function(t){return[t.startIndex,t.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function callback(){r._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function _registerChild(t){this._registeredChild=t}}]),InfiniteLoader}(d.PureComponent);ct.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};ct.propTypes={};var ft=n(446),pt=n.n(ft),dt=function(t){function List(){var t,e,n,r;a()(this,List);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=List.__proto__||i()(List)).call.apply(t,[this].concat(s))),n._cellRenderer=function(t){var e=t.parent,r=t.rowIndex,i=t.style,o=t.isScrolling,a=t.isVisible,s=t.key,u=n.props.rowRenderer;return pt()(i,"width").writable&&(i.width="100%"),u({index:r,style:i,isScrolling:o,isVisible:a,key:s,parent:e})},n._setRef=function(t){n.Grid=t},n._onScroll=function(t){var e=t.clientHeight,r=t.scrollHeight,i=t.scrollTop;(0,n.props.onScroll)({clientHeight:e,scrollHeight:r,scrollTop:i})},n._onSectionRendered=function(t){var e=t.rowOverscanStartIndex,r=t.rowOverscanStopIndex,i=t.rowStartIndex,o=t.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:r,startIndex:i,stopIndex:o})},r=e,c()(n,r)}return p()(List,t),u()(List,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function measureAllRows(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function scrollToPosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function scrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function render(){var t=this.props,e=t.className,n=t.noRowsRenderer,r=t.scrollToIndex,i=t.width,o=_("ReactVirtualized__List",e);return d.createElement(W,v()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:o,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),List}(d.PureComponent);dt.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function onScroll(){},noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},dt.propTypes=null;var ht=dt,gt=n(174),yt=n.n(gt),mt=n(286),vt=n.n(mt);var _t={ge:function dispatchBsearchGE(t,e,n,r,i){return"function"===typeof n?function _GEP(t,e,n,r,i){for(var o=n+1;e<=n;){var a=e+n>>>1;i(t[a],r)>=0?(o=a,n=a-1):e=a+1}return o}(t,void 0===r?0:0|r,void 0===i?t.length-1:0|i,e,n):function _GEA(t,e,n,r){for(var i=n+1;e<=n;){var o=e+n>>>1;t[o]>=r?(i=o,n=o-1):e=o+1}return i}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},gt:function dispatchBsearchGT(t,e,n,r,i){return"function"===typeof n?function _GTP(t,e,n,r,i){for(var o=n+1;e<=n;){var a=e+n>>>1;i(t[a],r)>0?(o=a,n=a-1):e=a+1}return o}(t,void 0===r?0:0|r,void 0===i?t.length-1:0|i,e,n):function _GTA(t,e,n,r){for(var i=n+1;e<=n;){var o=e+n>>>1;t[o]>r?(i=o,n=o-1):e=o+1}return i}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},lt:function dispatchBsearchLT(t,e,n,r,i){return"function"===typeof n?function _LTP(t,e,n,r,i){for(var o=e-1;e<=n;){var a=e+n>>>1;i(t[a],r)<0?(o=a,e=a+1):n=a-1}return o}(t,void 0===r?0:0|r,void 0===i?t.length-1:0|i,e,n):function _LTA(t,e,n,r){for(var i=e-1;e<=n;){var o=e+n>>>1;t[o]<r?(i=o,e=o+1):n=o-1}return i}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},le:function dispatchBsearchLE(t,e,n,r,i){return"function"===typeof n?function _LEP(t,e,n,r,i){for(var o=e-1;e<=n;){var a=e+n>>>1;i(t[a],r)<=0?(o=a,e=a+1):n=a-1}return o}(t,void 0===r?0:0|r,void 0===i?t.length-1:0|i,e,n):function _LEA(t,e,n,r){for(var i=e-1;e<=n;){var o=e+n>>>1;t[o]<=r?(i=o,e=o+1):n=o-1}return i}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},eq:function dispatchBsearchEQ(t,e,n,r,i){return"function"===typeof n?function _EQP(t,e,n,r,i){for(;e<=n;){var o=e+n>>>1,a=i(t[o],r);if(0===a)return o;a<=0?e=o+1:n=o-1}return-1}(t,void 0===r?0:0|r,void 0===i?t.length-1:0|i,e,n):function _EQA(t,e,n,r){for(;e<=n;){var i=e+n>>>1,o=t[i];if(o===r)return i;o<=r?e=i+1:n=i-1}return-1}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)}},bt=0,St=1;function IntervalTreeNode(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Et=IntervalTreeNode.prototype;function copy(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function rebuild(t,e){var n=createIntervalTree(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function rebuildWithInterval(t,e){var n=t.intervals([]);n.push(e),rebuild(t,n)}function rebuildWithoutInterval(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?bt:(n.splice(r,1),rebuild(t,n),St)}function reportLeftRange(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function reportRightRange(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function reportRange(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function compareNumbers(t,e){return t-e}function compareBegin(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function compareEnd(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function createIntervalTree(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(compareNumbers);var r=e[e.length>>1],i=[],o=[],a=[];for(n=0;n<t.length;++n){var s=t[n];s[1]<r?i.push(s):r<s[0]?o.push(s):a.push(s)}var u=a,l=a.slice();return u.sort(compareBegin),l.sort(compareEnd),new IntervalTreeNode(r,createIntervalTree(i),createIntervalTree(o),u,l)}function IntervalTree(t){this.root=t}Et.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},Et.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?rebuildWithInterval(this,t):this.left.insert(t):this.left=createIntervalTree([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?rebuildWithInterval(this,t):this.right.insert(t):this.right=createIntervalTree([t]);else{var n=_t.ge(this.leftPoints,t,compareBegin),r=_t.ge(this.rightPoints,t,compareEnd);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},Et.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?rebuildWithoutInterval(this,t):2===(o=this.left.remove(t))?(this.left=null,this.count-=1,St):(o===St&&(this.count-=1),o):bt;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?rebuildWithoutInterval(this,t):2===(o=this.right.remove(t))?(this.right=null,this.count-=1,St):(o===St&&(this.count-=1),o):bt;if(1===this.count)return this.leftPoints[0]===t?2:bt;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var i=this.left,o=this.right;n.count-=r.count,n.right=r.left,r.left=i,r.right=o}copy(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?copy(this,this.left):copy(this,this.right);return St}for(i=_t.ge(this.leftPoints,t,compareBegin);i<this.leftPoints.length&&this.leftPoints[i][0]===t[0];++i)if(this.leftPoints[i]===t){this.count-=1,this.leftPoints.splice(i,1);for(o=_t.ge(this.rightPoints,t,compareEnd);o<this.rightPoints.length&&this.rightPoints[o][1]===t[1];++o)if(this.rightPoints[o]===t)return this.rightPoints.splice(o,1),St}return bt},Et.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return reportLeftRange(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return reportRightRange(this.rightPoints,t,e)}return reportRange(this.leftPoints,e)},Et.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?reportLeftRange(this.leftPoints,e,n):t>this.mid?reportRightRange(this.rightPoints,t,n):reportRange(this.leftPoints,n)};var xt=IntervalTree.prototype;xt.insert=function(t){this.root?this.root.insert(t):this.root=new IntervalTreeNode(t[0],null,null,[t],[t])},xt.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==bt}return!1},xt.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},xt.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(xt,"count",{get:function get(){return this.root?this.root.count:0}}),Object.defineProperty(xt,"intervals",{get:function get(){return this.root?this.root.intervals([]):[]}});var wt=function(){function PositionCache(){a()(this,PositionCache),this._columnSizeMap={},this._intervalTree=function createWrapper(t){return t&&0!==t.length?new IntervalTree(createIntervalTree(t)):new IntervalTree(null)}(),this._leftMap={}}return u()(PositionCache,[{key:"estimateTotalHeight",value:function estimateTotalHeight(t,e,n){var r=t-this.count;return this.tallestColumnSize+Math.ceil(r/e)*n}},{key:"range",value:function range(t,e,n){var r=this;this._intervalTree.queryInterval(t,t+e,(function(t){var e=vt()(t,3),i=e[0],o=(e[1],e[2]);return n(o,r._leftMap[o],i)}))}},{key:"setPosition",value:function setPosition(t,e,n,r){this._intervalTree.insert([n,n+r,t]),this._leftMap[t]=e;var i=this._columnSizeMap,o=i[e];i[e]=void 0===o?n+r:Math.max(o,n+r)}},{key:"count",get:function get(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function get(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=0===e?r:Math.min(e,r)}return e}},{key:"tallestColumnSize",get:function get(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=Math.max(e,r)}return e}}]),PositionCache}(),Tt=function(t){function Masonry(){var t,e,n,r;a()(this,Masonry);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=Masonry.__proto__||i()(Masonry)).call.apply(t,[this].concat(s))),n.state={isScrolling:!1,scrollTop:0},n._invalidateOnUpdateStartIndex=null,n._invalidateOnUpdateStopIndex=null,n._positionCache=new wt,n._startIndex=null,n._startIndexMemoized=null,n._stopIndex=null,n._stopIndexMemoized=null,n._debounceResetIsScrollingCallback=function(){n.setState({isScrolling:!1})},n._setScrollingContainerRef=function(t){n._scrollingContainer=t},n._onScroll=function(t){var e=n.props.height,r=t.target.scrollTop,i=Math.min(Math.max(0,n._getEstimatedTotalHeight()-e),r);r===i&&(n._debounceResetIsScrolling(),n.state.scrollTop!==i&&n.setState({isScrolling:!0,scrollTop:i}))},r=e,c()(n,r)}return p()(Masonry,t),u()(Masonry,[{key:"clearCellPositions",value:function clearCellPositions(){this._positionCache=new wt,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function recomputeCellPositions(){var t=this._positionCache.count-1;this._positionCache=new wt,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.autoHeight,r=e.cellCount,i=e.cellMeasurerCache,o=e.cellRenderer,a=e.className,s=e.height,u=e.id,l=e.keyMapper,c=e.overscanByPixels,f=e.role,p=e.style,h=e.tabIndex,g=e.width,y=e.rowDirection,m=this.state,b=m.isScrolling,S=m.scrollTop,E=[],x=this._getEstimatedTotalHeight(),w=this._positionCache.shortestColumnSize,T=this._positionCache.count,P=0,k=void 0;if(this._positionCache.range(Math.max(0,S-c),s+2*c,(function(e,n,r){var a;"undefined"===typeof k?(P=e,k=e):(P=Math.min(P,e),k=Math.max(k,e)),E.push(o({index:e,isScrolling:b,key:l(e),parent:t,style:(a={height:i.getHeight(e)},yt()(a,"ltr"===y?"left":"right",n),yt()(a,"position","absolute"),yt()(a,"top",r),yt()(a,"width",i.getWidth(e)),a)}))})),w<S+s+c&&T<r)for(var C=Math.min(r-T,Math.ceil((S+s+c-w)/i.defaultHeight*g/i.defaultWidth)),D=T;D<T+C;D++)k=D,E.push(o({index:D,isScrolling:b,key:l(D),parent:this,style:{width:i.getWidth(D)}}));return this._startIndex=P,this._stopIndex=k,d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_("ReactVirtualized__Masonry",a),id:u,onScroll:this._onScroll,role:f,style:v()({boxSizing:"border-box",direction:"ltr",height:n?"auto":s,overflowX:"hidden",overflowY:x<s?"hidden":"auto",position:"relative",width:g,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:h},d.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:x,maxWidth:"100%",maxHeight:x,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},E))}},{key:"_checkInvalidateOnUpdate",value:function _checkInvalidateOnUpdate(){if("number"===typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function _debounceResetIsScrolling(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=z(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function _getEstimatedTotalHeight(){var t=this.props,e=t.cellCount,n=t.cellMeasurerCache,r=t.width,i=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(e,i,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function _invokeOnScrollCallback(){var t=this.props,e=t.height,n=t.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function _invokeOnCellsRenderedCallback(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function _populatePositionCache(t,e){for(var n=this.props,r=n.cellMeasurerCache,i=n.cellPositioner,o=t;o<=e;o++){var a=i(o),s=a.left,u=a.top;this._positionCache.setPosition(o,s,u,r.getHeight(o))}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),Masonry}(d.PureComponent);function noop(){}Tt.defaultProps={autoHeight:!1,keyMapper:function identity(t){return t},onCellsRendered:noop,onScroll:noop,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Tt.propTypes=null;Object(h.polyfill)(Tt);var Pt=function(){function CellMeasurerCacheDecorator(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,CellMeasurerCacheDecorator),this.columnWidth=function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})},this.rowHeight=function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})};var n=e.cellMeasurerCache,r=e.columnIndexOffset,i=void 0===r?0:r,o=e.rowIndexOffset,s=void 0===o?0:o;this._cellMeasurerCache=n,this._columnIndexOffset=i,this._rowIndexOffset=s}return u()(CellMeasurerCacheDecorator,[{key:"clear",value:function clear(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function clearAll(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function getHeight(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function getWidth(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function has(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function set(t,e,n,r){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function get(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function get(){return this._cellMeasurerCache.defaultWidth}}]),CellMeasurerCacheDecorator}(),kt=function(t){function MultiGrid(t,e){a()(this,MultiGrid);var n=c()(this,(MultiGrid.__proto__||i()(MultiGrid)).call(this,t,e));Ct.call(n);var r=t.deferredMeasurementCache,o=t.fixedColumnCount,s=t.fixedRowCount;return n._maybeCalculateCachedStyles(!0),r&&(n._deferredMeasurementCacheBottomLeftGrid=s>0?new Pt({cellMeasurerCache:r,columnIndexOffset:0,rowIndexOffset:s}):r,n._deferredMeasurementCacheBottomRightGrid=o>0||s>0?new Pt({cellMeasurerCache:r,columnIndexOffset:o,rowIndexOffset:s}):r,n._deferredMeasurementCacheTopRightGrid=o>0?new Pt({cellMeasurerCache:r,columnIndexOffset:o,rowIndexOffset:0}):r),n}return p()(MultiGrid,t),u()(MultiGrid,[{key:"forceUpdateGrids",value:function forceUpdateGrids(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,i=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function measureAllCells(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,i=void 0===r?0:r,o=this.props,a=o.fixedColumnCount,s=o.fixedRowCount,u=Math.max(0,n-a),l=Math.max(0,i-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:l}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:u,rowIndex:l}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:i}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:u,rowIndex:i}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.scrollLeft,n=t.scrollTop;if(e>0||n>0){var r={};e>0&&(r.scrollLeft=e),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._handleInvalidatedGridSize()}},{key:"render",value:function render(){var t=this.props,e=t.onScroll,n=t.onSectionRendered,r=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),i=(t.scrollTop,t.scrollToRow),o=S()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,s=a.scrollLeft,u=a.scrollTop;return d.createElement("div",{style:this._containerOuterStyle},d.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(o),this._renderTopRightGrid(v()({},o,{onScroll:e,scrollLeft:s}))),d.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(v()({},o,{onScroll:e,scrollTop:u})),this._renderBottomRightGrid(v()({},o,{onScroll:e,onSectionRendered:n,scrollLeft:s,scrollToColumn:r,scrollToRow:i,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function _getBottomGridHeight(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function _getLeftGridWidth(t){var e=t.fixedColumnCount,n=t.columnWidth;if(null==this._leftGridWidth)if("function"===typeof n){for(var r=0,i=0;i<e;i++)r+=n({index:i});this._leftGridWidth=r}else this._leftGridWidth=n*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function _getRightGridWidth(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function _getTopGridHeight(t){var e=t.fixedRowCount,n=t.rowHeight;if(null==this._topGridHeight)if("function"===typeof n){for(var r=0,i=0;i<e;i++)r+=n({index:i});this._topGridHeight=r}else this._topGridHeight=n*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"===typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function _maybeCalculateCachedStyles(t){var e=this.props,n=e.columnWidth,r=e.enableFixedColumnScroll,i=e.enableFixedRowScroll,o=e.height,a=e.fixedColumnCount,s=e.fixedRowCount,u=e.rowHeight,l=e.style,c=e.styleBottomLeftGrid,f=e.styleBottomRightGrid,p=e.styleTopLeftGrid,d=e.styleTopRightGrid,h=e.width,g=t||o!==this._lastRenderedHeight||h!==this._lastRenderedWidth,y=t||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,m=t||s!==this._lastRenderedFixedRowCount||u!==this._lastRenderedRowHeight;(t||g||l!==this._lastRenderedStyle)&&(this._containerOuterStyle=v()({height:o,overflow:"visible",width:h},l)),(t||g||m)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:h},this._containerBottomStyle={height:o-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:h}),(t||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=v()({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},c)),(t||y||f!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=v()({left:this._getLeftGridWidth(this.props),position:"absolute"},f)),(t||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=v()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(t||y||d!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=v()({left:this._getLeftGridWidth(this.props),overflowX:i?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},d)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=o,this._lastRenderedRowHeight=u,this._lastRenderedStyle=l,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=f,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=d,this._lastRenderedWidth=h}},{key:"_prepareForRender",value:function _prepareForRender(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function _renderBottomLeftGrid(t){var e=t.enableFixedColumnScroll,n=t.fixedColumnCount,r=t.fixedRowCount,i=t.rowCount,o=t.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!n)return null;var s=a?1:0,u=this._getBottomGridHeight(t),l=this._getLeftGridWidth(t),c=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,f=o?l+c:l,p=d.createElement(W,v()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-r)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:f}));return o?d.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:v()({},this._bottomLeftGridStyle,{height:u,width:l,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function _renderBottomRightGrid(t){var e=t.columnCount,n=t.fixedColumnCount,r=t.fixedRowCount,i=t.rowCount,o=t.scrollToColumn,a=t.scrollToRow;return d.createElement(W,v()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:o-n,scrollToRow:a-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function _renderTopLeftGrid(t){var e=t.fixedColumnCount,n=t.fixedRowCount;return e&&n?d.createElement(W,v()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function _renderTopRightGrid(t){var e=t.columnCount,n=t.enableFixedRowScroll,r=t.fixedColumnCount,i=t.fixedRowCount,o=t.scrollLeft,a=t.hideTopRightGridScrollbar,s=this.state,u=s.showHorizontalScrollbar,l=s.scrollbarSize;if(!i)return null;var c=u?1:0,f=this._getTopGridHeight(t),p=this._getRightGridWidth(t),h=u?l:0,g=f,y=this._topRightGridStyle;a&&(g=f+h,y=v()({},this._topRightGridStyle,{left:0}));var m=d.createElement(W,v()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-r)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:g,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:o,style:y,tabIndex:null,width:p}));return a?d.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:v()({},this._topRightGridStyle,{height:f,width:p,overflowX:"hidden"})},m):m}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),MultiGrid}(d.PureComponent);kt.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Ct=function _initialiseProps(){var t=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(e){t._bottomLeftGrid=e},this._bottomRightGridRef=function(e){t._bottomRightGrid=e},this._cellRendererBottomLeftGrid=function(e){var n=e.rowIndex,r=S()(e,["rowIndex"]),i=t.props,o=i.cellRenderer,a=i.fixedRowCount;return n===i.rowCount-a?d.createElement("div",{key:r.key,style:v()({},r.style,{height:20})}):o(v()({},r,{parent:t,rowIndex:n+a}))},this._cellRendererBottomRightGrid=function(e){var n=e.columnIndex,r=e.rowIndex,i=S()(e,["columnIndex","rowIndex"]),o=t.props,a=o.cellRenderer,s=o.fixedColumnCount,u=o.fixedRowCount;return a(v()({},i,{columnIndex:n+s,parent:t,rowIndex:r+u}))},this._cellRendererTopRightGrid=function(e){var n=e.columnIndex,r=S()(e,["columnIndex"]),i=t.props,o=i.cellRenderer,a=i.columnCount,s=i.fixedColumnCount;return n===a-s?d.createElement("div",{key:r.key,style:v()({},r.style,{width:20})}):o(v()({},r,{columnIndex:n+s,parent:t}))},this._columnWidthRightGrid=function(e){var n=e.index,r=t.props,i=r.columnCount,o=r.fixedColumnCount,a=r.columnWidth,s=t.state,u=s.scrollbarSize;return s.showHorizontalScrollbar&&n===i-o?u:"function"===typeof a?a({index:n+o}):a},this._onScroll=function(e){var n=e.scrollLeft,r=e.scrollTop;t.setState({scrollLeft:n,scrollTop:r});var i=t.props.onScroll;i&&i(e)},this._onScrollbarPresenceChange=function(e){var n=e.horizontal,r=e.size,i=e.vertical,o=t.state,a=o.showHorizontalScrollbar,s=o.showVerticalScrollbar;if(n!==a||i!==s){t.setState({scrollbarSize:r,showHorizontalScrollbar:n,showVerticalScrollbar:i});var u=t.props.onScrollbarPresenceChange;"function"===typeof u&&u({horizontal:n,size:r,vertical:i})}},this._onScrollLeft=function(e){var n=e.scrollLeft;t._onScroll({scrollLeft:n,scrollTop:t.state.scrollTop})},this._onScrollTop=function(e){var n=e.scrollTop;t._onScroll({scrollTop:n,scrollLeft:t.state.scrollLeft})},this._rowHeightBottomGrid=function(e){var n=e.index,r=t.props,i=r.fixedRowCount,o=r.rowCount,a=r.rowHeight,s=t.state,u=s.scrollbarSize;return s.showVerticalScrollbar&&n===o-i?u:"function"===typeof a?a({index:n+i}):a},this._topLeftGridRef=function(e){t._topLeftGrid=e},this._topRightGridRef=function(e){t._topRightGrid=e}};kt.propTypes={},Object(h.polyfill)(kt);var Dt=function(t){function ScrollSync(t,e){a()(this,ScrollSync);var n=c()(this,(ScrollSync.__proto__||i()(ScrollSync)).call(this,t,e));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return p()(ScrollSync,t),u()(ScrollSync,[{key:"render",value:function render(){var t=this.props.children,e=this.state,n=e.clientHeight,r=e.clientWidth,i=e.scrollHeight,o=e.scrollLeft,a=e.scrollTop,s=e.scrollWidth;return t({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:i,scrollLeft:o,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function _onScroll(t){var e=t.clientHeight,n=t.clientWidth,r=t.scrollHeight,i=t.scrollLeft,o=t.scrollTop,a=t.scrollWidth;this.setState({clientHeight:e,clientWidth:n,scrollHeight:r,scrollLeft:i,scrollTop:o,scrollWidth:a})}}]),ScrollSync}(d.PureComponent);Dt.propTypes={};function defaultHeaderRowRenderer(t){var e=t.className,n=t.columns,r=t.style;return d.createElement("div",{className:e,role:"row",style:r},n)}defaultHeaderRowRenderer.propTypes=null;var At={ASC:"ASC",DESC:"DESC"};function SortIndicator(t){var e=t.sortDirection,n=_("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===At.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===At.DESC});return d.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===At.ASC?d.createElement("path",{d:"M7 14l5-5 5 5z"}):d.createElement("path",{d:"M7 10l5 5 5-5z"}),d.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function defaultHeaderRenderer(t){var e=t.dataKey,n=t.label,r=t.sortBy,i=t.sortDirection,o=r===e,a=[d.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"===typeof n?n:null},n)];return o&&a.push(d.createElement(SortIndicator,{key:"SortIndicator",sortDirection:i})),a}function defaultRowRenderer(t){var e=t.className,n=t.columns,r=t.index,i=t.key,o=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,u=t.onRowMouseOver,l=t.onRowRightClick,c=t.rowData,f=t.style,p={"aria-rowindex":r+1};return(o||a||s||u||l)&&(p["aria-label"]="row",p.tabIndex=0,o&&(p.onClick=function(t){return o({event:t,index:r,rowData:c})}),a&&(p.onDoubleClick=function(t){return a({event:t,index:r,rowData:c})}),s&&(p.onMouseOut=function(t){return s({event:t,index:r,rowData:c})}),u&&(p.onMouseOver=function(t){return u({event:t,index:r,rowData:c})}),l&&(p.onContextMenu=function(t){return l({event:t,index:r,rowData:c})})),d.createElement("div",v()({},p,{className:e,key:i,role:"row",style:f}),n)}SortIndicator.propTypes={},defaultHeaderRenderer.propTypes=null,defaultRowRenderer.propTypes=null;var Rt=function(t){function Column(){return a()(this,Column),c()(this,(Column.__proto__||i()(Column)).apply(this,arguments))}return p()(Column,t),Column}(d.Component);Rt.defaultProps={cellDataGetter:function defaultCellDataGetter(t){var e=t.dataKey,n=t.rowData;return"function"===typeof n.get?n.get(e):n[e]},cellRenderer:function defaultCellRenderer(t){var e=t.cellData;return null==e?"":String(e)},defaultSortDirection:At.ASC,flexGrow:0,flexShrink:1,headerRenderer:defaultHeaderRenderer,style:{}};Rt.propTypes={};var Mt=function(t){function Table(t){a()(this,Table);var e=c()(this,(Table.__proto__||i()(Table)).call(this,t));return e.state={scrollbarWidth:0},e._createColumn=e._createColumn.bind(e),e._createRow=e._createRow.bind(e),e._onScroll=e._onScroll.bind(e),e._onSectionRendered=e._onSectionRendered.bind(e),e._setRef=e._setRef.bind(e),e}return p()(Table,t),u()(Table,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function measureAllRows(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function scrollToPosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function scrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"componentDidMount",value:function componentDidMount(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._setScrollbarWidth()}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.className,i=e.disableHeader,o=e.gridClassName,a=e.gridStyle,s=e.headerHeight,u=e.headerRowRenderer,l=e.height,c=e.id,f=e.noRowsRenderer,p=e.rowClassName,h=e.rowStyle,g=e.scrollToIndex,y=e.style,m=e.width,b=this.state.scrollbarWidth,S=i?l:l-s,E="function"===typeof p?p({index:-1}):p,x="function"===typeof h?h({index:-1}):h;return this._cachedColumnStyles=[],d.Children.toArray(n).forEach((function(e,n){var r=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[n]=v()({},r,{overflow:"hidden"})})),d.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":d.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:_("ReactVirtualized__Table",r),id:c,role:"grid",style:y},!i&&u({className:_("ReactVirtualized__Table__headerRow",E),columns:this._getHeaderColumns(),style:v()({height:s,overflow:"hidden",paddingRight:b,width:m},x)}),d.createElement(W,v()({},this.props,{autoContainerWidth:!0,className:_("ReactVirtualized__Table__Grid",o),cellRenderer:this._createRow,columnWidth:m,columnCount:1,height:S,id:void 0,noContentRenderer:f,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:b,scrollToRow:g,style:v()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function _createColumn(t){var e=t.column,n=t.columnIndex,r=t.isScrolling,i=t.parent,o=t.rowData,a=t.rowIndex,s=this.props.onColumnClick,u=e.props,l=u.cellDataGetter,c=u.cellRenderer,f=u.className,p=u.columnData,h=u.dataKey,g=u.id,y=c({cellData:l({columnData:p,dataKey:h,rowData:o}),columnData:p,columnIndex:n,dataKey:h,isScrolling:r,parent:i,rowData:o,rowIndex:a}),m=this._cachedColumnStyles[n],v="string"===typeof y?y:null;return d.createElement("div",{"aria-colindex":n+1,"aria-describedby":g,className:_("ReactVirtualized__Table__rowColumn",f),key:"Row"+a+"-Col"+n,onClick:function onClick(t){s&&s({columnData:p,dataKey:h,event:t})},role:"gridcell",style:m,title:v},y)}},{key:"_createHeader",value:function _createHeader(t){var e=t.column,n=t.index,r=this.props,i=r.headerClassName,o=r.headerStyle,a=r.onHeaderClick,s=r.sort,u=r.sortBy,l=r.sortDirection,c=e.props,f=c.columnData,p=c.dataKey,h=c.defaultSortDirection,g=c.disableSort,y=c.headerRenderer,m=c.id,b=c.label,S=!g&&s,E=_("ReactVirtualized__Table__headerColumn",i,e.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:S}),x=this._getFlexStyleForColumn(e,v()({},o,e.props.headerStyle)),w=y({columnData:f,dataKey:p,disableSort:g,label:b,sortBy:u,sortDirection:l}),T=void 0,P=void 0,k=void 0,C=void 0,D=void 0;if(S||a){var A=u!==p?h:l===At.DESC?At.ASC:At.DESC,R=function onClick(t){S&&s({defaultSortDirection:h,event:t,sortBy:p,sortDirection:A}),a&&a({columnData:f,dataKey:p,event:t})};D=e.props["aria-label"]||b||p,C="none",k=0,T=R,P=function onKeyDown(t){"Enter"!==t.key&&" "!==t.key||R(t)}}return u===p&&(C=l===At.ASC?"ascending":"descending"),d.createElement("div",{"aria-label":D,"aria-sort":C,className:E,id:m,key:"Header-Col"+n,onClick:T,onKeyDown:P,role:"columnheader",style:x,tabIndex:k},w)}},{key:"_createRow",value:function _createRow(t){var e=this,n=t.rowIndex,r=t.isScrolling,i=t.key,o=t.parent,a=t.style,s=this.props,u=s.children,l=s.onRowClick,c=s.onRowDoubleClick,f=s.onRowRightClick,p=s.onRowMouseOver,h=s.onRowMouseOut,g=s.rowClassName,y=s.rowGetter,m=s.rowRenderer,b=s.rowStyle,S=this.state.scrollbarWidth,E="function"===typeof g?g({index:n}):g,x="function"===typeof b?b({index:n}):b,w=y({index:n}),T=d.Children.toArray(u).map((function(t,i){return e._createColumn({column:t,columnIndex:i,isScrolling:r,parent:o,rowData:w,rowIndex:n,scrollbarWidth:S})})),P=_("ReactVirtualized__Table__row",E),k=v()({},a,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:S},x);return m({className:P,columns:T,index:n,isScrolling:r,key:i,onRowClick:l,onRowDoubleClick:c,onRowRightClick:f,onRowMouseOver:p,onRowMouseOut:h,rowData:w,style:k})}},{key:"_getFlexStyleForColumn",value:function _getFlexStyleForColumn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.props.flexGrow+" "+t.props.flexShrink+" "+t.props.width+"px",r=v()({},e,{flex:n,msFlex:n,WebkitFlex:n});return t.props.maxWidth&&(r.maxWidth=t.props.maxWidth),t.props.minWidth&&(r.minWidth=t.props.minWidth),r}},{key:"_getHeaderColumns",value:function _getHeaderColumns(){var t=this,e=this.props,n=e.children;return(e.disableHeader?[]:d.Children.toArray(n)).map((function(e,n){return t._createHeader({column:e,index:n})}))}},{key:"_getRowHeight",value:function _getRowHeight(t){var e=this.props.rowHeight;return"function"===typeof e?e({index:t}):e}},{key:"_onScroll",value:function _onScroll(t){var e=t.clientHeight,n=t.scrollHeight,r=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function _onSectionRendered(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,r=t.rowStartIndex,i=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:r,stopIndex:i})}},{key:"_setRef",value:function _setRef(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function _setScrollbarWidth(){if(this.Grid){var t=Object(Z.findDOMNode)(this.Grid),e=t.clientWidth||0,n=(t.offsetWidth||0)-e;this.setState({scrollbarWidth:n})}}}]),Table}(d.PureComponent);Mt.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){return null},onScroll:function onScroll(){return null},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,rowRenderer:defaultRowRenderer,headerRowRenderer:defaultHeaderRowRenderer,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};Mt.propTypes={};var Lt=[],It=null,Ot=null;function enablePointerEventsIfDisabled(){Ot&&(Ot=null,document.body&&null!=It&&(document.body.style.pointerEvents=It),It=null)}function enablePointerEventsAfterDelayCallback(){enablePointerEventsIfDisabled(),Lt.forEach((function(t){return t.__resetIsScrolling()}))}function onScrollWindow(t){t.currentTarget===window&&null==It&&document.body&&(It=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function enablePointerEventsAfterDelay(){Ot&&U(Ot);var t=0;Lt.forEach((function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)})),Ot=z(enablePointerEventsAfterDelayCallback,t)}(),Lt.forEach((function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()}))}function registerScrollListener(t,e){Lt.some((function(t){return t.props.scrollElement===e}))||e.addEventListener("scroll",onScrollWindow),Lt.push(t)}function unregisterScrollListener(t,e){(Lt=Lt.filter((function(e){return e!==t}))).length||(e.removeEventListener("scroll",onScrollWindow),Ot&&(U(Ot),enablePointerEventsIfDisabled()))}var Ft=function isWindow(t){return t===window},Nt=function getBoundingBox(t){return t.getBoundingClientRect()};function getDimensions(t,e){if(t){if(Ft(t)){var n=window,r=n.innerHeight,i=n.innerWidth;return{height:"number"===typeof r?r:0,width:"number"===typeof i?i:0}}return Nt(t)}return{height:e.serverHeight,width:e.serverWidth}}function getPositionOffset(t,e){if(Ft(e)&&document.documentElement){var n=document.documentElement,r=Nt(t),i=Nt(n);return{top:r.top-i.top,left:r.left-i.left}}var o=getScrollOffset(e),a=Nt(t),s=Nt(e);return{top:a.top+o.top-s.top,left:a.left+o.left-s.left}}function getScrollOffset(t){return Ft(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var Bt=function getWindow(){return"undefined"!==typeof window?window:void 0},Ut=function(t){function WindowScroller(){var t,e,n,r;a()(this,WindowScroller);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return e=n=c()(this,(t=WindowScroller.__proto__||i()(WindowScroller)).call.apply(t,[this].concat(s))),n._window=Bt(),n._isMounted=!1,n._positionFromTop=0,n._positionFromLeft=0,n.state=v()({},getDimensions(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),n._registerChild=function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=t,n.updatePosition()},n._onChildScroll=function(t){var e=t.scrollTop;if(n.state.scrollTop!==e){var r=n.props.scrollElement;r&&("function"===typeof r.scrollTo?r.scrollTo(0,e+n._positionFromTop):r.scrollTop=e+n._positionFromTop)}},n._registerResizeListener=function(t){t===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(t,n._onResize)},n._unregisterResizeListener=function(t){t===window?window.removeEventListener("resize",n._onResize,!1):t&&n._detectElementResize.removeResizeListener(t,n._onResize)},n._onResize=function(){n.updatePosition()},n.__handleWindowScrollEvent=function(){if(n._isMounted){var t=n.props.onScroll,e=n.props.scrollElement;if(e){var r=getScrollOffset(e),i=Math.max(0,r.left-n._positionFromLeft),o=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:i,scrollTop:o}),t({scrollLeft:i,scrollTop:o})}}},n.__resetIsScrolling=function(){n.setState({isScrolling:!1})},r=e,c()(n,r)}return p()(WindowScroller,t),u()(WindowScroller,[{key:"updatePosition",value:function updatePosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,n=this.state,r=n.height,i=n.width,o=this._child||Z.findDOMNode(this);if(o instanceof Element&&t){var a=getPositionOffset(o,t);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=getDimensions(t,this.props);r===s.height&&i===s.width||(this.setState({height:s.height,width:s.width}),e({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props.scrollElement;this._detectElementResize=Object(K.a)(),this.updatePosition(t),t&&(registerScrollListener(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var n=this.props.scrollElement,r=t.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),unregisterScrollListener(this,r),registerScrollListener(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.scrollElement;t&&(unregisterScrollListener(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function render(){var t=this.props.children,e=this.state,n=e.isScrolling,r=e.scrollTop,i=e.scrollLeft,o=e.height,a=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:o,isScrolling:n,scrollLeft:i,scrollTop:r,width:a})}}]),WindowScroller}(d.PureComponent);Ut.defaultProps={onResize:function onResize(){},onScroll:function onScroll(){},scrollingResetTimeInterval:150,scrollElement:Bt(),serverHeight:0,serverWidth:0},Ut.propTypes=null;n.d(e,"a",(function(){return X})),n.d(e,"b",(function(){return ht}))},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n.n(i),a="@@__IMMUTABLE_MAP__@@";function isMap(t){return Boolean(t&&t[a])}function diffSources(t,e){var n=t.get("sources"),r=e.get("sources"),i=[],o=[],a=[],s=n.keySeq().toArray(),u=r.keySeq().toArray(),l=!0,c=!1,f=void 0;try{for(var p,d=s[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var h=p.value,g=r.get(h);g?g.equals(n.get(h))||o.push({id:h,source:r.get(h)}):a.push({id:h,source:n.get(h)})}}catch(E){c=!0,f=E}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}var y=!0,m=!1,v=void 0;try{for(var _,b=u[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var S=_.value;n.get(S)||i.push({id:S,source:r.get(S)})}}catch(E){m=!0,v=E}finally{try{!y&&b.return&&b.return()}finally{if(m)throw v}}return{enter:i,update:o,exit:a}}function diffLayers(t,e){var n=t.get("layers"),r=e.get("layers"),i=[],o=[],a={},s={};r.forEach((function(t,e){var n=t.get("id"),i=r.get(e+1);s[n]={layer:t,id:n,before:i?i.get("id"):null,enter:!0}})),n.forEach((function(t,e){var r=t.get("id"),i=n.get(e+1);a[r]={layer:t,id:r,before:i?i.get("id"):null},s[r]?s[r].enter=!1:o.push(a[r])}));var u=!0,l=!1,c=void 0;try{for(var f,p=r.reverse()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value.get("id");a[d]&&a[d].layer.equals(s[d].layer)&&a[d].before===s[d].before||i.push(s[d])}}catch(h){l=!0,c=h}finally{try{!u&&p.return&&p.return()}finally{if(l)throw c}}return{updates:i,exiting:o}}function setDiffStyle(t,e,n){var r=t&&styleKeysMap(t)||{},i=styleKeysMap(e);function styleKeysMap(t){return t.map((function(){return!0})).delete("layers").delete("sources").toJS()}if(t&&!function propsOtherThanLayersOrSourcesDiffer(){var n=Object.keys(r),o=Object.keys(i);return n.length!==o.length||!!o.some((function(n){return t.get(n)!==e.get(n)}))}()){var o=function diffStyle(t,e){return{sourcesDiff:diffSources(t,e),layersDiff:diffLayers(t,e)}}(t,e),a=o.sourcesDiff,s=o.layersDiff;!function checkForEqualLayerSourceChanges(t,e){var n=t.map((function(t){return t.id})),r=e.filter((function(t){return n.includes(t.get("source"))}));if(r.size)throw new Error("You must remove any layers associated with sources you are removing: "+r.map((function(t){return t.get("id")})).toJS().join(""))}(a.exit,e.get("layers")),function applySourceLayerChanges(t,e,n,r){if(r.updates.some((function(t){return t.layer.get("ref")})))return void t.setStyle(e.toJS());var i=!0,o=!1,a=void 0;try{for(var s,u=n.enter[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;t.addSource(l.id,l.source.toJS())}}catch(I){o=!0,a=I}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var c=!0,f=!1,p=void 0;try{for(var d,h=n.update[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var g=d.value;updateStyleSource(t,g)}}catch(I){f=!0,p=I}finally{try{!c&&h.return&&h.return()}finally{if(f)throw p}}var y=!0,m=!1,v=void 0;try{for(var _,b=r.exiting[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var S=_.value;t.style.getLayer(S.id)&&t.removeLayer(S.id)}}catch(I){m=!0,v=I}finally{try{!y&&b.return&&b.return()}finally{if(m)throw v}}var E=!0,x=!1,w=void 0;try{for(var T,P=r.updates[Symbol.iterator]();!(E=(T=P.next()).done);E=!0){var k=T.value;k.enter||t.removeLayer(k.id),t.addLayer(k.layer.toJS(),k.before)}}catch(I){x=!0,w=I}finally{try{!E&&P.return&&P.return()}finally{if(x)throw w}}var C=!0,D=!1,A=void 0;try{for(var R,M=n.exit[Symbol.iterator]();!(C=(R=M.next()).done);C=!0){var L=R.value;t.removeSource(L.id)}}catch(I){D=!0,A=I}finally{try{!C&&M.return&&M.return()}finally{if(D)throw A}}}(n,e,a,s)}else n.setStyle(e.toJS())}function updateStyleSource(t,e){var n=e.source.toJS();if("geojson"===n.type){var r=t.getSource(e.id);if("geojson"===r.type){var i=r.workerOptions,o=i.geojsonVtOptions.extent/512;if((void 0===n.maxzoom||n.maxzoom===i.geojsonVtOptions.maxZoom)&&(void 0===n.buffer||n.buffer===i.geojsonVtOptions.buffer/o)&&(void 0===n.tolerance||n.tolerance===i.geojsonVtOptions.tolerance/o)&&(void 0===n.cluster||n.cluster===i.cluster)&&(void 0===n.clusterRadius||n.clusterRadius===i.superclusterOptions.radius/o)&&(void 0===n.clusterMaxZoom||n.clusterMaxZoom===i.superclusterOptions.maxZoom))return void r.setData(n.data)}}t.removeSource(e.id),t.addSource(e.id,n)}var s={};function checkNumber(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function round(t){return Math.round(t/s.EPSILON)*s.EPSILON}function formatValue(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,n=void 0===e?s.precision||4:e;return t=round(t),parseFloat(t.toPrecision(n))}function common_equals(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!common_equals(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!function _instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!==typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}s.EPSILON=1e-12,s.debug=!0,s.precision=4,s.printTypes=!1,s.printDegrees=!1,s.printRowMajor=!0;var u=function(t){function MathArray(){return _classCallCheck(this,MathArray),_possibleConstructorReturn(this,(MathArray.__proto__||Object.getPrototypeOf(MathArray)).apply(this,arguments))}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(MathArray,t),function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(MathArray,[{key:"clone",value:function clone(){return(new this.constructor).copy(this).check()}},{key:"copy",value:function copy(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t[e];return this.check()}},{key:"set",value:function set(){for(var t=0;t<this.ELEMENTS;++t)this[t]=(t<0||arguments.length<=t?void 0:arguments[t])||0;return this.check()}},{key:"fromArray",value:function fromArray(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}},{key:"toString",value:function toString(){return this.formatString(s)}},{key:"formatString",value:function formatString(t){for(var e="",n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+formatValue(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"toArray",value:function toArray(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}},{key:"toFloat32Array",value:function toFloat32Array(){return new Float32Array(this)}},{key:"equals",value:function equals(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!common_equals(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function exactEquals(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function negate(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"inverse",value:function inverse(){for(var t=0;t<this.ELEMENTS;++t)this[t]=1/this[t];return this.check()}},{key:"lerp",value:function lerp(t,e,n){void 0===n&&(n=e,e=t,t=this);for(var r=0;r<this.ELEMENTS;++r){var i=t[r];this[r]=i+n*(e[r]-i)}return this.check()}},{key:"min",value:function min(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function max(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function clamp(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}},{key:"validate",value:function validate(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=t&&t.length===this.ELEMENTS,n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(t[n]);return e}},{key:"check",value:function check(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(s.debug&&!this.validate(t))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"sub",value:function sub(t){return this.subtract(t)}},{key:"setScalar",value:function setScalar(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function addScalar(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function subScalar(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function multiplyScalar(t){return this.scale(t)}},{key:"divideScalar",value:function divideScalar(t){return this.scale(1/t)}},{key:"clampScalar",value:function clampScalar(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}}]),MathArray}(function _extendableBuiltin(t){function ExtendableBuiltin(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return ExtendableBuiltin.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableBuiltin,t):ExtendableBuiltin.__proto__=t,ExtendableBuiltin}(Array));function vector_typeof(t){return(vector_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector_classCallCheck(t,e){if(!function vector_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vector_possibleConstructorReturn(t,e){return!e||"object"!==vector_typeof(e)&&"function"!==typeof e?function vector_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var l=function assert(t,e){if(!t)throw new Error(e)},c=function(t){function Vector(){return vector_classCallCheck(this,Vector),vector_possibleConstructorReturn(this,(Vector.__proto__||Object.getPrototypeOf(Vector)).apply(this,arguments))}return function vector_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector,t),function vector_createClass(t,e,n){return e&&vector_defineProperties(t.prototype,e),n&&vector_defineProperties(t,n),t}(Vector,[{key:"len",value:function len(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function magnitude(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function lengthSquared(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"distance",value:function distance(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function distanceSquared(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return checkNumber(e)}},{key:"dot",value:function dot(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return checkNumber(e)}},{key:"normalize",value:function normalize(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"add",value:function add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]+=i[o];return this.check()}},{key:"subtract",value:function subtract(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]-=i[o];return this.check()}},{key:"multiply",value:function multiply(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]*=i[o];return this.check()}},{key:"divide",value:function divide(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]/=i[o];return this.check()}},{key:"scale",value:function scale(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"scaleAndAdd",value:function scaleAndAdd(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=this[n]*e+t[n];return this.check()}},{key:"lengthSq",value:function lengthSq(){return this.lengthSquared()}},{key:"distanceTo",value:function distanceTo(t){return this.distance(t)}},{key:"distanceToSquared",value:function distanceToSquared(t){return this.distanceSquared(t)}},{key:"getComponent",value:function getComponent(t){return l(t>=0&&t<this.ELEMENTS,"index is out of range"),checkNumber(this[t])}},{key:"setComponent",value:function setComponent(t,e){return l(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function addVectors(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function subVectors(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function multiplyVectors(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}]),Vector}(u),f=n(448),p=n.n(f);function vector2_typeof(t){return(vector2_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector2_classCallCheck(t,e){if(!function vector2_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector2_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vector2_possibleConstructorReturn(t,e){return!e||"object"!==vector2_typeof(e)&&"function"!==typeof e?function vector2_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var d=function(t){function Vector2(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return vector2_classCallCheck(this,Vector2),t=vector2_possibleConstructorReturn(this,(Vector2.__proto__||Object.getPrototypeOf(Vector2)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,n),t}return function vector2_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector2,t),function vector2_createClass(t,e,n){return e&&vector2_defineProperties(t.prototype,e),n&&vector2_defineProperties(t,n),t}(Vector2,[{key:"cross",value:function cross(t){return p()(this,this,t),this.check()}},{key:"horizontalAngle",value:function horizontalAngle(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function verticalAngle(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function operation(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function get(){return 2}},{key:"x",get:function get(){return this[0]},set:function set(t){return this[0]=checkNumber(t)}},{key:"y",get:function get(){return this[1]},set:function set(t){return this[1]=checkNumber(t)}}]),Vector2}(c),h=n(449),g=n.n(h),y=n(288),m=n.n(y),v=n(450),_=n.n(v),b=n(451),S=n.n(b),E=n(452),x=n.n(E);function vector3_typeof(t){return(vector3_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector3_classCallCheck(t,e){if(!function vector3_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector3_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vector3_possibleConstructorReturn(t,e){return!e||"object"!==vector3_typeof(e)&&"function"!==typeof e?function vector3_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var w=[0,0,0],T=function(t){function Vector3(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vector3_classCallCheck(this,Vector3),t=vector3_possibleConstructorReturn(this,(Vector3.__proto__||Object.getPrototypeOf(Vector3)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,n,r),t}return function vector3_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector3,t),function vector3_createClass(t,e,n){return e&&vector3_defineProperties(t.prototype,e),n&&vector3_defineProperties(t,n),t}(Vector3,[{key:"angle",value:function angle(t){return g()(this,t)}},{key:"cross",value:function cross(t){return m()(this,this,t),this.check()}},{key:"rotateX",value:function rotateX(t){var e=t.radians,n=t.origin,r=void 0===n?w:n;return _()(this,this,r,e),this.check()}},{key:"rotateY",value:function rotateY(t){var e=t.radians,n=t.origin,r=void 0===n?w:n;return S()(this,this,r,e),this.check()}},{key:"rotateZ",value:function rotateZ(t){var e=t.radians,n=t.origin,r=void 0===n?w:n;return x()(this,this,r,e),this.check()}},{key:"operation",value:function operation(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function get(){return 3}},{key:"x",get:function get(){return this[0]},set:function set(t){return this[0]=checkNumber(t)}},{key:"y",get:function get(){return this[1]},set:function set(t){return this[1]=checkNumber(t)}},{key:"z",get:function get(){return this[2]},set:function set(t){return this[2]=checkNumber(t)}}]),Vector3}(c);n(453),n(454),n(455),n(456),n(457);var P=n(218),k=n.n(P),C=(n(458),n(219)),D=n.n(C),A=n(130),R=n.n(A),M=(n(459),n(126)),L=n.n(M),I=n(127),O=n.n(I),F=(n(460),n(461),n(131)),N=n.n(F),B=n(220),U=n.n(B),z=(n(462),n(221)),j=n.n(z);n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(290),n(475),n(476),n(477),n(478),n(479),n(291),n(480);n(289);var V=n(292),G=n.n(V);function transformVector(t,e){var n=N()([],e,t);return G()(n,n,1/n[3]),n}function mod(t,e){var n=t%e;return 0>n?e+n:n}var W=n(481),q=n.n(W);function assert_assert(t){if(!t)throw new Error("viewport-mercator-project: assertion failed.")}function web_mercator_utils_slicedToArray(t,e){return function web_mercator_utils_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function web_mercator_utils_iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function web_mercator_utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var H=Math.PI,K=H/4,Y=H/180,X=180/H,Z=512,$=4003e4,J=1.5;function zoomToScale(t){return Math.pow(2,t)}function scaleToZoom(t){return Math.log2(t)}function lngLatToWorld(t,e){var n=web_mercator_utils_slicedToArray(t,2),r=n[0],i=n[1];return[(e*=Z)*(r*Y+H)/(2*H),e*(H-Math.log(Math.tan(K+i*Y*.5)))/(2*H)]}function worldToLngLat(t,e){var n=web_mercator_utils_slicedToArray(t,2),r=n[0],i=n[1],o=r/(e*=Z)*(2*H)-H,a=2*(Math.atan(Math.exp(H-i/e*(2*H)))-K);return[o*X,a*X]}function getWorldPosition(t){var e=t.longitude,n=t.latitude,r=t.zoom,i=t.scale,o=t.meterOffset,a=t.distanceScales,s=void 0===a?null:a,u=lngLatToWorld([e,n],i=void 0===i?zoomToScale(r):i),l=new T(u[0],u[1],0);if(o){s=s||function getDistanceScales(t){var e=Number.isFinite,n=t.latitude,r=t.longitude,i=t.zoom,o=t.scale,a=t.highPrecision;o=void 0===o?zoomToScale(i):o,assert_assert(e(n)&&e(r)&&e(o));var s={},u=Z*o,l=Math.cos(n*Y),c=u/360,f=c/l,p=u/$/l;if(s.pixelsPerMeter=[p,p,p],s.metersPerPixel=[1/p,1/p,1/p],s.pixelsPerDegree=[c,f,p],s.degreesPerPixel=[1/c,1/f,1/p],void 0!==a&&a){var d=Y*Math.tan(n*Y)/l,h=u/$*d,g=h/f*p;s.pixelsPerDegree2=[0,c*d/2,h],s.pixelsPerMeter2=[g,0,g]}return s}({latitude:n,longitude:e,scale:i});var c=new T(o).scale(s.pixelsPerMeter).scale([1,-1,1]);l.add(c)}return l}function getProjectionMatrix(t){var e=t.width,n=t.height,r=t.pitch,i=t.altitude,o=t.farZMultiplier,a=function getProjectionParameters(t){var e=Math.PI,n=Math.sin,r=Math.atan,i=t.width,o=t.height,a=t.altitude,s=void 0===a?J:a,u=t.pitch,l=void 0===u?0:u,c=t.farZMultiplier,f=void 0===c?1:c,p=l*Y,d=r(.5/s),h=n(d)*s/n(e/2-p-d),g=Math.cos(e/2-p)*h+s;return{fov:2*r(o/2/s),aspect:i/o,focalDistance:s,near:.1,far:g*f}}({width:e,height:n,altitude:i,pitch:r,farZMultiplier:void 0===o?10:o}),s=a.fov,u=a.aspect,l=a.near,c=a.far;return k()([],s,u,l,c)}function worldToPixels(t,e){var n=Number.isFinite,r=web_mercator_utils_slicedToArray(t,3),i=r[0],o=r[1],a=r[2],s=void 0===a?0:a;return assert_assert(n(i)&&n(o)&&n(s)),transformVector(e,[i,o,s,1])}function pixelsToWorld(t,e){var n=Number.isFinite,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=web_mercator_utils_slicedToArray(t,3),o=i[0],a=i[1],s=i[2];if(assert_assert(n(o)&&n(a)),n(s))return transformVector(e,[o,a,s,1]);var u=transformVector(e,[o,a,0,1]),l=transformVector(e,[o,a,1,1]),c=u[2],f=l[2],p=c===f?0:((r||0)-c)/(f-c);return q()([],u,l,p)}function viewport_slicedToArray(t,e){return function viewport_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function viewport_iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function viewport_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function viewport_instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function viewport_defineProperties(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var Q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],tt=function(){function Viewport(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.viewMatrix,i=void 0===r?Q:r,o=t.projectionMatrix,a=void 0===o?Q:o;(function viewport_classCallCheck(t,e){if(!viewport_instanceof(t,e))throw new TypeError("Cannot call a class as a function")})(this,Viewport),this.width=e||1,this.height=n||1,this.scale=1,this.viewMatrix=i,this.projectionMatrix=a;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R()(s,s,this.projectionMatrix),R()(s,s,this.viewMatrix),this.viewProjectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];L()(u,u,[this.width/2,-this.height/2,1]),O()(u,u,[1,-1,0]),R()(u,u,this.viewProjectionMatrix);var l=D()([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return function viewport_createClass(t,e,n){return e&&viewport_defineProperties(t.prototype,e),n&&viewport_defineProperties(t,n),t}(Viewport,[{key:"equals",value:function equals(t){return!!viewport_instanceof(t,Viewport)&&t.width===this.width&&t.height===this.height&&common_equals(t.projectionMatrix,this.projectionMatrix)&&common_equals(t.viewMatrix,this.viewMatrix)}},{key:"project",value:function project(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=viewport_slicedToArray(t,3),i=r[0],o=r[1],a=r[2],s=this.projectFlat([i,o]),u=viewport_slicedToArray(s,2),l=u[0],c=u[1],f=worldToPixels([l,c,a],this.pixelProjectionMatrix),p=viewport_slicedToArray(f,2),d=p[0],h=p[1],g=void 0===n||n?h:this.height-h;return 2===t.length?[d,g]:[d,g,f[2]]}},{key:"unproject",value:function unproject(t){var e=Number.isFinite,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,i=n.targetZ,o=viewport_slicedToArray(t,3),a=o[0],s=o[1],u=o[2],l=void 0===r||r?s:this.height-s,c=pixelsToWorld([a,l,u],this.pixelUnprojectionMatrix,i),f=this.unprojectFlat(c),p=viewport_slicedToArray(f,2),d=p[0],h=p[1];return e(u)?[d,h,c[2]]:e(i)?[d,h,i]:[d,h]}},{key:"projectFlat",value:function projectFlat(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}},{key:"unprojectFlat",value:function unprojectFlat(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}}]),Viewport}();function fit_bounds_slicedToArray(t,e){return function fit_bounds_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function fit_bounds_iterableToArrayLimit(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function fit_bounds_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fit_bounds_fitBounds(t){var e=Math.abs,n=Number.isFinite,r=t.width,i=t.height,o=t.bounds,a=t.padding,s=void 0===a?0:a,u=t.offset,l=void 0===u?[0,0]:u,c=fit_bounds_slicedToArray(o,2),f=fit_bounds_slicedToArray(c[0],2),p=f[0],d=f[1],h=fit_bounds_slicedToArray(c[1],2),g=h[0],y=h[1];if(n(s)){s={top:s,bottom:s,left:s,right:s}}else assert_assert(n(s.top)&&n(s.bottom)&&n(s.left)&&n(s.right));var m=new ot({width:r,height:i,longitude:0,latitude:0,zoom:0}),v=m.project([p,y]),_=m.project([g,d]),b=[e(_[0]-v[0]),e(_[1]-v[1])],S=[r-s.left-s.right-2*e(l[0]),i-s.top-s.bottom-2*e(l[1])];assert_assert(0<S[0]&&0<S[1]);var E=S[0]/b[0],x=S[1]/b[1],w=(s.right-s.left)/2/E,T=(s.bottom-s.top)/2/x,P=[(_[0]+v[0])/2+w,(_[1]+v[1])/2+T],k=m.unproject(P),C=m.zoom+Math.log2(e(Math.min(E,x)));return{longitude:k[0],latitude:k[1],zoom:C}}var et=n(303),nt=n.n(et),rt=n(482),it=n.n(rt);function web_mercator_viewport_typeof(t){return(web_mercator_viewport_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function web_mercator_viewport_classCallCheck(t,e){if(!function web_mercator_viewport_instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function web_mercator_viewport_defineProperties(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function web_mercator_viewport_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ot=function(t){function WebMercatorViewport(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,s=void 0===a?0:a,u=e.zoom,l=void 0===u?0:u,c=e.pitch,f=void 0===c?0:c,p=e.bearing,d=void 0===p?0:p,h=e.altitude,g=void 0===h?1.5:h,y=e.farZMultiplier,m=void 0===y?10:y;web_mercator_viewport_classCallCheck(this,WebMercatorViewport),n=n||1,r=r||1;var v=zoomToScale(l);g=Math.max(.75,g);var _=getWorldPosition({longitude:s,latitude:o,scale:v}),b=getProjectionMatrix({width:n,height:r,pitch:f,bearing:d,altitude:g,farZMultiplier:m}),S=function getViewMatrix(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return O()(u,u,[0,0,-i]),L()(u,u,[1,1,1/e]),U()(u,u,-n*Y),j()(u,u,r*Y),void 0!==s&&s&&L()(u,u,[1,-1,1]),a&&O()(u,u,new T(a).negate()),u}({height:r,center:_,pitch:f,bearing:d,altitude:g,flipY:!0});return(t=function web_mercator_viewport_possibleConstructorReturn(t,e){return!e||"object"!==web_mercator_viewport_typeof(e)&&"function"!=typeof e?web_mercator_viewport_assertThisInitialized(t):e}(this,(WebMercatorViewport.__proto__||Object.getPrototypeOf(WebMercatorViewport)).call(this,{width:n,height:r,viewMatrix:S,projectionMatrix:b}))).latitude=o,t.longitude=s,t.zoom=l,t.pitch=f,t.bearing=d,t.altitude=g,t.scale=v,t.center=_,Object.freeze(web_mercator_viewport_assertThisInitialized(t)),t}return function web_mercator_viewport_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(WebMercatorViewport,t),function web_mercator_viewport_createClass(t,e,n){return e&&web_mercator_viewport_defineProperties(t.prototype,e),n&&web_mercator_viewport_defineProperties(t,n),t}(WebMercatorViewport,[{key:"projectFlat",value:function projectFlat(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return lngLatToWorld(t,e)}},{key:"unprojectFlat",value:function unprojectFlat(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return worldToLngLat(t,e)}},{key:"getMapCenterByLngLatPosition",value:function getMapCenterByLngLatPosition(t){var e=t.lngLat,n=pixelsToWorld(t.pos,this.pixelUnprojectionMatrix),r=lngLatToWorld(e,this.scale),i=nt()([],r,it()([],n));return worldToLngLat(nt()([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function getLocationAtPoint(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function fitBounds(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.width,r=this.height,i=fit_bounds_fitBounds(Object.assign({width:n,height:r,bounds:t},e)),o=i.longitude,a=i.latitude,s=i.zoom;return new WebMercatorViewport({width:n,height:r,longitude:o,latitude:a,zoom:s})}}]),WebMercatorViewport}(tt),at=85.05113,st=-85.05113;var ut=.01,lt=["longitude","latitude","zoom"];var ct=n(154),ft=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var pt="A valid API access token is required to use Mapbox data";function noop(){}var dt=Object.assign({},ct.a.propTypes,{mapStyle:o.a.oneOfType([o.a.string,o.a.object]),preventStyleDiffing:o.a.bool,visible:o.a.bool}),ht=Object.assign({},ct.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),gt={viewport:o.a.instanceOf(ot)},yt=function(t){function StaticMap(t){!function static_map_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StaticMap);var e=function static_map_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(StaticMap.__proto__||Object.getPrototypeOf(StaticMap)).call(this,t));return e._queryParams={},StaticMap.supported()||(e.componentDidMount=noop,e.componentWillReceiveProps=noop,e.componentDidUpdate=noop,e.componentWillUnmount=noop),e.state={accessTokenInvalid:!1},e.getMap=e.getMap.bind(e),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(e),e._updateQueryParams=e._updateQueryParams.bind(e),e._updateMapSize=e._updateMapSize.bind(e),e._updateMapStyle=e._updateMapStyle.bind(e),e._mapboxMapLoaded=e._mapboxMapLoaded.bind(e),e._mapboxMapError=e._mapboxMapError.bind(e),e._renderNoTokenWarning=e._renderNoTokenWarning.bind(e),e}return function static_map_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(StaticMap,t),ft(StaticMap,null,[{key:"supported",value:function supported(){return ct.a&&ct.a.supported()}}]),ft(StaticMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new ot(this.props)}}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props.mapStyle;this._mapbox=new ct.a(Object.assign({},this.props,{container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:isMap(t)?t.toJS():t})),this._map=this._mapbox.getMap(),this._updateQueryParams(t)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(t){this._mapbox.setProps(t),this._updateMapStyle(this.props,t),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function getMap(){return this._map}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(t,e){var n=e||this._queryParams;return n.layers&&0===n.layers.length?[]:this._map.queryRenderedFeatures(t,n)}},{key:"_updateQueryParams",value:function _updateQueryParams(t){var e=function getInteractiveLayerIds(t){var e=null;return isMap(t)&&t.has("layers")?e=t.get("layers").filter((function(t){return t.get("interactive")})).map((function(t){return t.get("id")})).toJS():Array.isArray(t.layers)&&(e=t.layers.filter((function(t){return t.interactive})).map((function(t){return t.id}))),e}(t);this._queryParams={layers:e}}},{key:"_updateMapSize",value:function _updateMapSize(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function _updateMapStyle(t,e){var n=e.mapStyle,r=t.mapStyle;n!==r&&(isMap(n)?this.props.preventStyleDiffing?this._map.setStyle(n.toJS()):setDiffStyle(r,n,this._map):this._map.setStyle(n),this._updateQueryParams(n))}},{key:"_mapboxMapLoaded",value:function _mapboxMapLoaded(t){this._mapboxMap=t}},{key:"_mapboxMapError",value:function _mapboxMapError(t){401!==(t.error&&t.error.status||t.status)||this.state.accessTokenInvalid||(console.error(pt),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function _renderNoTokenWarning(){if(this.state.accessTokenInvalid){return Object(r.createElement)("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},[Object(r.createElement)("h3",{key:"header"},pt),Object(r.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(r.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")])}return null}},{key:"render",value:function render(){var t=this.props,e=t.className,n=t.width,i=t.height,o=t.style,a=t.visible,s=Object.assign({},o,{width:n,height:i,position:"relative"}),u=Object.assign({},o,{width:n,height:i,visibility:a?"visible":"hidden"}),l={position:"absolute",left:0,top:0,width:n,height:i,overflow:"hidden"};return Object(r.createElement)("div",{key:"map-container",style:s,children:[Object(r.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:u,className:e}),Object(r.createElement)("div",{key:"map-overlays",className:"overlays",style:l,children:this.props.children}),this._renderNoTokenWarning()]})}}]),StaticMap}(r.PureComponent),mt=yt;yt.displayName="StaticMap",yt.propTypes=dt,yt.defaultProps=ht,yt.childContextTypes=gt;var vt=n(68),_t=n.n(vt),bt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},St=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Et={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},xt={pitch:0,bearing:0,altitude:1.5};function map_state_clamp(t,e,n){return t<e?e:t>n?n:t}var wt=function(){function MapState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.latitude,i=t.longitude,o=t.zoom,a=t.bearing,s=void 0===a?xt.bearing:a,u=t.pitch,l=void 0===u?xt.pitch:u,c=t.altitude,f=void 0===c?xt.altitude:c,p=t.maxZoom,d=void 0===p?Et.maxZoom:p,h=t.minZoom,g=void 0===h?Et.minZoom:h,y=t.maxPitch,m=void 0===y?Et.maxPitch:y,v=t.minPitch,_=void 0===v?Et.minPitch:v,b=t.transitionDuration,S=t.transitionEasing,E=t.transitionInterpolator,x=t.transitionInterruption,w=t.startPanLngLat,T=t.startZoomLngLat,P=t.startBearing,k=t.startPitch,C=t.startZoom;!function map_state_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MapState),_t()(Number.isFinite(e),"`width` must be supplied"),_t()(Number.isFinite(n),"`height` must be supplied"),_t()(Number.isFinite(i),"`longitude` must be supplied"),_t()(Number.isFinite(r),"`latitude` must be supplied"),_t()(Number.isFinite(o),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:e,height:n,latitude:r,longitude:i,zoom:o,bearing:s,pitch:l,altitude:f,maxZoom:d,minZoom:g,maxPitch:m,minPitch:_,transitionDuration:b,transitionEasing:S,transitionInterpolator:E,transitionInterruption:x}),this._interactiveState={startPanLngLat:w,startZoomLngLat:T,startBearing:P,startPitch:k,startZoom:C}}return St(MapState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function pan(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),o=bt(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function rotateStart(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function rotate(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function zoomStart(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function zoom(t){var e=t.pos,n=t.startPos,r=t.scale;_t()(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),_t()(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var zoom=this._calculateNewZoom({scale:r,startZoom:o}),s=new ot(Object.assign({},this._viewportProps,{zoom:zoom})).getLocationAtPoint({lngLat:a,pos:e}),u=bt(s,2),l=u[0],c=u[1];return this._getUpdatedMapState({zoom:zoom,longitude:l,latitude:c})}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function _getUpdatedMapState(t){return new MapState(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function _applyConstraints(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=map_state_clamp(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=map_state_clamp(a,o,i),Object.assign(t,function normalizeViewportProps(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,l=void 0===u?0:u;(-180>r||180<r)&&(r=mod(r+180,360)-180),(-180>l||180<l)&&(l=mod(l+180,360)-180);var c=new ot({width:e,height:n,longitude:r,latitude:i,zoom:o}),f=c.project([r,at])[1],p=c.project([r,st])[1],d=0;return p-f<n&&(o+=Math.log2(n/(p-f)),f=(c=new ot({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,at])[1],p=c.project([r,st])[1]),0<f?d=f:p<n&&(d=p-n),d&&(i=c.unproject([e/2,n/2+d])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:l}}(t)),t}},{key:"_unproject",value:function _unproject(t){var e=new ot(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function _calculateNewLngLat(t){var e=t.startPanLngLat,n=t.pos;return new ot(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function _calculateNewZoom(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return map_state_clamp(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function _calculateNewPitchAndBearing(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=map_state_clamp(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*e}}}]),MapState}(),Tt=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Pt=function(){function TransitionInterpolator(){!function transition_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionInterpolator)}return Tt(TransitionInterpolator,[{key:"arePropsEqual",value:function arePropsEqual(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!common_equals(t[s],e[s]))return!1}}catch(u){r=!0,i=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function initializeProps(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function interpolateProps(t,e,n){_t()(!1,"interpolateProps is not implemented")}}]),TransitionInterpolator}(),kt={longitude:1,bearing:1};function transition_utils_lerp(t,e,n){return Array.isArray(t)?t.map((function(t,r){return transition_utils_lerp(t,e[r],n)})):n*e+(1-n)*t}function isValid(t){return Number.isFinite(t)||Array.isArray(t)}function getEndValueByShortestPath(t,e,n){return function isWrappedAngularProp(t){return kt[t]}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}var Ct=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Dt=["longitude","latitude","zoom","bearing","pitch"],At=["latitude","longitude","zoom","width","height"],Rt=["bearing","pitch"],Mt=(function(t){function ViewportFlyToInterpolator(){!function viewport_fly_to_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ViewportFlyToInterpolator);var t=function viewport_fly_to_interpolator_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(ViewportFlyToInterpolator.__proto__||Object.getPrototypeOf(ViewportFlyToInterpolator)).call(this));return t.propNames=Dt,t}(function viewport_fly_to_interpolator_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(ViewportFlyToInterpolator,t),Ct(ViewportFlyToInterpolator,[{key:"initializeProps",value:function initializeProps(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=At[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=t[l],f=e[l];_t()(isValid(c)&&isValid(f),l+" must be supplied for transition"),n[l]=c,r[l]=getEndValueByShortestPath(l,c,f)}}catch(b){o=!0,a=b}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var p=!0,d=!1,h=void 0;try{for(var g,y=Rt[Symbol.iterator]();!(p=(g=y.next()).done);p=!0){var m=g.value,v=t[m]||0,_=e[m]||0;n[m]=v,r[m]=getEndValueByShortestPath(m,v,_)}}catch(b){d=!0,h=b}finally{try{!p&&y.return&&y.return()}finally{if(d)throw h}}return{start:n,end:r}}},{key:"interpolateProps",value:function interpolateProps(t,e,n){var r=function flyToViewport(t,e,n){var r,i=Math.cosh,o=Math.log,a=Math.sqrt,s={},u=t.zoom,l=[t.longitude,t.latitude],c=zoomToScale(u),f=e.zoom,p=[e.longitude,e.latitude],h=zoomToScale(f-u),g=new d(lngLatToWorld(l,c)),y=new d(lngLatToWorld(p,c)).subtract(g),m=Math.max(t.width,t.height),v=m/h,_=a(y.x*y.x+y.y*y.y);if(Math.abs(_)<ut){for(var b=0;b<lt.length;b++){var S=lt[b],E=t[S],x=e[S];s[S]=(r=n)*x+(1-r)*E}return s}var w=1.414*1.414,T=(v*v-m*m+w*w*_*_)/(2*m*w*_),P=(v*v-m*m-w*w*_*_)/(2*v*w*_),k=o(a(T*T+1)-T),C=n*((o(a(P*P+1)-P)-k)/1.414),D=i(k)/i(k+1.414*C),A=m*((i(k)*Math.tanh(k+1.414*C)-Math.sinh(k))/w)/_,R=1/D,M=u+scaleToZoom(R),L=worldToLngLat(g.add(y.scale(A)).scale(R),zoomToScale(M));return s.longitude=L[0],s.latitude=L[1],s.zoom=M,s}(t,e,n),i=!0,o=!1,a=void 0;try{for(var s,u=Rt[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=transition_utils_lerp(t[l],e[l],n)}}catch(c){o=!0,a=c}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}])}(Pt),function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}());var Lt=["longitude","latitude","zoom","bearing","pitch"],It=function(t){function LinearInterpolator(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;!function linear_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LinearInterpolator);var e=function linear_interpolator_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(LinearInterpolator.__proto__||Object.getPrototypeOf(LinearInterpolator)).call(this));return e.propNames=t,e}return function linear_interpolator_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(LinearInterpolator,t),Mt(LinearInterpolator,[{key:"initializeProps",value:function initializeProps(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=t[l],f=e[l];_t()(isValid(c)&&isValid(f),l+" must be supplied for transition"),n[l]=c,r[l]=getEndValueByShortestPath(l,c,f)}}catch(p){o=!0,a=p}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{start:n,end:r}}},{key:"interpolateProps",value:function interpolateProps(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=transition_utils_lerp(t[l],e[l],n)}}catch(c){o=!0,a=c}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}]),LinearInterpolator}(Pt),Ot=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Ft=function noop(){},Nt=1,Bt=2,Ut=3,zt={transitionDuration:0,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new It,transitionInterruption:Nt,onTransitionStart:Ft,onTransitionInterrupt:Ft,onTransitionEnd:Ft},jt={animation:null,propsInTransition:null,startProps:null,endProps:null},Vt=function(){function TransitionManager(t){!function transition_manager_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionManager),this.props=t,this.state=jt,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return Ot(TransitionManager,[{key:"getViewportInTransition",value:function getViewportInTransition(){return this.state.propsInTransition}},{key:"processViewportChange",value:function processViewportChange(t){var e=!1,n=this.props;if(this.props=t,this._shouldIgnoreViewportChange(n,t))return e;var r=this._isTransitionInProgress();if(this._isTransitionEnabled(t)){var i=Object.assign({},n,this.state.interruption===Bt?this.state.endProps:this.state.propsInTransition);r&&n.onTransitionInterrupt(),t.onTransitionStart(),this._triggerTransition(i,t),e=!0}else r&&(n.onTransitionInterrupt(),this._endTransition());return e}},{key:"_isTransitionInProgress",value:function _isTransitionInProgress(){return Boolean(this.state.propsInTransition)}},{key:"_isTransitionEnabled",value:function _isTransitionEnabled(t){return t.transitionDuration>0&&Boolean(t.transitionInterpolator)}},{key:"_isUpdateDueToCurrentTransition",value:function _isUpdateDueToCurrentTransition(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function _shouldIgnoreViewportChange(t,e){return this._isTransitionInProgress()?this.state.interruption===Ut||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e)}},{key:"_triggerTransition",value:function _triggerTransition(t,e){_t()(this._isTransitionEnabled(e),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var n=e.transitionInterpolator.initializeProps(t,e);this.state={duration:e.transitionDuration,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:Date.now(),startProps:n.start,endProps:n.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function _onTransitionFrame(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function _endTransition(){cancelAnimationFrame(this.state.animation),this.state=jt}},{key:"_updateViewport",value:function _updateViewport(){var t=Date.now(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,l=(t-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),f=new wt(Object.assign({},this.props,c));this.state.propsInTransition=f.getViewportProps();var p=this.props.onViewportChange||this.props.onChangeViewport;p&&p(this.state.propsInTransition),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),TransitionManager}(),Gt=Vt;Vt.defaultProps=zt;var Wt=n(120),qt=1,Ht=2,Kt=4,Yt={mousedown:qt,mousemove:Ht,mouseup:Kt};var Xt=void 0;Wt.isBrowser&&(Xt=n(982)),Xt&&(!function enhancePointerEventInput(t){var e=t.prototype.handler;t.prototype.handler=function handler(t){var n=this.store;t.button>0&&(function some(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(n,(function(e){return e.pointerId===t.pointerId}))||n.push(t)),e.call(this,t)}}(Xt.PointerEventInput),function enhanceMouseInput(t){t.prototype.handler=function handler(t){var e=Yt[t.type];e&qt&&t.button>=0&&(this.pressed=!0),e&Ht&&0===t.which&&(e=Kt),this.pressed&&(e&Kt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(Xt.MouseInput));var Zt=Xt?Xt.Manager:function HammerManagerMock(t){var e={},n=function chainedNoop(){return e};return e.get=function(){return null},e.set=n,e.on=n,e.off=n,e.destroy=n,e.emit=n,e},$t=Xt,Jt=$t?[[$t.Rotate,{enable:!1}],[$t.Pinch,{enable:!1}],[$t.Swipe,{enable:!1}],[$t.Pan,{threshold:0,enable:!1}],[$t.Press,{enable:!1}],[$t.Tap,{event:"doubletap",taps:2,enable:!1}],[$t.Tap,{enable:!1}]]:null,Qt={rotate:["pinch"]},te={doubletap:["tap"]},ee={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},ne=["keydown","keyup"],re=["mousedown","mousemove","mouseup","mouseleave"],ie=["wheel","mousewheel","DOMMouseScroll"],oe={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},ae={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"},se=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var ue=-1!==Wt.userAgent.indexOf("firefox"),le=ie,ce=function(){function WheelInput(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function wheel_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WheelInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},r),this.events=le.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return se(WheelInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function handleEvent(t){if(this.options.enable){this.options.legacyBlockScroll&&t.preventDefault();var e=t.deltaY;Wt.window.WheelEvent&&(ue&&t.deltaMode===Wt.window.WheelEvent.DOM_DELTA_PIXEL&&(e/=Wt.window.devicePixelRatio),t.deltaMode===Wt.window.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%4.000244140625===0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function _onWheel(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),WheelInput}(),fe=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var pe=re,de=function(){function MoveInput(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function move_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MoveInput),this.element=t,this.callback=e,this.pressed=!1,this.options=Object.assign({enable:!0},r),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=pe.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return fe(MoveInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function handleEvent(t){if(this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target}),this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),MoveInput}(),he=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var ge=ne,ye=function(){function KeyInput(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function key_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,KeyInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},r),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=ge.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=1,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return he(KeyInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function handleEvent(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),KeyInput}(),me=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var ve=function(){function ContextmenuInput(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function contextmenu_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ContextmenuInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},n),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return me(ContextmenuInput,[{key:"destroy",value:function destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"handleEvent",value:function handleEvent(t){this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target}),this.options.rightButton&&t.preventDefault()}}]),ContextmenuInput}(),_e=1,be=2,Se=4,Ee={pointerdown:_e,pointermove:be,pointerup:Se,mousedown:_e,mousemove:be,mouseup:Se},xe=1,we=2,Te=3,Pe=0,ke=1,Ce=2,De=1,Ae=2,Re=4;var Me=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Le={events:null,recognizers:null,Manager:Zt,rightButton:!1,touchAction:"none",legacyBlockScroll:!0},Ie=function(){function EventManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function event_manager_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,EventManager),this.options=Object.assign({},Le,e),this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var n=e.events;n&&this.on(n)}return Me(EventManager,[{key:"setElement",value:function setElement(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Jt}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Qt).forEach((function(t){var n=e.manager.get(t);n&&Qt[t].forEach((function(t){n.recognizeWith(t)}))})),this.wheelInput=new ce(t,this._onOtherEvent,{enable:!1,legacyBlockScroll:n.legacyBlockScroll}),this.moveInput=new de(t,this._onOtherEvent,{enable:!1}),this.keyInput=new ye(t,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new ve(t,this._onOtherEvent,{rightButton:n.rightButton}),this.eventHandlers.forEach((function(t){var n=t.recognizerName,r=t.eventAlias,i=t.wrappedHandler;e._toggleRecognizer(n,!0),e.manager.on(r,i)}))}}},{key:"destroy",value:function destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function on(t,e,n){if("string"===typeof t)this._addEventHandler(t,e,n);else for(var r in n=e,t)this._addEventHandler(r,t[r],n)}},{key:"off",value:function off(t,e){if("string"===typeof t)this._removeEventHandler(t,e);else for(var n in t)this._removeEventHandler(n,t[n])}},{key:"_toggleRecognizer",value:function _toggleRecognizer(t,e){var n=this.manager;if(n){var r=n.get(t);if(r){r.set({enable:e});var i=te[t];i&&!this.options.recognizers&&i.forEach((function(r){var i=n.get(r);e?i.requireFailure(t):i.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function _addEventHandler(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.manager,i=this.eventHandlers,o=this._wrapEventHandler(t,e,n),a=ae[t]||t,s=oe[a]||a;this._toggleRecognizer(s,!0);var u=i.filter((function(t){return t.eventAlias===a&&t.srcElement!==n&&(!t.srcElement||t.srcElement.contains(n))}));i.push({event:t,eventAlias:a,recognizerName:s,srcElement:n,handler:e,wrappedHandler:o}),u.forEach((function(t){return r.off(a,t.wrappedHandler)})),r&&r.on(a,o),u.forEach((function(t){return r.on(a,t.wrappedHandler)}))}},{key:"_removeEventHandler",value:function _removeEventHandler(t,e){for(var n=this.manager,r=this.eventHandlers,i=!1,o=r.length;o--;){var a=r[o];a.event===t&&a.handler===e&&(n&&n.off(a.eventAlias,a.wrappedHandler),r.splice(o,1),i=!0)}if(i){var s=ae[t]||t,u=oe[s]||s;r.find((function(t){return t.recognizerName===u}))||this._toggleRecognizer(u,!1)}}},{key:"_wrapEventHandler",value:function _wrapEventHandler(t,e,n){var r=this;return function(i){var o=i.mjolnirEvent;(o||(o=r._normalizeEvent(i),i.mjolnirEvent=o),o.handled&&o.handled!==n)||(!n||n.contains(i.srcEvent.target))&&e(Object.assign({},o,{type:t,stopPropagation:function stopPropagation(){o.handled||(o.handled=n)}}))}}},{key:"_normalizeEvent",value:function _normalizeEvent(t){var e=this.element;return Object.assign({},t,function whichButtons(t){var e=Ee[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return e===Se||e===be&&!Number.isFinite(r)?(a=o===xe,s=o===we,u=o===Te):e===be?(a=Boolean(r&De),s=Boolean(r&Re),u=Boolean(r&Ae)):e===_e&&(a=i===Pe,s=i===ke,u=i===Ce),{leftButton:a,middleButton:s,rightButton:u}}(t),function getOffsetPosition(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}},{key:"_onBasicInput",value:function _onBasicInput(t){var e=t.srcEvent,n=ee[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function _onOtherEvent(t){this.manager.emit(t.type,t)}}]),EventManager}(),Oe=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Fe=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Ne={transitionDuration:0},Be={transitionDuration:300,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new It,transitionInterruption:Nt},Ue=["wheel"],ze=["panstart","panmove","panend"],je=["pinchstart","pinchmove","pinchend"],Ve=["doubletap"],Ge=["keydown"],We=function(){function MapControls(){!function map_controls_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MapControls),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}return Fe(MapControls,[{key:"handleEvent",value:function handleEvent(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function getCenter(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function isFunctionKeyPressed(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"setState",value:function setState(t){Object.assign(this._state,t),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function updateViewport(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e);this.onViewportChange&&Object.keys(i).some((function(t){return r[t]!==i[t]}))&&this.onViewportChange(i),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function getMapState(t){return new wt(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function setOptions(t){var e=t.onChangeViewport,n=t.touchZoomRotate,r=void 0===n||n,i=t.onViewportChange,o=t.onStateChange,a=void 0===o?this.onStateChange:o,s=t.eventManager,u=void 0===s?this.eventManager:s,l=t.scrollZoom,c=void 0===l||l,f=t.dragPan,p=void 0===f||f,d=t.dragRotate,h=void 0===d||d,g=t.doubleClickZoom,y=void 0===g||g,m=t.touchZoom,v=void 0===m||m,_=t.touchRotate,b=void 0!==_&&_,S=t.keyboard,E=void 0===S||S;this.onViewportChange=i||e,this.onStateChange=a,this.mapStateProps&&this.mapStateProps.height!==t.height&&this.updateViewport(new wt(t)),this.mapStateProps=t,this.eventManager!==u&&(this.eventManager=u,this._events={},this.toggleEvents(this.events,!0));var x=Boolean(this.onViewportChange);this.toggleEvents(Ue,x&&c),this.toggleEvents(ze,x&&(p||h)),this.toggleEvents(je,x&&r),this.toggleEvents(Ve,x&&y),this.toggleEvents(Ge,x&&E),this.scrollZoom=c,this.dragPan=p,this.dragRotate=h,this.doubleClickZoom=y,this.touchZoom=r&&v,this.touchRotate=r&&b,this.keyboard=E}},{key:"toggleEvents",value:function toggleEvents(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function _onPanStart(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,Ne,{isDragging:!0})}},{key:"_onPan",value:function _onPan(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function _onPanEnd(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1})}},{key:"_onPanMove",value:function _onPanMove(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,Ne,{isDragging:!0})}},{key:"_onPanRotate",value:function _onPanRotate(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=this.getCenter(t),i=Oe(r,2)[1],o=i-n,a=this.mapState.getViewportProps(),s=a.width,u=a.height,l=e/s,c=0;n>0?Math.abs(u-o)>5&&(c=n/(o-u)*1.2):n<0&&o>5&&(c=1-i/o),c=Math.min(1,Math.max(-1,c));var f=this.mapState.rotate({deltaScaleX:l,deltaScaleY:c});return this.updateViewport(f,Ne,{isDragging:!0})}},{key:"_onWheel",value:function _onWheel(t){if(!this.scrollZoom)return!1;t.srcEvent.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,Ne)}},{key:"_onPinchStart",value:function _onPinchStart(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,Ne,{isDragging:!0})}},{key:"_onPinch",value:function _onPinch(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,Ne,{isDragging:!0})}},{key:"_onPinchEnd",value:function _onPinchEnd(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function _onDoubleTap(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Be)}},{key:"_onKeyDown",value:function _onKeyDown(t){if(!this.keyboard)return!1;var e=this.isFunctionKeyPressed(t),n=this.mapStateProps,r=void 0;switch(t.srcEvent.keyCode){case 189:r=e?this.getMapState({zoom:n.zoom-2}):this.getMapState({zoom:n.zoom-1});break;case 187:r=e?this.getMapState({zoom:n.zoom+2}):this.getMapState({zoom:n.zoom+1});break;case 37:r=e?this.getMapState({bearing:n.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:r=e?this.getMapState({bearing:n.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:r=e?this.getMapState({pitch:n.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:r=e?this.getMapState({pitch:n.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(r,Be)}}]),MapControls}(),qe=n(225),He=n.n(qe),Ke=He.a.webkit||He.a.blink?"-webkit-":He.a.gecko?"-moz-":"",Ye={DEFAULTS:{},CURSOR:{GRABBING:Ke+"grabbing",GRAB:Ke+"grab",POINTER:"pointer"}},Xe=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}];function checkDeprecatedProps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=function getDeprecatedText(t){return"react-map-gl: `"+t+"` is deprecated and will be removed in a later version."}(e.old);e.new&&(n=n+" "+function getNewText(t){return"Use `"+t+"` instead."}(e.new)),console.warn(n)}}))}var Ze=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var $e=Object.assign({},mt.propTypes,{maxZoom:o.a.number,minZoom:o.a.number,maxPitch:o.a.number,minPitch:o.a.number,onViewportChange:o.a.func,transitionDuration:o.a.number,transitionInterpolator:o.a.object,transitionInterruption:o.a.number,transitionEasing:o.a.func,onTransitionStart:o.a.func,onTransitionInterrupt:o.a.func,onTransitionEnd:o.a.func,scrollZoom:o.a.bool,dragPan:o.a.bool,dragRotate:o.a.bool,doubleClickZoom:o.a.bool,touchZoom:o.a.bool,touchRotate:o.a.bool,keyboard:o.a.bool,onHover:o.a.func,onClick:o.a.func,onContextMenu:o.a.func,touchAction:o.a.string,clickRadius:o.a.number,getCursor:o.a.func,visibilityConstraints:o.a.shape({minZoom:o.a.number,maxZoom:o.a.number,minPitch:o.a.number,maxPitch:o.a.number}),mapControls:o.a.shape({events:o.a.arrayOf(o.a.string),handleEvent:o.a.func})}),Je=Object.assign({},mt.defaultProps,Et,Gt.defaultProps,{onViewportChange:null,onClick:null,onHover:null,onContextMenu:function onContextMenu(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchAction:"none",clickRadius:0,getCursor:function getDefaultCursor(t){var e=t.isDragging,n=t.isHovering;return e?Ye.CURSOR.GRABBING:n?Ye.CURSOR.POINTER:Ye.CURSOR.GRAB},visibilityConstraints:Et}),Qe={viewport:o.a.instanceOf(ot),isDragging:o.a.bool,eventManager:o.a.object},tn=function(t){function InteractiveMap(t){!function interactive_map_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InteractiveMap);var e=function interactive_map_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(InteractiveMap.__proto__||Object.getPrototypeOf(InteractiveMap)).call(this,t));return checkDeprecatedProps(t),e.state={isDragging:!1,isHovering:!1},e._mapControls=t.mapControls||new We,e._eventManager=new Ie(null,{legacyBlockScroll:!1,touchAction:t.touchAction}),e.getMap=e.getMap.bind(e),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(e),e._checkVisibilityConstraints=e._checkVisibilityConstraints.bind(e),e._getFeatures=e._getFeatures.bind(e),e._onInteractiveStateChange=e._onInteractiveStateChange.bind(e),e._getPos=e._getPos.bind(e),e._eventCanvasLoaded=e._eventCanvasLoaded.bind(e),e._staticMapLoaded=e._staticMapLoaded.bind(e),e}return function interactive_map_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(InteractiveMap,t),Ze(InteractiveMap,null,[{key:"supported",value:function supported(){return mt.supported()}}]),Ze(InteractiveMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new ot(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function componentDidMount(){var t=this._eventManager;t.on({mousemove:this._onMouseMove.bind(this),click:this._onMouseClick.bind(this),contextmenu:this._onContextMenu.bind(this)}),this._mapControls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange,eventManager:t})),this._transitionManager=new Gt(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(t){this._mapControls.setOptions(t),this._transitionManager.processViewportChange(t)}},{key:"getMap",value:function getMap(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(t,e){return this._map.queryRenderedFeatures(t,e)}},{key:"_checkVisibilityConstraints",value:function _checkVisibilityConstraints(t){var e=function capitalize(t){return t[0].toUpperCase()+t.slice(1)},n=t.visibilityConstraints;for(var r in t){var i=e(r),o="min"+i,a="max"+i;if(o in n&&t[r]<n[o])return!1;if(a in n&&t[r]>n[a])return!1}return!0}},{key:"_getFeatures",value:function _getFeatures(t){var e=t.pos,n=t.radius,r=void 0;if(n){var i=n,o=[[e[0]-i,e[1]+i],[e[0]+i,e[1]-i]];r=this._map.queryRenderedFeatures(o)}else r=this._map.queryRenderedFeatures(e);return r}},{key:"_onInteractiveStateChange",value:function _onInteractiveStateChange(t){var e=t.isDragging,n=void 0!==e&&e;n!==this.state.isDragging&&this.setState({isDragging:n})}},{key:"_getPos",value:function _getPos(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_onMouseMove",value:function _onMouseMove(t){if(!this.state.isDragging){var e=this._getPos(t),n=this._getFeatures({pos:e,radius:this.props.clickRadius}),r=n&&n.length>0;if(r!==this.state.isHovering&&this.setState({isHovering:r}),this.props.onHover){var i=new ot(this.props);t.lngLat=i.unproject(e),t.features=n,this.props.onHover(t)}}}},{key:"_onMouseClick",value:function _onMouseClick(t){if(this.props.onClick){var e=this._getPos(t),n=new ot(this.props);t.lngLat=n.unproject(e),t.features=this._getFeatures({pos:e,radius:this.props.clickRadius}),this.props.onClick(t)}}},{key:"_onContextMenu",value:function _onContextMenu(t){this.props.onContextMenu&&this.props.onContextMenu(t)}},{key:"_eventCanvasLoaded",value:function _eventCanvasLoaded(t){this._eventManager.setElement(t)}},{key:"_staticMapLoaded",value:function _staticMapLoaded(t){this._map=t}},{key:"render",value:function render(){var t=this.props,e={width:t.width,height:t.height,position:"relative",cursor:(0,t.getCursor)(this.state)};return Object(r.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:e},Object(r.createElement)(mt,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{visible:this._checkVisibilityConstraints(this.props),ref:this._staticMapLoaded,children:this.props.children})))}}]),InteractiveMap}(r.PureComponent),en=tn;tn.displayName="InteractiveMap",tn.propTypes=$e,tn.defaultProps=Je,tn.childContextTypes=Qe;var nn=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var rn={captureScroll:o.a.bool,captureDrag:o.a.bool,captureClick:o.a.bool,captureDoubleClick:o.a.bool},on={viewport:o.a.instanceOf(ot),isDragging:o.a.bool,eventManager:o.a.object},an=function(t){function BaseControl(t){!function base_control_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,BaseControl);var e=function base_control_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(BaseControl.__proto__||Object.getPrototypeOf(BaseControl)).call(this,t));return e._events=null,e._onContainerLoad=e._onContainerLoad.bind(e),e}return function base_control_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(BaseControl,t),nn(BaseControl,[{key:"_onContainerLoad",value:function _onContainerLoad(t){var e=this.context.eventManager;if(e){var n=this._events;n&&(e.off(n),n=null),t&&(n={wheel:this._onScroll.bind(this),panstart:this._onDrag.bind(this),click:this._onClick.bind(this),dblclick:this._onDoubleClick.bind(this)},e.on(n,t)),this._events=n}}},{key:"_onScroll",value:function _onScroll(t){this.props.captureScroll&&t.stopPropagation()}},{key:"_onDrag",value:function _onDrag(t){this.props.captureDrag&&t.stopPropagation()}},{key:"_onClick",value:function _onClick(t){this.props.captureClick&&t.stopPropagation()}},{key:"_onDoubleClick",value:function _onDoubleClick(t){this.props.captureDoubleClick&&t.stopPropagation()}},{key:"render",value:function render(){return null}}]),BaseControl}(r.Component),sn=an;an.propTypes=rn,an.defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},an.contextTypes=on;var un=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ln=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var cn=Object.assign({},sn.propTypes,{className:o.a.string,longitude:o.a.number.isRequired,latitude:o.a.number.isRequired,offsetLeft:o.a.number,offsetTop:o.a.number}),fn=Object.assign({},sn.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),pn=function(t){function Marker(){return function marker_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Marker),function marker_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(Marker.__proto__||Object.getPrototypeOf(Marker)).apply(this,arguments))}return function marker_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Marker,t),ln(Marker,[{key:"render",value:function render(){var t=this.props,e=t.className,n=t.longitude,i=t.latitude,o=t.offsetLeft,a=t.offsetTop,s=this.context.viewport.project([n,i]),u=un(s,2),l={position:"absolute",left:u[0]+o,top:u[1]+a};return Object(r.createElement)("div",{className:"mapboxgl-marker "+e,ref:this._onContainerLoad,style:l,children:this.props.children})}}]),Marker}(sn);pn.displayName="Marker",pn.propTypes=cn,pn.defaultProps=fn;var dn={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}};var hn=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},gn=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var yn=Object.assign({},sn.propTypes,{className:o.a.string,longitude:o.a.number.isRequired,latitude:o.a.number.isRequired,offsetLeft:o.a.number,offsetTop:o.a.number,tipSize:o.a.number,closeButton:o.a.bool,closeOnClick:o.a.bool,anchor:o.a.oneOf(Object.keys(dn)),dynamicPosition:o.a.bool,onClose:o.a.func}),mn=Object.assign({},sn.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function onClose(){}}),vn=function(t){function Popup(t){!function popup_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Popup);var e=function popup_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(Popup.__proto__||Object.getPrototypeOf(Popup)).call(this,t));return e._getPosition=e._getPosition.bind(e),e._onClose=e._onClose.bind(e),e._contentLoaded=e._contentLoaded.bind(e),e._renderTip=e._renderTip.bind(e),e._renderContent=e._renderContent.bind(e),e._closeOnClick=!1,e}return function popup_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Popup,t),gn(Popup,[{key:"componentDidMount",value:function componentDidMount(){this.forceUpdate()}},{key:"_getPosition",value:function _getPosition(t,e){var n=this.context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize;return this._content&&o?function getDynamicPosition(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,l=void 0===u?0:u,c=dn[s],f=c.x,p=c.y,d=n-p*a,h=d+a;if(d<l)for(;d<l&&p>=.5;)p-=.5,d+=.5*a;else if(h>i-l)for(;h>i-l&&p<=.5;)p+=.5,h-=.5*a;var g=e-f*o,y=g+o,m=.5;if(.5===p&&(f=Math.floor(f),m=1),g<l)for(;g<l&&f>=m;)f-=m,g+=m*o;else if(y>r-l)for(;y>r-l&&f<=1-m;)f+=m,y-=m*o;return Object.keys(dn).find((function(t){var e=dn[t];return e.x===f&&e.y===p}))}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):i}},{key:"_onClick",value:function _onClick(t){this.props.captureClick&&t.stopPropagation(),(this.props.closeOnClick||this._closeOnClick)&&this.props.onClose()}},{key:"_onClose",value:function _onClose(){this._closeOnClick=!0}},{key:"_contentLoaded",value:function _contentLoaded(t){this._content=t}},{key:"_renderTip",value:function _renderTip(){var t=this.props.tipSize;return Object(r.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function _renderContent(){var t=this.props,e=t.closeButton,n=t.children;return Object(r.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[e&&Object(r.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},"\xd7"),n])}},{key:"render",value:function render(){var t=this.props,e=t.className,n=t.longitude,i=t.latitude,o=t.offsetLeft,a=t.offsetTop,s=this.context.viewport.project([n,i]),u=hn(s,2),l=u[0],c=u[1],f=this._getPosition(l,c),p=dn[f],d={position:"absolute",left:l+o,top:c+a,transform:"translate("+100*-p.x+"%, "+100*-p.y+"%)"};return Object(r.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-"+f+" "+e,style:d,ref:this._onContainerLoad},[this._renderTip(),this._renderContent()])}}]),Popup}(sn);vn.displayName="Popup",vn.propTypes=yn,vn.defaultProps=mn;var _n=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var bn=Object.assign({},Gt.defaultProps,{transitionDuration:300}),Sn=Object.assign({},sn.propTypes,{className:o.a.string,onViewportChange:o.a.func.isRequired,showCompass:o.a.bool,showZoom:o.a.bool}),En=Object.assign({},sn.defaultProps,{className:"",onViewportChange:function onViewportChange(){},showCompass:!0,showZoom:!0}),xn=function(t){function NavigationControl(t){!function navigation_control_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NavigationControl);var e=function navigation_control_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(NavigationControl.__proto__||Object.getPrototypeOf(NavigationControl)).call(this,t));return checkDeprecatedProps(t),e._updateViewport=e._updateViewport.bind(e),e._onZoomIn=e._onZoomIn.bind(e),e._onZoomOut=e._onZoomOut.bind(e),e._onResetNorth=e._onResetNorth.bind(e),e._renderCompass=e._renderCompass.bind(e),e._renderButton=e._renderButton.bind(e),e}return function navigation_control_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(NavigationControl,t),_n(NavigationControl,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t,e,n){return this.context.viewport.bearing!==n.viewport.bearing}},{key:"_updateViewport",value:function _updateViewport(t){var e=this.context.viewport,n=new wt(Object.assign({},e,t));(this.props.onChangeViewport||this.props.onViewportChange)(Object.assign({},n.getViewportProps(),bn))}},{key:"_onZoomIn",value:function _onZoomIn(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function _onZoomOut(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function _onResetNorth(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function _renderCompass(){var t=this.context.viewport.bearing;return Object(r.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate("+t+"deg)"}})}},{key:"_renderButton",value:function _renderButton(t,e,n,i){return Object(r.createElement)("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-"+t,type:"button",title:e,onClick:n,children:i})}},{key:"render",value:function render(){var t=this.props,e=t.className,n=t.showCompass,i=t.showZoom;return Object(r.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group "+e,ref:this._onContainerLoad},[i&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),i&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),n&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}]),NavigationControl}(sn);xn.displayName="NavigationControl",xn.propTypes=Sn,xn.defaultProps=En;var wn=n(304),Tn=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Pn=Object.assign({},sn.propTypes,{redraw:o.a.func.isRequired}),kn=function(t){function CanvasOverlay(t){!function canvas_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,CanvasOverlay);var e=function canvas_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(CanvasOverlay.__proto__||Object.getPrototypeOf(CanvasOverlay)).call(this,t));return e._redraw=e._redraw.bind(e),e._canvasLoaded=e._canvasLoaded.bind(e),e}return function canvas_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(CanvasOverlay,t),Tn(CanvasOverlay,[{key:"componentDidMount",value:function componentDidMount(){this._redraw()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._redraw()}},{key:"_redraw",value:function _redraw(){var t=wn.window.devicePixelRatio||1,e=this._canvas.getContext("2d");e.save(),e.scale(t,t);var n=this.context,r=n.viewport,i=n.isDragging;this.props.redraw({width:r.width,height:r.height,ctx:e,isDragging:i,project:r.project.bind(r),unproject:r.unproject.bind(r)}),e.restore()}},{key:"_canvasLoaded",value:function _canvasLoaded(t){this._canvas=t,this._onContainerLoad(t)}},{key:"render",value:function render(){var t=wn.window.devicePixelRatio||1,e=this.context.viewport,n=e.width,i=e.height;return Object(r.createElement)("canvas",{ref:this._canvasLoaded,width:n*t,height:i*t,style:{width:n+"px",height:i+"px",position:"absolute",pointerEvents:"none",left:0,top:0}})}}]),CanvasOverlay}(sn);kn.displayName="CanvasOverlay",kn.propTypes=Pn,kn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var Cn=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Dn=Object.assign({},sn.propTypes,{redraw:o.a.func.isRequired,style:o.a.object}),An=function(t){function HTMLOverlay(){return function html_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,HTMLOverlay),function html_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(HTMLOverlay.__proto__||Object.getPrototypeOf(HTMLOverlay)).apply(this,arguments))}return function html_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(HTMLOverlay,t),Cn(HTMLOverlay,[{key:"render",value:function render(){var t=this.context,e=t.viewport,n=t.isDragging,i=Object.assign({position:"absolute",pointerEvents:"none",left:0,top:0,width:e.width,height:e.height},this.props.style);return Object(r.createElement)("div",{ref:this._onContainerLoad,style:i},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),HTMLOverlay}(sn);An.displayName="HTMLOverlay",An.propTypes=Dn,An.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var Rn=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var Mn=Object.assign({},sn.propTypes,{redraw:o.a.func.isRequired,style:o.a.object}),Ln=function(t){function SVGOverlay(){return function svg_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SVGOverlay),function svg_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(SVGOverlay.__proto__||Object.getPrototypeOf(SVGOverlay)).apply(this,arguments))}return function svg_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(SVGOverlay,t),Rn(SVGOverlay,[{key:"render",value:function render(){var t=this.context,e=t.viewport,n=t.isDragging,i=Object.assign({pointerEvents:"none",position:"absolute",left:0,top:0},this.props.style);return Object(r.createElement)("svg",{width:e.width,height:e.height,ref:this._onContainerLoad,style:i},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),SVGOverlay}(sn);Ln.displayName="SVGOverlay",Ln.propTypes=Mn,Ln.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},n.d(e,"b",(function(){return en})),n.d(e,"a",(function(){return It}))},function(t,e,n){"use strict";var r=function extendStatics(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function __extends(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var i=function __assign(){return(i=Object.assign||function __assign(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function __rest(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var o=n(29),a=n(0),s=n(436),u=n.n(s),l=n(119),c=n.n(l),f=n(62),p=n.n(f),d=n(204),h=n.n(d),g=n(124),y=n.n(g),m=n(60),v=n.n(m),_=n(205),b=n.n(_),S=n(207),E=n.n(S),x=n(206),w=n.n(x),T=n(8),P=n.n(T),k=n(3),C=n.n(k),D=n(224),A=n.n(D),R=n(105),M=n.n(R),L=n(70),I=n.n(L),O=n(208),F=n.n(O),N=n(18),B=n.n(N),U=n(300),z=n(55),j=n(168),V=n.n(j),G=n(75),W=n.n(G),q=n(147),H=n.n(q),K=n(117),Y=n.n(K),X=n(148),Z=n.n(X);n.d(e,"a",(function(){return ve}));var $=Object(a.createContext)(null),J=$.Consumer,Q=$.Provider,tt=J,et=(a.Component,function withUtils(){return function(t){var e=function WithUtils(e){return Object(a.createElement)(tt,null,(function(n){return function checkUtils(t){if(!t)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")}(n),Object(a.createElement)(t,i({utils:n},e))}))};return e.displayName="WithUtils("+(t.displayName||t.name)+")",e}}),nt=function getInitialDate(t){var e=t.utils,n=t.value,r=t.initialFocusedDate,i=n||r||e.date(),o=e.date(i);return e.isValid(o)?o:e.date()},rt=function(t){function BasePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={date:nt(e.props),isAccepted:!1},e.changeDate=function(t,n){return e.setState({date:t},n)},e.handleAcceptedChange=function(t,n){return e.setState({isAccepted:t},n)},e.handleClear=function(){return e.props.onChange(null)},e.handleAccept=function(){return e.props.onChange(e.state.date)},e.handleSetTodayDate=function(){return e.handleChange(e.props.utils.date(),!1)},e.handleTextFieldChange=function(t){var n=e.props.onChange;null===t?n(null):e.changeDate(t,(function(){return n(t)}))},e.pick12hOr24hFormat=function(t,n){var r=e.props,i=r.format,o=r.ampm;return i||(o?t:n)},e.handleChange=function(t,n){void 0===n&&(n=!0);var r=e.props,i=r.autoOk,o=r.onChange;e.changeDate(t,(function(){n&&i&&(o(t),e.handleAcceptedChange(!0,(function(){return e.handleAcceptedChange(!1)})))}))},e.handleDismiss=function(){e.setState({date:nt(e.props)})},e}return __extends(BasePicker,t),BasePicker.prototype.componentDidUpdate=function(t){var e=this.props,n=e.utils,r=e.value,i=e.initialFocusedDate;t.value===r&&t.utils.locale===n.locale&&t.initialFocusedDate===i||this.changeDate(nt(this.props))},BasePicker.prototype.render=function(){return this.props.children(i({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},BasePicker}(a.Component),it=et()(rt),ot=(Object(o.oneOfType)([o.object,o.string,o.number,Object(o.instanceOf)(Date)]),function(t){function Input(){return null!==t&&t.apply(this,arguments)||this}return __extends(Input,t),Input.prototype.render=function(){var t=this.props,e=t.inputRef,n=__rest(t,["inputRef"]);return this.props.mask?Object(a.createElement)(u.a,i({},n,{ref:e})):Object(a.createElement)("input",i({},n,{ref:e}))},Input.defaultProps={mask:void 0},Input}(a.PureComponent)),at=function getDisplayDate(t){var e=t.utils,n=t.value,r=t.format,i=t.invalidLabel,o=t.emptyLabel,a=t.labelFunc,s=null===n,u=e.date(n);return a?a(s?null:u,i):s?o:e.isValid(u)?e.format(u,r):i},st=function getError(t,e){var n=e.utils,r=e.maxDate,i=e.minDate,o=e.disablePast,a=e.disableFuture,s=e.maxDateMessage,u=e.minDateMessage,l=e.invalidDateMessage;return n.isValid(t)?r&&n.isAfter(t,n.endOfDay(n.date(r)))||a&&n.isAfter(t,n.endOfDay(n.date()))?s:i&&n.isBefore(t,n.startOfDay(n.date(i)))||o&&n.isBefore(t,n.startOfDay(n.date()))?u:"":n.isNull(t)?"":l},ut=function(t){function DateTextField(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=DateTextField.updateState(e.props),e.commitUpdates=function(t){var n=e.props,r=n.clearable,i=n.onClear,o=n.utils,a=n.format,s=n.onError;if(""!==t){var u=o.date(e.state.value),l=o.parse(t,a),c=st(l,e.props);e.setState({error:c,displayValue:t,value:c?l:u},(function(){c||o.isEqual(l,u)||e.props.onChange(l),c&&s&&s(l,c)}))}else null===e.props.value?e.setState(DateTextField.updateState(e.props)):r&&i&&i()},e.handleBlur=function(t){e.props.keyboard&&(t.preventDefault(),t.stopPropagation(),e.commitUpdates(t.target.value),e.props.onBlur&&e.props.onBlur(t))},e.handleChange=function(t){var n=e.props,r=n.utils,i=n.format,o=n.onInputChange,a=r.parse(t.target.value,i);o&&o(t),e.setState({displayValue:t.target.value,error:st(a,e.props)})},e.handleFocus=function(t){t.stopPropagation(),t.preventDefault(),e.props.keyboard||e.openPicker(t)},e.handleKeyPress=function(t){"Enter"===t.key&&(e.props.disableOpenOnEnter?e.commitUpdates(t.target.value):e.openPicker(t))},e.openPicker=function(t){var n=e.props,r=n.disabled,i=n.onClick;r||i(t)},e}return __extends(DateTextField,t),DateTextField.prototype.componentDidUpdate=function(t){this.props.utils.isEqual(this.props.value,t.value)&&t.format===this.props.format&&t.maxDate===this.props.maxDate&&t.minDate===this.props.minDate&&t.emptyLabel===this.props.emptyLabel&&t.utils===this.props.utils||this.setState(DateTextField.updateState(this.props))},DateTextField.prototype.render=function(){var t=this.props,e=t.adornmentPosition,n=(t.clearable,t.disabled),r=(t.disableFuture,t.disableOpenOnEnter,t.disablePast,t.emptyLabel,t.format,t.InputAdornmentProps),o=t.InputProps,s=(t.invalidDateMessage,t.invalidLabel,t.keyboard),u=t.keyboardIcon,l=(t.labelFunc,t.mask),f=(t.maxDate,t.maxDateMessage,t.minDate,t.minDateMessage,t.onBlur,t.onClear,t.onClick,t.pipe),d=t.TextFieldComponent,g=(t.utils,t.value,t.onInputChange,__rest(t,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","TextFieldComponent","utils","value","onInputChange"])),y=this.state,m=y.displayValue,v=y.error,_={inputComponent:ot,inputProps:{mask:s?l:null,pipe:s?f:null,readOnly:!s}};s&&(_[e+"Adornment"]=Object(a.createElement)(h.a,i({position:e},r),Object(a.createElement)(p.a,{disabled:n,onClick:this.openPicker},Object(a.createElement)(c.a,null," ",u," "))));var b=d,S=i({},_,o);return Object(a.createElement)(b,i({onClick:this.handleFocus,error:!!v,helperText:v,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:n,value:m},g,{onError:void 0,onChange:this.handleChange,InputProps:S}))},DateTextField.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:y.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0},DateTextField.updateState=function(t){return{value:t.value,displayValue:at(t),error:st(t.utils.date(t.value),t)}},DateTextField}(a.PureComponent),lt=et()(ut),ct={dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}},ft=function ModalDialog(t){var e,n=t.children,r=t.classes,o=t.onKeyDown,s=t.onAccept,u=t.onDismiss,l=t.onClear,c=t.onSetToday,f=t.okLabel,p=t.cancelLabel,d=t.clearLabel,h=t.todayLabel,g=t.dialogContentClassName,y=t.clearable,m=t.showTodayButton,_=__rest(t,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","dialogContentClassName","clearable","showTodayButton"]);return Object(a.createElement)(b.a,i({onClose:u,classes:{paper:r.dialogRoot},role:"dialog"},_),Object(a.createElement)(A.a,{target:"window",onKeyDown:o}),Object(a.createElement)(w.a,{className:C()(r.dialog,g)},n),Object(a.createElement)(E.a,{classes:{root:y||m?r.dialogActions:void 0,action:C()(r.dialogAction,(e={},e[r.clearableDialogAction]=y,e[r.todayDialogAction]=!y&&m,e))}},y&&Object(a.createElement)(v.a,{color:"primary",onClick:l},d),!y&&m&&Object(a.createElement)(v.a,{color:"primary",onClick:c},h),Object(a.createElement)(v.a,{color:"primary",onClick:u},p),Object(a.createElement)(v.a,{color:"primary",onClick:s},f)))};ft.displayName="ModalDialog",ft.defaultProps={dialogContentClassName:""};var pt=P()(ct,{name:"MuiPickersModal"})(ft),dt=function(t){function ModalWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={open:!1},e.handleKeyDown=function(t){switch(M()(t)){case"enter":e.handleAccept();break;default:return}t.preventDefault()},e.handleSetTodayDate=function(){e.props.onSetToday&&e.props.onSetToday()},e.open=function(){e.setState({open:!0}),e.props.onOpen&&e.props.onOpen()},e.close=function(){e.setState({open:!1}),e.props.onClose&&e.props.onClose()},e.handleAccept=function(){e.close(),e.props.onAccept&&e.props.onAccept()},e.handleDismiss=function(){e.close(),e.props.onDismiss&&e.props.onDismiss()},e.handleClear=function(){e.close(),e.props.onClear&&e.props.onClear()},e}return __extends(ModalWrapper,t),ModalWrapper.getDerivedStateFromProps=function(t){return t.isAccepted?{open:!1}:null},ModalWrapper.prototype.render=function(){var t=this.props,e=t.value,n=t.format,r=t.children,o=t.dialogContentClassName,s=(t.onAccept,t.onDismiss,t.invalidLabel),u=t.labelFunc,l=t.okLabel,c=t.cancelLabel,f=t.clearLabel,p=t.clearable,d=t.todayLabel,h=t.showTodayButton,g=(t.onOpen,t.onClose,t.onSetToday,t.isAccepted,t.DialogProps),y=__rest(t,["value","format","children","dialogContentClassName","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps"]);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(lt,i({value:e,format:n,onClick:this.open,invalidLabel:s,labelFunc:u,clearable:p},y)),Object(a.createElement)(pt,i({open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,dialogContentClassName:o,clearLabel:f,todayLabel:d,okLabel:l,cancelLabel:c,clearable:p,showTodayButton:h,children:r},g)))},ModalWrapper.defaultProps={dialogContentClassName:"",invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},ModalWrapper}(a.PureComponent),ht=function PickerToolbar(t){var e=t.children,n=t.className,r=t.classes,o=__rest(t,["children","className","classes"]);return Object(a.createElement)(F.a,i({className:C()(r.toolbar,n)},o),e)};ht.defaultProps={className:""};var gt=P()((function styles$1(t){return I()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===t.palette.type?t.palette.primary.main:t.palette.background.default}})}),{name:"MuiPickersToolbar"})(ht),yt=function ToolbarButton(t){var e,n=t.classes,r=t.selected,o=t.label,s=t.className,u=__rest(t,["classes","selected","label","className"]);return Object(a.createElement)(B.a,i({className:C()(n.toolbarBtn,s,(e={},e[n.toolbarBtnSelected]=r,e))},u),o)};yt.defaultProps={className:""};var mt=P()((function styles$2(t){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:t.palette.common.white}}}),{name:"MuiPickersToolbarButton"})(yt),vt=function SlideTransition(t){var e=t.classes,n=t.className,r=t.children,i=t.transKey,o=t.slideDirection;return Object(a.createElement)(U.TransitionGroup,{className:C()(e.transitionContainer,n)},Object(a.createElement)(U.CSSTransition,{key:i,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:r,classNames:{enter:e["slideEnter-"+o],enterActive:e.slideEnterActive,exit:e.slideExit,exitActive:e["slideExitActiveLeft-"+o]}}))};vt.defaultProps={className:void 0};var _t=P()((function styles$3(t){var e=t.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return I()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:e},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-100%)",transition:e},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(100%)",transition:e}})}),{name:"MuiPickersSlideTransition"})(vt),bt=function CalendarHeader(t){var e=t.classes,n=t.theme,r=t.currentMonth,i=t.onMonthChange,o=t.leftArrowIcon,s=t.rightArrowIcon,u=t.disablePrevMonth,l=t.disableNextMonth,f=t.utils,d=t.slideDirection,h="rtl"===n.direction;return Object(a.createElement)("div",null,Object(a.createElement)("div",{className:e.switchHeader},Object(a.createElement)(p.a,{disabled:u,onClick:function selectPreviousMonth(){return i(f.getPreviousMonth(r),"right")},className:e.iconButton},Object(a.createElement)(c.a,null,h?s:o)),Object(a.createElement)(_t,{slideDirection:d,transKey:r.toString(),className:e.transitionContainer},Object(a.createElement)(B.a,{align:"center",variant:"body1"},f.getCalendarHeaderText(r))),Object(a.createElement)(p.a,{disabled:l,onClick:function selectNextMonth(){return i(f.getNextMonth(r),"left")},className:e.iconButton},Object(a.createElement)(c.a,null,h?o:s))),Object(a.createElement)("div",{className:e.daysHeader},f.getWeekdays().map((function(t,n){return Object(a.createElement)(B.a,{key:n,variant:"caption",className:e.dayLabel},t)}))))};bt.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var St=P()((function styles$4(t){return I()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:t.spacing.unit/2,marginBottom:t.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:t.palette.background.paper,"& > *":{backgroundColor:t.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:t.palette.text.hint}})}),{withTheme:!0,name:"MuiPickersCalendarHeader"})(et()(bt)),Et=function(t){function Day(){return null!==t&&t.apply(this,arguments)||this}return __extends(Day,t),Day.prototype.render=function(){var t,e=this.props,n=e.children,r=e.classes,o=e.disabled,s=e.hidden,u=e.current,l=e.selected,c=__rest(e,["children","classes","disabled","hidden","current","selected"]),f=C()(r.day,((t={})[r.hidden]=s,t[r.current]=u,t[r.selected]=l,t[r.disabled]=o,t));return Object(a.createElement)(p.a,i({className:f,tabIndex:s||o?-1:0},c),n)},Day.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},Day}(a.PureComponent),xt=P()((function styles$5(t){return I()({day:{width:36,height:36,fontSize:t.typography.caption.fontSize,margin:"0 2px",color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:t.palette.primary.main,fontWeight:600},selected:{color:t.palette.common.white,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{backgroundColor:t.palette.primary.main}},disabled:{pointerEvents:"none",color:t.palette.text.hint}})}),{name:"MuiPickersDay"})(Et),wt=function(t){function DayWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(){e.props.onSelect(e.props.value)},e}return __extends(DayWrapper,t),DayWrapper.prototype.render=function(){var t=this.props,e=t.children,n=(t.value,t.dayInCurrentMonth),r=t.disabled,o=(t.onSelect,__rest(t,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(a.createElement)("div",i({onClick:n&&!r?this.handleClick:void 0,onKeyPress:n&&!r?this.handleClick:void 0,role:"presentation"},o),e)},DayWrapper.defaultProps={dayInCurrentMonth:!0,disabled:!1},DayWrapper}(a.PureComponent),Tt=function(t){function Calendar(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={slideDirection:"left",currentMonth:e.props.utils.getStartOfMonth(e.props.date)},e.onDateSelect=function(t,n){void 0===n&&(n=!0);var r=e.props,i=r.date,o=r.utils;e.props.onChange(o.mergeDateAndTime(t,i),n)},e.handleChangeMonth=function(t,n){e.setState({currentMonth:t,slideDirection:n})},e.validateMinMaxDate=function(t){var n=e.props,r=n.minDate,i=n.maxDate,o=n.utils;return r&&o.isBeforeDay(t,o.date(r))||i&&o.isAfterDay(t,o.date(i))},e.shouldDisablePrevMonth=function(){var t=e.props,n=t.utils,r=t.disablePast,i=t.minDate,o=n.date();return!n.isBefore(n.getStartOfMonth(r&&n.isAfter(o,i)?o:n.date(i)),e.state.currentMonth)},e.shouldDisableNextMonth=function(){var t=e.props,n=t.utils,r=t.disableFuture,i=t.maxDate,o=n.date();return!n.isAfter(n.getStartOfMonth(r&&n.isBefore(o,i)?o:n.date(i)),e.state.currentMonth)},e.shouldDisableDate=function(t){var n=e.props,r=n.disablePast,i=n.disableFuture,o=n.shouldDisableDate,a=n.utils;return Boolean(i&&a.isAfterDay(t,a.date())||r&&a.isBeforeDay(t,a.date())||e.validateMinMaxDate(t)||o&&o(t))},e.moveToDay=function(t){t&&!e.shouldDisableDate(t)&&e.onDateSelect(t,!1)},e.handleKeyDown=function(t){var n=e.props,r=n.theme,i=n.date,o=n.utils;switch(M()(t)){case"up":e.moveToDay(o.addDays(i,-7));break;case"down":e.moveToDay(o.addDays(i,7));break;case"left":"ltr"===r.direction?e.moveToDay(o.addDays(i,-1)):e.moveToDay(o.addDays(i,1));break;case"right":"ltr"===r.direction?e.moveToDay(o.addDays(i,1)):e.moveToDay(o.addDays(i,-1));break;default:return}t.preventDefault()},e.renderWeeks=function(){var t=e.props.utils,n=e.state.currentMonth;return t.getWeekArray(n).map((function(t){return Object(a.createElement)("div",{key:"week-"+t[0].toString(),className:e.props.classes.week},e.renderDays(t))}))},e.renderDays=function(t){var n=e.props,r=n.date,i=n.renderDay,o=n.utils,s=o.startOfDay(r),u=o.getMonth(e.state.currentMonth),l=o.date();return t.map((function(t){var n=e.shouldDisableDate(t),r=o.getMonth(t)===u,c=Object(a.createElement)(xt,{current:o.isSameDay(t,l),hidden:!r,disabled:n,selected:o.isSameDay(s,t)},o.getDayText(t));return i&&(c=i(t,s,r,c)),Object(a.createElement)(wt,{key:t.toString(),value:t,dayInCurrentMonth:r,disabled:n,onSelect:e.onDateSelect},c)}))},e}return __extends(Calendar,t),Calendar.getDerivedStateFromProps=function(t,e){return t.utils.isEqual(t.date,e.lastDate)?null:{lastDate:t.date,currentMonth:t.utils.getStartOfMonth(t.date)}},Calendar.prototype.componentDidMount=function(){var t=this.props,e=t.date,n=t.minDate,r=t.maxDate,i=t.utils,o=(t.disableFuture,t.disablePast);this.shouldDisableDate(e)&&this.onDateSelect(function findClosestEnabledDate(t){var e=t.date,n=t.utils,r=t.minDate,i=t.maxDate,o=t.disableFuture,a=t.disablePast,s=t.shouldDisableDate,u=n.startOfDay(n.date());r=r&&n.date(r),i=i&&n.date(i),a&&n.isBefore(r,u)&&(r=u),o&&n.isAfter(i,u)&&(i=u);var l=n.date(e),c=n.date(e);for(n.isBefore(e,r)&&(l=r,c=null),n.isAfter(e,i)&&(c&&(c=i),l=null);l||c;){if(l&&n.isAfter(l,i)&&(l=null),c&&n.isBefore(c,r)&&(c=null),l){if(!s(l))return l;l=n.addDays(l,1)}if(c){if(!s(c))return c;c=n.addDays(c,-1)}}return null}({date:e,utils:i,minDate:n,maxDate:r,disablePast:Boolean(o),disableFuture:Boolean(o),shouldDisableDate:this.shouldDisableDate}),!1)},Calendar.prototype.render=function(){var t=this.state,e=t.currentMonth,n=t.slideDirection,r=this.props,i=r.classes,o=(r.utils,r.allowKeyboardControl);return Object(a.createElement)(a.Fragment,null,o&&Object(a.createElement)(A.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(a.createElement)(St,{slideDirection:n,currentMonth:e,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(a.createElement)(_t,{slideDirection:n,transKey:e.toString(),className:i.transitionContainer},Object(a.createElement)("div",{autoFocus:!0},this.renderWeeks())))},Calendar.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function shouldDisableDate(){return!1}},Calendar}(a.Component),Pt=P()((function styles$6(t){return{transitionContainer:{minHeight:216,marginTop:1.5*t.spacing.unit},week:{display:"flex",justifyContent:"center"}}}),{name:"MuiPickersCalendar",withTheme:!0})(et()(Tt)),kt=function(t){function Year(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(){e.props.onSelect(e.props.value)},e}return __extends(Year,t),Year.prototype.render=function(){var t,e=this.props,n=e.classes,r=e.selected,o=e.disabled,s=(e.value,e.children),u=__rest(e,["classes","selected","disabled","value","children"]);return Object(a.createElement)(B.a,i({role:"button",component:"div",className:C()(n.root,(t={},t[n.selected]=r,t[n.disabled]=o,t)),tabIndex:o?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:r?"primary":"default",variant:r?"h5":"subtitle1"},u),s)},Year.defaultProps={selected:!1,disabled:!1},Year}(a.PureComponent),Ct=P()((function styles$7(t){return I()({root:{height:5*t.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:t.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:t.palette.text.hint}})}),{name:"MuiPickersYear"})(kt),Dt=function(t){function YearSelection(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedYearRef=void 0,e.getSelectedYearRef=function(t){e.selectedYearRef=t},e.scrollToCurrentYear=function(t){var n=e.props.animateYearScrolling,r=Object(z.findDOMNode)(t);r&&r.scrollIntoView&&(n?setTimeout((function(){return r.scrollIntoView({behavior:"smooth"})}),100):r.scrollIntoView())},e.componentDidMount=function(){e.selectedYearRef&&e.scrollToCurrentYear(e.selectedYearRef)},e.onYearSelect=function(t){var n=e.props,r=n.date;(0,n.onChange)(n.utils.setYear(r,t))},e}return __extends(YearSelection,t),YearSelection.prototype.render=function(){var t=this,e=this.props,n=e.minDate,r=e.maxDate,i=e.date,o=e.classes,s=e.disablePast,u=e.disableFuture,l=e.utils,c=l.getYear(i);return Object(a.createElement)("div",{className:o.container},l.getYearRange(n,r).map((function(e){var n=l.getYear(e),r=n===c;return Object(a.createElement)(Ct,{key:l.getYearText(e),selected:r,value:n,onSelect:t.onYearSelect,ref:r?t.getSelectedYearRef:void 0,disabled:s&&l.isBeforeYear(e,l.date())||u&&l.isAfterYear(e,l.date())},l.getYearText(e))})))},YearSelection.defaultProps={animateYearScrolling:!1},YearSelection}(a.PureComponent),At=I()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),Rt=P()(At,{name:"MuiPickersYearSelection"})(et()(Dt)),Mt=function(t){function DatePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showYearSelection:Boolean(e.props.openToYearSelection)},e.handleYearSelect=function(t){e.props.onChange(t,!1),e.openCalendar()},e.openYearSelection=function(){e.setState({showYearSelection:!0})},e.openCalendar=function(){e.setState({showYearSelection:!1})},e}return __extends(DatePicker,t),Object.defineProperty(DatePicker.prototype,"date",{get:function get(){return this.props.utils.startOfDay(this.props.date)},enumerable:!0,configurable:!0}),Object.defineProperty(DatePicker.prototype,"minDate",{get:function get(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(DatePicker.prototype,"maxDate",{get:function get(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),DatePicker.prototype.render=function(){var t=this.state.showYearSelection,e=this.props,n=e.disablePast,r=e.disableFuture,i=e.onChange,o=e.animateYearScrolling,s=e.leftArrowIcon,u=e.rightArrowIcon,l=e.renderDay,c=e.utils,f=e.shouldDisableDate,p=e.allowKeyboardControl;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(gt,null,Object(a.createElement)(mt,{variant:"subtitle1",onClick:this.openYearSelection,selected:t,label:c.getYearText(this.date)}),Object(a.createElement)(mt,{variant:"h4",onClick:this.openCalendar,selected:!t,label:c.getDatePickerHeaderText(this.date)})),this.props.children,t?Object(a.createElement)(Rt,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:n,disableFuture:r,animateYearScrolling:o}):Object(a.createElement)(Pt,{date:this.date,onChange:i,disablePast:n,disableFuture:r,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:s,rightArrowIcon:u,renderDay:l,shouldDisableDate:f,allowKeyboardControl:p}))},DatePicker.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},DatePicker}(a.PureComponent),Lt=et()(Mt),It=function DatePickerModal(t){var e=t.allowKeyboardControl,n=t.animateYearScrolling,r=(t.autoOk,t.disableFuture),o=t.disablePast,s=t.format,u=t.forwardedRef,l=t.labelFunc,c=t.leftArrowIcon,f=t.maxDate,p=t.minDate,d=(t.initialFocusedDate,t.onChange,t.openToYearSelection),h=t.renderDay,g=t.rightArrowIcon,y=t.shouldDisableDate,m=t.value,v=__rest(t,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(a.createElement)(it,i({},t),(function(t){var _=t.date,b=t.utils,S=t.handleAccept,E=t.handleChange,x=t.handleClear,w=t.handleDismiss,T=t.handleSetTodayDate,P=t.handleTextFieldChange,k=t.isAccepted;return Object(a.createElement)(dt,i({disableFuture:r,disablePast:o,format:s||b.dateFormat,labelFunc:l,maxDate:f,minDate:p,onAccept:S,onChange:P,onClear:x,onDismiss:w,onSetToday:T,ref:u,value:m,isAccepted:k},v),Object(a.createElement)(Lt,{date:_,allowKeyboardControl:e,animateYearScrolling:n,disableFuture:r,disablePast:o,leftArrowIcon:c,maxDate:f,minDate:p,onChange:E,openToYearSelection:d,renderDay:h,rightArrowIcon:g,shouldDisableDate:y}))}))};It.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(It,i({},t,{forwardedRef:e}))}));var Ot=function(t){function InlineWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={anchorEl:null},e.open=function(t){e.setState({anchorEl:t.currentTarget}),e.props.onOpen&&e.props.onOpen()},e.close=function(){e.setState({anchorEl:null}),e.props.handleAccept(),e.props.onClose&&e.props.onClose()},e.handleKeyDown=function(t){switch(M()(t)){case"enter":e.props.handleAccept(),e.close();break;default:return}t.preventDefault()},e}return __extends(InlineWrapper,t),InlineWrapper.getDerivedStateFromProps=function(t){return t.isAccepted?{anchorEl:null}:null},InlineWrapper.prototype.render=function(){var t=this.props,e=t.value,n=t.format,r=t.children,o=(t.onOpen,t.onClose,t.PopoverProps),s=(t.isAccepted,t.keyboard),u=(t.onlyCalendar,t.classes),l=(t.handleAccept,__rest(t,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),c=Boolean(this.state.anchorEl);return Object(a.createElement)(a.Fragment,null,c&&Object(a.createElement)(A.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(a.createElement)(lt,i({value:e,format:n,onClick:this.open,keyboard:s},l)),Object(a.createElement)(V.a,i({id:"picker-popover",open:c,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:u.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:s?"right":"center"},transformOrigin:{vertical:"top",horizontal:s?"right":"center"},children:r},o)))},InlineWrapper.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},InlineWrapper}(a.PureComponent),Ft=P()({popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}})(Ot),Nt=function DatePickerInline(t){var e=t.allowKeyboardControl,n=t.animateYearScrolling,r=t.disableFuture,o=t.disablePast,s=t.format,u=t.forwardedRef,l=t.labelFunc,c=t.leftArrowIcon,f=t.maxDate,p=t.minDate,d=(t.initialFocusedDate,t.onChange,t.openToYearSelection),h=t.renderDay,g=t.rightArrowIcon,y=t.shouldDisableDate,m=t.value,v=(t.autoOk,t.onlyCalendar),_=__rest(t,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),b=v?Pt:Lt;return Object(a.createElement)(it,i({},t,{autoOk:!0}),(function(t){var v=t.date,S=t.utils,E=t.isAccepted,x=t.handleChange,w=t.handleTextFieldChange,T=t.handleAccept;return Object(a.createElement)(Ft,i({disableFuture:r,disablePast:o,format:s||S.dateFormat,labelFunc:l,maxDate:f,minDate:p,onChange:w,innerRef:u,value:m,isAccepted:E,handleAccept:T},_),Object(a.createElement)(b,{date:v,allowKeyboardControl:e,animateYearScrolling:n,disableFuture:r,disablePast:o,leftArrowIcon:c,maxDate:f,minDate:p,onChange:x,openToYearSelection:d,renderDay:h,rightArrowIcon:g,shouldDisableDate:y}))}))};Nt.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(Nt,i({},t,{forwardedRef:e}))}));var Bt,Ut={x:130,y:130},zt=Ut.x-Ut.x,jt=0-Ut.y,Vt=function getAngleValue(t,e,n){var r=e-Ut.x,i=n-Ut.y,o=function rad2deg(t){return 57.29577951308232*t}(Math.atan2(zt,jt)-Math.atan2(r,i));o=Math.round(o/t)*t,o%=360;var a=Math.floor(o/t)||0,s=Math.pow(r,2)+Math.pow(i,2);return{value:a,distance:Math.sqrt(s)}},Gt=function convertToMeridiem(t,e,n,r){if(n&&(r.getHours(t)>=12?"pm":"am")!==e){var i="am"===e?r.getHours(t)-12:r.getHours(t)+12;return r.setHours(t,i)}return t};!function(t){t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds"}(Bt||(Bt={}));var Wt=Bt,qt=function(t){function ClockPointer(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={toAnimateTransform:!1,previousType:void 0},e.getAngleStyle=function(){var t=e.props,n=t.value,r=t.isInner,i=t.type,o=360/(i===Wt.HOURS?12:60)*n;return i===Wt.HOURS&&n>12&&(o-=360),{height:r?"26%":"40%",transform:"rotateZ("+o+"deg)"}},e}return __extends(ClockPointer,t),ClockPointer.prototype.render=function(){var t,e,n=this.props,r=n.classes,i=n.hasSelected;return Object(a.createElement)("div",{style:this.getAngleStyle(),className:C()(r.pointer,(t={},t[r.animateTransform]=this.state.toAnimateTransform,t))},Object(a.createElement)("div",{className:C()(r.thumb,(e={},e[r.noPoint]=i,e))}))},ClockPointer.getDerivedStateFromProps=function(t,e){return t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type}},ClockPointer}(a.Component),Ht=P()((function styles$a(t){return I()({pointer:{width:2,backgroundColor:t.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:t.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:t.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+t.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:t.palette.primary.main}})}),{name:"MuiPickersClockPointer"})(qt),Kt=function(t){function Clock(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e.handleTouchMove=function(t){e.isMoving=!0,e.setTime(t)},e.handleTouchEnd=function(t){e.isMoving&&(e.setTime(t,!0),e.isMoving=!1)},e.handleMove=function(t){t.preventDefault(),t.stopPropagation(),("undefined"===typeof t.buttons?1===t.nativeEvent.which:1===t.buttons)&&e.setTime(t.nativeEvent,!1)},e.handleMouseUp=function(t){e.isMoving&&(e.isMoving=!1),e.setTime(t.nativeEvent,!0)},e.hasSelected=function(){var t=e.props,n=t.type,r=t.value;return n===Wt.HOURS||r%5===0},e}return __extends(Clock,t),Clock.prototype.setTime=function(t,e){void 0===e&&(e=!1);var n=t.offsetX,r=t.offsetY;if("undefined"===typeof n){var i=t.target.getBoundingClientRect();n=t.changedTouches[0].clientX-i.left,r=t.changedTouches[0].clientY-i.top}var o=this.props.type===Wt.SECONDS||this.props.type===Wt.MINUTES?function getMinutes(t,e,n){return void 0===n&&(n=6),Vt(n,t,e).value}(n,r):function getHours(t,e,n){var r=Vt(30,t,e),i=r.value,o=r.distance;return i=i||12,n?i%=12:o<90&&(i+=12,i%=24),i}(n,r,Boolean(this.props.ampm));this.props.onChange(o,e)},Clock.prototype.render=function(){var t=this.props,e=t.classes,n=t.value,r=t.children,i=t.type,o=!t.ampm&&i===Wt.HOURS&&(n<1||n>12);return Object(a.createElement)("div",{className:e.container},Object(a.createElement)("div",{className:e.clock},Object(a.createElement)("div",{role:"menu",tabIndex:-1,className:e.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(a.createElement)("div",{className:e.pin}),Object(a.createElement)(Ht,{type:i,value:n,isInner:o,hasSelected:this.hasSelected()}),r))},Clock.defaultProps={ampm:!1},Clock}(a.Component),Yt=P()((function styles$b(t){return I()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*t.spacing.unit+"px 0 "+t.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:t.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),{name:"MuiPickersClock"})(Kt),Xt={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},Zt=function(t){function ClockNumber(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTransformStyle=function(t){var e=Xt[t];return{transform:"translate("+e[0]+"px, "+e[1]+"px"}},e}return __extends(ClockNumber,t),ClockNumber.prototype.render=function(){var t,e=this.props,n=e.selected,r=e.label,i=e.index,o=e.classes,s=e.isInner,u=C()(o.clockNumber,((t={})[o.selected]=n,t));return Object(a.createElement)(B.a,{variant:s?"body1":"subtitle1",component:"span",className:u,style:this.getTransformStyle(i)},r)},ClockNumber.defaultProps={isInner:!1},ClockNumber}(a.Component),$t=P()((function styles$c(t){var e=4*t.spacing.unit;return I()({clockNumber:{width:e,height:e,userSelect:"none",position:"absolute",left:"calc(50% - "+e/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===t.palette.type?t.palette.text.primary:t.palette.text.hint},selected:{color:t.palette.common.white}})}),{name:"MuiPickersClockNumber"})(Zt),Jt=function getHourNumbers(t){for(var e=t.ampm,n=t.utils,r=t.date,o=n.getHours(r),s=[],u=e?12:23,l=function isSelected(t){return e?12===t?12===o||0===o:o===t||o-12===t:o===t},c=e?1:0;c<=u;c+=1){var f=c.toString();0===c&&(f="00");var p={index:c,label:n.formatNumber(f),selected:l(c),isInner:!e&&(0===c||c>12)};s.push(Object(a.createElement)($t,i({key:c},p)))}return s},Qt=function getMinutesNumbers(t){var e=t.value,n=t.utils.formatNumber;return[Object(a.createElement)($t,{label:n("00"),selected:0===e,index:12,key:12}),Object(a.createElement)($t,{label:n("05"),selected:5===e,index:1,key:1}),Object(a.createElement)($t,{label:n("10"),selected:10===e,index:2,key:2}),Object(a.createElement)($t,{label:n("15"),selected:15===e,index:3,key:3}),Object(a.createElement)($t,{label:n("20"),selected:20===e,index:4,key:4}),Object(a.createElement)($t,{label:n("25"),selected:25===e,index:5,key:5}),Object(a.createElement)($t,{label:n("30"),selected:30===e,index:6,key:6}),Object(a.createElement)($t,{label:n("35"),selected:35===e,index:7,key:7}),Object(a.createElement)($t,{label:n("40"),selected:40===e,index:8,key:8}),Object(a.createElement)($t,{label:n("45"),selected:45===e,index:9,key:9}),Object(a.createElement)($t,{label:n("50"),selected:50===e,index:10,key:10}),Object(a.createElement)($t,{label:n("55"),selected:55===e,index:11,key:11})]},te=function(t){function TimePickerView(){var e=null!==t&&t.apply(this,arguments)||this;return e.getViewProps=function(){var t=e.props,n=t.type,r=t.ampm,i=t.date,o=t.utils;switch(n){case Wt.HOURS:return{value:o.getHours(i),children:Jt({date:i,ampm:Boolean(r),utils:o}),onChange:e.handleHourChange};case Wt.MINUTES:var a=o.getMinutes(i);return{value:a,children:Qt({value:a,utils:o}),onChange:e.handleMinutesChange};case Wt.SECONDS:var s=o.getSeconds(i);return{value:s,children:Qt({value:s,utils:o}),onChange:e.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},e.handleHourChange=function(t,n){var r=e.props,i=r.date,o=r.utils.setHours(i,t);e.props.onHourChange(o,n)},e.handleMinutesChange=function(t,n){var r=e.props,i=r.date,o=r.utils.setMinutes(i,t);e.props.onMinutesChange(o,n)},e.handleSecondsChange=function(t,n){var r=e.props,i=r.date,o=r.utils.setSeconds(i,t);e.props.onSecondsChange(o,n)},e}return __extends(TimePickerView,t),TimePickerView.prototype.render=function(){var t=this.props,e=t.ampm,n=t.type,r=this.getViewProps();return Object(a.createElement)(Yt,i({type:n,ampm:e},r))},TimePickerView.defaultProps={ampm:!0},TimePickerView}(a.PureComponent),ee=et()(te),ne=function(t){function TimePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openView:Wt.HOURS,meridiemMode:e.props.utils.getHours(e.props.date)>=12?"pm":"am"},e.setMeridiemMode=function(t){return function(){e.setState({meridiemMode:t},(function(){return e.handleChange({time:e.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})}))}},e.handleChange=function(t){var n=t.time,r=t.isFinish,i=t.openMinutes,o=t.openSeconds,a=Gt(n,e.state.meridiemMode,Boolean(e.props.ampm),e.props.utils);if(r){if(!i&&!o)return void e.props.onChange(a,r);i&&e.openMinutesView(),o&&e.openSecondsView()}e.props.onChange(a,!1)},e.handleHourChange=function(t,n){e.handleChange({time:t,isFinish:n,openMinutes:!0,openSeconds:!1})},e.handleMinutesChange=function(t,n){e.handleChange({time:t,isFinish:n,openMinutes:!1,openSeconds:Boolean(e.props.seconds)})},e.handleSecondsChange=function(t,n){e.handleChange({time:t,isFinish:n,openMinutes:!1,openSeconds:!1})},e.openSecondsView=function(){e.setState({openView:Wt.SECONDS})},e.openMinutesView=function(){e.setState({openView:Wt.MINUTES})},e.openHourView=function(){e.setState({openView:Wt.HOURS})},e}return __extends(TimePicker,t),TimePicker.prototype.render=function(){var t,e=this.props,n=e.classes,r=e.theme,i=e.date,o=e.utils,s=e.ampm,u=e.seconds,l=this.state,c=l.meridiemMode,f=l.openView,p="rtl"===r.direction?n.hourMinuteLabelReverse:n.hourMinuteLabel;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(gt,{className:C()(n.toolbar,(t={},t[n.toolbarLeftPadding]=s,t))},Object(a.createElement)("div",{className:p},Object(a.createElement)(mt,{variant:"h2",onClick:this.openHourView,selected:f===Wt.HOURS,label:o.getHourText(i,Boolean(s))}),Object(a.createElement)(mt,{variant:"h2",label:":",selected:!1,className:n.separator}),Object(a.createElement)(mt,{variant:"h2",onClick:this.openMinutesView,selected:f===Wt.MINUTES,label:o.getMinuteText(i)}),u&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(mt,{variant:"h2",label:":",selected:!1,className:n.separator}),Object(a.createElement)(mt,{variant:"h2",onClick:this.openSecondsView,selected:f===Wt.SECONDS,label:o.getSecondText(i)}))),s&&Object(a.createElement)("div",{className:u?n.ampmSelectionWithSeconds:n.ampmSelection},Object(a.createElement)(mt,{className:n.ampmLabel,selected:"am"===c,variant:"subtitle1",label:o.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(a.createElement)(mt,{className:n.ampmLabel,selected:"pm"===c,variant:"subtitle1",label:o.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(a.createElement)(ee,{date:i,type:this.state.openView,ampm:s,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},TimePicker.defaultProps={children:null,ampm:!0,seconds:!1},TimePicker}(a.Component),re=P()((function styles$d(){return I()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})}),{withTheme:!0,name:"MuiPickersTimePicker"})(et()(ne)),ie=function TimePickerModal(t){var e=t.value,n=(t.format,t.autoOk,t.onChange,t.ampm),r=t.forwardedRef,o=t.seconds,s=__rest(t,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(a.createElement)(it,i({},t),(function(t){var u=t.date,l=t.utils,c=t.handleAccept,f=t.handleChange,p=t.handleClear,d=t.handleDismiss,h=t.handleSetTodayDate,g=t.handleTextFieldChange,y=t.isAccepted,m=t.pick12hOr24hFormat;return Object(a.createElement)(dt,i({ref:r,value:e,onClear:p,onAccept:c,onChange:g,onDismiss:d,onSetToday:h,isAccepted:y,format:m(l.time12hFormat,l.time24hFormat)},s),Object(a.createElement)(re,{date:u,onChange:f,ampm:n,seconds:o}))}))};ie.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(ie,i({},t,{forwardedRef:e}))}));var oe=function TimePickerInline(t){var e=t.value,n=(t.format,t.onChange,t.ampm),r=t.forwardedRef,o=t.seconds,s=__rest(t,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(a.createElement)(it,i({},t,{autoOk:!0}),(function(t){var u=t.date,l=t.utils,c=t.handleChange,f=t.handleTextFieldChange,p=t.isAccepted,d=t.pick12hOr24hFormat,h=t.handleAccept;return Object(a.createElement)(Ft,i({innerRef:r,value:e,onChange:f,isAccepted:p,handleAccept:h,format:d(l.time12hFormat,l.time24hFormat)},s),Object(a.createElement)(re,{date:u,onChange:c,ampm:n,seconds:o}))}))};oe.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var ae;Object(a.forwardRef)((function(t,e){return Object(a.createElement)(oe,i({},t,{forwardedRef:e}))}));!function(t){t.YEAR="year",t.DATE="date",t.HOUR="hours",t.MINUTES="minutes"}(ae||(ae={}));var se=ae,ue=function DateTimePickerHeader(t){var e=t.date,n=t.classes,r=t.openView,i=t.meridiemMode,o=t.onOpenViewChange,s=t.setMeridiemMode,u=t.theme,l=t.utils,c=t.ampm,f=function changeOpenView(t){return function(){return o(t)}},p="rtl"===u.direction?n.hourMinuteLabelReverse:n.hourMinuteLabel;return Object(a.createElement)(gt,{className:n.toolbar},Object(a.createElement)("div",{className:n.dateHeader},Object(a.createElement)(mt,{variant:"subtitle1",onClick:f(se.YEAR),selected:r===se.YEAR,label:l.getYearText(e)}),Object(a.createElement)(mt,{variant:"h4",onClick:f(se.DATE),selected:r===se.DATE,label:l.getDateTimePickerHeaderText(e)})),Object(a.createElement)("div",{className:n.timeHeader},Object(a.createElement)("div",{className:p},Object(a.createElement)(mt,{variant:"h3",onClick:f(se.HOUR),selected:r===se.HOUR,label:l.getHourText(e,c)}),Object(a.createElement)(mt,{variant:"h3",label:":",selected:!1,className:n.separator}),Object(a.createElement)(mt,{variant:"h3",onClick:f(se.MINUTES),selected:r===se.MINUTES,label:l.getMinuteText(e)})),c&&Object(a.createElement)("div",{className:n.ampmSelection},Object(a.createElement)(mt,{className:n.ampmLabel,selected:"am"===i,variant:"subtitle1",label:l.getMeridiemText("am"),onClick:s("am")}),Object(a.createElement)(mt,{className:n.ampmLabel,selected:"pm"===i,variant:"subtitle1",label:l.getMeridiemText("pm"),onClick:s("pm")}))))};ue.defaultProps={ampm:!0};var le=P()((function styles$e(){return I()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"},dateHeader:{height:65},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})}),{withTheme:!0})(et()(ue)),ce=function viewToTabIndex(t){return t===se.DATE||t===se.YEAR?"date":"time"},fe=H()()(P()((function styles$f(t){return{tabs:{color:t.palette.common.white,backgroundColor:"light"===t.palette.type?t.palette.primary.main:t.palette.background.default}}}),{name:"MuiPickerDTTabs"})((function DateTimePickerTabs(t){var e=t.view,n=t.onChange,r=t.classes,i=t.theme,o=t.dateRangeIcon,s=t.timeIcon,u="light"===i.palette.type?"secondary":"primary";return Object(a.createElement)(W.a,null,Object(a.createElement)(Z.a,{fullWidth:!0,value:ce(e),onChange:function handleChange(t,r){r!==ce(e)&&n(function tabIndexToView(t){return"date"===t?se.DATE:se.HOUR}(r))},className:r.tabs,indicatorColor:u},Object(a.createElement)(Y.a,{value:"date",icon:Object(a.createElement)(c.a,null,o)}),Object(a.createElement)(Y.a,{value:"time",icon:Object(a.createElement)(c.a,null,s)})))}))),pe=I()({view:{zIndex:1,position:"absolute",left:0,right:0}}),de=P()(pe,{name:"MuiPickerDTPickerView "})((function DateTimePickerView$2(t){var e=t.selected,n=t.children,r=t.classes;return e?Object(a.createElement)("div",{className:r.view},n):null})),he=function(t){function DateTimePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openView:e.props.openTo,meridiemMode:e.props.utils.getHours(e.props.date)>=12?"pm":"am"},e.onChange=function(t,n,r){void 0===n&&(n=!0),e.handleChange(t),n&&e.props.autoSubmit&&e.handleViewChange(r)},e.setMeridiemMode=function(t){return function(){e.setState({meridiemMode:t},(function(){return e.handleChange(e.props.date,!1)}))}},e.handleViewChange=function(t){e.setState({openView:t})},e.handleChange=function(t,n){void 0===n&&(n=!1);var r=Gt(t,e.state.meridiemMode,Boolean(e.props.ampm),e.props.utils);e.props.onChange(r,n)},e.handleYearChange=function(t){e.onChange(t,!1,se.DATE)},e.handleDayChange=function(t,n){e.onChange(t,n,se.HOUR)},e.handleHourChange=function(t,n){e.onChange(t,n,se.MINUTES)},e}return __extends(DateTimePicker,t),DateTimePicker.prototype.render=function(){var t=this.state,e=t.openView,n=t.meridiemMode,r=this.props,o=r.date,s=r.minDate,u=r.maxDate,l=r.showTabs,c=r.disablePast,f=r.disableFuture,p=r.leftArrowIcon,d=r.rightArrowIcon,h=r.dateRangeIcon,g=r.timeIcon,y=r.renderDay,m=r.ampm,v=r.shouldDisableDate,_=r.animateYearScrolling,b=r.classes,S=r.allowKeyboardControl,E=r.ViewContainerComponent,x=E,w="string"===typeof E?{}:{openView:e,onChange:this.onChange};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(le,{date:o,openView:e,meridiemMode:n,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:m}),l&&Object(a.createElement)(fe,{view:e,onChange:this.handleViewChange,dateRangeIcon:h,timeIcon:g}),Object(a.createElement)(x,i({className:b.viewContainer},w),Object(a.createElement)(de,{selected:e===se.YEAR},Object(a.createElement)(Rt,{date:o,minDate:s,maxDate:u,onChange:this.handleYearChange,disablePast:c,disableFuture:f,animateYearScrolling:_})),Object(a.createElement)(de,{selected:e===se.DATE},Object(a.createElement)(Pt,{allowKeyboardControl:S,date:o,minDate:s,maxDate:u,onChange:this.handleDayChange,disablePast:c,disableFuture:f,leftArrowIcon:p,rightArrowIcon:d,renderDay:y,shouldDisableDate:v})),Object(a.createElement)(de,{selected:e===se.HOUR||e===se.MINUTES},Object(a.createElement)(ee,{date:o,type:e,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:m}))))},DateTimePicker.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},DateTimePicker}(a.Component),ge=I()({viewContainer:{minHeight:300,position:"relative"}}),ye=P()(ge,{name:"MuiPickersDateTimePicker"})(et()(he)),me=function DateTimePickerModal(t){var e=t.value,n=(t.format,t.autoOk,t.openTo),r=t.minDate,o=t.maxDate,s=(t.initialFocusedDate,t.showTabs),u=t.autoSubmit,l=t.disablePast,c=t.disableFuture,f=t.leftArrowIcon,p=t.rightArrowIcon,d=t.dateRangeIcon,h=t.timeIcon,g=t.renderDay,y=t.ampm,m=t.shouldDisableDate,v=t.animateYearScrolling,_=t.forwardedRef,b=t.allowKeyboardControl,S=__rest(t,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(a.createElement)(it,i({},t),(function(t){var E=t.date,x=t.utils,w=t.handleAccept,T=t.handleChange,P=t.handleClear,k=t.handleDismiss,C=t.handleSetTodayDate,D=t.handleTextFieldChange,A=t.isAccepted,R=t.pick12hOr24hFormat;return Object(a.createElement)(dt,i({ref:_,disableFuture:c,disablePast:l,maxDate:o,minDate:r,onAccept:w,onChange:D,onClear:P,onDismiss:k,onSetToday:C,value:e,isAccepted:A,format:R(x.dateTime12hFormat,x.dateTime24hFormat)},S),Object(a.createElement)(ye,{allowKeyboardControl:b,ampm:y,animateYearScrolling:v,autoSubmit:u,date:E,dateRangeIcon:d,disableFuture:c,disablePast:l,leftArrowIcon:f,maxDate:o,minDate:r,onChange:T,openTo:n,renderDay:g,rightArrowIcon:p,shouldDisableDate:m,showTabs:s,timeIcon:h}))}))};me.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var ve=Object(a.forwardRef)((function(t,e){return Object(a.createElement)(me,i({},t,{forwardedRef:e}))})),_e=function DateTimePickerInline(t){var e=t.value,n=(t.format,t.autoOk,t.openTo),r=t.minDate,o=t.maxDate,s=(t.initialFocusedDate,t.showTabs),u=t.autoSubmit,l=t.disablePast,c=t.disableFuture,f=t.leftArrowIcon,p=t.rightArrowIcon,d=t.dateRangeIcon,h=t.timeIcon,g=t.renderDay,y=t.ampm,m=t.shouldDisableDate,v=t.animateYearScrolling,_=t.forwardedRef,b=t.allowKeyboardControl,S=__rest(t,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(a.createElement)(it,i({},t,{autoOk:!0}),(function(t){var E=t.date,x=t.utils,w=t.handleChange,T=t.handleTextFieldChange,P=t.isAccepted,k=t.pick12hOr24hFormat,C=t.handleAccept;return Object(a.createElement)(Ft,i({innerRef:_,disableFuture:c,disablePast:l,maxDate:o,minDate:r,onChange:T,value:e,isAccepted:P,handleAccept:C,format:k(x.dateTime12hFormat,x.dateTime24hFormat)},S),Object(a.createElement)(ye,{allowKeyboardControl:b,ampm:y,animateYearScrolling:v,autoSubmit:u,date:E,dateRangeIcon:d,disableFuture:c,disablePast:l,leftArrowIcon:f,maxDate:o,minDate:r,onChange:w,openTo:n,renderDay:g,rightArrowIcon:p,shouldDisableDate:m,showTabs:s,timeIcon:h}))}))};_e.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(_e,i({},t,{forwardedRef:e}))}))},function(t,e){function indexOf(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function serializer(t,e){var n=[],r=[];return null==e&&(e=function cycleReplacer(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,indexOf(n,e)).join(".")+"]"}),function(i,o){if(n.length>0){var a=indexOf(n,this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~indexOf(n,o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o instanceof Error?function stringifyError(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(o):o:t.call(this,i,o)}}(t.exports=function stringify(t,e,n,r){return JSON.stringify(t,serializer(e,r),n)}).getSerialize=serializer},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(556)),i=_interopRequireDefault(n(557)),o=_interopRequireDefault(n(559)),a=_interopRequireDefault(n(560)),s=_interopRequireDefault(n(563));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={formatDistance:r.default,formatLong:i.default,formatRelative:o.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCISOWeek(t,e){var n=(0,r.default)(t,e),s=(0,i.default)(n,e).getTime()-(0,o.default)(n,e).getTime();return Math.round(s/a)+1};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(176)),o=_interopRequireDefault(n(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=6048e5;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCISOWeekYear(t,e){var n=(0,r.default)(t,e),o=n.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(o+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,i.default)(a,e),u=new Date(0);u.setUTCFullYear(o,0,4),u.setUTCHours(0,0,0,0);var l=(0,i.default)(u,e);return n.getTime()>=s.getTime()?o+1:n.getTime()>=l.getTime()?o:o-1};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(176));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function cloneObject(t){t=t||{};var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=_interopRequireDefault(n(282)),o=_interopRequireDefault(n(283)),a=n(107);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.createLocation=function createLocation(t,e,n,o){var s=void 0;"string"===typeof t?(s=(0,a.parsePath)(t)).state=e:(void 0===(s=r({},t)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,i.default)(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s},e.locationsAreEqual=function locationsAreEqual(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,o.default)(t.state,e.state)}},function(t,e,n){"use strict";e.__esModule=!0;var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(25));e.default=function createTransitionManager(){var t=null,e=[];return{setPrompt:function setPrompt(e){return(0,r.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function confirmTransitionTo(e,n,i,o){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof i?i(a,o):((0,r.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function appendListener(t){var n=!0,r=function listener(){n&&t.apply(void 0,arguments)};return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function notifyListeners(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},function(t,e){},function(t,e,n){"use strict";var r=n(156),i=n(82),o=n(322),a=n(121),s=n(137),u=n(603),l=n(180),c=n(326),f=n(73)("iterator"),p=!([].keys&&"next"in[].keys()),d=function returnThis(){return this};t.exports=function(t,e,n,h,g,y,m){u(n,e,h);var v,_,b,S=function getMethod(t){if(!p&&t in T)return T[t];switch(t){case"keys":return function keys(){return new n(this,t)};case"values":return function values(){return new n(this,t)}}return function entries(){return new n(this,t)}},E=e+" Iterator",x="values"==g,w=!1,T=t.prototype,P=T[f]||T["@@iterator"]||g&&T[g],k=P||S(g),C=g?x?S("entries"):k:void 0,D="Array"==e&&T.entries||P;if(D&&(b=c(D.call(new t)))!==Object.prototype&&b.next&&(l(b,E,!0),r||"function"==typeof b[f]||a(b,f,d)),x&&P&&"values"!==P.name&&(w=!0,k=function values(){return P.call(this)}),r&&!m||!p&&!w&&T[f]||a(T,f,k),s[e]=k,s[E]=d,g)if(v={values:x?k:S("values"),keys:y?k:S("keys"),entries:C},m)for(_ in v)_ in T||o(T,_,v[_]);else i(i.P+i.F*(p||w),e,v);return v}},function(t,e,n){t.exports=!n(111)&&!n(136)((function(){return 7!=Object.defineProperty(n(231)("div"),"a",{get:function get(){return 7}}).a}))},function(t,e,n){t.exports=n(121)},function(t,e,n){var r=n(122),i=n(123),o=n(605)(!1),a=n(235)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(159);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(69).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(122),i=n(160),o=n(235)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(91);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t.return;throw void 0!==o&&r(o.call(t)),a}}},function(t,e,n){var r=n(137),i=n(73)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(91),i=n(178),o=n(73)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(135),s=n(613),u=n(325),l=n(231),c=n(69),f=c.process,p=c.setImmediate,d=c.clearImmediate,h=c.MessageChannel,g=c.Dispatch,y=0,m={},v=function run(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function listener(t){v.call(t.data)};p&&d||(p=function setImmediate(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},d=function clearImmediate(t){delete m[t]},"process"==n(159)(f)?r=function defer(t){f.nextTick(a(v,t,1))}:g&&g.now?r=function defer(t){g.now(a(v,t,1))}:h?(o=(i=new h).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function defer(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r="onreadystatechange"in l("script")?function defer(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function defer(t){setTimeout(a(v,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(91),i=n(110),o=n(240);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(73)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}},function(t,e,n){(function(e){var r,i="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},o=n(620);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=r}).call(this,n(32))},function(t,e,n){"use strict";t.exports=function isErrorCode(t){return t<200||t>=400}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===r.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=e(o,t[o],t);n[a[0]]=a[1]}return n}},function(t,e,n){t.exports={default:n(653),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(144));e.default=function ConfigRequestPromise(){var t=(0,i.default)();t.get,t.post,t.patch;return t.get=a(t.get.bind(t)),t.post=a(t.post.bind(t)),t.patch=a(t.patch.bind(t)),t};var i=_interopRequireDefault(n(241)),o=_interopRequireDefault(n(182));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=function wrap(t){return function(e,n){return new r.default((function(r,i){t(e,n||{},(0,o.default)(r,i))}))}}},function(t,e){function _typeof(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=_typeof=function _typeof(t){return typeof t}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}t.exports=_typeof},function(t,e){t.exports=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}},function(t,e,n){t.exports=n(704)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.jss="64a55d578f856d258dc345b094a2a2b3",e.sheetsRegistry="d4bd0baacbc52bbd48bbb9eb24344ecd",e.managers="b768b78919504fba9de2c03545c5cd3a",e.sheetOptions="6fc570d6bd61383819d0f9e7407c452d"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.createGenerateClassName=e.sheets=e.RuleList=e.SheetsManager=e.SheetsRegistry=e.toCssValue=e.getDynamicStyles=void 0;var r=n(707);Object.defineProperty(e,"getDynamicStyles",{enumerable:!0,get:function get(){return _interopRequireDefault(r).default}});var i=n(186);Object.defineProperty(e,"toCssValue",{enumerable:!0,get:function get(){return _interopRequireDefault(i).default}});var o=n(345);Object.defineProperty(e,"SheetsRegistry",{enumerable:!0,get:function get(){return _interopRequireDefault(o).default}});var a=n(708);Object.defineProperty(e,"SheetsManager",{enumerable:!0,get:function get(){return _interopRequireDefault(a).default}});var s=n(161);Object.defineProperty(e,"RuleList",{enumerable:!0,get:function get(){return _interopRequireDefault(s).default}});var u=n(248);Object.defineProperty(e,"sheets",{enumerable:!0,get:function get(){return _interopRequireDefault(u).default}});var l=n(348);Object.defineProperty(e,"createGenerateClassName",{enumerable:!0,get:function get(){return _interopRequireDefault(l).default}});var c=_interopRequireDefault(n(712));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var f=e.create=function create(t){return new c.default(t)};e.default=f()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var i=function(){function SheetsRegistry(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SheetsRegistry),this.registry=[]}return r(SheetsRegistry,[{key:"add",value:function add(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)}},{key:"reset",value:function reset(){this.registry=[]}},{key:"remove",value:function remove(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)}},{key:"toString",value:function toString(t){return this.registry.filter((function(t){return t.attached})).map((function(e){return e.toString(t)})).join("\n")}},{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(125));e.default=function(t){return t&&t[r.default]&&t===t[r.default]()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function linkRule(t,e){t.renderable=e,t.rules&&e.cssRules&&t.rules.link(e.cssRules)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(25)),i=(_interopRequireDefault(n(349)),_interopRequireDefault(n(711)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=0;return function(e,n){(t+=1)>1e10&&(0,r.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",t);var o="c",a="";return n&&(o=n.options.classNamePrefix||"c",null!=n.options.jss.id&&(a+=n.options.jss.id)),""+o+i.default+a+t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=_interopRequireDefault(n(347)),a=_interopRequireDefault(n(161));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s=function(){function StyleSheet(t,e){var n=this;for(var i in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StyleSheet),this.update=function(t,e){return"string"===typeof t?n.rules.update(t,e):n.rules.update(t),n},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=r({},e,{sheet:this,parent:this,classes:this.classes}),this.renderer=new e.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(i,t[i]);this.rules.process()}return i(StyleSheet,[{key:"attach",value:function attach(){return this.attached?this:(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0,this)}},{key:"detach",value:function detach(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function addRule(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)}},{key:"insertRule",value:function insertRule(t){var e=this.renderer.insertRule(t);e&&this.options.link&&(0,o.default)(t,e)}},{key:"addRules",value:function addRules(t,e){var n=[];for(var r in t)n.push(this.addRule(r,t[r],e));return n}},{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"deleteRule",value:function deleteRule(t){var e=this.rules.get(t);return!!e&&(this.rules.remove(e),!this.attached||!e.renderable||this.renderer.deleteRule(e.renderable))}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"deploy",value:function deploy(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function link(){var t=this.renderer.getRules();return t&&this.rules.link(t),this.linked=!0,this}},{key:"toString",value:function toString(t){return this.rules.toString(t)}}]),StyleSheet}();e.default=s},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(724)),o=r(n(725)),a=r(n(726)),s=r(n(728)),u=r(n(730)),l=r(n(735));var c=function jssPreset(){return{plugins:[(0,i.default)(),(0,o.default)(),(0,a.default)(),(0,s.default)(),(0,u.default)(),(0,l.default)()]}};e.default=c},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(36));r(n(64)),r(n(246));var o=function mergeClasses(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;return t.Component,t.noBase,n?(0,i.default)({},e,Object.keys(n).reduce((function(t,r){return n[r]&&(t[r]="".concat(e[r]," ").concat(n[r])),t}),{})):e};e.default=o},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createBreakpoints(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,s=void 0===r?"px":r,u=t.step,l=void 0===u?5:u,c=(0,o.default)(t,["values","unit","step"]);function up(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(s,")")}function between(t,e){var r=a.indexOf(e)+1;return r===a.length?up(t):"@media (min-width:".concat(n[t]).concat(s,") and ")+"(max-width:".concat(n[a[r]]-l/100).concat(s,")")}return(0,i.default)({keys:a,values:n,up:up,down:function down(t){var e=a.indexOf(t)+1,r=n[a[e]];return e===a.length?up("xs"):"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-l/100).concat(s,")")},between:between,only:function only(t){return between(t,t)},width:function width(t){return n[t]}},c)},e.keys=void 0;var i=r(n(36)),o=r(n(11)),a=["xs","sm","md","lg","xl"];e.keys=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={black:"#000",white:"#fff"};e.default=r},function(t,e,n){"use strict";(function(t){var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createGenerateClassName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dangerouslyUseGlobalCSS,r=void 0!==n&&n,i=e.productionPrefix,o=void 0===i?"jss":i,a=0;"undefined"!==typeof window&&(t.__MUI_GENERATOR_COUNTER__+=1,t.__MUI_GENERATOR_COUNTER__>2&&console.error(["Material-UI: we have detected more than needed creation of the class name generator.","You should only use one class name generator on the client side.","If you do otherwise, you take the risk to have conflicting class names in production."].join("\n")));return function(t,e){if(a+=1,r){if(e&&e.options.classNamePrefix){var n=safePrefix(e.options.classNamePrefix);if(n.match(/^Mui/))return"".concat(n,"-").concat(t.key);0}return"".concat(o).concat(a)}return"".concat(o).concat(a)}};r(n(64));t.__MUI_GENERATOR_COUNTER__=0;var i=/([[\].#*$><+~=|^:(),"'`\s])/g;function safePrefix(t){return String(t).replace(i,"-")}}).call(this,n(32))},function(t,e,n){var r=n(753),i=n(754),o=n(755);t.exports=function _toConsumableArray(t){return r(t)||i(t)||o()}},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(55))),d=r(n(358)),h=r(n(8)),g=r(n(168)),y=r(n(258)),m={vertical:"top",horizontal:"right"},v={vertical:"top",horizontal:"left"},_={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}};e.styles=_;var b=function(t){function Menu(){var t,e,n;(0,s.default)(this,Menu);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Menu.__proto__||Object.getPrototypeOf(Menu)).call.apply(t,[this].concat(i))),n.menuList=null,n.getContentAnchorEl=function(){return n.menuList&&n.menuList.selectedItem?p.default.findDOMNode(n.menuList.selectedItem):p.default.findDOMNode(n.menuList).firstChild},n.focus=function(){if(n.menuList&&n.menuList.selectedItem)p.default.findDOMNode(n.menuList.selectedItem).focus();else{var t=p.default.findDOMNode(n.menuList);t&&t.firstChild&&t.firstChild.focus()}},n.handleEnter=function(t){var e=n.props.theme,r=p.default.findDOMNode(n.menuList);if(n.focus(),r&&t.clientHeight<r.clientHeight&&!r.style.width){var i="".concat((0,d.default)(),"px");r.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=i,r.style.width="calc(100% + ".concat(i,")")}n.props.onEnter&&n.props.onEnter(t)},n.handleListKeyDown=function(t,e){"tab"===e&&(t.preventDefault(),n.props.onClose&&n.props.onClose(t))},e))}return(0,c.default)(Menu,t),(0,u.default)(Menu,[{key:"componentDidMount",value:function componentDidMount(){this.props.open&&this.focus()}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.classes,s=e.MenuListProps,u=(e.onEnter,e.PaperProps),l=void 0===u?{}:u,c=e.PopoverClasses,p=e.theme,d=(0,a.default)(e,["children","classes","MenuListProps","onEnter","PaperProps","PopoverClasses","theme"]);return f.default.createElement(g.default,(0,i.default)({getContentAnchorEl:this.getContentAnchorEl,classes:c,onEnter:this.handleEnter,anchorOrigin:"rtl"===p.direction?m:v,transformOrigin:"rtl"===p.direction?m:v,PaperProps:(0,o.default)({},l,{classes:(0,o.default)({},l.classes,{root:r.paper})})},d),f.default.createElement(y.default,(0,i.default)({role:"menu",onKeyDown:this.handleListKeyDown},s,{ref:function ref(e){t.menuList=e}}),n))}}]),Menu}(f.default.Component);b.propTypes={},b.defaultProps={transitionDuration:"auto"};var S=(0,h.default)(_,{name:"MuiMenu",withTheme:!0})(b);e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((!i&&0!==i||t)&&r.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(359));var i=void 0;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"===typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(38)),a=r(n(789)),s=r(n(358)),u=r(n(103)),l=r(n(797)),c=n(799);function getPaddingRight(t){return parseInt((0,a.default)(t,"paddingRight")||0,10)}var f=function(){function ModalManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,ModalManager);var e=t.hideSiblingNodes,n=void 0===e||e,r=t.handleContainerOverflow,o=void 0===r||r;this.hideSiblingNodes=n,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[]}return(0,o.default)(ModalManager,[{key:"add",value:function add(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&(0,c.hideSiblings)(e,t.mountNode);var r=this.containers.indexOf(e);if(-1!==r)return this.data[r].modals.push(t),n;var i={modals:[t],overflowing:(0,l.default)(e),prevPaddings:[]};return this.handleContainerOverflow&&function setContainerStyle(t,e){var n={overflow:"hidden"};if(t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing){var r=(0,s.default)();n.paddingRight="".concat(getPaddingRight(e)+r,"px");for(var i=(0,u.default)(e).querySelectorAll(".mui-fixed"),o=0;o<i.length;o+=1){var a=getPaddingRight(i[o]);t.prevPaddings.push(a),i[o].style.paddingRight="".concat(a+r,"px")}}Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}(i,e),this.containers.push(e),this.data.push(i),n}},{key:"remove",value:function remove(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=function findIndexOf(t,e){var n=-1;return t.some((function(t,r){return!!e(t)&&(n=r,!0)})),n}(this.data,(function(e){return-1!==e.modals.indexOf(t)})),r=this.data[n],i=this.containers[n];return r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length?(this.handleContainerOverflow&&function removeContainerStyle(t,e){Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));for(var n=(0,u.default)(e).querySelectorAll(".mui-fixed"),r=0;r<n.length;r+=1)n[r].style.paddingRight="".concat(t.prevPaddings[r],"px")}(r,i),this.hideSiblingNodes&&(0,c.showSiblings)(i,t.mountNode),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&(0,c.ariaHidden)(!1,r.modals[r.modals.length-1].mountNode),e}},{key:"isTopModal",value:function isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}]),ModalManager}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelizeStyleName(t){return(0,r.default)(t.replace(i,"ms-"))};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(790));var i=/^-ms-/;t.exports=e.default},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=r(n(197)),a=r(n(77)),s=i.default.createElement("path",{d:"M7 10l5 5 5-5z"}),u=function ArrowDropDown(t){return i.default.createElement(a.default,t,s)};(u=(0,o.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var r=_interopRequireDefault(n(807)),i=_interopRequireDefault(n(809)),o="function"===typeof i.default&&"symbol"===typeof r.default?function(t){return typeof t}:function(t){return t&&"function"===typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default="function"===typeof i.default&&"symbol"===o(r.default)?function(t){return"undefined"===typeof t?"undefined":o(t)}:function(t){return t&&"function"===typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":"undefined"===typeof t?"undefined":o(t)}},function(t,e,n){var r=n(323),i=n(237).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return r(t,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(825));e.default=function setDisplayName(t){return(0,r.default)("displayName",t)}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3)));function NativeSelectInput(t){var e=t.children,n=t.classes,r=t.className,l=t.disabled,c=t.IconComponent,f=t.inputRef,p=t.name,d=t.onChange,h=t.value,g=(0,a.default)(t,["children","classes","className","disabled","IconComponent","inputRef","name","onChange","value"]);return s.default.createElement("div",{className:n.root},s.default.createElement("select",(0,i.default)({className:(0,u.default)(n.select,(0,o.default)({},n.disabled,l),r),name:p,disabled:l,onChange:d,value:h,ref:f},g),e),s.default.createElement(c,{className:n.icon}))}NativeSelectInput.propTypes={};var l=NativeSelectInput;e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(164)),i=_interopRequireDefault(n(0)),o=_interopRequireDefault(n(55)),a=n(84);n(368);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s="unmounted";e.UNMOUNTED=s;var u="exited";e.EXITED=u;var l="entering";e.ENTERING=l;var c="entered";e.ENTERED=c;e.EXITING="exiting";var f=function(t){function Transition(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=u,r.appearStatus=l):i=c:i=e.unmountOnExit||e.mountOnEnter?s:u,r.state={status:i},r.nextCallback=null,r}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(Transition,t);var e=Transition.prototype;return e.getChildContext=function getChildContext(){return{transitionGroup:null}},Transition.getDerivedStateFromProps=function getDerivedStateFromProps(t,e){return t.in&&e.status===s?{status:u}:null},e.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function componentDidUpdate(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==c&&(e=l):n!==l&&n!==c||(e="exiting")}this.updateStatus(!1,e)},e.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},e.getTimeouts=function getTimeouts(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},e.updateStatus=function updateStatus(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===l?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:s})},e.performEnter=function performEnter(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:l},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:c},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:c},(function(){n.props.onEntered(t)}))},e.performExit=function performExit(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(t)}))},e.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function safeSetState(t,e){e=this.setNextCallback(e),this.setState(t,e)},e.setNextCallback=function setNextCallback(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},e.onTransitionEnd=function onTransitionEnd(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},e.render=function render(){var t=this.state.status;if(t===s)return null;var e=this.props,n=e.children,r=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},Transition}(i.default.Component);function noop(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function transitionGroup(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var p=(0,a.polyfill)(f);e.default=p},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}})(n(164));e.timeoutsShape=null;e.classNamesShape=null},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=_interopRequireDefault(n(164)),i=_interopRequireDefault(n(0)),o=n(84),a=n(843);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},u=function(t){function TransitionGroup(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(_assertThisInitialized(_assertThisInitialized(r)));return r.state={handleExited:i,firstRender:!0},r}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(TransitionGroup,t);var e=TransitionGroup.prototype;return e.getChildContext=function getChildContext(){return{transitionGroup:{isMounting:!this.appeared}}},e.componentDidMount=function componentDidMount(){this.appeared=!0,this.mounted=!0},e.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},e.handleExited=function handleExited(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=_extends({},e.children);return delete n[t.key],{children:n}})))},e.render=function render(){var t=this.props,e=t.component,n=t.childFactory,r=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=s(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},TransitionGroup}(i.default.Component);u.childContextTypes={transitionGroup:r.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function childFactory(t){return t}};var l=(0,o.polyfill)(u);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79),a=n(80),s=n(371),u=n(199),l=r.default("capnp:arena:multi");l("load");var c=function(){function MultiSegmentArena(t){void 0===t&&(t=[]),this.kind=u.ArenaKind.MULTI_SEGMENT,this.buffers=t,l("new %s",this)}return MultiSegmentArena.prototype.toString=function(){return a.format("MultiSegmentArena_segments:%d",getNumSegments(this))},MultiSegmentArena.allocate=allocate,MultiSegmentArena.getBuffer=getBuffer,MultiSegmentArena.getNumSegments=getNumSegments,MultiSegmentArena}();function allocate(t,e){var n=new ArrayBuffer(a.padToWord(Math.max(t,i.DEFAULT_BUFFER_SIZE)));return e.buffers.push(n),new s.ArenaAllocationResult(e.buffers.length-1,n)}function getBuffer(t,e){if(t<0||t>=e.buffers.length)throw new Error(a.format(o.SEG_ID_OUT_OF_BOUNDS,t));return e.buffers[t]}function getNumSegments(t){return t.buffers.length}e.MultiSegmentArena=c,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39).default("capnp:serialization:arena:arena-allocation-result");r("load");var i=function i(t,e){this.id=t,this.buffer=e,r("new",this)};e.ArenaAllocationResult=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79),a=n(80),s=n(371),u=n(199),l=r.default("capnp:arena:single");l("load");var c=function(){function SingleSegmentArena(t){if(void 0===t&&(t=new ArrayBuffer(i.DEFAULT_BUFFER_SIZE)),this.kind=u.ArenaKind.SINGLE_SEGMENT,0!==(7&t.byteLength))throw new Error(a.format(o.SEG_NOT_WORD_ALIGNED,t.byteLength));this.buffer=t,l("new %s",this)}return SingleSegmentArena.prototype.toString=function(){return a.format("SingleSegmentArena_len:%x",this.buffer.byteLength)},SingleSegmentArena.allocate=allocate,SingleSegmentArena.getBuffer=getBuffer,SingleSegmentArena.getNumSegments=getNumSegments,SingleSegmentArena}();function allocate(t,e,n){l("Allocating %x bytes for segment 0 in %s.",t,n);var r=e.length>0?e[0].buffer:n.buffer;return t=t<i.MIN_SINGLE_SEGMENT_GROWTH?i.MIN_SINGLE_SEGMENT_GROWTH:a.padToWord(t),n.buffer=new ArrayBuffer(r.byteLength+t),new Float64Array(n.buffer).set(new Float64Array(r)),new s.ArenaAllocationResult(0,n.buffer)}function getBuffer(t,e){if(0!==t)throw new Error(a.format(o.SEG_GET_NON_ZERO_SINGLE,t));return e.buffer}function getNumSegments(){return 1}e.SingleSegmentArena=c,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(79),o=n(80),a=n(59),s=n(142),u=n(53),l=n(143),c=r.default("capnp:orphan");c("load");var f=function(){function Orphan(t){var e=u.getContent(t);switch(this.segment=e.segment,this.byteOffset=e.byteOffset,this._capnp={},this._capnp.type=u.getTargetPointerType(t),this._capnp.type){case l.PointerType.STRUCT:this._capnp.size=u.getTargetStructSize(t);break;case l.PointerType.LIST:this._capnp.length=u.getTargetListLength(t),this._capnp.elementSize=u.getTargetListElementSize(t),this._capnp.elementSize===a.ListElementSize.COMPOSITE&&(this._capnp.size=u.getTargetCompositeListSize(t));break;case l.PointerType.OTHER:this._capnp.capId=u.getCapabilityId(t);break;default:throw new Error(i.PTR_INVALID_POINTER_TYPE)}u.erasePointer(t)}return Orphan.prototype._moveTo=function(t){if(void 0===this._capnp)throw new Error(o.format(i.PTR_ALREADY_ADOPTED,this));if(this.segment.message!==t.segment.message)throw new Error(o.format(i.PTR_ADOPT_WRONG_MESSAGE,this,t));u.erase(t);var e=u.initPointer(this.segment,this.byteOffset,t);switch(this._capnp.type){case l.PointerType.STRUCT:u.setStructPointer(e.offsetWords,this._capnp.size,e.pointer);break;case l.PointerType.LIST:var n=e.offsetWords;this._capnp.elementSize===a.ListElementSize.COMPOSITE&&n--,u.setListPointer(n,this._capnp.elementSize,this._capnp.length,e.pointer,this._capnp.size);break;case l.PointerType.OTHER:u.setInterfacePointer(this._capnp.capId,e.pointer);break;default:throw new Error(i.PTR_INVALID_POINTER_TYPE)}this._capnp=void 0},Orphan.prototype.dispose=function(){if(void 0!==this._capnp){switch(this._capnp.type){case l.PointerType.STRUCT:this.segment.fillZeroWords(this.byteOffset,s.getWordLength(this._capnp.size));break;case l.PointerType.LIST:var t=u.getListByteLength(this._capnp.elementSize,this._capnp.length,this._capnp.size);this.segment.fillZeroWords(this.byteOffset,t)}this._capnp=void 0}else c("not disposing an already disposed orphan",this)},Orphan.prototype.toString=function(){return o.format("Orphan_%d@%a,type:%s",this.segment.id,this.byteOffset,this._capnp&&this._capnp.type)},Orphan}();e.Orphan=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(83),o=n(79),a=n(80),s=function(t){function Interface(e,n,r){void 0===r&&(r=i.MAX_DEPTH);t.call(this,e,n,r);throw new Error(a.format(o.NOT_IMPLEMENTED,"new Interface"))}return r.__extends(Interface,t),Interface}(n(53).Pointer);e.Interface=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79),a=n(80),s=r.default("capnp:uint64");s("load");var u=function(){function Uint64(t){if(t.byteLength<8)throw new RangeError(o.RANGE_INT64_UNDERFLOW);this.buffer=t}return Uint64.fromArrayBuffer=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},Uint64.fromDataView=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},Uint64.fromHexString=function(t){if("0x"===t.substr(0,2)&&(t=t.substr(2)),t.length<1)return Uint64.fromNumber(0);if("-"===t[0])throw new RangeError("Source must not be negative.");if(16!==(t=a.pad(t,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var e=t.toLowerCase().replace(/[^\da-f]/g,""),n=new Uint8Array(new ArrayBuffer(8)),r=0;r<8;r++)n[7-r]=parseInt(e.substr(2*r,2),16);return new Uint64(n)},Uint64.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},Uint64.fromUint8Array=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},Uint64.prototype.equals=function(t){for(var e=0;e<8;e++)if(this.buffer[e]!==t.buffer[e])return!1;return!0},Uint64.prototype.inspect=function(){return"[Uint64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},Uint64.prototype.isZero=function(){for(var t=0;t<8;t++)if(0!==this.buffer[t])return!1;return!0},Uint64.prototype.setValue=function(t,e){var n=t,r=e;if(void 0===r){if(r=n,n=(r=Math.abs(r))%i.VAL32,(r/=i.VAL32)>i.VAL32)throw new RangeError(t+" is outside Uint64 range");r>>>=0}for(var o=0;o<8;o++)this.buffer[o]=255&n,n=3===o?r:n>>>8},Uint64.prototype.toNumber=function(t){for(var e=this.buffer,n=0,r=0,o=1;r<8;){n+=e[r]*o,o*=256,r++}return!t&&n>=i.MAX_SAFE_INTEGER?(s("Coercing out of range value %d to Infinity.",n),1/0):n},Uint64.prototype.valueOf=function(){return this.toNumber(!1)},Uint64.prototype.toArrayBuffer=function(){return this.buffer.buffer},Uint64.prototype.toDataView=function(){return new DataView(this.buffer.buffer)},Uint64.prototype.toHexString=function(){for(var t="",e=7;e>=0;e--){var n=this.buffer[e].toString(16);1===n.length&&(n="0"+n),t+=n}return t},Uint64.prototype.toString=function(t){return this.toNumber(!0).toString(t)},Uint64.prototype.toUint8Array=function(){return this.buffer},Uint64}();e.Uint64=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(142),o=function(t){function Void(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Void,t),Void._capnp={displayName:"Void",id:"0",size:new i.ObjectSize(0,0)},Void}(n(266).Struct);e.Void=o,e.VOID=void 0},function(t,e,n){"use strict";(function(t){var r=n(888),i=n(889),o=n(890);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,n){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,n)}function from(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e);return t}(t,e,n,r):"string"===typeof e?function fromString(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(e,n),i=(t=createBuffer(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function fromObject(t,e){if(Buffer.isBuffer(e)){var n=0|checked(e.length);return 0===(t=createBuffer(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||function isnan(t){return t!==t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&o(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function fromArrayLike(t,e){var n=e.length<0?0:0|checked(e.length);t=createBuffer(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(t).length;default:if(r)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),r=!0}}function slowToString(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,n);case"utf8":case"utf-8":return utf8Slice(this,e,n);case"ascii":return asciiSlice(this,e,n);case"latin1":case"binary":return latin1Slice(this,e,n);case"base64":return base64Slice(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function swap(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function bidirectionalIndexOf(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=Buffer.from(e,r)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,n,r,i);if("number"===typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):arrayIndexOf(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function read(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(read(t,o)===read(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(read(t,o+f)!==read(e,f)){c=!1;break}if(c)return o}return-1}function hexWrite(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function utf8Write(t,e,n,r){return blitBuffer(utf8ToBytes(e,t.length-n),t,n,r)}function asciiWrite(t,e,n,r){return blitBuffer(function asciiToBytes(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function latin1Write(t,e,n,r){return asciiWrite(t,e,n,r)}function base64Write(t,e,n,r){return blitBuffer(base64ToBytes(e),t,n,r)}function ucs2Write(t,e,n,r){return blitBuffer(function utf16leToBytes(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function base64Slice(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function utf8Slice(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,u,l,c=t[i],f=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(f=c);break;case 2:128===(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)>127&&(f=l);break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=t[i+1],s=t[i+2],u=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&u)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(f=l)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=p}return function decodeCodePointsArray(t){var e=t.length;if(e<=a)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=a));return n}(r)}e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,n){return from(null,t,e,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,n){return function alloc(t,e,n,r){return assertSize(e),e<=0?createBuffer(t,e):void 0!==n?"string"===typeof r?createBuffer(t,e).fill(n,r):createBuffer(t,e).fill(n):createBuffer(t,e)}(null,t,e,n)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Buffer.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,n,r,i){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(t,e,n){return-1!==this.indexOf(t,e,n)},Buffer.prototype.indexOf=function indexOf(t,e,n){return bidirectionalIndexOf(this,t,e,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,n){return bidirectionalIndexOf(this,t,e,n,!1)},Buffer.prototype.write=function write(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,t,e,n);case"utf8":case"utf-8":return utf8Write(this,t,e,n);case"ascii":return asciiWrite(this,t,e,n);case"latin1":case"binary":return latin1Write(this,t,e,n);case"base64":return base64Write(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function asciiSlice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function latin1Slice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function hexSlice(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=toHex(t[o]);return i}function utf16leSlice(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,n,r,i,o){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function checkIEEE754(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(t,e,n,r,o){return o||checkIEEE754(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function writeDouble(t,e,n,r,o){return o||checkIEEE754(t,0,n,8),i.write(t,e,n,r,52,8),n+8}Buffer.prototype.slice=function slice(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Buffer.prototype;else{var i=e-t;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Buffer.prototype.readUIntLE=function readUIntLE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Buffer.prototype.readUIntBE=function readUIntBE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Buffer.prototype.readIntBE=function readIntBE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),i.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),i.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),i.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),i.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,n,r){(t=+t,e|=0,n|=0,r)||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,n,r){(t=+t,e|=0,n|=0,r)||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Buffer.prototype.writeUInt8=function writeUInt8(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Buffer.prototype.writeIntBE=function writeIntBE(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Buffer.prototype.writeInt8=function writeInt8(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,n){return writeFloat(this,t,e,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,n){return writeFloat(this,t,e,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,n){return writeDouble(this,t,e,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,n){return writeDouble(this,t,e,!1,n)},Buffer.prototype.copy=function copy(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Buffer.prototype.fill=function fill(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function base64ToBytes(t){return r.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(s,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function blitBuffer(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(32))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(908))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(910))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(911))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(912))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return i.default}});var i=r(n(913))},function(t,e,n){"use strict";var r=n(384),i=n(932),o=n(200);function MapiClient(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");r(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||o.API_ORIGIN}MapiClient.prototype.createRequest=function createRequest(t){return new i(this,t)},t.exports=MapiClient},function(t,e,n){"use strict";var r=n(930),i={};function has(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function parseToken(t){if(i[t])return i[t];var e=t.split("."),n=e[0],o=e[1];if(!o)throw new Error("Invalid token");var a=function parsePaylod(t){try{return JSON.parse(r.decode(t))}catch(e){throw new Error("Invalid token")}}(o),s={usage:n,user:a.u};return has(a,"a")&&(s.authorization=a.a),has(a,"exp")&&(s.expires=1e3*a.exp),has(a,"iat")&&(s.created=1e3*a.iat),has(a,"scopes")&&(s.scopes=a.scopes),has(a,"client")&&(s.client=a.client),has(a,"ll")&&(s.lastLogin=a.ll),has(a,"iu")&&(s.impersonator=a.iu),i[t]=s,s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=n(0),a=(_interopRequireDefault(o),_interopRequireDefault(n(942))),s=_interopRequireDefault(n(947)),u=_interopRequireDefault(n(948)),l=_interopRequireDefault(n(949));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}e.default=function withContentRect(t){return function(e){var n,c;return c=n=function(n){function _class(){var e,n,r;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=_possibleConstructorReturn(this,(e=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(e,[this].concat(o))),r.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},r.measure=function(e){var n=(0,l.default)(r._node,t||(0,u.default)(r.props));e&&(n.entry=e[0].contentRect),r.setState({contentRect:n}),"function"===typeof r.props.onResize&&r.props.onResize(n)},r._handleRef=function(t){r._resizeObserver&&(t?r._resizeObserver.observe(t):r._resizeObserver.disconnect(r._node)),r._node=t,"function"===typeof r.props.innerRef&&r.props.innerRef(t)},_possibleConstructorReturn(r,n)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_class,n),i(_class,[{key:"componentWillMount",value:function componentWillMount(){this._resizeObserver=new s.default(this.measure)}},{key:"render",value:function render(){var t=this.props,n=(t.innerRef,t.onResize,function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["innerRef","onResize"]));return(0,o.createElement)(e,r({},n,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))}}]),_class}(o.Component),n.propTypes={client:a.default.bool,offset:a.default.bool,scroll:a.default.bool,bounds:a.default.bool,margin:a.default.bool,innerRef:a.default.func,onResize:a.default.func,children:a.default.func},c}},t.exports=e.default},function(t,e,n){t.exports={default:n(952),__esModule:!0}},function(t,e){t.exports=function normalize(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},function(t,e){t.exports=function dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function _default(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{player:(0,i.default)(t.player,e),operation:(0,o.default)(t.operation,e)}},e.operationReducer=e.playerReducer=void 0;var i=r(n(988)),o=r(n(989));var a=i.default;e.playerReducer=a;var s=o.default;e.operationReducer=s},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(45)),o=r(n(46)),a=new(function(){function Fullscreen(){(0,i.default)(this,Fullscreen)}return(0,o.default)(Fullscreen,[{key:"request",value:function request(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},{key:"exit",value:function exit(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"addEventListener",value:function addEventListener(t){document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t)}},{key:"removeEventListener",value:function removeEventListener(t){document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t)}},{key:"isFullscreen",get:function get(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function get(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),Fullscreen}());e.default=a},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h={actions:f.default.object,player:f.default.object,position:f.default.string,className:f.default.string},g=function(t){function BigPlayButton(t,e){var n;return(0,o.default)(this,BigPlayButton),(n=(0,s.default)(this,(0,u.default)(BigPlayButton).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(BigPlayButton,t),(0,a.default)(BigPlayButton,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"handleClick",value:function handleClick(){this.props.actions.play()}},{key:"render",value:function render(){var t=this.props,e=t.player,n=t.position;return p.default.createElement("button",{className:(0,d.default)("video-react-big-play-button","video-react-big-play-button-".concat(n),this.props.className,{"big-play-button-hide":e.hasStarted||!e.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},p.default.createElement("span",{className:"video-react-control-text"},"Play Video"))}}]),BigPlayButton}(p.Component);e.default=g,g.propTypes=h,g.defaultProps={position:"left"},g.displayName="BigPlayButton"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=LoadingSpinner;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s={player:i.default.object,className:i.default.string};function LoadingSpinner(t){var e=t.player,n=t.className;return e.error?null:o.default.createElement("div",{className:(0,a.default)("video-react-loading-spinner",n)})}LoadingSpinner.propTypes=s,LoadingSpinner.displayName="LoadingSpinner"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s={poster:i.default.string,player:i.default.object,actions:i.default.object,className:i.default.string};function PosterImage(t){var e=t.poster,n=t.player,r=t.actions,i=t.className;return!e||n.hasStarted?null:o.default.createElement("div",{className:(0,a.default)("video-react-poster",i),style:{backgroundImage:'url("'.concat(e,'")')},onClick:function onClick(){n.paused&&r.play()}})}PosterImage.propTypes=s,PosterImage.displayName="PosterImage";var u=PosterImage;e.default=u},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(115)),a=i(n(45)),s=i(n(46)),u=i(n(49)),l=i(n(47)),c=i(n(58)),f=i(n(50)),p=i(n(29)),d=r(n(0)),h=i(n(3)),g=n(92),y={actions:p.default.object,player:p.default.object,children:p.default.any,startTime:p.default.number,loop:p.default.bool,muted:p.default.bool,autoPlay:p.default.bool,playsInline:p.default.bool,src:p.default.string,poster:p.default.string,className:p.default.string,preload:p.default.oneOf(["auto","metadata","none"]),crossOrigin:p.default.string,onLoadStart:p.default.func,onWaiting:p.default.func,onCanPlay:p.default.func,onCanPlayThrough:p.default.func,onPlaying:p.default.func,onEnded:p.default.func,onSeeking:p.default.func,onSeeked:p.default.func,onPlay:p.default.func,onPause:p.default.func,onProgress:p.default.func,onDurationChange:p.default.func,onError:p.default.func,onSuspend:p.default.func,onAbort:p.default.func,onEmptied:p.default.func,onStalled:p.default.func,onLoadedMetadata:p.default.func,onLoadedData:p.default.func,onTimeUpdate:p.default.func,onRateChange:p.default.func,onVolumeChange:p.default.func,onResize:p.default.func},m=function(t){function Video(t){var e;return(0,a.default)(this,Video),(e=(0,u.default)(this,(0,l.default)(Video).call(this,t))).video=null,e.play=e.play.bind((0,c.default)(e)),e.pause=e.pause.bind((0,c.default)(e)),e.seek=e.seek.bind((0,c.default)(e)),e.forward=e.forward.bind((0,c.default)(e)),e.replay=e.replay.bind((0,c.default)(e)),e.toggleFullscreen=e.toggleFullscreen.bind((0,c.default)(e)),e.getProperties=e.getProperties.bind((0,c.default)(e)),e.renderChildren=e.renderChildren.bind((0,c.default)(e)),e.handleLoadStart=e.handleLoadStart.bind((0,c.default)(e)),e.handleCanPlay=e.handleCanPlay.bind((0,c.default)(e)),e.handleCanPlayThrough=e.handleCanPlayThrough.bind((0,c.default)(e)),e.handlePlay=e.handlePlay.bind((0,c.default)(e)),e.handlePlaying=e.handlePlaying.bind((0,c.default)(e)),e.handlePause=e.handlePause.bind((0,c.default)(e)),e.handleEnded=e.handleEnded.bind((0,c.default)(e)),e.handleWaiting=e.handleWaiting.bind((0,c.default)(e)),e.handleSeeking=e.handleSeeking.bind((0,c.default)(e)),e.handleSeeked=e.handleSeeked.bind((0,c.default)(e)),e.handleFullscreenChange=e.handleFullscreenChange.bind((0,c.default)(e)),e.handleError=e.handleError.bind((0,c.default)(e)),e.handleSuspend=e.handleSuspend.bind((0,c.default)(e)),e.handleAbort=e.handleAbort.bind((0,c.default)(e)),e.handleEmptied=e.handleEmptied.bind((0,c.default)(e)),e.handleStalled=e.handleStalled.bind((0,c.default)(e)),e.handleLoadedMetaData=e.handleLoadedMetaData.bind((0,c.default)(e)),e.handleLoadedData=e.handleLoadedData.bind((0,c.default)(e)),e.handleTimeUpdate=e.handleTimeUpdate.bind((0,c.default)(e)),e.handleRateChange=e.handleRateChange.bind((0,c.default)(e)),e.handleVolumeChange=e.handleVolumeChange.bind((0,c.default)(e)),e.handleDurationChange=e.handleDurationChange.bind((0,c.default)(e)),e.handleProgress=(0,g.throttle)(e.handleProgress.bind((0,c.default)(e)),250),e.handleKeypress=e.handleKeypress.bind((0,c.default)(e)),e.handleTextTrackChange=e.handleTextTrackChange.bind((0,c.default)(e)),e}return(0,f.default)(Video,t),(0,s.default)(Video,[{key:"componentDidMount",value:function componentDidMount(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:"getProperties",value:function getProperties(){var t=this;return this.video?g.mediaProperties.reduce((function(e,n){return e[n]=t.video[n],e}),{}):null}},{key:"handleTextTrackChange",value:function handleTextTrackChange(){var t=this.props,e=t.actions,n=t.player;if(this.video&&this.video.textTracks){var r=Array.from(this.video.textTracks).find((function(t){return"showing"===t.mode}));r!==n.activeTextTrack&&e.activateTextTrack(r)}}},{key:"play",value:function play(){var t=this.video.play();void 0!==t&&t.catch((function(){})).then((function(){}))}},{key:"pause",value:function pause(){var t=this.video.pause();void 0!==t&&t.catch((function(){})).then((function(){}))}},{key:"load",value:function load(){this.video.load()}},{key:"addTextTrack",value:function addTextTrack(){var t;(t=this.video).addTextTrack.apply(t,arguments)}},{key:"canPlayType",value:function canPlayType(){var t;(t=this.video).canPlayType.apply(t,arguments)}},{key:"togglePlay",value:function togglePlay(){this.video.paused?this.play():this.pause()}},{key:"seek",value:function seek(t){try{this.video.currentTime=t}catch(e){}}},{key:"forward",value:function forward(t){this.seek(this.video.currentTime+t)}},{key:"replay",value:function replay(t){this.forward(-t)}},{key:"toggleFullscreen",value:function toggleFullscreen(){var t=this.props,e=t.player;t.actions.toggleFullscreen(e)}},{key:"handleLoadStart",value:function handleLoadStart(){var t=this.props,e=t.actions,n=t.onLoadStart;e.handleLoadStart(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleCanPlay",value:function handleCanPlay(){var t=this.props,e=t.actions,n=t.onCanPlay;e.handleCanPlay(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleCanPlayThrough",value:function handleCanPlayThrough(){var t=this.props,e=t.actions,n=t.onCanPlayThrough;e.handleCanPlayThrough(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePlaying",value:function handlePlaying(){var t=this.props,e=t.actions,n=t.onPlaying;e.handlePlaying(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePlay",value:function handlePlay(){var t=this.props,e=t.actions,n=t.onPlay;e.handlePlay(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handlePause",value:function handlePause(){var t=this.props,e=t.actions,n=t.onPause;e.handlePause(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleDurationChange",value:function handleDurationChange(){var t=this.props,e=t.actions,n=t.onDurationChange;e.handleDurationChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleProgress",value:function handleProgress(){var t=this.props,e=t.actions,n=t.onProgress;this.video&&e.handleProgressChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleEnded",value:function handleEnded(){var t=this.props,e=t.loop,n=t.player,r=t.actions,i=t.onEnded;e?(this.seek(0),this.play()):n.paused||this.pause(),r.handleEnd(this.getProperties()),i&&i.apply(void 0,arguments)}},{key:"handleWaiting",value:function handleWaiting(){var t=this.props,e=t.actions,n=t.onWaiting;e.handleWaiting(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleSeeking",value:function handleSeeking(){var t=this.props,e=t.actions,n=t.onSeeking;e.handleSeeking(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleSeeked",value:function handleSeeked(){var t=this.props,e=t.actions,n=t.onSeeked;e.handleSeeked(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleFullscreenChange",value:function handleFullscreenChange(){}},{key:"handleSuspend",value:function handleSuspend(){var t=this.props,e=t.actions,n=t.onSuspend;e.handleSuspend(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleAbort",value:function handleAbort(){var t=this.props,e=t.actions,n=t.onAbort;e.handleAbort(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleEmptied",value:function handleEmptied(){var t=this.props,e=t.actions,n=t.onEmptied;e.handleEmptied(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleStalled",value:function handleStalled(){var t=this.props,e=t.actions,n=t.onStalled;e.handleStalled(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleLoadedMetaData",value:function handleLoadedMetaData(){var t=this.props,e=t.actions,n=t.onLoadedMetadata,r=t.startTime;r&&r>0&&(this.video.currentTime=r),e.handleLoadedMetaData(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleLoadedData",value:function handleLoadedData(){var t=this.props,e=t.actions,n=t.onLoadedData;e.handleLoadedData(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleTimeUpdate",value:function handleTimeUpdate(){var t=this.props,e=t.actions,n=t.onTimeUpdate;e.handleTimeUpdate(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleRateChange",value:function handleRateChange(){var t=this.props,e=t.actions,n=t.onRateChange;e.handleRateChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleVolumeChange",value:function handleVolumeChange(){var t=this.props,e=t.actions,n=t.onVolumeChange;e.handleVolumeChange(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleError",value:function handleError(){var t=this.props,e=t.actions,n=t.onError;e.handleError(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleResize",value:function handleResize(){var t=this.props,e=t.actions,n=t.onResize;e.handleResize(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:"handleKeypress",value:function handleKeypress(){}},{key:"renderChildren",value:function renderChildren(){var t=this,e=(0,o.default)({},this.props,{video:this.video});return this.video?d.default.Children.toArray(this.props.children).filter(g.isVideoChild).map((function(n){var r;if("string"===typeof n.type){if("source"===n.type){var i=(r=(0,o.default)({},n.props)).onError;r.onError=function(){i&&i.apply(void 0,arguments),t.handleError.apply(t,arguments)}}}else r=e;return d.default.cloneElement(n,r)})):null}},{key:"render",value:function render(){var t=this,e=this.props,n=e.loop,r=e.poster,i=e.preload,o=e.src,a=e.autoPlay,s=e.playsInline,u=e.muted,l=e.crossOrigin,c=e.videoId;return d.default.createElement("video",{className:(0,h.default)("video-react-video",this.props.className),id:c,crossOrigin:l,ref:function ref(e){t.video=e},muted:u,preload:i,loop:n,playsInline:s,autoPlay:a,poster:r,src:o,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())}},{key:"playbackRate",get:function get(){return this.video.playbackRate},set:function set(t){this.video.playbackRate=t}},{key:"muted",get:function get(){return this.video.muted},set:function set(t){this.video.muted=t}},{key:"volume",get:function get(){return this.video.volume},set:function set(t){t>1&&(t=1),t<0&&(t=0),this.video.volume=t}},{key:"videoWidth",get:function get(){return this.video.videoWidth}},{key:"videoHeight",get:function get(){return this.video.videoHeight}}]),Video}(d.Component);e.default=m,m.propTypes=y,m.displayName="Video"},function(t,e,n){var r=n(990),i=n(991),o=n(992);t.exports=function _toConsumableArray(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h={manager:f.default.object,className:f.default.string},g=function(t){function Bezel(t,e){var n;return(0,o.default)(this,Bezel),(n=(0,s.default)(this,(0,u.default)(Bezel).call(this,t,e))).timer=null,t.manager.subscribeToOperationStateChange(n.handleStateChange.bind((0,l.default)(n))),n.state={hidden:!0,operation:{}},n}return(0,c.default)(Bezel,t),(0,a.default)(Bezel,[{key:"handleStateChange",value:function handleStateChange(t,e){var n=this;t.count!==e.count&&"shortcut"===t.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:t.count,operation:t.operation}),this.timer=setTimeout((function(){n.setState({hidden:!0}),n.timer=null}),500))}},{key:"render",value:function render(){if("shortcut"!==this.state.operation.source)return null;var t=this.state.hidden?{display:"none"}:null;return p.default.createElement("div",{className:(0,d.default)({"video-react-bezel":!0,"video-react-bezel-animation":this.state.count%2===0,"video-react-bezel-animation-alt":this.state.count%2===1},this.props.className),style:t,role:"status","aria-label":this.state.operation.action},p.default.createElement("div",{className:(0,d.default)("video-react-bezel-icon","video-react-bezel-icon-".concat(this.state.operation.action))}))}}]),Bezel}(p.Component);e.default=g,g.propTypes=h,g.displayName="Bezel"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(272)),o=r(n(395)),a=r(n(45)),s=r(n(46)),u=r(n(49)),l=r(n(47)),c=r(n(58)),f=r(n(50)),p=n(0),d=r(n(29)),h=n(202),g={clickable:d.default.bool,dblclickable:d.default.bool,manager:d.default.object,actions:d.default.object,player:d.default.object,shortcuts:d.default.array},y=function(t){function Shortcut(t,e){var n;return(0,a.default)(this,Shortcut),(n=(0,u.default)(this,(0,l.default)(Shortcut).call(this,t,e))).defaultShortcuts=[{keyCode:32,handle:n.togglePlay},{keyCode:75,handle:n.togglePlay},{keyCode:70,handle:n.toggleFullscreen},{keyCode:37,handle:function handle(t,e){t.hasStarted&&e.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function handle(t,e){t.hasStarted&&e.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function handle(t,e){t.hasStarted&&e.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function handle(t,e){t.hasStarted&&e.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function handle(t,e){t.hasStarted&&e.seek(0)}},{keyCode:35,handle:function handle(t,e){t.hasStarted&&e.seek(t.duration)}},{keyCode:38,handle:function handle(t,e){var n=t.volume+.05;n>1&&(n=1),e.changeVolume(n,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function handle(t,e){var n=t.volume-.05;n<0&&(n=0);var r=n>0?"volume-down":"volume-off";e.changeVolume(n,{action:r,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function handle(t,e){var n=t.playbackRate;n>=1.5?n=2:n>=1.25?n=1.5:n>=1?n=1.25:n>=.5?n=1:n>=.25?n=.5:n>=0&&(n=.25),e.changeRate(n,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function handle(t,e){var n=t.playbackRate;n<=.5?n=.25:n<=1?n=.5:n<=1.25?n=1:n<=1.5?n=1.25:n<=2&&(n=1.5),e.changeRate(n,{action:"fast-rewind",source:"shortcut"})}}],n.shortcuts=(0,o.default)(n.defaultShortcuts),n.mergeShortcuts=n.mergeShortcuts.bind((0,c.default)(n)),n.handleKeyPress=n.handleKeyPress.bind((0,c.default)(n)),n.handleClick=n.handleClick.bind((0,c.default)(n)),n.handleDoubleClick=n.handleDoubleClick.bind((0,c.default)(n)),n}return(0,f.default)(Shortcut,t),(0,s.default)(Shortcut,[{key:"componentDidMount",value:function componentDidMount(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)}},{key:"mergeShortcuts",value:function mergeShortcuts(){var t=function getShortcutKey(t){var e=t.keyCode,n=void 0===e?0:e,r=t.ctrl,i=void 0!==r&&r,o=t.shift,a=void 0!==o&&o,s=t.alt,u=void 0!==s&&s;return"".concat(n,":").concat(i,":").concat(a,":").concat(u)},e=this.defaultShortcuts.reduce((function(e,n){return Object.assign(e,(0,i.default)({},t(n),n))}),{}),n=(this.props.shortcuts||[]).reduce((function(e,n){var r=n.keyCode,o=n.handle;return r&&"function"===typeof o?Object.assign(e,(0,i.default)({},t(n),n)):e}),e),r=function gradeShortcut(t){var e=0;return["ctrl","shift","alt"].forEach((function(n){t[n]&&e++})),e};this.shortcuts=Object.keys(n).map((function(t){return n[t]})).sort((function(t,e){return r(e)-r(t)}))}},{key:"togglePlay",value:function togglePlay(t,e){t.paused?e.play({action:"play",source:"shortcut"}):e.pause({action:"pause",source:"shortcut"})}},{key:"toggleFullscreen",value:function toggleFullscreen(t,e){e.toggleFullscreen(t)}},{key:"handleKeyPress",value:function handleKeyPress(t){var e=this.props,n=e.player,r=e.actions;if(n.isActive&&(!document.activeElement||!((0,h.hasClass)(document.activeElement,"video-react-control")||(0,h.hasClass)(document.activeElement,"video-react-menu-button-active")||(0,h.hasClass)(document.activeElement,"video-react-big-play-button")))){var i=t.keyCode||t.which,o=t.ctrlKey||t.metaKey,a=t.shiftKey,s=t.altKey,u=this.shortcuts.filter((function(t){return!(!t.keyCode||t.keyCode-i!==0)&&!(void 0!==t.ctrl&&t.ctrl!==o||void 0!==t.shift&&t.shift!==a||void 0!==t.alt&&t.alt!==s)}))[0];u&&(u.handle(n,r),t.preventDefault())}}},{key:"canBeClicked",value:function canBeClicked(t,e){return!(!t.isActive||"VIDEO"!==e.target.nodeName||4!==t.readyState)}},{key:"handleClick",value:function handleClick(t){var e=this.props,n=e.player,r=e.actions,i=e.clickable;this.canBeClicked(n,t)&&i&&this.togglePlay(n,r)}},{key:"handleDoubleClick",value:function handleDoubleClick(t){var e=this.props,n=e.player,r=e.actions,i=e.dblclickable;this.canBeClicked(n,t)&&i&&this.toggleFullscreen(n,r)}},{key:"render",value:function render(){return null}}]),Shortcut}(p.Component);e.default=y,y.propTypes=g,y.defaultProps={clickable:!0,dblclickable:!0},y.displayName="Shortcut"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(273)),a=i(n(45)),s=i(n(46)),u=i(n(49)),l=i(n(47)),c=i(n(58)),f=i(n(50)),p=i(n(29)),d=r(n(0)),h=i(n(3)),g=i(n(399)),y=i(n(404)),m=i(n(405)),v=i(n(407)),_=i(n(408)),b=i(n(409)),S=i(n(410)),E=i(n(411)),x=i(n(412)),w=i(n(413)),T=i(n(276)),P=n(92),k={children:p.default.any,autoHide:p.default.bool,autoHideTime:p.default.number,disableDefaultControls:p.default.bool,disableCompletely:p.default.bool,className:p.default.string},C=function(t){function ControlBar(t){var e;return(0,a.default)(this,ControlBar),(e=(0,u.default)(this,(0,l.default)(ControlBar).call(this,t))).getDefaultChildren=e.getDefaultChildren.bind((0,c.default)(e)),e.getFullChildren=e.getFullChildren.bind((0,c.default)(e)),e}return(0,f.default)(ControlBar,t),(0,s.default)(ControlBar,[{key:"getDefaultChildren",value:function getDefaultChildren(){return[d.default.createElement(y.default,{key:"play-toggle",order:1}),d.default.createElement(w.default,{key:"volume-menu-button",order:4}),d.default.createElement(S.default,{key:"current-time-display",order:5.1}),d.default.createElement(x.default,{key:"time-divider",order:5.2}),d.default.createElement(E.default,{key:"duration-display",order:5.3}),d.default.createElement(g.default,{key:"progress-control",order:6}),d.default.createElement(_.default,{key:"fullscreen-toggle",order:8})]}},{key:"getFullChildren",value:function getFullChildren(){return[d.default.createElement(y.default,{key:"play-toggle",order:1}),d.default.createElement(v.default,{key:"replay-control",order:2}),d.default.createElement(m.default,{key:"forward-control",order:3}),d.default.createElement(w.default,{key:"volume-menu-button",order:4}),d.default.createElement(S.default,{key:"current-time-display",order:5}),d.default.createElement(x.default,{key:"time-divider",order:6}),d.default.createElement(E.default,{key:"duration-display",order:7}),d.default.createElement(g.default,{key:"progress-control",order:8}),d.default.createElement(b.default,{key:"remaining-time-display",order:9}),d.default.createElement(T.default,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),d.default.createElement(_.default,{key:"fullscreen-toggle",order:11})]}},{key:"getChildren",value:function getChildren(){var t=d.default.Children.toArray(this.props.children),e=this.props.disableDefaultControls?[]:this.getDefaultChildren(),n=this.props,r=(n.className,(0,o.default)(n,["className"]));return(0,P.mergeAndSortChildren)(e,t,r)}},{key:"render",value:function render(){var t=this.props,e=t.autoHide,n=t.className,r=t.disableCompletely,i=this.getChildren();return r?null:d.default.createElement("div",{className:(0,h.default)("video-react-control-bar",{"video-react-control-bar-auto-hide":e},n)},i)}}]),ControlBar}(d.Component);e.default=C,C.propTypes=k,C.defaultProps={autoHide:!0,disableCompletely:!1},C.displayName="ControlBar"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(166)),a=i(n(45)),s=i(n(46)),u=i(n(49)),l=i(n(47)),c=i(n(58)),f=i(n(50)),p=i(n(29)),d=r(n(0)),h=i(n(3)),g=r(n(202)),y=i(n(400)),m={player:p.default.object,className:p.default.string},v=function(t){function ProgressControl(t,e){var n;return(0,a.default)(this,ProgressControl),(n=(0,u.default)(this,(0,l.default)(ProgressControl).call(this,t,e))).state={mouseTime:{time:null,position:0}},n.handleMouseMoveThrottle=n.handleMouseMove.bind((0,c.default)(n)),n}return(0,f.default)(ProgressControl,t),(0,s.default)(ProgressControl,[{key:"handleMouseMove",value:function handleMouseMove(t){if(t.pageX){var e=this.props.player.duration,n=this.seekBar,r=g.getPointerPosition(n,t).x*e,i=t.pageX-g.findElPosition(n).left;this.setState({mouseTime:{time:r,position:i}})}}},{key:"render",value:function render(){var t=this,e=this.props.className;return d.default.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:(0,h.default)("video-react-progress-control video-react-control",e)},d.default.createElement(y.default,(0,o.default)({mouseTime:this.state.mouseTime,ref:function ref(e){t.seekBar=e}},this.props)))}}]),ProgressControl}(d.Component);e.default=v,v.propTypes=m,v.displayName="ProgressControl"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h=i(n(275)),g=i(n(401)),y=i(n(402)),m=i(n(403)),v=n(92),_={player:f.default.object,mouseTime:f.default.object,actions:f.default.object,className:f.default.string},b=function(t){function SeekBar(t,e){var n;return(0,o.default)(this,SeekBar),(n=(0,s.default)(this,(0,u.default)(SeekBar).call(this,t,e))).getPercent=n.getPercent.bind((0,l.default)(n)),n.getNewTime=n.getNewTime.bind((0,l.default)(n)),n.stepForward=n.stepForward.bind((0,l.default)(n)),n.stepBack=n.stepBack.bind((0,l.default)(n)),n.handleMouseDown=n.handleMouseDown.bind((0,l.default)(n)),n.handleMouseMove=n.handleMouseMove.bind((0,l.default)(n)),n.handleMouseUp=n.handleMouseUp.bind((0,l.default)(n)),n}return(0,c.default)(SeekBar,t),(0,a.default)(SeekBar,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentDidUpdate",value:function componentDidUpdate(){}},{key:"getPercent",value:function getPercent(){var t=this.props.player,e=t.currentTime,n=(t.seekingTime||e)/t.duration;return n>=1?1:n}},{key:"getNewTime",value:function getNewTime(t){var e=this.props.player.duration,n=this.slider.calculateDistance(t)*e;return n===e?n-.1:n}},{key:"handleMouseDown",value:function handleMouseDown(){}},{key:"handleMouseUp",value:function handleMouseUp(t){var e=this.props.actions,n=this.getNewTime(t);e.seek(n),e.handleEndSeeking(n)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.actions,n=this.getNewTime(t);e.handleSeekingTime(n)}},{key:"stepForward",value:function stepForward(){this.props.actions.forward(5)}},{key:"stepBack",value:function stepBack(){this.props.actions.replay(5)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.player,r=n.currentTime,i=n.seekingTime,o=n.duration,a=n.buffered,s=e.mouseTime,u=i||r;return p.default.createElement(h.default,{ref:function ref(e){t.slider=e},label:"video progress bar",className:(0,d.default)("video-react-progress-holder",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:(0,v.formatTime)(u,o),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},p.default.createElement(y.default,{buffered:a,currentTime:u,duration:o}),p.default.createElement(m.default,{duration:o,mouseTime:s}),p.default.createElement(g.default,{currentTime:u,duration:o}))}}]),SeekBar}(p.Component);e.default=b,b.propTypes=_,b.displayName="SeekBar"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=PlayProgressBar;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s=n(92),u={currentTime:i.default.number,duration:i.default.number,percentage:i.default.string,className:i.default.string};function PlayProgressBar(t){var e=t.currentTime,n=t.duration,r=t.percentage,i=t.className;return o.default.createElement("div",{"data-current-time":(0,s.formatTime)(e,n),className:(0,a.default)("video-react-play-progress video-react-slider-bar",i),style:{width:r}},o.default.createElement("span",{className:"video-react-control-text"},"Progress: ".concat(r)))}PlayProgressBar.propTypes=u,PlayProgressBar.displayName="PlayProgressBar"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=LoadProgressBar;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s={duration:i.default.number,buffered:i.default.object,className:i.default.string};function LoadProgressBar(t){var e=t.buffered,n=t.duration,r=t.className;if(!e||!e.length)return null;var i=e.end(e.length-1),s={};function percentify(t,e){var n=t/e||0;return"".concat(100*(n>=1?1:n),"%")}i>n&&(i=n),s.width=percentify(i,n);for(var u=[],l=0;l<e.length;l++){var c=e.start(l),f=e.end(l),p=o.default.createElement("div",{style:{left:percentify(c,i),width:percentify(f-c,i)},key:"part-".concat(l)});u.push(p)}return 0===u.length&&(u=null),o.default.createElement("div",{style:s,className:(0,a.default)("video-react-load-progress",r)},o.default.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),u)}LoadProgressBar.propTypes=s,LoadProgressBar.displayName="LoadProgressBar"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s=n(92);function MouseTimeDisplay(t){var e=t.duration,n=t.mouseTime,r=t.className,i=t.text;if(!n.time)return null;var u=i||(0,s.formatTime)(n.time,e);return o.default.createElement("div",{className:(0,a.default)("video-react-mouse-display",r),style:{left:"".concat(n.position,"px")},"data-current-time":u})}MouseTimeDisplay.propTypes={duration:i.default.number,mouseTime:i.default.object,className:i.default.string},MouseTimeDisplay.displayName="MouseTimeDisplay";var u=MouseTimeDisplay;e.default=u},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h={actions:f.default.object,player:f.default.object,className:f.default.string},g=function(t){function PlayToggle(t,e){var n;return(0,o.default)(this,PlayToggle),(n=(0,s.default)(this,(0,u.default)(PlayToggle).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(PlayToggle,t),(0,a.default)(PlayToggle,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.actions;t.player.paused?e.play():e.pause()}},{key:"render",value:function render(){var t=this,e=this.props,n=e.player,r=e.className,i=n.paused?"Play":"Pause";return p.default.createElement("button",{ref:function ref(e){t.button=e},className:(0,d.default)(r,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":n.paused,"video-react-playing":!n.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},p.default.createElement("span",{className:"video-react-control-text"},i))}}]),PlayToggle}(p.Component);e.default=g,g.propTypes=h,g.displayName="PlayToggle"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,r(n(406)).default)("forward");i.displayName="ForwardControl";var o=i;e.default=o},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d={actions:f.default.object,className:f.default.string,seconds:f.default.oneOf([5,10,30])},h={seconds:10};e.default=function _default(t){var e=function(e){function ForwardReplayControl(t,e){var n;return(0,o.default)(this,ForwardReplayControl),(n=(0,s.default)(this,(0,u.default)(ForwardReplayControl).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(ForwardReplayControl,e),(0,a.default)(ForwardReplayControl,[{key:"handleClick",value:function handleClick(){var e=this.props,n=e.actions,r=e.seconds;"forward"===t?n.forward(r):n.replay(r)}},{key:"render",value:function render(){var e=this,n=this.props,r=n.seconds,i=n.className,o=["video-react-control","video-react-button","video-react-icon"];return o.push("video-react-icon-".concat(t,"-").concat(r),"video-react-".concat(t,"-control")),i&&o.push(i),p.default.createElement("button",{ref:function ref(t){e.button=t},className:o.join(" "),type:"button",onClick:this.handleClick},p.default.createElement("span",{className:"video-react-control-text"},"".concat(t," ").concat(r," seconds")))}}]),ForwardReplayControl}(p.Component);return e.propTypes=d,e.defaultProps=h,e}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,r(n(406)).default)("replay");i.displayName="ReplayControl";var o=i;e.default=o},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h={actions:f.default.object,player:f.default.object,className:f.default.string},g=function(t){function FullscreenToggle(t,e){var n;return(0,o.default)(this,FullscreenToggle),(n=(0,s.default)(this,(0,u.default)(FullscreenToggle).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(FullscreenToggle,t),(0,a.default)(FullscreenToggle,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.player;t.actions.toggleFullscreen(e)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.player,r=e.className;return p.default.createElement("button",{className:(0,d.default)(r,{"video-react-icon-fullscreen-exit":n.isFullscreen,"video-react-icon-fullscreen":!n.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function ref(e){t.button=e},type:"button",tabIndex:"0",onClick:this.handleClick},p.default.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))}}]),FullscreenToggle}(p.Component);e.default=g,g.propTypes=h,g.displayName="FullscreenToggle"},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s=n(92),u={player:i.default.object,className:i.default.string};function RemainingTimeDisplay(t){var e=t.player,n=e.currentTime,r=e.duration,i=t.className,u=r-n,l=(0,s.formatTime)(u);return o.default.createElement("div",{className:(0,a.default)("video-react-remaining-time video-react-time-control video-react-control",i)},o.default.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},o.default.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-".concat(l)))}RemainingTimeDisplay.propTypes=u,RemainingTimeDisplay.displayName="RemainingTimeDisplay";var l=RemainingTimeDisplay;e.default=l},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s=n(92),u={player:i.default.object,className:i.default.string};function CurrentTimeDisplay(t){var e=t.player,n=e.currentTime,r=e.duration,i=t.className,u=(0,s.formatTime)(n,r);return o.default.createElement("div",{className:(0,a.default)("video-react-current-time video-react-time-control video-react-control",i)},o.default.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},o.default.createElement("span",{className:"video-react-control-text"},"Current Time "),u))}CurrentTimeDisplay.propTypes=u,CurrentTimeDisplay.displayName="CurrentTimeDisplay";var l=CurrentTimeDisplay;e.default=l},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s=n(92),u={player:i.default.object,className:i.default.string};function DurationDisplay(t){var e=t.player.duration,n=t.className,r=(0,s.formatTime)(e);return o.default.createElement("div",{className:(0,a.default)(n,"video-react-duration video-react-time-control video-react-control")},o.default.createElement("div",{className:"video-react-duration-display","aria-live":"off"},o.default.createElement("span",{className:"video-react-control-text"},"Duration Time "),r))}DurationDisplay.propTypes=u,DurationDisplay.displayName="DurationDisplay";var l=DurationDisplay;e.default=l},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=TimeDivider;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s={separator:i.default.string,className:i.default.string};function TimeDivider(t){var e=t.separator,n=t.className,r=e||"/";return o.default.createElement("div",{className:(0,a.default)("video-react-time-control video-react-time-divider",n),dir:"ltr"},o.default.createElement("div",null,o.default.createElement("span",null,r)))}TimeDivider.propTypes=s,TimeDivider.displayName="TimeDivider"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(166)),a=i(n(45)),s=i(n(46)),u=i(n(49)),l=i(n(47)),c=i(n(58)),f=i(n(50)),p=i(n(29)),d=r(n(0)),h=i(n(3)),g=i(n(993)),y=i(n(995)),m={player:p.default.object,actions:p.default.object,vertical:p.default.bool,className:p.default.string,alwaysShowVolume:p.default.bool},v=function(t){function VolumeMenuButton(t,e){var n;return(0,a.default)(this,VolumeMenuButton),(n=(0,u.default)(this,(0,l.default)(VolumeMenuButton).call(this,t,e))).state={active:!1},n.handleClick=n.handleClick.bind((0,c.default)(n)),n.handleFocus=n.handleFocus.bind((0,c.default)(n)),n.handleBlur=n.handleBlur.bind((0,c.default)(n)),n}return(0,f.default)(VolumeMenuButton,t),(0,s.default)(VolumeMenuButton,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.player;t.actions.mute(!e.muted)}},{key:"handleFocus",value:function handleFocus(){this.setState({active:!0})}},{key:"handleBlur",value:function handleBlur(){this.setState({active:!1})}},{key:"render",value:function render(){var t=this.props,e=t.vertical,n=t.player,r=t.className,i=!e,a=this.volumeLevel;return d.default.createElement(g.default,{className:(0,h.default)(r,{"video-react-volume-menu-button-vertical":e,"video-react-volume-menu-button-horizontal":!e,"video-react-vol-muted":n.muted,"video-react-vol-0":0===a&&!n.muted,"video-react-vol-1":1===a,"video-react-vol-2":2===a,"video-react-vol-3":3===a,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:i},d.default.createElement(y.default,(0,o.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:"volumeLevel",get:function get(){var t=this.props.player,e=t.volume,n=t.muted,r=3;return 0===e||n?r=0:e<.33?r=1:e<.67&&(r=2),r}}]),VolumeMenuButton}(d.Component);v.propTypes=m,v.defaultProps={vertical:!1},v.displayName="VolumeMenuButton";var _=v;e.default=_},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(166)),a=i(n(115)),s=i(n(45)),u=i(n(46)),l=i(n(49)),c=i(n(47)),f=i(n(58)),p=i(n(50)),d=i(n(29)),h=r(n(0)),g=i(n(3)),y={tagName:d.default.string,onClick:d.default.func.isRequired,onFocus:d.default.func,onBlur:d.default.func,className:d.default.string},m=function(t){function ClickableComponent(t,e){var n;return(0,s.default)(this,ClickableComponent),(n=(0,l.default)(this,(0,c.default)(ClickableComponent).call(this,t,e))).handleClick=n.handleClick.bind((0,f.default)(n)),n.handleFocus=n.handleFocus.bind((0,f.default)(n)),n.handleBlur=n.handleBlur.bind((0,f.default)(n)),n.handleKeypress=n.handleKeypress.bind((0,f.default)(n)),n}return(0,p.default)(ClickableComponent,t),(0,u.default)(ClickableComponent,[{key:"handleKeypress",value:function handleKeypress(t){32!==t.which&&13!==t.which||(t.preventDefault(),this.handleClick(t))}},{key:"handleClick",value:function handleClick(t){(0,this.props.onClick)(t)}},{key:"handleFocus",value:function handleFocus(t){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(t)}},{key:"render",value:function render(){var t=this.props.tagName,e=(0,a.default)({},this.props);return delete e.tagName,delete e.className,h.default.createElement(t,(0,o.default)({className:(0,g.default)(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},e))}}]),ClickableComponent}(h.Component);e.default=m,m.propTypes=y,m.defaultProps={tagName:"div"},m.displayName="ClickableComponent"},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function extendStatics(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(29)),a=i(n(0)),s=a.createContext(null),u=s.Consumer,l=s.Provider;e.MuiPickersContextConsumer=u;var c=function(t){function MuiPickersUtilsProvider(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={utils:null},e}return r(MuiPickersUtilsProvider,t),MuiPickersUtilsProvider.getDerivedStateFromProps=function(t){return{utils:new(0,t.utils)({locale:t.locale,moment:t.moment})}},MuiPickersUtilsProvider.prototype.render=function(){return a.createElement(l,{value:this.state.utils,children:this.props.children})},MuiPickersUtilsProvider.propTypes={utils:o.func.isRequired,locale:o.oneOfType([o.object,o.string]),children:o.oneOfType([o.element.isRequired,o.arrayOf(o.element.isRequired)]).isRequired,moment:o.func},MuiPickersUtilsProvider.defaultProps={locale:void 0,moment:void 0},MuiPickersUtilsProvider}(a.Component);e.default=c},function(t,e,n){"use strict";var r=n(293),i=n.n(r),o=n(212),a=n.n(o),s=n(417),u=n.n(s),l=n(418),c=n.n(l),f=n(419),p=n.n(f),d=n(294),h=n.n(d),g=n(420),y=n.n(g),m=n(295),v=n.n(m),_=n(296),b=n.n(_),S=n(90),E=n.n(S),x=n(421),w=n.n(x),T=n(422),P=n.n(T),k=n(423),C=n.n(k),D=n(222),A=n.n(D),R=n(153),M=n.n(R),L=n(424),I=n.n(L),O=n(425),F=n.n(O),N=n(281),B=n.n(N),U=n(426),z=n.n(U),j=n(427),V=n.n(j),G=n(428),W=n.n(G),q=n(429),H=n.n(q),K=n(430),Y=n.n(K),X=n(213),Z=n.n(X),$=n(297),J=n.n($),Q=n(298),tt=n.n(Q),et=n(299),nt=n.n(et),rt=function(){function DateFnsUtils(t){var e=(void 0===t?{}:t).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=e}return DateFnsUtils.prototype.addDays=function(t,e){return i()(t,e)},DateFnsUtils.prototype.isValid=function(t){return B()(t)},DateFnsUtils.prototype.getDiff=function(t,e){return c()(t,e)},DateFnsUtils.prototype.isAfter=function(t,e){return A()(t,e)},DateFnsUtils.prototype.isBefore=function(t,e){return M()(t,e)},DateFnsUtils.prototype.startOfDay=function(t){return Z()(t)},DateFnsUtils.prototype.endOfDay=function(t){return h()(t)},DateFnsUtils.prototype.getHours=function(t){return w()(t)},DateFnsUtils.prototype.setHours=function(t,e){return V()(t,e)},DateFnsUtils.prototype.setMinutes=function(t,e){return W()(t,e)},DateFnsUtils.prototype.getSeconds=function(t){return P()(t)},DateFnsUtils.prototype.setSeconds=function(t,e){return H()(t,e)},DateFnsUtils.prototype.isSameDay=function(t,e){return F()(t,e)},DateFnsUtils.prototype.getStartOfMonth=function(t){return J()(t)},DateFnsUtils.prototype.getYear=function(t){return C()(t)},DateFnsUtils.prototype.setYear=function(t,e){return Y()(t,e)},DateFnsUtils.prototype.date=function(t){return"undefined"===typeof t?new Date:null===t?null:new Date(t)},DateFnsUtils.prototype.parse=function(t,e){return""===t?null:z()(t,e,new Date)},DateFnsUtils.prototype.format=function(t,e){return E()(t,e,{locale:this.locale})},DateFnsUtils.prototype.isEqual=function(t,e){return null===t&&null===e||I()(t,e)},DateFnsUtils.prototype.isNull=function(t){return null===t},DateFnsUtils.prototype.isAfterDay=function(t,e){return A()(t,h()(e))},DateFnsUtils.prototype.isBeforeDay=function(t,e){return M()(t,Z()(e))},DateFnsUtils.prototype.isBeforeYear=function(t,e){return M()(t,nt()(e))},DateFnsUtils.prototype.isAfterYear=function(t,e){return A()(t,b()(e))},DateFnsUtils.prototype.formatNumber=function(t){return t},DateFnsUtils.prototype.getMinutes=function(t){return t.getMinutes()},DateFnsUtils.prototype.getMonth=function(t){return t.getMonth()},DateFnsUtils.prototype.getMeridiemText=function(t){return"am"===t?"AM":"PM"},DateFnsUtils.prototype.getNextMonth=function(t){return a()(t,1)},DateFnsUtils.prototype.getPreviousMonth=function(t){return a()(t,-1)},DateFnsUtils.prototype.mergeDateAndTime=function(t,e){return this.setMinutes(this.setHours(t,this.getHours(e)),this.getMinutes(e))},DateFnsUtils.prototype.getWeekdays=function(){var t=this,e=new Date;return p()({start:tt()(e,{locale:this.locale}),end:v()(e,{locale:this.locale})},{locale:this.locale}).map((function(e){return E()(e,"EEEEEE",{locale:t.locale})}))},DateFnsUtils.prototype.getWeekArray=function(t){for(var e=tt()(J()(t),{locale:this.locale}),n=v()(y()(t),{locale:this.locale}),r=0,o=e,a=[];M()(o,n);){var s=Math.floor(r/7);a[s]=a[s]||[],a[s].push(o),o=i()(o,1),r+=1}return a},DateFnsUtils.prototype.getYearRange=function(t,e){for(var n=nt()(new Date(t)),r=b()(new Date(e)),i=[],o=n;M()(o,r);)i.push(o),o=u()(o,1);return i},DateFnsUtils.prototype.getCalendarHeaderText=function(t){return E()(t,"MMMM yyyy",{locale:this.locale})},DateFnsUtils.prototype.getYearText=function(t){return E()(t,"yyyy",{locale:this.locale})},DateFnsUtils.prototype.getDatePickerHeaderText=function(t){return E()(t,"EEE, MMM d",{locale:this.locale})},DateFnsUtils.prototype.getDateTimePickerHeaderText=function(t){return E()(t,"MMM d",{locale:this.locale})},DateFnsUtils.prototype.getDayText=function(t){return E()(t,"d",{locale:this.locale})},DateFnsUtils.prototype.getHourText=function(t,e){return E()(t,e?"hh":"HH",{locale:this.locale})},DateFnsUtils.prototype.getMinuteText=function(t){return E()(t,"mm",{locale:this.locale})},DateFnsUtils.prototype.getSecondText=function(t){return E()(t,"ss",{locale:this.locale})},DateFnsUtils}();e.a=rt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addYears(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Number(e);return(0,r.default)(t,12*i,n)};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(212));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function differenceInMilliseconds(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=(0,r.default)(e,n);return i.getTime()-o.getTime()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function eachDayOfInterval(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},i=(0,r.default)(n.start,e),o=(0,r.default)(n.end,e).getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],s=i;s.setHours(0,0,0,0);for(;s.getTime()<=o;)a.push((0,r.default)(s,e)),s.setDate(s.getDate()+1);return a};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getHours(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,r.default)(t,e).getHours()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getSeconds(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,r.default)(t,e).getSeconds()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,r.default)(t,e).getFullYear()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isEqual(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=(0,r.default)(e,n);return i.getTime()===o.getTime()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isSameDay(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=(0,r.default)(e,n);return i.getTime()===o.getTime()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(213));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function parse(t,e,n,c){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var d=String(t),h=c||{},g=void 0===h.weekStartsOn?0:Number(h.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=h.locale||o.default,m=y.parsers||{},v=y.units||{};if(!y.match)throw new RangeError("locale must contain match property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var _=String(e).replace(f,(function(t){return"["===t[0]?t:"\\"===t[0]?function cleanEscapedString(t){if(t.match(/\[[\s\S]/))return t.replace(/^\[|]$/g,"");return t.replace(/\\/g,"")}(t):y.formatLong(t)}));if(""===_)return""===d?(0,r.default)(n,h):new Date(NaN);var b=(0,u.default)(h);b.locale=y;var S,E=_.match(y.parsingTokensRegExp||p),x=E.length,w=[{priority:l,set:dateToSystemTimezone,index:0}];for(S=0;S<x;S++){var T=E[S],P=m[T]||a.default[T];if(P){var k;if(!(k=P.match instanceof RegExp?P.match.exec(d):P.match(d,b)))return new Date(NaN);var C=P.unit,D=v[C]||s.default[C];w.push({priority:D.priority,set:D.set,value:P.parse(k,b),index:w.length});var A=k[0];d=d.slice(A.length)}else{var R=E[S].match(/^\[.*]$/)?E[S].replace(/^\[|]$/g,""):E[S];if(0!==d.indexOf(R))return new Date(NaN);d=d.slice(R.length)}}var M=w.map((function(t){return t.priority})).sort((function(t,e){return t-e})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return w.filter((function(e){return e.priority===t})).reverse()})).map((function(t){return t[0]})),L=(0,r.default)(n,h);if(isNaN(L))return new Date(NaN);var I={date:(0,i.default)(L,L.getTimezoneOffset())},O=M.length;for(S=0;S<O;S++){var F=M[S];I=F.set(I,F.value,b)}return I.date};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(571)),o=_interopRequireDefault(n(312)),a=_interopRequireDefault(n(574)),s=_interopRequireDefault(n(575)),u=_interopRequireDefault(n(315));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=110,c=6e4,f=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,p=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;function dateToSystemTimezone(t){var e=t.date,n=e.getTime(),r=e.getTimezoneOffset();return r=new Date(n+r*c).getTimezoneOffset(),t.date=new Date(n+r*c),t}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setHours(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=Number(e);return i.setHours(o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setMinutes(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=Number(e);return i.setMinutes(o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setSeconds(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=Number(e);return i.setSeconds(o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setYear(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n),o=Number(e);if(isNaN(i))return new Date(NaN);return i.setFullYear(o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(32))},function(t,e,n){"use strict";function symbolObservablePonyfill(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return symbolObservablePonyfill}))},function(t,e,n){"use strict";e.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=_interopRequireDefault(n(25)),a=n(107),s=n(316),u=_interopRequireDefault(n(317));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function clamp(t,e,n){return Math.min(Math.max(t,e),n)};e.default=function createMemoryHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,n=t.initialEntries,c=void 0===n?["/"]:n,f=t.initialIndex,p=void 0===f?0:f,d=t.keyLength,h=void 0===d?6:d,g=(0,u.default)(),y=function setState(t){i(D,t),D.length=D.entries.length,g.notifyListeners(D.location,D.action)},m=function createKey(){return Math.random().toString(36).substr(2,h)},v=l(p,0,c.length-1),_=c.map((function(t){return"string"===typeof t?(0,s.createLocation)(t,void 0,m()):(0,s.createLocation)(t,void 0,t.key||m())})),b=a.createPath,S=function push(t,n){(0,o.default)(!("object"===("undefined"===typeof t?"undefined":r(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(t,n,m(),D.location);g.confirmTransitionTo(i,"PUSH",e,(function(t){if(t){var e=D.index+1,n=D.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),y({action:"PUSH",location:i,index:e,entries:n})}}))},E=function replace(t,n){(0,o.default)(!("object"===("undefined"===typeof t?"undefined":r(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(t,n,m(),D.location);g.confirmTransitionTo(i,"REPLACE",e,(function(t){t&&(D.entries[D.index]=i,y({action:"REPLACE",location:i}))}))},x=function go(t){var n=l(D.index+t,0,D.entries.length-1),r=D.entries[n];g.confirmTransitionTo(r,"POP",e,(function(t){t?y({action:"POP",location:r,index:n}):y()}))},w=function goBack(){return x(-1)},T=function goForward(){return x(1)},P=function canGo(t){var e=D.index+t;return e>=0&&e<D.entries.length},k=function block(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g.setPrompt(t)},C=function listen(t){return g.appendListener(t)},D={length:_.length,action:"POP",location:_[v],index:v,entries:_,createHref:b,push:S,replace:E,go:x,goBack:w,goForward:T,canGo:P,block:k,listen:C};return D}},function(t,e,n){var r=n(228);t.exports=pathToRegexp,t.exports.parse=parse,t.exports.compile=function compile(t,e){return tokensToFunction(parse(t,e))},t.exports.tokensToFunction=tokensToFunction,t.exports.tokensToRegExp=tokensToRegExp;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(t,e){for(var n,r=[],o=0,a=0,s="",u=e&&e.delimiter||"/";null!=(n=i.exec(t));){var l=n[0],c=n[1],f=n.index;if(s+=t.slice(a,f),a=f+l.length,c)s+=c[1];else{var p=t[a],d=n[2],h=n[3],g=n[4],y=n[5],m=n[6],v=n[7];s&&(r.push(s),s="");var _=null!=d&&null!=p&&p!==d,b="+"===m||"*"===m,S="?"===m||"*"===m,E=n[2]||u,x=g||y;r.push({name:h||o++,prefix:d||"",delimiter:E,optional:S,repeat:b,partial:_,asterisk:!!v,pattern:x?escapeGroup(x):v?".*":"[^"+escapeString(E)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function encodeURIComponentPretty(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",a=n||{},s=(i||{}).pretty?encodeURIComponentPretty:encodeURIComponent,u=0;u<t.length;u++){var l=t[u];if("string"!==typeof l){var c,f=a[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(c=s(f[p]),!e[u].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):s(f),!e[u].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');o+=l.prefix+c}}else o+=l}return o}}function escapeString(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(t,e){return t.keys=e,t}function flags(t){return t.sensitive?"":"i"}function tokensToRegExp(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var u=t[s];if("string"===typeof u)a+=escapeString(u);else{var l=escapeString(u.prefix),c="(?:"+u.pattern+")";e.push(u),u.repeat&&(c+="(?:"+l+c+")*"),a+=c=u.optional?u.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var f=escapeString(n.delimiter||"/"),p=a.slice(-f.length)===f;return i||(a=(p?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&p?"":"(?="+f+"|$)",attachKeys(new RegExp("^"+a,flags(n)),e)}function pathToRegexp(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function regexpToRegexp(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(t,e)}(t,e):r(t)?function arrayToRegexp(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(pathToRegexp(t[i],e,n).source);return attachKeys(new RegExp("(?:"+r.join("|")+")",flags(n)),e)}(t,e,n):function stringToRegexp(t,e,n){return tokensToRegExp(parse(t,n),e,n)}(t,e,n)}},function(t,e,n){t.exports=function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function hoistNonReactStatics(u,l,c){if("string"!==typeof l){if(s){var f=a(l);f&&f!==s&&hoistNonReactStatics(u,f,c)}var p=r(l);i&&(p=p.concat(i(l)));for(var d=0;d<p.length;++d){var h=p[d];if(!t[h]&&!e[h]&&(!c||!c[h])){var g=o(l,h);try{n(u,h,g)}catch(y){}}}return u}return u}}()},function(t,e,n){var r;t.exports=(r=n(0),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(r,i,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.conformToMask=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=a(2);Object.defineProperty(i,"conformToMask",{enumerable:!0,get:function get(){return n(c).default}});var f=n(a(11)),p=n(a(9)),d=n(a(5)),h=function(e){function t(){var e;!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.onBlur=s.onBlur.bind(s),s.onChange=s.onChange.bind(s),s}return function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,e),l(t,[{key:"initTextMask",value:function value(){var t=this.props,e=this.props.value;this.textMaskInputElement=(0,d.default)(s({inputElement:this.inputElement},t)),this.textMaskInputElement.update(e)}},{key:"componentDidMount",value:function value(){this.initTextMask()}},{key:"componentDidUpdate",value:function value(){this.initTextMask()}},{key:"render",value:function e(){var t=this,n=this.props,e=n.render,r=function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["render"]);return delete r.mask,delete r.guide,delete r.pipe,delete r.placeholderChar,delete r.keepCharPositions,delete r.value,delete r.onBlur,delete r.onChange,delete r.showMask,e((function i(e){return t.inputElement=e}),s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},r))}},{key:"onChange",value:function value(t){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(t)}},{key:"onBlur",value:function value(t){"function"==typeof this.props.onBlur&&this.props.onBlur(t)}}]),t}(f.default.Component);i.default=h,h.propTypes={mask:p.default.oneOfType([p.default.array,p.default.func,p.default.bool,p.default.shape({mask:p.default.oneOfType([p.default.array,p.default.func]),pipe:p.default.func})]).isRequired,guide:p.default.bool,value:p.default.oneOfType([p.default.string,p.default.number]),pipe:p.default.func,placeholderChar:p.default.string,keepCharPositions:p.default.bool,showMask:p.default.bool},h.defaultProps={render:function render(t,e){return f.default.createElement("input",s({ref:t},e))}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholderChar="_",e.strFunction="function"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(e)){if(("undefined"==typeof e?"undefined":i(e))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");e=e(t,n),e=(0,o.processCaretTraps)(e).maskWithoutCaretTraps}var r=n.guide,l=void 0===r||r,c=n.previousConformedValue,f=void 0===c?u:c,p=n.placeholderChar,d=void 0===p?a.placeholderChar:p,h=n.placeholder,g=void 0===h?(0,o.convertMaskToPlaceholder)(e,d):h,y=n.currentCaretPosition,m=n.keepCharPositions,v=!1===l&&void 0!==f,_=t.length,b=f.length,S=g.length,E=e.length,x=_-b,w=x>0,T=y+(w?-x:0),P=T+Math.abs(x);if(!0===m&&!w){for(var k=u,C=T;C<P;C++)g[C]===d&&(k+=d);t=t.slice(0,T)+k+t.slice(T,_)}for(var D=t.split(u).map((function(t,e){return{char:t,isNew:e>=T&&e<P}})),A=_-1;A>=0;A--){var R=D[A].char;R!==d&&R===g[A>=T&&b===E?A-x:A]&&D.splice(A,1)}var M=u,L=!1;t:for(var I=0;I<S;I++){var O=g[I];if(O===d){if(D.length>0)for(;D.length>0;){var F=D.shift(),N=F.char,B=F.isNew;if(N===d&&!0!==v){M+=d;continue t}if(e[I].test(N)){if(!0===m&&!1!==B&&f!==u&&!1!==l&&w){for(var U=D.length,z=null,j=0;j<U;j++){var V=D[j];if(V.char!==d&&!1===V.isNew)break;if(V.char===d){z=j;break}}null!==z?(M+=N,D.splice(z,1)):I--}else M+=N;continue t}L=!0}!1===v&&(M+=g.substr(I,S));break}M+=O}if(v&&!1===w){for(var G=null,W=0;W<M.length;W++)g[W]===d&&(G=W);M=null!==G?M.substr(0,G+1):u}return{conformedValue:M,meta:{someCharsRejected:L}}};var o=r(3),a=r(1),s=[],u=""},function(t,e,r){"use strict";function o(t){return Array.isArray&&Array.isArray(t)||t instanceof Array}Object.defineProperty(e,"__esModule",{value:!0}),e.convertMaskToPlaceholder=function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(t))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==t.indexOf(e))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(e)+"\n\nThe mask that was received is: "+JSON.stringify(t));return t.map((function(t){return t instanceof RegExp?e:t})).join("")},e.isArray=o,e.isString=function i(t){return"string"==typeof t||t instanceof String},e.isNumber=function a(t){return"number"==typeof t&&void 0===t.length&&!isNaN(t)},e.processCaretTraps=function u(t){for(var e=[],n=void 0;-1!==(n=t.indexOf(c));)e.push(n),t.splice(n,1);return{maskWithoutCaretTraps:t,indexes:e}};var s=r(1),l=[],c="[]"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function r(t){var e=t.previousConformedValue,r=void 0===e?i:e,o=t.previousPlaceholder,a=void 0===o?i:o,s=t.currentCaretPosition,u=void 0===s?0:s,l=t.conformedValue,c=t.rawValue,f=t.placeholderChar,p=t.placeholder,d=t.indexesOfPipedChars,h=void 0===d?n:d,g=t.caretTrapIndexes,y=void 0===g?n:g;if(0===u||!c.length)return 0;var m=c.length,v=r.length,_=p.length,b=l.length,S=m-v,E=S>0;if(S>1&&!E&&0!==v)return u;var x=0,w=void 0,T=void 0;if(!E||r!==l&&l!==p){var P=l.toLowerCase(),k=c.toLowerCase().substr(0,u).split(i).filter((function(t){return-1!==P.indexOf(t)}));T=k[k.length-1];var C=a.substr(0,k.length).split(i).filter((function(t){return t!==f})).length,D=p.substr(0,k.length).split(i).filter((function(t){return t!==f})).length!==C,A=void 0!==a[k.length-1]&&void 0!==p[k.length-2]&&a[k.length-1]!==f&&a[k.length-1]!==p[k.length-1]&&a[k.length-1]===p[k.length-2];!E&&(D||A)&&C>0&&p.indexOf(T)>-1&&void 0!==c[u]&&(w=!0,T=c[u]);for(var R=h.map((function(t){return P[t]})).filter((function(t){return t===T})).length,M=k.filter((function(t){return t===T})).length,L=p.substr(0,p.indexOf(f)).split(i).filter((function(t,e){return t===T&&c[e]!==t})).length+M+R+(w?1:0),I=0,O=0;O<b&&(x=O+1,P[O]===T&&I++,!(I>=L));O++);}else x=u-S;if(E){for(var F=x,N=x;N<=_;N++)if(p[N]===f&&(F=N),p[N]===f||-1!==y.indexOf(N)||N===_)return F}else if(w){for(var B=x-1;B>=0;B--)if(l[B]===T||-1!==y.indexOf(B)||0===B)return B}else for(var U=x;U>=0;U--)if(p[U-1]===f||-1!==y.indexOf(U)||0===U)return U};var n=[],i=""},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){document.activeElement===t&&(y?m((function(){return t.setSelectionRange(e,e,h)}),0):t.setSelectionRange(e,e,h))}function a(t){if((0,f.isString)(t))return t;if((0,f.isNumber)(t))return String(t);if(void 0===t||null===t)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(t))}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function o(t){var e={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:e,update:function update(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,o=r.inputElement,h=r.mask,y=r.guide,m=r.pipe,v=r.placeholderChar,_=void 0===v?p.placeholderChar:v,b=r.keepCharPositions,S=void 0!==b&&b,E=r.showMask,x=void 0!==E&&E;if("undefined"==typeof n&&(n=o.value),n!==e.previousConformedValue){("undefined"==typeof h?"undefined":u(h))===g&&void 0!==h.pipe&&void 0!==h.mask&&(m=h.pipe,h=h.mask);var w=void 0,T=void 0;if(h instanceof Array&&(w=(0,f.convertMaskToPlaceholder)(h,_)),!1!==h){var P=a(n),k=o.selectionEnd,C=e.previousConformedValue,D=e.previousPlaceholder,A=void 0;if(("undefined"==typeof h?"undefined":u(h))===p.strFunction){if(!1===(T=h(P,{currentCaretPosition:k,previousConformedValue:C,placeholderChar:_})))return;var R=(0,f.processCaretTraps)(T),M=R.maskWithoutCaretTraps,L=R.indexes;T=M,A=L,w=(0,f.convertMaskToPlaceholder)(T,_)}else T=h;var I={previousConformedValue:C,guide:y,placeholderChar:_,pipe:m,placeholder:w,currentCaretPosition:k,keepCharPositions:S},O=(0,c.default)(P,T,I),F=O.conformedValue,N=("undefined"==typeof m?"undefined":u(m))===p.strFunction,B={};N&&(!1===(B=m(F,s({rawValue:P},I)))?B={value:C,rejected:!0}:(0,f.isString)(B)&&(B={value:B}));var U=N?B.value:F,z=(0,l.default)({previousConformedValue:C,previousPlaceholder:D,conformedValue:U,placeholder:w,rawValue:P,currentCaretPosition:k,placeholderChar:_,indexesOfPipedChars:B.indexesOfPipedChars,caretTrapIndexes:A}),j=U===w&&0===z,V=x?w:d,G=j?V:U;e.previousConformedValue=G,e.previousPlaceholder=w,o.value!==G&&(o.value=G,i(o,z))}}}}};var l=n(r(4)),c=n(r(2)),f=r(3),p=r(1),d="",h="none",g="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(t,e){"use strict";function r(t){return function(){return t}}var n=function n(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,r){"use strict";var i=function o(t){};t.exports=function n(t,e,r,o,a,s,u,l){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,a,s,u,l],p=0;(c=new Error(e.replace(/%s/g,(function(){return f[p++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(n,r,i){"use strict";var o=i(6),a=i(7),s=i(10);n.exports=function(){function e(t,e,n,r,i,o){o!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,t.exports=n(8)()},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=r}]))},function(t,e,n){t.exports=n(891)},function(t,e,n){"use strict";e.a=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e.reduce((function(t,e){return e.apply(void 0,[t,n].concat(i))}),t)}}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M8 5v14l11-7z"})),"PlayArrow");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})),"Pause");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),"Edit");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),"Save");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})),"Share");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),"Settings");e.default=o},function(t,e){function LinearLayoutVector(t){void 0===t&&(t=128);var e=Math.log(t)/Math.log(2)|0,n=Math.pow(2,e),r=n-1;this.block_size=n,this.block_shift=e,this.block_mask=r,this.block_table=[],this._defaultSize=0,this._axisOffset=0,this._gap=0,this.removes=null,this.inserts=null,this._length=0,this._pendingLength=-1}function isIntervalClear(t,e,n){var r,i=t.sizes;for(n+=e;e<n;++e)if((r=i[e])===r)return!1;return!0}function inBlockCopy(t,e,n,r,i){for(var o=e<r,a=o?r:r+i-1,s=o?e:e+i-1,u=o?1:-1,l=t.sizes,c=n?n.sizes:null,f=NaN,p=NaN,d=0,h=0;i>0;)c&&(p=c[a]),p!==(f=l[s])&&(f!==f?h--:d-=f,p!==p?h++:d+=p,l[s]=p),a+=u,s+=u,i--;t.sizesSum+=d,t.defaultCount+=h}function copyInterval(t,e,n){var r=t<e;for(r||(t+=n-1,e+=n-1);n>0;){var i=t>>this.block_shift,o=t&this.block_mask,a=this.block_table[i],s=e>>this.block_shift,u=e&this.block_mask,l=this.block_table[s],c=r?Math.min(this.block_size-o,this.block_size-u):1+Math.min(o,u);c=Math.min(c,n);var f=r?o:o-c+1,p=r?u:u-c+1;if(l&&!a&&isIntervalClear(l,p,c)&&(a=new Block(this.block_size),this.block_table[i]=a),a)if(inBlockCopy(a,f,l,p,c),a.defaultCount===this.block_size)((r?f+c===this.block_size:0===f)||n===c)&&(this.block_table[i]=null);t+=r?c:-c,e+=r?c:-c,n-=c}}function clearInterval(t,e){for(;t<=e;){var n=t>>this.block_shift,r=t&this.block_mask,i=this.block_table[n],o=this.block_size-r;o=Math.min(o,e-t+1),i&&(o===this.block_size?this.block_table[n]=null:(inBlockCopy(i,r,null,0,o),i.defaultCount===this.block_size&&(this.block_table[n]=null))),t+=o}}function removeIntervals(t){var e=t.length;if(0!==e){t.reverse(),t.push(this.getLength());var n,r,i=t[0],o=0;do{var a=t[o+1],s=t[o+2];o+=2,r=s-(n=a+1),copyInterval.call(this,i,n,r),i+=r}while(o<e);this.setLength(i)}}function insertIntervals(t,e){var n=t.length;if(0!==n){var r=this.getLength();this.setLength(e);for(var i=r-1,o=e-1,a=n-2;a>=0;){var s=t[a],u=t[a+1];a-=2;var l=u+1,c=o-l+1,f=i-c+1;copyInterval.call(this,l,f,c),l-=c,o=s-1,clearInterval.call(this,s,u)}}}function flushPendingChanges(){var t;if(this.removes)t=this.removes,this.removes=null,this._pendingLength=-1,removeIntervals.call(this,t);else if(this.inserts){t=this.inserts;var e=this._pendingLength;this.inserts=null,this._pendingLength=-1,insertIntervals.call(this,t,e)}}function indexOfInternal(t){if(0===this._length||t<0)return-1;var e=this.getAxisOffset();if(t<e)return 0;for(var n=-1,r=null,i=this.block_size,o=this._defaultSize,a=this.getGap(),s=a*i,u=-1,l=this.block_table,c=l.length;++u<c;){var f=s+((r=l[u])?r.sizesSum+r.defaultCount*o:i*o);if(t===e||t>=e&&t<e+f){n=u<<this.block_shift;break}e+=f}if(-1===n||t===e)return n;if(r){for(var p=r.sizes,d=this.block_size-1,h=0;h<d;h++){var g=p[h];if((e+=a+(g!==g?this._defaultSize:g))>t)return n+h}return n+this.block_size-1}return n+Math.floor(Number(t-e)/Number(this._defaultSize+a))}function Block(t){this.sizes=new Array(t),this.sizesSum=0,this.defaultCount=t;for(var e=-1;++e<t;)this.sizes[e]=NaN}t.exports=LinearLayoutVector,LinearLayoutVector.prototype.getLength=function getLength(){return-1===this._pendingLength?this._length:this._pendingLength},LinearLayoutVector.prototype.setLength=function setLength(t){if(flushPendingChanges.call(this),t<this._length){var e=t>>this.block_shift,n=Math.min(e*this.block_size+this.block_size,this._length)-1;clearInterval.call(this,t,n)}this._length=t;var r=0===(this._length&this.block_mask)?0:1;this.block_table.length=(this._length>>this.block_shift)+r},LinearLayoutVector.prototype.getDefaultSize=function getDefaultSize(){return this._defaultSize},LinearLayoutVector.prototype.setDefaultSize=function setDefaultSize(t){this._defaultSize=t},LinearLayoutVector.prototype.getAxisOffset=function getAxisOffset(){return this._axisOffset},LinearLayoutVector.prototype.setAxisOffset=function setAxisOffset(t){this._axisOffset=t},LinearLayoutVector.prototype.getGap=function getGap(){return this._gap},LinearLayoutVector.prototype.setGap=function setGap(t){this._gap=t},LinearLayoutVector.prototype.getItemSize=function getItemSize(t){flushPendingChanges.call(this);var e=this.block_table[t>>this.block_shift];if(e){var n=e.sizes[t&this.block_mask];return n!==n?this._defaultSize:n}return this._defaultSize},LinearLayoutVector.prototype.setItemSize=function setItemSize(t,e){if(flushPendingChanges.call(this),t>=this.getLength())throw new Error("Invalid index and all that.");var n=t>>this.block_shift,r=this.block_table[n];r||(r=this.block_table[n]=new Block(this.block_size));var i=t&this.block_mask,o=r.sizes,a=o[i];if(a===e)return;a!==a?(r.defaultCount-=1,r.sizesSum+=e):e!==e?(r.defaultCount+=1,r.sizesSum-=a):r.sizesSum+=e-a;o[i]=e},LinearLayoutVector.prototype.insert=function insert(t){this.removes&&flushPendingChanges.call(this);if(this.inserts){var e=this.inserts.length-1,n=this.inserts[e];t===n+1?this.inserts[e]=t:t>n?(this.inserts.push(t),this.inserts.push(t)):flushPendingChanges.call(this)}this._pendingLength=Math.max(this._length,t+1),this.inserts||(this.inserts=[],this.inserts.push(t),this.inserts.push(t))},LinearLayoutVector.prototype.remove=function remove(t){this.inserts&&flushPendingChanges.call(this);if(t>=this.getLength())throw new Error("Invalid index and all that.");if(this.removes){var e=this.removes.length-1,n=this.removes[e];t===n-1?this.removes[e]=t:t<n?(this.removes.push(t),this.removes.push(t)):flushPendingChanges.call(this)}this._pendingLength=-1===this._pendingLength?length-1:this._pendingLength-1,this.removes||(this.removes=[],this.removes.push(t),this.removes.push(t))},LinearLayoutVector.prototype.start=function start(t){if(flushPendingChanges.call(this),0===this._length||0===t)return this.getAxisOffset();if(t>=this._length)throw new Error("Invalid index and all that.");for(var e=this.getAxisOffset(),n=t>>this.block_shift,r=0;r<n;r++){var i=this.block_table[r];e+=i?i.sizesSum+i.defaultCount*this._defaultSize:this.block_size*this._defaultSize}var o=this.block_table[n],a=t&~this.block_mask,s=t-a;if(o){var u=o.sizes;for(r=0;r<s;r++){var l=u[r];e+=l!==l?this._defaultSize:l}}else e+=this._defaultSize*s;return e+=t*this.getGap()},LinearLayoutVector.prototype.end=function end(t){return flushPendingChanges.call(this),this.start(t)+this.getItemSize(t)},LinearLayoutVector.prototype.indexOf=function indexOf(t){flushPendingChanges.call(this);var e=indexOfInternal.call(this,t);return e>=this._length?-1:e},LinearLayoutVector.prototype.clear=function clear(){this.removes=null,this.inserts=null,this._pendingLength=-1,this.setLength(0)},LinearLayoutVector.prototype.toString=function toString(){return"LinearLayoutVector { length: "+this._length+", size: "+this.end(this.getLength()-1)+", [blocks: "+this.block_table.length+"], gap: "+this._gap+", defaultSize: "+this._defaultSize+", pendingRemoves: "+(this.removes?this.removes.length:0)+", pendingInserts: "+(this.inserts?this.inserts.length:0)+" }"}},function(t,e,n){t.exports={default:n(962),__esModule:!0}},function(t,e,n){"use strict";function areInputsEqual(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}e.a=function memoizeOne(t,e){var n;void 0===e&&(e=areInputsEqual);var r,i=[],o=!1;return function memoized(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&e(a,i)?r:(r=t.apply(this,a),o=!0,n=this,i=a,r)}}},function(t,e){t.exports=function cross(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,e,n){t.exports=function angle(t,e){var n=r(t[0],t[1],t[2]),a=r(e[0],e[1],e[2]);i(n,n),i(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var r=n(968),i=n(387),o=n(388)},function(t,e){t.exports=function rotateX(t,e,n,r){var i=n[1],o=n[2],a=e[1]-i,s=e[2]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=e[0],t[1]=i+a*l-s*u,t[2]=o+a*u+s*l,t}},function(t,e){t.exports=function rotateY(t,e,n,r){var i=n[0],o=n[2],a=e[0]-i,s=e[2]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=i+s*u+a*l,t[1]=e[1],t[2]=o+s*l-a*u,t}},function(t,e){t.exports=function rotateZ(t,e,n,r){var i=n[0],o=n[1],a=e[0]-i,s=e[1]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=i+a*l-s*u,t[1]=o+a*u+s*l,t[2]=e[2],t}},function(t,e){t.exports=function determinant(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11],d=t[12],h=t[13],g=t[14],y=t[15];return(e*a-n*o)*(f*y-p*g)-(e*s-r*o)*(c*y-p*h)+(e*u-i*o)*(c*g-f*h)+(n*s-r*a)*(l*y-p*d)-(n*u-i*a)*(l*g-f*d)+(r*u-i*s)*(l*h-c*d)}},function(t,e){t.exports=function fromQuat(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,p=i*a,d=i*s,h=i*u,g=o*a,y=o*s,m=o*u;return t[0]=1-f-h,t[1]=c+m,t[2]=p-y,t[3]=0,t[4]=c-m,t[5]=1-l-h,t[6]=d+g,t[7]=0,t[8]=p+y,t[9]=d-g,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function frustum(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}},function(t,e,n){var r=n(969);t.exports=function lookAt(t,e,n,i){var o,a,s,u,l,c,f,p,d,h,g=e[0],y=e[1],m=e[2],v=i[0],_=i[1],b=i[2],S=n[0],E=n[1],x=n[2];if(Math.abs(g-S)<1e-6&&Math.abs(y-E)<1e-6&&Math.abs(m-x)<1e-6)return r(t);f=g-S,p=y-E,d=m-x,h=1/Math.sqrt(f*f+p*p+d*d),o=_*(d*=h)-b*(p*=h),a=b*(f*=h)-v*d,s=v*p-_*f,(h=Math.sqrt(o*o+a*a+s*s))?(o*=h=1/h,a*=h,s*=h):(o=0,a=0,s=0);u=p*s-d*a,l=d*o-f*s,c=f*a-p*o,(h=Math.sqrt(u*u+l*l+c*c))?(u*=h=1/h,l*=h,c*=h):(u=0,l=0,c=0);return t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=a,t[5]=l,t[6]=p,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(o*g+a*y+s*m),t[13]=-(u*g+l*y+c*m),t[14]=-(f*g+p*y+d*m),t[15]=1,t}},function(t,e){t.exports=function ortho(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}},function(t,e){t.exports=function transpose(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function rotate(t,e,n,r){var i,o,a,s,u,l,c,f,p,d,h,g,y,m,v,_,b,S,E,x,w,T,P,k,C=r[0],D=r[1],A=r[2],R=Math.sqrt(C*C+D*D+A*A);if(Math.abs(R)<1e-6)return null;C*=R=1/R,D*=R,A*=R,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],p=e[5],d=e[6],h=e[7],g=e[8],y=e[9],m=e[10],v=e[11],_=C*C*a+o,b=D*C*a+A*i,S=A*C*a-D*i,E=C*D*a-A*i,x=D*D*a+o,w=A*D*a+C*i,T=C*A*a+D*i,P=D*A*a-C*i,k=A*A*a+o,t[0]=s*_+f*b+g*S,t[1]=u*_+p*b+y*S,t[2]=l*_+d*b+m*S,t[3]=c*_+h*b+v*S,t[4]=s*E+f*x+g*w,t[5]=u*E+p*x+y*w,t[6]=l*E+d*x+m*w,t[7]=c*E+h*x+v*w,t[8]=s*T+f*P+g*k,t[9]=u*T+p*P+y*k,t[10]=l*T+d*P+m*k,t[11]=c*T+h*P+v*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function transformMat4(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}},function(t,e){t.exports=function transformMat4(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}},function(t,e){t.exports=function rotateY(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],p=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=u*i-p*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+p*i,t}},function(t,e){t.exports=function fromMat3(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}},function(t,e){t.exports=function identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e,n){t.exports=n(970)},function(t,e,n){t.exports=n(971)},function(t,e,n){t.exports=n(972)},function(t,e,n){var r=n(388),i=n(288),o=n(289),a=n(387),s=n(290),u=n(291);t.exports=function rotationTo(t,e,n){var p=r(e,n);return p<-.999999?(i(l,c,e),o(l)<1e-6&&i(l,f,e),a(l,l),u(t,l,Math.PI),t):p>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(i(l,e,n),t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=1+p,s(t,t))};var l=[0,0,0],c=[1,0,0],f=[0,1,0]},function(t,e,n){t.exports=n(974)},function(t,e){t.exports=function calculateW(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}},function(t,e){t.exports=function conjugate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}},function(t,e){t.exports=function invert(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}},function(t,e,n){t.exports=n(975)},function(t,e){t.exports=function multiply(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}},function(t,e){t.exports=function rotateX(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}},function(t,e){t.exports=function rotateY(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}},function(t,e){t.exports=function rotateZ(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}},function(t,e,n){t.exports=n(292)},function(t,e,n){t.exports=n(976)},function(t,e){t.exports=function slerp(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],f=e[2],p=e[3],d=n[0],h=n[1],g=n[2],y=n[3];(o=l*d+c*h+f*g+p*y)<0&&(o=-o,d=-d,h=-h,g=-g,y=-y);1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r);return t[0]=s*l+u*d,t[1]=s*c+u*h,t[2]=s*f+u*g,t[3]=s*p+u*y,t}},function(t,e){t.exports=function lerp(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}},function(t,e){t.exports=function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e,n){"use strict";(function(t){var r=n(484),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=!("object"===("undefined"===typeof t?"undefined":i(t))&&"[object process]"===String(t)&&!t.browser)||r.a;e.a=o}).call(this,n(114))},function(t,e,n){"use strict";(function(t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function isElectron(){return"undefined"!==typeof window&&"object"===n(window.process)&&"renderer"===window.process.type||(!("undefined"===typeof t||"object"!==n(t.versions)||!Boolean(t.versions.electron))||"object"===("undefined"===typeof navigator?"undefined":n(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}()}).call(this,n(114))},function(t,e,n){"use strict";(function(t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function isElectron(){return"undefined"!==typeof window&&"object"===n(window.process)&&"renderer"===window.process.type||(!("undefined"===typeof t||"object"!==n(t.versions)||!Boolean(t.versions.electron))||"object"===("undefined"===typeof navigator?"undefined":n(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}()}).call(this,n(114))},function(t,e,n){var r;!function(i){"use strict";var o,a,s,u=9e15,l=1e9,c="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,g="[DecimalError] ",y=g+"Invalid argument: ",m=g+"Precision limit exceeded",v=g+"crypto unavailable",_=Math.floor,b=Math.pow,S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,T=1e7,P=7,k=f.length-1,C=p.length-1,D={name:"[object Decimal]"};function digitsToString(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",(n=P-r.length)&&(o+=getZeroString(n)),o+=r;a=t[e],(n=P-(r=a+"").length)&&(o+=getZeroString(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(y+t)}function checkRoundingDigits(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=P,i=0):(i=Math.ceil((e+1)/P),e%=P),o=b(10,P-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==b(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==b(10,e-3)-1,a}function convertBase(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=c.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}D.absoluteValue=D.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),finalise(t)},D.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},D.comparedTo=D.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,l=t.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(e=0,n=(r=a.length)<(i=s.length)?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},D.cosine=D.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+P,r.rounding=1,n=function cosine(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=(1/tinyPow(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10");t.precision+=n,e=taylorSeries(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,toLessThanHalfPi(r,n)),r.precision=t,r.rounding=e,finalise(2==s||3==s?n.neg():n,t,e,!0)):new r(1):new r(NaN)},D.cubeRoot=D.cbrt=function(){var t,e,n,r,i,o,a,s,u,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(h=!1,(o=c.s*b(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new f(o.toString()):(n=digitsToString(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=b(n,1/3),t=_((t+1)/3)-(t%3==(t<0?-1:2)),(r=new f(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=f.precision)+3;;)if(l=(u=(s=r).times(s).times(s)).plus(c),r=A(l.plus(c).times(s),l.plus(u),a+2,1),digitsToString(s.d).slice(0,a)===(n=digitsToString(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(finalise(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return h=!0,finalise(r,t,f.rounding,e)},D.decimalPlaces=D.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-_(this.e/P))*P,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},D.dividedBy=D.div=function(t){return A(this,new this.constructor(t))},D.dividedToIntegerBy=D.divToInt=function(t){var e=this.constructor;return finalise(A(this,new e(t),0,1,1),e.precision,e.rounding)},D.equals=D.eq=function(t){return 0===this.cmp(t)},D.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},D.greaterThan=D.gt=function(t){return this.cmp(t)>0},D.greaterThanOrEqualTo=D.gte=function(t){var e=this.cmp(t);return 1==e||0===e},D.hyperbolicCosine=D.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?e=(1/tinyPow(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=taylorSeries(a,1,o.times(e),new a(1),!0);for(var u,l=t,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return finalise(o,a.precision=n,a.rounding=r,!0)},D.hyperbolicSine=D.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=taylorSeries(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=taylorSeries(o,2,i=i.times(1/tinyPow(5,t)),i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,finalise(i,e,n,!0)},D.hyperbolicTangent=D.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,A(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},D.inverseCosine=D.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?getPi(n,i,o):new n(0):new n(NaN):e.isZero()?getPi(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=getPi(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},D.inverseHyperbolicCosine=D.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},D.inverseHyperbolicSine=D.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln())},D.inverseHyperbolicTangent=D.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?finalise(new o(i),t,e,!0):(o.precision=n=r-i.e,i=A(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},D.inverseSine=D.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=getPi(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},D.inverseTangent=D.atan=function(){var t,e,n,r,i,o,a,s,u,l=this,c=l.constructor,f=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=C)return(a=getPi(c,f+4,p).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(f+4<=C)return(a=getPi(c,f+4,p).times(.5)).s=l.s,a}for(c.precision=s=f+10,c.rounding=1,t=n=Math.min(28,s/P+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(s/P),r=1,u=l.times(l),a=new c(l),i=l;-1!==t;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(r+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),h=!0,finalise(a,c.precision=f,c.rounding=p,!0)},D.isFinite=function(){return!!this.d},D.isInteger=D.isInt=function(){return!!this.d&&_(this.e/P)>this.d.length-2},D.isNaN=function(){return!this.s},D.isNegative=D.isNeg=function(){return this.s<0},D.isPositive=D.isPos=function(){return this.s>0},D.isZero=function(){return!!this.d&&0===this.d[0]},D.lessThan=D.lt=function(t){return this.cmp(t)<0},D.lessThanOrEqualTo=D.lte=function(t){return this.cmp(t)<1},D.logarithm=D.log=function(t){var e,n,r,i,o,a,s,u,l=this.constructor,c=l.precision,f=l.rounding;if(null==t)t=new l(10),e=!0;else{if(n=(t=new l(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new l(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(h=!1,a=naturalLogarithm(this,s=c+5),r=e?getLn10(l,s+10):naturalLogarithm(t,s),checkRoundingDigits((u=A(a,r,s,1)).d,i=c,f))do{if(a=naturalLogarithm(this,s+=10),r=e?getLn10(l,s+10):naturalLogarithm(t,s),u=A(a,r,s,1),!o){+digitsToString(u.d).slice(i+1,i+15)+1==1e14&&(u=finalise(u,c+1,0));break}}while(checkRoundingDigits(u.d,i+=10,f));return h=!0,finalise(u,c,f)},D.minus=D.sub=function(t){var e,n,r,i,o,a,s,u,l,c,f,p,d=this,g=d.constructor;if(t=new g(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new g(t.d||d.s!==t.s?d:NaN):t=new g(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(l=d.d,p=t.d,s=g.precision,u=g.rounding,!l[0]||!p[0]){if(p[0])t.s=-t.s;else{if(!l[0])return new g(3===u?-0:0);t=new g(d)}return h?finalise(t,s,u):t}if(n=_(t.e/P),c=_(d.e/P),l=l.slice(),o=c-n){for((f=o<0)?(e=l,o=-o,a=p.length):(e=p,n=c,a=l.length),o>(r=Math.max(Math.ceil(s/P),a)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((f=(r=l.length)<(a=p.length))&&(a=r),r=0;r<a;r++)if(l[r]!=p[r]){f=l[r]<p[r];break}o=0}for(f&&(e=l,l=p,p=e,t.s=-t.s),a=l.length,r=p.length-a;r>0;--r)l[a++]=0;for(r=p.length;r>o;){if(l[--r]<p[r]){for(i=r;i&&0===l[--i];)l[i]=T-1;--l[i],l[r]+=T}l[r]-=p[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=getBase10Exponent(l,n),h?finalise(t,s,u):t):new g(3===u?-0:0)},D.modulo=D.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?finalise(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(e=A(n,t.abs(),0,3,1)).s*=t.s:e=A(n,t,0,r.modulo,1),e=e.times(t),h=!0,n.minus(e))},D.naturalExponential=D.exp=function(){return naturalExponential(this)},D.naturalLogarithm=D.ln=function(){return naturalLogarithm(this)},D.negated=D.neg=function(){var t=new this.constructor(this);return t.s=-t.s,finalise(t)},D.plus=D.add=function(t){var e,n,r,i,o,a,s,u,l,c,f=this,p=f.constructor;if(t=new p(t),!f.d||!t.d)return f.s&&t.s?f.d||(t=new p(t.d||f.s===t.s?f:NaN)):t=new p(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(l=f.d,c=t.d,s=p.precision,u=p.rounding,!l[0]||!c[0])return c[0]||(t=new p(f)),h?finalise(t,s,u):t;if(o=_(f.e/P),r=_(t.e/P),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,a=c.length):(n=c,r=o,a=l.length),i>(a=(o=Math.ceil(s/P))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=l.length)-(i=c.length)<0&&(i=a,n=c,c=l,l=n),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/T|0,l[i]%=T;for(e&&(l.unshift(e),++r),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=getBase10Exponent(l,r),h?finalise(t,s,u):t},D.precision=D.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(y+t);return n.d?(e=getPrecision(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},D.round=function(){var t=this,e=t.constructor;return finalise(new e(t),t.e+1,e.rounding)},D.sine=D.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+P,r.rounding=1,n=function sine(t,e){var n,r=e.d.length;if(r<3)return taylorSeries(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/tinyPow(5,n)),e=taylorSeries(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}(r,toLessThanHalfPi(r,n)),r.precision=t,r.rounding=e,finalise(s>2?n.neg():n,t,e,!0)):new r(NaN)},D.squareRoot=D.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(h=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=digitsToString(s)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=_((u+1)/2)-(u<0||u%2),r=new c(e=l==1/0?"1e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(o=r).plus(A(a,o,n+2,1)).times(.5),digitsToString(o.d).slice(0,n)===(e=digitsToString(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(finalise(r,u+1,1),t=!r.times(r).eq(a));break}if(!i&&(finalise(o,u+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return h=!0,finalise(r,u,c.rounding,t)},D.tangent=D.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=A(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,finalise(2==s||4==s?n.neg():n,t,e,!0)):new r(NaN)},D.times=D.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,f=c.constructor,p=c.d,d=(t=new f(t)).d;if(t.s*=c.s,!p||!p[0]||!d||!d[0])return new f(!t.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:p&&d?0*t.s:t.s/0);for(n=_(c.e/P)+_(t.e/P),(u=p.length)<(l=d.length)&&(o=p,p=d,d=o,a=u,u=l,l=a),o=[],r=a=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+d[r]*p[i-r-1]+e,o[i--]=s%T|0,e=s/T|0;o[i]=(o[i]+e)%T|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=getBase10Exponent(o,n),h?finalise(t,f.precision,f.rounding):t},D.toBinary=function(t,e){return toStringBinary(this,2,t,e)},D.toDecimalPlaces=D.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(checkInt32(t,0,l),void 0===e?e=r.rounding:checkInt32(e,0,8),finalise(n,t+n.e+1,e))},D.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=finiteToString(r,!0):(checkInt32(t,0,l),void 0===e?e=i.rounding:checkInt32(e,0,8),n=finiteToString(r=finalise(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},D.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=finiteToString(i):(checkInt32(t,0,l),void 0===e?e=o.rounding:checkInt32(e,0,8),n=finiteToString(r=finalise(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},D.toFraction=function(t){var e,n,r,i,o,a,s,u,l,c,f,p,d=this,g=d.d,m=d.constructor;if(!g)return new m(d);if(l=n=new m(1),r=u=new m(0),a=(o=(e=new m(r)).e=getPrecision(g)-d.e-1)%P,e.d[0]=b(10,a<0?P+a:a),null==t)t=o>0?e:l;else{if(!(s=new m(t)).isInt()||s.lt(l))throw Error(y+s);t=s.gt(e)?o>0?e:l:s}for(h=!1,s=new m(digitsToString(g)),c=m.precision,m.precision=o=g.length*P*2;f=A(s,e,0,1,1),1!=(i=n.plus(f.times(r))).cmp(t);)n=r,r=i,i=l,l=u.plus(f.times(i)),u=i,i=e,e=s.minus(f.times(i)),s=i;return i=A(t.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=d.s,p=A(l,r,o,1).minus(d).abs().cmp(A(u,n,o,1).minus(d).abs())<1?[l,r]:[u,n],m.precision=c,h=!0,p},D.toHexadecimal=D.toHex=function(t,e){return toStringBinary(this,16,t,e)},D.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:checkInt32(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(h=!1,n=A(n,t,0,e,1).times(t),h=!0,finalise(n)):(t.s=n.s,n=t),n},D.toNumber=function(){return+this},D.toOctal=function(t,e){return toStringBinary(this,8,t,e)},D.toPower=D.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=+(t=new u(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new u(b(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,t.eq(1))return finalise(s,r,o);if((e=_(t.e/P))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=intPow(u,s,n,r),t.s<0?new u(1).div(i):finalise(i,r,o);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=b(+s,l))&&isFinite(n)?new u(n+"").e:_(l*(Math.log("0."+digitsToString(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(h=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(i=naturalExponential(t.times(naturalLogarithm(s,r+n)),r)).d&&checkRoundingDigits((i=finalise(i,r+5,1)).d,r,o)&&(e=r+10,+digitsToString((i=finalise(naturalExponential(t.times(naturalLogarithm(s,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=finalise(i,r+1,0))),i.s=a,h=!0,u.rounding=o,finalise(i,r,o))},D.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=finiteToString(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(checkInt32(t,1,l),void 0===e?e=i.rounding:checkInt32(e,0,8),n=finiteToString(r=finalise(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},D.toSignificantDigits=D.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(checkInt32(t,1,l),void 0===e?e=n.rounding:checkInt32(e,0,8)),finalise(new n(this),t,e)},D.toString=function(){var t=this,e=t.constructor,n=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},D.truncated=D.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},D.valueOf=D.toJSON=function(){var t=this,e=t.constructor,n=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var A=function(){function multiplyInteger(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function compare(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function subtract(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(t,e,n,r,i,o){var s,u,l,c,f,p,d,h,g,y,m,v,b,S,E,x,w,k,C,D,A=t.constructor,R=t.s==e.s?1:-1,M=t.d,L=e.d;if(!M||!M[0]||!L||!L[0])return new A(t.s&&e.s&&(M?!L||M[0]!=L[0]:L)?M&&0==M[0]||!L?0*R:R/0:NaN);for(o?(f=1,u=t.e-e.e):(o=T,f=P,u=_(t.e/f)-_(e.e/f)),C=L.length,w=M.length,y=(g=new A(R)).d=[],l=0;L[l]==(M[l]||0);l++);if(L[l]>(M[l]||0)&&u--,null==n?(S=n=A.precision,r=A.rounding):S=i?n+(t.e-e.e)+1:n,S<0)y.push(1),p=!0;else{if(S=S/f+2|0,l=0,1==C){for(c=0,L=L[0],S++;(l<w||c)&&S--;l++)E=c*o+(M[l]||0),y[l]=E/L|0,c=E%L|0;p=c||l<w}else{for((c=o/(L[0]+1)|0)>1&&(L=multiplyInteger(L,c,o),M=multiplyInteger(M,c,o),C=L.length,w=M.length),x=C,v=(m=M.slice(0,C)).length;v<C;)m[v++]=0;(D=L.slice()).unshift(0),k=L[0],L[1]>=o/2&&++k;do{c=0,(s=compare(L,m,C,v))<0?(b=m[0],C!=v&&(b=b*o+(m[1]||0)),(c=b/k|0)>1?(c>=o&&(c=o-1),1==(s=compare(d=multiplyInteger(L,c,o),m,h=d.length,v=m.length))&&(c--,subtract(d,C<h?D:L,h,o))):(0==c&&(s=c=1),d=L.slice()),(h=d.length)<v&&d.unshift(0),subtract(m,d,v,o),-1==s&&(s=compare(L,m,C,v=m.length))<1&&(c++,subtract(m,C<v?D:L,v,o)),v=m.length):0===s&&(c++,m=[0]),y[l++]=c,s&&m[0]?m[v++]=M[x]||0:(m=[M[x]],v=1)}while((x++<w||void 0!==m[0])&&S--);p=void 0!==m[0]}y[0]||y.shift()}if(1==f)g.e=u,a=p;else{for(l=1,c=y[0];c>=10;c/=10)l++;g.e=l+u*f-1,finalise(g,i?n+g.e+1:n,r,p)}return g}}();function finalise(t,e,n,r){var i,o,a,s,u,l,c,f,p,d=t.constructor;t:if(null!=e){if(!(f=t.d))return t;for(i=1,s=f[0];s>=10;s/=10)i++;if((o=e-i)<0)o+=P,a=e,u=(c=f[p=0])/b(10,i-a-1)%10|0;else if((p=Math.ceil((o+1)/P))>=(s=f.length)){if(!r)break t;for(;s++<=p;)f.push(0);c=u=0,i=1,a=(o%=P)-P+1}else{for(c=s=f[p],i=1;s>=10;s/=10)i++;u=(a=(o%=P)-P+i)<0?0:c/b(10,i-a-1)%10|0}if(r=r||e<0||void 0!==f[p+1]||(a<0?c:c%b(10,i-a-1)),l=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?c/b(10,i-a):0:f[p-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,l?(e-=t.e+1,f[0]=b(10,(P-e%P)%P),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=p,s=1,p--):(f.length=p+1,s=b(10,P-o),f[p]=a>0?(c/b(10,i-a)%b(10,a)|0)*s:0),l)for(;;){if(0==p){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==T&&(f[0]=1));break}if(f[p]+=s,f[p]!=T)break;f[p--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return h&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function finiteToString(t,e,n){if(!t.isFinite())return nonFiniteToString(t);var r,i=t.e,o=digitsToString(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+getZeroString(-i-1)+o,n&&(r=n-a)>0&&(o+=getZeroString(r))):i>=a?(o+=getZeroString(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+getZeroString(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=getZeroString(r))),o}function getBase10Exponent(t,e){var n=t[0];for(e*=P;n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>k)throw h=!0,n&&(t.precision=n),Error(m);return finalise(new t(f),e,1,!0)}function getPi(t,e,n){if(e>C)throw Error(m);return finalise(new t(p),e,n,!0)}function getPrecision(t){var e=t.length-1,n=e*P+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function getZeroString(t){for(var e="";t--;)e+="0";return e}function intPow(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/P+4);for(h=!1;;){if(n%2&&truncate((o=o.times(e)).d,a)&&(i=!0),0===(n=_(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}truncate((e=e.times(e)).d,a)}return h=!0,o}function isOdd(t){return 1&t.d[t.d.length-1]}function maxOrMin(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function naturalExponential(t,e){var n,r,i,o,a,s,u,l=0,c=0,f=0,p=t.constructor,d=p.rounding,g=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(h=!1,u=g):u=e,s=new p(.03125);t.e>-2;)t=t.times(s),f+=5;for(u+=r=Math.log(b(2,f))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=u;;){if(o=finalise(o.times(t),u,1),n=n.times(++c),digitsToString((s=a.plus(A(o,n,u,1))).d).slice(0,u)===digitsToString(a.d).slice(0,u)){for(i=f;i--;)a=finalise(a.times(a),u,1);if(null!=e)return p.precision=g,a;if(!(l<3&&checkRoundingDigits(a.d,u-r,d,l)))return finalise(a,p.precision=g,d,h=!0);p.precision=u+=10,n=o=s=new p(1),c=0,l++}a=s}}function naturalLogarithm(t,e){var n,r,i,o,a,s,u,l,c,f,p,d=1,g=t,y=g.d,m=g.constructor,v=m.rounding,_=m.precision;if(g.s<0||!y||!y[0]||!g.e&&1==y[0]&&1==y.length)return new m(y&&!y[0]?-1/0:1!=g.s?NaN:y?0:g);if(null==e?(h=!1,c=_):c=e,m.precision=c+=10,r=(n=digitsToString(y)).charAt(0),!(Math.abs(o=g.e)<15e14))return l=getLn10(m,c+2,_).times(o+""),g=naturalLogarithm(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=_,null==e?finalise(g,_,v,h=!0):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=digitsToString((g=g.times(t)).d)).charAt(0),d++;for(o=g.e,r>1?(g=new m("0."+n),o++):g=new m(r+"."+n.slice(1)),f=g,u=a=g=A(g.minus(1),g.plus(1),c,1),p=finalise(g.times(g),c,1),i=3;;){if(a=finalise(a.times(p),c,1),digitsToString((l=u.plus(A(a,new m(i),c,1))).d).slice(0,c)===digitsToString(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(getLn10(m,c+2,_).times(o+""))),u=A(u,new m(d),c,1),null!=e)return m.precision=_,u;if(!checkRoundingDigits(u.d,c-10,v,s))return finalise(u,m.precision=_,v,h=!0);m.precision=c+=10,l=a=g=A(f.minus(1),f.plus(1),c,1),p=finalise(g.times(g),c,1),i=s=1}u=l,i+=2}}function nonFiniteToString(t){return String(t.s*t.s/0)}function parseDecimal(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%P,n<0&&(r+=P),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=P;r<i;)t.d.push(+e.slice(r,r+=P));e=e.slice(r),r=P-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),h&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function parseOther(t,e){var n,r,i,a,s,u,l,c,f;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(E.test(e))n=16,e=e.toLowerCase();else if(S.test(e))n=2;else{if(!x.test(e))throw Error(y+e);n=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,r=t.constructor,s&&(a=(u=(e=e.replace(".","")).length)-a,i=intPow(r,new r(n),a,2*a)),a=f=(c=convertBase(e,n,T)).length-1;0===c[a];--a)c.pop();return a<0?new r(0*t.s):(t.e=getBase10Exponent(c,f),t.d=c,h=!1,s&&(t=A(t,i,4*u)),l&&(t=t.times(Math.abs(l)<54?b(2,l):o.pow(2,l))),h=!0,t)}function taylorSeries(t,e,n,r,i){var o,a,s,u,l=t.precision,c=Math.ceil(l/P);for(h=!1,u=n.times(n),s=new t(r);;){if(a=A(s.times(u),new t(e++*e++),l,1),s=i?r.plus(a):r.minus(a),r=A(a.times(u),new t(e++*e++),l,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o,0}return h=!0,a.d.length=c+1,a}function tinyPow(t,e){for(var n=t;--e;)n*=t;return n}function toLessThanHalfPi(t,e){var n,r=e.s<0,i=getPi(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return s=r?4:1,e;if((n=e.divToInt(i)).isZero())s=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return s=isOdd(n)?r?2:3:r?4:1,e;s=isOdd(n)?r?1:4:r?3:2}return e.minus(i).abs()}function toStringBinary(t,e,n,r){var i,o,s,u,f,p,d,h,g,y=t.constructor,m=void 0!==n;if(m?(checkInt32(n,1,l),void 0===r?r=y.rounding:checkInt32(r,0,8)):(n=y.precision,r=y.rounding),t.isFinite()){for(m?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(s=(d=finiteToString(t)).indexOf("."))>=0&&(d=d.replace(".",""),(g=new y(1)).e=d.length-s,g.d=convertBase(finiteToString(g),10,i),g.e=g.d.length),o=f=(h=convertBase(d,10,i)).length;0==h[--f];)h.pop();if(h[0]){if(s<0?o--:((t=new y(t)).d=h,t.e=o,h=(t=A(t,g,n,r,0,i)).d,o=t.e,p=a),s=h[n],u=i/2,p=p||void 0!==h[n+1],p=r<4?(void 0!==s||p)&&(0===r||r===(t.s<0?3:2)):s>u||s===u&&(4===r||p||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,p)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(f=h.length;!h[f-1];--f);for(s=0,d="";s<f;s++)d+=c.charAt(h[s]);if(m){if(f>1)if(16==e||8==e){for(s=16==e?4:3,--f;f%s;f++)d+="0";for(f=(h=convertBase(d,i,e)).length;!h[f-1];--f);for(s=1,d="1.";s<f;s++)d+=c.charAt(h[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>f)for(o-=f;o--;)d+="0";else o<f&&(d=d.slice(0,o)+"."+d.slice(o))}else d=m?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=nonFiniteToString(t);return t.s<0?"-"+d:d}function truncate(t,e){if(t.length>e)return t.length=e,!0}function abs(t){return new this(t).abs()}function acos(t){return new this(t).acos()}function acosh(t){return new this(t).acosh()}function add(t,e){return new this(t).plus(e)}function asin(t){return new this(t).asin()}function asinh(t){return new this(t).asinh()}function atan(t){return new this(t).atan()}function atanh(t){return new this(t).atanh()}function atan2(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?getPi(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=getPi(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(A(t,e,o,1)),e=getPi(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(A(t,e,o,1)):(n=getPi(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function cbrt(t){return new this(t).cbrt()}function ceil(t){return finalise(t=new this(t),t.e+1,2)}function config(t){if(!t||"object"!==typeof t)throw Error(g+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,l,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=d[n]),void 0!==(r=t[n])){if(!(_(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(y+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=d[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(y+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[n]=!0}else this[n]=!1}return this}function cos(t){return new this(t).cos()}function cosh(t){return new this(t).cosh()}function div(t,e){return new this(t).div(e)}function exp(t){return new this(t).exp()}function floor(t){return finalise(t=new this(t),t.e+1,3)}function hypot(){var t,e,n=new this(0);for(h=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);n=e}return h=!0,n.sqrt()}function isDecimalInstance(t){return t instanceof o||t&&"[object Decimal]"===t.name||!1}function ln(t){return new this(t).ln()}function log(t,e){return new this(t).log(e)}function log2(t){return new this(t).log(2)}function log10(t){return new this(t).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(t,e){return new this(t).mod(e)}function mul(t,e){return new this(t).mul(e)}function pow(t,e){return new this(t).pow(e)}function random(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:checkInt32(t,1,l),r=Math.ceil(t/P),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(v);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],t%=P,r&&t&&(i=b(10,P-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=P)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<P&&(n-=P-r)}return a.e=n,a.d=s,a}function round(t){return finalise(t=new this(t),t.e+1,this.rounding)}function sign(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function sin(t){return new this(t).sin()}function sinh(t){return new this(t).sinh()}function sqrt(t){return new this(t).sqrt()}function sub(t,e){return new this(t).sub(e)}function tan(t){return new this(t).tan()}function tanh(t){return new this(t).tanh()}function trunc(t){return finalise(t=new this(t),t.e+1,1)}(o=function clone(t){var e,n,r;function Decimal(t){var e,n,r,i=this;if(!(i instanceof Decimal))return new Decimal(t);if(i.constructor=Decimal,t instanceof Decimal)return i.s=t.s,void(h?!t.d||t.e>Decimal.maxE?(i.e=NaN,i.d=null):t.e<Decimal.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(h?e>Decimal.maxE?(i.e=NaN,i.d=null):e<Decimal.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!==0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):parseDecimal(i,t.toString())}if("string"!==r)throw Error(y+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),w.test(t)?parseDecimal(i,t):parseOther(i,t)}if(Decimal.prototype=D,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return Decimal.config(t),Decimal}(d)).default=o.Decimal=o,f=new o(f),p=new o(p),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"})),"KeyboardBackspace");e.default=o},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=(0,r(n(104)).default)(i.default.createElement("g",null,i.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),"Close");e.default=o},function(t,e,n){"use strict";function createThunkMiddleware(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var r=createThunkMiddleware();r.withExtraArgument=createThunkMiddleware,e.a=r},function(t,e,n){"use strict";e.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=_interopRequireDefault(n(25)),a=_interopRequireDefault(n(52)),s=n(316),u=n(107),l=_interopRequireDefault(n(317)),c=n(1009);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var f=function getHistoryState(){try{return window.history.state||{}}catch(t){return{}}};e.default=function createBrowserHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(c.canUseDOM,"Browser history needs a DOM");var e=window.history,n=(0,c.supportsHistory)(),p=!(0,c.supportsPopStateOnHashChange)(),d=t.forceRefresh,h=void 0!==d&&d,g=t.getUserConfirmation,y=void 0===g?c.getConfirmation:g,m=t.keyLength,v=void 0===m?6:m,_=t.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(t.basename)):"",b=function getDOMLocation(t){var e=t||{},n=e.key,r=e.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,o.default)(!_||(0,u.hasBasename)(a,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+_+'".'),_&&(a=(0,u.stripBasename)(a,_)),(0,s.createLocation)(a,r,n)},S=function createKey(){return Math.random().toString(36).substr(2,v)},E=(0,l.default)(),x=function setState(t){i(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)},w=function handlePopState(t){(0,c.isExtraneousPopstateEvent)(t)||k(b(t.state))},T=function handleHashChange(){k(b(f()))},P=!1,k=function handlePop(t){if(P)P=!1,x();else{E.confirmTransitionTo(t,"POP",y,(function(e){e?x({action:"POP",location:t}):C(t)}))}},C=function revertPop(t){var e=V.location,n=A.indexOf(e.key);-1===n&&(n=0);var r=A.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,I(i))},D=b(f()),A=[D.key],R=function createHref(t){return _+(0,u.createPath)(t)},M=function push(t,i){(0,o.default)(!("object"===("undefined"===typeof t?"undefined":r(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(t,i,S(),V.location);E.confirmTransitionTo(a,"PUSH",y,(function(t){if(t){var r=R(a),i=a.key,s=a.state;if(n)if(e.pushState({key:i,state:s},null,r),h)window.location.href=r;else{var u=A.indexOf(V.location.key),l=A.slice(0,-1===u?0:u+1);l.push(a.key),A=l,x({action:"PUSH",location:a})}else(0,o.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}}))},L=function replace(t,i){(0,o.default)(!("object"===("undefined"===typeof t?"undefined":r(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(t,i,S(),V.location);E.confirmTransitionTo(a,"REPLACE",y,(function(t){if(t){var r=R(a),i=a.key,s=a.state;if(n)if(e.replaceState({key:i,state:s},null,r),h)window.location.replace(r);else{var u=A.indexOf(V.location.key);-1!==u&&(A[u]=a.key),x({action:"REPLACE",location:a})}else(0,o.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}}))},I=function go(t){e.go(t)},O=function goBack(){return I(-1)},F=function goForward(){return I(1)},N=0,B=function checkDOMListeners(t){1===(N+=t)?((0,c.addEventListener)(window,"popstate",w),p&&(0,c.addEventListener)(window,"hashchange",T)):0===N&&((0,c.removeEventListener)(window,"popstate",w),p&&(0,c.removeEventListener)(window,"hashchange",T))},U=!1,z=function block(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=E.setPrompt(t);return U||(B(1),U=!0),function(){return U&&(U=!1,B(-1)),e()}},j=function listen(t){var e=E.appendListener(t);return B(1),function(){B(-1),e()}},V={length:e.length,action:"POP",location:D,createHref:R,push:M,replace:L,go:I,goBack:O,goForward:F,block:z,listen:j};return V}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(t){("undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"4bd57d77a551aa37a2f249a8bf35d391b8a41b74"}}).call(this,n(32))},function(t,e,n){(function(e){var r=n(544),i=n(311),o=n(545),a=n(546),s=n(226),u=s.isErrorEvent,l=s.isDOMError,c=s.isDOMException,f=s.isError,p=s.isObject,d=s.isPlainObject,h=s.isUndefined,g=s.isFunction,y=s.isString,m=s.isArray,v=s.isEmptyObject,_=s.each,b=s.objectMerge,S=s.truncate,E=s.objectFrozen,x=s.hasKey,w=s.joinRegExp,T=s.urlencode,P=s.uuid4,k=s.htmlTreeAsString,C=s.isSameException,D=s.isSameStacktrace,A=s.parseUrl,R=s.fill,M=s.supportsFetch,L=s.supportsReferrerPolicy,I=s.serializeKeysForMessage,O=s.serializeException,F=s.sanitize,N=n(547).wrapMethod,B="source protocol user pass host port path".split(" "),U=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function now(){return+new Date}var z="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},j=z.document,V=z.navigator;function keepOriginalCallback(t,e){return g(e)?function(n){return e(n,t)}:e}function Raven(){for(var t in this._hasJSON=!("object"!==typeof JSON||!JSON.stringify),this._hasDocument=!h(j),this._hasNavigator=!h(V),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:L()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=now(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}Raven.prototype={VERSION:"3.26.3",debug:!1,TraceKit:r,config:function config(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var i=n._globalOptions;e&&_(e,(function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:i[t]=e})),n.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=w(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&w(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&w(i.whitelistUrls),i.includePaths=w(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=b(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},u=i.instrument;return"[object Object]"==={}.toString.call(u)?u=b(s,u):!1!==u&&(u=s),i.instrument=u,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function install(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe((function(){t._handleOnErrorStackInfo.apply(t,arguments)})),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function setDSN(t){var e=this._parseDSN(t),n=e.path.lastIndexOf("/"),r=e.path.substr(1,n);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(n+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function context(t,e,n){return g(t)&&(n=e||[],e=t,t={}),this.wrap(t,e).apply(this,n)},wrap:function wrap(t,e,n){var r=this;if(h(e)&&!g(t))return t;if(g(t)&&(e=t,t=void 0),!g(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(o){return e}function wrapped(){var i=[],a=arguments.length,s=!t||t&&!1!==t.deep;for(n&&g(n)&&n.apply(this,arguments);a--;)i[a]=s?r.wrap(t,arguments[a]):arguments[a];try{return e.apply(this,i)}catch(o){throw r._ignoreNextOnError(),r.captureException(o,t),o}}for(var i in e)x(e,i)&&(wrapped[i]=e[i]);return wrapped.prototype=e.prototype,e.__raven_wrapper__=wrapped,wrapped.__raven__=!0,wrapped.__orig__=e,wrapped},uninstall:function uninstall(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function _promiseRejectionHandler(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function _attachPromiseRejectionHandler(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function _detachPromiseRejectionHandler(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function captureException(t,e){if(e=b({trimHeadFrames:0},e||{}),u(t)&&t.error)t=t.error;else{if(l(t)||c(t)){var n=t.name||(l(t)?"DOMError":"DOMException"),i=t.message?n+": "+t.message:n;return this.captureMessage(i,b(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(f(t))t=t;else{if(!d(t))return this.captureMessage(t,b(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var o=r.computeStackTrace(t);this._handleStackInfo(o,e)}catch(a){if(t!==a)throw a}return this},_getCaptureExceptionOptionsFromPlainObject:function _getCaptureExceptionOptionsFromPlainObject(t,e){var n=Object.keys(e).sort(),r=b(t,{message:"Non-Error exception captured with keys: "+I(n),fingerprint:[o(n)],extra:t.extra||{}});return r.extra.__serialized__=O(e),r},captureMessage:function captureMessage(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var n,i=b({message:t+=""},e=e||{});try{throw new Error(t)}catch(l){n=l}n.name=null;var o=r.computeStackTrace(n),a=m(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?t:i.fingerprint,(e=b({trimHeadFrames:0},e)).trimHeadFrames+=1;var u=this._prepareFrames(o,e);i.stacktrace={frames:u.reverse()}}return i.fingerprint&&(i.fingerprint=m(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function captureBreadcrumb(t){var e=b({timestamp:now()/1e3},t);if(g(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(p(n)&&!v(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function addPlugin(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function setUserContext(t){return this._globalContext.user=t,this},setExtraContext:function setExtraContext(t){return this._mergeContext("extra",t),this},setTagsContext:function setTagsContext(t){return this._mergeContext("tags",t),this},clearContext:function clearContext(){return this._globalContext={},this},getContext:function getContext(){return JSON.parse(i(this._globalContext))},setEnvironment:function setEnvironment(t){return this._globalOptions.environment=t,this},setRelease:function setRelease(t){return this._globalOptions.release=t,this},setDataCallback:function setDataCallback(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=keepOriginalCallback(e,t),this},setBreadcrumbCallback:function setBreadcrumbCallback(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=keepOriginalCallback(e,t),this},setShouldSendCallback:function setShouldSendCallback(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=keepOriginalCallback(e,t),this},setTransport:function setTransport(t){return this._globalOptions.transport=t,this},lastException:function lastException(){return this._lastCapturedException},lastEventId:function lastEventId(){return this._lastEventId},isSetup:function isSetup(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function afterLoad(){var t=z.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function showReportDialog(t){if(j){var e=(t=t||{}).eventId||this.lastEventId();if(!e)throw new a("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(e),i+="&dsn="+r(n);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),u=j.createElement("script");u.async=!0,u.src=s+"/api/embed/error-page/"+i,(j.head||j.body).appendChild(u)}},_ignoreNextOnError:function _ignoreNextOnError(){var t=this;this._ignoreOnError+=1,setTimeout((function(){t._ignoreOnError-=1}))},_triggerEvent:function _triggerEvent(t,e){var n,r;if(this._hasDocument){for(r in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),j.createEvent?(n=j.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=j.createEventObject()).eventType=t,e)x(e,r)&&(n[r]=e[r]);if(j.createEvent)j.dispatchEvent(n);else try{j.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(i){}}},_breadcrumbEventHandler:function _breadcrumbEventHandler(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){var r;e._lastCapturedEvent=n;try{r=k(n.target)}catch(i){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function _keypressEventHandler(){var t=this;return function(e){var n;try{n=e.target}catch(o){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(e),clearTimeout(i),t._keypressTimeout=setTimeout((function(){t._keypressTimeout=null}),1e3)}}},_captureUrlChange:function _captureUrlChange(t,e){var n=A(this._location.href),r=A(e),i=A(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function _patchFunctionToString(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"===typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function _unpatchFunctionToString(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function _instrumentTryCatch(){var t=this,e=t._wrappedBuiltIns;function wrapTimeFn(e){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return g(a)&&(i[0]=t.wrap({mechanism:{type:"instrument",data:{function:e.name||"<anonymous>"}}},a)),e.apply?e.apply(this,i):e(i[0],i[1])}}var n=this._globalOptions.autoBreadcrumbs;function wrapEventTarget(r){var i=z[r]&&z[r].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(R(i,"addEventListener",(function(e){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=t.wrap({mechanism:{type:"instrument",data:{target:r,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(f){}var u,l,c;return n&&n.dom&&("EventTarget"===r||"Node"===r)&&(l=t._breadcrumbEventHandler("click"),c=t._keypressEventHandler(),u=function before(t){if(t){var e;try{e=t.type}catch(n){return}return"click"===e?l(t):"keypress"===e?c(t):void 0}}),e.call(this,i,t.wrap({mechanism:{type:"instrument",data:{target:r,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,u),a,s)}}),e),R(i,"removeEventListener",(function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(o){}return t.call(this,e,n,r,i)}}),e))}R(z,"setTimeout",wrapTimeFn,e),R(z,"setInterval",wrapTimeFn,e),z.requestAnimationFrame&&R(z,"requestAnimationFrame",(function(e){return function(n){return e(t.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:e&&e.name||"<anonymous>"}}},n))}}),e);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<r.length;i++)wrapEventTarget(r[i])},_instrumentBreadcrumbs:function _instrumentBreadcrumbs(){var t=this,e=this._globalOptions.autoBreadcrumbs,n=t._wrappedBuiltIns;function wrapProp(e,n){e in n&&g(n[e])&&R(n,e,(function(n){return t.wrap({mechanism:{type:"instrument",data:{function:e,handler:n&&n.name||"<anonymous>"}}},n)}))}if(e.xhr&&"XMLHttpRequest"in z){var r=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;R(r,"open",(function(e){return function(n,r){return y(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}}),n),R(r,"send",(function(e){return function(){var n=this;function onreadystatechangeHandler(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var r=["onload","onerror","onprogress"],i=0;i<r.length;i++)wrapProp(r[i],n);return"onreadystatechange"in n&&g(n.onreadystatechange)?R(n,"onreadystatechange",(function(e){return t.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,onreadystatechangeHandler)})):n.onreadystatechange=onreadystatechangeHandler,e.apply(this,arguments)}}),n)}e.xhr&&M()&&R(z,"fetch",(function(e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"===typeof o?i=o:"Request"in z&&o instanceof z.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(t._globalKey))return e.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return e.apply(this,n).then((function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e})).catch((function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e}))}}),n),e.dom&&this._hasDocument&&(j.addEventListener?(j.addEventListener("click",t._breadcrumbEventHandler("click"),!1),j.addEventListener("keypress",t._keypressEventHandler(),!1)):j.attachEvent&&(j.attachEvent("onclick",t._breadcrumbEventHandler("click")),j.attachEvent("onkeypress",t._keypressEventHandler())));var i=z.chrome,o=!(i&&i.app&&i.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(e.location&&o){var a=z.onpopstate;z.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),a)return a.apply(this,arguments)};var s=function historyReplacementFunction(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};R(z.history,"pushState",s,n),R(z.history,"replaceState",s,n)}if(e.console&&"console"in z&&console.log){var u=function consoleMethodCallback(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};_(["debug","info","warn","error","log"],(function(t,e){N(console,e,u)}))}},_restoreBuiltIns:function _restoreBuiltIns(){for(var t;this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function _restoreConsole(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function _drainPlugins(){var t=this;_(this._plugins,(function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))}))},_parseDSN:function _parseDSN(t){var e=U.exec(t),n={},r=7;try{for(;r--;)n[B[r]]=e[r]||""}catch(i){throw new a("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function _getGlobalServer(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function _handleOnErrorStackInfo(t,e){(e=e||{}).mechanism=e.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(t,e)},_handleStackInfo:function _handleStackInfo(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function _prepareFrames(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(_(t.stack,(function(e,i){var o=n._normalizeFrame(i,t.url);o&&r.push(o)})),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function _normalizeFrame(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function _processException(t,e,n,r,i,o){var a,s=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var u=b({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},o),l=u.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!u.exception.mechanism&&u.mechanism&&(u.exception.mechanism=u.mechanism,delete u.mechanism),u.exception.mechanism=b({type:"generic",handled:!0},u.exception.mechanism||{}),this._send(u)}},_trimPacket:function _trimPacket(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=S(t.message,e)),t.exception){var n=t.exception.values[0];n.value=S(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=S(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=S(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function _trimBreadcrumbs(t){for(var e,n,r,i=["to","from","url"],o=0;o<t.values.length;++o)if((n=t.values[o]).hasOwnProperty("data")&&p(n.data)&&!E(n.data)){r=b({},n.data);for(var a=0;a<i.length;++a)e=i[a],r.hasOwnProperty(e)&&r[e]&&(r[e]=S(r[e],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function _getHttpData(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&V.userAgent&&(t.headers={"User-Agent":V.userAgent}),z.location&&z.location.href&&(t.url=z.location.href),this._hasDocument&&j.referrer&&(t.headers||(t.headers={}),t.headers.Referer=j.referrer),t}},_resetBackoff:function _resetBackoff(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function _shouldBackoff(){return this._backoffDuration&&now()-this._backoffStart<this._backoffDuration},_isRepeatData:function _isRepeatData(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?D(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||C(t.exception,e.exception))},_setBackoffState:function _setBackoffState(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=M()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(r){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=now()}}},_send:function _send(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=b(n,t)).tags=b(b({},this._globalContext.tags),t.tags),t.extra=b(b({},this._globalContext.extra),t.extra),t.extra["session:duration"]=now()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach((function(e){(null==t[e]||""===t[e]||v(t[e]))&&delete t[e]})),g(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!v(t)&&(g(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"===typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function _sanitizeData(t){return F(t,this._globalOptions.sanitizeKeys)},_getUuid:function _getUuid(){return P()},_sendProcessedPayload:function _sendProcessedPayload(t,e){var n=this,r=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:t,options:r,onSuccess:function success(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function failure(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function _makeRequest(t){var e=t.url+"?"+T(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),M()){r.body=i(t.data);var o=b({},this._fetchDefaults),a=b(o,r);return n&&(a.headers=n),z.fetch(e,a).then((function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}})).catch((function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))}))}var s=z.XMLHttpRequest&&new z.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!==typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&_(n,(function(t,e){s.setRequestHeader(t,e)})),s.send(i(t.data))))},_evaluateHash:function _evaluateHash(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"===typeof r?r():r}return e},_logDebug:function _logDebug(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function _mergeContext(t,e){h(e)?delete this._globalContext[t]:this._globalContext[t]=b(this._globalContext[t]||{},e)}},Raven.prototype.setUser=Raven.prototype.setUserContext,Raven.prototype.setReleaseContext=Raven.prototype.setRelease,t.exports=Raven}).call(this,n(32))},function(t,e,n){(function(e){var r=n(226),i={collectWindowErrors:!0,debug:!1},o="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},a=[].slice,s="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function getLocationHref(){return"undefined"===typeof document||null==document.location?"":document.location.href}i.report=function reportModuleWrapper(){var t,e,n=[],l=null,c=null,f=null;function notifyHandlers(t,e){var r=null;if(!e||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[t].concat(a.call(arguments,2)))}catch(s){r=s}if(r)throw r}}function traceKitWindowOnError(e,n,o,a,l){var c=r.isErrorEvent(l)?l.error:l,p=r.isErrorEvent(e)?e.message:e;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,n,o,p),processLastException();else if(c&&r.isError(c))notifyHandlers(i.computeStackTrace(c),!0);else{var d,h={url:n,line:o,column:a},g=void 0;if("[object String]"==={}.toString.call(p))(d=p.match(u))&&(g=d[1],p=d[2]);h.func=s,notifyHandlers({name:g,message:p,url:getLocationHref(),stack:[h]},!0)}return!!t&&t.apply(this,arguments)}function processLastException(){var t=f,e=l;l=null,f=null,c=null,notifyHandlers.apply(null,[t,!1].concat(e))}function report(t,e){var n=a.call(arguments,1);if(f){if(c===t)return;processLastException()}var r=i.computeStackTrace(t);if(f=r,c=t,l=n,setTimeout((function(){c===t&&processLastException()}),r.incomplete?2e3:0),!1!==e)throw t}return report.subscribe=function subscribe(r){!function installGlobalHandler(){if(e)return;t=o.onerror,o.onerror=traceKitWindowOnError,e=!0}(),n.push(r)},report.unsubscribe=function unsubscribe(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},report.uninstall=function unsubscribeAll(){!function uninstallGlobalHandler(){if(!e)return;o.onerror=t,e=!1,t=void 0}(),n=[]},report}(),i.computeStackTrace=function computeStackTraceWrapper(){function computeStackTraceFromStackProp(t){if("undefined"!==typeof t.stack&&t.stack){for(var e,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=t.stack.split("\n"),f=[],p=(/^(.*) is undefined$/.exec(t.message),0),d=c.length;p<d;++p){if(n=i.exec(c[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:h?null:n[2],func:n[1]||s,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(c[p]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(c[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=u.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||"undefined"===typeof t.columnNumber||(f[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var y=g.responseText||"",m=(y=y.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(m){var v=m[1];"~"===v.charAt(0)&&(v=("undefined"===typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+v.slice(1)),r.url=v.slice(0,-4)}}}f.push(r)}return f.length?{name:t.name,message:t.message,url:getLocationHref(),stack:f}:null}}function augmentStackTraceWithInitialElement(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=s),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(t,e){for(var n,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],u={},l=!1,c=computeStackTraceByWalkingCallerChain.caller;c&&!l;c=c.caller)if(c!==computeStackTrace&&c!==i.report){if(r={url:null,func:s,line:null,column:null},c.name?r.func=c.name:(n=o.exec(c.toString()))&&(r.func=n[1]),"undefined"===typeof r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(p){}u[""+c]?l=!0:u[""+c]=!0,a.push(r)}e&&a.splice(0,e);var f={name:t.name,message:t.message,url:getLocationHref(),stack:a};return augmentStackTraceWithInitialElement(f,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),f}function computeStackTrace(t,e){var n=null;e=null==e?0:+e;try{if(n=computeStackTraceFromStackProp(t))return n}catch(r){if(i.debug)throw r}try{if(n=computeStackTraceByWalkingCallerChain(t,e+1))return n}catch(r){if(i.debug)throw r}return{name:t.name,message:t.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}(),t.exports=i}).call(this,n(32))},function(t,e){function safeAdd(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function md5cmn(t,e,n,r,i,o){return safeAdd(function bitRotateLeft(t,e){return t<<e|t>>>32-e}(safeAdd(safeAdd(e,t),safeAdd(r,o)),i),n)}function md5ff(t,e,n,r,i,o,a){return md5cmn(e&n|~e&r,t,e,i,o,a)}function md5gg(t,e,n,r,i,o,a){return md5cmn(e&r|n&~r,t,e,i,o,a)}function md5hh(t,e,n,r,i,o,a){return md5cmn(e^n^r,t,e,i,o,a)}function md5ii(t,e,n,r,i,o,a){return md5cmn(n^(e|~r),t,e,i,o,a)}function binlMD5(t,e){var n,r,i,o,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,u=-271733879,l=-1732584194,c=271733878;for(n=0;n<t.length;n+=16)r=s,i=u,o=l,a=c,s=md5ff(s,u,l,c,t[n],7,-680876936),c=md5ff(c,s,u,l,t[n+1],12,-389564586),l=md5ff(l,c,s,u,t[n+2],17,606105819),u=md5ff(u,l,c,s,t[n+3],22,-1044525330),s=md5ff(s,u,l,c,t[n+4],7,-176418897),c=md5ff(c,s,u,l,t[n+5],12,1200080426),l=md5ff(l,c,s,u,t[n+6],17,-1473231341),u=md5ff(u,l,c,s,t[n+7],22,-45705983),s=md5ff(s,u,l,c,t[n+8],7,1770035416),c=md5ff(c,s,u,l,t[n+9],12,-1958414417),l=md5ff(l,c,s,u,t[n+10],17,-42063),u=md5ff(u,l,c,s,t[n+11],22,-1990404162),s=md5ff(s,u,l,c,t[n+12],7,1804603682),c=md5ff(c,s,u,l,t[n+13],12,-40341101),l=md5ff(l,c,s,u,t[n+14],17,-1502002290),s=md5gg(s,u=md5ff(u,l,c,s,t[n+15],22,1236535329),l,c,t[n+1],5,-165796510),c=md5gg(c,s,u,l,t[n+6],9,-1069501632),l=md5gg(l,c,s,u,t[n+11],14,643717713),u=md5gg(u,l,c,s,t[n],20,-373897302),s=md5gg(s,u,l,c,t[n+5],5,-701558691),c=md5gg(c,s,u,l,t[n+10],9,38016083),l=md5gg(l,c,s,u,t[n+15],14,-660478335),u=md5gg(u,l,c,s,t[n+4],20,-405537848),s=md5gg(s,u,l,c,t[n+9],5,568446438),c=md5gg(c,s,u,l,t[n+14],9,-1019803690),l=md5gg(l,c,s,u,t[n+3],14,-187363961),u=md5gg(u,l,c,s,t[n+8],20,1163531501),s=md5gg(s,u,l,c,t[n+13],5,-1444681467),c=md5gg(c,s,u,l,t[n+2],9,-51403784),l=md5gg(l,c,s,u,t[n+7],14,1735328473),s=md5hh(s,u=md5gg(u,l,c,s,t[n+12],20,-1926607734),l,c,t[n+5],4,-378558),c=md5hh(c,s,u,l,t[n+8],11,-2022574463),l=md5hh(l,c,s,u,t[n+11],16,1839030562),u=md5hh(u,l,c,s,t[n+14],23,-35309556),s=md5hh(s,u,l,c,t[n+1],4,-1530992060),c=md5hh(c,s,u,l,t[n+4],11,1272893353),l=md5hh(l,c,s,u,t[n+7],16,-155497632),u=md5hh(u,l,c,s,t[n+10],23,-1094730640),s=md5hh(s,u,l,c,t[n+13],4,681279174),c=md5hh(c,s,u,l,t[n],11,-358537222),l=md5hh(l,c,s,u,t[n+3],16,-722521979),u=md5hh(u,l,c,s,t[n+6],23,76029189),s=md5hh(s,u,l,c,t[n+9],4,-640364487),c=md5hh(c,s,u,l,t[n+12],11,-421815835),l=md5hh(l,c,s,u,t[n+15],16,530742520),s=md5ii(s,u=md5hh(u,l,c,s,t[n+2],23,-995338651),l,c,t[n],6,-198630844),c=md5ii(c,s,u,l,t[n+7],10,1126891415),l=md5ii(l,c,s,u,t[n+14],15,-1416354905),u=md5ii(u,l,c,s,t[n+5],21,-57434055),s=md5ii(s,u,l,c,t[n+12],6,1700485571),c=md5ii(c,s,u,l,t[n+3],10,-1894986606),l=md5ii(l,c,s,u,t[n+10],15,-1051523),u=md5ii(u,l,c,s,t[n+1],21,-2054922799),s=md5ii(s,u,l,c,t[n+8],6,1873313359),c=md5ii(c,s,u,l,t[n+15],10,-30611744),l=md5ii(l,c,s,u,t[n+6],15,-1560198380),u=md5ii(u,l,c,s,t[n+13],21,1309151649),s=md5ii(s,u,l,c,t[n+4],6,-145523070),c=md5ii(c,s,u,l,t[n+11],10,-1120210379),l=md5ii(l,c,s,u,t[n+2],15,718787259),u=md5ii(u,l,c,s,t[n+9],21,-343485551),s=safeAdd(s,r),u=safeAdd(u,i),l=safeAdd(l,o),c=safeAdd(c,a);return[s,u,l,c]}function binl2rstr(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function rstr2binl(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function rstr2hex(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function str2rstrUTF8(t){return unescape(encodeURIComponent(t))}function rawMD5(t){return function rstrMD5(t){return binl2rstr(binlMD5(rstr2binl(t),8*t.length))}(str2rstrUTF8(t))}function rawHMACMD5(t,e){return function rstrHMACMD5(t,e){var n,r,i=rstr2binl(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=binlMD5(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=binlMD5(o.concat(rstr2binl(e)),512+8*e.length),binl2rstr(binlMD5(a.concat(r),640))}(str2rstrUTF8(t),str2rstrUTF8(e))}t.exports=function md5(t,e,n){return e?n?rawHMACMD5(e,t):function hexHMACMD5(t,e){return rstr2hex(rawHMACMD5(t,e))}(e,t):n?rawMD5(t):function hexMD5(t){return rstr2hex(rawMD5(t))}(t)}},function(t,e){function RavenConfigError(t){this.name="RavenConfigError",this.message=t}RavenConfigError.prototype=new Error,RavenConfigError.prototype.constructor=RavenConfigError,t.exports=RavenConfigError},function(t,e,n){var r=n(226);t.exports={wrapMethod:function wrapMethod(t,e,n){var i=t[e],o=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=r.safeJoin(t," "),u={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),n&&n(s,u)):n&&n(s,u),i&&Function.prototype.apply.call(i,o,t)}}}}},function(t,e,n){"use strict";var r=n(175),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112;i&&Symbol.for("react.placeholder");var h="function"===typeof Symbol&&Symbol.iterator;function B(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function A(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function isMounted(){return!1},enqueueForceUpdate:function enqueueForceUpdate(){},enqueueReplaceState:function enqueueReplaceState(){},enqueueSetState:function enqueueSetState(){}},y={};function E(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||g}function F(){}function G(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||g}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&B("85"),this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},F.prototype=E.prototype;var m=G.prototype=new F;m.constructor=G,r(m,E.prototype),m.isPureReactComponent=!0;var v={current:null,currentDispatcher:null},_=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function L(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!b.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:v.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var x=/\/+/g,w=[];function Q(t,e,n,r){if(w.length){var i=w.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>w.length&&w.push(t)}function U(t,e,n){return null==t?0:function S(t,e,n,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return n(r,t,""===e?"."+T(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=e+T(i=t[u],u);s+=S(i,l,n,r)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=h&&t[h]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),u=0;!(i=t.next()).done;)s+=S(i=i.value,l=e+T(i,u++),n,r);else"object"===i&&B("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return s}(t,"",e,n)}function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function escape(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function V(t,e){t.func.call(t.context,e,t.count++)}function aa(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?W(t,r,n,(function(t){return t})):null!=t&&(N(t)&&(t=function M(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(x,"$&/")+"/")+n)),r.push(t))}function W(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(x,"$&/")+"/"),U(t,aa,e=Q(e,o,r,i)),R(e)}function ba(t,e){var n=v.currentDispatcher;return null===n&&B("277"),n.readContext(t,e)}var P={Children:{map:function map(t,e,n){if(null==t)return t;var r=[];return W(t,r,null,e,n),r},forEach:function forEach(t,e,n){if(null==t)return t;U(t,V,e=Q(null,null,e,n)),R(e)},count:function count(t){return U(t,(function(){return null}),null)},toArray:function toArray(t){var e=[];return W(t,e,null,(function(t){return t})),e},only:function only(t){return N(t)||B("143"),t}},createRef:function createRef(){return{current:null}},Component:E,PureComponent:G,createContext:function createContext(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:c,_context:t},t.Consumer=t,t.unstable_read=ba.bind(null,t),t},forwardRef:function forwardRef(t){return{$$typeof:d,render:t}},Fragment:s,StrictMode:u,unstable_AsyncMode:p,unstable_Profiler:l,createElement:L,cloneElement:function cloneElement(t,e,n){(null===t||void 0===t)&&B("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=v.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)_.call(e,i)&&!b.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function createFactory(t){var e=L.bind(null,t);return e.type=t,e},isValidElement:N,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:v,assign:r}},k={default:P},C=k&&P||k;t.exports=C.default||C},function(n,i,o){"use strict";var a=o(0),s=o(175),u=o(550);function t(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function ca(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function da(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}a||t("227");var p=!1,y=null,v=!1,_=null,E={onError:function onError(t){p=!0,y=t}};function ka(t,e,n,r,i,o,a,s,u){p=!1,y=null,da.apply(E,arguments)}var x=null,w={};function oa(){if(x)for(var e in w){var n=w[e],r=x.indexOf(e);if(-1<r||t("96",e),!T[r])for(var i in n.extractEvents||t("97",e),T[r]=n,r=n.eventTypes){var o=void 0,a=r[i],s=n,u=i;C.hasOwnProperty(u)&&t("99",u),C[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&ra(l[o],s,u);o=!0}else a.registrationName?(ra(a.registrationName,s,u),o=!0):o=!1;o||t("98",i,e)}}}function ra(e,n,r){R[e]&&t("100",e),R[e]=n,L[e]=n.eventTypes[r].dependencies}var T=[],C={},R={},L={},I=null,O=null,N=null;function xa(e,n,r,i){n=e.type||"unknown-event",e.currentTarget=N(i),function la(e,n,r,i,o,a,s,u,l){if(ka.apply(this,arguments),p){if(p){var c=y;p=!1,y=null}else t("198"),c=void 0;v||(v=!0,_=c)}}(n,r,void 0,e),e.currentTarget=null}function ya(e,n){return null==n&&t("30"),null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function za(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var U=null;function Ba(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)xa(t,e,n[i],r[i]);else n&&xa(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function Ca(t){return Ba(t,!0)}function Da(t){return Ba(t,!1)}var j={injectEventPluginOrder:function injectEventPluginOrder(e){x&&t("101"),x=Array.prototype.slice.call(e),oa()},injectEventPluginsByName:function injectEventPluginsByName(e){var n,r=!1;for(n in e)if(e.hasOwnProperty(n)){var i=e[n];w.hasOwnProperty(n)&&w[n]===i||(w[n]&&t("102",n),w[n]=i,r=!0)}r&&oa()}};function Fa(e,n){var r=e.stateNode;if(!r)return null;var i=I(r);if(!i)return null;r=i[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break t;default:e=!1}return e?null:(r&&"function"!==typeof r&&t("231",n,typeof r),r)}function Ga(e,n){if(null!==e&&(U=ya(U,e)),e=U,U=null,e&&(za(e,n?Ca:Da),U&&t("95"),v))throw n=_,v=!1,_=null,n}var V=Math.random().toString(36).slice(2),W="__reactInternalInstance$"+V,q="__reactEventHandlers$"+V;function Ka(t){if(t[W])return t[W];for(;!t[W];){if(!t.parentNode)return null;t=t.parentNode}return 7===(t=t[W]).tag||8===t.tag?t:null}function La(t){return!(t=t[W])||7!==t.tag&&8!==t.tag?null:t}function Ma(e){if(7===e.tag||8===e.tag)return e.stateNode;t("33")}function Na(t){return t[q]||null}function Oa(t){do{t=t.return}while(t&&7!==t.tag);return t||null}function Pa(t,e,n){(e=Fa(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ya(n._dispatchListeners,e),n._dispatchInstances=ya(n._dispatchInstances,t))}function Qa(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Oa(e);for(e=n.length;0<e--;)Pa(n[e],"captured",t);for(e=0;e<n.length;e++)Pa(n[e],"bubbled",t)}}function Ra(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Fa(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ya(n._dispatchListeners,e),n._dispatchInstances=ya(n._dispatchInstances,t))}function Ta(t){t&&t.dispatchConfig.registrationName&&Ra(t._targetInst,null,t)}function Ua(t){za(t,Qa)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function Wa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var X={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Z={},$={};function ab(t){if(Z[t])return Z[t];if(!X[t])return t;var e,n=X[t];for(e in n)if(n.hasOwnProperty(e)&&e in $)return Z[t]=n[e];return t}Y&&($=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var J=ab("animationend"),Q=ab("animationiteration"),tt=ab("animationstart"),et=ab("transitionend"),nt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rt=null,it=null,ot=null;function jb(){if(ot)return ot;var t,e,n=it,r=n.length,i="value"in rt?rt.value:rt.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return ot=i.slice(t,1<e?1-e:void 0)}function kb(){return!0}function lb(){return!1}function z(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?kb:lb,this.isPropagationStopped=lb,this}function nb(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ob(e){e instanceof this||t("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function mb(t){t.eventPool=[],t.getPooled=nb,t.release=ob}s(z.prototype,{preventDefault:function preventDefault(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=kb)},stopPropagation:function stopPropagation(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=kb)},persist:function persist(){this.isPersistent=kb},isPersistent:lb,destructor:function destructor(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lb,this._dispatchInstances=this._dispatchListeners=null}}),z.Interface={type:null,target:null,currentTarget:function currentTarget(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function timeStamp(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},z.extend=function(t){function b(){}function c(){return e.apply(this,arguments)}var e=this;b.prototype=e.prototype;var n=new b;return s(n,c.prototype),c.prototype=n,c.prototype.constructor=c,c.Interface=s({},e.Interface,t),c.extend=e.extend,mb(c),c},mb(z);var at=z.extend({data:null}),st=z.extend({data:null}),ut=[9,13,27,32],lt=Y&&"CompositionEvent"in window,ct=null;Y&&"documentMode"in document&&(ct=document.documentMode);var ft=Y&&"TextEvent"in window&&!ct,pt=Y&&(!lt||ct&&8<ct&&11>=ct),dt=String.fromCharCode(32),ht={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},gt=!1;function zb(t,e){switch(t){case"keyup":return-1!==ut.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ab(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var yt=!1;var mt={eventTypes:ht,extractEvents:function extractEvents(t,e,n,r){var i=void 0,o=void 0;if(lt)t:{switch(t){case"compositionstart":i=ht.compositionStart;break t;case"compositionend":i=ht.compositionEnd;break t;case"compositionupdate":i=ht.compositionUpdate;break t}i=void 0}else yt?zb(t,n)&&(i=ht.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=ht.compositionStart);return i?(pt&&"ko"!==n.locale&&(yt||i!==ht.compositionStart?i===ht.compositionEnd&&yt&&(o=jb()):(it="value"in(rt=r)?rt.value:rt.textContent,yt=!0)),i=at.getPooled(i,e,n,r),o?i.data=o:null!==(o=Ab(n))&&(i.data=o),Ua(i),o=i):o=null,(t=ft?function Cb(t,e){switch(t){case"compositionend":return Ab(e);case"keypress":return 32!==e.which?null:(gt=!0,dt);case"textInput":return(t=e.data)===dt&&gt?null:t;default:return null}}(t,n):function Db(t,e){if(yt)return"compositionend"===t||!lt&&zb(t,e)?(t=jb(),ot=it=rt=null,yt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=st.getPooled(ht.beforeInput,e,n,r)).data=t,Ua(e)):e=null,null===o?e:null===e?o:[o,e]}},vt=null,_t=null,bt=null;function Ib(e){if(e=O(e)){"function"!==typeof vt&&t("280");var n=I(e.stateNode);vt(e.stateNode,e.type,n)}}function Jb(t){_t?bt?bt.push(t):bt=[t]:_t=t}function Kb(){if(_t){var t=_t,e=bt;if(bt=_t=null,Ib(t),e)for(t=0;t<e.length;t++)Ib(e[t])}}function Lb(t,e){return t(e)}function Mb(t,e,n){return t(e,n)}function Nb(){}var St=!1;function Pb(t,e){if(St)return t(e);St=!0;try{return Lb(t,e)}finally{St=!1,(null!==_t||null!==bt)&&(Nb(),Kb())}}var Et={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Et[t.type]:"textarea"===e}function Sb(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Tb(t){if(!Y)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Ub(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Wb(t){t._valueTracker||(t._valueTracker=function Vb(t){var e=Ub(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function get(){return i.call(this)},set:function set(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function getValue(){return r},setValue:function setValue(t){r=""+t},stopTracking:function stopTracking(){t._valueTracker=null,delete t[e]}}}}(t))}function Xb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ub(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var xt=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wt=/^(.*)[\\\/]/,Tt="function"===typeof Symbol&&Symbol.for,Pt=Tt?Symbol.for("react.element"):60103,kt=Tt?Symbol.for("react.portal"):60106,Ct=Tt?Symbol.for("react.fragment"):60107,Dt=Tt?Symbol.for("react.strict_mode"):60108,At=Tt?Symbol.for("react.profiler"):60114,Rt=Tt?Symbol.for("react.provider"):60109,Mt=Tt?Symbol.for("react.context"):60110,Lt=Tt?Symbol.for("react.async_mode"):60111,It=Tt?Symbol.for("react.forward_ref"):60112,Ot=Tt?Symbol.for("react.placeholder"):60113,Ft="function"===typeof Symbol&&Symbol.iterator;function kc(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=Ft&&t[Ft]||t["@@iterator"])?t:null}function lc(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case Lt:return"AsyncMode";case Ct:return"Fragment";case kt:return"Portal";case At:return"Profiler";case Dt:return"StrictMode";case Ot:return"Placeholder"}if("object"===typeof t){switch(t.$$typeof){case Mt:return"Context.Consumer";case Rt:return"Context.Provider";case It:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef")}if("function"===typeof t.then&&(t=1===t._reactStatus?t._reactResult:null))return lc(t)}return null}function mc(t){var e="";do{t:switch(t.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=t._debugOwner,r=t._debugSource,i=lc(t.type),o=null;n&&(o=lc(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(wt,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break t;default:o=""}e+=o,t=t.return}while(t);return e}var Nt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bt=Object.prototype.hasOwnProperty,Ut={},zt={};function D(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){jt[t]=new D(t,0,!1,t,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];jt[e]=new D(e,1,!1,t[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){jt[t]=new D(t,2,!1,t.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){jt[t]=new D(t,2,!1,t,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){jt[t]=new D(t,3,!1,t.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(t){jt[t]=new D(t,3,!0,t,null)})),["capture","download"].forEach((function(t){jt[t]=new D(t,4,!1,t,null)})),["cols","rows","size","span"].forEach((function(t){jt[t]=new D(t,6,!1,t,null)})),["rowSpan","start"].forEach((function(t){jt[t]=new D(t,5,!1,t.toLowerCase(),null)}));var Vt=/[\-:]([a-z])/g;function wc(t){return t[1].toUpperCase()}function xc(t,e,n,r){var i=jt.hasOwnProperty(e)?jt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function uc(t,e,n,r){if(null===e||"undefined"===typeof e||function tc(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function sc(t){return!!Bt.call(zt,t)||!Bt.call(Ut,t)&&(Nt.test(t)?zt[t]=!0:(Ut[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function yc(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function zc(t,e){var n=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Bc(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=yc(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Cc(t,e){null!=(e=e.checked)&&xc(t,"checked",e,!1)}function Dc(t,e){Cc(t,e);var n=yc(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ec(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ec(t,e.type,yc(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Fc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ec(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Vt,wc);jt[e]=new D(e,1,!1,t,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Vt,wc);jt[e]=new D(e,1,!1,t,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Vt,wc);jt[e]=new D(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")})),jt.tabIndex=new D("tabIndex",1,!1,"tabindex",null);var Gt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Hc(t,e,n){return(t=z.getPooled(Gt.change,t,e,n)).type="change",Jb(n),Ua(t),t}var Wt=null,qt=null;function Kc(t){Ga(t,!1)}function Lc(t){if(Xb(Ma(t)))return t}function Mc(t,e){if("change"===t)return e}var Ht=!1;function Oc(){Wt&&(Wt.detachEvent("onpropertychange",Pc),qt=Wt=null)}function Pc(t){"value"===t.propertyName&&Lc(qt)&&Pb(Kc,t=Hc(qt,t,Sb(t)))}function Qc(t,e,n){"focus"===t?(Oc(),qt=n,(Wt=e).attachEvent("onpropertychange",Pc)):"blur"===t&&Oc()}function Rc(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Lc(qt)}function Sc(t,e){if("click"===t)return Lc(e)}function Tc(t,e){if("input"===t||"change"===t)return Lc(e)}Y&&(Ht=Tb("input")&&(!document.documentMode||9<document.documentMode));var Kt={eventTypes:Gt,_isInputEventSupported:Ht,extractEvents:function extractEvents(t,e,n,r){var i=e?Ma(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Mc:Rb(i)?Ht?o=Tc:(o=Rc,a=Qc):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Sc),o&&(o=o(t,e)))return Hc(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Ec(i,"number",i.value)}},Yt=z.extend({view:null,detail:null}),Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Xt[t])&&!!e[t]}function Yc(){return Xc}var Zt=0,$t=0,Jt=!1,Qt=!1,ne=Yt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yc,button:null,buttons:null,relatedTarget:function relatedTarget(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function movementX(t){if("movementX"in t)return t.movementX;var e=Zt;return Zt=t.screenX,Jt?"mousemove"===t.type?t.screenX-e:0:(Jt=!0,0)},movementY:function movementY(t){if("movementY"in t)return t.movementY;var e=$t;return $t=t.screenY,Qt?"mousemove"===t.type?t.screenY-e:0:(Qt=!0,0)}}),se=ne.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),pe={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ye={eventTypes:pe,extractEvents:function extractEvents(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?Ka(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=ne,s=pe.mouseLeave,u=pe.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=se,s=pe.pointerLeave,u=pe.pointerEnter,l="pointer");var c=null==o?i:Ma(o);if(i=null==e?i:Ma(e),(t=a.getPooled(s,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,a=e=o;a;a=Oa(a))l++;for(a=0,u=i;u;u=Oa(u))a++;for(;0<l-a;)e=Oa(e),l--;for(;0<a-l;)i=Oa(i),a--;for(;l--;){if(e===i||e===i.alternate)break t;e=Oa(e),i=Oa(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=Oa(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=Oa(r);for(r=0;r<e.length;r++)Ra(e[r],"bubbled",t);for(r=o.length;0<r--;)Ra(o[r],"captured",n);return[t,n]}},me=Object.prototype.hasOwnProperty;function hd(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function id(t,e){if(hd(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!me.call(e,n[r])||!hd(t[n[r]],e[n[r]]))return!1;return!0}function jd(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 5===e.tag?2:3}function kd(e){2!==jd(e)&&t("188")}function md(e){if(!(e=function ld(e){var n=e.alternate;if(!n)return 3===(n=jd(e))&&t("188"),1===n?null:e;for(var r=e,i=n;;){var o=r.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===r)return kd(o),e;if(s===i)return kd(o),n;s=s.sibling}t("188")}if(r.return!==i.return)r=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===r){s=!0,r=o,i=a;break}if(u===i){s=!0,i=o,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,i=o;break}if(u===i){s=!0,i=a,r=o;break}u=u.sibling}s||t("189")}}r.alternate!==i&&t("190")}return 5!==r.tag&&t("188"),r.stateNode.current===r?e:n}(e)))return null;for(var n=e;;){if(7===n.tag||8===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}var _e=z.extend({animationName:null,elapsedTime:null,pseudoElement:null}),be=z.extend({clipboardData:function clipboardData(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ee=Yt.extend({relatedTarget:null});function qd(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},De=Yt.extend({key:function key(t){if(t.key){var e=xe[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=qd(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Pe[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yc,charCode:function charCode(t){return"keypress"===t.type?qd(t):0},keyCode:function keyCode(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function which(t){return"keypress"===t.type?qd(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Oe=ne.extend({dataTransfer:null}),Fe=Yt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yc}),je=z.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ge=ne.extend({deltaX:function deltaX(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function deltaY(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),qe=[["abort","abort"],[J,"animationEnd"],[Q,"animationIteration"],[tt,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[et,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],tn={},en={};function Bd(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},tn[t]=e,en[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(t){Bd(t,!0)})),qe.forEach((function(t){Bd(t,!1)}));var nn={eventTypes:tn,isInteractiveTopLevelEventType:function isInteractiveTopLevelEventType(t){return void 0!==(t=en[t])&&!0===t.isInteractive},extractEvents:function extractEvents(t,e,n,r){var i=en[t];if(!i)return null;switch(t){case"keypress":if(0===qd(n))return null;case"keydown":case"keyup":t=De;break;case"blur":case"focus":t=Ee;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=ne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=Oe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Fe;break;case J:case Q:case tt:t=_e;break;case et:t=je;break;case"scroll":t=Yt;break;case"wheel":t=Ge;break;case"copy":case"cut":case"paste":t=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=se;break;default:t=z}return Ua(e=t.getPooled(i,e,n,r)),e}},rn=nn.isInteractiveTopLevelEventType,on=[];function Fd(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=5!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=Ka(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Sb(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<T.length;s++){var u=T[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=ya(a,u))}Ga(a,!1)}}var an=!0;function F(t,e){if(!e)return null;var n=(rn(t)?Hd:Id).bind(null,t);e.addEventListener(t,n,!1)}function Jd(t,e){if(!e)return null;var n=(rn(t)?Hd:Id).bind(null,t);e.addEventListener(t,n,!0)}function Hd(t,e){Mb(Id,t,e)}function Id(t,e){if(an){var n=Sb(e);if(null===(n=Ka(n))||"number"!==typeof n.tag||2===jd(n)||(n=null),on.length){var r=on.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Pb(Fd,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>on.length&&on.push(t)}}}var sn={},un=0,ln="_reactListenersID"+(""+Math.random()).slice(2);function Nd(t){return Object.prototype.hasOwnProperty.call(t,ln)||(t[ln]=un++,sn[t[ln]]={}),sn[t[ln]]}function Od(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,e){var n,r=Qd(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Qd(r)}}function Td(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(n){break}e=Od(t.document)}return e}function Ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var cn=Y&&"documentMode"in document&&11>=document.documentMode,fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},pn=null,dn=null,hn=null,gn=!1;function ae(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return gn||null==pn||pn!==Od(n)?null:("selectionStart"in(n=pn)&&Ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},hn&&id(hn,n)?null:(hn=n,(t=z.getPooled(fn.select,dn,t,e)).type="select",t.target=pn,Ua(t),t))}var yn={eventTypes:fn,extractEvents:function extractEvents(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Nd(o),i=L.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?Ma(e):window,t){case"focus":(Rb(o)||"true"===o.contentEditable)&&(pn=o,dn=e,hn=null);break;case"blur":hn=dn=pn=null;break;case"mousedown":gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return gn=!1,ae(n,r);case"selectionchange":if(cn)break;case"keydown":case"keyup":return ae(n,r)}return null}};function de(t,e){return t=s({children:void 0},e),(e=function ce(t){var e="";return a.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ee(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function fe(e,n){return null!=n.dangerouslySetInnerHTML&&t("91"),s({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ge(e,n){var r=n.value;null==r&&(r=n.defaultValue,null!=(n=n.children)&&(null!=r&&t("92"),Array.isArray(n)&&(1>=n.length||t("93"),n=n[0]),r=n),null==r&&(r="")),e._wrapperState={initialValue:yc(r)}}function he(t,e){var n=yc(e.value),r=yc(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ie(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),I=Na,O=La,N=Ma,j.injectEventPluginsByName({SimpleEventPlugin:nn,EnterLeaveEventPlugin:ye,ChangeEventPlugin:Kt,SelectEventPlugin:yn,BeforeInputEventPlugin:mt});var mn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ke(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ke(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vn=void 0,_n=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==mn.svg||"innerHTML"in t)t.innerHTML=e;else{for((vn=vn||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=vn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function oe(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sn=["Webkit","ms","Moz","O"];function re(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||bn.hasOwnProperty(i)&&bn[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bn).forEach((function(t){Sn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bn[e]=bn[t]}))}));var En=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(e,n){n&&(En[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML)&&t("137",e,""),null!=n.dangerouslySetInnerHTML&&(null!=n.children&&t("60"),"object"===typeof n.dangerouslySetInnerHTML&&"__html"in n.dangerouslySetInnerHTML||t("61")),null!=n.style&&"object"!==typeof n.style&&t("62",""))}function ue(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ve(t,e){var n=Nd(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=L[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Jd("scroll",t);break;case"focus":case"blur":Jd("focus",t),Jd("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Tb(i)&&Jd(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===nt.indexOf(i)&&F(i,t)}n[i]=!0}}}function we(){}var xn=null,wn=null;function ze(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ae(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Be(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Ce(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var Tn=[],Pn=-1;function G(t){0>Pn||(t.current=Tn[Pn],Tn[Pn]=null,Pn--)}function H(t,e){Tn[++Pn]=t.current,t.current=e}var kn={},Cn={current:kn},Dn={current:!1},An=kn;function He(t,e){var n=t.type.contextTypes;if(!n)return kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function K(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ie(t){G(Dn),G(Cn)}function Je(t){G(Dn),G(Cn)}function Ke(e,n,r){Cn.current!==kn&&t("168"),H(Cn,n),H(Dn,r)}function Le(e,n,r){var i=e.stateNode;if(e=n.childContextTypes,"function"!==typeof i.getChildContext)return r;for(var o in i=i.getChildContext())o in e||t("108",lc(n)||"Unknown",o);return s({},r,i)}function Me(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||kn,An=Cn.current,H(Cn,e),H(Dn,Dn.current),!0}function Ne(e,n,r){var i=e.stateNode;i||t("169"),r?(n=Le(e,n,An),i.__reactInternalMemoizedMergedChildContext=n,G(Dn),G(Cn),H(Cn,n)):G(Dn),H(Dn,r)}var Rn=null,Mn=null;function Qe(t){return function(e){try{return t(e)}catch(n){}}}function Se(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Te(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ue(t,e,n){var r=t.alternate;return null===r?((r=new Se(t.tag,e,t.key,t.mode)).type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=e!==t.pendingProps?n:t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.firstContextDependency=t.firstContextDependency,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ve(e,n,r){var i=e.type,o=e.key;e=e.props;var a=void 0;if("function"===typeof i)a=Te(i)?2:4;else if("string"===typeof i)a=7;else t:switch(i){case Ct:return We(e.children,n,r,o);case Lt:a=10,n|=3;break;case Dt:a=10,n|=2;break;case At:return(i=new Se(15,e,o,4|n)).type=At,i.expirationTime=r,i;case Ot:a=16;break;default:if("object"===typeof i&&null!==i)switch(i.$$typeof){case Rt:a=12;break t;case Mt:a=11;break t;case It:a=13;break t;default:if("function"===typeof i.then){a=4;break t}}t("130",null==i?i:typeof i,"")}return(n=new Se(a,e,o,n)).type=i,n.expirationTime=r,n}function We(t,e,n,r){return(t=new Se(9,t,r,e)).expirationTime=n,t}function Xe(t,e,n){return(t=new Se(8,t,null,e)).expirationTime=n,t}function Ye(t,e,n){return(e=new Se(6,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ze(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),$e(e,t)}function $e(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r>t)&&(i=r),0!==(t=i)&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}var Ln=!1;function bf(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function cf(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function df(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ef(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function ff(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=bf(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=bf(t.memoizedState),i=n.updateQueue=bf(n.memoizedState)):r=t.updateQueue=cf(i):null===i&&(i=n.updateQueue=cf(r));null===i||r===i?ef(r,e):null===r.lastUpdate||null===i.lastUpdate?(ef(r,e),ef(i,e)):(ef(r,e),i.lastUpdate=e)}function gf(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=bf(t.memoizedState):hf(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function hf(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=cf(e)),e}function jf(t,e,n,r,i,o){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(o,r,i):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(i="function"===typeof(t=n.payload)?t.call(o,r,i):t)||void 0===i)break;return s({},r,i);case 2:Ln=!0}return r}function kf(t,e,n,r,i){Ln=!1;for(var o=(e=hf(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c>i?(null===a&&(a=u,o=l),(0===s||s>c)&&(s=c)):(l=jf(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f>i?(null===c&&(c=u,null===a&&(o=l)),(0===s||s>f)&&(s=f)):(l=jf(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function lf(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),mf(e.firstEffect,n),e.firstEffect=e.lastEffect=null,mf(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function mf(e,n){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var i=n;"function"!==typeof r&&t("191",r),r.call(i)}e=e.nextEffect}}function nf(t,e){return{value:t,source:e,stack:mc(e)}}var In={current:null},On=null,Fn=null,Nn=null;function sf(t,e){var n=t.type._context;H(In,n._currentValue),n._currentValue=e}function tf(t){var e=In.current;G(In),t.type._context._currentValue=e}function uf(t){On=t,Nn=Fn=null,t.firstContextDependency=null}function vf(e,n){return Nn!==e&&!1!==n&&0!==n&&("number"===typeof n&&1073741823!==n||(Nn=e,n=1073741823),n={context:e,observedBits:n,next:null},null===Fn?(null===On&&t("277"),On.firstContextDependency=Fn=n):Fn=Fn.next=n),e._currentValue}var Bn={},Un={current:Bn},zn={current:Bn},jn={current:Bn};function zf(e){return e===Bn&&t("174"),e}function Af(t,e){H(jn,e),H(zn,t),H(Un,Bn);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:le(null,"");break;default:e=le(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}G(Un),H(Un,e)}function Bf(t){G(Un),G(zn),G(jn)}function Cf(t){zf(jn.current);var e=zf(Un.current),n=le(e,t.type);e!==n&&(H(zn,t),H(Un,n))}function Df(t){zn.current===t&&(G(Un),G(zn))}var Vn=(new a.Component).refs;function Ff(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:s({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Gn={isMounted:function isMounted(t){return!!(t=t._reactInternalFiber)&&2===jd(t)},enqueueSetState:function enqueueSetState(t,e,n){t=t._reactInternalFiber;var r=Gf(),i=df(r=Hf(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ff(t,i),If(t,r)},enqueueReplaceState:function enqueueReplaceState(t,e,n){t=t._reactInternalFiber;var r=Gf(),i=df(r=Hf(r,t));i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ff(t,i),If(t,r)},enqueueForceUpdate:function enqueueForceUpdate(t,e){t=t._reactInternalFiber;var n=Gf(),r=df(n=Hf(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),ff(t,r),If(t,n)}};function Kf(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!id(n,r)||!id(i,o))}function Lf(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gn.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,r){var i=t.stateNode,o=K(e)?An:Cn.current;i.props=n,i.state=t.memoizedState,i.refs=Vn,i.context=He(t,o),null!==(o=t.updateQueue)&&(kf(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(Ff(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Gn.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(kf(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Wn=Array.isArray;function Of(e,n,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var i=void 0;r&&(2!==r.tag&&3!==r.tag&&t("110"),i=r.stateNode),i||t("147",e);var o=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===o?n.ref:((n=function b(t){var b=i.refs;b===Vn&&(b=i.refs={}),null===t?delete b[o]:b[o]=t})._stringRef=o,n)}"string"!==typeof e&&t("284"),r._owner||t("254",e)}return e}function Pf(e,n){"textarea"!==e.type&&t("31","[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n,"")}function Qf(n){function b(t,e){if(n){var r=t.lastEffect;null!==r?(r.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function c(t,e){if(!n)return null;for(;null!==e;)b(t,e),e=e.sibling;return null}function d(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function e(t,e,n){return(t=Ue(t,e,n)).index=0,t.sibling=null,t}function f(t,e,r){return t.index=r,n?null!==(r=t.alternate)?(r=r.index)<e?(t.effectTag=2,e):r:(t.effectTag=2,e):e}function g(t){return n&&null===t.alternate&&(t.effectTag=2),t}function h(t,n,r,i){return null===n||8!==n.tag?((n=Xe(r,t.mode,i)).return=t,n):((n=e(n,r,i)).return=t,n)}function k(t,n,r,i){return null!==n&&n.type===r.type?((i=e(n,r.props,i)).ref=Of(t,n,r),i.return=t,i):((i=Ve(r,t.mode,i)).ref=Of(t,n,r),i.return=t,i)}function l(t,n,r,i){return null===n||6!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?((n=Ye(r,t.mode,i)).return=t,n):((n=e(n,r.children||[],i)).return=t,n)}function m(t,n,r,i,o){return null===n||9!==n.tag?((n=We(r,t.mode,i,o)).return=t,n):((n=e(n,r,i)).return=t,n)}function r(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Xe(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Pt:return(n=Ve(e,t.mode,n)).ref=Of(t,null,e),n.return=t,n;case kt:return(e=Ye(e,t.mode,n)).return=t,e}if(Wn(e)||kc(e))return(e=We(e,t.mode,n,null)).return=t,e;Pf(t,e)}return null}function A(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:h(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Pt:return n.key===i?n.type===Ct?m(t,e,n.props.children,r,i):k(t,e,n,r):null;case kt:return n.key===i?l(t,e,n,r):null}if(Wn(n)||kc(n))return null!==i?null:m(t,e,n,r,null);Pf(t,n)}return null}function S(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return h(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Pt:return t=t.get(null===r.key?n:r.key)||null,r.type===Ct?m(e,t,r.props.children,i,r.key):k(e,t,r,i);case kt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Wn(r)||kc(r))return m(e,t=t.get(n)||null,r,i,null);Pf(e,r)}return null}function B(t,e,i,o){for(var a=null,s=null,u=e,l=e=0,p=null;null!==u&&l<i.length;l++){u.index>l?(p=u,u=null):p=u.sibling;var h=A(t,u,i[l],o);if(null===h){null===u&&(u=p);break}n&&u&&null===h.alternate&&b(t,u),e=f(h,e,l),null===s?a=h:s.sibling=h,s=h,u=p}if(l===i.length)return c(t,u),a;if(null===u){for(;l<i.length;l++)(u=r(t,i[l],o))&&(e=f(u,e,l),null===s?a=u:s.sibling=u,s=u);return a}for(u=d(t,u);l<i.length;l++)(p=S(u,t,l,i[l],o))&&(n&&null!==p.alternate&&u.delete(null===p.key?l:p.key),e=f(p,e,l),null===s?a=p:s.sibling=p,s=p);return n&&u.forEach((function(e){return b(t,e)})),a}function P(e,i,o,a){var s=kc(o);"function"!==typeof s&&t("150"),null==(o=s.call(o))&&t("151");for(var u=s=null,l=i,p=i=0,h=null,g=o.next();null!==l&&!g.done;p++,g=o.next()){l.index>p?(h=l,l=null):h=l.sibling;var y=A(e,l,g.value,a);if(null===y){l||(l=h);break}n&&l&&null===y.alternate&&b(e,l),i=f(y,i,p),null===u?s=y:u.sibling=y,u=y,l=h}if(g.done)return c(e,l),s;if(null===l){for(;!g.done;p++,g=o.next())null!==(g=r(e,g.value,a))&&(i=f(g,i,p),null===u?s=g:u.sibling=g,u=g);return s}for(l=d(e,l);!g.done;p++,g=o.next())null!==(g=S(l,e,p,g.value,a))&&(n&&null!==g.alternate&&l.delete(null===g.key?p:g.key),i=f(g,i,p),null===u?s=g:u.sibling=g,u=g);return n&&l.forEach((function(t){return b(e,t)})),s}return function(n,r,i,o){var a="object"===typeof i&&null!==i&&i.type===Ct&&null===i.key;a&&(i=i.props.children);var s="object"===typeof i&&null!==i;if(s)switch(i.$$typeof){case Pt:t:{for(s=i.key,a=r;null!==a;){if(a.key===s){if(9===a.tag?i.type===Ct:a.type===i.type){c(n,a.sibling),(r=e(a,i.type===Ct?i.props.children:i.props,o)).ref=Of(n,a,i),r.return=n,n=r;break t}c(n,a);break}b(n,a),a=a.sibling}i.type===Ct?((r=We(i.props.children,n.mode,o,i.key)).return=n,n=r):((o=Ve(i,n.mode,o)).ref=Of(n,r,i),o.return=n,n=o)}return g(n);case kt:t:{for(a=i.key;null!==r;){if(r.key===a){if(6===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){c(n,r.sibling),(r=e(r,i.children||[],o)).return=n,n=r;break t}c(n,r);break}b(n,r),r=r.sibling}(r=Ye(i,n.mode,o)).return=n,n=r}return g(n)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&8===r.tag?(c(n,r.sibling),(r=e(r,i,o)).return=n,n=r):(c(n,r),(r=Xe(i,n.mode,o)).return=n,n=r),g(n);if(Wn(i))return B(n,r,i,o);if(kc(i))return P(n,r,i,o);if(s&&Pf(n,i),"undefined"===typeof i&&!a)switch(n.tag){case 2:case 3:case 0:t("152",(o=n.type).displayName||o.name||"Component")}return c(n,r)}}var qn=Qf(!0),Hn=Qf(!1),Kn=null,Yn=null,Xn=!1;function Wf(t,e){var n=new Se(7,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xf(t,e){switch(t.tag){case 7:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 8:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Yf(t){if(Xn){var e=Yn;if(e){var n=e;if(!Xf(t,e)){if(!(e=Be(n))||!Xf(t,e))return t.effectTag|=2,Xn=!1,void(Kn=t);Wf(Kn,n)}Kn=t,Yn=Ce(e)}else t.effectTag|=2,Xn=!1,Kn=t}}function Zf(t){for(t=t.return;null!==t&&7!==t.tag&&5!==t.tag;)t=t.return;Kn=t}function $f(t){if(t!==Kn)return!1;if(!Xn)return Zf(t),Xn=!0,!1;var e=t.type;if(7!==t.tag||"head"!==e&&"body"!==e&&!Ae(e,t.memoizedProps))for(e=Yn;e;)Wf(t,e),e=Be(e);return Zf(t),Yn=Kn?Be(t.stateNode):null,!0}function ag(){Yn=Kn=null,Xn=!1}var Zn=xt.ReactCurrentOwner;function M(t,e,n,r){e.child=null===t?Hn(e,null,n,r):qn(e,t.child,n,r)}function dg(t,e,n,r,i){n=n.render;var o=e.ref;return Dn.current||e.memoizedProps!==r||o!==(null!==t?t.ref:null)?(M(t,e,n=n(r,o),i),e.memoizedProps=r,e.child):eg(t,e,i)}function fg(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function gg(t,e,n,r,i){var o=K(n)?An:Cn.current;return o=He(e,o),uf(e),n=n(r,o),e.effectTag|=1,M(t,e,n,i),e.memoizedProps=r,e.child}function hg(t,e,n,r,i){if(K(n)){var o=!0;Me(e)}else o=!1;if(uf(e),null===t)if(null===e.stateNode){var a=K(n)?An:Cn.current,s=n.contextTypes,u=null!==s&&void 0!==s,l=new n(r,s=u?He(e,a):kn);e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Gn,e.stateNode=l,l._reactInternalFiber=e,u&&((u=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,u.__reactInternalMemoizedMaskedChildContext=s),Mf(e,n,r,i),r=!0}else{a=e.stateNode,s=e.memoizedProps,a.props=s;var c=a.context;u=He(e,u=K(n)?An:Cn.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Lf(e,a,r,u),Ln=!1;var p=e.memoizedState;c=a.state=p;var d=e.updateQueue;null!==d&&(kf(e,d,r,a,i),c=e.memoizedState),s!==r||p!==c||Dn.current||Ln?("function"===typeof f&&(Ff(e,n,f,r),c=e.memoizedState),(s=Ln||Kf(e,n,s,r,p,c,u))?(l||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,c=a.context,u=He(e,u=K(n)?An:Cn.current),(l="function"===typeof(f=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Lf(e,a,r,u),Ln=!1,c=e.memoizedState,p=a.state=c,null!==(d=e.updateQueue)&&(kf(e,d,r,a,i),p=e.memoizedState),s!==r||c!==p||Dn.current||Ln?("function"===typeof f&&(Ff(e,n,f,r),p=e.memoizedState),(f=Ln||Kf(e,n,s,r,c,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=f):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),r=!1);return ig(t,e,n,r,o,i)}function ig(t,e,n,r,i,o){fg(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Ne(e,n,!1),eg(t,e,o);r=e.stateNode,Zn.current=e;var s=a?null:r.render();return e.effectTag|=1,null!==t&&a&&(M(t,e,null,o),e.child=null),M(t,e,s,o),e.memoizedState=r.state,e.memoizedProps=r.props,i&&Ne(e,n,!0),e.child}function jg(t){var e=t.stateNode;e.pendingContext?Ke(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ke(0,e.context,!1),Af(t,e.containerInfo)}function ng(t,e){if(t&&t.defaultProps)for(var n in e=s({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}function eg(e,n,r){null!==e&&(n.firstContextDependency=e.firstContextDependency);var i=n.childExpirationTime;if(0===i||i>r)return null;if(null!==e&&n.child!==e.child&&t("153"),null!==n.child){for(r=Ue(e=n.child,e.pendingProps,e.expirationTime),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ue(e,e.pendingProps,e.expirationTime)).return=n;r.sibling=null}return n.child}function pg(e,n,r){var i=n.expirationTime;if(!Dn.current&&(0===i||i>r)){switch(n.tag){case 5:jg(n),ag();break;case 7:Cf(n);break;case 2:K(n.type)&&Me(n);break;case 3:K(n.type._reactResult)&&Me(n);break;case 6:Af(n,n.stateNode.containerInfo);break;case 12:sf(n,n.memoizedProps.value)}return eg(e,n,r)}switch(n.expirationTime=0,n.tag){case 4:return function og(e,n,r,i){null!==e&&t("155");var o=n.pendingProps;if("object"===typeof r&&null!==r&&"function"===typeof r.then){var a=r=function bg(t){switch(t._reactStatus){case 1:return t._reactResult;case 2:throw t._reactResult;case 0:throw t;default:throw t._reactStatus=0,t.then((function(e){if(0===t._reactStatus){if(t._reactStatus=1,"object"===typeof e&&null!==e){var n=e.default;e=void 0!==n&&null!==n?n:e}t._reactResult=e}}),(function(e){0===t._reactStatus&&(t._reactStatus=2,t._reactResult=e)})),t}}(r);a="function"===typeof a?Te(a)?3:1:void 0!==a&&null!==a&&a.$$typeof?14:4,a=n.tag=a;var s=ng(r,o);switch(a){case 1:return gg(e,n,r,s,i);case 3:return hg(e,n,r,s,i);case 14:return dg(e,n,r,s,i);default:t("283",r)}}if(a=He(n,Cn.current),uf(n),a=r(o,a),n.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){n.tag=2,K(r)?(s=!0,Me(n)):s=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var u=r.getDerivedStateFromProps;return"function"===typeof u&&Ff(n,r,u,o),a.updater=Gn,n.stateNode=a,a._reactInternalFiber=n,Mf(n,r,o,i),ig(e,n,r,!0,s,i)}return n.tag=0,M(e,n,a,i),n.memoizedProps=o,n.child}(e,n,n.type,r);case 0:return gg(e,n,n.type,n.pendingProps,r);case 1:var o=n.type._reactResult;return e=gg(e,n,o,ng(o,i=n.pendingProps),r),n.memoizedProps=i,e;case 2:return hg(e,n,n.type,n.pendingProps,r);case 3:return e=hg(e,n,o=n.type._reactResult,ng(o,i=n.pendingProps),r),n.memoizedProps=i,e;case 5:return jg(n),null===(i=n.updateQueue)&&t("282"),o=null!==(o=n.memoizedState)?o.element:null,kf(n,i,n.pendingProps,null,r),(i=n.memoizedState.element)===o?(ag(),n=eg(e,n,r)):(o=n.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(Yn=Ce(n.stateNode.containerInfo),Kn=n,o=Xn=!0),o?(n.effectTag|=2,n.child=Hn(n,null,i,r)):(M(e,n,i,r),ag()),n=n.child),n;case 7:Cf(n),null===e&&Yf(n),i=n.type,o=n.pendingProps;var a=null!==e?e.memoizedProps:null,s=o.children;return Ae(i,o)?s=null:null!==a&&Ae(i,a)&&(n.effectTag|=16),fg(e,n),1073741823!==r&&1&n.mode&&o.hidden?(n.expirationTime=1073741823,n.memoizedProps=o,n=null):(M(e,n,s,r),n.memoizedProps=o,n=n.child),n;case 8:return null===e&&Yf(n),n.memoizedProps=n.pendingProps,null;case 16:return null;case 6:return Af(n,n.stateNode.containerInfo),i=n.pendingProps,null===e?n.child=qn(n,null,i,r):M(e,n,i,r),n.memoizedProps=i,n.child;case 13:return dg(e,n,n.type,n.pendingProps,r);case 14:return e=dg(e,n,o=n.type._reactResult,ng(o,i=n.pendingProps),r),n.memoizedProps=i,e;case 9:return M(e,n,i=n.pendingProps,r),n.memoizedProps=i,n.child;case 10:return M(e,n,i=n.pendingProps.children,r),n.memoizedProps=i,n.child;case 15:return M(e,n,(i=n.pendingProps).children,r),n.memoizedProps=i,n.child;case 12:t:{if(i=n.type._context,o=n.pendingProps,s=n.memoizedProps,a=o.value,n.memoizedProps=o,sf(n,a),null!==s){var u=s.value;if(0===(a=u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Dn.current){n=eg(e,n,r);break t}}else for(null!==(s=n.child)&&(s.return=n);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===i&&0!==(u.observedBits&a)){if(2===s.tag||3===s.tag){var l=df(r);l.tag=2,ff(s,l)}(0===s.expirationTime||s.expirationTime>r)&&(s.expirationTime=r),null!==(l=s.alternate)&&(0===l.expirationTime||l.expirationTime>r)&&(l.expirationTime=r);for(var c=s.return;null!==c;){if(l=c.alternate,0===c.childExpirationTime||c.childExpirationTime>r)c.childExpirationTime=r,null!==l&&(0===l.childExpirationTime||l.childExpirationTime>r)&&(l.childExpirationTime=r);else{if(null===l||!(0===l.childExpirationTime||l.childExpirationTime>r))break;l.childExpirationTime=r}c=c.return}}l=s.child,u=u.next}while(null!==u);else l=12===s.tag&&s.type===n.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===n){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}M(e,n,o.children,r),n=n.child}return n;case 11:return a=n.type,o=(i=n.pendingProps).children,uf(n),o=o(a=vf(a,i.unstable_observedBits)),n.effectTag|=1,M(e,n,o,r),n.memoizedProps=i,n.child;default:t("156")}}function qg(t){t.effectTag|=4}var $n=void 0,Jn=void 0,Qn=void 0;function ug(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=mc(n)),null!==n&&lc(n.type),e=e.value,null!==t&&2===t.tag&&lc(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function vg(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){wg(t,n)}else e.current=null}function xg(t){switch("function"===typeof Mn&&Mn(t),t.tag){case 2:case 3:vg(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){wg(t,n)}break;case 7:vg(t);break;case 6:yg(t)}}function zg(t){return 7===t.tag||5===t.tag||6===t.tag}function Ag(e){t:{for(var n=e.return;null!==n;){if(zg(n)){var r=n;break t}n=n.return}t("160"),r=void 0}var i=n=void 0;switch(r.tag){case 7:n=r.stateNode,i=!1;break;case 5:case 6:n=r.stateNode.containerInfo,i=!0;break;default:t("161")}16&r.effectTag&&(oe(n,""),r.effectTag&=-17);t:e:for(r=e;;){for(;null===r.sibling;){if(null===r.return||zg(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;7!==r.tag&&8!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||6===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}for(var o=e;;){if(7===o.tag||8===o.tag)if(r)if(i){var a=n,s=o.stateNode,u=r;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else n.insertBefore(o.stateNode,r);else i?(a=n,s=o.stateNode,8===a.nodeType?(u=a.parentNode).insertBefore(s,a):(u=a).appendChild(s),null===u.onclick&&(u.onclick=we)):n.appendChild(o.stateNode);else if(6!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function yg(e){for(var n=e,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;t:for(;;){switch(null===r&&t("160"),r.tag){case 7:i=r.stateNode,o=!1;break t;case 5:case 6:i=r.stateNode.containerInfo,o=!0;break t}r=r.return}r=!0}if(7===n.tag||8===n.tag){t:for(var a=n,s=a;;)if(xg(s),null!==s.child&&6!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=i,s=n.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(n.stateNode)}else if(6===n.tag?(i=n.stateNode.containerInfo,o=!0):xg(n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;6===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Bg(e,n){switch(n.tag){case 2:case 3:break;case 7:var r=n.stateNode;if(null!=r){var i=n.memoizedProps,o=null!==e?e.memoizedProps:i;e=n.type;var a=n.updateQueue;if(n.updateQueue=null,null!==a){for(r[q]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Cc(r,i),ue(e,o),n=ue(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?re(r,u):"dangerouslySetInnerHTML"===s?_n(r,u):"children"===s?oe(r,u):xc(r,s,u,n)}switch(e){case"input":Dc(r,i);break;case"textarea":he(r,i);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(a=i.value)?ee(r,!!i.multiple,a,!1):e!==!!i.multiple&&(null!=i.defaultValue?ee(r,!!i.multiple,i.defaultValue,!0):ee(r,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 8:null===n.stateNode&&t("162"),n.stateNode.nodeValue=n.memoizedProps;break;case 5:case 15:case 16:break;default:t("163")}}function Cg(t,e,n){(n=df(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dg(r),ug(t,e)},n}function Eg(t,e,n){(n=df(n)).tag=3;var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){null===fr?fr=new Set([this]):fr.add(this);var n=e.value,r=e.stack;ug(t,e),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Gg(e){switch(e.tag){case 2:K(e.type)&&Ie();var n=e.effectTag;return 1024&n?(e.effectTag=-1025&n|64,e):null;case 3:return K(e.type._reactResult)&&Ie(),1024&(n=e.effectTag)?(e.effectTag=-1025&n|64,e):null;case 5:return Bf(),Je(),0!==(64&(n=e.effectTag))&&t("285"),e.effectTag=-1025&n|64,e;case 7:return Df(e),null;case 16:return 1024&(n=e.effectTag)?(e.effectTag=-1025&n|64,e):null;case 6:return Bf(),null;case 12:return tf(e),null;default:return null}}$n=function rg(){},Jn=function sg(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a=e.stateNode;switch(zf(Un.current),t=null,n){case"input":o=zc(a,o),r=zc(a,r),t=[];break;case"option":o=de(a,o),r=de(a,r),t=[];break;case"select":o=s({},o,{value:void 0}),r=s({},r,{value:void 0}),t=[];break;case"textarea":o=fe(a,o),r=fe(a,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=we)}te(n,r),a=n=void 0;var u=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var l=o[n];for(a in l)l.hasOwnProperty(a)&&(u||(u={}),u[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(R.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(u||(u={}),u[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(u||(u={}),u[a]=c[a])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(R.hasOwnProperty(n)?(null!=c&&ve(i,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),i=t,(e.updateQueue=i)&&qg(e)}},Qn=function tg(t,e,n,r){n!==r&&qg(e)};var tr={readContext:vf},er=xt.ReactCurrentOwner,nr=0,rr=0,ir=!1,or=null,ar=null,sr=0,ur=!1,lr=null,cr=!1,fr=null;function Pg(){if(null!==or)for(var t=or.return;null!==t;){var e=t;switch(e.tag){case 2:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Ie();break;case 3:null!==(n=e.type._reactResult.childContextTypes)&&void 0!==n&&Ie();break;case 5:Bf(),Je();break;case 7:Df(e);break;case 6:Bf();break;case 12:tf(e)}t=t.return}ar=null,sr=0,ur=!1,or=null}function Qg(e){for(;;){var n=e.alternate,r=e.return,i=e.sibling;if(0===(512&e.effectTag)){var o=n,a=(n=e).pendingProps;switch(n.tag){case 0:case 1:break;case 2:K(n.type)&&Ie();break;case 3:K(n.type._reactResult)&&Ie();break;case 5:Bf(),Je(),(a=n.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||($f(n),n.effectTag&=-3),$n(n);break;case 7:Df(n);var u=zf(jn.current),l=n.type;if(null!==o&&null!=n.stateNode)Jn(o,n,l,a,u),o.ref!==n.ref&&(n.effectTag|=128);else if(a){var c=zf(Un.current);if($f(n)){o=(a=n).stateNode;var f=a.type,p=a.memoizedProps,d=u;switch(o[W]=a,o[q]=p,l=void 0,u=f){case"iframe":case"object":F("load",o);break;case"video":case"audio":for(f=0;f<nt.length;f++)F(nt[f],o);break;case"source":F("error",o);break;case"img":case"image":case"link":F("error",o),F("load",o);break;case"form":F("reset",o),F("submit",o);break;case"details":F("toggle",o);break;case"input":Bc(o,p),F("invalid",o),ve(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!p.multiple},F("invalid",o),ve(d,"onChange");break;case"textarea":ge(o,p),F("invalid",o),ve(d,"onChange")}for(l in te(u,p),f=null,p)p.hasOwnProperty(l)&&(c=p[l],"children"===l?"string"===typeof c?o.textContent!==c&&(f=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(f=["children",""+c]):R.hasOwnProperty(l)&&null!=c&&ve(d,l));switch(u){case"input":Wb(o),Fc(o,p,!0);break;case"textarea":Wb(o),ie(o);break;case"select":case"option":break;default:"function"===typeof p.onClick&&(o.onclick=we)}l=f,a.updateQueue=l,(a=null!==l)&&qg(n)}else{p=n,o=l,d=a,f=9===u.nodeType?u:u.ownerDocument,c===mn.html&&(c=ke(o)),c===mn.html?"script"===o?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof d.is?f=f.createElement(o,{is:d.is}):(f=f.createElement(o),"select"===o&&d.multiple&&(f.multiple=!0)):f=f.createElementNS(c,o),(o=f)[W]=p,o[q]=a;t:for(p=o,d=n,f=d.child;null!==f;){if(7===f.tag||8===f.tag)p.appendChild(f.stateNode);else if(6!==f.tag&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===d)break;for(;null===f.sibling;){if(null===f.return||f.return===d)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}d=o;var h=u,g=ue(f=l,p=a);switch(f){case"iframe":case"object":F("load",d),u=p;break;case"video":case"audio":for(u=0;u<nt.length;u++)F(nt[u],d);u=p;break;case"source":F("error",d),u=p;break;case"img":case"image":case"link":F("error",d),F("load",d),u=p;break;case"form":F("reset",d),F("submit",d),u=p;break;case"details":F("toggle",d),u=p;break;case"input":Bc(d,p),u=zc(d,p),F("invalid",d),ve(h,"onChange");break;case"option":u=de(d,p);break;case"select":d._wrapperState={wasMultiple:!!p.multiple},u=s({},p,{value:void 0}),F("invalid",d),ve(h,"onChange");break;case"textarea":ge(d,p),u=fe(d,p),F("invalid",d),ve(h,"onChange");break;default:u=p}te(f,u),c=void 0;var y=f,m=d,v=u;for(c in v)if(v.hasOwnProperty(c)){var _=v[c];"style"===c?re(m,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&_n(m,_):"children"===c?"string"===typeof _?("textarea"!==y||""!==_)&&oe(m,_):"number"===typeof _&&oe(m,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(R.hasOwnProperty(c)?null!=_&&ve(h,c):null!=_&&xc(m,c,_,g))}switch(f){case"input":Wb(d),Fc(d,p,!1);break;case"textarea":Wb(d),ie(d);break;case"option":null!=p.value&&d.setAttribute("value",""+yc(p.value));break;case"select":(u=d).multiple=!!p.multiple,null!=(d=p.value)?ee(u,!!p.multiple,d,!1):null!=p.defaultValue&&ee(u,!!p.multiple,p.defaultValue,!0);break;default:"function"===typeof u.onClick&&(d.onclick=we)}(a=ze(l,a))&&qg(n),n.stateNode=o}null!==n.ref&&(n.effectTag|=128)}else null===n.stateNode&&t("166");break;case 8:o&&null!=n.stateNode?Qn(o,n,o.memoizedProps,a):("string"!==typeof a&&(null===n.stateNode&&t("166")),o=zf(jn.current),zf(Un.current),$f(n)?(l=(a=n).stateNode,o=a.memoizedProps,l[W]=a,(a=l.nodeValue!==o)&&qg(n)):(l=n,(a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a))[W]=l,n.stateNode=a));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:Bf(),$n(n);break;case 12:tf(n);break;case 11:break;case 4:t("167");default:t("156")}if(n=or=null,a=e,1073741823===sr||1073741823!==a.childExpirationTime){for(l=0,o=a.child;null!==o;)u=o.expirationTime,p=o.childExpirationTime,(0===l||0!==u&&u<l)&&(l=u),(0===l||0!==p&&p<l)&&(l=p),o=o.sibling;a.childExpirationTime=l}if(null!==n)return n;null!==r&&0===(512&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(null!==(e=Gg(e)))return e.effectTag&=511,e;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512)}if(null!==i)return i;if(null===r)break;e=r}return null}function Rg(t){var e=pg(t.alternate,t,sr);return null===e&&(e=Qg(t)),er.current=null,e}function Sg(e,n,r){ir&&t("243"),ir=!0,er.currentDispatcher=tr;var i=e.nextExpirationTimeToWorkOn;i===sr&&e===ar&&null!==or||(Pg(),sr=i,or=Ue((ar=e).current,null,sr),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(n)for(;null!==or&&!Tg();)or=Rg(or);else for(;null!==or;)or=Rg(or)}catch(p){if(null===or)o=!0,Dg(p);else{null===or&&t("271");var a=or,s=a.return;if(null!==s){t:{var u=s,l=a,c=p;s=sr,l.effectTag|=512,l.firstEffect=l.lastEffect=null,ur=!0,c=nf(c,l);do{switch(u.tag){case 5:u.effectTag|=1024,u.expirationTime=s,gf(u,s=Cg(u,c,s));break t;case 2:case 3:l=c;var f=u.stateNode;if(0===(64&u.effectTag)&&null!==f&&"function"===typeof f.componentDidCatch&&(null===fr||!fr.has(f))){u.effectTag|=1024,u.expirationTime=s,gf(u,s=Eg(u,l,s));break t}}u=u.return}while(null!==u)}or=Qg(a);continue}o=!0,Dg(p)}}break}if(ir=!1,Nn=Fn=On=er.currentDispatcher=null,o)ar=null,e.finishedWork=null;else if(null!==or)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&t("281"),ar=null,ur){if(o=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o>i||0!==a&&a>i||0!==s&&s>i)return e.didError=!1,0!==(r=e.latestPingedTime)&&r<=i&&(e.latestPingedTime=0),r=e.earliestPendingTime,n=e.latestPendingTime,r===i?e.earliestPendingTime=n===i?e.latestPendingTime=0:n:n===i&&(e.latestPendingTime=r),r=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===r?e.earliestSuspendedTime=e.latestSuspendedTime=i:r>i?e.earliestSuspendedTime=i:n<i&&(e.latestSuspendedTime=i),$e(i,e),void(e.expirationTime=e.expirationTime);if(!e.didError&&!r)return e.didError=!0,e.nextExpirationTimeToWorkOn=i,i=e.expirationTime=1,void(e.expirationTime=i)}e.pendingCommitExpirationTime=i,e.finishedWork=n}}function wg(e,n){var r;t:{for(ir&&!cr&&t("263"),r=e.return;null!==r;){switch(r.tag){case 2:case 3:var i=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===fr||!fr.has(i))){ff(r,e=Eg(r,e=nf(n,e),1)),If(r,1),r=void 0;break t}break;case 5:ff(r,e=Cg(r,e=nf(n,e),1)),If(r,1),r=void 0;break t}r=r.return}5===e.tag&&(ff(e,r=Cg(e,r=nf(n,e),1)),If(e,1)),r=void 0}return r}function Hf(t,e){return 0!==rr?t=rr:ir?t=cr?1:sr:1&e.mode?(t=Pr?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==ar&&t===sr&&(t+=1)):t=1,Pr&&(0===_r||t>_r)&&(_r=t),t}function If(e,n){t:{(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n);var r=e.alternate;null!==r&&(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n);var i=e.return;if(null===i&&5===e.tag)e=e.stateNode;else{for(;null!==i;){if(r=i.alternate,(0===i.childExpirationTime||i.childExpirationTime>n)&&(i.childExpirationTime=n),null!==r&&(0===r.childExpirationTime||r.childExpirationTime>n)&&(r.childExpirationTime=n),null===i.return&&5===i.tag){e=i.stateNode;break t}i=i.return}e=null}}null!==e&&(!ir&&0!==sr&&n<sr&&Pg(),Ze(e,n),ir&&!cr&&ar===e||(n=e,e=e.expirationTime,null===n.nextScheduledRoot?(n.expirationTime=e,null===dr?(pr=dr=n,n.nextScheduledRoot=n):(dr=dr.nextScheduledRoot=n).nextScheduledRoot=pr):(0===(r=n.expirationTime)||e<r)&&(n.expirationTime=e),yr||(wr?Tr&&(mr=n,vr=1,Xg(n,1,!0)):1===e?Yg(1,null):Zg(n,e))),Mr>Rr&&(Mr=0,t("185")))}function bh(t,e,n,r,i){var o=rr;rr=1;try{return t(e,n,r,i)}finally{rr=o}}var pr=null,dr=null,hr=0,gr=void 0,yr=!1,mr=null,vr=0,_r=0,br=!1,Sr=!1,Er=null,xr=null,wr=!1,Tr=!1,Pr=!1,kr=null,Cr=u.unstable_now(),Dr=2+(Cr/10|0),Ar=Dr,Rr=50,Mr=0,Lr=null,Ir=1;function oh(){Dr=2+((u.unstable_now()-Cr)/10|0)}function Zg(t,e){if(0!==hr){if(e>hr)return;null!==gr&&u.unstable_cancelScheduledWork(gr)}hr=e,t=u.unstable_now()-Cr,gr=u.unstable_scheduleWork(ph,{timeout:10*(e-2)-t})}function Gf(){return yr?Ar:(qh(),0!==vr&&1073741823!==vr||(oh(),Ar=Dr),Ar)}function qh(){var e=0,n=null;if(null!==dr)for(var r=dr,i=pr;null!==i;){var o=i.expirationTime;if(0===o){if((null===r||null===dr)&&t("244"),i===i.nextScheduledRoot){pr=dr=i.nextScheduledRoot=null;break}if(i===pr)pr=o=i.nextScheduledRoot,dr.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===dr){(dr=r).nextScheduledRoot=pr,i.nextScheduledRoot=null;break}r.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=r.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,n=i),i===dr)break;if(1===e)break;r=i,i=i.nextScheduledRoot}}mr=n,vr=e}function ph(t){if(t.didTimeout&&null!==pr){oh();var e=pr;do{var n=e.expirationTime;0!==n&&Dr>=n&&(e.nextExpirationTimeToWorkOn=Dr),e=e.nextScheduledRoot}while(e!==pr)}Yg(0,t)}function Yg(t,e){if(xr=e,qh(),null!==xr)for(oh(),Ar=Dr;null!==mr&&0!==vr&&(0===t||t>=vr)&&(!br||Dr>=vr);)Xg(mr,vr,Dr>=vr),qh(),oh(),Ar=Dr;else for(;null!==mr&&0!==vr&&(0===t||t>=vr);)Xg(mr,vr,!0),qh();if(null!==xr&&(hr=0,gr=null),0!==vr&&Zg(mr,vr),xr=null,br=!1,Mr=0,Lr=null,null!==kr)for(t=kr,kr=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){Sr||(Sr=!0,Er=r)}}if(Sr)throw t=Er,Er=null,Sr=!1,t}function Xg(e,n,r){if(yr&&t("245"),yr=!0,null===xr||r){var i=e.finishedWork;null!==i?rh(e,i,n):(e.finishedWork=null,Sg(e,!1,r),null!==(i=e.finishedWork)&&rh(e,i,n))}else null!==(i=e.finishedWork)?rh(e,i,n):(e.finishedWork=null,Sg(e,!0,r),null!==(i=e.finishedWork)&&(Tg()?e.finishedWork=i:rh(e,i,n)));yr=!1}function rh(e,n,r){var i=e.firstBatch;if(null!==i&&i._expirationTime<=r&&(null===kr?kr=[i]:kr.push(i),i._defer))return e.finishedWork=n,void(e.expirationTime=0);e.finishedWork=null,e===Lr?Mr++:(Lr=e,Mr=0),cr=ir=!0,e.current===n&&t("177"),0===(r=e.pendingCommitExpirationTime)&&t("261"),e.pendingCommitExpirationTime=0,i=n.expirationTime;var o=n.childExpirationTime;if(i=0===i||0!==o&&o<i?o:i,e.didError=!1,0===i?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(o=e.latestPendingTime)&&(o<i?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<i&&(e.earliestPendingTime=e.latestPendingTime)),0===(o=e.earliestSuspendedTime)?Ze(e,i):i>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Ze(e,i)):i<o&&Ze(e,i)),$e(0,e),er.current=null,1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,xn=an,Ud(o=Td())){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else t:{var s=(a=(a=o.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch(B){a=null;break t}var c=0,f=-1,p=-1,d=0,h=0,g=o,y=null;e:for(;;){for(var m;g!==a||0!==u&&3!==g.nodeType||(f=c+u),g!==l||0!==s&&3!==g.nodeType||(p=c+s),3===g.nodeType&&(c+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===o)break e;if(y===a&&++d===u&&(f=c),y===l&&++h===s&&(p=c),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}a=-1===f||-1===p?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(wn={focusedElem:o,selectionRange:a},an=!1,lr=i;null!==lr;){o=!1,a=void 0;try{for(;null!==lr;){if(256&lr.effectTag){var v=lr.alternate;t:switch(u=lr,u.tag){case 2:case 3:if(256&u.effectTag&&null!==v){var _=v.memoizedProps,b=v.memoizedState,S=u.stateNode;S.props=u.memoizedProps,S.state=u.memoizedState;var E=S.getSnapshotBeforeUpdate(_,b);S.__reactInternalSnapshotBeforeUpdate=E}break t;case 5:case 7:case 8:case 6:break t;default:t("163")}}lr=lr.nextEffect}}catch(B){o=!0,a=B}o&&(null===lr&&t("178"),wg(lr,a),null!==lr&&(lr=lr.nextEffect))}for(lr=i;null!==lr;){v=!1,_=void 0;try{for(;null!==lr;){var x=lr.effectTag;if(16&x&&oe(lr.stateNode,""),128&x){var w=lr.alternate;if(null!==w){var T=w.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(14&x){case 2:Ag(lr),lr.effectTag&=-3;break;case 6:Ag(lr),lr.effectTag&=-3,Bg(lr.alternate,lr);break;case 4:Bg(lr.alternate,lr);break;case 8:yg(b=lr),b.return=null,b.child=null,b.alternate&&(b.alternate.child=null,b.alternate.return=null)}lr=lr.nextEffect}}catch(B){v=!0,_=B}v&&(null===lr&&t("178"),wg(lr,_),null!==lr&&(lr=lr.nextEffect))}if(T=wn,w=Td(),x=T.focusedElem,_=T.selectionRange,w!==x&&x&&x.ownerDocument&&function Sd(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Sd(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}(x.ownerDocument.documentElement,x)){null!==_&&Ud(x)&&(w=_.start,void 0===(T=_.end)&&(T=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(T,x.value.length)):(w=((v=x.ownerDocument||document)&&v.defaultView||window).getSelection(),b=x.textContent.length,T=Math.min(_.start,b),_=void 0===_.end?T:Math.min(_.end,b),!w.extend&&T>_&&(b=_,_=T,T=b),b=Rd(x,T),S=Rd(x,_),b&&S&&(1!==w.rangeCount||w.anchorNode!==b.node||w.anchorOffset!==b.offset||w.focusNode!==S.node||w.focusOffset!==S.offset)&&((v=v.createRange()).setStart(b.node,b.offset),w.removeAllRanges(),T>_?(w.addRange(v),w.extend(S.node,S.offset)):(v.setEnd(S.node,S.offset),w.addRange(v))))),w=[];for(T=x;T=T.parentNode;)1===T.nodeType&&w.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<w.length;x++)(T=w[x]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(wn=null,an=!!xn,xn=null,e.current=n,lr=i;null!==lr;){i=!1,x=void 0;try{for(w=r;null!==lr;){var P=lr.effectTag;if(36&P){var k=lr.alternate;switch(v=w,(T=lr).tag){case 2:case 3:var C=T.stateNode;if(4&T.effectTag)if(null===k)C.props=T.memoizedProps,C.state=T.memoizedState,C.componentDidMount();else{var D=k.memoizedProps,A=k.memoizedState;C.props=T.memoizedProps,C.state=T.memoizedState,C.componentDidUpdate(D,A,C.__reactInternalSnapshotBeforeUpdate)}var R=T.updateQueue;null!==R&&(C.props=T.memoizedProps,C.state=T.memoizedState,lf(0,R,C));break;case 5:var M=T.updateQueue;if(null!==M){if(_=null,null!==T.child)switch(T.child.tag){case 7:_=T.child.stateNode;break;case 2:case 3:_=T.child.stateNode}lf(0,M,_)}break;case 7:var L=T.stateNode;null===k&&4&T.effectTag&&ze(T.type,T.memoizedProps)&&L.focus();break;case 8:case 6:case 15:case 16:break;default:t("163")}}if(128&P){var I=lr.ref;if(null!==I){var O=lr.stateNode;switch(lr.tag){case 7:var F=O;break;default:F=O}"function"===typeof I?I(F):I.current=F}}var N=lr.nextEffect;lr.nextEffect=null,lr=N}}catch(B){i=!0,x=B}i&&(null===lr&&t("178"),wg(lr,x),null!==lr&&(lr=lr.nextEffect))}ir=cr=!1,"function"===typeof Rn&&Rn(n.stateNode),P=n.expirationTime,n=n.childExpirationTime,0===(n=0===P||0!==n&&n<P?n:P)&&(fr=null),e.expirationTime=n,e.finishedWork=null}function Tg(){return!!br||!(null===xr||xr.timeRemaining()>Ir)&&(br=!0)}function Dg(e){null===mr&&t("246"),mr.expirationTime=0,Sr||(Sr=!0,Er=e)}function sh(t,e){var n=wr;wr=!0;try{return t(e)}finally{(wr=n)||yr||Yg(1,null)}}function th(t,e){if(wr&&!Tr){Tr=!0;try{return t(e)}finally{Tr=!1}}return t(e)}function uh(t,e,n){if(Pr)return t(e,n);wr||yr||0===_r||(Yg(_r,null),_r=0);var r=Pr,i=wr;wr=Pr=!0;try{return t(e,n)}finally{Pr=r,(wr=i)||yr||Yg(1,null)}}function wh(e,n,r,i,o){var a=n.current;return r=function vh(e){if(!e)return kn;t:{(2!==jd(e=e._reactInternalFiber)||2!==e.tag&&3!==e.tag)&&t("170");var n=e;do{switch(n.tag){case 5:n=n.stateNode.context;break t;case 2:if(K(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break t}break;case 3:if(K(n.type._reactResult)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break t}}n=n.return}while(null!==n);t("171"),n=void 0}if(2===e.tag){var r=e.type;if(K(r))return Le(e,r,n)}else if(3===e.tag&&K(r=e.type._reactResult))return Le(e,r,n);return n}(r),null===n.context?n.context=r:n.pendingContext=r,n=o,(o=df(i)).payload={element:e},null!==(n=void 0===n?null:n)&&(o.callback=n),ff(a,o),If(a,i),i}function xh(t,e,n,r){var i=e.current;return wh(t,e,n,i=Hf(Gf(),i),r)}function zh(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 7:default:return t.child.stateNode}}function Bh(t){var e=2+25*(1+((Gf()-2+500)/25|0));e<=nr&&(e=nr+1),this._expirationTime=nr=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ch(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Dh(t,e,n){t={current:e=new Se(5,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Eh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Gh(n,r,i,o,a){Eh(i)||t("200");var s=i._reactRootContainer;if(s){if("function"===typeof a){var u=a;a=function e(){var t=zh(s._internalRoot);u.call(t)}}null!=n?s.legacy_renderSubtreeIntoContainer(n,r,a):s.render(r,a)}else{if(s=i._reactRootContainer=function Fh(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Dh(t,!1,e)}(i,o),"function"===typeof a){var l=a;a=function e(){var t=zh(s._internalRoot);l.call(t)}}th((function(){null!=n?s.legacy_renderSubtreeIntoContainer(n,r,a):s.render(r,a)}))}return zh(s._internalRoot)}function Hh(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Eh(n)||t("200"),function Ah(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:kt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(e,n,null,r)}vt=function Fb(e,n,r){switch(n){case"input":if(Dc(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var o=Na(i);o||t("90"),Xb(i),Dc(i,o)}}}break;case"textarea":he(e,r);break;case"select":null!=(n=r.value)&&ee(e,!!r.multiple,n,!1)}},Bh.prototype.render=function(e){this._defer||t("250"),this._hasChildren=!0,this._children=e;var n=this._root._internalRoot,r=this._expirationTime,i=new Ch;return wh(e,n,null,r,i._onCommit),i},Bh.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Bh.prototype.commit=function(){var e=this._root._internalRoot,n=e.firstBatch;if(this._defer&&null!==n||t("251"),this._hasChildren){var r=this._expirationTime;if(n!==this){this._hasChildren&&(r=this._expirationTime=n._expirationTime,this.render(this._children));for(var i=null,o=n;o!==this;)i=o,o=o._next;null===i&&t("251"),i._next=o._next,this._next=n,e.firstBatch=this}this._defer=!1,n=r,yr&&t("253"),mr=e,vr=n,Xg(e,n,!0),Yg(1,null),n=this._next,this._next=null,null!==(n=e.firstBatch=n)&&n._hasChildren&&n.render(n._children)}else this._next=null,this._defer=!1},Bh.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Ch.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ch.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var n=0;n<e.length;n++){var r=e[n];"function"!==typeof r&&t("191",r),r()}}},Dh.prototype.render=function(t,e){var n=this._internalRoot,r=new Ch;return null!==(e=void 0===e?null:e)&&r.then(e),xh(t,n,null,r._onCommit),r},Dh.prototype.unmount=function(t){var e=this._internalRoot,n=new Ch;return null!==(t=void 0===t?null:t)&&n.then(t),xh(null,e,null,n._onCommit),n},Dh.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new Ch;return null!==(n=void 0===n?null:n)&&i.then(n),xh(e,r,t,i._onCommit),i},Dh.prototype.createBatch=function(){var t=new Bh(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Lb=sh,Mb=uh,Nb=function Nb(){yr||0===_r||(Yg(_r,null),_r=0)};var Or={createPortal:Hh,findDOMNode:function findDOMNode(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternalFiber;return void 0===n&&("function"===typeof e.render?t("188"):t("268",Object.keys(e))),e=null===(e=md(n))?null:e.stateNode},hydrate:function hydrate(t,e,n){return Gh(null,t,e,!0,n)},render:function render(t,e,n){return Gh(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function unstable_renderSubtreeIntoContainer(e,n,r,i){return(null==e||void 0===e._reactInternalFiber)&&t("38"),Gh(e,n,r,!1,i)},unmountComponentAtNode:function unmountComponentAtNode(e){return Eh(e)||t("40"),!!e._reactRootContainer&&(th((function(){Gh(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function unstable_createPortal(){return Hh.apply(void 0,arguments)},unstable_batchedUpdates:sh,unstable_interactiveUpdates:uh,flushSync:function flushSync(e,n){yr&&t("187");var r=wr;wr=!0;try{return bh(e,n)}finally{wr=r,Yg(1,null)}},unstable_flushControlled:function unstable_flushControlled(t){var e=wr;wr=!0;try{bh(t)}finally{(wr=e)||yr||Yg(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[La,Ma,Na,j.injectEventPluginsByName,C,Ua,function(t){za(t,Ta)},Jb,Kb,Id,Ga]},unstable_createRoot:function unstable_createRoot(e,n){return Eh(e)||t("278"),new Dh(e,!0,null!=n&&!0===n.hydrate)}};!function(t){var e=t.findFiberByHostInstance;(function Re(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Rn=Qe((function(t){return e.onCommitFiberRoot(n,t)})),Mn=Qe((function(t){return e.onCommitFiberUnmount(n,t)}))}catch(r){}return!0})(s({},t,{findHostInstanceByFiber:function findHostInstanceByFiber(t){return null===(t=md(t))?null:t.stateNode},findFiberByHostInstance:function findFiberByHostInstance(t){return e?e(t):null}}))}({findFiberByHostInstance:Ka,bundleType:0,version:"16.5.2",rendererPackageName:"react-dom"});var Fr={default:Or},Nr=Fr&&Or||Fr;n.exports=Nr.default||Nr},function(t,e,n){"use strict";t.exports=n(551)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=null,a=!1,s=!1,u="object"===typeof performance&&"function"===typeof performance.now,l={timeRemaining:u?function(){var t=y()-performance.now();return 0<t?t:0}:function(){var t=y()-Date.now();return 0<t?t:0},didTimeout:!1};function m(){if(!a){var t=o.timesOutAt;s?g():s=!0,d(q,t)}}function r(){var t=o,e=o.next;if(o===e)o=null;else{var n=o.previous;o=n.next=e,e.previous=n}t.next=t.previous=null,(t=t.callback)(l)}function q(t){a=!0,l.didTimeout=t;try{if(t)for(;null!==o;){var n=e.unstable_now();if(!(o.timesOutAt<=n))break;do{r()}while(null!==o&&o.timesOutAt<=n)}else if(null!==o)do{r()}while(null!==o&&0<y()-e.unstable_now())}finally{a=!1,null!==o?m():s=!1}}var c,f,d,g,y,v=Date,_="function"===typeof setTimeout?setTimeout:void 0,b="function"===typeof clearTimeout?clearTimeout:void 0,S="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,E="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function A(t){c=S((function(e){b(f),t(e)})),f=_((function(){E(c),t(e.unstable_now())}),100)}if(u){var x=performance;e.unstable_now=function(){return x.now()}}else e.unstable_now=function(){return v.now()};if("undefined"===typeof window){var w=-1;d=function p(t){w=setTimeout(t,0,!0)},g=function n(){clearTimeout(w)},y=function h(){return 0}}else if(window._schedMock){var T=window._schedMock;d=T[0],g=T[1],y=T[2]}else{"undefined"!==typeof console&&("function"!==typeof S&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,k=!1,C=-1,D=!1,R=!1,M=0,L=33,I=33;y=function h(){return M};var O="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",(function(t){if(t.source===window&&t.data===O){k=!1;var n=e.unstable_now();if(t=!1,0>=M-n){if(!(-1!==C&&C<=n))return void(D||(D=!0,A(F)));t=!0}if(C=-1,n=P,P=null,null!==n){R=!0;try{n(t)}finally{R=!1}}}}),!1);var F=function N(t){D=!1;var e=t-M+I;e<I&&L<I?(8>e&&(e=8),I=e<L?L:e):L=e,M=t+I,k||(k=!0,window.postMessage(O,"*"))};d=function p(t,e){P=t,C=e,R?window.postMessage(O,"*"):D||(D=!0,A(F))},g=function n(){P=null,k=!1,C=-1}}e.unstable_scheduleWork=function(t,n){var r=e.unstable_now();if(t={callback:t,timesOutAt:n=void 0!==n&&null!==n&&null!==n.timeout&&void 0!==n.timeout?r+n.timeout:r+5e3,next:null,previous:null},null===o)o=t.next=t.previous=t,m();else{r=null;var i=o;do{if(i.timesOutAt>n){r=i;break}i=i.next}while(i!==o);null===r?r=o:r===o&&(o=t,m()),(n=r.previous).next=r.previous=t,t.next=r,t.previous=n}return t},e.unstable_cancelScheduledWork=function(t){var e=t.next;if(null!==e){if(e===t)o=null;else{t===o&&(o=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}}},,function(t,e,n){"use strict";var r=n(554);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getDaysInMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,r.default)(t,e),i=n.getFullYear(),o=n.getMonth(),a=new Date(0);return a.setFullYear(i,o+1,0),a.setHours(0,0,0,0),a.getDate()};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function formatDistance(t,e,n){var i;n=n||{},i="string"===typeof r[t]?r[t]:1===e?r[t].one:r[t].other.replace("{{count}}",e);if(n.addSuffix)return n.comparison>0?"in "+i:i+" ago";return i};var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(558)).default)({LT:"h:mm aa",LTS:"h:mm:ss aa",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm aa",LLLL:"dddd, MMMM D YYYY h:mm aa"});e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildFormatLongFn(t){var e={LTS:t.LTS,LT:t.LT,L:t.L,LL:t.LL,LLL:t.LLL,LLLL:t.LLLL,l:t.l||buildShortLongFormat(t.L),ll:t.ll||buildShortLongFormat(t.LL),lll:t.lll||buildShortLongFormat(t.LLL),llll:t.llll||buildShortLongFormat(t.LLLL)};return function(t){return e[t]}};var r=/MMMM|MM|DD|dddd/g;function buildShortLongFormat(t){return t.replace(r,(function(t){return t.slice(1)}))}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function formatRelative(t,e,n,i){return r[t]};var r={lastWeek:"[last] dddd [at] LT",yesterday:"[yesterday at] LT",today:"[today at] LT",tomorrow:"[tomorrow at] LT",nextWeek:"dddd [at] LT",other:"L"};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(561)),i=_interopRequireDefault(n(562));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var o={narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},a={short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={uppercase:["AM","PM"],lowercase:["am","pm"],long:["a.m.","p.m."]};var u={ordinalNumber:function ordinalNumber(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},weekday:(0,r.default)(o,"long"),weekdays:(0,i.default)(o,"long"),month:(0,r.default)(a,"long"),months:(0,i.default)(a,"long"),timeOfDay:(0,r.default)(s,"long",(function(t){return t/12>=1?1:0})),timesOfDay:(0,i.default)(s,"long")};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildLocalizeFn(t,e,n){return function(r,i){var o=i||{},a=o.type?String(o.type):e;return(t[a]||t[e])[n?n(Number(r)):Number(r)]}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildLocalizeArrayFn(t,e){return function(n){var r=n||{},i=r.type?String(r.type):e;return t[i]||t[e]}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(564)),i=_interopRequireDefault(n(565)),o=_interopRequireDefault(n(566)),a=_interopRequireDefault(n(567));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s={ordinalNumbers:(0,o.default)(/^(\d+)(th|st|nd|rd)?/i),ordinalNumber:a.default,weekdays:(0,r.default)({narrow:/^(su|mo|tu|we|th|fr|sa)/i,short:/^(sun|mon|tue|wed|thu|fri|sat)/i,long:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},"long"),weekday:(0,i.default)({any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},"any"),months:(0,r.default)({short:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,long:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},"long"),month:(0,i.default)({any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},"any"),timesOfDay:(0,r.default)({short:/^(am|pm)/i,long:/^([ap]\.?\s?m\.?)/i},"long"),timeOfDay:(0,i.default)({any:[/^a/i,/^p/i]},"any")};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildMatchFn(t,e){return function(n,r){var i=r||{},o=i.type?String(i.type):e,a=t[o]||t[e];return String(n).match(a)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildParseFn(t,e){return function(n,r){var i=r||{},o=i.type?String(i.type):e,a=t[o]||t[e],s=n[1];return a.findIndex((function(t){return t.test(s)}))}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildMatchPatternFn(t){return function(e){return String(e).match(t)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function parseDecimal(t){return parseInt(t[1],10)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(569)),i=_interopRequireDefault(n(313)),o=_interopRequireDefault(n(314));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a={M:function M(t){return t.getUTCMonth()+1},Mo:function Mo(t,e){var n=t.getUTCMonth()+1;return e.locale.localize.ordinalNumber(n,{unit:"month"})},MM:function MM(t){return addLeadingZeros(t.getUTCMonth()+1,2)},MMM:function MMM(t,e){return e.locale.localize.month(t.getUTCMonth(),{type:"short"})},MMMM:function MMMM(t,e){return e.locale.localize.month(t.getUTCMonth(),{type:"long"})},Q:function Q(t){return Math.ceil((t.getUTCMonth()+1)/3)},Qo:function Qo(t,e){var n=Math.ceil((t.getUTCMonth()+1)/3);return e.locale.localize.ordinalNumber(n,{unit:"quarter"})},D:function D(t){return t.getUTCDate()},Do:function Do(t,e){return e.locale.localize.ordinalNumber(t.getUTCDate(),{unit:"dayOfMonth"})},DD:function DD(t){return addLeadingZeros(t.getUTCDate(),2)},DDD:function DDD(t){return(0,r.default)(t)},DDDo:function DDDo(t,e){return e.locale.localize.ordinalNumber((0,r.default)(t),{unit:"dayOfYear"})},DDDD:function DDDD(t){return addLeadingZeros((0,r.default)(t),3)},dd:function dd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"narrow"})},ddd:function ddd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"short"})},dddd:function dddd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"long"})},d:function d(t){return t.getUTCDay()},do:function _do(t,e){return e.locale.localize.ordinalNumber(t.getUTCDay(),{unit:"dayOfWeek"})},E:function E(t){return t.getUTCDay()||7},W:function W(t){return(0,i.default)(t)},Wo:function Wo(t,e){return e.locale.localize.ordinalNumber((0,i.default)(t),{unit:"isoWeek"})},WW:function WW(t){return addLeadingZeros((0,i.default)(t),2)},YY:function YY(t){return addLeadingZeros(t.getUTCFullYear(),4).substr(2)},YYYY:function YYYY(t){return addLeadingZeros(t.getUTCFullYear(),4)},GG:function GG(t){return String((0,o.default)(t)).substr(2)},GGGG:function GGGG(t){return(0,o.default)(t)},H:function H(t){return t.getUTCHours()},HH:function HH(t){return addLeadingZeros(t.getUTCHours(),2)},h:function h(t){var e=t.getUTCHours();return 0===e?12:e>12?e%12:e},hh:function hh(t){return addLeadingZeros(a.h(t),2)},m:function m(t){return t.getUTCMinutes()},mm:function mm(t){return addLeadingZeros(t.getUTCMinutes(),2)},s:function s(t){return t.getUTCSeconds()},ss:function ss(t){return addLeadingZeros(t.getUTCSeconds(),2)},S:function S(t){return Math.floor(t.getUTCMilliseconds()/100)},SS:function SS(t){return addLeadingZeros(Math.floor(t.getUTCMilliseconds()/10),2)},SSS:function SSS(t){return addLeadingZeros(t.getUTCMilliseconds(),3)},Z:function Z(t,e){return formatTimezone((e._originalDate||t).getTimezoneOffset(),":")},ZZ:function ZZ(t,e){return formatTimezone((e._originalDate||t).getTimezoneOffset())},X:function X(t,e){var n=e._originalDate||t;return Math.floor(n.getTime()/1e3)},x:function x(t,e){return(e._originalDate||t).getTime()},A:function A(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"uppercase"})},a:function a(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"lowercase"})},aa:function aa(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"long"})}};function formatTimezone(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),i=r%60;return n+addLeadingZeros(Math.floor(r/60),2)+e+addLeadingZeros(i,2)}function addLeadingZeros(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCDayOfYear(t,e){var n=(0,r.default)(t,e),o=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var a=n.getTime(),s=o-a;return Math.floor(s/i)+1};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));var i=864e5;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addUTCMinutes(t,e,n){var i=(0,r.default)(t,n),o=Number(e);return i.setUTCMinutes(i.getUTCMinutes()+o),i};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function subMinutes(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Number(e);return(0,r.default)(t,-i,n)};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(572));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMinutes(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Number(e);return(0,r.default)(t,o*i,n)};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(573));var i=6e4;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMilliseconds(t,e,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,r.default)(t,n).getTime(),o=Number(e);return new Date(i+o)};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={M:/^(1[0-2]|0?\d)/,D:/^(3[0-1]|[0-2]?\d)/,DDD:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,W:/^(5[0-3]|[0-4]?\d)/,YYYY:/^(\d{1,4})/,H:/^(2[0-3]|[0-1]?\d)/,m:/^([0-5]?\d)/,Z:/^([+-])(\d{2}):(\d{2})/,ZZ:/^([+-])(\d{2})(\d{2})/,singleDigit:/^(\d)/,twoDigits:/^(\d{2})/,threeDigits:/^(\d{3})/,fourDigits:/^(\d{4})/,anyDigits:/^(\d+)/};function parseDecimal(t){return parseInt(t[1],10)}var i={YY:{unit:"twoDigitYear",match:r.twoDigits,parse:function parse(t){return parseDecimal(t)}},YYYY:{unit:"year",match:r.YYYY,parse:parseDecimal},GG:{unit:"isoYear",match:r.twoDigits,parse:function parse(t){return parseDecimal(t)+1900}},GGGG:{unit:"isoYear",match:r.YYYY,parse:parseDecimal},Q:{unit:"quarter",match:r.singleDigit,parse:parseDecimal},Qo:{unit:"quarter",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"quarter"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"quarter"})}},M:{unit:"month",match:r.M,parse:function parse(t){return parseDecimal(t)-1}},Mo:{unit:"month",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"month"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"month"})-1}},MM:{unit:"month",match:r.twoDigits,parse:function parse(t){return parseDecimal(t)-1}},MMM:{unit:"month",match:function match(t,e){return e.locale.match.months(t,{type:"short"})},parse:function parse(t,e){return e.locale.match.month(t,{type:"short"})}},MMMM:{unit:"month",match:function match(t,e){return e.locale.match.months(t,{type:"long"})||e.locale.match.months(t,{type:"short"})},parse:function parse(t,e){var n=e.locale.match.month(t,{type:"long"});return null==n&&(n=e.locale.match.month(t,{type:"short"})),n}},W:{unit:"isoWeek",match:r.W,parse:parseDecimal},Wo:{unit:"isoWeek",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"isoWeek"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"isoWeek"})}},WW:{unit:"isoWeek",match:r.twoDigits,parse:parseDecimal},d:{unit:"dayOfWeek",match:r.singleDigit,parse:parseDecimal},do:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfWeek"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfWeek"})}},dd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){return e.locale.match.weekday(t,{type:"narrow"})}},ddd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"short"})||e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){var n=e.locale.match.weekday(t,{type:"short"});return null==n&&(n=e.locale.match.weekday(t,{type:"narrow"})),n}},dddd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"long"})||e.locale.match.weekdays(t,{type:"short"})||e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){var n=e.locale.match.weekday(t,{type:"long"});return null==n&&null==(n=e.locale.match.weekday(t,{type:"short"}))&&(n=e.locale.match.weekday(t,{type:"narrow"})),n}},E:{unit:"dayOfISOWeek",match:r.singleDigit,parse:function parse(t){return parseDecimal(t)}},D:{unit:"dayOfMonth",match:r.D,parse:parseDecimal},Do:{unit:"dayOfMonth",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfMonth"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfMonth"})}},DD:{unit:"dayOfMonth",match:r.twoDigits,parse:parseDecimal},DDD:{unit:"dayOfYear",match:r.DDD,parse:parseDecimal},DDDo:{unit:"dayOfYear",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfYear"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfYear"})}},DDDD:{unit:"dayOfYear",match:r.threeDigits,parse:parseDecimal},A:{unit:"timeOfDay",match:function match(t,e){return e.locale.match.timesOfDay(t,{type:"short"})},parse:function parse(t,e){return e.locale.match.timeOfDay(t,{type:"short"})}},aa:{unit:"timeOfDay",match:function match(t,e){return e.locale.match.timesOfDay(t,{type:"long"})||e.locale.match.timesOfDay(t,{type:"short"})},parse:function parse(t,e){var n=e.locale.match.timeOfDay(t,{type:"long"});return null==n&&(n=e.locale.match.timeOfDay(t,{type:"short"})),n}},H:{unit:"hours",match:r.H,parse:parseDecimal},HH:{unit:"hours",match:r.twoDigits,parse:parseDecimal},h:{unit:"timeOfDayHours",match:r.M,parse:parseDecimal},hh:{unit:"timeOfDayHours",match:r.twoDigits,parse:parseDecimal},m:{unit:"minutes",match:r.m,parse:parseDecimal},mm:{unit:"minutes",match:r.twoDigits,parse:parseDecimal},s:{unit:"seconds",match:r.m,parse:parseDecimal},ss:{unit:"seconds",match:r.twoDigits,parse:parseDecimal},S:{unit:"milliseconds",match:r.singleDigit,parse:function parse(t){return 100*parseDecimal(t)}},SS:{unit:"milliseconds",match:r.twoDigits,parse:function parse(t){return 10*parseDecimal(t)}},SSS:{unit:"milliseconds",match:r.threeDigits,parse:parseDecimal},Z:{unit:"timezone",match:r.Z,parse:function parse(t){var e=t[1],n=60*parseInt(t[2],10)+parseInt(t[3],10);return"+"===e?n:-n}},ZZ:{unit:"timezone",match:r.ZZ,parse:function parse(t){var e=t[1],n=60*parseInt(t[2],10)+parseInt(t[3],10);return"+"===e?n:-n}},X:{unit:"timestamp",match:r.anyDigits,parse:function parse(t){return 1e3*parseDecimal(t)}},x:{unit:"timestamp",match:r.anyDigits,parse:parseDecimal}};i.a=i.A,e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(576)),i=_interopRequireDefault(n(577)),o=_interopRequireDefault(n(578)),a=_interopRequireDefault(n(579)),s=_interopRequireDefault(n(176)),u=_interopRequireDefault(n(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l={twoDigitYear:{priority:10,set:function set(t,e){var n=100*Math.floor(t.date.getUTCFullYear()/100)+e;return t.date.setUTCFullYear(n,0,1),t.date.setUTCHours(0,0,0,0),t}},year:{priority:10,set:function set(t,e){return t.date.setUTCFullYear(e,0,1),t.date.setUTCHours(0,0,0,0),t}},isoYear:{priority:10,set:function set(t,e,n){return t.date=(0,u.default)((0,a.default)(t.date,e,n),n),t}},quarter:{priority:20,set:function set(t,e){return t.date.setUTCMonth(3*(e-1),1),t.date.setUTCHours(0,0,0,0),t}},month:{priority:30,set:function set(t,e){return t.date.setUTCMonth(e,1),t.date.setUTCHours(0,0,0,0),t}},isoWeek:{priority:40,set:function set(t,e,n){return t.date=(0,s.default)((0,o.default)(t.date,e,n),n),t}},dayOfWeek:{priority:50,set:function set(t,e,n){return t.date=(0,r.default)(t.date,e,n),t.date.setUTCHours(0,0,0,0),t}},dayOfISOWeek:{priority:50,set:function set(t,e,n){return t.date=(0,i.default)(t.date,e,n),t.date.setUTCHours(0,0,0,0),t}},dayOfMonth:{priority:50,set:function set(t,e){return t.date.setUTCDate(e),t.date.setUTCHours(0,0,0,0),t}},dayOfYear:{priority:50,set:function set(t,e){return t.date.setUTCMonth(0,e),t.date.setUTCHours(0,0,0,0),t}},timeOfDay:{priority:60,set:function set(t,e,n){return t.timeOfDay=e,t}},hours:{priority:70,set:function set(t,e,n){return t.date.setUTCHours(e,0,0,0),t}},timeOfDayHours:{priority:70,set:function set(t,e,n){var r=t.timeOfDay;return null!=r&&(e=function setTimeOfDay(t,e){if(0===e){if(12===t)return 0}else if(12!==t)return 12+t;return t}(e,r)),t.date.setUTCHours(e,0,0,0),t}},minutes:{priority:80,set:function set(t,e){return t.date.setUTCMinutes(e,0,0),t}},seconds:{priority:90,set:function set(t,e){return t.date.setUTCSeconds(e,0),t}},milliseconds:{priority:100,set:function set(t,e){return t.date.setUTCMilliseconds(e),t}},timezone:{priority:110,set:function set(t,e){return t.date=new Date(t.date.getTime()-6e4*e),t}},timestamp:{priority:120,set:function set(t,e){return t.date=new Date(e),t}}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCDay(t,e,n){var i=n||{},o=i.locale,a=o&&o.options&&o.options.weekStartsOn,s=void 0===a?0:Number(a),u=void 0===i.weekStartsOn?s:Number(i.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(t,n),c=Number(e),f=l.getUTCDay(),p=((c%7+7)%7<u?7:0)+c-f;return l.setUTCDate(l.getUTCDate()+p),l};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISODay(t,e,n){var i=Number(e);i%7===0&&(i-=7);var o=(0,r.default)(t,n),a=o.getUTCDay(),s=((i%7+7)%7<1?7:0)+i-a;return o.setUTCDate(o.getUTCDate()+s),o};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISOWeek(t,e,n){var o=(0,r.default)(t,n),a=Number(e),s=(0,i.default)(o,n)-a;return o.setUTCDate(o.getUTCDate()-7*s),o};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(313));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISOWeekYear(t,e,n){var a=(0,r.default)(t,n),s=Number(e),u=(0,i.default)(a,n),l=Math.floor((a.getTime()-u.getTime())/o),c=new Date(0);return c.setUTCFullYear(s,0,4),c.setUTCHours(0,0,0,0),(a=(0,i.default)(c,n)).setUTCDate(a.getUTCDate()+l),a};var r=_interopRequireDefault(n(33)),i=_interopRequireDefault(n(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var o=864e5;t.exports=e.default},,function(t,e,n){},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function wrap(t,e,n,r){var i=e&&e.prototype instanceof Generator?e:Generator,o=Object.create(i.prototype),a=new Context(r||[]);return o._invoke=function makeInvokeMethod(t,e,n){var r=u;return function invoke(i,o){if(r===c)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return doneResult()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=maybeInvokeDelegate(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=c;var d=tryCatch(t,e,n);if("normal"===d.type){if(r=n.done?f:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r=f,n.method="throw",n.arg=d.arg)}}}(t,n,a),o}function tryCatch(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=wrap;var u="suspendedStart",l="suspendedYield",c="executing",f="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};d[o]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(values([])));g&&g!==n&&r.call(g,o)&&(d=g);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function AsyncIterator(t){var e;this._invoke=function enqueue(n,i){function callInvokeWithMethodAndArg(){return new Promise((function(e,o){!function invoke(e,n,i,o){var a=tryCatch(t[e],t,n);if("throw"!==a.type){var s=a.arg,u=s.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){invoke("next",t,i,o)}),(function(t){invoke("throw",t,i,o)})):Promise.resolve(u).then((function(t){s.value=t,i(s)}),(function(t){return invoke("throw",t,i,o)}))}o(a.arg)}(n,i,e,o)}))}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=tryCatch(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=e,next.done=!0,next};return a.next=a}}return{next:doneResult}}function doneResult(){return{value:e,done:!0}}return GeneratorFunction.prototype=y.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[a]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,i){var o=new AsyncIterator(wrap(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},defineIteratorMethods(y),y[s]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function next(){for(;e.length;){var n=e.pop();if(n in t)return next.value=n,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),p}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(584);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(587),i=n(588),o=n(589);t.exports=function(){function shim(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=r,t.PropTypes=t,t}},function(t,e,n){"use strict";function makeEmptyFunction(t){return function(){return t}}var r=function emptyFunction(){};r.thatReturns=makeEmptyFunction,r.thatReturnsFalse=makeEmptyFunction(!1),r.thatReturnsTrue=makeEmptyFunction(!0),r.thatReturnsNull=makeEmptyFunction(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";var r=function validateFormat(t){};t.exports=function invariant(t,e,n,i,o,a,s,u){if(r(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],f=0;(l=new Error(e.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(177)),a=_interopRequireDefault(n(591)),s=_interopRequireDefault(n(592)),u=_interopRequireDefault(n(593));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function createAll(t){return i({},_get__("actions"),{ConnectedRouter:_get__("createConnectedRouter")(t),connectRouter:_get__("createConnectRouter")(t),routerMiddleware:_get__("routerMiddleware")})};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createAll");var c=null;function _getRewireModuleId__(){if(null===c){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),c=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return c}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var f="__INTENTIONAL_UNDEFINED__",p={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"actions":return function _filterWildcardImport__(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).filter((function(t){return"__get__"!==t&&"__set__"!==t&&"__reset__"!==t&&"__with__"!==t&&"__GetDependency__"!==t&&"__Rewire__"!==t&&"__ResetDependency__"!==t&&"__RewireAPI__"!==t})).reduce((function(e,n){return e[n]=t[n],e}),{})}(o);case"createConnectedRouter":return a.default;case"createConnectRouter":return s.default;case"routerMiddleware":return u.default;case"createAll":return l}return}(t);var n=e[t];return n===f?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?f:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(p,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var d="undefined"===typeof l?"undefined":r(l);function addNonEnumerableProperty(t,e){Object.defineProperty(l,t,{value:e,enumerable:!1,configurable:!0})}"object"!==d&&"function"!==d||!Object.isExtensible(l)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",p)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=p}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=n(0),a=_interopRequireDefault(o),s=_interopRequireDefault(n(29)),u=n(34),l=n(98),c=n(177);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var f=function createConnectedRouter(t){var e=t.getIn,n=t.toJS,r=function(t){function ConnectedRouter(t,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ConnectedRouter);var i=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(ConnectedRouter.__proto__||Object.getPrototypeOf(ConnectedRouter)).call(this,t));return i.inTimeTravelling=!1,i.unsubscribe=r.store.subscribe((function(){var o=n(e(r.store.getState(),["router","location"])),a=o.pathname,s=o.search,u=o.hash,l=t.history.location,c=l.pathname,f=l.search,p=l.hash;c===a&&f===s&&p===u||(i.inTimeTravelling=!0,t.history.push({pathname:a,search:s,hash:u}))})),i.unlisten=t.history.listen((function(e,n){i.inTimeTravelling?i.inTimeTravelling=!1:t.onLocationChanged(e,n)})),i}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ConnectedRouter,t),i(ConnectedRouter,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function render(){var t=this.props,e=t.history,n=t.children;return _get__("React").createElement(_get__("Router"),{history:e},n)}}]),ConnectedRouter}(_get__("Component"));r.contextTypes={store:_get__("PropTypes").shape({getState:_get__("PropTypes").func.isRequired,subscribe:_get__("PropTypes").func.isRequired}).isRequired},r.propTypes={history:_get__("PropTypes").shape({listen:_get__("PropTypes").func.isRequired,location:_get__("PropTypes").object.isRequired,push:_get__("PropTypes").func.isRequired}).isRequired,location:_get__("PropTypes").oneOfType([_get__("PropTypes").object,_get__("PropTypes").string]).isRequired,action:_get__("PropTypes").string.isRequired,basename:_get__("PropTypes").string,children:_get__("PropTypes").oneOfType([_get__("PropTypes").func,_get__("PropTypes").node]),onLocationChanged:_get__("PropTypes").func.isRequired};return _get__("connect")((function mapStateToProps(t){return{action:e(t,["router","action"]),location:e(t,["router","location"])}}),(function mapDispatchToProps(t){return{onLocationChanged:function onLocationChanged(e,n){return t(_get__("onLocationChanged")(e,n))}}}))(r)};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createConnectedRouter");var p=null;function _getRewireModuleId__(){if(null===p){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),p=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return p}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var d="__INTENTIONAL_UNDEFINED__",h={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"Component":return o.Component;case"PropTypes":return s.default;case"onLocationChanged":return c.onLocationChanged;case"connect":return u.connect;case"createConnectedRouter":return f;case"React":return a.default;case"Router":return l.Router}return}(t);var n=e[t];return n===d?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?d:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(h,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var g="undefined"===typeof f?"undefined":r(f);function addNonEnumerableProperty(t,e){Object.defineProperty(f,t,{value:e,enumerable:!1,configurable:!0})}"object"!==g&&"function"!==g||!Object.isExtensible(f)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",h)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=h}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(177),o=function createConnectRouter(t){var e=t.filterNotRouter,n=t.fromJS,r=t.getIn,i=t.merge,o=t.setIn;return function connectRouter(t){var a=n({location:t.location,action:t.action});return function(t){return function(n,s){var u=a;n&&(u=r(n,["router"])||u,n=e(n));var l=t(n,s);return o(l,["router"],function routerReducer(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=e.payload;return n===_get__("LOCATION_CHANGE")?i(t,r):t}(u,s))}}}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createConnectRouter");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"LOCATION_CHANGE":return i.LOCATION_CHANGE;case"createConnectRouter":return o}return}(t);var n=e[t];return n===s?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof o?"undefined":r(o);function addNonEnumerableProperty(t,e){Object.defineProperty(o,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(o)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(177);var o=function routerMiddleware(t){return function(e){return function(e){return function(n){if(n.type!==_get__("CALL_HISTORY_METHOD"))return e(n);var r=n.payload,i=r.method,o=r.args;t[i].apply(t,function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o))}}}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("routerMiddleware");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"CALL_HISTORY_METHOD":return i.CALL_HISTORY_METHOD;case"routerMiddleware":return o}return}(t);var n=e[t];return n===s?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof o?"undefined":r(o);function addNonEnumerableProperty(t,e){Object.defineProperty(o,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(o)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=_interopRequireDefault(n(595)),a=_interopRequireDefault(n(596));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s={filterNotRouter:function filterNotRouter(t){t.router;return function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["router"])},fromJS:function fromJS(t){return t},getIn:_get__("getIn"),merge:function merge(t,e){return i({},t,e)},setIn:_get__("setIn"),toJS:function toJS(t){return t}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("structure");var u=null;function _getRewireModuleId__(){if(null===u){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),u=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return u}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var l="__INTENTIONAL_UNDEFINED__",c={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"getIn":return o.default;case"setIn":return a.default;case"structure":return s}return}(t);var n=e[t];return n===l?void 0:n}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?l:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(c,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var f="undefined"===typeof s?"undefined":r(s);function addNonEnumerableProperty(t,e){Object.defineProperty(s,t,{value:e,enumerable:!1,configurable:!0})}"object"!==f&&"function"!==f||!Object.isExtensible(s)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",c)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=c}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function getIn(t,e){if(!t)return t;var n=e.length;if(n){for(var r=t,i=0;i<n&&r;++i)r=r[e[i]];return r}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("getIn");var i=null;function _getRewireModuleId__(){if(null===i){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),i=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return i}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var o="__INTENTIONAL_UNDEFINED__",a={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"getIn":return r}return}(t);var n=e[t];return n===o?void 0:n}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?o:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(a,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var s="undefined"===typeof r?"undefined":n(r);function addNonEnumerableProperty(t,e){Object.defineProperty(r,t,{value:e,enumerable:!1,configurable:!0})}"object"!==s&&"function"!==s||!Object.isExtensible(r)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",a)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=a}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=function setInWithPath(t,e,n,i){if(i>=n.length)return e;var o=n[i],a=_get__("setInWithPath")(t&&t[o],e,n,i+1);if(!t){var s=isNaN(o)?{}:[];return s[o]=a,s}if(Array.isArray(t)){var u=[].concat(t);return u[o]=a,u}return r({},t,function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},o,a))},o=function setIn(t,e,n){return _get__("setInWithPath")(t,n,e,0)};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("setIn");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),n=e[t];return n||(e[t]=Object.create(null),n=e[t]),n}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"setInWithPath":return i;case"setIn":return o}return}(t);var n=e[t];return n===s?void 0:n}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),n=Object.keys(t),r={};function reset(){n.forEach((function(t){e[t]=r[t]}))}return function(i){n.forEach((function(n){r[n]=e[n],e[n]=t[n]}));var o=i();return o&&"function"==typeof o.then?o.then(reset).catch(reset):reset(),o}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof o?"undefined":n(o);function addNonEnumerableProperty(t,e){Object.defineProperty(o,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(o)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,n(32))},function(t,e,n){"use strict";t.exports=function assertFunction(t){if("function"!==typeof t)throw new TypeError("Expected function, got: "+t)}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(t,e){try{return decodeURIComponent(t.join(""))}catch(i){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=decodeComponents(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function customDecodeURIComponent(t){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=i.exec(t);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(e){var o=decode(r[0]);o!==r[0]&&(n[r[0]]=o)}r=i.exec(t)}n["%C2"]="\ufffd";for(var a=Object.keys(n),s=0;s<a.length;s++){var u=a[s];t=t.replace(new RegExp(u,"g"),n[u])}return t}(t)}}},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(600),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"===typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=wrap;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",g={},y={};y[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(values([])));v&&v!==r&&i.call(v,a)&&(y=v);var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(y);GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[u]=GeneratorFunction.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[s]=function(){return this},c.AsyncIterator=AsyncIterator,c.async=function(t,e,n,r){var i=new AsyncIterator(wrap(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function next(){for(;e.length;){var n=e.pop();if(n in t)return next.value=n,next.done=!1,next}return next.done=!0,next}},c.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var e=this;function handle(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),g}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,e,r){return this.delegate={iterator:values(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function wrap(t,e,n,r){var i=e&&e.prototype instanceof Generator?e:Generator,o=Object.create(i.prototype),a=new Context(r||[]);return o._invoke=function makeInvokeMethod(t,e,n){var r=f;return function invoke(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return doneResult()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=maybeInvokeDelegate(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=tryCatch(t,e,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function tryCatch(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function AsyncIterator(t){var e;this._invoke=function enqueue(n,r){function callInvokeWithMethodAndArg(){return new Promise((function(e,o){!function invoke(e,n,r,o){var a=tryCatch(t[e],t,n);if("throw"!==a.type){var s=a.arg,u=s.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(t){invoke("next",t,r,o)}),(function(t){invoke("throw",t,r,o)})):Promise.resolve(u).then((function(t){s.value=t,r(s)}),o)}o(a.arg)}(n,r,e,o)}))}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,maybeInvokeDelegate(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=tryCatch(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function next(){for(;++r<t.length;)if(i.call(t,r))return next.value=t[r],next.done=!1,next;return next.value=n,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(319),n(155),n(181),n(610),n(618),n(619),t.exports=n(56).Promise},function(t,e,n){var r=n(229),i=n(230);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(233),i=n(157),o=n(180),a={};n(121)(a,n(73)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(101),i=n(91),o=n(158);t.exports=n(111)?Object.defineProperties:function defineProperties(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(123),i=n(234),o=n(606);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(229),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(608),i=n(609),o=n(137),a=n(123);t.exports=n(320)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,a,s=n(156),u=n(69),l=n(135),c=n(238),f=n(82),p=n(110),d=n(178),h=n(611),g=n(612),y=n(329),m=n(330).set,v=n(614)(),_=n(240),b=n(331),S=n(615),E=n(332),x=u.TypeError,w=u.process,T=w&&w.versions,P=T&&T.v8||"",k=u.Promise,C="process"==c(w),D=function empty(){},A=i=_.f,R=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(73)("species")]=function(t){t(D,D)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof e&&0!==P.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),M=function isThenable(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},L=function notify(t,e){if(!t._n){t._n=!0;var n=t._c;v((function(){for(var r=t._v,i=1==t._s,o=0,a=function run(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&F(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(x("Promise-chain cycle")):(o=M(n))?o.call(n,u,l):u(n)):l(r)}catch(f){c&&!a&&c.exit(),l(f)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function onUnhandled(t){m.call(u,(function(){var e,n,r,i=t._v,o=O(t);if(o&&(e=b((function(){C?w.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||O(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},O=function isUnhandled(t){return 1!==t._h&&0===(t._a||t._c).length},F=function onHandleUnhandled(t){m.call(u,(function(){var e;C?w.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function $reject(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},B=function $resolve(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=M(t))?v((function(){var r={_w:n,_d:!1};try{e.call(t,l($resolve,r,1),l(N,r,1))}catch(i){N.call(r,i)}})):(n._v=t,n._s=1,L(n,!1))}catch(r){N.call({_w:n,_d:!1},r)}}};R||(k=function Promise(t){h(this,k,"Promise","_h"),d(t),r.call(this);try{t(l(B,this,1),l(N,this,1))}catch(e){N.call(this,e)}},(r=function Promise(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(616)(k.prototype,{then:function then(t,e){var n=A(y(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function _catch(t){return this.then(void 0,t)}}),o=function OwnPromiseCapability(){var t=new r;this.promise=t,this.resolve=l(B,t,1),this.reject=l(N,t,1)},_.f=A=function newPromiseCapability(t){return t===k||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!R,{Promise:k}),n(180)(k,"Promise"),n(617)("Promise"),a=n(56).Promise,f(f.S+f.F*!R,"Promise",{reject:function reject(t){var e=A(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!R),"Promise",{resolve:function resolve(t){return E(s&&this===a?k:this,t)}}),f(f.S+f.F*!(R&&n(333)((function(t){k.all(t).catch(D)}))),"Promise",{all:function all(t){var e=this,n=A(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;g(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function race(t){var e=this,n=A(e),r=n.reject,i=b((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(135),i=n(327),o=n(328),a=n(91),s=n(234),u=n(239),l={},c={};(e=t.exports=function(t,e,n,f,p){var d,h,g,y,m=p?function(){return t}:u(t),v=r(n,f,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=s(t.length);d>_;_++)if((y=e?v(a(h=t[_])[0],h[1]):v(t[_]))===l||y===c)return y}else for(g=m.call(t);!(h=g.next()).done;)if((y=i(g,v,h.value,e))===l||y===c)return y}).BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(69),i=n(330).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(159)(a);t.exports=function(){var t,e,n,l=function flush(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function notify(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function notify(){c.then(l)}}else n=function notify(){i.call(r,l)};else{var f=!0,p=document.createTextNode("");new o(l).observe(p,{characterData:!0}),n=function notify(){p.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(69).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(121);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(69),i=n(56),o=n(101),a=n(111),s=n(73)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function get(){return this}})}},function(t,e,n){"use strict";var r=n(82),i=n(56),o=n(69),a=n(329),s=n(332);r(r.P+r.R,"Promise",{finally:function _finally(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(82),i=n(240),o=n(331);r(r.S,"Promise",{try:function _try(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCommaAccessToken=e.logOut=e.isAuthed=void 0;var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100)),o=(e.logOut=function(){var t=(0,i.default)(r.default.mark((function _callee(){return r.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.removeItem("authorization"),!s){t.next=4;break}return t.next=4,a.default.removeItem("authorization");case 4:case"end":return t.stop()}}),_callee,this)})));return function logOut(){return t.apply(this,arguments)}}(),e.getCommaAccessToken=function(){var t=(0,i.default)(r.default.mark((function _callee2(){var t;return r.default.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t=getTokenInternal()){n.next=11;break}return n.prev=2,n.next=5,a.default.getItem("authorization");case 5:t=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),s=!1;case 11:if(!t){n.next=16;break}if(e.isAuthed=!0,!s){n.next=16;break}return n.next=16,a.default.setItem("authorization",t);case 16:return n.abrupt("return",t);case 17:case"end":return n.stop()}}),_callee2,this,[[2,8]])})));return function getCommaAccessToken(){return t.apply(this,arguments)}}());e.getTokenInternal=getTokenInternal,e.setCommaAccessToken=function setCommaAccessToken(t){return localStorage.setItem("authorization",t),o()};var a=_interopRequireDefault(n(622));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.isAuthed=!1;var s=!0;function getTokenInternal(){return"undefined"!==typeof localStorage&&localStorage.authorization?localStorage.authorization:null}},function(t,e,n){(function(n){var r;t.exports=function e(t,n,i){function s(a,u){if(!n[a]){if(!t[a]){if(!u&&"function"==typeof r&&r)return r(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return s(n||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof r&&r,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,r){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(nextTick),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function scheduleDrain(){s.data=o=++o%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function scheduleDrain(){var e=t.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function scheduleDrain(){setTimeout(nextTick,0)};else{var u=new t.MessageChannel;u.port1.onmessage=nextTick,n=function scheduleDrain(){u.port2.postMessage(0)}}var l=[];function nextTick(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function immediate(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function INTERNAL(){}var i={},o=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function Promise(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==INTERNAL&&safelyResolveThenable(this,t)}function QueueItem(t,e,n){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function unwrap(t,e,n){r((function(){var r;try{r=e(n)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)}))}function getThen(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function appyThen(){e.apply(t,arguments)}}function safelyResolveThenable(t,e){var n=!1;function onError(e){n||(n=!0,i.reject(t,e))}function onSuccess(e){n||(n=!0,i.resolve(t,e))}var r=tryCatch((function tryToUnwrap(){e(onSuccess,onError)}));"error"===r.status&&onError(r.value)}function tryCatch(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=Promise,Promise.prototype.catch=function(t){return this.then(null,t)},Promise.prototype.then=function(t,e){if("function"!==typeof t&&this.state===a||"function"!==typeof e&&this.state===o)return this;var n=new this.constructor(INTERNAL);return this.state!==s?unwrap(n,this.state===a?t:e,this.outcome):this.queue.push(new QueueItem(n,t,e)),n},QueueItem.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},QueueItem.prototype.otherCallFulfilled=function(t){unwrap(this.promise,this.onFulfilled,t)},QueueItem.prototype.callRejected=function(t){i.reject(this.promise,t)},QueueItem.prototype.otherCallRejected=function(t){unwrap(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=tryCatch(getThen,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)safelyResolveThenable(t,r);else{t.state=a,t.outcome=e;for(var o=-1,s=t.queue.length;++o<s;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},Promise.resolve=function resolve(t){return t instanceof this?t:i.resolve(new this(INTERNAL),t)},Promise.reject=function reject(t){var e=new this(INTERNAL);return i.reject(e,t)},Promise.all=function all(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(INTERNAL);++s<n;)allResolver(t[s],s);return u;function allResolver(t,s){e.resolve(t).then((function resolveFromAll(t){o[s]=t,++a!==n||r||(r=!0,i.resolve(u,o))}),(function(t){r||(r=!0,i.reject(u,t))}))}},Promise.race=function race(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o,a=-1,s=new this(INTERNAL);++a<n;)o=t[a],e.resolve(o).then((function(t){r||(r=!0,i.resolve(s,t))}),(function(t){r||(r=!0,i.reject(s,t))}));return s}},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function createBlob(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var o=Promise;function executeCallback(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function executeTwoCallbacks(t,e,n){"function"===typeof e&&t.then(e),"function"===typeof n&&t.catch(n)}function normalizeKey(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",s=void 0,u={},l=Object.prototype.toString,c="readonly",f="readwrite";function _checkBlobSupport(t){return"boolean"===typeof s?o.resolve(s):function _checkBlobSupportWithoutCaching(t){return new o((function(e){var n=t.transaction(a,f),r=createBlob([""]);n.objectStore(a).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return s=t}))}function _deferReadiness(t){var e=u[t.name],n={};n.promise=new o((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function _advanceReadiness(t){var e=u[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _rejectReadiness(t,e){var n=u[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function _getConnection(t,e){return new o((function(n,r){if(u[t.name]=u[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);_deferReadiness(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(a)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),_advanceReadiness(t)}}))}function _getOriginalConnection(t){return _getConnection(t,!1)}function _getUpgradedConnection(t){return _getConnection(t,!0)}function _isUpgradeNeeded(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function _decodeBlob(t){return createBlob([function _binStringToArrayBuffer(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function _isEncodedBlob(t){return t&&t.__local_forage_encoded_blob}function _fullyReady(t){var e=this,n=e._initReady().then((function(){var t=u[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return executeTwoCallbacks(n,t,t),n}function createTransaction(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(a){if(r>0&&(!t.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return o.resolve().then((function(){if(!t.db||"NotFoundError"===a.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),_getUpgradedConnection(t)})).then((function(){return function _tryReconnect(t){_deferReadiness(t);for(var e=u[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,_getOriginalConnection(t).then((function(e){return t.db=e,_isUpgradeNeeded(t)?_getUpgradedConnection(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw _rejectReadiness(t,e),e}))}(t).then((function(){createTransaction(t,e,n,r-1)}))})).catch(n);n(a)}}var p={_driver:"asyncStorage",_initStorage:function _initStorage(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=u[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},u[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=_fullyReady);var a=[];function ignoreErrors(){return o.resolve()}for(var s=0;s<i.forages.length;s++){var l=i.forages[s];l!==e&&a.push(l._initReady().catch(ignoreErrors))}var c=i.forages.slice(0);return o.all(a).then((function(){return n.db=i.db,_getOriginalConnection(n)})).then((function(t){return n.db=t,_isUpgradeNeeded(n,e._defaultConfig.version)?_getUpgradedConnection(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<c.length;r++){var o=c[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function isIndexedDBValid(){try{if(!i)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}(),iterate:function iterate(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;_isEncodedBlob(r)&&(r=_decodeBlob(r));var i=t(r,n.key,s++);void 0!==i?e(i):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}}))})).catch(r)}));return executeCallback(r,e),r},getItem:function getItem(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_isEncodedBlob(t)&&(t=_decodeBlob(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,e),r},setItem:function setItem(t,e,n){var r=this;t=normalizeKey(t);var i=new o((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===l.call(e)?_checkBlobSupport(a.db).then((function(t){return t?e:function _encodeBlob(t){return new o((function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)}))}(e)})):e})).then((function(e){createTransaction(r._dbInfo,f,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(l){i(l)}}))})).catch(i)}));return executeCallback(i,n),i},removeItem:function removeItem(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){createTransaction(n._dbInfo,f,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,e),r},clear:function clear(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,f,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(a){n(a)}}))})).catch(n)}));return executeCallback(n,t),n},length:function length(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return executeCallback(n,t),n},key:function key(t,e){var n=this,r=new o((function(e,r){t<0?e(null):n.ready().then((function(){createTransaction(n._dbInfo,c,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(l){r(l)}}))})).catch(r)}));return executeCallback(r,e),r},keys:function keys(t){var e=this,n=new o((function(t,n){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var e=o.result;e?(a.push(e.key),e.continue()):t(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,t),n},dropInstance:function dropInstance(t,e){e=getCallback.apply(this,arguments);var n,r=this.config();if((t="function"!==typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var a=t.name===r.name&&this._dbInfo.db?o.resolve(this._dbInfo.db):_getOriginalConnection(t).then((function(e){var n=u[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));n=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;_deferReadiness(t);var r=u[t.name],a=r.forages;e.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=n}return new o((function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<a.length;e++){var n=a[e];n._dbInfo.db=t,_advanceReadiness(n._dbInfo)}})).catch((function(e){throw(_rejectReadiness(t,e)||o.resolve()).catch((function(){})),e}))}})):a.then((function(e){_deferReadiness(t);var n=u[t.name],r=n.forages;e.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new o((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<r.length;e++)_advanceReadiness(r[e]._dbInfo)})).catch((function(e){throw(_rejectReadiness(t,e)||o.resolve()).catch((function(){})),e}))}))}else n=o.reject("Invalid arguments");return executeCallback(n,e),n}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="~~local_forage_type~",g=/^~~local_forage_type~([^~]+)~/,y="__lfsc__:",m=y.length,v="arbf",_="blob",b="si08",S="ui08",E="uic8",x="si16",w="si32",T="ur16",P="ui32",k="fl32",C="fl64",D=m+v.length,A=Object.prototype.toString;function stringToBuffer(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)n=d.indexOf(t[e]),r=d.indexOf(t[e+1]),i=d.indexOf(t[e+2]),o=d.indexOf(t[e+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}function bufferToString(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=d[n[e]>>2],r+=d[(3&n[e])<<4|n[e+1]>>4],r+=d[(15&n[e+1])<<2|n[e+2]>>6],r+=d[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var R={serialize:function serialize(t,e){var n="";if(t&&(n=A.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===A.call(t.buffer))){var r,i=y;t instanceof ArrayBuffer?(r=t,i+=v):(r=t.buffer,"[object Int8Array]"===n?i+=b:"[object Uint8Array]"===n?i+=S:"[object Uint8ClampedArray]"===n?i+=E:"[object Int16Array]"===n?i+=x:"[object Uint16Array]"===n?i+=T:"[object Int32Array]"===n?i+=w:"[object Uint32Array]"===n?i+=P:"[object Float32Array]"===n?i+=k:"[object Float64Array]"===n?i+=C:e(new Error("Failed to get type for BinaryArray"))),e(i+bufferToString(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=h+t.type+"~"+bufferToString(this.result);e(y+_+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function deserialize(t){if(t.substring(0,m)!==y)return JSON.parse(t);var e,n=t.substring(D),r=t.substring(m,D);if(r===_&&g.test(n)){var i=n.match(g);e=i[1],n=n.substring(i[0].length)}var o=stringToBuffer(n);switch(r){case v:return o;case _:return createBlob([o],{type:e});case b:return new Int8Array(o);case S:return new Uint8Array(o);case E:return new Uint8ClampedArray(o);case x:return new Int16Array(o);case T:return new Uint16Array(o);case w:return new Int32Array(o);case P:return new Uint32Array(o);case k:return new Float32Array(o);case C:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function tryExecuteSql(t,e,n,r,i,o){t.executeSql(n,r,i,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,a):createDbTable(t,e,(function(){t.executeSql(n,r,i,o)}),o)}),o):o(t,a)}),o)}function _setItem(t,e,n,r){var i=this;t=normalizeKey(t);var a=new o((function(o,a){i.ready().then((function(){void 0===e&&(e=null);var s=e,u=i._dbInfo;u.serializer.serialize(e,(function(e,l){l?a(l):u.db.transaction((function(n){tryExecuteSql(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(_setItem.apply(i,[t,s,n,r-1]));a(e)}}))}))})).catch(a)}));return executeCallback(a,n),a}var M={_driver:"webSQLStorage",_initStorage:function _initStorage$1(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!==typeof t[r]?t[r].toString():t[r];var i=new o((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){createDbTable(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=R,i},_support:function isWebSQLValid(){return"function"===typeof openDatabase}(),iterate:function iterate$1(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},getItem:function getItem$1(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},setItem:function setItem$1(t,e,n){return _setItem.apply(this,[t,e,n,1])},removeItem:function removeItem$1(t,e){var n=this;t=normalizeKey(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},clear:function clear$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},length:function length$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},key:function key$1(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){tryExecuteSql(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,e),r},keys:function keys$1(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){tryExecuteSql(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,t),n},dropInstance:function dropInstance$1(t,e){e=getCallback.apply(this,arguments);var n=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return executeCallback(r=t.name?new o((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function getAllStoreNames(t){return new o((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}(r))})).then((function(t){return new o((function(e,n){t.db.transaction((function(r){function dropTable(t){return new o((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var i=[],a=0,s=t.storeNames.length;a<s;a++)i.push(dropTable(t.storeNames[a]));o.all(i).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):o.reject("Invalid arguments"),e),r}};function _getKeyPrefix(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var L={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=_getKeyPrefix(t,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=e,e.serializer=R,o.resolve()):o.reject()},_support:function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function iterate$2(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(i),a++)))return l}}}));return executeCallback(r,e),r},getItem:function getItem$2(t,e){var n=this;t=normalizeKey(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return executeCallback(r,e),r},setItem:function setItem$2(t,e,n){var r=this;t=normalizeKey(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new o((function(i,o){var a=r._dbInfo;a.serializer.serialize(e,(function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}}))}))}));return executeCallback(i,n),i},removeItem:function removeItem$2(t,e){var n=this;t=normalizeKey(t);var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return executeCallback(r,e),r},clear:function clear$2(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return executeCallback(n,t),n},length:function length$2(t){var e=this.keys().then((function(t){return t.length}));return executeCallback(e,t),e},key:function key$2(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return executeCallback(r,e),r},keys:function keys$2(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r}));return executeCallback(n,t),n},dropInstance:function dropInstance$2(t,e){if(e=getCallback.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return executeCallback(r=t.name?new o((function(e){t.storeName?e(_getKeyPrefix(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):o.reject("Invalid arguments"),e),r}},I=function sameValue(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},O=function includes(t,e){for(var n=t.length,r=0;r<n;){if(I(t[r],e))return!0;r++}return!1},F=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},N={},B={},U={INDEXEDDB:p,WEBSQL:M,LOCALSTORAGE:L},z=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver],j=["dropInstance"],V=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(j),G={description:"",driver:z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function extend(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(F(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var W=new(function(){function LocalForage(t){for(var e in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),U)if(U.hasOwnProperty(e)){var n=U[e],r=n._driver;this[e]=r,N[r]||this.defineDriver(n)}this._defaultConfig=extend({},G),this._config=extend({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(t){if("object"===("undefined"===typeof t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},LocalForage.prototype.defineDriver=function defineDriver(t,e,n){var r=new o((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var a=V.concat("_initStorage"),s=0,u=a.length;s<u;s++){var l=a[s];if((!O(j,l)||t[l])&&"function"!==typeof t[l])return void n(i)}!function configureMissingMethods(){for(var e=function methodNotImplementedFactory(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=o.reject(e);return executeCallback(n,arguments[arguments.length-1]),n}},n=0,r=j.length;n<r;n++){var i=j[n];t[i]||(t[i]=e(i))}}();var c=function setDriverSupport(n){N[r]&&console.info("Redefining LocalForage driver: "+r),N[r]=t,B[r]=n,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(c,n):c(!!t._support):c(!0)}catch(f){n(f)}}));return executeTwoCallbacks(r,e,n),r},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(t,e,n){var r=N[t]?o.resolve(N[t]):o.reject(new Error("Driver not found."));return executeTwoCallbacks(r,e,n),r},LocalForage.prototype.getSerializer=function getSerializer(t){var e=o.resolve(R);return executeTwoCallbacks(e,t),e},LocalForage.prototype.ready=function ready(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return executeTwoCallbacks(n,t,t),n},LocalForage.prototype.setDriver=function setDriver(t,e,n){var r=this;F(t)||(t=[t]);var i=this._getSupportedDrivers(t);function setDriverToConfig(){r._config.driver=r.driver()}function extendSelfWithDriver(t){return r._extend(t),setDriverToConfig(),r._ready=r._initStorage(r._config),r._ready}var a=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=a.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,setDriverToConfig(),r._wrapLibraryMethodsWithReady(),r._initDriver=function initDriver(t){return function(){var e=0;return function driverPromiseLoop(){for(;e<t.length;){var n=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(n).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var i=new Error("No available storage method found.");return r._driverSet=o.reject(i),r._driverSet}()}}(i)}))})).catch((function(){setDriverToConfig();var t=new Error("No available storage method found.");return r._driverSet=o.reject(t),r._driverSet})),executeTwoCallbacks(this._driverSet,e,n),this._driverSet},LocalForage.prototype.supports=function supports(t){return!!B[t]},LocalForage.prototype._extend=function _extend(t){extend(this,t)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var t=0,e=V.length;t<e;t++)callWhenReady(this,V[t])},LocalForage.prototype.createInstance=function createInstance(t){return new LocalForage(t)},LocalForage}());e.exports=W},{3:3}]},{},[4])(4)}).call(this,n(32))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oauthRedirectLink=e.OAUTH_PARAMS=e.REDIRECT_URI=e.GOOGLE_URL_ROOT=e.GOOGLE_CLIENT_ID=e.GOOGLE_AUTH_ENDPOINT=void 0;var r=_interopRequireDefault(n(334)),i=_interopRequireDefault(n(167));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var o=e.GOOGLE_AUTH_ENDPOINT="https://accounts.google.com/o/oauth2/auth",a=e.GOOGLE_CLIENT_ID="45471411055-ornt4svd2miog6dnopve7qtmh5mnu6id.apps.googleusercontent.com",s=(e.GOOGLE_URL_ROOT="https://www.googleapis.com/","http://127.0.0.1");r.default.location&&(s=r.default.location.origin);var u=e.REDIRECT_URI=s+"/auth/g/redirect",l=e.OAUTH_PARAMS={type:"web_server",client_id:a,redirect_uri:u,response_type:"code",scope:"https://www.googleapis.com/auth/userinfo.email",prompt:"select_account"};e.oauthRedirectLink=[o,i.default.stringify(l)].join("?")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProfile=function getProfile(t){var e=t||"me";return r.get("v1/"+e+"/")};var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102))},function(t,e,n){var r=n(171),i=n(626),o=n(175),a=n(627),s=n(628),u="application/json",l=function noop(){};t.exports=function xhrRequest(t,e,n){if(!t||"string"!==typeof t)throw new TypeError("must specify a URL");"function"===typeof e&&(n=e,e={});if(n&&"function"!==typeof n)throw new TypeError("expected cb to be undefined or a function");n=n||l;var c=(e=e||{}).json?"json":"text",f=(e=o({responseType:c},e)).headers||{},p=(e.method||"GET").toUpperCase(),d=e.query;d&&("string"!==typeof d&&(d=r.stringify(d)),t=i(t,d));"json"===e.responseType&&a(f,"Accept",u);e.json&&"GET"!==p&&"HEAD"!==p&&(a(f,"Content-Type",u),e.body=JSON.stringify(e.body));return e.method=p,e.url=t,e.headers=f,delete e.query,delete e.json,s(e,n)}},function(t,e){t.exports=function urlSetQuery(t,e){if(e){e=(e=e.trim().replace(/^(\?|#|&)/,""))?"?"+e:e;var n=t.split(/[\?\#]/)[0];e&&/\:\/\/[^\/]*$/.test(n)&&(n+="/");var r=t.match(/(\#.*)$/);t=n+e,r&&(t+=r[0])}return t}},function(t,e){t.exports=function ensureHeader(t,e,n){var r=e.toLowerCase();t[e]||t[r]||(t[e]=n)}},function(t,e,n){var r=n(629),i=n(633),o=function noop(){};t.exports=function xhrRequest(t,e){delete t.uri;var n=!1;"json"===t.responseType&&(t.responseType="text",n=!0);var a=r(t,(function xhrRequestResult(r,a,s){if(n&&!r)try{var u=a.rawRequest.responseText;s=JSON.parse(u)}catch(l){r=l}a=i(t,a),e(r,r?null:s,a),e=o})),s=a.onabort;return a.onabort=function(){var t=s.apply(a,Array.prototype.slice.call(arguments));return e(new Error("XHR Aborted")),e=o,t},a}},function(t,e,n){"use strict";var r=n(85),i=n(242),o=n(630),a=n(116);function initParams(t,e,n){var r=t;return i(e)?(n=e,"string"===typeof t&&(r={uri:t})):r=a(e,{uri:t}),r.callback=n,r}function createXHR(t,e,n){return _createXHR(e=initParams(t,e,n))}function _createXHR(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,n=function cbOnce(n,r,i){e||(e=!0,t.callback(n,r,i))};function getBody(){var t=void 0;if(t=a.response?a.response:a.responseText||function getXml(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(n){}return null}(a),d)try{t=JSON.parse(t)}catch(e){}return t}function errorFunc(t){return clearTimeout(s),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,h)}function loadFunc(){if(!i){var e;clearTimeout(s),e=t.useXDR&&void 0===a.status?200:1223===a.status?204:a.status;var r=h,c=null;return 0!==e?(r={body:getBody(),statusCode:e,method:l,headers:{},url:u,rawRequest:a},a.getAllResponseHeaders&&(r.headers=o(a.getAllResponseHeaders()))):c=new Error("Internal XMLHttpRequest Error"),n(c,r,r.body)}}var r,i,a=t.xhr||null;a||(a=t.cors||t.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var s,u=a.url=t.uri||t.url,l=a.method=t.method||"GET",c=t.body||t.data,f=a.headers=t.headers||{},p=!!t.sync,d=!1,h={body:void 0,headers:{},statusCode:0,method:l,url:u,rawRequest:a};if("json"in t&&!1!==t.json&&(d=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),c=JSON.stringify(!0===t.json?c:t.json))),a.onreadystatechange=function readystatechange(){4===a.readyState&&setTimeout(loadFunc,0)},a.onload=loadFunc,a.onerror=errorFunc,a.onprogress=function(){},a.onabort=function(){i=!0},a.ontimeout=errorFunc,a.open(l,u,!p,t.username,t.password),p||(a.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(s=setTimeout((function(){if(!i){i=!0,a.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",errorFunc(t)}}),t.timeout)),a.setRequestHeader)for(r in f)f.hasOwnProperty(r)&&a.setRequestHeader(r,f[r]);else if(t.headers&&!function isEmpty(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(a),a.send(c||null),a}t.exports=createXHR,createXHR.XMLHttpRequest=r.XMLHttpRequest||function noop(){},createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:r.XDomainRequest,function forEachArray(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){createXHR["delete"===t?"del":t]=function(e,n,r){return(n=initParams(e,n,r)).method=t.toUpperCase(),_createXHR(n)}}))},function(t,e,n){var r=n(631),i=n(632);t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),(function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),o=r(t.slice(n+1));"undefined"===typeof e[i]?e[i]=o:!function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}(e[i])?e[i]=[e[i],o]:e[i].push(o)})),e}},function(t,e){(e=t.exports=function trim(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){var r=n(242);t.exports=function forEach(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);"[object Array]"===i.call(t)?function forEachArray(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&e.call(n,t[r],r,t)}(t,e,n):"string"===typeof t?function forEachString(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}(t,e,n):function forEachObject(t,e,n){for(var r in t)o.call(t,r)&&e.call(n,t[r],r,t)}(t,e,n)};var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty},function(t,e){t.exports=function getResponse(t,e){return e?{statusCode:e.statusCode,headers:e.headers,method:t.method,url:t.url,rawRequest:e.rawRequest?e.rawRequest:e}:null}},function(t,e){t.exports=function extend(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(636),i=n(637),o=n(335);t.exports=function httpStatusError(t){return r("number"===typeof t,"expected http status number"),o(t)?function createError(t){var e=new Error(i[t]+" ("+t+")");return e.statusCode=t,e}(t):null}},function(t,e,n){"use strict";t.exports=function assertOk(t,e){if(!t)throw new Error(e||"Expected true, got "+t)}},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e){t.exports=function SafeParseCallback(t,e,n){2===arguments.length&&(n=e,e=null);var r;try{r=JSON.parse(t,e)}catch(i){return n(i)}n(null,r)}},function(t,e,n){"use strict";t.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},function(t,e,n){"use strict";var r=n(641),i=n(642),o=n(651);t.exports=o(i,r.stringify)},function(t,e,n){"use strict";var r=n(318);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!==typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""))?t.split("&").reduce((function(t,e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t}),{}):{}},e.stringify=function(t){return t?Object.keys(t).sort().map((function(e){var n=t[e];return void 0===n?"":null===n?e:Array.isArray(n)?n.slice().sort().map((function(t){return r(e)+"="+r(t)})).join("&"):r(e)+"="+r(n)})).filter((function(t){return t.length>0})).join("&"):""}},function(t,e,n){"use strict";var r=n(336),i=n(643),o=n(337),a=n(646),s=n(647),u=n(648);function flatten(t,e){return o(e,(function(e,n){return[t+"["+e+"]",u(n)]}))}t.exports=function objectQuery(t){return r(t)?function format(t){return i(t,(function(t,e,n){var i=r(e)?flatten:a;return s(t,i(n,e))}),{})}(t):t}},function(t,e,n){"use strict";var r=n(644);t.exports=function reduce(t,e,n,i){var o=arguments.length>2;return!t||Object.keys(t).length||o?(r(t,(function(t,r,a){o?n=e.call(i,n,t,r,a):(n=t,o=!0)})),n):null}},function(t,e,n){"use strict";var r=n(645),i=Object.prototype.hasOwnProperty;t.exports=function forOwn(t,e,n){r(t,(function(r,o){if(i.call(t,o))return e.call(n,t[o],o,t)}))}},function(t,e,n){"use strict";t.exports=function forIn(t,e,n){for(var r in t)if(!1===e.call(n,t[r],r,t))break}},function(t,e,n){"use strict";t.exports=function objectPair(t,e){var n={};return n[t]=e,n}},function(t,e){t.exports=function extend(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(649),i=n(650);function stringify(t){return i(t,null,"")}t.exports=function print(t){return(function isJson(t){return r(t)||Array.isArray(t)}(t)?stringify:String)(t)}},function(t,e,n){"use strict";var r=n(228);t.exports=function isObject(t){return null!=t&&"object"===typeof t&&!r(t)}},function(t,e){function serializer(t,e){var n=[],r=[];return null==e&&(e=function cycleReplacer(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function stringify(t,e,n,r){return JSON.stringify(t,serializer(e,r),n)}).getSerialize=serializer},function(t,e,n){"use strict";t.exports=function valuePipe(t){if(!t)throw new TypeError("At least one function is required");Array.isArray(t)||(t=Array.prototype.slice.call(arguments));return function valuePipeline(e){for(var n=0;n<t.length;n++)e=t[n](e);return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(338));e.createAnnotation=function createAnnotation(t){if((t=o.AnnotationValidator.validate(t)).error)throw t.error;return t=t.value,i.post("v1/annotations/new",t)},e.getAnnotation=function getAnnotation(t){return i.get("v1/annotations/"+t)},e.updateAnnotation=function updateAnnotation(t,e){return i.patch("v1/annotations/"+t,{data:e})},e.listAnnotations=function listAnnotations(t,e,n){if(!n.length)throw new Error("Invalid or empty dongleId");var r=verifyAnnotationStartEnd(t,e),o=r.start,a=r.end;return i.get("v1/devices/"+n+"/annotations/",{from:o,to:a})},e.listMyAnnotations=function listMyAnnotations(t,e){var n=verifyAnnotationStartEnd(t,e),r=n.start,o=n.end;return i.get("v1/me/annotations/",{from:r,to:o})};var i=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102)),o=n(655);function verifyAnnotationStartEnd(t,e){if(t=Number(t),e=Number(e),!(0,r.default)(t))throw new Error("Invalid start time");if(!(0,r.default)(e))throw new Error("Invalid end time");return{start:t,end:e}}},function(t,e,n){n(654),t.exports=n(56).Number.isFinite},function(t,e,n){var r=n(82),i=n(69).isFinite;r(r.S,"Number",{isFinite:function isFinite(t){return"number"==typeof t&&i(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(656);e.AnnotationValidator=r.object().keys({canonical_segment_name:r.string().required(),offset_nanos_part:r.number().required(),offset_millis:r.number().required(),start_time_utc_millis:r.number().required(),end_time_utc_millis:r.number().required(),type:r.string().required(),data:r.object().keys({reason:r.string().required(),comment:r.string().allow("").optional()})})},function(t,e,n){!function webpackUniversalModuleDefinition(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=32)}([function(t,e,n){"use strict";(function(t,r){var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(17),a=n(15),s=n(37),u=n(16),l=n(18),c={};e.clone=function(n,r){if("object"!==("undefined"===typeof n?"undefined":i(n))||null===n)return n;var o=(r=r||new Map).get(n);if(o)return o;var a=void 0,s=!1;if(Array.isArray(n))a=[],s=!0;else if(t.isBuffer(n))a=t.from(n);else if(n instanceof Date)a=new Date(n.getTime());else if(n instanceof RegExp)a=new RegExp(n);else{var u=Object.getPrototypeOf(n);u&&u.isImmutable?a=n:(a=Object.create(u),s=!0)}if(r.set(n,a),s)for(var l=Object.getOwnPropertyNames(n),c=0;c<l.length;++c){var f=l[c],p=Object.getOwnPropertyDescriptor(n,f);p&&(p.get||p.set)?Object.defineProperty(a,f,p):a[f]=e.clone(n[f],r)}return a},e.merge=function(n,r,o,a){if(e.assert(n&&"object"===("undefined"===typeof n?"undefined":i(n)),"Invalid target value: must be an object"),e.assert(null===r||void 0===r||"object"===("undefined"===typeof r?"undefined":i(r)),"Invalid source value: must be null, undefined, or an object"),!r)return n;if(Array.isArray(r)){e.assert(Array.isArray(n),"Cannot merge array onto an object"),!1===a&&(n.length=0);for(var s=0;s<r.length;++s)n.push(e.clone(r[s]));return n}for(var u=Object.keys(r),l=0;l<u.length;++l){var c=u[l];if("__proto__"!==c){var f=r[c];f&&"object"===("undefined"===typeof f?"undefined":i(f))?!n[c]||"object"!==i(n[c])||Array.isArray(n[c])!==Array.isArray(f)||f instanceof Date||t.isBuffer(f)||f instanceof RegExp?n[c]=e.clone(f):e.merge(n[c],f,o,a):null!==f&&void 0!==f?n[c]=f:!1!==o&&(n[c]=f)}}return n},e.applyToDefaults=function(t,n,r){if(e.assert(t&&"object"===("undefined"===typeof t?"undefined":i(t)),"Invalid defaults value: must be an object"),e.assert(!n||!0===n||"object"===("undefined"===typeof n?"undefined":i(n)),"Invalid options value: must be true, falsy or an object"),!n)return null;var o=e.clone(t);return!0===n?o:e.merge(o,n,!0===r,!1)},e.cloneWithShallow=function(t,n){if(!t||"object"!==("undefined"===typeof t?"undefined":i(t)))return t;var r=c.store(t,n),o=e.clone(t);return c.restore(o,t,r),o},c.store=function(t,n){for(var r={},i=0;i<n.length;++i){var o=n[i],a=e.reach(t,o);void 0!==a&&(r[o]=a,c.reachSet(t,o,void 0))}return r},c.restore=function(t,e,n){for(var r=Object.keys(n),i=0;i<r.length;++i){var o=r[i];c.reachSet(t,o,n[o]),c.reachSet(e,o,n[o])}},c.reachSet=function(t,e,n){for(var r=e.split("."),i=t,o=0;o<r.length;++o){var a=r[o];o+1===r.length&&(i[a]=n),i=i[a]}},e.applyToDefaultsWithShallow=function(t,n,r){if(e.assert(t&&"object"===("undefined"===typeof t?"undefined":i(t)),"Invalid defaults value: must be an object"),e.assert(!n||!0===n||"object"===("undefined"===typeof n?"undefined":i(n)),"Invalid options value: must be true, falsy or an object"),e.assert(r&&Array.isArray(r),"Invalid keys"),!n)return null;var o=e.cloneWithShallow(t,r);if(!0===n)return o;var a=c.store(n,r);return e.merge(o,n,!1,!1),c.restore(o,n,a),o},e.deepEqual=function(n,r,o,a){o=o||{prototype:!0};var s="undefined"===typeof n?"undefined":i(n);if(s!==("undefined"===typeof r?"undefined":i(r)))return!1;if("object"!==s||null===n||null===r)return n===r?0!==n||1/n===1/r:n!==n&&r!==r;if(-1!==(a=a||[]).indexOf(n))return!0;if(a.push(n),Array.isArray(n)){if(!Array.isArray(r))return!1;if(!o.part&&n.length!==r.length)return!1;for(var u=0;u<n.length;++u){if(o.part){for(var l=!1,c=0;c<r.length;++c)if(e.deepEqual(n[u],r[c],o)){l=!0;break}return l}if(!e.deepEqual(n[u],r[u],o))return!1}return!0}if(t.isBuffer(n)){if(!t.isBuffer(r))return!1;if(n.length!==r.length)return!1;for(var f=0;f<n.length;++f)if(n[f]!==r[f])return!1;return!0}if(n instanceof Date)return r instanceof Date&&n.getTime()===r.getTime();if(n instanceof RegExp)return r instanceof RegExp&&n.toString()===r.toString();if(o.prototype&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(r))return!1;var p=Object.getOwnPropertyNames(n);if(!o.part&&p.length!==Object.getOwnPropertyNames(r).length)return!1;for(var d=0;d<p.length;++d){var h=p[d],g=Object.getOwnPropertyDescriptor(n,h);if(g.get){if(!e.deepEqual(g,Object.getOwnPropertyDescriptor(r,h),o,a))return!1}else if(!e.deepEqual(n[h],r[h],o,a))return!1}return!0},e.unique=function(t,e){var n=void 0;if(e){n=[];var r=new Set;t.forEach((function(t){var i=t[e];r.has(i)||(r.add(i),n.push(t))}))}else n=Array.from(new Set(t));return n},e.mapToObject=function(t,e){if(!t)return null;for(var n={},r=0;r<t.length;++r)e?t[r][e]&&(n[t[r][e]]=!0):n[t[r]]=!0;return n},e.intersect=function(t,n,r){if(!t||!n)return[];for(var i=[],o=Array.isArray(t)?e.mapToObject(t):t,a={},s=0;s<n.length;++s)if(o[n[s]]&&!a[n[s]]){if(r)return n[s];i.push(n[s]),a[n[s]]=!0}return r?null:i},e.contain=function(t,n,r){var o=null;"object"!==("undefined"===typeof t?"undefined":i(t))||"object"!==("undefined"===typeof n?"undefined":i(n))||Array.isArray(t)||Array.isArray(n)?n=[].concat(n):(o=n,n=Object.keys(n)),r=r||{},e.assert("string"===typeof t||"object"===("undefined"===typeof t?"undefined":i(t)),"Reference must be string or an object"),e.assert(n.length,"Values array cannot be empty");var a=void 0,s=void 0;if(r.deep){a=e.deepEqual;var u=r.hasOwnProperty("only"),l=r.hasOwnProperty("part");s={prototype:u?r.only:!!l&&!r.part,part:u?!r.only:!l||r.part}}else a=function compare(t,e){return t===e};for(var c=!1,f=new Array(n.length),p=0;p<f.length;++p)f[p]=0;if("string"===typeof t){for(var d="(",h=0;h<n.length;++h){var g=n[h];e.assert("string"===typeof g,"Cannot compare string reference to non-string value"),d+=(h?"|":"")+e.escapeRegex(g)}var y=new RegExp(d+")","g");c=!!t.replace(y,(function(t,e){var r=n.indexOf(e);return++f[r],""}))}else if(Array.isArray(t))for(var m=0;m<t.length;++m){for(var v=!1,_=0;_<n.length&&!1===v;++_)v=a(n[_],t[m],s)&&_;!1!==v?++f[v]:c=!0}else for(var b=Object.getOwnPropertyNames(t),S=0;S<b.length;++S){var E=b[S],x=n.indexOf(E);if(-1!==x){if(o&&!a(o[E],t[E],s))return!1;++f[x]}else c=!0}for(var w=!1,T=0;T<f.length;++T)if(w=w||!!f[T],r.once&&f[T]>1||!r.part&&!f[T])return!1;return(!r.only||!c)&&w},e.flatten=function(t,n){for(var r=n||[],i=0;i<t.length;++i)Array.isArray(t[i])?e.flatten(t[i],r):r.push(t[i]);return r},e.reach=function(t,n,r){if(!1===n||null===n||"undefined"===typeof n)return t;"string"===typeof(r=r||{})&&(r={separator:r});for(var o=n.split(r.separator||"."),a=t,s=0;s<o.length;++s){var u=o[s];if("-"===u[0]&&Array.isArray(a)&&(u=u.slice(1,u.length),u=a.length-u),!a||"object"!==("undefined"===typeof a?"undefined":i(a))&&"function"!==typeof a||!(u in a)||"object"!==("undefined"===typeof a?"undefined":i(a))&&!1===r.functions){e.assert(!r.strict||s+1===o.length,"Missing segment",u,"in reach path ",n),e.assert("object"===("undefined"===typeof a?"undefined":i(a))||!0===r.functions||"function"!==typeof a,"Invalid segment",u,"in reach path ",n),a=r.default;break}a=a[u]}return a},e.reachTemplate=function(t,n,r){return n.replace(/{([^}]+)}/g,(function(n,i){var o=e.reach(t,i,r);return void 0===o||null===o?"":o}))},e.formatStack=function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push([r.getFileName(),r.getLineNumber(),r.getColumnNumber(),r.getFunctionName(),r.isConstructor()])}return e},e.formatTrace=function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push((r[4]?"new ":"")+r[3]+" ("+r[0]+":"+r[1]+":"+r[2]+")")}return e},e.callStack=function(t){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var r={};Error.captureStackTrace(r,this);var i=r.stack;return Error.prepareStackTrace=n,e.formatStack(i).slice(1+t)},e.displayStack=function(t){var n=e.callStack(void 0===t?1:t+1);return e.formatTrace(n)},e.abortThrow=!1,e.abort=function(t,n){if("test"===r.env.NODE_ENV||!0===e.abortThrow)throw new Error(t||"Unknown error");var i="";n||(i=e.displayStack(1).join("\n\t")),console.log("ABORT: "+t+"\n\t"+i),r.exit(1)},e.assert=function(t){if(!t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];var a=r.filter((function(t){return""!==t})).map((function(t){return"string"===typeof t?t:t instanceof Error?t.message:e.stringify(t)}));throw new o.AssertionError({message:a.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:e.assert})}},e.Bench=function(){this.ts=0,this.reset()},e.Bench.prototype.reset=function(){this.ts=e.Bench.now()},e.Bench.prototype.elapsed=function(){return e.Bench.now()-this.ts},e.Bench.now=function(){var t=r.hrtime();return 1e3*t[0]+t[1]/1e6},e.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},e.base64urlEncode=function(n,r){return e.assert("string"===typeof n||t.isBuffer(n),"value must be string or buffer"),(t.isBuffer(n)?n:t.from(n,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},e.base64urlDecode=function(e,n){if("string"!==typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");var r=t.from(e,"base64");return"buffer"===n?r:r.toString(n||"binary")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},e.escapeHtml=function(t){return l.escapeHtml(t)},e.escapeJavaScript=function(t){return l.escapeJavaScript(t)},e.escapeJson=function(t){return l.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;var e=!1,n=function wrapped(){if(!e){e=!0;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(null,r)}};return n._hoekOnce=!0,n},e.isInteger=Number.isSafeInteger,e.ignore=function(){},e.inherits=u.inherits,e.format=u.format,e.transform=function(t,n,r){e.assert(null===t||void 0===t||"object"===("undefined"===typeof t?"undefined":i(t))||Array.isArray(t),"Invalid source object: must be null, undefined, an object, or an array");var o="object"===("undefined"===typeof r?"undefined":i(r))&&null!==r&&r.separator||".";if(Array.isArray(t)){for(var a=[],s=0;s<t.length;++s)a.push(e.transform(t[s],n,r));return a}for(var u={},l=Object.keys(n),c=0;c<l.length;++c){var f=l[c],p=f.split(o),d=n[f];e.assert("string"===typeof d,'All mappings must be "." delineated strings');for(var h=void 0,g=u;p.length>1;)g[h=p.shift()]||(g[h]={}),g=g[h];g[h=p.shift()]=e.reach(t,d,r)}return u},e.uniqueFilename=function(t,e){e=e?"."!==e[0]?"."+e:e:"",t=s.resolve(t);var n=[Date.now(),r.pid,a.randomBytes(8).toString("hex")].join("-")+e;return s.join(t,n)},e.stringify=function(){try{for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return JSON.stringify.apply(null,e)}catch(r){return"[Cannot display object: "+r.message+"]"}},e.shallow=function(t){for(var e={},n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];e[i]=t[i]}return e},e.wait=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.block=function(){return new Promise(e.ignore)}}).call(e,n(3).Buffer,n(7))},function(t,e,n){"use strict";var r=n(0);e.create=function(t,e){r.assert("string"===typeof t,"Invalid reference key:",t);var n=r.clone(e),i=function ref(t,e){return r.reach(ref.isContext?e.context:t,ref.key,n)};return i.isContext=t[0]===(n&&n.contextPrefix||"$"),i.key=i.isContext?t.slice(1):t,i.path=i.key.split(n&&n.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},e.isRef=function(t){return"function"===typeof t&&t.isJoi},e.push=function(t,n){e.isRef(n)&&!n.isContext&&t.push(n.root)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var o=n(0),a=n(11),s=n(1),u=n(6),l=null,c=null,f={Set:n(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};t.exports=f.Any=function(){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class),c=c||n(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new f.Set,this._invalids=new f.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return _class.prototype._init=function _init(){return this},_class.prototype.createError=function createError(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return u.create(t,e,n,r,i)},_class.prototype.createOverrideError=function createOverrideError(t,e,n,r,i,o){return u.create(t,e,n,r,this._flags,i,o)},_class.prototype.checkOptions=function checkOptions(t){var e=n(21).options.validate(t);if(e.error)throw new Error(e.error.details[0].message)},_class.prototype.clone=function clone(){var t=Object.create(Object.getPrototypeOf(this));t.isJoi=!0,t._currentJoi=this._currentJoi,t._type=this._type,t._settings=this._settings,t._baseType=this._baseType,t._valids=this._valids.slice(),t._invalids=this._invalids.slice(),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=o.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};for(var e=Object.keys(this._inner),n=0;n<e.length;++n){var r=e[n];t._inner[r]=this._inner[r]?this._inner[r].slice():null}return t},_class.prototype.concat=function concat(t){o.assert(t instanceof f.Any,"Invalid schema object"),o.assert("any"===this._type||"any"===t._type||t._type===this._type,"Cannot merge type",this._type,"with another type:",t._type);var e=this.clone();if("any"===this._type&&"any"!==t._type){for(var n=t.clone(),r=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],i=0;i<r.length;++i)n[r[i]]=e[r[i]];e=n}e._settings=e._settings?a.concat(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests=e._tests.concat(t._tests),e._refs=e._refs.concat(t._refs),o.merge(e._flags,t._flags),e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes=e._notes.concat(t._notes),e._tags=e._tags.concat(t._tags),e._examples=e._examples.concat(t._examples),e._meta=e._meta.concat(t._meta);for(var s=Object.keys(t._inner),u="object"===e._type,l=0;l<s.length;++l){var c=s[l],p=t._inner[c];if(p){var d=e._inner[c];if(d)if(u&&"children"===c){for(var h={},g=0;g<d.length;++g)h[d[g].key]=g;for(var y=0;y<p.length;++y){var m=p[y].key;h[m]>=0?d[h[m]]={key:m,schema:d[h[m]].schema.concat(p[y].schema)}:d.push(p[y])}}else e._inner[c]=e._inner[c].concat(p);else e._inner[c]=p.slice()}}return e},_class.prototype._test=function _test(t,e,n,r){var i=this.clone();return i._tests.push({func:n,name:t,arg:e,options:r}),i},_class.prototype.options=function options(t){o.assert(!t.context,"Cannot override context"),this.checkOptions(t);var e=this.clone();return e._settings=a.concat(e._settings,t),e},_class.prototype.strict=function strict(t){var e=this.clone(),n=void 0!==t&&!t;return e._settings=a.concat(e._settings,{convert:n}),e},_class.prototype.raw=function raw(t){var e=void 0===t||t;if(this._flags.raw===e)return this;var n=this.clone();return n._flags.raw=e,n},_class.prototype.error=function error(t){o.assert(t&&(t instanceof Error||"function"===typeof t),"Must provide a valid Error object or a function");var e=this.clone();return e._flags.error=t,e},_class.prototype.allow=function allow(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var a=e[i];o.assert(void 0!==a,"Cannot call allow/valid/invalid with undefined"),r._invalids.remove(a),r._valids.add(a,r._refs)}return r},_class.prototype.valid=function valid(){var t=this.allow.apply(this,arguments);return t._flags.allowOnly=!0,t},_class.prototype.invalid=function invalid(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var a=e[i];o.assert(void 0!==a,"Cannot call allow/valid/invalid with undefined"),r._valids.remove(a),r._invalids.add(a,r._refs)}return r},_class.prototype.required=function required(){if("required"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="required",t},_class.prototype.optional=function optional(){if("optional"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="optional",t},_class.prototype.forbidden=function forbidden(){if("forbidden"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="forbidden",t},_class.prototype.strip=function strip(){if(this._flags.strip)return this;var t=this.clone();return t._flags.strip=!0,t},_class.prototype.applyFunctionToChildren=function applyFunctionToChildren(t,e,n,r){if(1!==(t=[].concat(t)).length||""!==t[0]){r=r?r+".":"";var i=(""===t[0]?t.slice(1):t).map((function(t){return r+t}));throw new Error("unknown key(s) "+i.join(", "))}return this[e].apply(this,n)},_class.prototype.default=function _default(t,e){"function"!==typeof t||s.isRef(t)||(!t.description&&e&&(t.description=e),this._flags.func||o.assert("string"===typeof t.description&&t.description.length>0,"description must be provided when default value is a function"));var n=this.clone();return n._flags.default=t,s.push(n._refs,t),n},_class.prototype.empty=function empty(t){var e=this.clone();return void 0===t?delete e._flags.empty:e._flags.empty=c.schema(this._currentJoi,t),e},_class.prototype.when=function when(t,e){o.assert(e&&"object"===("undefined"===typeof e?"undefined":r(e)),"Invalid options"),o.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var i=e.hasOwnProperty("then")?this.concat(c.schema(this._currentJoi,e.then)):void 0,a=e.hasOwnProperty("otherwise")?this.concat(c.schema(this._currentJoi,e.otherwise)):void 0;l=l||n(10);var s={then:i,otherwise:a};Object.prototype.hasOwnProperty.call(e,"is")&&(s.is=e.is);var u=l.when(t,s);return u._flags.presence="ignore",u._baseType=this,u},_class.prototype.description=function description(t){o.assert(t&&"string"===typeof t,"Description must be a non-empty string");var e=this.clone();return e._description=t,e},_class.prototype.notes=function notes(t){o.assert(t&&("string"===typeof t||Array.isArray(t)),"Notes must be a non-empty string or array");var e=this.clone();return e._notes=e._notes.concat(t),e},_class.prototype.tags=function tags(t){o.assert(t&&("string"===typeof t||Array.isArray(t)),"Tags must be a non-empty string or array");var e=this.clone();return e._tags=e._tags.concat(t),e},_class.prototype.meta=function meta(t){o.assert(void 0!==t,"Meta cannot be undefined");var e=this.clone();return e._meta=e._meta.concat(t),e},_class.prototype.example=function example(){o.assert(1===arguments.length,"Missing example");var t=arguments.length<=0?void 0:arguments[0],e=this.clone();return e._examples.push(t),e},_class.prototype.unit=function unit(t){o.assert(t&&"string"===typeof t,"Unit name must be a non-empty string");var e=this.clone();return e._unit=t,e},_class.prototype._prepareEmptyValue=function _prepareEmptyValue(t){return"string"===typeof t&&this._flags.trim?t.trim():t},_class.prototype._validate=function _validate(t,e,n,r){var i=this,l=t;e=e||{key:"",path:[],parent:null,reference:r},this._settings&&(n=a.concat(n,this._settings));var c=[],p=function finish(){var r=void 0;if(void 0!==t)r=i._flags.raw?l:t;else if(n.noDefaults)r=t;else if(s.isRef(i._flags.default))r=i._flags.default(e.parent,n);else if("function"!==typeof i._flags.default||i._flags.func&&!i._flags.default.description)r=o.clone(i._flags.default);else{var a=void 0;null!==e.parent&&i._flags.default.length>0&&(a=[o.clone(e.parent),n]);var u=f._try(i._flags.default,a);r=u.value,u.error&&c.push(i.createError("any.default",{error:u.error},e,n))}if(c.length&&"function"===typeof i._flags.error){var p=i._flags.error.call(i,c);c="string"===typeof p?[i.createOverrideError("override",{reason:c},e,n,p)]:[].concat(p).map((function(t){return t instanceof Error?t:i.createOverrideError(t.type||"override",t.context,e,n,t.message,t.template)}))}return{value:i._flags.strip?void 0:r,finalValue:r,errors:c.length?c:null}};if(this._coerce){var d=this._coerce.call(this,t,e,n);if(d.errors)return t=d.value,c=c.concat(d.errors),p();t=d.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(t),null,f.defaults).errors&&(t=void 0);var h=this._flags.presence||n.presence;if("optional"===h){if(void 0===t){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return p();t={}}}else{if("required"===h&&void 0===t)return c.push(this.createError("any.required",null,e,n)),p();if("forbidden"===h)return void 0===t?p():(c.push(this.createError("any.unknown",null,e,n)),p())}if(this._valids.has(t,e,n,this._flags.insensitive))return p();if(this._invalids.has(t,e,n,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,n)),n.abortEarly||void 0===t))return p();if(this._base){var g=this._base.call(this,t,e,n);if(g.errors)return t=g.value,c=c.concat(g.errors),p();if(g.value!==t){if(t=g.value,this._valids.has(t,e,n,this._flags.insensitive))return p();if(this._invalids.has(t,e,n,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,n)),n.abortEarly))return p()}}if(this._flags.allowOnly&&(c.push(this.createError("any.allowOnly",{value:t,valids:this._valids.values({stripUndefined:!0})},e,n)),n.abortEarly))return p();for(var y=0;y<this._tests.length;++y){var m=this._tests[y].func.call(this,t,e,n);if(m instanceof u.Err){if(c.push(m),n.abortEarly)return p()}else t=m}return p()},_class.prototype._validateWithOptions=function _validateWithOptions(t,e,n){e&&this.checkOptions(e);var r=a.concat(f.defaults,e),i=this._validate(t,null,r),o=u.process(i.errors,t);return n?n(o,i.value):{error:o,value:i.value,then:function then(t,e){return o?Promise.reject(o).catch(e):Promise.resolve(i.value).then(t)},catch:function _catch(t){return o?Promise.reject(o).catch(t):Promise.resolve(i.value)}}},_class.prototype.validate=function validate(t,e,n){return"function"===typeof e?this._validateWithOptions(t,null,e):this._validateWithOptions(t,e,n)},_class.prototype.describe=function describe(){var t=this,e={type:this._type},n=Object.keys(this._flags);if(n.length)if(["empty","default","lazy","label"].some((function(e){return t._flags.hasOwnProperty(e)}))){e.flags={};for(var r=0;r<n.length;++r){var i=n[r];"empty"===i?e.flags[i]=this._flags[i].describe():"default"===i?s.isRef(this._flags[i])?e.flags[i]=this._flags[i].toString():"function"===typeof this._flags[i]?e.flags[i]={description:this._flags[i].description,function:this._flags[i]}:e.flags[i]=this._flags[i]:"lazy"===i||"label"===i||(e.flags[i]=this._flags[i])}}else e.flags=this._flags;this._settings&&(e.options=o.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var a=this._valids.values();a.length&&(e.valids=a.map((function(t){return s.isRef(t)?t.toString():t})));var u=this._invalids.values();u.length&&(e.invalids=u.map((function(t){return s.isRef(t)?t.toString():t}))),e.rules=[];for(var l=0;l<this._tests.length;++l){var c=this._tests[l],f={name:c.name};void 0!==c.arg&&(f.arg=s.isRef(c.arg)?c.arg.toString():c.arg);var p=c.options;if(p){if(p.hasRef){f.arg={};for(var d=Object.keys(c.arg),h=0;h<d.length;++h){var g=d[h],y=c.arg[g];f.arg[g]=s.isRef(y)?y.toString():y}}"string"===typeof p.description?f.description=p.description:"function"===typeof p.description&&(f.description=p.description(f.arg))}e.rules.push(f)}e.rules.length||delete e.rules;var m=this._getLabel();return m&&(e.label=m),e},_class.prototype.label=function label(t){o.assert(t&&"string"===typeof t,"Label name must be a non-empty string");var e=this.clone();return e._flags.label=t,e},_class.prototype._getLabel=function _getLabel(t){return this._flags.label||t},i(_class,[{key:"schemaType",get:function get(){return this._type}}]),_class}(),f.Any.prototype.isImmutable=!0,f.Any.prototype.only=f.Any.prototype.equal=f.Any.prototype.valid,f.Any.prototype.disallow=f.Any.prototype.not=f.Any.prototype.invalid,f.Any.prototype.exist=f.Any.prototype.required,f._try=function(t,e){var n=void 0,r=void 0;try{r=t.apply(null,e)}catch(i){n=i}return{value:r,error:n}}},function(t,e,n){"use strict";(function(t){var r=n(33),i=n(34),o=n(35);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,n){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,n)}function from(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e);return t}(t,e,n,r):"string"===typeof e?function fromString(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(e,n),i=(t=createBuffer(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function fromObject(t,e){if(Buffer.isBuffer(e)){var n=0|checked(e.length);return 0===(t=createBuffer(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||function isnan(t){return t!==t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&o(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function fromArrayLike(t,e){var n=e.length<0?0:0|checked(e.length);t=createBuffer(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(t).length;default:if(r)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),r=!0}}function slowToString(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,n);case"utf8":case"utf-8":return utf8Slice(this,e,n);case"ascii":return asciiSlice(this,e,n);case"latin1":case"binary":return latin1Slice(this,e,n);case"base64":return base64Slice(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function swap(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function bidirectionalIndexOf(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=Buffer.from(e,r)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,n,r,i);if("number"===typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):arrayIndexOf(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function read(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(read(t,o)===read(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(read(t,o+f)!==read(e,f)){c=!1;break}if(c)return o}return-1}function hexWrite(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function utf8Write(t,e,n,r){return blitBuffer(utf8ToBytes(e,t.length-n),t,n,r)}function asciiWrite(t,e,n,r){return blitBuffer(function asciiToBytes(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function latin1Write(t,e,n,r){return asciiWrite(t,e,n,r)}function base64Write(t,e,n,r){return blitBuffer(base64ToBytes(e),t,n,r)}function ucs2Write(t,e,n,r){return blitBuffer(function utf16leToBytes(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function base64Slice(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function utf8Slice(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,u,l,c=t[i],f=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(f=c);break;case 2:128===(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)>127&&(f=l);break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=t[i+1],s=t[i+2],u=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&u)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(f=l)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=p}return function decodeCodePointsArray(t){var e=t.length;if(e<=a)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=a));return n}(r)}e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,n){return from(null,t,e,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,n){return function alloc(t,e,n,r){return assertSize(e),e<=0?createBuffer(t,e):void 0!==n?"string"===typeof r?createBuffer(t,e).fill(n,r):createBuffer(t,e).fill(n):createBuffer(t,e)}(null,t,e,n)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Buffer.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,n,r,i){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(t,e,n){return-1!==this.indexOf(t,e,n)},Buffer.prototype.indexOf=function indexOf(t,e,n){return bidirectionalIndexOf(this,t,e,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,n){return bidirectionalIndexOf(this,t,e,n,!1)},Buffer.prototype.write=function write(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,t,e,n);case"utf8":case"utf-8":return utf8Write(this,t,e,n);case"ascii":return asciiWrite(this,t,e,n);case"latin1":case"binary":return latin1Write(this,t,e,n);case"base64":return base64Write(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function asciiSlice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function latin1Slice(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function hexSlice(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=toHex(t[o]);return i}function utf16leSlice(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,n,r,i,o){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function checkIEEE754(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(t,e,n,r,o){return o||checkIEEE754(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function writeDouble(t,e,n,r,o){return o||checkIEEE754(t,0,n,8),i.write(t,e,n,r,52,8),n+8}Buffer.prototype.slice=function slice(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Buffer.prototype;else{var i=e-t;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Buffer.prototype.readUIntLE=function readUIntLE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Buffer.prototype.readUIntBE=function readUIntBE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Buffer.prototype.readIntBE=function readIntBE(t,e,n){t|=0,e|=0,n||checkOffset(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),i.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),i.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),i.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),i.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,n,r){(t=+t,e|=0,n|=0,r)||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,n,r){(t=+t,e|=0,n|=0,r)||checkInt(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Buffer.prototype.writeUInt8=function writeUInt8(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Buffer.prototype.writeIntBE=function writeIntBE(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},Buffer.prototype.writeInt8=function writeInt8(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,n){return t=+t,e|=0,n||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,n){return writeFloat(this,t,e,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,n){return writeFloat(this,t,e,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,n){return writeDouble(this,t,e,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,n){return writeDouble(this,t,e,!1,n)},Buffer.prototype.copy=function copy(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Buffer.prototype.fill=function fill(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function base64ToBytes(t){return r.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(s,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function blitBuffer(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(5))},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),o=n(1);e.schema=function(t,e){return void 0!==e&&null!==e&&"object"===("undefined"===typeof e?"undefined":r(e))?e.isJoi?e:Array.isArray(e)?t.alternatives().try(e):e instanceof RegExp?t.string().regex(e):e instanceof Date?t.date().valid(e):t.object().keys(e):"string"===typeof e?t.string().valid(e):"number"===typeof e?t.number().valid(e):"boolean"===typeof e?t.boolean().valid(e):o.isRef(e)?t.valid(e):(i.assert(null===e,"Invalid schema content:",e),t.valid(null))},e.ref=function(t){return o.isRef(t)?t:o.create(t)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=n(0),o=n(20),a={annotations:Symbol("joi-annotations"),stringify:function(t,n){var i="undefined"===typeof t?"undefined":r(t);if(null===t)return"null";if("string"===i)return t;if(t instanceof e.Err||"function"===i||"symbol"===i)return t.toString();if("object"===i){if(Array.isArray(t)){for(var o="",s=0;s<t.length;++s)o=o+(o.length?", ":"")+a.stringify(t[s],n);return n?"["+o+"]":o}return t.toString()}return JSON.stringify(t)}};e.Err=function(){function _class(t,e,n,r,i,a,s){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class),this.isJoi=!0,this.type=t,this.context=e||{},this.context.key=n.path[n.path.length-1],this.context.label=n.key,this.path=n.path,this.options=r,this.flags=i,this.message=a,this.template=s;var u=this.options.language;this.flags.label?this.context.label=this.flags.label:!u||""!==this.context.label&&null!==this.context.label||(this.context.label=u.root||o.errors.root)}return _class.prototype.toString=function toString(){var t=this;if(this.message)return this.message;var e=void 0;this.template&&(e=this.template);var n=this.options.language;if(void 0===(e=e||i.reach(n,this.type)||i.reach(o.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var r=i.reach(n,"messages.wrapArrays");if("boolean"!==typeof r&&(r=o.errors.messages.wrapArrays),null===e){var s=a.stringify(this.context.reason,r);return r?s.slice(1,-1):s}var u=/\{\{\!?label\}\}/.test(e),l=e.length>2&&"!"===e[0]&&"!"===e[1];if(l&&(e=e.slice(2)),!u&&!l){var c=i.reach(n,"key");e="string"===typeof c?c+e:i.reach(o.errors,"key")+e}return e.replace(/\{\{(\!?)([^}]+)\}\}/g,(function(e,n,o){var s=i.reach(t.context,o),u=a.stringify(s,r);return n&&t.options.escapeHtml?i.escapeHtml(u):u}))},_class}(),e.create=function(t,n,r,i,o,a,s){return new e.Err(t,n,r,i,o,a,s)},e.process=function(t,e){if(!t||!t.length)return null;var n="",r=[],i=function processErrors(t,e){for(var i=0;i<t.length;++i){var o=t[i];if(o instanceof Error)return o;if(o.flags.error&&"function"!==typeof o.flags.error)return o.flags.error;var a=void 0;if(void 0===e&&(a=o.toString(),n=n+(n?". ":"")+a),o.context.reason&&o.context.reason.length){var s=processErrors(o.context.reason,o.path);if(s)return s}else r.push({message:a||o.toString(),path:o.path,type:o.type,context:o.context})}}(t);if(i)return i;var o=new Error(n);return o.isJoi=!0,o.name="ValidationError",o.details=r,o._object=e,o.annotate=a.annotate,o},a.safeStringify=function(t,e){return JSON.stringify(t,a.serializer(),e)},a.serializer=function(){var t=[],e=[],n=function cycleReplacer(n,r){return e[0]===r?"[Circular ~]":"[Circular ~."+t.slice(0,e.indexOf(r)).join(".")+"]"};return function(i,o){if(e.length>0){var s=e.indexOf(this);~s?(e.length=s+1,t.length=s+1,t[s]=i):(e.push(this),t.push(i)),~e.indexOf(o)&&(o=n.call(this,i,o))}else e.push(o);if(o){var u=o[a.annotations];if(u){if(Array.isArray(o)){for(var l=[],c=0;c<o.length;++c)u.errors[c]&&l.push("_$idx$_"+u.errors[c].sort().join(", ")+"_$end$_"),l.push(o[c]);o=l}else{for(var f=Object.keys(u.errors),p=0;p<f.length;++p){var d=f[p];o[d+"_$key$_"+u.errors[d].sort().join(", ")+"_$end$_"]=o[d],o[d]=void 0}for(var h=Object.keys(u.missing),g=0;g<h.length;++g){var y=h[g];o["_$miss$_"+y+"|"+u.missing[y]+"_$end$_"]="__missing__"}}return o}}return o===1/0||o===-1/0||Number.isNaN(o)||"function"===typeof o||"symbol"===("undefined"===typeof o?"undefined":r(o))?"["+o.toString()+"]":o}},a.annotate=function(t){var e=t?"":"\x1b[31m",n=t?"":"\x1b[41m",o=t?"":"\x1b[0m";if("object"!==r(this._object))return this.details[0].message;for(var s=i.clone(this._object||{}),u=this.details.length-1;u>=0;--u)for(var l=u+1,c=this.details[u],f=c.path,p=s,d=0;;++d){var h=f[d];if(p.isImmutable&&(p=p.clone()),!(d+1<f.length&&p[h]&&"string"!==typeof p[h])){var g=p[a.annotations]=p[a.annotations]||{errors:{},missing:{}},y=p[h],m=h||c.context.label;void 0!==y?(g.errors[m]=g.errors[m]||[],g.errors[m].push(l)):g.missing[m]=l;break}p=p[h]}var v=/_\$key\$_([, \d]+)_\$end\$_\"/g,_=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,b=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,S=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,E=a.safeStringify(s,2).replace(v,(function(t,n){return'" '+e+"["+n+"]"+o})).replace(_,(function(t,r,i){return n+'"'+r+'"'+o+e+" ["+i+"]: -- missing --"+o})).replace(b,(function(t,n,r){return"\n"+r+" "+e+"["+n+"]"+o})).replace(S,(function(t,e){return e}));E=E+"\n"+e;for(var x=0;x<this.details.length;++x){E=E+"\n["+(x+1)+"] "+this.details[x].message}return E+=o}},function(t,e){var n,r,i=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{r="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var o,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=a.length;e;){for(o=a,a=[];++u<e;)o&&o[u].run();u=-1,e=a.length}o=null,s=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new Item(t,e)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var i=n(0),o=n(2),a=n(4),s=n(6),u=n(26),l=n(1),c=n(11),f={alternatives:n(10),array:n(22),boolean:n(24),binary:n(23),date:n(12),func:n(25),number:n(27),object:n(13),string:n(28)};f.callWithDefaults=function(t,e){var n;return i.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(t=this._defaults(t)),t._currentJoi=this,(n=t)._init.apply(n,function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))},f.root=function(){var t=new o,e=t.clone();return o.prototype._currentJoi=e,e._currentJoi=e,e.any=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i.assert(0===n.length,"Joi.any() does not allow arguments."),f.callWithDefaults.call(this,t,n)},e.alternatives=e.alt=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.callWithDefaults.call(this,f.alternatives,e)},e.array=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.array() does not allow arguments."),f.callWithDefaults.call(this,f.array,e)},e.boolean=e.bool=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.boolean() does not allow arguments."),f.callWithDefaults.call(this,f.boolean,e)},e.binary=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.binary() does not allow arguments."),f.callWithDefaults.call(this,f.binary,e)},e.date=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.date() does not allow arguments."),f.callWithDefaults.call(this,f.date,e)},e.func=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.func() does not allow arguments."),f.callWithDefaults.call(this,f.func,e)},e.number=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.number() does not allow arguments."),f.callWithDefaults.call(this,f.number,e)},e.object=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.callWithDefaults.call(this,f.object,e)},e.string=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.assert(0===e.length,"Joi.string() does not allow arguments."),f.callWithDefaults.call(this,f.string,e)},e.ref=function(){return l.create.apply(l,arguments)},e.isRef=function(t){return l.isRef(t)},e.validate=function(n){var r,i=(r=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=r?void 0:arguments[r]),o="function"===typeof i?i:null,a=(arguments.length<=1?0:arguments.length-1)-(o?1:0);if(0===a)return t.validate(n,o);var s=2===a?arguments.length<=2?void 0:arguments[2]:{},u=e.compile(arguments.length<=1?void 0:arguments[1]);return u._validateWithOptions(n,s,o)},e.describe=function(){var n=arguments.length?e.compile(arguments.length<=0?void 0:arguments[0]):t;return n.describe()},e.compile=function(t){try{return a.schema(this,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},e.assert=function(t,n,r){e.attempt(t,n,r)},e.attempt=function(t,n,r){var i=e.validate(t,n),o=i.error;if(o){if(!r)throw"function"===typeof o.annotate&&(o.message=o.annotate()),o;if(!(r instanceof Error))throw"function"===typeof o.annotate&&(o.message=r+" "+o.annotate()),o;throw r}return i.value},e.reach=function(t,e){i.assert(t&&t instanceof o,"you must provide a joi schema"),i.assert(Array.isArray(e)||"string"===typeof e,"path must be a string or an array of strings");return function reach(t,e){if(!e.length)return t;var n=t._inner.children;if(n)for(var r=e.shift(),i=0;i<n.length;++i){var o=n[i];if(o.key===r)return reach(o.schema,e)}}(t,"string"===typeof e?e?e.split("."):[]:e.slice())},e.lazy=function(t){return u.set(t)},e.defaults=function(t){var e=this;i.assert("function"===typeof t,"Defaults must be a function");var n=Object.create(this.any());return n=t(n),i.assert(n&&n instanceof this.constructor,"defaults() must return a schema"),r(n,this,n.clone()),n._defaults=function(n){return e._defaults&&(n=e._defaults(n),i.assert(n instanceof e.constructor,"defaults() must return a schema")),n=t(n),i.assert(n instanceof e.constructor,"defaults() must return a schema"),n},n},e.extend=function(){for(var t=this,n=arguments.length,u=Array(n),p=0;p<n;p++)u[p]=arguments[p];var d=i.flatten(u);i.assert(d.length>0,"You need to provide at least one extension"),this.assert(d,e.extensionsSchema);var h=Object.create(this.any());r(h,this);for(var g=function _loop(n){var u=d[n];"function"===typeof u&&(u=u(h)),t.assert(u,e.extensionSchema);var p=(u.base||t.any()).clone(),g=p.constructor,y=function(t){function type(){_classCallCheck(this,type);var e=_possibleConstructorReturn(this,t.call(this));return u.base&&r(e,p),e._type=u.name,u.language&&(e._settings=c.concat(e._settings,{language:_defineProperty({},u.name,u.language)})),e}return _inherits(type,t),type}(g);if(u.coerce&&(y.prototype._coerce=function(t,e,n){if(g.prototype._coerce){var r=g.prototype._coerce.call(this,t,e,n);if(r.errors)return r;t=r.value}var i=u.coerce.call(this,t,e,n);return i instanceof s.Err?{value:t,errors:i}:{value:i}}),u.pre&&(y.prototype._base=function(t,e,n){if(g.prototype._base){var r=g.prototype._base.call(this,t,e,n);if(r.errors)return r;t=r.value}var i=u.pre.call(this,t,e,n);return i instanceof s.Err?{value:t,errors:i}:{value:i}}),u.rules)for(var m=function _loop2(e){var n=u.rules[e],r=n.params?n.params instanceof o?n.params._inner.children.map((function(t){return t.key})):Object.keys(n.params):[],s=n.params?a.schema(t,n.params):null;y.prototype[n.name]=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];if(e.length>r.length)throw new Error("Unexpected number of arguments");for(var u=!1,c={},f=0;f<r.length;++f)c[r[f]]=e[f],!u&&l.isRef(e[f])&&(u=!0);s&&(c=h.attempt(c,s));var p=void 0;if(n.validate){var d=function validate(t,e,r){return n.validate.call(this,c,t,e,r)};p=this._test(n.name,c,d,{description:n.description,hasRef:u})}else p=this.clone();if(n.setup){var g=n.setup.call(p,c);void 0!==g&&(i.assert(g instanceof o,"Setup of extension Joi."+this._type+"()."+n.name+"() must return undefined or a Joi object"),p=g)}return p}},v=0;v<u.rules.length;++v)m(v);u.describe&&(y.prototype.describe=function(){var t=g.prototype.describe.call(this);return u.describe.call(this,t)});var _=new y;h[u.name]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.callWithDefaults.call(this,_,e)}},y=0;y<d.length;++y)g(y);return h},e.extensionSchema=f.object.keys({base:f.object.type(o,"Joi object"),name:f.string.required(),coerce:f.func.arity(3),pre:f.func.arity(3),language:f.object,describe:f.func.arity(1),rules:f.array.items(f.object.keys({name:f.string.required(),setup:f.func.arity(1),validate:f.func.arity(4),params:[f.object.pattern(/.*/,f.object.type(o,"Joi object")),f.object.type(f.object.constructor,"Joi object")],description:[f.string,f.func.arity(1)]}).or("setup","validate"))}).strict(),e.extensionsSchema=f.array.items([f.object,f.func.arity(1)]).strict(),e.version=n(36).version,e},t.exports=f.root()},function(t,e,n){"use strict";(function(e){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(1),o={extendedCheckForValue:function(t,n){var i="undefined"===typeof t?"undefined":r(t);if("object"===i){if(t instanceof Date)return function(e){return e instanceof Date&&t.getTime()===e.getTime()};if(e.isBuffer(t))return function(n){return e.isBuffer(n)&&t.length===n.length&&t.toString("binary")===n.toString("binary")}}else if(n&&"string"===i){var o=t.toLowerCase();return function(t){return"string"===typeof t&&o===t.toLowerCase()}}return null}};t.exports=function(){function InternalSet(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InternalSet),this._set=new Set(t),this._hasRef=!1}return InternalSet.prototype.add=function add(t,e){var n=i.isRef(t);return!n&&this.has(t,null,null,!1)?this:(void 0!==e&&i.push(e,t),this._set.add(t),this._hasRef|=n,this)},InternalSet.prototype.merge=function merge(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t._set[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.add(s)}}catch(h){r=!0,i=h}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var u=!0,l=!1,c=void 0;try{for(var f,p=e._set[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;this.remove(d)}}catch(h){l=!0,c=h}finally{try{!u&&p.return&&p.return()}finally{if(l)throw c}}return this},InternalSet.prototype.remove=function remove(t){return this._set.delete(t),this},InternalSet.prototype.has=function has(t,e,n,r){if(!this._set.size)return!1;var a=this._set.has(t);if(a)return a;var s=o.extendedCheckForValue(t,r);if(!s){if(e&&this._hasRef){var u=!0,l=!1,c=void 0;try{for(var f,p=this._set[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;if(i.isRef(d)&&(t===(d=d(e.reference||e.parent,n))||Array.isArray(d)&&d.includes(t)))return!0}}catch(h){l=!0,c=h}finally{try{!u&&p.return&&p.return()}finally{if(l)throw c}}}return!1}return this._has(t,e,n,s)},InternalSet.prototype._has=function _has(t,e,n,r){var o=!(!e||!this._hasRef),a=function isReallyEqual(e){return t===e||r(e)},s=!0,u=!1,l=void 0;try{for(var c,f=this._set[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value;if(o&&i.isRef(p)&&(p=p(e.reference||e.parent,n),Array.isArray(p))){if(p.find(a))return!0}else if(a(p))return!0}}catch(d){u=!0,l=d}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}return!1},InternalSet.prototype.values=function values(t){if(t&&t.stripUndefined){var values=[],e=!0,n=!1,r=void 0;try{for(var i,o=this._set[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;void 0!==a&&values.push(a)}}catch(s){n=!0,r=s}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return values}return Array.from(this._set)},InternalSet.prototype.slice=function slice(){var t=new InternalSet(this._set);return t._hasRef=this._hasRef,t},InternalSet.prototype.concat=function concat(t){var e=new InternalSet([].concat(_toConsumableArray(this._set),_toConsumableArray(t._set)));return e._hasRef=!!(this._hasRef|t._hasRef),e},InternalSet}()}).call(e,n(3).Buffer)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var i=n(0),o=n(2),a=n(4),s=n(1),u={};u.Alternatives=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="alternatives",e._invalids.remove(null),e._inner.matches=[],e}return _inherits(_class,t),_class.prototype._init=function _init(){return arguments.length?this.try.apply(this,arguments):this},_class.prototype._base=function _base(t,e,n){for(var r=[],i=this._inner.matches.length,o=this._baseType,a=0;a<i;++a){var s=this._inner.matches[a];if(s.schema){var u=s.schema._validate(t,e,n);if(!u.errors)return u;r=r.concat(u.errors)}else{var l=s.peek||s.is,c=s.is?s.ref(e.reference||e.parent,n):t;if(l._validate(c,null,n,e.parent).errors){if(s.otherwise)return s.otherwise._validate(t,e,n)}else if(s.then)return s.then._validate(t,e,n);if(a===i-1&&o)return o._validate(t,e,n)}}return r.length?{errors:this.createError("alternatives.child",{reason:r},e,n)}:{errors:this.createError("alternatives.base",null,e,n)}},_class.prototype.try=function _try(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e=i.flatten(e),i.assert(e.length,"Cannot add other alternatives without at least one schema");for(var r=this.clone(),o=0;o<e.length;++o){var s=a.schema(this._currentJoi,e[o]);s._refs.length&&(r._refs=r._refs.concat(s._refs)),r._inner.matches.push({schema:s})}return r},_class.prototype.when=function when(t,e){var n=!1;i.assert(s.isRef(t)||"string"===typeof t||(n=t instanceof o),"Invalid condition:",t),i.assert(e,"Missing options"),i.assert("object"===("undefined"===typeof e?"undefined":r(e)),"Invalid options"),n?i.assert(!e.hasOwnProperty("is"),'"is" can not be used with a schema condition'):i.assert(e.hasOwnProperty("is"),'Missing "is" directive'),i.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var u=this.clone(),l=void 0;n||(l=a.schema(this._currentJoi,e.is),null!==e.is&&(s.isRef(e.is)||e.is instanceof o)||(l=l.required()));var c={ref:n?null:a.ref(t),peek:n?t:null,is:l,then:void 0!==e.then?a.schema(this._currentJoi,e.then):void 0,otherwise:void 0!==e.otherwise?a.schema(this._currentJoi,e.otherwise):void 0};return u._baseType&&(c.then=c.then&&u._baseType.concat(c.then),c.otherwise=c.otherwise&&u._baseType.concat(c.otherwise)),n||(s.push(u._refs,c.ref),u._refs=u._refs.concat(c.is._refs)),c.then&&c.then._refs&&(u._refs=u._refs.concat(c.then._refs)),c.otherwise&&c.otherwise._refs&&(u._refs=u._refs.concat(c.otherwise._refs)),u._inner.matches.push(c),u},_class.prototype.describe=function describe(){for(var t=o.prototype.describe.call(this),e=[],n=0;n<this._inner.matches.length;++n){var r=this._inner.matches[n];if(r.schema)e.push(r.schema.describe());else{var i=r.is?{ref:r.ref.toString(),is:r.is.describe()}:{peek:r.peek.describe()};r.then&&(i.then=r.then.describe()),r.otherwise&&(i.otherwise=r.otherwise.describe()),e.push(i)}}return t.alternatives=e,t},_class}(o),t.exports=new u.Alternatives},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0);e.concat=function(t,e){if(!e)return t;for(var n=r({},t),o=Object.keys(e),a=0;a<o.length;++a){var s=o[a];"language"===s&&n.hasOwnProperty(s)?n[s]=i.applyToDefaults(n[s],e[s]):n[s]=e[s]}return n}},function(t,e,n){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(2),i=n(1),o=n(0),a={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};a.invalidDate=new Date(""),a.isIsoDate=function(){var t=a.isoDate.toString();return function(e){return e&&e.toString()===t}}(),a.Date=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="date",e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){var r={value:n.convert&&a.Date.toDate(t,this._flags.format,this._flags.timestamp,this._flags.multiplier)||t};if(r.value instanceof Date&&!isNaN(r.value.getTime()))r.errors=null;else if(n.convert){var i=void 0;i=a.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",r.errors=this.createError("date."+i,null,e,n)}else r.errors=this.createError("date.strict",null,e,n);return r},_class.toDate=function toDate(t,e,n,r){if(t instanceof Date)return t;if("string"===typeof t||"number"===typeof t&&!isNaN(t)&&isFinite(t)){"string"===typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=parseFloat(t));var i=void 0;if(i=e&&a.isIsoDate(e)?e.test(t)?new Date(t):a.invalidDate:n&&r?/^\s*$/.test(t)?a.invalidDate:new Date(t*r):new Date(t),!isNaN(i.getTime()))return i}return null},_class.prototype.iso=function iso(){if(this._flags.format===a.isoDate)return this;var t=this.clone();return t._flags.format=a.isoDate,t},_class.prototype.timestamp=function timestamp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",e=["javascript","unix"];if(o.assert(e.includes(t),'"type" must be one of "'+e.join('", "')+'"'),this._flags.timestamp===t)return this;var n=this.clone();return n._flags.timestamp=t,n._flags.multiplier="unix"===t?1e3:1,n},_class.prototype._isIsoDate=function _isIsoDate(t){return a.isoDate.test(t)},_class}(r),a.compare=function(t,e){return function(n){var r="now"===n,s=i.isRef(n);return r||s||(n=a.Date.toDate(n)),o.assert(n,"Invalid date format"),this._test(t,n,(function(i,o,u){var l=void 0;if(r)l=Date.now();else if(s){if(!(l=a.Date.toDate(n(o.reference||o.parent,u))))return this.createError("date.ref",{ref:n.key},o,u);l=l.getTime()}else l=n.getTime();return e(i.getTime(),l)?i:this.createError("date."+t,{limit:new Date(l)},o,u)}))}},a.Date.prototype.min=a.compare("min",(function(t,e){return t>=e})),a.Date.prototype.max=a.compare("max",(function(t,e){return t<=e})),a.Date.prototype.greater=a.compare("greater",(function(t,e){return t>e})),a.Date.prototype.less=a.compare("less",(function(t,e){return t<e})),t.exports=new a.Date},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var i=n(0),o=n(31),a=n(2),s=n(6),u=n(4),l={};l.Object=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="object",e._inner.children=null,e._inner.renames=[],e._inner.dependencies=[],e._inner.patterns=[],e}return _inherits(_class,t),_class.prototype._init=function _init(){return arguments.length?this.keys.apply(this,arguments):this},_class.prototype._base=function _base(t,e,n){var o=t,a=[],u=function finish(){return{value:o,errors:a.length?a:null}};"string"===typeof t&&n.convert&&(t=l.safeParse(t));var c=this._flags.func?"function":"object";if(!t||("undefined"===typeof t?"undefined":r(t))!==c||Array.isArray(t))return a.push(this.createError(c+".base",null,e,n)),u();if(!this._inner.renames.length&&!this._inner.dependencies.length&&!this._inner.children&&!this._inner.patterns.length)return o=t,u();if(o===t){"object"===c?o=Object.create(Object.getPrototypeOf(t)):(o=function target(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}).prototype=i.clone(t.prototype);for(var f=Object.keys(t),p=0;p<f.length;++p)o[f[p]]=t[f[p]]}else o=t;for(var d={},h=0;h<this._inner.renames.length;++h){var g=this._inner.renames[h];if(g.isRegExp){for(var y=Object.keys(o),m=[],v=0;v<y.length;++v)g.from.test(y[v])&&m.push(y[v]);var _=m.every((function(t){return void 0===o[t]}));if(g.options.ignoreUndefined&&_)continue;if(!g.options.multiple&&d[g.to]&&(a.push(this.createError("object.rename.regex.multiple",{from:m,to:g.to},e,n)),n.abortEarly))return u();if(Object.prototype.hasOwnProperty.call(o,g.to)&&!g.options.override&&!d[g.to]&&(a.push(this.createError("object.rename.regex.override",{from:m,to:g.to},e,n)),n.abortEarly))return u();if(_?delete o[g.to]:o[g.to]=o[m[m.length-1]],d[g.to]=!0,!g.options.alias)for(var b=0;b<m.length;++b)delete o[m[b]]}else{if(g.options.ignoreUndefined&&void 0===o[g.from])continue;if(!g.options.multiple&&d[g.to]&&(a.push(this.createError("object.rename.multiple",{from:g.from,to:g.to},e,n)),n.abortEarly))return u();if(Object.prototype.hasOwnProperty.call(o,g.to)&&!g.options.override&&!d[g.to]&&(a.push(this.createError("object.rename.override",{from:g.from,to:g.to},e,n)),n.abortEarly))return u();void 0===o[g.from]?delete o[g.to]:o[g.to]=o[g.from],d[g.to]=!0,g.options.alias||delete o[g.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return u();var S=new Set(Object.keys(o));if(this._inner.children){for(var E=[],x=0;x<this._inner.children.length;++x){var w=this._inner.children[x],T=w.key,P=o[T];S.delete(T);var k={key:T,path:e.path.concat(T),parent:o,reference:e.reference},C=w.schema._validate(P,k,n);if(C.errors){if(a.push(this.createError("object.child",{key:T,child:w.schema._getLabel(T),reason:C.errors},k,n)),n.abortEarly)return u()}else w.schema._flags.strip||void 0===C.value&&C.value!==P?(E.push(T),o[T]=C.finalValue):void 0!==C.value&&(o[T]=C.value)}for(var D=0;D<E.length;++D)delete o[E[D]]}if(S.size&&this._inner.patterns.length){var A=!0,R=!1,M=void 0;try{for(var L,I=S[Symbol.iterator]();!(A=(L=I.next()).done);A=!0)for(var O=L.value,F={key:O,path:e.path.concat(O),parent:o,reference:e.reference},N=o[O],B=0;B<this._inner.patterns.length;++B){var U=this._inner.patterns[B];if(U.regex?U.regex.test(O):!U.schema.validate(O).error){S.delete(O);var z=U.rule._validate(N,F,n);if(z.errors&&(a.push(this.createError("object.child",{key:O,child:U.rule._getLabel(O),reason:z.errors},F,n)),n.abortEarly))return u();o[O]=z.value}}}catch(nt){R=!0,M=nt}finally{try{!A&&I.return&&I.return()}finally{if(R)throw M}}}if(S.size&&(this._inner.children||this._inner.patterns.length)){if(n.stripUnknown&&!0!==this._flags.allowUnknown||n.skipFunctions){var j=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.objects),V=!0,G=!1,W=void 0;try{for(var q,H=S[Symbol.iterator]();!(V=(q=H.next()).done);V=!0){var K=q.value;j?(delete o[K],S.delete(K)):"function"===typeof o[K]&&S.delete(K)}}catch(nt){G=!0,W=nt}finally{try{!V&&H.return&&H.return()}finally{if(G)throw W}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!n.allowUnknown){var Y=!0,X=!1,Z=void 0;try{for(var $,J=S[Symbol.iterator]();!(Y=($=J.next()).done);Y=!0){var Q=$.value;a.push(this.createError("object.allowUnknown",{child:Q},{key:Q,path:e.path.concat(Q)},n,{}))}}catch(nt){X=!0,Z=nt}finally{try{!Y&&J.return&&J.return()}finally{if(X)throw Z}}}}for(var tt=0;tt<this._inner.dependencies.length;++tt){var et=this._inner.dependencies[tt],nt=l[et.type].call(this,null!==et.key&&o[et.key],et.peers,o,{key:et.key,path:null===et.key?e.path:e.path.concat(et.key)},n);if(nt instanceof s.Err&&(a.push(nt),n.abortEarly))return u()}return u()},_class.prototype.keys=function keys(t){i.assert(null===t||void 0===t||"object"===("undefined"===typeof t?"undefined":r(t)),"Object schema must be a valid object"),i.assert(!t||!(t instanceof a),"Object schema cannot be a joi schema");var e=this.clone();if(!t)return e._inner.children=null,e;var n=Object.keys(t);if(!n.length)return e._inner.children=[],e;var s=new o;if(e._inner.children)for(var l=0;l<e._inner.children.length;++l){var c=e._inner.children[l];n.includes(c.key)||s.add(c,{after:c._refs,group:c.key})}for(var f=0;f<n.length;++f){var p=n[f],d=t[p];try{var h=u.schema(this._currentJoi,d);s.add({key:p,schema:h},{after:h._refs,group:p})}catch(g){throw g.hasOwnProperty("path")?g.path=p+"."+g.path:g.path=p,g}}return e._inner.children=s.nodes,e},_class.prototype.append=function append(t){return null===t||void 0===t||0===Object.keys(t).length?this:this.keys(t)},_class.prototype.unknown=function unknown(t){var e=!1!==t;if(this._flags.allowUnknown===e)return this;var n=this.clone();return n._flags.allowUnknown=e,n},_class.prototype.length=function length(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,(function(e,n,r){return Object.keys(e).length===t?e:this.createError("object.length",{limit:t},n,r)}))},_class.prototype.min=function min(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,(function(e,n,r){return Object.keys(e).length>=t?e:this.createError("object.min",{limit:t},n,r)}))},_class.prototype.max=function max(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,(function(e,n,r){return Object.keys(e).length<=t?e:this.createError("object.max",{limit:t},n,r)}))},_class.prototype.pattern=function pattern(t,e){var n=t instanceof RegExp;i.assert(n||t instanceof a,"pattern must be a regex or schema"),i.assert(void 0!==e,"Invalid rule"),n&&(t=new RegExp(t.source,t.ignoreCase?"i":void 0));try{e=u.schema(this._currentJoi,e)}catch(o){throw o.hasOwnProperty("path")&&(o.message=o.message+"("+o.path+")"),o}var r=this.clone();return n?r._inner.patterns.push({regex:t,rule:e}):r._inner.patterns.push({schema:t,rule:e}),r},_class.prototype.schema=function schema(){return this._test("schema",null,(function(t,e,n){return t instanceof a?t:this.createError("object.schema",null,e,n)}))},_class.prototype.with=function _with(t,e){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",t,e)},_class.prototype.without=function without(t,e){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",t,e)},_class.prototype.xor=function xor(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this._dependency("xor",null,e)},_class.prototype.or=function or(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this._dependency("or",null,e)},_class.prototype.and=function and(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this._dependency("and",null,e)},_class.prototype.nand=function nand(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this._dependency("nand",null,e)},_class.prototype.requiredKeys=function requiredKeys(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this.applyFunctionToChildren(e,"required")},_class.prototype.optionalKeys=function optionalKeys(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this.applyFunctionToChildren(e,"optional")},_class.prototype.forbiddenKeys=function forbiddenKeys(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=i.flatten(e),this.applyFunctionToChildren(e,"forbidden")},_class.prototype.rename=function rename(t,e,n){i.assert("string"===typeof t||t instanceof RegExp,"Rename missing the from argument"),i.assert("string"===typeof e,"Rename missing the to argument"),i.assert(e!==t,"Cannot rename key to same name:",t);for(var r=0;r<this._inner.renames.length;++r)i.assert(this._inner.renames[r].from!==t,"Cannot rename the same key multiple times");var o=this.clone();return o._inner.renames.push({from:t,to:e,options:i.applyToDefaults(l.renameDefaults,n||{}),isRegExp:t instanceof RegExp}),o},_class.prototype.applyFunctionToChildren=function applyFunctionToChildren(t,e,n,r){t=[].concat(t),i.assert(t.length>0,"expected at least one children");var o=l.groupChildren(t),a=void 0;if(""in o?(a=this[e].apply(this,n),delete o[""]):a=this.clone(),a._inner.children){r=r?r+".":"";for(var s=0;s<a._inner.children.length;++s){var u=a._inner.children[s],c=o[u.key];c&&(a._inner.children[s]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(c,e,n,r+u.key)},delete o[u.key])}}var f=Object.keys(o);return i.assert(0===f.length,"unknown key(s)",f.join(", ")),a},_class.prototype._dependency=function _dependency(t,e,n){n=[].concat(n);for(var r=0;r<n.length;++r)i.assert("string"===typeof n[r],t,"peers must be a string or array of strings");var o=this.clone();return o._inner.dependencies.push({type:t,key:e,peers:n}),o},_class.prototype.describe=function describe(t){var e=a.prototype.describe.call(this);if(e.rules)for(var n=0;n<e.rules.length;++n){var o=e.rules[n];o.arg&&"object"===r(o.arg)&&o.arg.schema&&o.arg.ref&&(o.arg={schema:o.arg.schema.describe(),ref:o.arg.ref.toString()})}if(this._inner.children&&!t){e.children={};for(var s=0;s<this._inner.children.length;++s){var u=this._inner.children[s];e.children[u.key]=u.schema.describe()}}if(this._inner.dependencies.length&&(e.dependencies=i.clone(this._inner.dependencies)),this._inner.patterns.length){e.patterns=[];for(var l=0;l<this._inner.patterns.length;++l){var c=this._inner.patterns[l];c.regex?e.patterns.push({regex:c.regex.toString(),rule:c.rule.describe()}):e.patterns.push({schema:c.schema.describe(),rule:c.rule.describe()})}}return this._inner.renames.length>0&&(e.renames=i.clone(this._inner.renames)),e},_class.prototype.assert=function assert(t,e,n){t=u.ref(t),i.assert(t.isContext||t.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),n=n||"pass the assertion test";try{e=u.schema(this._currentJoi,e)}catch(a){throw a.hasOwnProperty("path")&&(a.message=a.message+"("+a.path+")"),a}var r=t.path[t.path.length-1],o=t.path.join(".");return this._test("assert",{schema:e,ref:t},(function(a,s,u){if(!e._validate(t(a),null,u,a).errors)return a;var l=i.merge({},s);return l.key=r,l.path=t.path,this.createError("object.assert",{ref:o,message:n},l,u)}))},_class.prototype.type=function type(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name;i.assert("function"===typeof t,"type must be a constructor function");var n={name:e,ctor:t};return this._test("type",n,(function(e,r,i){return e instanceof t?e:this.createError("object.type",{type:n.name},r,i)}))},_class}(a),l.safeParse=function(t){try{return JSON.parse(t)}catch(e){}return t},l.renameDefaults={alias:!1,multiple:!1,override:!1},l.groupChildren=function(t){t.sort();for(var e={},n=0;n<t.length;++n){var r=t[n];i.assert("string"===typeof r,"children must be strings");var o=r.split(".")[0];(e[o]=e[o]||[]).push(r.substring(o.length+1))}return e},l.keysToLabels=function(t,e){var n=t._inner.children;if(!n)return e;var r=function findLabel(t){var e=n.find((function(e){return e.key===t}));return e?e.schema._getLabel(t):t};return Array.isArray(e)?e.map(r):r(e)},l.with=function(t,e,n,r,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var a=e[o];if(!Object.prototype.hasOwnProperty.call(n,a)||void 0===n[a])return this.createError("object.with",{main:r.key,mainWithLabel:l.keysToLabels(this,r.key),peer:a,peerWithLabel:l.keysToLabels(this,a)},r,i)}return t},l.without=function(t,e,n,r,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var a=e[o];if(Object.prototype.hasOwnProperty.call(n,a)&&void 0!==n[a])return this.createError("object.without",{main:r.key,mainWithLabel:l.keysToLabels(this,r.key),peer:a,peerWithLabel:l.keysToLabels(this,a)},r,i)}return t},l.xor=function(t,e,n,r,i){for(var o=[],a=0;a<e.length;++a){var s=e[a];Object.prototype.hasOwnProperty.call(n,s)&&void 0!==n[s]&&o.push(s)}if(1===o.length)return t;var u={peers:e,peersWithLabels:l.keysToLabels(this,e)};return 0===o.length?this.createError("object.missing",u,r,i):this.createError("object.xor",u,r,i)},l.or=function(t,e,n,r,i){for(var o=0;o<e.length;++o){var a=e[o];if(Object.prototype.hasOwnProperty.call(n,a)&&void 0!==n[a])return t}return this.createError("object.missing",{peers:e,peersWithLabels:l.keysToLabels(this,e)},r,i)},l.and=function(t,e,n,r,i){for(var o=[],a=[],s=e.length,u=0;u<s;++u){var c=e[u];Object.prototype.hasOwnProperty.call(n,c)&&void 0!==n[c]?a.push(c):o.push(c)}if(!(o.length===s||a.length===s))return this.createError("object.and",{present:a,presentWithLabels:l.keysToLabels(this,a),missing:o,missingWithLabels:l.keysToLabels(this,o)},r,i)},l.nand=function(t,e,n,r,o){for(var a=[],s=0;s<e.length;++s){var u=e[s];Object.prototype.hasOwnProperty.call(n,u)&&void 0!==n[u]&&a.push(u)}var c=i.clone(e),f=c.splice(0,1)[0];return a.length===e.length?this.createError("object.nand",{main:f,mainWithLabel:l.keysToLabels(this,f),peers:c,peersWithLabels:l.keysToLabels(this,c)},r,o):null},t.exports=new l.Object},function(t,e,n){"use strict";var r={rfc3986:{},generate:function(){var t="|";r.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",r.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var e="a-zA-Z0-9-\\._~",n="!\\$&'\\(\\)\\*\\+,;=",i=e+"%0-9A-Fa-f"+n+":@",o="["+i+"]",a="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";r.rfc3986.IPv4address="(?:"+a+"\\.){3}"+a;var s="[0-9A-Fa-f]{1,4}",u="(?:"+s+":"+s+"|"+r.rfc3986.IPv4address+")",l="(?:"+s+":){6}"+u,c="::(?:"+s+":){5}"+u,f="(?:"+s+")?::(?:"+s+":){4}"+u,p="(?:(?:"+s+":){0,1}"+s+")?::(?:"+s+":){3}"+u,d="(?:(?:"+s+":){0,2}"+s+")?::(?:"+s+":){2}"+u,h="(?:(?:"+s+":){0,3}"+s+")?::"+s+":"+u,g="(?:(?:"+s+":){0,4}"+s+")?::"+u;r.rfc3986.IPv6address="(?:"+l+t+c+t+f+t+p+t+d+t+h+t+g+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",r.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+e+n+":]+",r.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var y="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+r.rfc3986.IPv6address+t+r.rfc3986.IPvFuture+")\\]")+t+r.rfc3986.IPv4address+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",m=o+"+",v="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",_="\\/(?:"+m+v+")?";r.rfc3986.hierPart="(?:(?:\\/\\/"+y+v+")"+t+_+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",r.rfc3986.relativeRef="(?:(?:\\/\\/"+y+v+")"+t+_+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+t+")",r.rfc3986.query="["+i+"\\/\\?]*(?=#|$)",r.rfc3986.fragment="["+i+"\\/\\?]*"}};r.generate(),t.exports=r.rfc3986},function(t,e){},function(t,e,n){(function(t,r){var i=/%[sdj%]/g;e.format=function(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),s=r[n];n<o;s=r[++n])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},e.deprecate=function(n,i){if(isUndefined(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function deprecated(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function inspect(t,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&e._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"\x1b["+inspect.colors[n][0]+"m"+t+"\x1b["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function formatValue(t,n,r){if(t.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return isString(i)||(i=formatValue(t,i,r)),i}var o=function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function arrayToHash(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),isError(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(n);if(0===a.length){if(isFunction(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(isRegExp(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return t.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var l,c="",f=!1,p=["{","}"];(isArray(n)&&(f=!0,p=["[","]"]),isFunction(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return isRegExp(n)&&(c=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(c=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(c=" "+formatError(n)),0!==a.length||f&&0!=n.length?r<0?isRegExp(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=f?function formatArray(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)hasOwnProperty(e,String(a))?o.push(formatProperty(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(t,e,n,r,i,!0))})),o}(t,n,r,s,a):a.map((function(e){return formatProperty(t,n,r,s,e,f)})),t.seen.pop(),function reduceToSingleString(t,e,n){if(t.reduce((function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,c,p)):p[0]+c+p[1]}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatProperty(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=isNull(n)?formatValue(t,u.value,null):formatValue(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"===typeof t}function isNull(t){return null===t}function isNumber(t){return"number"===typeof t}function isString(t){return"string"===typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"===typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(isUndefined(o)&&(o=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=isArray,e.isBoolean=isBoolean,e.isNull=isNull,e.isNullOrUndefined=function isNullOrUndefined(t){return null==t},e.isNumber=isNumber,e.isString=isString,e.isSymbol=function isSymbol(t){return"symbol"===typeof t},e.isUndefined=isUndefined,e.isRegExp=isRegExp,e.isObject=isObject,e.isDate=isDate,e.isError=isError,e.isFunction=isFunction,e.isPrimitive=function isPrimitive(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(40);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),s[t.getMonth()],e].join(" ")}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",timestamp(),e.format.apply(e,arguments))},e.inherits=n(39),e._extend=function(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(5),n(7))},function(t,e,n){"use strict";(function(e){function compare(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function isBuffer(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var r=n(16),i=Object.prototype.hasOwnProperty,o=Array.prototype.slice,a="foo"===function foo(){}.name;function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return!isBuffer(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var s=t.exports=ok,u=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(r.isFunction(t)){if(a)return t.name;var e=t.toString().match(u);return e&&e[1]}}function truncate(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function inspect(t){if(a||!r.isFunction(t))return r.inspect(t);var e=getName(t);return"[Function"+(e?": "+e:"")+"]"}function fail(t,e,n,r,i){throw new s.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function ok(t,e){t||fail(t,!0,e,"==",s.ok)}function _deepEqual(t,e,n,i){if(t===e)return!0;if(isBuffer(t)&&isBuffer(e))return 0===compare(t,e);if(r.isDate(t)&&r.isDate(e))return t.getTime()===e.getTime();if(r.isRegExp(t)&&r.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(isBuffer(t)!==isBuffer(e))return!1;var a=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function objEquiv(t,e,n,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(r.isPrimitive(t)||r.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var a=isArguments(t),s=isArguments(e);if(a&&!s||!a&&s)return!1;if(a)return t=o.call(t),e=o.call(e),_deepEqual(t,e,n);var u,c,f=l(t),p=l(e);if(f.length!==p.length)return!1;for(f.sort(),p.sort(),c=f.length-1;c>=0;c--)if(f[c]!==p[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!_deepEqual(t[u],e[u],n,i))return!1;return!0}(t,e,n,i))}return n?t===e:t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function expectedException(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _throws(t,e,n,i){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(i=n,n=null),o=function _tryBlock(t){var e;try{t()}catch(n){e=n}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!o&&fail(o,n,"Missing expected exception"+i);var a="string"===typeof i,s=!t&&o&&!n;if((!t&&r.isError(o)&&a&&expectedException(o,n)||s)&&fail(o,n,"Got unwanted exception"+i),t&&o&&n&&!expectedException(o,n)||!t&&o)throw o}s.AssertionError=function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=getName(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},r.inherits(s.AssertionError,Error),s.fail=fail,s.ok=ok,s.equal=function equal(t,e,n){t!=e&&fail(t,e,n,"==",s.equal)},s.notEqual=function notEqual(t,e,n){t==e&&fail(t,e,n,"!=",s.notEqual)},s.deepEqual=function deepEqual(t,e,n){_deepEqual(t,e,!1)||fail(t,e,n,"deepEqual",s.deepEqual)},s.deepStrictEqual=function deepStrictEqual(t,e,n){_deepEqual(t,e,!0)||fail(t,e,n,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function notDeepEqual(t,e,n){_deepEqual(t,e,!1)&&fail(t,e,n,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=function notDeepStrictEqual(t,e,n){_deepEqual(t,e,!0)&&fail(t,e,n,"notDeepStrictEqual",notDeepStrictEqual)},s.strictEqual=function strictEqual(t,e,n){t!==e&&fail(t,e,n,"===",s.strictEqual)},s.notStrictEqual=function notStrictEqual(t,e,n){t===e&&fail(t,e,n,"!==",s.notStrictEqual)},s.throws=function(t,e,n){_throws(!0,t,e,n)},s.doesNotThrow=function(t,e,n){_throws(!1,t,e,n)},s.ifError=function(t){if(t)throw t};var l=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e}}).call(e,n(5))},function(t,e,n){"use strict";(function(t){var n={};e.escapeJavaScript=function(t){if(!t)return"";for(var e="",r=0;r<t.length;++r){var i=t.charCodeAt(r);n.isSafe(i)?e+=t[r]:e+=n.escapeJavaScriptChar(i)}return e},e.escapeHtml=function(t){if(!t)return"";for(var e="",r=0;r<t.length;++r){var i=t.charCodeAt(r);n.isSafe(i)?e+=t[r]:e+=n.escapeHtmlChar(i)}return e},e.escapeJson=function(t){if(!t)return"";var e=void 0;return t.replace(/[<>&\u2028\u2029]/g,(function(t){return 60===(e=t.charCodeAt(0))?"\\u003c":62===e?"\\u003e":38===e?"\\u0026":8232===e?"\\u2028":"\\u2029"}))},n.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+n.padLeft(""+e,4);var r=t.from(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+n.padLeft(r,2)},n.escapeHtmlChar=function(e){var r=n.namedHtml[e];if("undefined"!==typeof r)return r;if(e>=256)return"&#"+e+";";var i=t.from(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+n.padLeft(i,2)+";"},n.padLeft=function(t,e){for(;t.length<e;)t="0"+t;return t},n.isSafe=function(t){return"undefined"!==typeof n.safeCharCodes[t]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(e,n(3).Buffer)},function(t,e,n){"use strict";(function(t){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(38),o={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};o.specials=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<'()<>[]:;@\\,."'.length;++e)t['()<>[]:;@\\,."'.codePointAt(e)]=!0;return function(e){return t[e]}}(),o.c0Controls=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<33;++e)t[e]=!0;return function(e){return t[e]}}(),o.c1Controls=function(){var t=new Array(256);t.fill(!1);for(var e=127;e<160;++e)t[e]=!0;return function(e){return t[e]}}(),o.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},o.normalizeSupportsNul="\0"==="\0".normalize("NFC"),o.nulNormalize=function(t){return t.split("\0").map((function(t){return t.normalize("NFC")})).join("\0")},o.normalize=function(t){return!o.normalizeSupportsNul&&t.indexOf("\0")>=0?o.nulNormalize(t):t.normalize("NFC")},o.checkIpV6=function(t){return t.every((function(t){return o.regex.ipV6.test(t)}))},o.validDomain=function(t,e){return e.tldBlacklist?Array.isArray(e.tldBlacklist)?-1===o.indexOf.call(e.tldBlacklist,t):!o.hasOwn.call(e.tldBlacklist,t):Array.isArray(e.tldWhitelist)?-1!==o.indexOf.call(e.tldWhitelist,t):o.hasOwn.call(e.tldWhitelist,t)},e.validate=o.validate=function(e,n,a){n=n||{},e=o.normalize(e),"function"===typeof n&&(a=n,n={}),"function"!==typeof a&&(a=null);var s=void 0,u=void 0;if("number"===typeof n.errorLevel?(s=!0,u=n.errorLevel):(s=!!n.errorLevel,u=o.diagnoses.valid),n.tldWhitelist)if("string"===typeof n.tldWhitelist)n.tldWhitelist=[n.tldWhitelist];else if("object"!==r(n.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(n.tldBlacklist)if("string"===typeof n.tldBlacklist)n.tldBlacklist=[n.tldBlacklist];else if("object"!==r(n.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(n.minDomainAtoms&&(n.minDomainAtoms!==(0|+n.minDomainAtoms)||n.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var l=o.diagnoses.valid,c=function updateResult(t){t>l&&(l=t)};!(void 0===n.allowUnicode||!!n.allowUnicode)&&/[^\x00-\x7f]/.test(e)&&c(o.diagnoses.undesiredNonAscii);for(var f={now:o.components.localpart,prev:o.components.localpart,stack:[o.components.localpart]},p="",d={local:"",domain:""},h={locals:[""],domains:[""]},g=0,y=0,m=0,v=void 0,_=!1,b=!1,S=e.length,E=void 0,x=0;x<S;x+=E.length){switch(E=String.fromCodePoint(e.codePointAt(x)),f.now){case o.components.localpart:switch(E){case"(":0===y?c(0===g?o.diagnoses.cfwsComment:o.diagnoses.deprecatedComment):(c(o.diagnoses.cfwsComment),b=!0),f.stack.push(f.now),f.now=o.components.contextComment;break;case".":0===y?c(0===g?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):(b&&c(o.diagnoses.deprecatedLocalPart),b=!1,y=0,++g,d.local+=E,h.locals[g]="");break;case'"':0===y?(c(0===g?o.diagnoses.rfc5321QuotedString:o.diagnoses.deprecatedLocalPart),d.local+=E,h.locals[g]+=E,y+=t.byteLength(E,"utf8"),b=!0,f.stack.push(f.now),f.now=o.components.contextQuotedString):c(o.diagnoses.errExpectingATEXT);break;case"\r":if(S===++x||"\n"!==e[x]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?c(0===g?o.diagnoses.cfwsFWS:o.diagnoses.deprecatedFWS):b=!0,f.stack.push(f.now),f.now=o.components.contextFWS,p=E;break;case"@":if(1!==f.stack.length)throw new Error("unexpected item on context stack");0===d.local.length?c(o.diagnoses.errNoLocalPart):0===y?c(o.diagnoses.errDotEnd):t.byteLength(d.local,"utf8")>64?c(o.diagnoses.rfc5322LocalTooLong):f.prev!==o.components.contextComment&&f.prev!==o.components.contextFWS||c(o.diagnoses.deprecatedCFWSNearAt),f.now=o.components.domain,f.stack[0]=o.components.domain,g=0,y=0,b=!1;break;default:if(b)switch(f.prev){case o.components.contextComment:case o.components.contextFWS:c(o.diagnoses.errATEXTAfterCFWS);break;case o.components.contextQuotedString:c(o.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}else f.prev=f.now,v=E.codePointAt(0),(o.specials(v)||o.c0Controls(v)||o.c1Controls(v))&&c(o.diagnoses.errExpectingATEXT),d.local+=E,h.locals[g]+=E,y+=t.byteLength(E,"utf8")}break;case o.components.domain:switch(E){case"(":0===y?c(0===g?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedComment):(b=!0,c(o.diagnoses.cfwsComment)),f.stack.push(f.now),f.now=o.components.contextComment;break;case".":var w=i.encode(h.domains[g]).length;0===y?c(0===g?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):_?c(o.diagnoses.errDomainHyphenEnd):w>63&&c(o.diagnoses.rfc5322LabelTooLong),b=!1,y=0,++g,h.domains[g]="",d.domain+=E;break;case"[":0===d.domain.length?(b=!0,y+=t.byteLength(E,"utf8"),f.stack.push(f.now),f.now=o.components.literal,d.domain+=E,h.domains[g]+=E,d.literal=""):c(o.diagnoses.errExpectingATEXT);break;case"\r":if(S===++x||"\n"!==e[x]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?c(0===g?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedFWS):(c(o.diagnoses.cfwsFWS),b=!0),f.stack.push(f.now),f.now=o.components.contextFWS,p=E;break;default:if(b)switch(f.prev){case o.components.contextComment:case o.components.contextFWS:c(o.diagnoses.errATEXTAfterCFWS);break;case o.components.literal:c(o.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}v=E.codePointAt(0),_=!1,o.specials(v)||o.c0Controls(v)||o.c1Controls(v)?c(o.diagnoses.errExpectingATEXT):"-"===E?(0===y&&c(o.diagnoses.errDomainHyphenStart),_=!0):(v<48||v>122&&v<192||v>57&&v<65||v>90&&v<97)&&c(o.diagnoses.rfc5322Domain),d.domain+=E,h.domains[g]+=E,y+=t.byteLength(E,"utf8")}break;case o.components.literal:switch(E){case"]":if(l<o.categories.deprecated){var T=-1,P=d.literal,k=o.regex.ipV4.exec(P);if(k&&0!==(T=k.index)&&(P=P.slice(0,T)+"0:0"),0===T)c(o.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==P.slice(0,5).toLowerCase())c(o.diagnoses.rfc5322DomainLiteral);else{var C=P.slice(5),D=o.maxIPv6Groups,A=C.split(":");~(T=C.indexOf("::"))?T!==C.lastIndexOf("::")?c(o.diagnoses.rfc5322IPv62x2xColon):(0!==T&&T!==C.length-2||++D,A.length>D?c(o.diagnoses.rfc5322IPv6MaxGroups):A.length===D&&c(o.diagnoses.deprecatedIPv6)):A.length!==D&&c(o.diagnoses.rfc5322IPv6GroupCount),":"===C[0]&&":"!==C[1]?c(o.diagnoses.rfc5322IPv6ColonStart):":"===C[C.length-1]&&":"!==C[C.length-2]?c(o.diagnoses.rfc5322IPv6ColonEnd):o.checkIpV6(A)?c(o.diagnoses.rfc5321AddressLiteral):c(o.diagnoses.rfc5322IPv6BadCharacter)}}else c(o.diagnoses.rfc5322DomainLiteral);d.domain+=E,h.domains[g]+=E,y+=t.byteLength(E,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;case"\\":c(o.diagnoses.rfc5322DomainLiteralOBSDText),f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(S===++x||"\n"!==e[x]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":c(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,p=E;break;default:if(127!==(v=E.codePointAt(0))&&o.c1Controls(v)||0===v||"["===E){c(o.diagnoses.errExpectingDTEXT);break}(o.c0Controls(v)||127===v)&&c(o.diagnoses.rfc5322DomainLiteralOBSDText),d.literal+=E,d.domain+=E,h.domains[g]+=E,y+=t.byteLength(E,"utf8")}break;case o.components.contextQuotedString:switch(E){case"\\":f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(S===++x||"\n"!==e[x]){c(o.diagnoses.errCRNoLF);break}case"\t":d.local+=" ",h.locals[g]+=" ",y+=t.byteLength(E,"utf8"),c(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,p=E;break;case'"':d.local+=E,h.locals[g]+=E,y+=t.byteLength(E,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;default:127!==(v=E.codePointAt(0))&&o.c1Controls(v)||0===v||10===v?c(o.diagnoses.errExpectingQTEXT):(o.c0Controls(v)||127===v)&&c(o.diagnoses.deprecatedQTEXT),d.local+=E,h.locals[g]+=E,y+=t.byteLength(E,"utf8")}break;case o.components.contextQuotedPair:127!==(v=E.codePointAt(0))&&o.c1Controls(v)?c(o.diagnoses.errExpectingQPair):(v<31&&9!==v||127===v)&&c(o.diagnoses.deprecatedQP),f.prev=f.now,f.now=f.stack.pop();var R="\\"+E;switch(f.now){case o.components.contextComment:break;case o.components.contextQuotedString:d.local+=R,h.locals[g]+=R,y+=2;break;case o.components.literal:d.domain+=R,h.domains[g]+=R,y+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+f.now)}break;case o.components.contextComment:switch(E){case"(":f.stack.push(f.now),f.now=o.components.contextComment;break;case")":f.prev=f.now,f.now=f.stack.pop();break;case"\\":f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(S===++x||"\n"!==e[x]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":c(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,p=E;break;default:if(0===(v=E.codePointAt(0))||10===v||127!==v&&o.c1Controls(v)){c(o.diagnoses.errExpectingCTEXT);break}(o.c0Controls(v)||127===v)&&c(o.diagnoses.deprecatedCTEXT)}break;case o.components.contextFWS:if("\r"===p){if("\r"===E){c(o.diagnoses.errFWSCRLFx2);break}++m>1?c(o.diagnoses.deprecatedFWS):m=1}switch(E){case"\r":S!==++x&&"\n"===e[x]||c(o.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===p&&c(o.diagnoses.errFWSCRLFEnd),m=0,f.prev=f.now,f.now=f.stack.pop(),--x}p=E;break;default:throw new Error("unknown context: "+f.now)}if(l>o.categories.rfc5322)break}if(l<o.categories.rfc5322){var M=i.encode(d.domain).length;if(f.now===o.components.contextQuotedString)c(o.diagnoses.errUnclosedQuotedString);else if(f.now===o.components.contextQuotedPair)c(o.diagnoses.errBackslashEnd);else if(f.now===o.components.contextComment)c(o.diagnoses.errUnclosedComment);else if(f.now===o.components.literal)c(o.diagnoses.errUnclosedDomainLiteral);else if("\r"===E)c(o.diagnoses.errFWSCRLFEnd);else if(0===d.domain.length)c(o.diagnoses.errNoDomain);else if(0===y)c(o.diagnoses.errDotEnd);else if(_)c(o.diagnoses.errDomainHyphenEnd);else if(M>255)c(o.diagnoses.rfc5322DomainTooLong);else if(t.byteLength(d.local,"utf8")+M+1>254)c(o.diagnoses.rfc5322TooLong);else if(y>63)c(o.diagnoses.rfc5322LabelTooLong);else if(n.minDomainAtoms&&h.domains.length<n.minDomainAtoms)c(o.diagnoses.errDomainTooShort);else if(n.tldWhitelist||n.tldBlacklist){var L=h.domains[g];o.validDomain(L,n)||c(o.diagnoses.errUnknownTLD)}}l<o.categories.dnsWarn&&(h.domains[g].codePointAt(0)<=57&&c(o.diagnoses.rfc5321TLDNumeric));l<u&&(l=o.diagnoses.valid);var I=s?l:l<o.defaultThreshold;return a&&a(I),I},e.diagnoses=o.validate.diagnoses=function(){for(var t={},e=Object.keys(o.diagnoses),n=0;n<e.length;++n){var r=e[n];t[r]=o.diagnoses[r]}return t}(),e.normalize=o.normalize}).call(e,n(3).Buffer)},function(t,e,n){"use strict";e.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(t,e,n){"use strict";var r=n(8);e.options=r.object({abortEarly:r.boolean(),convert:r.boolean(),allowUnknown:r.boolean(),skipFunctions:r.boolean(),stripUnknown:[r.boolean(),r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects")],language:r.object(),presence:r.string().only("required","optional","forbidden","ignore"),raw:r.boolean(),context:r.object(),strip:r.boolean(),noDefaults:r.boolean(),escapeHtml:r.boolean()}).strict()},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var i=n(2),o=n(4),a=n(1),s=n(0),u={fastSplice:function(t,e){for(var n=e;n<t.length;)t[n++]=t[n];--t.length}};u.Array=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="array",e._inner.items=[],e._inner.ordereds=[],e._inner.inclusions=[],e._inner.exclusions=[],e._inner.requireds=[],e._flags.sparse=!1,e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){var r={value:t};"string"===typeof t&&n.convert&&u.safeParse(t,r);var i=Array.isArray(r.value),o=i;if(n.convert&&this._flags.single&&!i&&(r.value=[r.value],i=!0),!i)return r.errors=this.createError("array.base",null,e,n),r;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(r.value=r.value.slice(0)),r.errors=this._checkItems.call(this,r.value,o,e,n),r.errors&&o&&n.convert&&this._flags.single)){var a=r.errors;r.value=[r.value],r.errors=this._checkItems.call(this,r.value,o,e,n),r.errors&&(r.errors=a,r.value=r.value[0])}return r},_class.prototype._checkItems=function _checkItems(t,e,n,r){for(var i=[],o=void 0,a=this._inner.requireds.slice(),s=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(a),c=t.length,f=0;f<c;++f){o=!1;var p=t[f],d=!1,h={key:e?f:n.key,path:e?n.path.concat(f):n.path,parent:n.parent,reference:n.reference},g=void 0;if(this._flags.sparse||void 0!==p){for(var y=0;y<this._inner.exclusions.length;++y)if(!(g=this._inner.exclusions[y]._validate(p,h,{})).errors){if(i.push(this.createError(e?"array.excludes":"array.excludesSingle",{pos:f,value:p},{key:n.key,path:h.path},r)),o=!0,r.abortEarly)return i;s.shift();break}if(!o){if(this._inner.ordereds.length){if(s.length>0){var m=s.shift();if((g=m._validate(p,h,r)).errors){if(i.push(this.createError("array.ordered",{pos:f,reason:g.errors,value:p},{key:n.key,path:h.path},r)),r.abortEarly)return i}else if(m._flags.strip)u.fastSplice(t,f),--f,--c;else{if(!this._flags.sparse&&void 0===g.value){if(i.push(this.createError("array.sparse",null,{key:n.key,path:h.path,pos:f},r)),r.abortEarly)return i;continue}t[f]=g.value}continue}if(!this._inner.items.length){if(i.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:n.key,path:h.path},r)),r.abortEarly)return i;continue}}for(var v=[],_=a.length,b=0;b<_;++b)if(!(g=v[b]=a[b]._validate(p,h,r)).errors){if(t[f]=g.value,d=!0,u.fastSplice(a,b),--b,--_,!this._flags.sparse&&void 0===g.value&&(i.push(this.createError("array.sparse",null,{key:n.key,path:h.path,pos:f},r)),r.abortEarly))return i;break}if(!d){var S=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.arrays);_=l.length;for(var E=0;E<_;++E){var x=l[E],w=a.indexOf(x);if(-1!==w)g=v[w];else if(!(g=x._validate(p,h,r)).errors){x._flags.strip?(u.fastSplice(t,f),--f,--c):this._flags.sparse||void 0!==g.value?t[f]=g.value:(i.push(this.createError("array.sparse",null,{key:n.key,path:h.path,pos:f},r)),o=!0),d=!0;break}if(1===_){if(S){u.fastSplice(t,f),--f,--c,d=!0;break}if(i.push(this.createError(e?"array.includesOne":"array.includesOneSingle",{pos:f,reason:g.errors,value:p},{key:n.key,path:h.path},r)),o=!0,r.abortEarly)return i;break}}if(!o&&this._inner.inclusions.length&&!d){if(S){u.fastSplice(t,f),--f,--c;continue}if(i.push(this.createError(e?"array.includes":"array.includesSingle",{pos:f,value:p},{key:n.key,path:h.path},r)),r.abortEarly)return i}}}}else{if(i.push(this.createError("array.sparse",null,{key:n.key,path:h.path,pos:f},r)),r.abortEarly)return i;s.shift()}}return a.length&&this._fillMissedErrors.call(this,i,a,n,r),s.length&&this._fillOrderedErrors.call(this,i,s,n,r),i.length?i:null},_class.prototype.describe=function describe(){var t=i.prototype.describe.call(this);if(this._inner.ordereds.length){t.orderedItems=[];for(var e=0;e<this._inner.ordereds.length;++e)t.orderedItems.push(this._inner.ordereds[e].describe())}if(this._inner.items.length){t.items=[];for(var n=0;n<this._inner.items.length;++n)t.items.push(this._inner.items[n].describe())}return t},_class.prototype.items=function items(){for(var t=this,e=this.clone(),n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return s.flatten(r).forEach((function(n,r){try{n=o.schema(t._currentJoi,n)}catch(i){throw i.hasOwnProperty("path")?i.path=r+"."+i.path:i.path=r,i.message=i.message+"("+i.path+")",i}e._inner.items.push(n),"required"===n._flags.presence?e._inner.requireds.push(n):"forbidden"===n._flags.presence?e._inner.exclusions.push(n.optional()):e._inner.inclusions.push(n)})),e},_class.prototype.ordered=function ordered(){for(var t=this,e=this.clone(),n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return s.flatten(r).forEach((function(n,r){try{n=o.schema(t._currentJoi,n)}catch(i){throw i.hasOwnProperty("path")?i.path=r+"."+i.path:i.path=r,i.message=i.message+"("+i.path+")",i}e._inner.ordereds.push(n)})),e},_class.prototype.min=function min(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("min",t,(function(n,r,i){var o=void 0;if(e){if(o=t(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},r,i)}else o=t;return n.length>=o?n:this.createError("array.min",{limit:t,value:n},r,i)}))},_class.prototype.max=function max(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("max",t,(function(n,r,i){var o=void 0;if(e){if(o=t(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},r,i)}else o=t;return n.length<=o?n:this.createError("array.max",{limit:t,value:n},r,i)}))},_class.prototype.length=function length(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("length",t,(function(n,r,i){var o=void 0;if(e){if(o=t(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},r,i)}else o=t;return n.length===o?n:this.createError("array.length",{limit:t,value:n},r,i)}))},_class.prototype.unique=function unique(t){s.assert(void 0===t||"function"===typeof t||"string"===typeof t,"comparator must be a function or a string");var e={};return"string"===typeof t?e.path=t:"function"===typeof t&&(e.comparator=t),this._test("unique",e,(function(t,n,i){for(var o={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},a=e.comparator||s.deepEqual,u=0;u<t.length;++u){var l=e.path?s.reach(t[u],e.path):t[u],c=e.comparator?o.custom:o["undefined"===typeof l?"undefined":r(l)];if(c)if(c instanceof Map){for(var f=c.entries(),p=void 0;!(p=f.next()).done;)if(a(p.value[0],l)){var d={key:n.key,path:n.path.concat(u),parent:n.parent,reference:n.reference},h={pos:u,value:t[u],dupePos:p.value[1],dupeValue:t[p.value[1]]};return e.path&&(h.path=e.path),this.createError("array.unique",h,d,i)}c.set(l,u)}else{if(void 0!==c[l]){var g={key:n.key,path:n.path.concat(u),parent:n.parent,reference:n.reference},y={pos:u,value:t[u],dupePos:c[l],dupeValue:t[c[l]]};return e.path&&(y.path=e.path),this.createError("array.unique",y,g,i)}c[l]=u}}return t}))},_class.prototype.sparse=function sparse(t){var e=void 0===t||!!t;if(this._flags.sparse===e)return this;var n=this.clone();return n._flags.sparse=e,n},_class.prototype.single=function single(t){var e=void 0===t||!!t;if(this._flags.single===e)return this;var n=this.clone();return n._flags.single=e,n},_class.prototype._fillMissedErrors=function _fillMissedErrors(t,e,n,r){for(var i=[],o=0,a=0;a<e.length;++a){var s=e[a]._getLabel();s?i.push(s):++o}i.length?o?t.push(this.createError("array.includesRequiredBoth",{knownMisses:i,unknownMisses:o},{key:n.key,path:n.path},r)):t.push(this.createError("array.includesRequiredKnowns",{knownMisses:i},{key:n.key,path:n.path},r)):t.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:o},{key:n.key,path:n.path},r))},_class.prototype._fillOrderedErrors=function _fillOrderedErrors(t,e,n,r){for(var i=[],o=0;o<e.length;++o){"required"===s.reach(e[o],"_flags.presence")&&i.push(e[o])}i.length&&this._fillMissedErrors.call(this,t,i,n,r)},_class}(i),u.safeParse=function(t,e){try{var n=JSON.parse(t);Array.isArray(n)&&(e.value=n)}catch(r){}},t.exports=new u.Array},function(t,e,n){"use strict";(function(e){function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(2),i=n(0),o={};o.Binary=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="binary",e}return _inherits(_class,t),_class.prototype._base=function _base(t,n,r){var i={value:t};if("string"===typeof t&&r.convert)try{i.value=e.from(t,this._flags.encoding)}catch(o){}return i.errors=e.isBuffer(i.value)?null:this.createError("binary.base",null,n,r),i},_class.prototype.encoding=function encoding(t){if(i.assert(e.isEncoding(t),"Invalid encoding:",t),this._flags.encoding===t)return this;var n=this.clone();return n._flags.encoding=t,n},_class.prototype.min=function min(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,(function(e,n,r){return e.length>=t?e:this.createError("binary.min",{limit:t,value:e},n,r)}))},_class.prototype.max=function max(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,(function(e,n,r){return e.length<=t?e:this.createError("binary.max",{limit:t,value:e},n,r)}))},_class.prototype.length=function length(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,(function(e,n,r){return e.length===t?e:this.createError("binary.length",{limit:t,value:e},n,r)}))},_class}(r),t.exports=new o.Binary}).call(e,n(3).Buffer)},function(t,e,n){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(2),i=n(0),o={Set:n(9)};o.Boolean=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="boolean",e._flags.insensitive=!0,e._inner.truthySet=new o.Set,e._inner.falsySet=new o.Set,e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){var r={value:t};if("string"===typeof t&&n.convert){var i=this._flags.insensitive?t.toLowerCase():t;r.value="true"===i||"false"!==i&&t}return"boolean"!==typeof r.value&&(r.value=!!this._inner.truthySet.has(t,null,null,this._flags.insensitive)||!this._inner.falsySet.has(t,null,null,this._flags.insensitive)&&t),r.errors="boolean"===typeof r.value?null:this.createError("boolean.base",null,e,n),r},_class.prototype.truthy=function truthy(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.clone();e=i.flatten(e);for(var o=0;o<e.length;++o){var a=e[o];i.assert(void 0!==a,"Cannot call truthy with undefined"),r._inner.truthySet.add(a)}return r},_class.prototype.falsy=function falsy(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.clone();e=i.flatten(e);for(var o=0;o<e.length;++o){var a=e[o];i.assert(void 0!==a,"Cannot call falsy with undefined"),r._inner.falsySet.add(a)}return r},_class.prototype.insensitive=function insensitive(t){var insensitive=void 0===t||!!t;if(this._flags.insensitive===insensitive)return this;var e=this.clone();return e._flags.insensitive=insensitive,e},_class.prototype.describe=function describe(){var t=r.prototype.describe.call(this);return t.truthy=[!0].concat(this._inner.truthySet.values()),t.falsy=[!1].concat(this._inner.falsySet.values()),t},_class}(r),t.exports=new o.Boolean},function(t,e,n){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(0),i=n(13),o=n(1),a={};a.Func=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._flags.func=!0,e}return _inherits(_class,t),_class.prototype.arity=function arity(t){return r.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("arity",t,(function(e,n,r){return e.length===t?e:this.createError("function.arity",{n:t},n,r)}))},_class.prototype.minArity=function minArity(t){return r.assert(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this._test("minArity",t,(function(e,n,r){return e.length>=t?e:this.createError("function.minArity",{n:t},n,r)}))},_class.prototype.maxArity=function maxArity(t){return r.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("maxArity",t,(function(e,n,r){return e.length<=t?e:this.createError("function.maxArity",{n:t},n,r)}))},_class.prototype.ref=function ref(){return this._test("ref",null,(function(t,e,n){return o.isRef(t)?t:this.createError("function.ref",null,e,n)}))},_class.prototype.class=function _class(){return this._test("class",null,(function(t,e,n){return/^\s*class\s/.test(t.toString())?t:this.createError("function.class",null,e,n)}))},_class}(i.constructor),t.exports=new a.Func},function(t,e,n){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(2),i=n(0),o={};o.Lazy=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="lazy",e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){var i={value:t},o=this._flags.lazy;if(!o)return i.errors=this.createError("lazy.base",null,e,n),i;var a=o();return a instanceof r?a._validate(t,e,n):(i.errors=this.createError("lazy.schema",null,e,n),i)},_class.prototype.set=function set(t){i.assert("function"===typeof t,"You must provide a function as first argument");var e=this.clone();return e._flags.lazy=t,e},_class}(r),t.exports=new o.Lazy},function(t,e,n){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var r=n(2),i=n(1),o=n(0),a={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};a.Number=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="number",e._invalids.add(1/0),e._invalids.add(-1/0),e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){var r={errors:null,value:t};if("string"===typeof t&&n.convert){var i=parseFloat(t);r.value=isNaN(i)||!isFinite(t)?NaN:i}var o="number"===typeof r.value&&!isNaN(r.value);if(n.convert&&"precision"in this._flags&&o){var a=Math.pow(10,this._flags.precision);r.value=Math.round(r.value*a)/a}return r.errors=o?null:this.createError("number.base",null,e,n),r},_class.prototype.multiple=function multiple(t){var e=i.isRef(t);return e||(o.assert("number"===typeof t&&isFinite(t),"multiple must be a number"),o.assert(t>0,"multiple must be greater than 0")),this._test("multiple",t,(function(n,r,i){var o=e?t(r.reference||r.parent,i):t;return!e||"number"===typeof o&&isFinite(o)?n%o===0?n:this.createError("number.multiple",{multiple:t,value:n},r,i):this.createError("number.ref",{ref:t.key},r,i)}))},_class.prototype.integer=function integer(){return this._test("integer",void 0,(function(t,e,n){return Number.isSafeInteger(t)?t:this.createError("number.integer",{value:t},e,n)}))},_class.prototype.negative=function negative(){return this._test("negative",void 0,(function(t,e,n){return t<0?t:this.createError("number.negative",{value:t},e,n)}))},_class.prototype.positive=function positive(){return this._test("positive",void 0,(function(t,e,n){return t>0?t:this.createError("number.positive",{value:t},e,n)}))},_class.prototype.precision=function precision(t){o.assert(Number.isSafeInteger(t),"limit must be an integer"),o.assert(!("precision"in this._flags),"precision already set");var e=this._test("precision",t,(function(e,n,r){var i=e.toString().match(a.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=t?e:this.createError("number.precision",{limit:t,value:e},n,r)}));return e._flags.precision=t,e},_class.prototype.port=function port(){return this._test("port",void 0,(function(t,e,n){return!Number.isSafeInteger(t)||t<0||t>65535?this.createError("number.port",{value:t},e,n):t}))},_class}(r),a.compare=function(t,e){return function(n){var r=i.isRef(n),a="number"===typeof n&&!isNaN(n);return o.assert(a||r,"limit must be a number or reference"),this._test(t,n,(function(i,o,a){var s=void 0;if(r){if("number"!==typeof(s=n(o.reference||o.parent,a))||isNaN(s))return this.createError("number.ref",{ref:n.key},o,a)}else s=n;return e(i,s)?i:this.createError("number."+t,{limit:s,value:i},o,a)}))}},a.Number.prototype.min=a.compare("min",(function(t,e){return t>=e})),a.Number.prototype.max=a.compare("max",(function(t,e){return t<=e})),a.Number.prototype.greater=a.compare("greater",(function(t,e){return t>e})),a.Number.prototype.less=a.compare("less",(function(t,e){return t<e})),t.exports=new a.Number},function(t,e,n){"use strict";(function(e){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}(t,e))}var i=n(15),o=n(0),a=void 0,s=n(2),u=n(1),l=n(12),c=n(30),f=n(29),p={uriRegex:c.createUriRegex(),ipRegex:f.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="string",e._invalids.add(""),e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,n){if("string"===typeof t&&n.convert){if(this._flags.normalize&&(t=t.normalize(this._flags.normalize)),this._flags.case&&(t="upper"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim()),this._inner.replacements)for(var r=0;r<this._inner.replacements.length;++r){var i=this._inner.replacements[r];t=t.replace(i.pattern,i.replacement)}if(this._flags.truncate)for(var o=0;o<this._tests.length;++o){var a=this._tests[o];if("max"===a.name){t=t.slice(0,a.arg);break}}this._flags.byteAligned&&t.length%2!==0&&(t="0"+t)}return{value:t,errors:"string"===typeof t?null:this.createError("string.base",{value:t},e,n)}},_class.prototype.insensitive=function insensitive(){if(this._flags.insensitive)return this;var t=this.clone();return t._flags.insensitive=!0,t},_class.prototype.creditCard=function creditCard(){return this._test("creditCard",void 0,(function(t,e,n){for(var r=t.length,i=0,o=1;r--;){var a=t.charAt(r)*o;i+=a-9*(a>9),o^=3}return i%10===0&&i>0?t:this.createError("string.creditCard",{value:t},e,n)}))},_class.prototype.regex=function regex(t,e){o.assert(t instanceof RegExp,"pattern must be a RegExp");var n={pattern:new RegExp(t.source,t.ignoreCase?"i":void 0)};"string"===typeof e?n.name=e:"object"===("undefined"===typeof e?"undefined":r(e))&&(n.invert=!!e.invert,e.name&&(n.name=e.name));var i=["string.regex",n.invert?".invert":"",n.name?".name":".base"].join("");return this._test("regex",n,(function(t,e,r){return n.pattern.test(t)^n.invert?t:this.createError(i,{name:n.name,pattern:n.pattern,value:t},e,r)}))},_class.prototype.alphanum=function alphanum(){return this._test("alphanum",void 0,(function(t,e,n){return/^[a-zA-Z0-9]+$/.test(t)?t:this.createError("string.alphanum",{value:t},e,n)}))},_class.prototype.token=function token(){return this._test("token",void 0,(function(t,e,n){return/^\w+$/.test(t)?t:this.createError("string.token",{value:t},e,n)}))},_class.prototype.email=function email(t){return t&&(o.assert("object"===("undefined"===typeof t?"undefined":r(t)),"email options must be an object"),o.assert("undefined"===typeof t.checkDNS,"checkDNS option is not supported"),o.assert("undefined"===typeof t.tldWhitelist||"object"===r(t.tldWhitelist),"tldWhitelist must be an array or object"),o.assert("undefined"===typeof t.minDomainAtoms||Number.isSafeInteger(t.minDomainAtoms)&&t.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),o.assert("undefined"===typeof t.errorLevel||"boolean"===typeof t.errorLevel||Number.isSafeInteger(t.errorLevel)&&t.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",t,(function(e,r,i){a=a||n(19);try{var o=a.validate(e,t);if(!0===o||0===o)return e}catch(s){}return this.createError("string.email",{value:e},r,i)}))},_class.prototype.ip=function ip(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p.ipRegex;o.assert("object"===("undefined"===typeof t?"undefined":r(t)),"options must be an object"),t.cidr?(o.assert("string"===typeof t.cidr,"cidr must be a string"),t.cidr=t.cidr.toLowerCase(),o.assert(o.contain(p.cidrPresences,t.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),t.version||"optional"===t.cidr||(e=f.createIpRegex(["ipv4","ipv6","ipvfuture"],t.cidr))):t.cidr="optional";var n=void 0;if(t.version){Array.isArray(t.version)||(t.version=[t.version]),o.assert(t.version.length>=1,"version must have at least 1 version specified"),n=[];for(var i=0;i<t.version.length;++i){var a=t.version[i];o.assert("string"===typeof a,"version at position "+i+" must be a string"),a=a.toLowerCase(),o.assert(f.versions[a],"version at position "+i+" must be one of "+Object.keys(f.versions).join(", ")),n.push(a)}n=o.unique(n),e=f.createIpRegex(n,t.cidr)}return this._test("ip",t,(function(r,i,o){return e.test(r)?r:n?this.createError("string.ipVersion",{value:r,cidr:t.cidr,version:n},i,o):this.createError("string.ip",{value:r,cidr:t.cidr},i,o)}))},_class.prototype.uri=function uri(t){var e="",n=!1,i=!1,a=p.uriRegex;if(t){if(o.assert("object"===("undefined"===typeof t?"undefined":r(t)),"options must be an object"),t.scheme){o.assert(t.scheme instanceof RegExp||"string"===typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(t.scheme)||(t.scheme=[t.scheme]),o.assert(t.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var s=0;s<t.scheme.length;++s){var u=t.scheme[s];o.assert(u instanceof RegExp||"string"===typeof u,"scheme at position "+s+" must be a RegExp or String"),e+=e?"|":"",u instanceof RegExp?e+=u.source:(o.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(u),"scheme at position "+s+" must be a valid scheme"),e+=o.escapeRegex(u))}}t.allowRelative&&(n=!0),t.relativeOnly&&(i=!0)}return(e||n||i)&&(a=c.createUriRegex(e,n,i)),this._test("uri",t,(function(t,n,r){return a.test(t)?t:i?this.createError("string.uriRelativeOnly",{value:t},n,r):e?this.createError("string.uriCustomScheme",{scheme:e,value:t},n,r):this.createError("string.uri",{value:t},n,r)}))},_class.prototype.isoDate=function isoDate(){return this._test("isoDate",void 0,(function(t,e,n){if(l._isIsoDate(t)){if(!n.convert)return t;var r=new Date(t);if(!isNaN(r.getTime()))return r.toISOString()}return this.createError("string.isoDate",{value:t},e,n)}))},_class.prototype.guid=function guid(t){var e="";if(t&&t.version){Array.isArray(t.version)||(t.version=[t.version]),o.assert(t.version.length>=1,"version must have at least 1 valid version specified");for(var n=new Set,r=0;r<t.version.length;++r){var i=t.version[r];o.assert("string"===typeof i,"version at position "+r+" must be a string"),i=i.toLowerCase();var a=p.guidVersions[i];o.assert(a,"version at position "+r+" must be one of "+Object.keys(p.guidVersions).join(", ")),o.assert(!n.has(a),"version at position "+r+" must not be a duplicate."),e+=a,n.add(a)}}var s=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(e||"0-9A-F")+"][0-9A-F]{3}\\2?["+(e?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",t,(function(t,e,n){var r=s.exec(t);return r?p.guidBrackets[r[1]]!==r[r.length-1]?this.createError("string.guid",{value:t},e,n):t:this.createError("string.guid",{value:t},e,n)}))},_class.prototype.hex=function hex(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.assert("object"===("undefined"===typeof t?"undefined":r(t)),"hex options must be an object"),o.assert("undefined"===typeof t.byteAligned||"boolean"===typeof t.byteAligned,"byteAligned must be boolean");var e=!0===t.byteAligned,n=/^[a-f0-9]+$/i,i=this._test("hex",n,(function(t,r,i){return n.test(t)?e&&t.length%2!==0?this.createError("string.hexAlign",{value:t},r,i):t:this.createError("string.hex",{value:t},r,i)}));return e&&(i._flags.byteAligned=!0),i},_class.prototype.base64=function base64(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.assert("object"===("undefined"===typeof t?"undefined":r(t)),"base64 options must be an object"),o.assert("undefined"===typeof t.paddingRequired||"boolean"===typeof t.paddingRequired,"paddingRequired must be boolean");var e=!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0,n=e?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",n,(function(t,e,r){return n.test(t)?t:this.createError("string.base64",{value:t},e,r)}))},_class.prototype.hostname=function hostname(){var t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(e,n,r){return e.length<=255&&t.test(e)||i.isIPv6(e)?e:this.createError("string.hostname",{value:e},n,r)}))},_class.prototype.normalize=function normalize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";o.assert(o.contain(p.normalizationForms,t),"normalization form must be one of "+p.normalizationForms.join(", "));var e=this._test("normalize",t,(function(e,n,r){return r.convert||e===e.normalize(t)?e:this.createError("string.normalize",{value:e,form:t},n,r)}));return e._flags.normalize=t,e},_class.prototype.lowercase=function lowercase(){var t=this._test("lowercase",void 0,(function(t,e,n){return n.convert||t===t.toLocaleLowerCase()?t:this.createError("string.lowercase",{value:t},e,n)}));return t._flags.case="lower",t},_class.prototype.uppercase=function uppercase(){var t=this._test("uppercase",void 0,(function(t,e,n){return n.convert||t===t.toLocaleUpperCase()?t:this.createError("string.uppercase",{value:t},e,n)}));return t._flags.case="upper",t},_class.prototype.trim=function trim(){var t=this._test("trim",void 0,(function(t,e,n){return n.convert||t===t.trim()?t:this.createError("string.trim",{value:t},e,n)}));return t._flags.trim=!0,t},_class.prototype.replace=function replace(t,e){"string"===typeof t&&(t=new RegExp(o.escapeRegex(t),"g")),o.assert(t instanceof RegExp,"pattern must be a RegExp"),o.assert("string"===typeof e,"replacement must be a String");var n=this.clone();return n._inner.replacements||(n._inner.replacements=[]),n._inner.replacements.push({pattern:t,replacement:e}),n},_class.prototype.truncate=function truncate(t){var e=void 0===t||!!t;if(this._flags.truncate===e)return this;var n=this.clone();return n._flags.truncate=e,n},_class}(s),p.compare=function(t,n){return function(r,i){var a=u.isRef(r);return o.assert(Number.isSafeInteger(r)&&r>=0||a,"limit must be a positive integer or reference"),o.assert(!i||e.isEncoding(i),"Invalid encoding:",i),this._test(t,r,(function(e,o,s){var u=void 0;if(a){if(u=r(o.reference||o.parent,s),!Number.isSafeInteger(u))return this.createError("string.ref",{ref:r.key},o,s)}else u=r;return n(e,u,i)?e:this.createError("string."+t,{limit:u,value:e,encoding:i},o,s)}))}},p.String.prototype.min=p.compare("min",(function(t,n,r){return(r?e.byteLength(t,r):t.length)>=n})),p.String.prototype.max=p.compare("max",(function(t,n,r){return(r?e.byteLength(t,r):t.length)<=n})),p.String.prototype.length=p.compare("length",(function(t,n,r){return(r?e.byteLength(t,r):t.length)===n})),p.String.prototype.uuid=p.String.prototype.guid,t.exports=new p.String}).call(e,n(3).Buffer)},function(t,e,n){"use strict";var r=n(14),i={Ip:{cidrs:{ipv4:{required:"\\/(?:"+r.ipv4Cidr+")",optional:"(?:\\/(?:"+r.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:r.IPv4address,ipv6:r.IPv6address,ipvfuture:r.IPvFuture}}};i.Ip.createIpRegex=function(t,e){for(var n=void 0,r=0;r<t.length;++r){var o=t[r];n?n+="|"+i.Ip.versions[o]+i.Ip.cidrs[o][e]:n="^(?:"+i.Ip.versions[o]+i.Ip.cidrs[o][e]}return new RegExp(n+")$")},t.exports=i.Ip},function(t,e,n){"use strict";var r=n(14),i={Uri:{createUriRegex:function createUriRegex(t,e,n){var i=r.scheme,o=void 0;if(n)o="(?:"+r.relativeRef+")";else{t&&(i="(?:"+t+")");var a="(?:"+i+":"+r.hierPart+")";o=e?"(?:"+a+"|"+r.relativeRef+")":a}return new RegExp("^"+o+"(?:\\?"+r.query+")?(?:#"+r.fragment+")?$")}}};t.exports=i.Uri},function(t,e,n){"use strict";var r=n(0),i={};t.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(t,e){var n=this,i=[].concat((e=e||{}).before||[]),o=[].concat(e.after||[]),a=e.group||"?",s=e.sort||0;r.assert(-1===i.indexOf(a),"Item cannot come before itself:",a),r.assert(-1===i.indexOf("?"),"Item cannot come before unassociated items"),r.assert(-1===o.indexOf(a),"Item cannot come after itself:",a),r.assert(-1===o.indexOf("?"),"Item cannot come after unassociated items"),[].concat(t).forEach((function(t,e){var r={seq:n._items.length,sort:s,before:i,after:o,group:a,node:t};n._items.push(r)}));var u=this._sort();return r.assert(!u,"item","?"!==a?"added into group "+a:"","created a dependencies error"),this.nodes},i.Topo.prototype.merge=function(t){t=[].concat(t);for(var e=0;e<t.length;++e){var n=t[e];if(n)for(var o=0;o<n._items.length;++o){var a=r.shallow(n._items[o]);this._items.push(a)}}this._items.sort(i.mergeSort);for(var s=0;s<this._items.length;++s)this._items[s].seq=s;var u=this._sort();return r.assert(!u,"merge created a dependencies error"),this.nodes},i.mergeSort=function(t,e){return t.sort===e.sort?0:t.sort<e.sort?-1:1},i.Topo.prototype._sort=function(){for(var t={},e=Object.create(null),n=Object.create(null),r=0;r<this._items.length;++r){var i=this._items[r],o=i.seq,a=i.group;n[a]=n[a]||[],n[a].push(o),t[o]=i.before;for(var s=i.after,u=0;u<s.length;++u)e[s[u]]=(e[s[u]]||[]).concat(o)}for(var l=Object.keys(t),c=0;c<l.length;++c){for(var f=l[c],p=[],d=Object.keys(t[f]),h=0;h<d.length;++h){var g=t[f][d[h]];n[g]=n[g]||[];for(var y=0;y<n[g].length;++y)p.push(n[g][y])}t[f]=p}for(var m=Object.keys(e),v=0;v<m.length;++v){var _=m[v];if(n[_])for(var b=0;b<n[_].length;++b){var S=n[_][b];t[S]=t[S].concat(e[_])}}var E=void 0,x={};l=Object.keys(t);for(var w=0;w<l.length;++w){var T=l[w];E=t[T];for(var P=0;P<E.length;++P)x[E[P]]=(x[E[P]]||[]).concat(T)}for(var k={},C=[],D=0;D<this._items.length;++D){var A=D;if(x[D]){A=null;for(var R=0;R<this._items.length;++R)if(!0!==k[R]){x[R]||(x[R]=[]);for(var M=x[R].length,L=0,I=0;I<M;++I)k[x[R][I]]&&++L;if(L===M){A=R;break}}}null!==A&&(k[A]=!0,C.push(A))}if(C.length!==this._items.length)return new Error("Invalid dependencies");for(var O={},F=0;F<this._items.length;++F){var N=this._items[F];O[N.seq]=N}var B=[];this._items=C.map((function(t){var e=O[t];return B.push(e.node),e})),this.nodes=B}},function(t,e,n){"use strict";var r=n(8);t.exports=r},function(t,e,n){"use strict";e.byteLength=function byteLength(t){return 3*t.length/4-placeHoldersCount(t)},e.toByteArray=function toByteArray(t){var e,n,r,a,s,u=t.length;a=placeHoldersCount(t),s=new o(3*u/4-a),n=a>0?u-4:u;var l=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===a?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,s[l++]=255&r):1===a&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},e.fromByteArray=function fromByteArray(t){for(var e,n=t.length,i=n%3,o="",a=[],s=0,u=n-i;s<u;s+=16383)a.push(encodeChunk(t,s,s+16383>u?u:s+16383));1===i?(e=t[n-1],o+=r[e>>2],o+=r[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=r[e>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="=");return a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function placeHoldersCount(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function encodeChunk(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=h,a/=256,l-=8);t[n+d-h]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={_args:[["joi@13.4.0","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(t,e,n){(function(t){function normalizeArray(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function splitPath(t){return n.exec(t).slice(1)};function filter(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var i=r>=0?arguments[r]:t.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=normalizeArray(filter(e.split("/"),(function(t){return!!t})),!n).join("/"))||"."},e.normalize=function(t){var n=e.isAbsolute(t),r="/"===i(t,-1);return(t=normalizeArray(filter(t.split("/"),(function(t){return!!t})),!n).join("/"))||n||(t="."),t&&r&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(filter(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function trim(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=trim(t.split("/")),i=trim(n.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(7))},function(t,e,n){(function(t,r){var i;!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,f=26,p=38,d=700,h=72,g=128,y="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-c,E=Math.floor,x=String.fromCharCode;function error(t){throw new RangeError(b[t])}function map(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function mapDomain(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+map((t=t.replace(_,".")).split("."),e).join(".")}function ucs2decode(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function ucs2encode(t){return map(t,(function(t){var e="";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=x(t)})).join("")}function digitToBasic(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function adapt(t,e,n){var r=0;for(t=n?E(t/d):t>>1,t+=E(t/e);t>S*f>>1;r+=l)t=E(t/S);return E(r+(S+1)*t/(t+p))}function decode(t){var e,n,r,i,o,a,s,p,d,m,v,_=[],b=t.length,S=0,x=g,w=h;for((n=t.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&error("not-basic"),_.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=S,a=1,s=l;i>=b&&error("invalid-input"),((p=(v=t.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:l)>=l||p>E((u-S)/a))&&error("overflow"),S+=p*a,!(p<(d=s<=w?c:s>=w+f?f:s-w));s+=l)a>E(u/(m=l-d))&&error("overflow"),a*=m;w=adapt(S-o,e=_.length+1,0==o),E(S/e)>u-x&&error("overflow"),x+=E(S/e),S%=e,_.splice(S++,0,x)}return ucs2encode(_)}function encode(t){var e,n,r,i,o,a,s,p,d,m,v,_,b,S,w,T=[];for(_=(t=ucs2decode(t)).length,e=g,n=0,o=h,a=0;a<_;++a)(v=t[a])<128&&T.push(x(v));for(r=i=T.length,i&&T.push(y);r<_;){for(s=u,a=0;a<_;++a)(v=t[a])>=e&&v<s&&(s=v);for(s-e>E((u-n)/(b=r+1))&&error("overflow"),n+=(s-e)*b,e=s,a=0;a<_;++a)if((v=t[a])<e&&++n>u&&error("overflow"),v==e){for(p=n,d=l;!(p<(m=d<=o?c:d>=o+f?f:d-o));d+=l)w=p-m,S=l-m,T.push(x(digitToBasic(m+w%S,0))),p=E(w/S);T.push(x(digitToBasic(p,0))),o=adapt(n,b,r==i),n=0,++r}++n,++e}return T.join("")}s={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(t){return mapDomain(t,(function(t){return v.test(t)?"xn--"+encode(t):t}))},toUnicode:function toUnicode(t){return mapDomain(t,(function(t){return m.test(t)?decode(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(e,n(41)(t),n(5))},function(t,e){"function"===typeof Object.create?t.exports=function inherits(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(t,e){t.super_=e;var n=function TempCtor(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function isBuffer(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}}),t.webpackPolyfill=1),t}}])}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.post=e.configure=void 0;var r=_interopRequireDefault(n(144)),i=_interopRequireDefault(n(99)),o=_interopRequireDefault(n(100)),a=e.configure=function(){var t=(0,o.default)(i.default.mark((function _callee(t){var e;return i.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:e={baseUrl:c.ATHENA_URL_ROOT,jwt:!1,parse:null},t&&(e.token="JWT "+t),p.configure(e);case 3:case"end":return n.stop()}}),_callee,this)})));return function configure(e){return t.apply(this,arguments)}}(),s=e.post=function(){var t=(0,o.default)(i.default.mark((function _callee2(t,e){return i.default.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ensureInit();case 2:return n.abrupt("return",new r.default((function(n,r){p.post(t,{body:e,json:!0},(0,l.default)(n,r))})));case 3:case"end":return n.stop()}}),_callee2,this)})));return function post(e,n){return t.apply(this,arguments)}}();e.postJsonRpcPayload=function postJsonRpcPayload(t,e){return s(t,e)};var u=_interopRequireDefault(n(241)),l=_interopRequireDefault(n(182)),c=n(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var f,p=(0,u.default)();function ensureInit(){return f||(f=a()),f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshAccessToken=void 0;var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100)),o=(e.refreshAccessToken=function(){var t=(0,i.default)(r.default.mark((function _callee(t,e){var n,i;return r.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.postForm("v2/auth/",{code:t,redirect_uri:e});case 2:if(n=r.sent,null==(i=JSON.parse(n)).access_token){r.next=10;break}return r.next=7,o.configure(i.access_token);case 7:return r.abrupt("return",i.access_token);case 10:if(void 0===i.response){r.next=14;break}throw new Error("Could not exchange oauth code for access token: response "+i.response.status);case 14:throw new Error("Could not exchange oauth code for access token: response "+n);case 15:case"end":return r.stop()}}),_callee,this)})));return function refreshAccessToken(e,n){return t.apply(this,arguments)}}(),function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchLocation=void 0;var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(660)),o=_interopRequireDefault(n(100));e.fetchLocation=function(){var t=(0,o.default)(r.default.mark((function _callee(t){var e,n;return r.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e="v1/devices/"+t+"/location",r.next=3,a.get(e);case 3:if(void 0===(n=r.sent)||void 0!==n.error){r.next=8;break}return r.abrupt("return",n);case 8:throw Error("Could not fetch device location: "+(0,i.default)(n));case 9:case"end":return r.stop()}}),_callee,this)})));return function fetchLocation(e){return t.apply(this,arguments)}}();e.listDevices=function listDevices(){return a.get("v1/me/devices/")},e.setDeviceAlias=function setDeviceAlias(t,e){return a.patch("v1/devices/"+t+"/",{alias:e})},e.setDeviceVehicleId=function setDeviceVehicleId(t,e){return a.patch("v1/devices/"+t+"/",{vehicle_id:e})},e.grantDeviceReadPermission=function grantDeviceReadPermission(t,e){return a.post("v1/devices/"+t+"/add_user",{email:e})},e.removeDeviceReadPermission=function removeDeviceReadPermission(t,e){return a.post("v1/devices/"+t+"/del_user",{email:e})},e.fetchVehicles=function fetchVehicles(t){var e="v1/vehicles/"+t;return a.get(e)},e.fetchDevice=function fetchDevice(t){var e="v1.1/devices/"+t+"/";return a.get(e)},e.pilotPair=function pilotPair(t,e,n){return a.postForm("v2/pilotpair/",{imei:t,serial:e,pair_token:n})},e.fetchDeviceStats=function fetchDeviceStats(t){return a.get("v1.1/devices/"+t+"/stats")},e.unpair=function unpair(t){return a.post("v1/devices/"+t+"/unpair")},e.fetchDeviceOwner=function fetchDeviceOwner(t){return a.get("v1/devices/"+t+"/owner")};var a=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){t.exports={default:n(661),__esModule:!0}},function(t,e,n){var r=n(56),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function stringify(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100));e.default=function routeApi(t){var e=(0,a.default)(),n=t+"/";return e.configure({baseUrl:n,parse:null}),{getCoords:function(){var t=(0,i.default)(r.default.mark((function _callee(){var t;return r.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get("route.coords");case 2:return t=n.sent,n.abrupt("return",JSON.parse(t));case 4:case"end":return n.stop()}}),_callee,this)})));return function getCoords(){return t.apply(this,arguments)}}(),getJpegUrl:function getJpegUrl(t){return(0,o.default)(n,"sec"+t.toString()+".jpg")}}};var o=_interopRequireDefault(n(243)),a=_interopRequireDefault(n(339));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchRoutes=void 0;var r=_interopRequireDefault(n(285)),i=_interopRequireDefault(n(338)),o=_interopRequireDefault(n(99)),a=_interopRequireDefault(n(100));e.fetchRoutes=function(){var t=(0,a.default)(o.default.mark((function _callee(t,e,n){var r;return o.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,getSegmentMetadata(e,n,t);case 2:return r=i.sent,r=parseSegmentMetadata(e,n,r),i.abrupt("return",segmentsFromMetadata(r).reverse());case 5:case"end":return i.stop()}}),_callee,this)})));return function fetchRoutes(e,n,r){return t.apply(this,arguments)}}();e.getSegmentMetadata=getSegmentMetadata,e.getRouteInfo=function getRouteInfo(t){return s.get("v1/route/"+t+"/")},e.getShareSignature=function getShareSignature(t){return s.get("v1/route/"+t+"/share_signature")},e.getRouteSegments=function getRouteSegments(t){return s.get("v1/route/"+t+"/segments")},e.listRoutes=function listRoutes(t,e,n){var r={limit:e};"undefined"!==typeof n&&(r.createdAfter=n);return s.get("v1/devices/"+t+"/routes",r)};var s=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=6e4;function getSegmentMetadata(t,e,n){return s.get("v1/devices/"+n+"/segments",{from:t,to:e})}function parseSegmentMetadata(t,e,n){var r={};return n.map((function(e){if(e.offset=Math.round(e.start_time_utc_millis)-t,r[e.canonical_route_name])e.routeOffset=r[e.canonical_route_name];else{var n=Number(e.canonical_name.split("--")[2]);e.segment=n,r[e.canonical_route_name]=n>0?e.offset-u*n:e.offset,e.routeOffset=r[e.canonical_route_name]}return e.offset,e.duration=Math.round(e.end_time_utc_millis-e.start_time_utc_millis),e}))}function segmentsFromMetadata(t){var e=null,n=null,o=[];return t.forEach((function(t){if(t.url&&(40===t.proc_log||40===t.proc_qlog)){var r=t.proc_dcamera>=0,a=40===t.proc_dcamera,s=40===t.proc_camera;if(s&&null===n&&(n=t.offset),t.start_time_utc_millis,!e||e.route!==t.canonical_route_name){e&&finishSegment(e);var l=t.url,c=l.split("/");(0,i.default)(Number(c.pop()))&&(l=c.join("/")),e={dongleId:t.dongle_id,offset:t.offset-t.segment*u,route:t.canonical_route_name,startTime:t.start_time_utc_millis,startCoord:[t.start_lng,t.start_lat],duration:0,segments:0,url:l.replace("chffrprivate.blob.core.windows.net","chffrprivate-vzn.azureedge.net"),events:[],videoAvailableBetweenOffsets:[],hasVideo:s,deviceType:t.devicetype,hpgps:t.hpgps,hasDriverCamera:r,hasDriverCameraStream:a,locStart:"",locEnd:"",distanceMiles:0,cameraStreamSegCount:0,driverCameraStreamSegCount:0},o.push(e)}s||null===n||(e.videoAvailableBetweenOffsets.push([n,t.offset]),n=null),e.hasVideo=e.hasVideo||s,e.hasDriverCamera=e.hasDriverCamera||r,e.hasDriverCameraStream=e.hasDriverCameraStream||a,e.hpgps=e.hpgps||t.hpgps,e.duration=t.offset-e.offset+t.duration,e.segments=Math.max(e.segments,Number(t.canonical_name.split("--").pop())+1),e.events=e.events.concat(t.events),e.endCoord=[t.end_lng,t.end_lat],e.distanceMiles+=t.length,e.cameraStreamSegCount+=Math.floor(s),e.driverCameraStreamSegCount+=Math.floor(a)}})),e&&finishSegment(e),o;function finishSegment(t){if(t.hasVideo){var e=t.videoAvailableBetweenOffsets[t.videoAvailableBetweenOffsets.length-1]||[t.offset,t.offset+t.duration];t.videoAvailableBetweenOffsets=[].concat((0,r.default)(t.videoAvailableBetweenOffsets.slice(0,t.videoAvailableBetweenOffsets.length-1)),[[e[0],t.offset+t.duration]])}}}},function(t,e,n){t.exports={default:n(665),__esModule:!0}},function(t,e,n){n(155),n(666),t.exports=n(56).Array.from},function(t,e,n){"use strict";var r=n(135),i=n(82),o=n(160),a=n(327),s=n(328),u=n(234),l=n(667),c=n(239);i(i.S+i.F*!n(333)((function(t){Array.from(t)})),"Array",{from:function from(t){var e,n,i,f,p=o(t),d="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,y=void 0!==g,m=0,v=c(p);if(y&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==v||d==Array&&s(v))for(n=new d(e=u(p.length));e>m;m++)l(n,m,y?g(p[m],m):p[m]);else for(f=v.call(p),n=new d;!(i=f.next()).done;m++)l(n,m,y?a(f,g,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(101),i=n(157);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeaderboard=function getLeaderboard(){return r.get("v2/leaderboard/")};var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(99)),i=_interopRequireDefault(n(100)),o=function(){var t=(0,i.default)(r.default.mark((function _callee(t,e,n){var i,o;return r.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!u[e]){r.next=2;break}return r.abrupt("return",u[e]);case 2:return i="v1/route/"+e+"/"+t,void 0!==n&&(i+="?"+a.default.stringify(n)),r.next=6,s.get(i);case 6:return o=r.sent,u[e]=o,setTimeout((function(){delete u[e]}),27e5),r.abrupt("return",u[e]);case 10:case"end":return r.stop()}}),_callee,this)})));return function getCached(e,n,r){return t.apply(this,arguments)}}();e.getRouteFiles=function getRouteFiles(t){return o("files",t)},e.getLogUrls=function getLogUrls(t,e){return o("log_urls",t,e)};var a=_interopRequireDefault(n(167)),s=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchMakes=function fetchMakes(){return r.get("v1/vehicles/makes/")},e.fetchModels=function fetchModels(t){return r.get("v1/vehicles/makes/"+t)},e.fetchVehicle=function fetchVehicle(t){return r.get("v1/vehicles/"+t.toString())};var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(102))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(286));e.default=function videoApi(t,e){e||(e=a.VIDEO_HOST);var n=t.split("/").slice(5,7),s=(0,r.default)(n,2),u=s[0],l=s[1],c=(0,o.default)(),f=e+"/hls/"+u+"/"+l+"/";c.configure({baseUrl:f,parse:null});var p=(0,o.default)();return p.configure({baseUrl:t+"/",parse:null}),{getRearCameraStreamIndexUrl:function getRearCameraStreamIndexUrl(){return(0,i.default)(f,"index.m3u8")},getFrontCameraStreamIndexUrl:function getFrontCameraStreamIndexUrl(){return(0,i.default)(f,"dcamera/index.m3u8")},getQcameraStreamIndexUrl:function getQcameraStreamIndexUrl(){return(0,i.default)(t,"qcamera.m3u8")},getRearCameraStreamIndex:function getRearCameraStreamIndex(){return c.get("index.m3u8")},getFrontCameraStreamIndexPath:function getFrontCameraStreamIndexPath(){return c.get("dcamera/index.m3u8")},getQcameraStreamIndex:function getQcameraStreamIndex(t){return p.get("qcamera.m3u8")}}};var i=_interopRequireDefault(n(243)),o=_interopRequireDefault(n(339)),a=n(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){t.exports={default:n(673),__esModule:!0}},function(t,e,n){n(181),n(155),t.exports=n(674)},function(t,e,n){var r=n(238),i=n(73)("iterator"),o=n(137);t.exports=n(56).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(676),__esModule:!0}},function(t,e,n){n(181),n(155),t.exports=n(677)},function(t,e,n){var r=n(91),i=n(239);t.exports=n(56).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){"use strict";t.exports=function isObject(t){return"object"===typeof t&&null!==t}},function(t,e,n){"use strict";function isObjOrFn(t){return("object"===typeof t||"function"===typeof t)&&null!==t}t.exports.get=function(t,e){return isObjOrFn(t)&&"string"===typeof e?(e.split(".").some((function(e,n){if(void 0===(t=t[e]))return!0})),t):t},t.exports.set=function(t,e,n){if(isObjOrFn(t)&&"string"===typeof e){var r=e.split(".");r.forEach((function(e,i){isObjOrFn(t[e])||(t[e]={}),i===r.length-1&&(t[e]=n),t=t[e]}))}}},function(t,e,n){var r=n(183);t.exports=function optional(t){var e=t;return"function"!==typeof e&&(e=r(t)),function optionalValue(t){if(null!=t)return e(t)}}},function(t,e,n){"use strict";var r=n(183);t.exports=function arraySchema(t){var e=t;return"function"!==typeof e&&(e=r(t)),function mapArray(t){return t.map(e)}}},function(t,e,n){"use strict";var r=n(183);t.exports=function parent(t){var e=t;return"function"!==typeof e&&(e=r(t)),function parseParent(t,n){return e(n)}}},function(t,e,n){},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e,n){var r=n(340),i=n(687);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e,n){var r=n(690);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function _setPrototypeOf(e,n){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,n)}t.exports=_setPrototypeOf},function(t,e,n){var r=n(692);t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e){t.exports=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e,n){t.exports=n(695)()},function(t,e,n){"use strict";var r=n(696);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=function warning(){};t.exports=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(18)),c=r(n(8)),f=function styles(t){return{root:{display:"flex",maxHeight:"2em",alignItems:"center"},positionStart:{marginRight:t.spacing.unit},positionEnd:{marginLeft:t.spacing.unit}}};function InputAdornment(t){var e,n=t.children,r=t.component,c=t.classes,f=t.className,p=t.disableTypography,d=t.position,h=(0,a.default)(t,["children","component","classes","className","disableTypography","position"]);return s.default.createElement(r,(0,i.default)({className:(0,u.default)(c.root,(e={},(0,o.default)(e,c.positionStart,"start"===d),(0,o.default)(e,c.positionEnd,"end"===d),e),f)},h),"string"!==typeof n||p?n:s.default.createElement(l.default,{color:"textSecondary"},n))}e.styles=f,InputAdornment.propTypes={},InputAdornment.defaultProps={component:"div",disableTypography:!1};var p=(0,c.default)(f,{name:"MuiInputAdornment"})(InputAdornment);e.default=p},function(t,e,n){"use strict";var r=n(700);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(74),f=function styles(t){return{root:{display:"block",margin:0},display4:t.typography.display4,display3:t.typography.display3,display2:t.typography.display2,display1:t.typography.display1,headline:t.typography.headline,title:t.typography.title,subheading:t.typography.subheading,body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:2*t.spacing.unit},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main}}};function Typography(t){var e,n=t.align,r=t.classes,l=t.className,f=t.component,p=t.color,d=t.gutterBottom,h=t.headlineMapping,g=t.noWrap,y=t.paragraph,m=t.variant,v=(0,a.default)(t,["align","classes","className","component","color","gutterBottom","headlineMapping","noWrap","paragraph","variant"]),_=(0,u.default)(r.root,r[m],(e={},(0,o.default)(e,r["color".concat((0,c.capitalize)(p))],"default"!==p),(0,o.default)(e,r.noWrap,g),(0,o.default)(e,r.gutterBottom,d),(0,o.default)(e,r.paragraph,y),(0,o.default)(e,r["align".concat((0,c.capitalize)(n))],"inherit"!==n),e),l),b=f||(y?"p":h[m])||"span";return s.default.createElement(b,(0,i.default)({className:_},v))}e.styles=f,Typography.propTypes={},Typography.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:{display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3",body2:"aside",body1:"p"},noWrap:!1,paragraph:!1,variant:"body1"};var p=(0,l.default)(f,{name:"MuiTypography"})(Typography);e.default=p},function(t,e){function _setPrototypeOf(e,n){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,n)}t.exports=_setPrototypeOf},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0});var i=n(342),o=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(343)),a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(706));function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=(_defineProperty(r={},o.jss,a.default.jss),_defineProperty(r,o.sheetOptions,i.object),_defineProperty(r,o.sheetsRegistry,a.default.registry),_defineProperty(r,o.managers,i.object),r)},function(t,e,n){"use strict";var r=n(705);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(342);e.default={jss:(0,r.shape)({options:(0,r.shape)({createGenerateClassName:r.func.isRequired}).isRequired,createStyleSheet:r.func.isRequired,removeStyleSheet:r.func.isRequired}),registry:(0,r.shape)({add:r.func.isRequired,toString:r.func.isRequired})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function getDynamicStyles(t){var e=null;for(var n in t){var i=t[n],o="undefined"===typeof i?"undefined":r(i);if("function"===o)e||(e={}),e[n]=i;else if("object"===o&&null!==i&&!Array.isArray(i)){var a=getDynamicStyles(i);a&&(e||(e={}),e[n]=a)}}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(25));var o=function(){function SheetsManager(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SheetsManager),this.sheets=[],this.refs=[],this.keys=[]}return r(SheetsManager,[{key:"get",value:function get(t){var e=this.keys.indexOf(t);return this.sheets[e]}},{key:"add",value:function add(t,e){var n=this.sheets,r=this.refs,i=this.keys,o=n.indexOf(e);return-1!==o?o:(n.push(e),r.push(0),i.push(t),n.length-1)}},{key:"manage",value:function manage(t){var e=this.keys.indexOf(t),n=this.sheets[e];return 0===this.refs[e]&&n.attach(),this.refs[e]++,this.keys[e]||this.keys.splice(e,0,t),n}},{key:"unmanage",value:function unmanage(t){var e=this.keys.indexOf(t);-1!==e?this.refs[e]>0&&(this.refs[e]--,0===this.refs[e]&&this.sheets[e].detach()):(0,i.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function get(){return this.keys.length}}]),SheetsManager}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function cloneStyle(t){if(null==t)return t;var e="undefined"===typeof t?"undefined":r(t);if("string"===e||"number"===e||"function"===e)return t;if(o(t))return t.map(cloneStyle);if((0,i.default)(t))return t;var n={};for(var a in t){var s=t[a];"object"!==("undefined"===typeof s?"undefined":r(s))?n[a]=s:n[a]=cloneStyle(s)}return n};var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(346));var o=Array.isArray},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});t.CSS;e.default=function(t){return t}}).call(this,n(32))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="2f1acc6c3a606b082e5eef5e54414ffb";null==t[n]&&(t[n]=0),e.default=t[n]++}).call(this,n(32))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),a=_interopRequireDefault(n(188)),s=_interopRequireDefault(n(349)),u=_interopRequireDefault(n(713)),l=_interopRequireDefault(n(714)),c=_interopRequireDefault(n(720)),f=_interopRequireDefault(n(721)),p=_interopRequireDefault(n(248)),d=_interopRequireDefault(n(138)),h=_interopRequireDefault(n(348)),g=_interopRequireDefault(n(187)),y=_interopRequireDefault(n(722)),m=_interopRequireDefault(n(723));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v=l.default.concat([c.default,f.default]),_=0,b=function(){function Jss(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Jss),this.id=_++,this.version="9.8.7",this.plugins=new u.default,this.options={createGenerateClassName:h.default,Renderer:a.default?y.default:m.default,plugins:[]},this.generateClassName=(0,h.default)(),this.use.apply(this,v),this.setup(t)}return o(Jss,[{key:"setup",value:function setup(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.createGenerateClassName&&(this.options.createGenerateClassName=t.createGenerateClassName,this.generateClassName=t.createGenerateClassName()),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),(t.virtual||t.Renderer)&&(this.options.Renderer=t.Renderer||(t.virtual?m.default:y.default)),t.plugins&&this.use.apply(this,t.plugins),this}},{key:"createStyleSheet",value:function createStyleSheet(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.index;"number"!==typeof n&&(n=0===p.default.index?0:p.default.index+1);var r=new s.default(t,i({},e,{jss:this,generateClassName:e.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r}},{key:"removeStyleSheet",value:function removeStyleSheet(t){return t.detach(),p.default.remove(t),this}},{key:"createRule",value:function createRule(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===("undefined"===typeof t?"undefined":r(t))&&(n=e,e=t,t=void 0);var i=n;i.jss=this,i.Renderer=this.options.Renderer,i.generateClassName||(i.generateClassName=this.generateClassName),i.classes||(i.classes={});var o=(0,g.default)(t,e,i);return!i.selector&&o instanceof d.default&&(o.selector="."+i.generateClassName(o)),this.plugins.onProcessRule(o),o}},{key:"use",value:function use(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){-1===t.options.plugins.indexOf(e)&&(t.options.plugins.push(e),t.plugins.use(e))})),this}}]),Jss}();e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(25));var o=function(){function PluginsRegistry(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,PluginsRegistry),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return r(PluginsRegistry,[{key:"onCreateRule",value:function onCreateRule(t,e,n){for(var r=0;r<this.hooks.onCreateRule.length;r++){var i=this.hooks.onCreateRule[r](t,e,n);if(i)return i}return null}},{key:"onProcessRule",value:function onProcessRule(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.hooks.onProcessRule.length;n++)this.hooks.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}}},{key:"onProcessStyle",value:function onProcessStyle(t,e,n){for(var r=t,i=0;i<this.hooks.onProcessStyle.length;i++)r=this.hooks.onProcessStyle[i](r,e,n),e.style=r}},{key:"onProcessSheet",value:function onProcessSheet(t){for(var e=0;e<this.hooks.onProcessSheet.length;e++)this.hooks.onProcessSheet[e](t)}},{key:"onUpdate",value:function onUpdate(t,e,n){for(var r=0;r<this.hooks.onUpdate.length;r++)this.hooks.onUpdate[r](t,e,n)}},{key:"onChangeValue",value:function onChangeValue(t,e,n){for(var r=t,i=0;i<this.hooks.onChangeValue.length;i++)r=this.hooks.onChangeValue[i](r,e,n);return r}},{key:"use",value:function use(t){for(var e in t)this.hooks[e]?this.hooks[e].push(t[e]):(0,i.default)(!1,'[JSS] Unknown hook "%s".',e)}}]),PluginsRegistry}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(715)),i=_interopRequireDefault(n(716)),o=_interopRequireDefault(n(717)),a=_interopRequireDefault(n(718)),s=_interopRequireDefault(n(719));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={"@charset":r.default,"@import":r.default,"@namespace":r.default,"@keyframes":i.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},l=Object.keys(u).map((function(t){var e=new RegExp("^"+t),n=u[t];return{onCreateRule:function onCreateRule(t,r,i){return e.test(t)?new n(t,r,i):null}}}));e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var i=function(){function SimpleRule(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SimpleRule),this.type="simple",this.isProcessed=!1,this.key=t,this.value=e,this.options=n}return r(SimpleRule,[{key:"toString",value:function toString(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"}}]),SimpleRule}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(161));var a=function(){function KeyframesRule(t,e,n){for(var i in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,KeyframesRule),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=n,this.rules=new o.default(r({},n,{parent:this})),e)this.rules.add(i,e[i],r({},this.options,{parent:this,selector:i}));this.rules.process()}return i(KeyframesRule,[{key:"toString",value:function toString(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},e=this.rules.toString(t);return e&&(e+="\n"),this.key+" {\n"+e+"}"}}]),KeyframesRule}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(161));var a=function(){function ConditionalRule(t,e,n){for(var i in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ConditionalRule),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=n,this.rules=new o.default(r({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}return i(ConditionalRule,[{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"addRule",value:function addRule(t,e,n){var r=this.rules.add(t,e,n);return this.options.jss.plugins.onProcessRule(r),r}},{key:"toString",value:function toString(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},e=this.rules.toString(t);return e?this.key+" {\n"+e+"\n}":""}}]),ConditionalRule}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(247));var o=function(){function FontFaceRule(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,FontFaceRule),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=e,this.options=n}return r(FontFaceRule,[{key:"toString",value:function toString(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=(0,i.default)(this.key,this.style[n]),this.style[n+1]&&(e+="\n");return e}return(0,i.default)(this.key,this.style,t)}}]),FontFaceRule}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(247));var o=function(){function ViewportRule(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ViewportRule),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=e,this.options=n}return r(ViewportRule,[{key:"toString",value:function toString(t){return(0,i.default)(this.key,this.style,t)}}]),ViewportRule}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(138)),i=_interopRequireDefault(n(187)),o=_interopRequireDefault(n(346));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default={onCreateRule:function onCreateRule(t,e,n){if(!(0,o.default)(e))return null;var r=e,a=(0,i.default)(t,{},n);return r.subscribe((function(t){for(var e in t)a.prop(e,t[e])})),a},onProcessRule:function onProcessRule(t){if(t instanceof r.default){var e=t,n=e.style,i=function _loop(t){var r=n[t];if(!(0,o.default)(r))return"continue";delete n[t],r.subscribe({next:function next(n){e.prop(t,n)}})};for(var a in n)i(a)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(161)),i=_interopRequireDefault(n(138)),o=_interopRequireDefault(n(187));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=Date.now(),s="fnValues"+a,u="fnStyle"+ ++a;e.default={onCreateRule:function onCreateRule(t,e,n){if("function"!==typeof e)return null;var r=(0,o.default)(t,{},n);return r[u]=e,r},onProcessStyle:function onProcessStyle(t,e){var n={};for(var r in t){var i=t[r];"function"===typeof i&&(delete t[r],n[r]=i)}return(e=e)[s]=n,t},onUpdate:function onUpdate(t,e){if(e.rules instanceof r.default)e.rules.update(t);else if(e instanceof i.default){if((e=e)[s])for(var n in e[s])e.prop(n,e[s][n](t));var o=(e=e)[u];if(o){var a=o(t);for(var l in a)e.prop(l,a[l])}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=_interopRequireDefault(n(25)),o=_interopRequireDefault(n(248)),a=_interopRequireDefault(n(138)),s=_interopRequireDefault(n(186));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=function memoize(t){var e=void 0;return function(){return e||(e=t()),e}};function getPropertyValue(t,e){try{return t.style.getPropertyValue(e)}catch(n){return""}}function setProperty(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=(0,s.default)(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.style.setProperty(e,r)}catch(i){return!1}return!0}function removeProperty(t,e){try{t.style.removeProperty(e)}catch(n){(0,i.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',n.message,e)}}var l=1,c=7,f=function(){var t=function extractKey(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.substr(e,t.indexOf("{")-1)};return function(e){if(e.type===l)return e.selectorText;if(e.type===c){var n=e.name;if(n)return"@keyframes "+n;var r=e.cssText;return"@"+t(r,r.indexOf("keyframes"))}return t(e.cssText)}}();function setSelector(t,e){return t.selectorText=e,t.selectorText===e}var p=u((function(){return document.head||document.getElementsByTagName("head")[0]})),d=function(){var t=void 0,e=!1;return function(n){var r={};t||(t=document.createElement("style"));for(var i=0;i<n.length;i++){var o=n[i];if(o instanceof a.default){var s=o.selector;if(s&&-1!==s.indexOf("\\")){e||(p().appendChild(t),e=!0),t.textContent=s+" {}";var u=t.sheet;if(u){var l=u.cssRules;l&&(r[l[0].selectorText]=o.key)}}}}return e&&(p().removeChild(t),e=!1),r}}();function findPrevNode(t){var e=o.default.registry;if(e.length>0){var n=function findHigherSheet(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n)return n.renderer.element;if(n=function findHighestSheet(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))return n.renderer.element.nextElementSibling}var r=t.insertionPoint;if(r&&"string"===typeof r){var a=function findCommentNode(t){for(var e=p(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(a)return a.nextSibling;(0,i.default)("jss"===r,'[JSS] Insertion point "%s" not found.',r)}return null}var h=u((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),g=function(){function DomRenderer(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DomRenderer),this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.getKey=f,this.getUnescapedKeysMap=d,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||document.createElement("style"),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=h();a&&this.element.setAttribute("nonce",a)}return r(DomRenderer,[{key:"attach",value:function attach(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function insertStyle(t,e){var n=e.insertionPoint,r=findPrevNode(e);if(r){var o=r.parentNode;o&&o.insertBefore(t,r)}else if(n&&"number"===typeof n.nodeType){var a=n,s=a.parentNode;s?s.insertBefore(t,a.nextSibling):(0,i.default)(!1,"[JSS] Insertion point is not in the DOM.")}else p().insertBefore(t,r)}(this.element,this.sheet.options))}},{key:"detach",value:function detach(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function deploy(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function insertRule(t,e){var n=this.element.sheet,r=n.cssRules,o=t.toString();if(e||(e=r.length),!o)return!1;try{n.insertRule(o,e)}catch(a){return(0,i.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",t),!1}return this.hasInsertedRules=!0,r[e]}},{key:"deleteRule",value:function deleteRule(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),!0)}},{key:"indexOf",value:function indexOf(t){for(var e=this.element.sheet.cssRules,n=0;n<e.length;n++)if(t===e[n])return n;return-1}},{key:"replaceRule",value:function replaceRule(t,e){var n=this.indexOf(t),r=this.insertRule(e,n);return this.element.sheet.deleteRule(n),r}},{key:"getRules",value:function getRules(){return this.element.sheet.cssRules}}]),DomRenderer}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var i=function(){function VirtualRenderer(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,VirtualRenderer)}return r(VirtualRenderer,[{key:"setProperty",value:function setProperty(){return!0}},{key:"getPropertyValue",value:function getPropertyValue(){return""}},{key:"removeProperty",value:function removeProperty(){}},{key:"setSelector",value:function setSelector(){return!0}},{key:"getKey",value:function getKey(){return""}},{key:"attach",value:function attach(){}},{key:"detach",value:function detach(){}},{key:"deploy",value:function deploy(){}},{key:"insertRule",value:function insertRule(){return!1}},{key:"deleteRule",value:function deleteRule(){return!0}},{key:"replaceRule",value:function replaceRule(){return!1}},{key:"getRules",value:function getRules(){}},{key:"indexOf",value:function indexOf(){return-1}}]),VirtualRenderer}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();e.default=function jssGlobal(){return{onCreateRule:function onCreateRule(t,e,n){if(t===a)return new u(t,e,n);if("@"===t[0]&&t.substr(0,s.length)===s)return new l(t,e,n);var r=n.parent;return r&&("global"!==r.type&&"global"!==r.options.parent.type||(n.global=!0)),n.global&&(n.selector=t),null},onProcessRule:function onProcessRule(t){"style"===t.type&&(!function handleNestedGlobalContainerRule(t){var e=t.options,n=t.style,i=n[a];if(!i)return;for(var o in i)e.sheet.addRule(o,i[o],r({},e,{selector:addScope(o,t.selector)}));delete n[a]}(t),function handlePrefixedGlobalRule(t){var e=t.options,n=t.style;for(var i in n)if(i.substr(0,a.length)===a){var o=addScope(i.substr(a.length),t.selector);e.sheet.addRule(o,n[i],r({},e,{selector:o})),delete n[i]}}(t))}}};var o=n(344);function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a="@global",s="@global ",u=function(){function GlobalContainerRule(t,e,n){for(var i in _classCallCheck(this,GlobalContainerRule),this.type="global",this.key=t,this.options=n,this.rules=new o.RuleList(r({},n,{parent:this})),e)this.rules.add(i,e[i],{selector:i});this.rules.process()}return i(GlobalContainerRule,[{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"addRule",value:function addRule(t,e,n){var r=this.rules.add(t,e,n);return this.options.jss.plugins.onProcessRule(r),r}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"toString",value:function toString(){return this.rules.toString()}}]),GlobalContainerRule}(),l=function(){function GlobalPrefixedRule(t,e,n){_classCallCheck(this,GlobalPrefixedRule),this.name=t,this.options=n;var i=t.substr(s.length);this.rule=n.jss.createRule(i,e,r({},n,{parent:this,selector:i}))}return i(GlobalPrefixedRule,[{key:"toString",value:function toString(t){return this.rule.toString(t)}}]),GlobalPrefixedRule}(),c=/\s*,\s*/g;function addScope(t,e){for(var n=t.split(c),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function jssNested(){function getReplaceRef(t){return function(e,n){var r=t.getRule(n);return r?r.selector:((0,i.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",n,t.options.meta||t),n)}}var t=function hasAnd(t){return-1!==t.indexOf("&")};function replaceParentRefs(e,n){for(var r=n.split(o),i=e.split(o),s="",u=0;u<r.length;u++)for(var l=r[u],c=0;c<i.length;c++){var f=i[c];s&&(s+=", "),s+=t(f)?f.replace(a,l):l+" "+f}return s}function getOptions(t,e,n){if(n)return r({},n,{index:n.index+1});var i=t.options.nestingLevel;return i=void 0===i?1:i+1,r({},t.options,{nestingLevel:i,index:e.indexOf(t)+1})}return{onProcessStyle:function onProcessStyle(e,n){if("style"!==n.type)return e;var i=n.options.parent,o=void 0,a=void 0;for(var u in e){var l=t(u),c="@"===u[0];if(l||c){if(o=getOptions(n,i,o),l){var f=replaceParentRefs(u,n.selector);a||(a=getReplaceRef(i)),f=f.replace(s,a),i.addRule(f,e[u],r({},o,{selector:f}))}else c&&i.addRule(u,null,o).addRule(n.key,e[u],{selector:n.selector});delete e[u]}}return e}}};var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(25));var o=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelCase(){return{onProcessStyle:function onProcessStyle(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=convertCase(t[e]);return t}return convertCase(t)},onChangeValue:function onChangeValue(t,e,n){var i=(0,r.default)(e);return e===i?t:(n.prop(i,t),null)}}};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(727));function convertCase(t){var e={};for(var n in t)e[(0,r.default)(n)]=t[n];return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(convertCase):e.fallbacks=convertCase(t.fallbacks)),e}},function(t,e,n){"use strict";var r=/[A-Z]/g,i=/^ms-/,o={};t.exports=function hyphenateStyleName(t){return t in o?o[t]:o[t]=t.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function addCamelCasedVersion(t){var e=/(-[a-z])/g,n=function replace(t){return t[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}e.default=function defaultUnit(){var t=addCamelCasedVersion(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{onProcessStyle:function onProcessStyle(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=iterate(r,e[r],t);return e},onChangeValue:function onChangeValue(e,n){return iterate(n,e,t)}}};var i=addCamelCasedVersion(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(729)).default);function iterate(t,e,n){if(!e)return e;var o=e,a="undefined"===typeof e?"undefined":r(e);switch("object"===a&&Array.isArray(e)&&(a="array"),a){case"object":if("fallbacks"===t){for(var s in e)e[s]=iterate(s,e[s],n);break}for(var u in e)e[u]=iterate(t+"-"+u,e[u],n);break;case"array":for(var l=0;l<e.length;l++)e[l]=iterate(t,e[l],n);break;case"number":0!==e&&(o=e+(n[t]||i[t]||""))}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function jssVendorPrefixer(){return{onProcessRule:function onProcessRule(t){"keyframes"===t.type&&(t.key="@"+r.prefix.css+t.key.substr(1))},onProcessStyle:function onProcessStyle(t,e){if("style"!==e.type)return t;for(var n in t){var i=t[n],o=!1,a=r.supportedProperty(n);a&&a!==n&&(o=!0);var s=!1,u=r.supportedValue(a,i);u&&u!==i&&(s=!0),(o||s)&&(o&&delete t[n],t[a||n]=u||i)}return t},onChangeValue:function onChangeValue(t,e){return r.supportedValue(e,t)}}};var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(731))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedValue=e.supportedProperty=e.prefix=void 0;var r=_interopRequireDefault(n(249)),i=_interopRequireDefault(n(732)),o=_interopRequireDefault(n(734));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default={prefix:r.default,supportedProperty:i.default,supportedValue:o.default},e.prefix=r.default,e.supportedProperty=i.default,e.supportedValue=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function supportedProperty(t){if(!a)return t;if(null!=s[t])return s[t];(0,o.default)(t)in a.style?s[t]=t:i.default.js+(0,o.default)("-"+t)in a.style?s[t]=i.default.css+t:s[t]=!1;return s[t]};var r=_interopRequireDefault(n(188)),i=_interopRequireDefault(n(249)),o=_interopRequireDefault(n(733));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=void 0,s={};if(r.default){a=document.createElement("p");var u=window.getComputedStyle(document.documentElement,"");for(var l in u)isNaN(l)||(s[u[l]]=u[l])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelize(t){return t.replace(r,toUpper)};var r=/[-\s]+(.)?/g;function toUpper(t,e){return e?e.toUpperCase():""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function supportedValue(t,e){if(!a)return e;if("string"!==typeof e||!isNaN(parseInt(e,10)))return e;var n=t+e;if(null!=o[n])return o[n];try{a.style[t]=e}catch(r){return o[n]=!1,!1}""!==a.style[t]?o[n]=e:("-ms-flex"===(e=i.default.css+e)&&(e="-ms-flexbox"),a.style[t]=e,""!==a.style[t]&&(o[n]=e));o[n]||(o[n]=!1);return a.style[t]="",o[n]};var r=_interopRequireDefault(n(188)),i=_interopRequireDefault(n(249));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var o={},a=void 0;r.default&&(a=document.createElement("p"))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function jssPropsSort(){function sort(t,e){return t.length-e.length}return{onProcessStyle:function onProcessStyle(t,e){if("style"!==e.type)return t;var n={},r=Object.keys(t).sort(sort);for(var i in r)n[r[i]]=t[r[i]];return n}}}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createMixins(t,e,n){var r;return(0,o.default)({gutters:function gutters(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:2*e.unit,paddingRight:2*e.unit},n,(0,i.default)({},t.up("sm"),(0,o.default)({paddingLeft:3*e.unit,paddingRight:3*e.unit},n[t.up("sm")])))},toolbar:(r={minHeight:56},(0,i.default)(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,i.default)(r,t.up("sm"),{minHeight:64}),r)},n)};var i=r(n(28)),o=r(n(36))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createPalette(t){var e=t.primary,n=void 0===e?{light:s.default[300],main:s.default[500],dark:s.default[700]}:e,r=t.secondary,g=void 0===r?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:r,y=t.error,m=void 0===y?{light:c.default[300],main:c.default[500],dark:c.default[700]}:y,v=t.type,_=void 0===v?"light":v,b=t.contrastThreshold,S=void 0===b?3:b,E=t.tonalOffset,x=void 0===E?.2:E,w=(0,o.default)(t,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function getContrastText(t){return(0,p.getContrastRatio)(t,h.text.primary)>=S?h.text.primary:d.text.primary}function augmentColor(t,e,n,r){!t.main&&t[e]&&(t.main=t[e]),addLightOrDark(t,"light",n,x),addLightOrDark(t,"dark",r,x),t.contrastText||(t.contrastText=getContrastText(t.main))}augmentColor(n,500,300,700),augmentColor(g,"A400","A200","A700"),augmentColor(m,500,300,700);var T={dark:h,light:d};return(0,a.default)((0,i.default)({common:f.default,type:_,primary:n,secondary:g,error:m,grey:l.default,contrastThreshold:S,getContrastText:getContrastText,augmentColor:augmentColor,tonalOffset:x},T[_]),w,{clone:!1})},e.dark=e.light=void 0;var i=r(n(36)),o=r(n(11)),a=(r(n(64)),r(n(189))),s=r(n(738)),u=r(n(739)),l=r(n(740)),c=r(n(741)),f=r(n(353)),p=n(139),d={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.default.white,default:l.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};e.light=d;var h={text:{primary:f.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.default[800],default:"#303030"},action:{active:f.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function addLightOrDark(t,e,n,r){t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,p.lighten)(t.main,r):"dark"===e&&(t.dark=(0,p.darken)(t.main,1.5*r)))}e.dark=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};e.default=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createTypography(t,e){var n="function"===typeof e?e(t):e,r=n.fontFamily,s=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,u=n.fontSize,l=void 0===u?14:u,c=n.fontWeightLight,f=void 0===c?300:c,p=n.fontWeightRegular,d=void 0===p?400:p,h=n.fontWeightMedium,g=void 0===h?500:h,y=n.htmlFontSize,m=void 0===y?16:y,v=n.allVariants,_=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","allVariants"]),b=l/14;function pxToRem(t){return"".concat(t/m*b,"rem")}return(0,a.default)({pxToRem:pxToRem,round:round,fontFamily:s,fontSize:l,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:g,display4:(0,i.default)({fontSize:pxToRem(112),fontWeight:f,fontFamily:s,letterSpacing:"-.04em",lineHeight:"".concat(round(128/112),"em"),marginLeft:"-.04em",color:t.text.secondary},v),display3:(0,i.default)({fontSize:pxToRem(56),fontWeight:d,fontFamily:s,letterSpacing:"-.02em",lineHeight:"".concat(round(73/56),"em"),marginLeft:"-.02em",color:t.text.secondary},v),display2:(0,i.default)({fontSize:pxToRem(45),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(48/45),"em"),marginLeft:"-.02em",color:t.text.secondary},v),display1:(0,i.default)({fontSize:pxToRem(34),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(41/34),"em"),color:t.text.secondary},v),headline:(0,i.default)({fontSize:pxToRem(24),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(32.5/24),"em"),color:t.text.primary},v),title:(0,i.default)({fontSize:pxToRem(21),fontWeight:g,fontFamily:s,lineHeight:"".concat(round(24.5/21),"em"),color:t.text.primary},v),subheading:(0,i.default)({fontSize:pxToRem(16),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(1.5),"em"),color:t.text.primary},v),body2:(0,i.default)({fontSize:pxToRem(14),fontWeight:g,fontFamily:s,lineHeight:"".concat(round(24/14),"em"),color:t.text.primary},v),body1:(0,i.default)({fontSize:pxToRem(14),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(20.5/14),"em"),color:t.text.primary},v),caption:(0,i.default)({fontSize:pxToRem(12),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(1.375),"em"),color:t.text.secondary},v),button:(0,i.default)({fontSize:pxToRem(14),textTransform:"uppercase",fontWeight:g,fontFamily:s,color:t.text.primary},v)},_,{clone:!1})};var i=r(n(36)),o=r(n(11)),a=r(n(189));function round(t){return Math.round(1e5*t)/1e5}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=.2,i=.14,o=.12;function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0, 0, 0, ").concat(r,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0, 0, 0, ").concat(i,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0, 0, 0, ").concat(o,")")].join(",")}var a=["none",createShadow(0,1,3,0,0,1,1,0,0,2,1,-1),createShadow(0,1,5,0,0,2,2,0,0,3,1,-2),createShadow(0,1,8,0,0,3,4,0,0,3,3,-2),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={borderRadius:4};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={unit:8};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};e.default=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(36)),o=(r(n(245)),r(n(64)),r(n(189)));function arrayMerge(t,e){return e}var a=function getStylesCreator(t){var e="function"===typeof t;return{create:function create(n,r){var a=e?t(n):t;if(!r||!n.overrides||!n.overrides[r])return a;var s=n.overrides[r],u=(0,i.default)({},a);return Object.keys(s).forEach((function(t){u[t]=(0,o.default)(u[t],s[t],{arrayMerge:arrayMerge})})),u},options:{},themingEnabled:e}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function getThemeProps(t){var e=t.theme,n=t.name;return n&&e.props&&e.props[n]?e.props[n]:{}};e.default=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(139),f=r(n(112)),p=n(74),d=function styles(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),width:48,height:48,padding:0,borderRadius:"50%",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,c.fade)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,c.fade)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,c.fade)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function IconButton(t){var e,n=t.children,r=t.classes,l=t.className,c=t.color,d=t.disabled,h=(0,a.default)(t,["children","classes","className","color","disabled"]);return s.default.createElement(f.default,(0,i.default)({className:(0,u.default)(r.root,(e={},(0,o.default)(e,r["color".concat((0,p.capitalize)(c))],"default"!==c),(0,o.default)(e,r.disabled,d),e),l),centerRipple:!0,focusRipple:!0,disabled:d},h),s.default.createElement("span",{className:r.label},n))}e.styles=d,IconButton.propTypes={},IconButton.defaultProps={color:"default",disabled:!1};var h=(0,l.default)(d,{name:"MuiIconButton"})(IconButton);e.default=h},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(184)),p=r(n(0)),d=(r(n(9)),r(n(55))),h=r(n(3)),g=r(n(105)),y=r(n(190)),m=r(n(8)),v=n(751),_=r(n(752)),b=r(n(762)),S={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};e.styles=S;var E=function(t){function ButtonBase(){var t,e,n;(0,s.default)(this,ButtonBase);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=ButtonBase.__proto__||Object.getPrototypeOf(ButtonBase)).call.apply(t,[this].concat(i))),n.ripple=null,n.keyDown=!1,n.button=null,n.focusVisibleTimeout=null,n.focusVisibleCheckTime=50,n.focusVisibleMaxCheckTimes=5,n.handleMouseDown=(0,b.default)((0,f.default)(n),"MouseDown","start",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.handleMouseUp=(0,b.default)((0,f.default)(n),"MouseUp","stop"),n.handleMouseLeave=(0,b.default)((0,f.default)(n),"MouseLeave","stop",(function(t){n.state.focusVisible&&t.preventDefault()})),n.handleTouchStart=(0,b.default)((0,f.default)(n),"TouchStart","start"),n.handleTouchEnd=(0,b.default)((0,f.default)(n),"TouchEnd","stop"),n.handleTouchMove=(0,b.default)((0,f.default)(n),"TouchMove","stop"),n.handleBlur=(0,b.default)((0,f.default)(n),"Blur","stop",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.state={},n.onRippleRef=function(t){n.ripple=t},n.onFocusVisibleHandler=function(t){n.keyDown=!1,n.setState({focusVisible:!0}),n.props.onFocusVisible&&n.props.onFocusVisible(t)},n.handleKeyDown=function(t){var e=n.props,r=e.component,i=e.focusRipple,o=e.onKeyDown,a=e.onClick,s=(0,g.default)(t);i&&!n.keyDown&&n.state.focusVisible&&n.ripple&&"space"===s&&(n.keyDown=!0,t.persist(),n.ripple.stop(t,(function(){n.ripple.start(t)}))),o&&o(t),t.target!==t.currentTarget||!r||"button"===r||"space"!==s&&"enter"!==s||"A"===n.button.tagName&&n.button.href||(t.preventDefault(),a&&a(t))},n.handleKeyUp=function(t){n.props.focusRipple&&"space"===(0,g.default)(t)&&n.ripple&&n.state.focusVisible&&(n.keyDown=!1,t.persist(),n.ripple.stop(t,(function(){n.ripple.pulsate(t)}))),n.props.onKeyUp&&n.props.onKeyUp(t)},n.handleFocus=function(t){n.props.disabled||(n.button||(n.button=t.currentTarget),t.persist(),(0,v.detectFocusVisible)((0,f.default)(n),n.button,(function(){n.onFocusVisibleHandler(t)})),n.props.onFocus&&n.props.onFocus(t))},e))}return(0,c.default)(ButtonBase,t),(0,u.default)(ButtonBase,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.button=d.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,y.default)(this.button)),this.props.action&&this.props.action({focusVisible:function focusVisible(){t.setState({focusVisible:!0}),t.button.focus()}})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.props.focusRipple&&!this.props.disableRipple&&!e.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.button=null,clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function render(){var t,e=this.props,n=(e.action,e.buttonRef),r=e.centerRipple,s=e.children,u=e.classes,l=e.className,c=e.component,f=e.disabled,d=e.disableRipple,g=(e.disableTouchRipple,e.focusRipple,e.focusVisibleClassName),y=(e.onBlur,e.onFocus,e.onFocusVisible,e.onKeyDown,e.onKeyUp,e.onMouseDown,e.onMouseLeave,e.onMouseUp,e.onTouchEnd,e.onTouchMove,e.onTouchStart,e.tabIndex),m=e.TouchRippleProps,v=e.type,b=(0,a.default)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),S=(0,h.default)(u.root,(t={},(0,o.default)(t,u.disabled,f),(0,o.default)(t,u.focusVisible,this.state.focusVisible),(0,o.default)(t,g,this.state.focusVisible),t),l),E={},x=c;return"button"===x&&b.href&&(x="a"),"button"===x?(E.type=v||"button",E.disabled=f):E.role="button",p.default.createElement(x,(0,i.default)({onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,tabIndex:f?"-1":y,className:S,ref:n},E,b),s,d||f?null:p.default.createElement(_.default,(0,i.default)({innerRef:this.onRippleRef,center:r},m)))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return"undefined"===typeof e.focusVisible?{focusVisible:!1,lastDisabled:t.disabled}:!e.prevState&&t.disabled&&e.focusVisible?{focusVisible:!1,lastDisabled:t.disabled}:{lastDisabled:t.disabled}}}]),ButtonBase}(p.default.Component);E.propTypes={},E.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var x=(0,m.default)(S,{name:"MuiButtonBase"})(E);e.default=x},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.detectFocusVisible=function detectFocusVisible(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var i=(0,o.default)(e);a.focusKeyPressed&&(i.activeElement===e||e.contains(i.activeElement))?n():r<t.focusVisibleMaxCheckTimes&&detectFocusVisible(t,e,n,r+1)}),t.focusVisibleCheckTime)},e.listenForFocusKeys=function listenForFocusKeys(t){t.addEventListener("keyup",u)};var i=r(n(105)),o=(r(n(64)),r(n(103))),a={focusKeyPressed:!1,keyUpEventTimeout:-1};var s=["tab","enter","space","esc","up","down","left","right"];var u=function handleKeyUpEvent(t){(function isFocusKey(t){return s.indexOf((0,i.default)(t))>-1})(t)&&(a.focusKeyPressed=!0,clearTimeout(a.keyUpEventTimeout),a.keyUpEventTimeout=setTimeout((function(){a.focusKeyPressed=!1}),1e3))}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=e.DELAY_RIPPLE=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(355)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(184)),p=r(n(0)),d=(r(n(9)),r(n(55))),h=r(n(756)),g=r(n(3)),y=r(n(8)),m=r(n(760)),v=550,_=80;e.DELAY_RIPPLE=_;var b=function styles(t){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(v,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(v,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};e.styles=b;var S=function(t){function TouchRipple(){var t,e,n;(0,s.default)(this,TouchRipple);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=TouchRipple.__proto__||Object.getPrototypeOf(TouchRipple)).call.apply(t,[this].concat(i))),n.ignoringMouseDown=!1,n.startTimer=null,n.startTimerCommit=null,n.state={nextKey:0,ripples:[]},n.pulsate=function(){n.start({},{pulsate:!0})},n.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=e.pulsate,o=void 0!==i&&i,a=e.center,s=void 0===a?n.props.center||e.pulsate:a,u=e.fakeElement,l=void 0!==u&&u;if("mousedown"===t.type&&n.ignoringMouseDown)n.ignoringMouseDown=!1;else{"touchstart"===t.type&&(n.ignoringMouseDown=!0);var c,p,h,g=l?null:d.default.findDOMNode((0,f.default)(n)),y=g?g.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(y.width/2),p=Math.round(y.height/2);else{var m=t.clientX?t.clientX:t.touches[0].clientX,v=t.clientY?t.clientY:t.touches[0].clientY;c=Math.round(m-y.left),p=Math.round(v-y.top)}if(s)(h=Math.sqrt((2*Math.pow(y.width,2)+Math.pow(y.height,2))/3))%2===0&&(h+=1);else{var b=2*Math.max(Math.abs((g?g.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((g?g.clientHeight:0)-p),p)+2;h=Math.sqrt(Math.pow(b,2)+Math.pow(S,2))}t.touches?(n.startTimerCommit=function(){n.startCommit({pulsate:o,rippleX:c,rippleY:p,rippleSize:h,cb:r})},n.startTimer=setTimeout((function(){n.startTimerCommit&&(n.startTimerCommit(),n.startTimerCommit=null)}),_)):n.startCommit({pulsate:o,rippleX:c,rippleY:p,rippleSize:h,cb:r})}},n.startCommit=function(t){var e=t.pulsate,r=t.rippleX,i=t.rippleY,o=t.rippleSize,s=t.cb;n.setState((function(t){return{nextKey:t.nextKey+1,ripples:(0,a.default)(t.ripples).concat([p.default.createElement(m.default,{key:t.nextKey,classes:n.props.classes,timeout:{exit:v,enter:v},pulsate:e,rippleX:r,rippleY:i,rippleSize:o})])}}),s)},n.stop=function(t,e){clearTimeout(n.startTimer);var r=n.state.ripples;if("touchend"===t.type&&n.startTimerCommit)return t.persist(),n.startTimerCommit(),n.startTimerCommit=null,void(n.startTimer=setTimeout((function(){n.stop(t,e)}),0));n.startTimerCommit=null,r&&r.length&&n.setState({ripples:r.slice(1)},e)},e))}return(0,c.default)(TouchRipple,t),(0,u.default)(TouchRipple,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.startTimer)}},{key:"render",value:function render(){var t=this.props,e=(t.center,t.classes),n=t.className,r=(0,o.default)(t,["center","classes","className"]);return p.default.createElement(h.default,(0,i.default)({component:"span",enter:!0,exit:!0,className:(0,g.default)(e.root,n)},r),this.state.ripples)}}]),TouchRipple}(p.default.PureComponent);S.propTypes={},S.defaultProps={center:!1};var E=(0,y.default)(b,{flip:!1,name:"MuiTouchRipple"})(S);e.default=E},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=_interopRequireDefault(n(252)),o=n(0),a=_interopRequireDefault(o),s=n(759);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},l=(i.default.any,i.default.node,i.default.bool,i.default.bool,i.default.bool,i.default.func,function(t){function TransitionGroup(e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionGroup);var r=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,e,n));return r.state={children:(0,s.getChildMapping)(e.children,(function(t){return(0,o.cloneElement)(t,{onExited:r.handleExited.bind(r,t),in:!0,appear:r.getProp(t,"appear"),enter:r.getProp(t,"enter"),exit:r.getProp(t,"exit")})}))},r}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(TransitionGroup,t),TransitionGroup.prototype.getChildContext=function getChildContext(){return{transitionGroup:{isMounting:!this.appeared}}},TransitionGroup.prototype.getProp=function getProp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[e]?n[e]:t.props[e]},TransitionGroup.prototype.componentDidMount=function componentDidMount(){this.appeared=!0},TransitionGroup.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){var e=this,n=this.state.children,r=(0,s.getChildMapping)(t.children),i=(0,s.mergeChildMappings)(n,r);Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var u=a in n,l=a in r,c=n[a],f=(0,o.isValidElement)(c)&&!c.props.in;!l||u&&!f?l||!u||f?l&&u&&(0,o.isValidElement)(c)&&(i[a]=(0,o.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:c.props.in,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:!0,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})}})),this.setState({children:i})},TransitionGroup.prototype.handleExited=function handleExited(t,e){var n=(0,s.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.setState((function(e){var n=r({},e.children);return delete n[t.key],{children:n}})))},TransitionGroup.prototype.render=function render(){var t=this.props,e=t.component,n=t.childFactory,r=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component","childFactory"]),i=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?i:a.default.createElement(e,r,i)},TransitionGroup}(a.default.Component));l.childContextTypes={transitionGroup:i.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function childFactory(t){return t}},e.default=l,t.exports=e.default},function(t,e,n){"use strict";var r=n(758);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=function getChildMapping(t,e){var n=Object.create(null);t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function mapper(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)}));return n},e.mergeChildMappings=function mergeChildMappings(t,e){function getValueForKey(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var n=Object.create(null),r=[];for(var i in t)i in e?r.length&&(n[i]=r,r=[]):r.push(i);var o=void 0,a={};for(var s in e){if(n[s])for(o=0;o<n[s].length;o++){var u=n[s][o];a[n[s][o]]=getValueForKey(u)}a[s]=getValueForKey(s)}for(o=0;o<r.length;o++)a[r[o]]=getValueForKey(r[o]);return a};var r=n(0)},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(3))),d=r(n(162)),h=function(t){function Ripple(){var t,e,n;(0,s.default)(this,Ripple);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Ripple.__proto__||Object.getPrototypeOf(Ripple)).call.apply(t,[this].concat(i))),n.state={visible:!1,leaving:!1},n.handleEnter=function(){n.setState({visible:!0})},n.handleExit=function(){n.setState({leaving:!0})},e))}return(0,c.default)(Ripple,t),(0,u.default)(Ripple,[{key:"render",value:function render(){var t,e,n=this.props,r=n.classes,s=n.className,u=n.pulsate,l=n.rippleX,c=n.rippleY,h=n.rippleSize,g=(0,a.default)(n,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),y=this.state,m=y.visible,v=y.leaving,_=(0,p.default)(r.ripple,(t={},(0,o.default)(t,r.rippleVisible,m),(0,o.default)(t,r.ripplePulsate,u),t),s),b={width:h,height:h,top:-h/2+c,left:-h/2+l},S=(0,p.default)(r.child,(e={},(0,o.default)(e,r.childLeaving,v),(0,o.default)(e,r.childPulsate,u),e));return f.default.createElement(d.default,(0,i.default)({onEnter:this.handleEnter,onExit:this.handleExit},g),f.default.createElement("span",{className:_,style:b},f.default.createElement("span",{className:S})))}}]),Ripple}(f.default.Component);h.propTypes={},h.defaultProps={pulsate:!1};var g=h;e.default=g},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0,e.transitionTimeout=function transitionTimeout(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(252));e.timeoutsShape=r.default.oneOfType([r.default.number,r.default.shape({enter:r.default.number,exit:r.default.number}).isRequired]),e.classNamesShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,exit:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterDone:r.default.string,enterActive:r.default.string,exit:r.default.string,exitDone:r.default.string,exitActive:r.default.string})])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function createRippleHandler(t,e,n,r){return function handleEvent(i){r&&r.call(t,i);var o=!1;return i.defaultPrevented&&(o=!0),t.props.disableTouchRipple&&"Blur"!==e&&(o=!0),!o&&t.ripple&&t.ripple[n](i),"function"===typeof t.props["on".concat(e)]&&t.props["on".concat(e)](i),!0}};e.default=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(74),f=function styles(t){return{root:{userSelect:"none",fontSize:24,width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled}}};function Icon(t){var e=t.children,n=t.classes,r=t.className,l=t.color,f=(0,a.default)(t,["children","classes","className","color"]);return s.default.createElement("span",(0,i.default)({className:(0,u.default)("material-icons",n.root,(0,o.default)({},n["color".concat((0,c.capitalize)(l))],"inherit"!==l),r),"aria-hidden":"true"},f),e)}e.styles=f,Icon.propTypes={},Icon.defaultProps={color:"inherit"},Icon.muiName="Icon";var p=(0,l.default)(f,{name:"MuiIcon"})(Icon);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(64)),r(n(9)),r(n(141))),u=r(n(191)),l=r(n(145)),c=r(n(255)),f=r(n(146));function TextField(t){var e=t.autoComplete,n=t.autoFocus,r=t.children,p=t.className,d=t.defaultValue,h=t.disabled,g=t.error,y=t.FormHelperTextProps,m=t.fullWidth,v=t.helperText,_=t.id,b=t.InputLabelProps,S=t.inputProps,E=t.InputProps,x=t.inputRef,w=t.label,T=t.multiline,P=t.name,k=t.onBlur,C=t.onChange,D=t.onFocus,A=t.placeholder,R=t.required,M=t.rows,L=t.rowsMax,I=t.select,O=t.SelectProps,F=t.type,N=t.value,B=(0,o.default)(t,["autoComplete","autoFocus","children","className","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value"]),U=v&&_?"".concat(_,"-helper-text"):void 0,z=a.default.createElement(s.default,(0,i.default)({autoComplete:e,autoFocus:n,defaultValue:d,disabled:h,fullWidth:m,multiline:T,name:P,rows:M,rowsMax:L,type:F,value:N,id:_,inputRef:x,onBlur:k,onChange:C,onFocus:D,placeholder:A,inputProps:S},E));return a.default.createElement(l.default,(0,i.default)({"aria-describedby":U,className:p,error:g,fullWidth:m,required:R},B),w&&a.default.createElement(u.default,(0,i.default)({htmlFor:_},b),w),I?a.default.createElement(f.default,(0,i.default)({value:N,input:z},O),r):z,v&&a.default.createElement(c.default,(0,i.default)({id:U},y),v))}TextField.propTypes={},TextField.defaultProps={required:!1,select:!1};var p=TextField;e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(0)),f=(r(n(9)),r(n(3))),p=r(n(87)),d=r(n(113)),h=r(n(8)),g=19,y={root:{position:"relative",width:"100%"},textarea:{width:"100%",height:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit",boxSizing:"border-box",lineHeight:"inherit",border:"none",outline:"none",background:"transparent"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"auto",whiteSpace:"pre-wrap"}};e.styles=y;var m=function(t){function Textarea(t){var e;return(0,a.default)(this,Textarea),(e=(0,u.default)(this,(Textarea.__proto__||Object.getPrototypeOf(Textarea)).call(this,t))).shadow=null,e.singlelineShadow=null,e.input=null,e.value=null,e.handleResize=(0,p.default)((function(){e.syncHeightWithShadow()}),166),e.state={height:null},e.handleRefInput=function(t){e.input=t;var n=e.props.textareaRef;n&&("function"===typeof n?n(t):n.current=t)},e.handleRefSinglelineShadow=function(t){e.singlelineShadow=t},e.handleRefShadow=function(t){e.shadow=t},e.handleChange=function(t){e.value=t.target.value,"undefined"===typeof e.props.value&&e.shadow&&(e.shadow.value=e.value,e.syncHeightWithShadow()),e.props.onChange&&e.props.onChange(t)},e.value=t.value||t.defaultValue||"",e.state={height:Number(t.rows)*g},e}return(0,l.default)(Textarea,t),(0,s.default)(Textarea,[{key:"componentDidMount",value:function componentDidMount(){this.syncHeightWithShadow()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.syncHeightWithShadow()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"syncHeightWithShadow",value:function syncHeightWithShadow(){var t=this.props;if(this.shadow&&this.singlelineShadow){"undefined"!==typeof t.value&&(this.shadow.value=null==t.value?"":String(t.value));var e=this.singlelineShadow.scrollHeight,n=this.shadow.scrollHeight;void 0!==n&&(Number(t.rowsMax)>=Number(t.rows)&&(n=Math.min(Number(t.rowsMax)*e,n)),n=Math.max(n,e),Math.abs(this.state.height-n)>1&&this.setState({height:n}))}}},{key:"render",value:function render(){var t=this.props,e=t.classes,n=t.className,r=t.defaultValue,a=(t.onChange,t.rows),s=(t.rowsMax,t.textareaRef,t.value),u=(0,o.default)(t,["classes","className","defaultValue","onChange","rows","rowsMax","textareaRef","value"]);return c.default.createElement("div",{className:e.root,style:{height:this.state.height}},c.default.createElement(d.default,{target:"window",onResize:this.handleResize}),c.default.createElement("textarea",{ref:this.handleRefSinglelineShadow,className:(0,f.default)(e.shadow,e.textarea),tabIndex:-1,rows:"1",readOnly:!0,"aria-hidden":"true",value:""}),c.default.createElement("textarea",{ref:this.handleRefShadow,className:(0,f.default)(e.shadow,e.textarea),tabIndex:-1,rows:a,"aria-hidden":"true",readOnly:!0,defaultValue:r,value:s}),c.default.createElement("textarea",(0,i.default)({rows:a,className:(0,f.default)(e.textarea,n),defaultValue:r,value:s,onChange:this.handleChange,ref:this.handleRefInput},u)))}}]),Textarea}(c.default.Component);m.propTypes={},m.defaultProps={rows:1};var v=(0,h.default)(y)(m);e.default=v},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e,n){var r=n(356),i=n(769);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(771);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function _setPrototypeOf(e,n){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,n)}t.exports=_setPrototypeOf},function(t,e){t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},function(t,e,n){var r=n(774);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(776)()},function(t,e,n){"use strict";var r=n(777);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=function warning(){};t.exports=r},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=r(n(9)),l=r(n(3)),c=r(n(8)),f=r(n(254)),p=function styles(t){return{root:{transformOrigin:"top left"},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, ".concat(3*t.spacing.unit,"px) scale(1)")},marginDense:{transform:"translate(0, ".concat(2.5*t.spacing.unit+1,"px) scale(1)")},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}}};function InputLabel(t,e){var n,r=t.children,u=t.classes,c=t.className,p=t.disableAnimation,d=t.FormLabelClasses,h=t.margin,g=t.shrink,y=(0,a.default)(t,["children","classes","className","disableAnimation","FormLabelClasses","margin","shrink"]),m=e.muiFormControl,v=g;"undefined"===typeof v&&m&&(v=m.filled||m.focused||m.adornedStart);var _=h;"undefined"===typeof _&&m&&(_=m.margin);var b=(0,l.default)(u.root,(n={},(0,o.default)(n,u.formControl,m),(0,o.default)(n,u.animated,!p),(0,o.default)(n,u.shrink,v),(0,o.default)(n,u.marginDense,"dense"===_),n),c);return s.default.createElement(f.default,(0,i.default)({"data-shrink":v,className:b,classes:d},y),r)}e.styles=p,InputLabel.propTypes={},InputLabel.defaultProps={disableAnimation:!1},InputLabel.contextTypes={muiFormControl:u.default.object};var d=(0,c.default)(p,{name:"MuiInputLabel"})(InputLabel);e.default=d},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=r(n(9)),l=r(n(3)),c=r(n(8)),f=function styles(t){return{root:{fontFamily:t.typography.fontFamily,color:t.palette.text.secondary,fontSize:t.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:t.palette.primary["light"===t.palette.type?"dark":"light"]},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}},focused:{},disabled:{},error:{},asterisk:{"&$error":{color:t.palette.error.main}}}};function FormLabel(t,e){var n,r=t.children,u=t.classes,c=t.className,f=t.component,p=t.disabled,d=t.error,h=t.focused,g=t.required,y=(0,a.default)(t,["children","classes","className","component","disabled","error","focused","required"]),m=e.muiFormControl,v=g,_=h,b=p,S=d;m&&("undefined"===typeof v&&(v=m.required),"undefined"===typeof _&&(_=m.focused),"undefined"===typeof b&&(b=m.disabled),"undefined"===typeof S&&(S=m.error));var E=(0,l.default)(u.root,(n={},(0,o.default)(n,u.focused,_),(0,o.default)(n,u.disabled,b),(0,o.default)(n,u.error,S),n),c);return s.default.createElement(f,(0,i.default)({className:E},y),r,v&&s.default.createElement("span",{className:(0,l.default)(u.asterisk,(0,o.default)({},u.error,S))},"\u2009*"))}e.styles=f,FormLabel.propTypes={},FormLabel.defaultProps={component:"label"},FormLabel.contextTypes={muiFormControl:u.default.object};var p=(0,c.default)(f,{name:"MuiFormLabel"})(FormLabel);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=r(n(9)),d=r(n(3)),h=r(n(8)),g=n(253),y=n(74),m=n(163),v=function styles(t){return{root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0},marginNormal:{marginTop:2*t.spacing.unit,marginBottom:t.spacing.unit},marginDense:{marginTop:t.spacing.unit,marginBottom:t.spacing.unit/2},fullWidth:{width:"100%"}}};e.styles=v;var _=function(t){function FormControl(t){var e;(0,s.default)(this,FormControl),(e=(0,l.default)(this,(FormControl.__proto__||Object.getPrototypeOf(FormControl)).call(this,t))).state={adornedStart:!1,filled:!1,focused:!1},e.handleFocus=function(){e.setState((function(t){return t.focused?null:{focused:!0}}))},e.handleBlur=function(){e.setState((function(t){return t.focused?{focused:!1}:null}))},e.handleDirty=function(){e.state.filled||e.setState({filled:!0})},e.handleClean=function(){e.state.filled&&e.setState({filled:!1})};var n=e.props.children;return n&&f.default.Children.forEach(n,(function(t){if((0,m.isMuiElement)(t,["Input","Select","NativeSelect"])){(0,g.isFilled)(t.props,!0)&&(e.state.filled=!0);var n=(0,m.isMuiElement)(t,["Select","NativeSelect"])?t.props.input:t;n&&(0,g.isAdornedStart)(n.props)&&(e.state.adornedStart=!0)}})),e}return(0,c.default)(FormControl,t),(0,u.default)(FormControl,[{key:"getChildContext",value:function getChildContext(){var t=this.props,e=t.disabled,n=t.error,r=t.required,i=t.margin,o=this.state;return{muiFormControl:{adornedStart:o.adornedStart,disabled:e,error:n,filled:o.filled,focused:o.focused,margin:i,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:r}}}},{key:"render",value:function render(){var t,e=this.props,n=e.classes,r=e.className,s=e.component,u=(e.disabled,e.error,e.fullWidth),l=e.margin,c=(e.required,(0,a.default)(e,["classes","className","component","disabled","error","fullWidth","margin","required"]));return f.default.createElement(s,(0,i.default)({className:(0,d.default)(n.root,(t={},(0,o.default)(t,n["margin".concat((0,y.capitalize)(l))],"none"!==l),(0,o.default)(t,n.fullWidth,u),t),r)},c))}}]),FormControl}(f.default.Component);_.propTypes={},_.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1},_.childContextTypes={muiFormControl:p.default.object};var b=(0,h.default)(v,{name:"MuiFormControl"})(_);e.default=b},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=r(n(9)),l=r(n(3)),c=r(n(8)),f=function styles(t){return{root:{color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),textAlign:"left",marginTop:t.spacing.unit,lineHeight:"1em",minHeight:"1em",margin:0,"&$error":{color:t.palette.error.main},"&$disabled":{color:t.palette.text.disabled}},error:{},disabled:{},marginDense:{marginTop:t.spacing.unit/2}}};function FormHelperText(t,e){var n,r=t.classes,u=t.className,c=t.disabled,f=t.error,p=t.margin,d=t.component,h=(0,a.default)(t,["classes","className","disabled","error","margin","component"]),g=e.muiFormControl,y=c,m=f,v=p;g&&("undefined"===typeof y&&(y=g.disabled),"undefined"===typeof m&&(m=g.error),"undefined"===typeof v&&(v=g.margin));var _=(0,l.default)(r.root,(n={},(0,o.default)(n,r.disabled,y),(0,o.default)(n,r.error,m),(0,o.default)(n,r.marginDense,"dense"===v),n),u);return s.default.createElement(d,(0,i.default)({className:_},h))}e.styles=f,FormHelperText.propTypes={},FormHelperText.defaultProps={component:"p"},FormHelperText.contextTypes={muiFormControl:u.default.object};var p=(0,c.default)(f,{name:"MuiFormHelperText"})(FormHelperText);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(36)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(784))),u=r(n(8)),l=r(n(351)),c=r(n(362)),f=r(n(141)),p=n(829),d=r(n(366)),h=p.styles;function Select(t){var e=t.autoWidth,n=t.children,r=t.classes,u=t.displayEmpty,c=t.IconComponent,f=t.input,p=t.inputProps,h=t.MenuProps,g=t.multiple,y=t.native,m=t.onClose,v=t.onOpen,_=t.open,b=t.renderValue,S=t.SelectDisplayProps,E=(0,o.default)(t,["autoWidth","children","classes","displayEmpty","IconComponent","input","inputProps","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps"]),x=y?d.default:s.default;return a.default.cloneElement(f,(0,i.default)({inputComponent:x,inputProps:(0,i.default)({children:n,IconComponent:c,type:void 0},y?{}:{autoWidth:e,displayEmpty:u,MenuProps:h,multiple:g,onClose:m,onOpen:v,open:_,renderValue:b,SelectDisplayProps:S},p,{classes:p?(0,l.default)({baseClasses:r,newClasses:p.classes,Component:Select}):r},f?f.props.inputProps:{})},E))}e.styles=h,Select.propTypes={},Select.defaultProps={autoWidth:!1,displayEmpty:!1,IconComponent:c.default,input:a.default.createElement(f.default,null),multiple:!1,native:!1},Select.muiName="Select";var g=(0,u.default)(p.styles,{name:"MuiSelect"})(Select);e.default=g},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(36)),u=r(n(355)),l=r(n(37)),c=r(n(38)),f=r(n(40)),p=r(n(41)),d=r(n(0)),h=(r(n(9)),r(n(3))),g=r(n(105)),y=r(n(357)),m=n(253),v=function(t){function SelectInput(){var t,e,n;(0,l.default)(this,SelectInput);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,f.default)(n,(e=n=(0,f.default)(this,(t=SelectInput.__proto__||Object.getPrototypeOf(SelectInput)).call.apply(t,[this].concat(i))),n.ignoreNextBlur=!1,n.displayNode=null,n.isOpenControlled=void 0!==n.props.open,n.state={menuMinWidth:null,open:!1},n.update=function(t){var e=t.event,r=t.open;n.isOpenControlled?r?n.props.onOpen(e):n.props.onClose(e):n.setState({menuMinWidth:n.props.autoWidth?null:n.displayNode.clientWidth,open:r})},n.handleClick=function(t){n.ignoreNextBlur=!0,n.update({open:!0,event:t})},n.handleClose=function(t){n.update({open:!1,event:t})},n.handleItemClick=function(t){return function(e){n.props.multiple||n.update({open:!1,event:e});var r=n.props,i=r.onChange,o=r.name;if(i){var a,l;if(e.target&&(l=e.target),n.props.multiple){var c=(a=Array.isArray(n.props.value)?(0,u.default)(n.props.value):[]).indexOf(t.props.value);-1===c?a.push(t.props.value):a.splice(c,1)}else a=t.props.value;e.persist(),e.target=(0,s.default)({},l,{value:a,name:o}),i(e,t)}}},n.handleBlur=function(t){if(!0===n.ignoreNextBlur)return t.stopPropagation(),void(n.ignoreNextBlur=!1);n.props.onBlur&&n.props.onBlur(t)},n.handleKeyDown=function(t){n.props.readOnly||-1!==["space","up","down"].indexOf((0,g.default)(t))&&(t.preventDefault(),n.ignoreNextBlur=!0,n.update({open:!0,event:t}))},n.handleDisplayRef=function(t){n.displayNode=t},n.handleInputRef=function(t){var e=n.props.inputRef;if(e){var r={node:t,value:n.props.value};"function"===typeof e?e(r):e.current=r}},e))}return(0,p.default)(SelectInput,t),(0,c.default)(SelectInput,[{key:"componentDidMount",value:function componentDidMount(){this.isOpenControlled&&this.props.open&&(this.displayNode.focus(),this.forceUpdate()),this.props.autoFocus&&this.displayNode.focus()}},{key:"render",value:function render(){var t,e=this,n=this.props,r=n.autoWidth,u=n.children,l=n.classes,c=n.className,f=n.disabled,p=n.displayEmpty,g=n.IconComponent,v=(n.inputRef,n.MenuProps),_=void 0===v?{}:v,b=n.multiple,S=n.name,E=(n.onBlur,n.onChange,n.onClose,n.onFocus),x=(n.onOpen,n.open),w=n.readOnly,T=n.renderValue,P=n.SelectDisplayProps,k=n.tabIndex,C=n.type,D=void 0===C?"hidden":C,A=n.value,R=(0,a.default)(n,["autoWidth","children","classes","className","disabled","displayEmpty","IconComponent","inputRef","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value"]),M=this.isOpenControlled&&this.displayNode?x:this.state.open,L="",I=[],O=!1;((0,m.isFilled)(this.props)||p)&&(T?t=T(A):O=!0);var F=d.default.Children.map(u,(function(t){if(!d.default.isValidElement(t))return null;var n;if(b){if(!Array.isArray(A))throw new Error("Material-UI: the `value` property must be an array when using the `Select` component with `multiple`.");(n=-1!==A.indexOf(t.props.value))&&O&&I.push(t.props.children)}else(n=A===t.props.value)&&O&&(L=t.props.children);return d.default.cloneElement(t,{onClick:e.handleItemClick(t),role:"option",selected:n,value:void 0,"data-value":t.props.value})}));O&&(t=b?I.join(", "):L);var N,B=this.state.menuMinWidth;return!r&&this.isOpenControlled&&this.displayNode&&(B=this.displayNode.clientWidth),N="undefined"!==typeof k?k:f?null:0,d.default.createElement("div",{className:l.root},d.default.createElement("div",(0,i.default)({className:(0,h.default)(l.select,l.selectMenu,(0,o.default)({},l.disabled,f),c),ref:this.handleDisplayRef,"aria-pressed":M?"true":"false",tabIndex:N,role:"button","aria-owns":M?"menu-".concat(S||""):null,"aria-haspopup":"true",onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:f||w?null:this.handleClick,onFocus:E},P),t||d.default.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})),d.default.createElement("input",(0,i.default)({value:Array.isArray(A)?A.join(","):A,name:S,readOnly:w,ref:this.handleInputRef,type:D},R)),d.default.createElement(g,{className:l.icon}),d.default.createElement(y.default,(0,i.default)({id:"menu-".concat(S||""),anchorEl:this.displayNode,open:M,onClose:this.handleClose},_,{MenuListProps:(0,s.default)({role:"listbox"},_.MenuListProps),PaperProps:(0,s.default)({},_.PaperProps,{style:(0,s.default)({minWidth:B},null!=_.PaperProps?_.PaperProps.style:null)})}),F))}}]),SelectInput}(d.default.Component);v.propTypes={};var _=v;e.default=_},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(0)),f=(r(n(9)),r(n(55))),p=(r(n(64)),r(n(87))),d=r(n(113)),h=r(n(103)),g=r(n(190)),y=r(n(8)),m=r(n(93)),v=r(n(257)),_=r(n(75));function getOffsetTop(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function getOffsetLeft(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function getTransformOriginValue(t){return[t.horizontal,t.vertical].map((function(t){return"number"===typeof t?"".concat(t,"px"):t})).join(" ")}function getAnchorEl(t){return"function"===typeof t?t():t}var b={paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:"none"}};e.styles=b;var S=function(t){function Popover(){var t,e,n;(0,a.default)(this,Popover);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,u.default)(n,(e=n=(0,u.default)(this,(t=Popover.__proto__||Object.getPrototypeOf(Popover)).call.apply(t,[this].concat(i))),n.transitionEl=null,n.handleGetOffsetTop=getOffsetTop,n.handleGetOffsetLeft=getOffsetLeft,n.handleResize=(0,p.default)((function(){var t=f.default.findDOMNode(n.transitionEl);n.setPositioningStyles(t)}),166),n.componentWillUnmount=function(){n.handleResize.clear()},n.setPositioningStyles=function(t){if(t&&t.style){var e=n.getPositioningStyle(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}},n.getPositioningStyle=function(t){var e=n.props,r=e.anchorEl,i=e.anchorReference,o=e.marginThreshold,a=n.getContentAnchorOffset(t),s={width:t.clientWidth,height:t.clientHeight},u=n.getTransformOrigin(s,a);if("none"===i)return{top:null,left:null,transformOrigin:getTransformOriginValue(u)};var l=n.getAnchorOffset(a),c=l.top-u.vertical,f=l.left-u.horizontal,p=c+s.height,d=f+s.width,h=(0,g.default)(getAnchorEl(r)),y=h.innerHeight-o,m=h.innerWidth-o;if(c<o){var v=c-o;c-=v,u.vertical+=v}else if(p>y){var _=p-y;c-=_,u.vertical+=_}if(f<o){var b=f-o;f-=b,u.horizontal+=b}else if(d>m){var S=d-m;f-=S,u.horizontal+=S}return{top:"".concat(c,"px"),left:"".concat(f,"px"),transformOrigin:getTransformOriginValue(u)}},n.handleEnter=function(t){n.props.onEnter&&n.props.onEnter(t),n.setPositioningStyles(t)},e))}return(0,l.default)(Popover,t),(0,s.default)(Popover,[{key:"componentDidMount",value:function componentDidMount(){this.props.action&&this.props.action({updatePosition:this.handleResize})}},{key:"getAnchorOffset",value:function getAnchorOffset(t){var e=this.props,n=e.anchorEl,r=e.anchorOrigin,i=e.anchorReference,o=e.anchorPosition;if("anchorPosition"===i)return o;var a=(getAnchorEl(n)||(0,h.default)(f.default.findDOMNode(this.transitionEl)).body).getBoundingClientRect(),s=0===t?r.vertical:"center";return{top:a.top+this.handleGetOffsetTop(a,s),left:a.left+this.handleGetOffsetLeft(a,r.horizontal)}}},{key:"getContentAnchorOffset",value:function getContentAnchorOffset(t){var e=this.props,n=e.getContentAnchorEl,r=e.anchorReference,i=0;if(n&&"anchorEl"===r){var o=n(t);if(o&&t.contains(o)){var a=function getScrollParent(t,e){for(var n=e,r=0;n&&n!==t;)r+=(n=n.parentNode).scrollTop;return r}(t,o);i=o.offsetTop+o.clientHeight/2-a||0}}return i}},{key:"getTransformOrigin",value:function getTransformOrigin(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.props.transformOrigin;return{vertical:this.handleGetOffsetTop(t,n.vertical)+e,horizontal:this.handleGetOffsetLeft(t,n.horizontal)}}},{key:"render",value:function render(){var t=this,e=this.props,n=(e.action,e.anchorEl),r=(e.anchorOrigin,e.anchorPosition,e.anchorReference,e.children),a=e.classes,s=e.container,u=e.elevation,l=(e.getContentAnchorEl,e.marginThreshold,e.onEnter,e.onEntered),f=e.onEntering,p=e.onExit,g=e.onExited,y=e.onExiting,v=e.open,b=e.PaperProps,S=e.role,E=(e.transformOrigin,e.TransitionComponent),x=e.transitionDuration,w=e.TransitionProps,T=(0,o.default)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","role","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),P=x;"auto"!==x||E.muiSupportAuto||(P=void 0);var k=s||(n?(0,h.default)(getAnchorEl(n)).body:void 0);return c.default.createElement(m.default,(0,i.default)({container:k,open:v,BackdropProps:{invisible:!0}},T),c.default.createElement(E,(0,i.default)({appear:!0,in:v,onEnter:this.handleEnter,onEntered:l,onEntering:f,onExit:p,onExited:g,onExiting:y,role:S,ref:function ref(e){t.transitionEl=e},timeout:P},w),c.default.createElement(_.default,(0,i.default)({className:a.paper,elevation:u},b),c.default.createElement(d.default,{target:"window",onResize:this.handleResize}),r)))}}]),Popover}(c.default.Component);S.propTypes={},S.defaultProps={anchorReference:"anchorEl",anchorOrigin:{vertical:"top",horizontal:"left"},elevation:8,marginThreshold:16,transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:v.default,transitionDuration:"auto"};var E=(0,y.default)(b,{name:"MuiPopover"})(S);e.default=E},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(184)),p=r(n(0)),d=r(n(55)),h=(r(n(9)),r(n(3))),g=(r(n(64)),r(n(105))),y=r(n(103)),m=r(n(192)),v=r(n(194)),_=n(74),b=r(n(8)),S=r(n(360)),E=r(n(256));function getHasTransition(t){return!!t.children&&t.children.props.hasOwnProperty("in")}var x=function styles(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}};e.styles=x;var w=function(t){function Modal(t){var e;return(0,s.default)(this,Modal),(e=(0,l.default)(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,t))).dialogElement=null,e.mounted=!1,e.mountNode=null,e.handleRendered=function(){e.autoFocus(),e.props.onRendered&&e.props.onRendered()},e.handleOpen=function(){var t=(0,y.default)(e.mountNode),n=function getContainer(t,e){return t="function"===typeof t?t():t,d.default.findDOMNode(t)||e}(e.props.container,t.body);e.props.manager.add((0,f.default)(e),n),t.addEventListener("keydown",e.handleDocumentKeyDown),t.addEventListener("focus",e.enforceFocus,!0)},e.handleClose=function(){e.props.manager.remove((0,f.default)(e));var t=(0,y.default)(e.mountNode);t.removeEventListener("keydown",e.handleDocumentKeyDown),t.removeEventListener("focus",e.enforceFocus,!0),e.restoreLastFocus()},e.handleExited=function(){e.setState({exited:!0}),e.handleClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!e.props.disableBackdropClick&&e.props.onClose&&e.props.onClose(t,"backdropClick"))},e.handleDocumentKeyDown=function(t){e.isTopModal()&&"esc"===(0,g.default)(t)&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),!e.props.disableEscapeKeyDown&&e.props.onClose&&e.props.onClose(t,"escapeKeyDown"))},e.checkForFocus=function(){e.lastFocus=(0,y.default)(e.mountNode).activeElement},e.enforceFocus=function(){if(!e.props.disableEnforceFocus&&e.mounted&&e.isTopModal()){var t=(0,y.default)(e.mountNode).activeElement;e.dialogElement&&!e.dialogElement.contains(t)&&e.dialogElement.focus()}},e.state={exited:!e.props.open},e}return(0,c.default)(Modal,t),(0,u.default)(Modal,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=!0,this.props.open&&this.handleOpen()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){!t.open&&this.props.open&&this.checkForFocus(),!t.open||this.props.open||getHasTransition(this.props)?!t.open&&this.props.open&&this.handleOpen():this.handleClose()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1,(this.props.open||getHasTransition(this.props)&&!this.state.exited)&&this.handleClose()}},{key:"autoFocus",value:function autoFocus(){if(!this.props.disableAutoFocus){var t=(0,y.default)(this.mountNode).activeElement;this.dialogElement&&!this.dialogElement.contains(t)&&(this.lastFocus=t,this.dialogElement.hasAttribute("tabIndex")||this.dialogElement.setAttribute("tabIndex",-1),this.dialogElement.focus())}}},{key:"restoreLastFocus",value:function restoreLastFocus(){this.props.disableRestoreFocus||this.lastFocus&&(this.lastFocus.focus&&this.lastFocus.focus(),this.lastFocus=null)}},{key:"isTopModal",value:function isTopModal(){return this.props.manager.isTopModal(this)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.BackdropComponent,r=e.BackdropProps,s=e.children,u=e.classes,l=e.className,c=e.container,f=(e.disableAutoFocus,e.disableBackdropClick,e.disableEnforceFocus,e.disableEscapeKeyDown,e.disableRestoreFocus,e.hideBackdrop),d=e.keepMounted,g=(e.onBackdropClick,e.onClose,e.onEscapeKeyDown,e.onRendered,e.open),y=(e.manager,(0,a.default)(e,["BackdropComponent","BackdropProps","children","classes","className","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disableRestoreFocus","hideBackdrop","keepMounted","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open","manager"])),b=this.state.exited,S=getHasTransition(this.props),E={};return d||g||S&&!b?(S&&(E.onExited=(0,_.createChainedFunction)(this.handleExited,s.props.onExited)),void 0===s.props.role&&(E.role=s.props.role||"document"),void 0===s.props.tabIndex&&(E.tabIndex=s.props.tabIndex||"-1"),p.default.createElement(v.default,{ref:function ref(e){t.mountNode=e?e.getMountNode():e},container:c,onRendered:this.handleRendered},p.default.createElement("div",(0,i.default)({className:(0,h.default)(u.root,l,(0,o.default)({},u.hidden,b))},y),f?null:p.default.createElement(n,(0,i.default)({open:g,onClick:this.handleBackdropClick},r)),p.default.createElement(m.default,{rootRef:function rootRef(e){t.dialogElement=e}},p.default.cloneElement(s,E))))):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t){return t.open?{exited:!1}:getHasTransition(t)?null:{exited:!0}}}]),Modal}(p.default.Component);w.propTypes={},w.defaultProps={disableAutoFocus:!1,disableBackdropClick:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disableRestoreFocus:!1,hideBackdrop:!1,keepMounted:!1,manager:new S.default,BackdropComponent:E.default};var T=(0,b.default)(x,{flip:!1,name:"MuiModal"})(w);e.default=T},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(38)),a=r(n(40)),s=r(n(41)),u=r(n(0)),l=r(n(55)),c=(r(n(9)),r(n(193)),function(t){function RootRef(){return(0,i.default)(this,RootRef),(0,a.default)(this,(RootRef.__proto__||Object.getPrototypeOf(RootRef)).apply(this,arguments))}return(0,s.default)(RootRef,t),(0,o.default)(RootRef,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.rootRef,e=l.default.findDOMNode(this);"function"===typeof t?t(e):t&&(t.current=e)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.rootRef;"function"===typeof t?t(null):t&&(t.current=null)}},{key:"render",value:function render(){return this.props.children}}]),RootRef}(u.default.Component));c.propTypes={},c.propTypes={};var f=c;e.default=f},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(38)),a=r(n(40)),s=r(n(41)),u=r(n(0)),l=r(n(55)),c=(r(n(9)),r(n(103)));r(n(193));var f=function(t){function Portal(){var t,e,n;(0,i.default)(this,Portal);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(0,a.default)(n,(e=n=(0,a.default)(this,(t=Portal.__proto__||Object.getPrototypeOf(Portal)).call.apply(t,[this].concat(o))),n.getMountNode=function(){return n.mountNode},e))}return(0,s.default)(Portal,t),(0,o.default)(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.container!==this.props.container&&(this.setContainer(this.props.container),this.forceUpdate())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mountNode=null}},{key:"setContainer",value:function setContainer(t){this.mountNode=function getContainer(t,e){return t="function"===typeof t?t():t,l.default.findDOMNode(t)||e}(t,function getOwnerDocument(t){return(0,c.default)(l.default.findDOMNode(t))}(this).body)}},{key:"render",value:function render(){var t=this.props.children;return this.mountNode?l.default.createPortal(t,this.mountNode):null}}]),Portal}(u.default.Component);f.propTypes={},f.propTypes={};var p=f;e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function style(t,e,n){var l="",c="",f=e;if("string"===typeof e){if(void 0===n)return t.style[(0,r.default)(e)]||(0,o.default)(t).getPropertyValue((0,i.default)(e));(f={})[e]=n}Object.keys(f).forEach((function(e){var n=f[e];n||0===n?(0,u.default)(e)?c+=e+"("+n+") ":l+=(0,i.default)(e)+": "+n+";":(0,a.default)(t,(0,i.default)(e))})),c&&(l+=s.transform+": "+c+";");t.style.cssText+=";"+l};var r=_interopRequireDefault(n(361)),i=_interopRequireDefault(n(791)),o=_interopRequireDefault(n(793)),a=_interopRequireDefault(n(794)),s=n(795),u=_interopRequireDefault(n(796));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelize(t){return t.replace(r,(function(t,e){return e.toUpperCase()}))};var r=/-(.)/g;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function hyphenateStyleName(t){return(0,r.default)(t).replace(i,"-ms-")};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(792));var i=/^ms-/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function hyphenate(t){return t.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function _getComputedStyle(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function getPropertyValue(e){var n=t.style;"float"==(e=(0,r.default)(e))&&(e="styleFloat");var a=t.currentStyle[e]||null;if(null==a&&n&&n[e]&&(a=n[e]),o.test(a)&&!i.test(e)){var s=n.left,u=t.runtimeStyle,l=u&&u.left;l&&(u.left=t.currentStyle.left),n.left="fontSize"===e?"1em":a,a=n.pixelLeft+"px",n.left=s,l&&(u.left=l)}return a}}};var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(361));var i=/^(top|right|bottom|left)$/,o=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function removeStyle(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,p=void 0,d=void 0,h=void 0;if(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(359)).default){var g=function getTransitionProperties(){for(var t=document.createElement("div").style,e={O:function O(t){return"o"+t.toLowerCase()},Moz:function Moz(t){return t.toLowerCase()},Webkit:function Webkit(t){return"webkit"+t},ms:function ms(t){return"MS"+t}},n=Object.keys(e),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in t){o="-"+s.toLowerCase(),r=e[s]("TransitionEnd"),i=e[s]("AnimationEnd");break}}!r&&"transitionProperty"in t&&(r="transitionend");!i&&"animationName"in t&&(i="animationend");return t=null,{animationEnd:i,transitionEnd:r,prefix:o}}();i=g.prefix,e.transitionEnd=o=g.transitionEnd,e.animationEnd=a=g.animationEnd,e.transform=r=i+"-"+r,e.transitionProperty=s=i+"-transition-property",e.transitionDuration=u=i+"-transition-duration",e.transitionDelay=c=i+"-transition-delay",e.transitionTiming=l=i+"-transition-timing-function",e.animationName=f=i+"-animation-name",e.animationDuration=p=i+"-animation-duration",e.animationTiming=d=i+"-animation-delay",e.animationDelay=h=i+"-animation-timing-function"}e.transform=r,e.transitionProperty=s,e.transitionTiming=l,e.transitionDelay=c,e.transitionDuration=u,e.transitionEnd=o,e.animationName=f,e.animationDuration=p,e.animationTiming=d,e.animationDelay=h,e.animationEnd=a,e.default={transform:r,end:o,property:s,timing:l,delay:c,duration:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isTransform(t){return!(!t||!r.test(t))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.isBody=isBody,e.default=function isOverflowing(t){var e=(0,o.default)(t),n=(0,a.default)(e);if(!(0,i.default)(e)&&!isBody(t))return t.scrollHeight>t.clientHeight;var r=n.getComputedStyle(e.body),s=parseInt(r.getPropertyValue("margin-left"),10),u=parseInt(r.getPropertyValue("margin-right"),10);return s+e.body.clientWidth+u<n.innerWidth};var i=r(n(798)),o=r(n(103)),a=r(n(190));function isBody(t){return t&&"body"===t.tagName.toLowerCase()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getWindow(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ariaHidden=ariaHidden,e.hideSiblings=function hideSiblings(t,e){siblings(t,e,(function(t){return ariaHidden(!0,t)}))},e.showSiblings=function showSiblings(t,e){siblings(t,e,(function(t){return ariaHidden(!1,t)}))};var r=["template","script","style"];function siblings(t,e,n){e=[].concat(e),[].forEach.call(t.children,(function(t){-1===e.indexOf(t)&&function isHidable(t){return 1===t.nodeType&&-1===r.indexOf(t.tagName.toLowerCase())}(t)&&n(t)}))}function ariaHidden(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=r(n(195)),f={root:{zIndex:-1,width:"100%",height:"100%",position:"fixed",top:0,left:0,WebkitTapHighlightColor:"transparent",backgroundColor:"rgba(0, 0, 0, 0.5)"},invisible:{backgroundColor:"transparent"}};function Backdrop(t){var e=t.classes,n=t.className,r=t.invisible,l=t.open,f=t.transitionDuration,p=(0,a.default)(t,["classes","className","invisible","open","transitionDuration"]);return s.default.createElement(c.default,(0,i.default)({appear:!0,in:l,timeout:f},p),s.default.createElement("div",{className:(0,u.default)(e.root,(0,o.default)({},e.invisible,r),n),"aria-hidden":"true"}))}e.styles=f,Backdrop.propTypes={},Backdrop.defaultProps={invisible:!1};var p=(0,l.default)(f,{name:"MuiBackdrop"})(Backdrop);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(162))),d=n(140),h=r(n(147)),g=n(196),y={entering:{opacity:1},entered:{opacity:1}},m=function(t){function Fade(){var t,e,n;(0,s.default)(this,Fade);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Fade.__proto__||Object.getPrototypeOf(Fade)).call.apply(t,[this].concat(i))),n.handleEnter=function(t){var e=n.props.theme;(0,g.reflow)(t);var r=(0,g.getTransitionProps)(n.props,{mode:"enter"});t.style.webkitTransition=e.transitions.create("opacity",r),t.style.transition=e.transitions.create("opacity",r),n.props.onEnter&&n.props.onEnter(t)},n.handleExit=function(t){var e=n.props.theme,r=(0,g.getTransitionProps)(n.props,{mode:"exit"});t.style.webkitTransition=e.transitions.create("opacity",r),t.style.transition=e.transitions.create("opacity",r),n.props.onExit&&n.props.onExit(t)},e))}return(0,c.default)(Fade,t),(0,u.default)(Fade,[{key:"render",value:function render(){var t=this.props,e=t.children,n=(t.onEnter,t.onExit,t.style),r=(t.theme,(0,a.default)(t,["children","onEnter","onExit","style","theme"])),s=(0,o.default)({},n,f.default.isValidElement(e)?e.props.style:{});return f.default.createElement(p.default,(0,i.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit},r),(function(t,n){return f.default.cloneElement(e,(0,o.default)({style:(0,o.default)({opacity:0,willChange:"opacity"},y[t],s)},n))}))}}]),Fade}(f.default.Component);m.propTypes={},m.defaultProps={timeout:{enter:d.duration.enteringScreen,exit:d.duration.leavingScreen}};var v=(0,h.default)()(m);e.default=v},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(162))),d=r(n(147)),h=n(196);function getScale(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var g={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:getScale(1)}},y=function(t){function Grow(){var t,e,n;(0,s.default)(this,Grow);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Grow.__proto__||Object.getPrototypeOf(Grow)).call.apply(t,[this].concat(i))),n.autoTimeout=null,n.timer=null,n.handleEnter=function(t){var e=n.props,r=e.theme,i=e.timeout;(0,h.reflow)(t);var o=(0,h.getTransitionProps)(n.props,{mode:"enter"}),a=o.duration,s=o.delay,u=0;"auto"===i?(u=r.transitions.getAutoHeightDuration(t.clientHeight),n.autoTimeout=u):u=a,t.style.transition=[r.transitions.create("opacity",{duration:u,delay:s}),r.transitions.create("transform",{duration:.666*u,delay:s})].join(","),n.props.onEnter&&n.props.onEnter(t)},n.handleExit=function(t){var e=n.props,r=e.theme,i=e.timeout,o=0,a=(0,h.getTransitionProps)(n.props,{mode:"exit"}),s=a.duration,u=a.delay;"auto"===i?(o=r.transitions.getAutoHeightDuration(t.clientHeight),n.autoTimeout=o):o=s,t.style.transition=[r.transitions.create("opacity",{duration:o,delay:u}),r.transitions.create("transform",{duration:.666*o,delay:u||.333*o})].join(","),t.style.opacity="0",t.style.transform=getScale(.75),n.props.onExit&&n.props.onExit(t)},n.addEndListener=function(t,e){"auto"===n.props.timeout&&(n.timer=setTimeout(e,n.autoTimeout||0))},e))}return(0,c.default)(Grow,t),(0,u.default)(Grow,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timer)}},{key:"render",value:function render(){var t=this.props,e=t.children,n=(t.onEnter,t.onExit,t.style),r=(t.theme,t.timeout),s=(0,a.default)(t,["children","onEnter","onExit","style","theme","timeout"]),u=(0,o.default)({},n,f.default.isValidElement(e)?e.props.style:{});return f.default.createElement(p.default,(0,i.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit,addEndListener:this.addEndListener,timeout:"auto"===r?null:r},s),(function(t,n){return f.default.cloneElement(e,(0,o.default)({style:(0,o.default)({opacity:0,transform:getScale(.75)},g[t],u)},n))}))}}]),Grow}(f.default.Component);y.propTypes={},y.defaultProps={timeout:"auto"},y.muiSupportAuto=!0;var m=(0,d.default)()(y);e.default=m},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(36)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=(r(n(64)),r(n(8))),f=function styles(t){var e={};return t.shadows.forEach((function(t,n){e["elevation".concat(n)]={boxShadow:t}})),(0,s.default)({root:{backgroundColor:t.palette.background.paper},rounded:{borderRadius:t.shape.borderRadius}},e)};function Paper(t){var e=t.classes,n=t.className,r=t.component,s=t.square,c=t.elevation,f=(0,a.default)(t,["classes","className","component","square","elevation"]),p=(0,l.default)(e.root,e["elevation".concat(c)],(0,o.default)({},e.rounded,!s),n);return u.default.createElement(r,(0,i.default)({className:p},f))}e.styles=f,Paper.propTypes={},Paper.defaultProps={component:"div",elevation:2,square:!1};var p=(0,c.default)(f,{name:"MuiPaper"})(Paper);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(0)),f=(r(n(9)),r(n(55))),p=r(n(105)),d=r(n(103)),h=r(n(259)),g=function(t){function MenuList(){var t,e,n;(0,a.default)(this,MenuList);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,u.default)(n,(e=n=(0,u.default)(this,(t=MenuList.__proto__||Object.getPrototypeOf(MenuList)).call.apply(t,[this].concat(i))),n.list=null,n.selectedItem=null,n.blurTimer=null,n.state={currentTabIndex:null},n.handleBlur=function(t){n.blurTimer=setTimeout((function(){if(n.list){var t=f.default.findDOMNode(n.list),e=(0,d.default)(t).activeElement;t.contains(e)||n.resetTabIndex()}}),30),n.props.onBlur&&n.props.onBlur(t)},n.handleKeyDown=function(t){var e=f.default.findDOMNode(n.list),r=(0,p.default)(t),i=(0,d.default)(e).activeElement;"up"!==r&&"down"!==r||i&&(!i||e.contains(i))?"down"===r?(t.preventDefault(),i.nextElementSibling&&i.nextElementSibling.focus()):"up"===r&&(t.preventDefault(),i.previousElementSibling&&i.previousElementSibling.focus()):n.selectedItem?f.default.findDOMNode(n.selectedItem).focus():e.firstChild.focus(),n.props.onKeyDown&&n.props.onKeyDown(t,r)},n.handleItemFocus=function(t){var e=f.default.findDOMNode(n.list);if(e)for(var r=0;r<e.children.length;r+=1)if(e.children[r]===t.currentTarget){n.setTabIndex(r);break}},e))}return(0,l.default)(MenuList,t),(0,s.default)(MenuList,[{key:"componentDidMount",value:function componentDidMount(){this.resetTabIndex()}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.blurTimer)}},{key:"setTabIndex",value:function setTabIndex(t){this.setState({currentTabIndex:t})}},{key:"focus",value:function focus(){var t=this.state.currentTabIndex,e=f.default.findDOMNode(this.list);e&&e.children&&e.firstChild&&(t&&t>=0?e.children[t].focus():e.firstChild.focus())}},{key:"resetTabIndex",value:function resetTabIndex(){for(var t=f.default.findDOMNode(this.list),e=(0,d.default)(t).activeElement,n=[],r=0;r<t.children.length;r+=1)n.push(t.children[r]);var i=n.indexOf(e);return-1!==i?this.setTabIndex(i):this.selectedItem?this.setTabIndex(n.indexOf(f.default.findDOMNode(this.selectedItem))):this.setTabIndex(0)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.className,a=(e.onBlur,e.onKeyDown,(0,o.default)(e,["children","className","onBlur","onKeyDown"]));return c.default.createElement(h.default,(0,i.default)({role:"menu",ref:function ref(e){t.list=e},className:r,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur},a),c.default.Children.map(n,(function(e,n){return c.default.isValidElement(e)?c.default.cloneElement(e,{tabIndex:n===t.state.currentTabIndex?0:-1,ref:e.props.selected?function(e){t.selectedItem=e}:void 0,onFocus:t.handleItemFocus}):null})))}}]),MenuList}(c.default.Component);g.propTypes={};var y=g;e.default=y},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=r(n(9)),d=r(n(3)),h=r(n(8)),g=function styles(t){return{root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:t.spacing.unit,paddingBottom:t.spacing.unit},dense:{paddingTop:t.spacing.unit/2,paddingBottom:t.spacing.unit/2},subheader:{paddingTop:0}}};e.styles=g;var y=function(t){function List(){return(0,s.default)(this,List),(0,l.default)(this,(List.__proto__||Object.getPrototypeOf(List)).apply(this,arguments))}return(0,c.default)(List,t),(0,u.default)(List,[{key:"getChildContext",value:function getChildContext(){return{dense:this.props.dense}}},{key:"render",value:function render(){var t,e=this.props,n=e.children,r=e.classes,s=e.className,u=e.component,l=e.dense,c=e.disablePadding,p=e.subheader,h=(0,a.default)(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=(0,d.default)(r.root,(t={},(0,o.default)(t,r.dense,l&&!c),(0,o.default)(t,r.padding,!c),(0,o.default)(t,r.subheader,p),t),s);return f.default.createElement(u,(0,i.default)({className:g},h),p,n)}}]),List}(f.default.Component);y.propTypes={},y.defaultProps={component:"ul",dense:!1,disablePadding:!1},y.childContextTypes={dense:p.default.bool};var m=(0,h.default)(g,{name:"MuiList"})(y);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_interopRequireDefault(n(24)),i=_interopRequireDefault(n(30)),o=_interopRequireDefault(n(43)),a=n(0);_interopRequireDefault(n(365)),_interopRequireDefault(n(185));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function shouldUpdate(t){return function(e){var n=(0,a.createFactory)(e);return function(e){function ShouldUpdate(){return(0,r.default)(this,ShouldUpdate),(0,i.default)(this,e.apply(this,arguments))}return(0,o.default)(ShouldUpdate,e),ShouldUpdate.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return t(this.props,e)},ShouldUpdate.prototype.render=function render(){return n(this.props)},ShouldUpdate}(a.Component)}}},function(t,e,n){t.exports={default:n(808),__esModule:!0}},function(t,e,n){n(155),n(181),t.exports=n(260).f("iterator")},function(t,e,n){t.exports={default:n(810),__esModule:!0}},function(t,e,n){n(811),n(319),n(816),n(817),t.exports=n(56).Symbol},function(t,e,n){"use strict";var r=n(69),i=n(122),o=n(111),a=n(82),s=n(322),u=n(812).KEY,l=n(136),c=n(236),f=n(180),p=n(179),d=n(73),h=n(260),g=n(261),y=n(813),m=n(814),v=n(91),_=n(110),b=n(123),S=n(232),E=n(157),x=n(233),w=n(815),T=n(263),P=n(101),k=n(158),C=T.f,D=P.f,A=w.f,R=r.Symbol,M=r.JSON,L=M&&M.stringify,I=d("_hidden"),O=d("toPrimitive"),F={}.propertyIsEnumerable,N=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),z=Object.prototype,j="function"==typeof R,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,W=o&&l((function(){return 7!=x(D({},"a",{get:function get(){return D(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(z,e);r&&delete z[e],D(t,e,n),r&&t!==z&&D(z,e,r)}:D,q=function wrap(t){var e=B[t]=x(R.prototype);return e._k=t,e},H=j&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},K=function defineProperty(t,e,n){return t===z&&K(U,e,n),v(t),e=S(e,!0),v(n),i(B,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=x(n,{enumerable:E(0,!1)})):(i(t,I)||D(t,I,E(1,{})),t[I][e]=!0),W(t,e,n)):D(t,e,n)},Y=function defineProperties(t,e){v(t);for(var n,r=y(e=b(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},X=function propertyIsEnumerable(t){var e=F.call(this,t=S(t,!0));return!(this===z&&i(B,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,I)&&this[I][t])||e)},Z=function getOwnPropertyDescriptor(t,e){if(t=b(t),e=S(e,!0),t!==z||!i(B,e)||i(U,e)){var n=C(t,e);return!n||!i(B,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},$=function getOwnPropertyNames(t){for(var e,n=A(b(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==I||e==u||r.push(e);return r},J=function getOwnPropertySymbols(t){for(var e,n=t===z,r=A(n?U:b(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(z,e)||o.push(B[e]);return o};j||(s((R=function Symbol(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function $set(e){this===z&&$set.call(U,e),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),W(this,t,E(1,e))};return o&&G&&W(z,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",(function toString(){return this._k})),T.f=Z,P.f=K,n(364).f=w.f=$,n(198).f=X,n(262).f=J,o&&!n(156)&&s(z,"propertyIsEnumerable",X,!0),h.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!j,{Symbol:R});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)d(Q[tt++]);for(var et=k(d.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!j,"Symbol",{for:function _for(t){return i(N,t+="")?N[t]:N[t]=R(t)},keyFor:function keyFor(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function useSetter(){G=!0},useSimple:function useSimple(){G=!1}}),a(a.S+a.F*!j,"Object",{create:function create(t,e){return void 0===e?x(t):Y(x(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:J}),M&&a(a.S+a.F*(!j||l((function(){var t=R();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function stringify(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!H(t))return m(e)||(e=function replacer(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,L.apply(M,r)}}),R.prototype[O]||n(121)(R.prototype,O,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(179)("meta"),i=n(110),o=n(122),a=n(101).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(136)((function(){return u(Object.preventExtensions({}))})),c=function setMeta(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function fastKey(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function getWeak(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function onFreeze(t){return l&&f.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(158),i=n(262),o=n(198);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(159);t.exports=Array.isArray||function isArray(t){return"Array"==r(t)}},function(t,e,n){var r=n(123),i=n(364).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return a&&"[object Window]"==o.call(t)?function getWindowNames(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},function(t,e,n){n(261)("asyncIterator")},function(t,e,n){n(261)("observable")},function(t,e,n){t.exports={default:n(819),__esModule:!0}},function(t,e,n){n(820),t.exports=n(56).Object.setPrototypeOf},function(t,e,n){var r=n(82);r(r.S,"Object",{setPrototypeOf:n(821).set})},function(t,e,n){var r=n(110),i=n(91),o=function check(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(135)(Function.call,n(263).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function setPrototypeOf(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(823),__esModule:!0}},function(t,e,n){n(824);var r=n(56).Object;t.exports=function create(t,e){return r.create(t,e)}},function(t,e,n){var r=n(82);r(r.S,"Object",{create:n(233)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function setStatic(t,e){return function(n){return n[t]=e,n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(n(827));e.default=r.default},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function is(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function shallowEqual(t,e){if(is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!r.call(e,n[o])||!is(t[n[o]],e[n[o]]))return!1;return!0}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(74),f=function styles(t){return{root:{userSelect:"none",fontSize:24,width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled}}};function SvgIcon(t){var e=t.children,n=t.classes,r=t.className,l=t.color,f=t.nativeColor,p=t.titleAccess,d=t.viewBox,h=(0,a.default)(t,["children","classes","className","color","nativeColor","titleAccess","viewBox"]),g=(0,u.default)(n.root,(0,o.default)({},n["color".concat((0,c.capitalize)(l))],"inherit"!==l),r);return s.default.createElement("svg",(0,i.default)({className:g,focusable:"false",viewBox:d,color:f,"aria-hidden":p?"false":"true"},h),p?s.default.createElement("title",null,p):null,e)}e.styles=f,SvgIcon.propTypes={},SvgIcon.defaultProps={color:"inherit",viewBox:"0 0 24 24"},SvgIcon.muiName="SvgIcon";var p=(0,l.default)(f,{name:"MuiSvgIcon"})(SvgIcon);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(36)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(366))),u=r(n(8)),l=r(n(362)),c=r(n(141)),f=function styles(t){return{root:{position:"relative",width:"100%"},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",paddingRight:4*t.spacing.unit,width:"calc(100% - ".concat(4*t.spacing.unit,"px)"),minWidth:2*t.spacing.unit,cursor:"pointer","&:focus":{background:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&:-moz-focusring":{color:"transparent",textShadow:"0 0 0 #000"},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"}},selectMenu:{width:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",minHeight:"1.1875em"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",color:t.palette.action.active,"pointer-events":"none"}}};function NativeSelect(t){var e=t.children,n=t.classes,r=t.IconComponent,u=t.input,l=t.inputProps,c=(0,o.default)(t,["children","classes","IconComponent","input","inputProps"]);return a.default.cloneElement(u,(0,i.default)({inputComponent:s.default,inputProps:(0,i.default)({children:e,classes:n,IconComponent:r,type:void 0},l,u?u.props.inputProps:{})},c))}e.styles=f,NativeSelect.propTypes={},NativeSelect.defaultProps={IconComponent:l.default,input:a.default.createElement(c.default,null)},NativeSelect.muiName="NativeSelect";var p=(0,u.default)(f,{name:"MuiNativeSelect"})(NativeSelect);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(28)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=n(74),p=r(n(93)),d=r(n(195)),h=n(140),g=r(n(75)),y=function styles(t){return{root:{},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden"},paper:{display:"flex",flexDirection:"column",margin:48,position:"relative",overflowY:"auto",outline:"none"},paperScrollPaper:{flex:"0 1 auto",maxHeight:"calc(100% - ".concat(96,"px)")},paperScrollBody:{margin:"48px auto"},paperWidthXs:{maxWidth:Math.max(t.breakpoints.values.xs,360),"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,360)+96),{margin:48})},paperWidthSm:{maxWidth:t.breakpoints.values.sm,"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(t.breakpoints.values.sm+96),{margin:48})},paperWidthMd:{maxWidth:t.breakpoints.values.md,"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(t.breakpoints.values.md+96),{margin:48})},paperFullWidth:{width:"100%"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0}}};function Dialog(t){var e,n=t.BackdropProps,r=t.children,c=t.classes,d=t.className,h=t.disableBackdropClick,y=t.disableEscapeKeyDown,m=t.fullScreen,v=t.fullWidth,_=t.maxWidth,b=t.onBackdropClick,S=t.onClose,E=t.onEnter,x=t.onEntered,w=t.onEntering,T=t.onEscapeKeyDown,P=t.onExit,k=t.onExited,C=t.onExiting,D=t.open,A=t.PaperProps,R=t.scroll,M=t.TransitionComponent,L=t.transitionDuration,I=t.TransitionProps,O=(0,a.default)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]);return u.default.createElement(p.default,(0,i.default)({className:(0,l.default)(c.root,c["scroll".concat((0,f.capitalize)(R))],d),BackdropProps:(0,o.default)({transitionDuration:L},n),disableBackdropClick:h,disableEscapeKeyDown:y,onBackdropClick:b,onEscapeKeyDown:T,onClose:S,open:D,role:"dialog"},O),u.default.createElement(M,(0,i.default)({appear:!0,in:D,timeout:L,onEnter:E,onEntering:w,onEntered:x,onExit:P,onExiting:C,onExited:k},I),u.default.createElement(g.default,(0,i.default)({elevation:24,className:(0,l.default)(c.paper,c["paperScroll".concat((0,f.capitalize)(R))],(e={},(0,s.default)(e,c["paperWidth".concat(_?(0,f.capitalize)(_):"")],_),(0,s.default)(e,c.paperFullScreen,m),(0,s.default)(e,c.paperFullWidth,v),e))},A),r)))}e.styles=y,Dialog.propTypes={},Dialog.defaultProps={disableBackdropClick:!1,disableEscapeKeyDown:!1,fullScreen:!1,fullWidth:!1,maxWidth:"sm",scroll:"paper",TransitionComponent:d.default,transitionDuration:{enter:h.duration.enteringScreen,exit:h.duration.leavingScreen}};var m=(0,c.default)(y,{name:"MuiDialog"})(Dialog);e.default=m},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(8)),l=function styles(t){var e=3*t.spacing.unit;return{root:{flex:"1 1 auto",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:"0 ".concat(e,"px ").concat(e,"px ").concat(e,"px"),"&:first-child":{paddingTop:e}}}};function DialogContent(t){var e=t.classes,n=t.children,r=t.className,u=(0,o.default)(t,["classes","children","className"]);return a.default.createElement("div",(0,i.default)({className:(0,s.default)(e.root,r)},u),n)}e.styles=l,DialogContent.propTypes={};var c=(0,u.default)(l,{name:"MuiDialogContent"})(DialogContent);e.default=c},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(8)),l=n(163);n(60);var c=function styles(t){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",margin:"".concat(t.spacing.unit,"px ").concat(t.spacing.unit/2,"px")},action:{margin:"0 ".concat(t.spacing.unit/2,"px"),minWidth:64}}};function DialogActions(t){var e=t.disableActionSpacing,n=t.children,r=t.classes,u=t.className,c=(0,o.default)(t,["disableActionSpacing","children","classes","className"]);return a.default.createElement("div",(0,i.default)({className:(0,s.default)(r.root,u)},c),e?n:(0,l.cloneChildrenWithClassName)(n,r.action))}e.styles=c,DialogActions.propTypes={},DialogActions.defaultProps={disableActionSpacing:!1};var f=(0,u.default)(c,{name:"MuiDialogActions"})(DialogActions);e.default=f},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(36)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=n(139),p=r(n(112)),d=n(74),h=function styles(t){return{root:(0,s.default)({},t.typography.button,{lineHeight:"1.4em",boxSizing:"border-box",minWidth:88,minHeight:36,padding:"8px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,f.fade)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,f.fade)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,f.fade)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},flat:{},flatPrimary:{},flatSecondary:{},outlined:{border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground},"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},raised:{},raisedPrimary:{},raisedSecondary:{},fab:{borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]}},extendedFab:{borderRadius:24,padding:"0 16px",width:"initial",minWidth:48,height:48},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},mini:{width:40,height:40},sizeSmall:{padding:"7px 8px",minWidth:64,minHeight:32,fontSize:t.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",minWidth:112,minHeight:40,fontSize:t.typography.pxToRem(15)},fullWidth:{width:"100%"}}};function Button(t){var e,n=t.children,r=t.classes,s=t.className,c=t.color,f=t.disabled,h=t.disableFocusRipple,g=t.fullWidth,y=t.focusVisibleClassName,m=t.mini,v=t.size,_=t.variant,b=(0,a.default)(t,["children","classes","className","color","disabled","disableFocusRipple","fullWidth","focusVisibleClassName","mini","size","variant"]),S="fab"===_||"extendedFab"===_,E="contained"===_||"raised"===_,x="text"===_||"flat"===_||"outlined"===_,w=(0,l.default)(r.root,(e={},(0,o.default)(e,r.fab,S),(0,o.default)(e,r.mini,S&&m),(0,o.default)(e,r.extendedFab,"extendedFab"===_),(0,o.default)(e,r.text,x),(0,o.default)(e,r.textPrimary,x&&"primary"===c),(0,o.default)(e,r.textSecondary,x&&"secondary"===c),(0,o.default)(e,r.flat,"text"===_||"flat"===_),(0,o.default)(e,r.flatPrimary,("text"===_||"flat"===_)&&"primary"===c),(0,o.default)(e,r.flatSecondary,("text"===_||"flat"===_)&&"secondary"===c),(0,o.default)(e,r.contained,E||S),(0,o.default)(e,r.containedPrimary,(E||S)&&"primary"===c),(0,o.default)(e,r.containedSecondary,(E||S)&&"secondary"===c),(0,o.default)(e,r.raised,E||S),(0,o.default)(e,r.raisedPrimary,(E||S)&&"primary"===c),(0,o.default)(e,r.raisedSecondary,(E||S)&&"secondary"===c),(0,o.default)(e,r.outlined,"outlined"===_),(0,o.default)(e,r["size".concat((0,d.capitalize)(v))],"medium"!==v),(0,o.default)(e,r.disabled,f),(0,o.default)(e,r.fullWidth,g),(0,o.default)(e,r.colorInherit,"inherit"===c),e),s);return u.default.createElement(p.default,(0,i.default)({className:w,disabled:f,focusRipple:!h,focusVisibleClassName:(0,l.default)(r.focusVisible,y)},b),u.default.createElement("span",{className:r.label},n))}e.styles=h,Button.propTypes={},Button.defaultProps={color:"default",component:"button",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"text"};var g=(0,c.default)(h,{name:"MuiButton"})(Button);e.default=g},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(36)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=function styles(t){return{root:(0,s.default)({},t.mixins.toolbar,{position:"relative",display:"flex",alignItems:"center"}),gutters:t.mixins.gutters()}};function Toolbar(t){var e=t.children,n=t.classes,r=t.className,s=t.disableGutters,c=(0,a.default)(t,["children","classes","className","disableGutters"]),f=(0,l.default)(n.root,(0,o.default)({},n.gutters,!s),r);return u.default.createElement("div",(0,i.default)({className:f},c),e)}e.styles=f,Toolbar.propTypes={},Toolbar.defaultProps={disableGutters:!1};var p=(0,c.default)(f,{name:"MuiToolbar"})(Toolbar);e.default=p},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;(function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e})(n(164));var r=_interopRequireDefault(n(838)),i=_interopRequireDefault(n(841)),o=_interopRequireDefault(n(0)),a=_interopRequireDefault(n(367));n(368);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function addClass(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,r.default)(t,e)}))},u=function removeClass(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,i.default)(t,e)}))},l=function(t){function CSSTransition(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onEnter=function(t,n){var r=e.getClassNames(n?"appear":"enter").className;e.removeClasses(t,"exit"),s(t,r),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.getClassNames(n?"appear":"enter").activeClassName;e.reflowAndAddClass(t,r),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.getClassNames("appear").doneClassName,i=e.getClassNames("enter").doneClassName,o=n?r+" "+i:i;e.removeClasses(t,n?"appear":"enter"),s(t,o),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),s(t,n),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,n),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),s(t,n),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{className:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(CSSTransition,t);var e=CSSTransition.prototype;return e.removeClasses=function removeClasses(t,e){var n=this.getClassNames(e),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&u(t,r),i&&u(t,i),o&&u(t,o)},e.reflowAndAddClass=function reflowAndAddClass(t,e){e&&(t&&t.scrollTop,s(t,e))},e.render=function render(){var t=_extends({},this.props);return delete t.classNames,o.default.createElement(a.default,_extends({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},CSSTransition}(o.default.Component);l.defaultProps={classNames:""},l.propTypes={};var c=l;e.default=c,t.exports=e.default},function(t,e,n){"use strict";var r=n(837);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(839);e.__esModule=!0,e.default=function addClass(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var i=r(n(840));t.exports=e.default},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function hasClass(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";function replaceClassName(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function removeClass(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=replaceClassName(t.className,e):t.setAttribute("class",replaceClassName(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;_interopRequireDefault(n(164));var r=_interopRequireDefault(n(0)),i=n(55),o=_interopRequireDefault(n(369));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function ReplaceTransition(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(ReplaceTransition,t);var e=ReplaceTransition.prototype;return e.handleLifecycle=function handleLifecycle(t,e,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[e];s.props[t]&&(o=s.props)[t].apply(o,n),this.props[t]&&this.props[t]((0,i.findDOMNode)(this))},e.render=function render(){var t=this.props,e=t.children,n=t.in,i=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","in"]),a=r.default.Children.toArray(e),s=a[0],u=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},ReplaceTransition}(r.default.Component);a.propTypes={};var s=a;e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=getChildMapping,e.mergeChildMappings=mergeChildMappings,e.getInitialChildMapping=function getInitialChildMapping(t,e){return getChildMapping(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:getProp(n,"appear",t),enter:getProp(n,"enter",t),exit:getProp(n,"exit",t)})}))},e.getNextChildMapping=function getNextChildMapping(t,e,n){var i=getChildMapping(t.children),o=mergeChildMappings(e,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,r.isValidElement)(s)){var u=a in e,l=a in i,c=e[a],f=(0,r.isValidElement)(c)&&!c.props.in;!l||u&&!f?l||!u||f?l&&u&&(0,r.isValidElement)(c)&&(o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:getProp(s,"exit",t),enter:getProp(s,"enter",t)})):o[a]=(0,r.cloneElement)(s,{in:!1}):o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:getProp(s,"exit",t),enter:getProp(s,"enter",t)})}})),o};var r=n(0);function getChildMapping(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function mapper(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function mergeChildMappings(t,e){function getValueForKey(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var n,r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a={};for(var s in e){if(r[s])for(n=0;n<r[s].length;n++){var u=r[s][n];a[r[s][n]]=getValueForKey(u)}a[s]=getValueForKey(s)}for(n=0;n<i.length;n++)a[i[n]]=getValueForKey(i[n]);return a}function getProp(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(28)),p=r(n(0)),d=(r(n(9)),r(n(64)),r(n(3))),h=r(n(113)),g=r(n(87)),y=n(845),m=r(n(846)),v=r(n(848)),_=r(n(8)),b=r(n(849)),S=r(n(850)),E=function styles(t){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch"},flexContainer:{display:"flex"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll"},centered:{justifyContent:"center"},scrollButtons:{},scrollButtonsAuto:(0,f.default)({},t.breakpoints.down("xs"),{display:"none"}),indicator:{}}};e.styles=E;var x=function(t){function Tabs(){var t,e,n;(0,s.default)(this,Tabs);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Tabs.__proto__||Object.getPrototypeOf(Tabs)).call.apply(t,[this].concat(i))),n.tabs=null,n.valueToIndex=new Map,n.handleResize=(0,g.default)((function(){n.updateIndicatorState(n.props),n.updateScrollButtonState()}),166),n.handleTabsScroll=(0,g.default)((function(){n.updateScrollButtonState()}),166),n.state={indicatorStyle:{},scrollerStyle:{marginBottom:0},showLeftScroll:!1,showRightScroll:!1,mounted:!1},n.getConditionalElements=function(){var t=n.props,e=t.classes,r=t.scrollable,i=t.ScrollButtonComponent,o=t.scrollButtons,a=t.theme,s={};s.scrollbarSizeListener=r?p.default.createElement(v.default,{onLoad:n.handleScrollbarSizeChange,onChange:n.handleScrollbarSizeChange}):null;var u=r&&("auto"===o||"on"===o);return s.scrollButtonLeft=u?p.default.createElement(i,{direction:a&&"rtl"===a.direction?"right":"left",onClick:n.handleLeftScrollClick,visible:n.state.showLeftScroll,className:(0,d.default)(e.scrollButtons,(0,f.default)({},e.scrollButtonsAuto,"auto"===o))}):null,s.scrollButtonRight=u?p.default.createElement(i,{direction:a&&"rtl"===a.direction?"left":"right",onClick:n.handleRightScrollClick,visible:n.state.showRightScroll,className:(0,d.default)(e.scrollButtons,(0,f.default)({},e.scrollButtonsAuto,"auto"===o))}):null,s},n.getTabsMeta=function(t,e){var r,i;if(n.tabs){var o=n.tabs.getBoundingClientRect();r={clientWidth:n.tabs?n.tabs.clientWidth:0,scrollLeft:n.tabs?n.tabs.scrollLeft:0,scrollLeftNormalized:n.tabs?(0,y.getNormalizedScrollLeft)(n.tabs,e):0,scrollWidth:n.tabs?n.tabs.scrollWidth:0,left:o.left,right:o.right}}if(n.tabs&&!1!==t){var a=n.tabs.children[0].children;if(a.length>0){var s=a[n.valueToIndex.get(t)];i=s?s.getBoundingClientRect():null}}return{tabsMeta:r,tabMeta:i}},n.handleLeftScrollClick=function(){n.tabs&&n.moveTabsScroll(-n.tabs.clientWidth)},n.handleRightScrollClick=function(){n.tabs&&n.moveTabsScroll(n.tabs.clientWidth)},n.handleScrollbarSizeChange=function(t){var e=t.scrollbarHeight;n.setState({scrollerStyle:{marginBottom:-e}})},n.moveTabsScroll=function(t){var e=n.props.theme;if(n.tabs){var r="rtl"===e.direction?-1:1,i=n.tabs.scrollLeft+t*r,o="rtl"===e.direction&&"reverse"===(0,y.detectScrollType)()?-1:1;m.default.left(n.tabs,o*i)}},n.scrollSelectedIntoView=function(){var t=n.props,e=t.theme,r=t.value,i=n.getTabsMeta(r,e.direction),o=i.tabsMeta,a=i.tabMeta;if(a&&o)if(a.left<o.left){var s=o.scrollLeft+(a.left-o.left);m.default.left(n.tabs,s)}else if(a.right>o.right){var u=o.scrollLeft+(a.right-o.right);m.default.left(n.tabs,u)}},n.updateScrollButtonState=function(){var t=n.props,e=t.scrollable,r=t.scrollButtons,i=t.theme;if(n.tabs&&e&&"off"!==r){var o=n.tabs,a=o.scrollWidth,s=o.clientWidth,u=(0,y.getNormalizedScrollLeft)(n.tabs,i.direction),l="rtl"===i.direction?a>s+u:u>0,c="rtl"===i.direction?u>0:a>s+u;l===n.state.showLeftScroll&&c===n.state.showRightScroll||n.setState({showLeftScroll:l,showRightScroll:c})}},e))}return(0,c.default)(Tabs,t),(0,u.default)(Tabs,[{key:"componentDidMount",value:function componentDidMount(){this.setState({mounted:!0}),this.updateIndicatorState(this.props),this.updateScrollButtonState(),this.props.action&&this.props.action({updateIndicator:this.handleResize})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.updateScrollButtonState(),this.updateIndicatorState(this.props),this.state.indicatorStyle!==e.indicatorStyle&&this.scrollSelectedIntoView()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear(),this.handleTabsScroll.clear()}},{key:"updateIndicatorState",value:function updateIndicatorState(t){var e=t.theme,n=t.value,r=this.getTabsMeta(n,e.direction),i=r.tabsMeta,o=r.tabMeta,a=0;if(o&&i){var s="rtl"===e.direction?i.scrollLeftNormalized+i.clientWidth-i.scrollWidth:i.scrollLeft;a=o.left-i.left+s}var u={left:a,width:o?o.width:0};u.left===this.state.indicatorStyle.left&&u.width===this.state.indicatorStyle.width||isNaN(u.left)||isNaN(u.width)||this.setState({indicatorStyle:u})}},{key:"render",value:function render(){var t,e=this,n=this.props,r=(n.action,n.centered),s=n.children,u=n.classes,l=n.className,c=n.component,g=n.fullWidth,y=n.indicatorColor,m=n.onChange,v=n.scrollable,_=(n.ScrollButtonComponent,n.scrollButtons,n.TabIndicatorProps),S=void 0===_?{}:_,E=n.textColor,x=(n.theme,n.value),w=(0,a.default)(n,["action","centered","children","classes","className","component","fullWidth","indicatorColor","onChange","scrollable","ScrollButtonComponent","scrollButtons","TabIndicatorProps","textColor","theme","value"]),T=(0,d.default)(u.root,l),P=(0,d.default)(u.scroller,(t={},(0,f.default)(t,u.fixed,!v),(0,f.default)(t,u.scrollable,v),t)),k=(0,d.default)(u.flexContainer,(0,f.default)({},u.centered,r&&!v)),C=p.default.createElement(b.default,(0,i.default)({className:u.indicator,color:y},S,{style:(0,o.default)({},this.state.indicatorStyle,S.style)}));this.valueToIndex=new Map;var D=0,A=p.default.Children.map(s,(function(t){if(!p.default.isValidElement(t))return null;var n=void 0===t.props.value?D:t.props.value;e.valueToIndex.set(n,D);var r=n===x;return D+=1,p.default.cloneElement(t,{fullWidth:g,indicator:r&&!e.state.mounted&&C,selected:r,onChange:m,textColor:E,value:n})})),R=this.getConditionalElements();return p.default.createElement(c,(0,i.default)({className:T},w),p.default.createElement(h.default,{target:"window",onResize:this.handleResize}),R.scrollbarSizeListener,p.default.createElement("div",{className:u.flexContainer},R.scrollButtonLeft,p.default.createElement("div",{className:P,style:this.state.scrollerStyle,ref:function ref(t){e.tabs=t},role:"tablist",onScroll:this.handleTabsScroll},p.default.createElement("div",{className:k},A),this.state.mounted&&C),R.scrollButtonRight))}}]),Tabs}(p.default.Component);x.propTypes={},x.defaultProps={centered:!1,component:"div",fullWidth:!1,indicatorColor:"secondary",scrollable:!1,ScrollButtonComponent:S.default,scrollButtons:"auto",textColor:"inherit"};var w=(0,_.default)(E,{name:"MuiTabs",withTheme:!0})(x);e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=!("undefined"===typeof window||!window.document||!window.document.createElement);function detectScrollType(){if(r)return r;if(!i||!window.document.body)return"indeterminate";var t=window.document.createElement("div");return t.appendChild(document.createTextNode("ABCD")),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),r="reverse",t.scrollLeft>0?r="default":(t.scrollLeft=1,0===t.scrollLeft&&(r="negative")),document.body.removeChild(t),r}e._setScrollType=function _setScrollType(t){r=t},e.detectScrollType=detectScrollType,e.getNormalizedScrollLeft=function getNormalizedScrollLeft(t,e){var n=t.scrollLeft;if("rtl"!==e)return n;var r=detectScrollType();if("indeterminate"===r)return Number.NaN;switch(r){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n}return n},e.setNormalizedScrollLeft=function setNormalizedScrollLeft(t,e,n){if("rtl"===n){var r=detectScrollType();if("indeterminate"!==r)switch(r){case"negative":t.scrollLeft=t.clientWidth-t.scrollWidth+e;break;case"reverse":t.scrollLeft=t.scrollWidth-t.clientWidth-e;break;default:t.scrollLeft=e}}else t.scrollLeft=e}},function(t,e,n){var r=n(847),i=new Error("Element already at target scroll position"),o=new Error("Scroll cancelled"),a=Math.min;function make(t){return function scroll(e,n,s,u){"function"==typeof(s=s||{})&&(u=s,s={}),"function"!=typeof u&&(u=noop);var l=+new Date,c=e[t],f=s.ease||inOutSine,p=isNaN(s.duration)?350:+s.duration,d=!1;return c===n?u(i,e[t]):r((function animate(i){if(d)return u(o,e[t]);var s=+new Date;var h=a(1,(s-l)/p);var g=f(h);e[t]=g*(n-c)+c;r(h<1?animate:function(){u(null,e[t])})})),function cancel(){d=!0}}}function inOutSine(t){return.5*(1-Math.cos(Math.PI*t))}function noop(){}t.exports={left:make("scrollLeft"),top:make("scrollTop")}},function(t,e,n){var r=n(85),i=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||function fallback(t){var e=+new Date,n=Math.max(0,16-(e-o)),r=setTimeout(t,n);return o=e,r},o=+new Date;var a=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(i=i.bind(r),a=a.bind(r)),(t.exports=i).cancel=a},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(38)),a=r(n(40)),s=r(n(41)),u=r(n(0)),l=(r(n(9)),r(n(113))),c=r(n(87)),f={width:"100px",height:"100px",position:"absolute",top:"-10000px",overflow:"scroll",msOverflowStyle:"scrollbar"},p=function(t){function ScrollbarSize(){var t,e,n;(0,i.default)(this,ScrollbarSize);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(0,a.default)(n,(e=n=(0,a.default)(this,(t=ScrollbarSize.__proto__||Object.getPrototypeOf(ScrollbarSize)).call.apply(t,[this].concat(o))),n.handleResize=(0,c.default)((function(){var t=n.props.onChange,e=n.scrollbarHeight,r=n.scrollbarWidth;n.setMeasurements(),e===n.scrollbarHeight&&r===n.scrollbarWidth||t({scrollbarHeight:n.scrollbarHeight,scrollbarWidth:n.scrollbarWidth})}),166),n.setMeasurements=function(){n.node&&(n.scrollbarHeight=n.node.offsetHeight-n.node.clientHeight,n.scrollbarWidth=n.node.offsetWidth-n.node.clientWidth)},e))}return(0,s.default)(ScrollbarSize,t),(0,o.default)(ScrollbarSize,[{key:"componentDidMount",value:function componentDidMount(){this.setMeasurements(),this.props.onLoad({scrollbarHeight:this.scrollbarHeight,scrollbarWidth:this.scrollbarWidth})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"render",value:function render(){var t=this,e=this.props.onChange;return u.default.createElement("div",null,e?u.default.createElement(l.default,{target:"window",onResize:this.handleResize}):null,u.default.createElement("div",{style:f,ref:function ref(e){t.node=e}}))}}]),ScrollbarSize}(u.default.Component);p.propTypes={};var d=p;e.default=d},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(8)),l=n(74),c=function styles(t){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),willChange:"left, width"},colorPrimary:{backgroundColor:t.palette.primary.main},colorSecondary:{backgroundColor:t.palette.secondary.main}}};function TabIndicator(t){var e=t.classes,n=t.className,r=t.color,u=(0,o.default)(t,["classes","className","color"]);return a.default.createElement("span",(0,i.default)({className:(0,s.default)(e.root,e["color".concat((0,l.capitalize)(r))],n)},u))}e.styles=c,TabIndicator.propTypes={};var f=(0,u.default)(c)(TabIndicator);e.default=f},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(851)),l=r(n(852)),c=r(n(8)),f=r(n(112)),p=function styles(t){return{root:{color:"inherit",flex:"0 0 ".concat(7*t.spacing.unit,"px")}}};e.styles=p;var d=a.default.createElement(u.default,null),h=a.default.createElement(l.default,null);function TabScrollButton(t){var e=t.classes,n=t.className,r=t.direction,u=t.onClick,l=t.visible,c=(0,o.default)(t,["classes","className","direction","onClick","visible"]),p=(0,s.default)(e.root,n);return l?a.default.createElement(f.default,(0,i.default)({className:p,onClick:u,tabIndex:-1},c),"left"===r?d:h):a.default.createElement("div",{className:p})}TabScrollButton.propTypes={},TabScrollButton.defaultProps={visible:!0};var g=(0,c.default)(p,{name:"MuiTabScrollButton"})(TabScrollButton);e.default=g},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=r(n(197)),a=r(n(77)),s=i.default.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),u=function KeyboardArrowLeft(t){return i.default.createElement(a.default,t,s)};(u=(0,o.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(0)),o=r(n(197)),a=r(n(77)),s=i.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),u=function KeyboardArrowRight(t){return i.default.createElement(a.default,t,s)};(u=(0,o.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(28)),f=r(n(36)),p=r(n(0)),d=(r(n(9)),r(n(3))),h=r(n(8)),g=r(n(112)),y=n(74),m=(r(n(854)),function styles(t){return{root:(0,f.default)({},t.typography.button,(0,c.default)({maxWidth:264,position:"relative",minWidth:72,padding:0,minHeight:48,flexShrink:0,overflow:"hidden"},t.breakpoints.up("md"),{minWidth:160})),labelIcon:{minHeight:72},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.4}},textColorPrimary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled}},textColorSecondary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.secondary.main},"&$disabled":{color:t.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"},labelContainer:(0,c.default)({paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12},t.breakpoints.up("md"),{paddingLeft:3*t.spacing.unit,paddingRight:3*t.spacing.unit}),label:(0,c.default)({fontSize:t.typography.pxToRem(14),whiteSpace:"normal"},t.breakpoints.up("md"),{fontSize:t.typography.pxToRem(13)}),labelWrapped:(0,c.default)({},t.breakpoints.down("sm"),{fontSize:t.typography.pxToRem(12)})}});e.styles=m;var v=function(t){function Tab(){var t,e,n;(0,a.default)(this,Tab);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,u.default)(n,(e=n=(0,u.default)(this,(t=Tab.__proto__||Object.getPrototypeOf(Tab)).call.apply(t,[this].concat(i))),n.label=null,n.state={labelWrapped:!1},n.handleChange=function(t){var e=n.props,r=e.onChange,i=e.value,o=e.onClick;r&&r(t,i),o&&o(t)},n.checkTextWrap=function(){if(n.label){var t=n.label.getClientRects().length>1;n.state.labelWrapped!==t&&n.setState({labelWrapped:t})}},e))}return(0,l.default)(Tab,t),(0,s.default)(Tab,[{key:"componentDidMount",value:function componentDidMount(){this.checkTextWrap()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.state.labelWrapped===e.labelWrapped&&this.checkTextWrap()}},{key:"render",value:function render(){var t,e,n=this,r=this.props,a=r.classes,s=r.className,u=r.disabled,l=r.fullWidth,f=r.icon,h=r.indicator,m=r.label,v=(r.onChange,r.selected),_=r.textColor,b=(r.value,(0,o.default)(r,["classes","className","disabled","fullWidth","icon","indicator","label","onChange","selected","textColor","value"]));void 0!==m&&(e=p.default.createElement("span",{className:a.labelContainer},p.default.createElement("span",{className:(0,d.default)(a.label,(0,c.default)({},a.labelWrapped,this.state.labelWrapped)),ref:function ref(t){n.label=t}},m)));var S=(0,d.default)(a.root,a["textColor".concat((0,y.capitalize)(_))],(t={},(0,c.default)(t,a.disabled,u),(0,c.default)(t,a.selected,v),(0,c.default)(t,a.labelIcon,f&&e),(0,c.default)(t,a.fullWidth,l),t),s);return p.default.createElement(g.default,(0,i.default)({focusRipple:!0,className:S,role:"tab","aria-selected":v,disabled:u},b,{onClick:this.handleChange}),p.default.createElement("span",{className:a.wrapper},f,e),h)}}]),Tab}(p.default.Component);v.propTypes={},v.defaultProps={disabled:!1,textColor:"inherit"};var _=(0,h.default)(m,{name:"MuiTab"})(v);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function unsupportedProp(t,e,n,r,i){return null};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57);r.__exportStar(n(856),e);var i=n(59);e.ListElementSize=i.ListElementSize;var o=n(857);e.Message=o.Message,e.readRawPointer=o.readRawPointer;var a=n(142);e.ObjectSize=a.ObjectSize,r.__exportStar(n(264),e)},function(t,e,n){"use strict";function _makePrimitiveMaskFn(t,e){return function(n){var r=new DataView(new ArrayBuffer(t));return e.call(r,0,n,!0),r}}Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setFloat32),e.getFloat64Mask=_makePrimitiveMaskFn(8,DataView.prototype.setFloat64),e.getInt16Mask=_makePrimitiveMaskFn(2,DataView.prototype.setInt16),e.getInt32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setInt32),e.getInt8Mask=_makePrimitiveMaskFn(1,DataView.prototype.setInt8),e.getUint16Mask=_makePrimitiveMaskFn(2,DataView.prototype.setUint16),e.getUint32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setUint32),e.getUint8Mask=_makePrimitiveMaskFn(1,DataView.prototype.setUint8),e.getBitMask=function getBitMask(t,e){var n=new DataView(new ArrayBuffer(1));return t?(n.setUint8(0,1<<e%8),n):n},e.getInt64Mask=function getInt64Mask(t){return t.toDataView()},e.getUint64Mask=function getUint64Mask(t){return t.toDataView()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79),a=n(80),s=n(860),u=n(862),l=n(264),c=n(882),f=n(53),p=n(266),d=r.default("capnp:message");d("load");var h=function(){function Message(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this._capnp=initMessage(t,e,n),t&&!isAnyArena(t)&&preallocateSegments(this),d("new %s",this)}return Message.prototype.allocateSegment=function(t){return allocateSegment(t,this)},Message.prototype.dump=function(){return dump(this)},Message.prototype.getRoot=function(t){return getRoot(t,this)},Message.prototype.getSegment=function(t){return getSegment(t,this)},Message.prototype.initRoot=function(t){return initRoot(t,this)},Message.prototype.setRoot=function(t){setRoot(t,this)},Message.prototype.toArrayBuffer=function(){return toArrayBuffer(this)},Message.prototype.toPackedArrayBuffer=function(){return toPackedArrayBuffer(this)},Message.prototype.toString=function(){return"Message_arena:"+this._capnp.arena},Message.allocateSegment=allocateSegment,Message.dump=dump,Message.getRoot=getRoot,Message.getSegment=getSegment,Message.initRoot=initRoot,Message.readRawPointer=readRawPointer,Message.toArrayBuffer=toArrayBuffer,Message.toPackedArrayBuffer=toPackedArrayBuffer,Message}();function initMessage(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===t)return{arena:new s.SingleSegmentArena,segments:[],traversalLimit:i.DEFAULT_TRAVERSE_LIMIT};if(isAnyArena(t))return{arena:t,segments:[],traversalLimit:i.DEFAULT_TRAVERSE_LIMIT};var r=t;return function isArrayBufferView(t){return void 0!==t.byteOffset}(r)&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),e&&(r=u.unpack(r)),n?{arena:new s.SingleSegmentArena(r),segments:[],traversalLimit:i.DEFAULT_TRAVERSE_LIMIT}:{arena:new s.MultiSegmentArena(getFramedSegments(r)),segments:[],traversalLimit:i.DEFAULT_TRAVERSE_LIMIT}}function getFramedSegments(t){var e=new DataView(t),n=e.getUint32(0,!0)+1,r=new Array(n);d("reading %d framed segments from stream",n);var i=4+4*n;if((i+=i%8)+4*n>t.byteLength)throw new Error(o.MSG_INVALID_FRAME_HEADER);for(var a=0;a<n;a++){var s=8*e.getUint32(4+4*a,!0);if(i+s>t.byteLength)throw new Error(o.MSG_INVALID_FRAME_HEADER);r[a]=t.slice(i,i+s),i+=s}return r}function preallocateSegments(t){var e=s.Arena.getNumSegments(t._capnp.arena);if(e<1)throw new Error(o.MSG_NO_SEGMENTS_IN_ARENA);t._capnp.segments=new Array(e);for(var n=0;n<e;n++){var r=s.Arena.getBuffer(n,t._capnp.arena),i=new c.Segment(n,t,r,r.byteLength);t._capnp.segments[n]=i}}function isAnyArena(t){return void 0!==t.kind}function allocateSegment(t,e){d("allocating %x bytes for %s",t,e);var n,r=s.Arena.allocate(t,e._capnp.segments,e._capnp.arena);if(r.id===e._capnp.segments.length)n=new c.Segment(r.id,e,r.buffer),d("adding new segment %s",n),e._capnp.segments.push(n);else{if(r.id<0||r.id>e._capnp.segments.length)throw new Error(a.format(o.MSG_SEGMENT_OUT_OF_BOUNDS,r.id,e));n=e._capnp.segments[r.id],d("replacing segment %s with buffer (len:%d)",n,r.buffer.byteLength),n.replaceBuffer(r.buffer)}return n}function dump(t){var e="";if(0===t._capnp.segments.length)return"================\nNo Segments\n================\n";for(var n=0;n<t._capnp.segments.length;n++){e+="================\nSegment #"+n+"\n================\n";var r=t._capnp.segments[n],i=r.buffer,o=r.byteLength,s=new Uint8Array(i,0,o);e+=a.dumpBuffer(s)}return e}function getRoot(t,e){var n=new t(e.getSegment(0),0);f.validate(l.PointerType.STRUCT,n);var r=f.getTargetStructSize(n);return(r.dataByteLength<t._capnp.size.dataByteLength||r.pointerLength<t._capnp.size.pointerLength)&&(d("need to resize root struct %s",n),p.resize(t._capnp.size,n)),n}function getSegment(t,e){var n=e._capnp.segments.length;if(0===t&&0===n){if(0===s.Arena.getNumSegments(e._capnp.arena)?allocateSegment(i.DEFAULT_BUFFER_SIZE,e):e._capnp.segments[0]=new c.Segment(0,e,s.Arena.getBuffer(0,e._capnp.arena)),!e._capnp.segments[0].hasCapacity(8))throw new Error(o.MSG_SEGMENT_TOO_SMALL);return e._capnp.segments[0].allocate(8),e._capnp.segments[0]}if(t<0||t>=n)throw new Error(a.format(o.MSG_SEGMENT_OUT_OF_BOUNDS,t,e));return e._capnp.segments[t]}function initRoot(t,e){var n=new t(e.getSegment(0),0);return p.initStruct(t._capnp.size,n),d("Initialized root pointer %s for %s.",n,e),n}function readRawPointer(t){return new l.Pointer(new h(t).getSegment(0),0)}function setRoot(t,e){l.Pointer.copyFrom(t,new l.Pointer(e.getSegment(0),0))}function toArrayBuffer(t){var e=getStreamFrame(t);0===t._capnp.segments.length&&getSegment(0,t);var n=t._capnp.segments,r=e.byteLength+n.reduce((function(t,e){return t+a.padToWord(e.byteLength)}),0),i=new Uint8Array(new ArrayBuffer(r)),o=e.byteLength;return i.set(new Uint8Array(e)),n.forEach((function(t){var e=a.padToWord(t.byteLength);i.set(new Uint8Array(t.buffer,0,e),o),o+=e})),i.buffer}function toPackedArrayBuffer(t){var e=u.pack(getStreamFrame(t));0===t._capnp.segments.length&&t.getSegment(0);var n=t._capnp.segments.map((function(t){return u.pack(t.buffer,0,a.padToWord(t.byteLength))})),r=e.byteLength+n.reduce((function(t,e){return t+e.byteLength}),0),i=new Uint8Array(new ArrayBuffer(r)),o=e.byteLength;return i.set(new Uint8Array(e)),n.forEach((function(t){i.set(new Uint8Array(t),o),o+=t.byteLength})),i.buffer}function getStreamFrame(t){var e=t._capnp.segments.length;if(0===e)return new Float64Array(1).buffer;var n=new DataView(new ArrayBuffer(4+4*e+4*(1-e%2)));return d("Writing message stream frame with segment count: %d.",e),n.setUint32(0,e-1,!0),t._capnp.segments.forEach((function(t,e){d("Message segment %d word count: %d.",t.id,t.byteLength/8),n.setUint32(4*e+4,t.byteLength/8,!0)})),n.buffer}e.Message=h,e.initMessage=initMessage,e.getFramedSegments=getFramedSegments,e.preallocateSegments=preallocateSegments,e.allocateSegment=allocateSegment,e.dump=dump,e.getRoot=getRoot,e.getSegment=getSegment,e.initRoot=initRoot,e.readRawPointer=readRawPointer,e.setRoot=setRoot,e.toArrayBuffer=toArrayBuffer,e.toPackedArrayBuffer=toPackedArrayBuffer,e.getStreamFrame=getStreamFrame},function(t,e,n){var r;function createDebug(t){function debug(){if(debug.enabled){var t=debug,n=+new Date,i=n-(r||n);t.diff=i,t.prev=r,t.curr=n,r=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var i=e.formatters[r];if("function"===typeof i){var a=o[s];n=i.call(t,a),o.splice(s,1),s--}return n})),e.formatArgs.call(t,o),(debug.log||e.log||console.log.bind(console)).apply(t,o)}}return debug.namespace=t,debug.enabled=e.enabled(t),debug.useColors=e.useColors(),debug.color=function selectColor(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"===typeof e.init&&e.init(debug),debug}(e=t.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(t){return t instanceof Error?t.stack||t.message:t},e.disable=function disable(){e.enable("")},e.enable=function enable(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"===typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function enabled(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(859),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function plural(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function parse(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===s&&!1===isNaN(t))return e.long?function fmtLong(t){return plural(t,o,"day")||plural(t,i,"hour")||plural(t,r,"minute")||plural(t,n,"second")||t+" ms"}(t):function fmtShort(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(861);e.Arena=r.Arena;var i=n(199);e.ArenaKind=i.ArenaKind;var o=n(370);e.MultiSegmentArena=o.MultiSegmentArena;var a=n(372);e.SingleSegmentArena=a.SingleSegmentArena},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(79),o=n(199),a=n(370),s=n(372);r.default("capnp:arena")("load");var u=function(){function Arena(){}return Arena.allocate=allocate,Arena.getBuffer=getBuffer,Arena.getNumSegments=getNumSegments,Arena}();function allocate(t,e,n){switch(n.kind){case o.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.allocate(t,n);case o.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.allocate(t,e,n);default:return i.assertNever(n)}}function getBuffer(t,e){switch(e.kind){case o.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.getBuffer(t,e);case o.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.getBuffer(t,e);default:return i.assertNever(e)}}function getNumSegments(t){switch(t.kind){case o.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.getNumSegments(t);case o.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.getNumSegments();default:return i.assertNever(t)}}e.Arena=u,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(83),i=n(79);function getHammingWeight(t){var e=t-(t>>1&1431655765);return 16843009*((e=(858993459&e)+(e>>2&858993459))+(e>>4)&252645135)>>24}function getTagByte(t,e,n,r,i,o,a,s){return(0===t?0:1)|(0===e?0:2)|(0===n?0:4)|(0===r?0:8)|(0===i?0:16)|(0===o?0:32)|(0===a?0:64)|(0===s?0:128)}function getUnpackedByteLength(t){for(var e=new Uint8Array(t),n=0,r=119,i=0;i<e.byteLength;){var o=e[i];0===r?(n+=o,i++,r=119):255===r?(n+=o,i+=8*o+1,r=119):(n++,i+=getHammingWeight(o)+1,r=o)}return 8*n}function getZeroByteCount(t,e,n,r,i,o,a,s){return(0===t?1:0)+(0===e?1:0)+(0===n?1:0)+(0===r?1:0)+(0===i?1:0)+(0===o?1:0)+(0===a?1:0)+(0===s?1:0)}e.getHammingWeight=getHammingWeight,e.getTagByte=getTagByte,e.getUnpackedByteLength=getUnpackedByteLength,e.getZeroByteCount=getZeroByteCount,e.pack=function pack(t,e,n){if(void 0===e&&(e=0),t.byteLength%8!==0)throw new Error(i.MSG_PACK_NOT_WORD_ALIGNED);for(var o=new Uint8Array(t,e,n),a=[],s=119,u=NaN,l=0,c=r.PACK_SPAN_THRESHOLD,f=0;f<o.byteLength;f+=8){var p=o[f],d=o[f+1],h=o[f+2],g=o[f+3],y=o[f+4],m=o[f+5],v=o[f+6],_=o[f+7],b=getTagByte(p,d,h,g,y,m,v,_),S=!0;switch(s){case 0:0!==b||l>=255?(a.push(l),l=0,S=!1):l++;break;case 255:(c-=getZeroByteCount(p,d,h,g,y,m,v,_))<=0||l>=255?(a[u]=l,l=0,c=r.PACK_SPAN_THRESHOLD,S=!1):(a.push(p,d,h,g,y,m,v,_),l++);break;default:S=!1}S||(a.push(b),s=b,0!==p&&a.push(p),0!==d&&a.push(d),0!==h&&a.push(h),0!==g&&a.push(g),0!==y&&a.push(y),0!==m&&a.push(m),0!==v&&a.push(v),0!==_&&a.push(_),255===b&&(u=a.length,a.push(0)))}return 0===s?a.push(l):255===s&&(a[u]=l),new Uint8Array(a).buffer},e.unpack=function unpack(t){for(var e=new Uint8Array(t),n=new Uint8Array(new ArrayBuffer(getUnpackedByteLength(t))),r=119,i=0,o=0;i<e.byteLength;){var a=e[i];if(0===r)o+=8*a,i++,r=119;else if(255===r){var s=8*a;n.set(e.subarray(i+1,i+1+s),o),o+=s,i+=1+s,r=119}else{i++;for(var u=1;u<=128;u<<=1)0!==(a&u)&&(n[o]=e[i++]),o++;r=a}}return n.buffer}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),i=n(165);e.AnyPointerList=i.PointerList(r.Pointer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(39).default("capnp:pointer-allocation-result")("load");var r=function r(t,e){this.pointer=t,this.offsetWords=e};e.PointerAllocationResult=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function BoolList(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(BoolList,t),BoolList.prototype.get=function(t){var e=1<<t%8,n=t>>>3,r=s.getContent(this);return 0!==(r.segment.getUint8(r.byteOffset+n)&e)},BoolList.prototype.set=function(t,e){var n=1<<t%8,r=s.getContent(this),i=r.byteOffset+(t>>>3),o=r.segment.getUint8(i);r.segment.setUint8(i,e?o|n:o&~n)},BoolList.prototype.toString=function(){return"Bool_"+t.prototype.toString.call(this)},BoolList._capnp={displayName:"List<boolean>",size:o.ListElementSize.BIT},BoolList}(a.List);e.BoolList=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load"),e.CompositeList=function CompositeList(t){var e;return(e=function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(class_1,e),class_1.prototype.get=function(e){return new t(this.segment,this.byteOffset,this._capnp.depthLimit-1,e)},class_1.prototype.set=function(t,e){s.copyFrom(e,this.get(t))},class_1.prototype.toString=function(){return"Composite_"+e.prototype.toString.call(this)+",cls:"+t.toString()},class_1}(a.List))._capnp={compositeSize:t._capnp.size,displayName:"List<"+t._capnp.displayName+">",size:o.ListElementSize.COMPOSITE},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(265),i=n(165);e.DataList=i.PointerList(r.Data)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Float32List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Float32List,t),Float32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getFloat32(e.byteOffset+4*t)},Float32List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setFloat32(n.byteOffset+4*t,e)},Float32List.prototype.toString=function(){return"Float32_"+t.prototype.toString.call(this)},Float32List._capnp={displayName:"List<Float32>",size:o.ListElementSize.BYTE_4},Float32List}(a.List);e.Float32List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Float64List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Float64List,t),Float64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getFloat64(e.byteOffset+8*t)},Float64List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setFloat64(n.byteOffset+8*t,e)},Float64List.prototype.toString=function(){return"Float64_"+t.prototype.toString.call(this)},Float64List._capnp={displayName:"List<Float64>",size:o.ListElementSize.BYTE_8},Float64List}(a.List);e.Float64List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Int8List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Int8List,t),Int8List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt8(e.byteOffset+t)},Int8List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setInt8(n.byteOffset+t,e)},Int8List.prototype.toString=function(){return"Int8_"+t.prototype.toString.call(this)},Int8List._capnp={displayName:"List<Int8>",size:o.ListElementSize.BYTE},Int8List}(a.List);e.Int8List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Int16List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Int16List,t),Int16List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt16(e.byteOffset+2*t)},Int16List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setInt16(n.byteOffset+2*t,e)},Int16List.prototype.toString=function(){return"Int16_"+t.prototype.toString.call(this)},Int16List._capnp={displayName:"List<Int16>",size:o.ListElementSize.BYTE_2},Int16List}(a.List);e.Int16List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Int32List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Int32List,t),Int32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt32(e.byteOffset+4*t)},Int32List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setInt32(n.byteOffset+4*t,e)},Int32List.prototype.toString=function(){return"Int32_"+t.prototype.toString.call(this)},Int32List._capnp={displayName:"List<Int32>",size:o.ListElementSize.BYTE_4},Int32List}(a.List);e.Int32List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Int64List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Int64List,t),Int64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt64(e.byteOffset+8*t)},Int64List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setInt64(n.byteOffset+8*t,e)},Int64List.prototype.toString=function(){return"Int64_"+t.prototype.toString.call(this)},Int64List._capnp={displayName:"List<Int64>",size:o.ListElementSize.BYTE_8},Int64List}(a.List);e.Int64List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(374),i=n(165);e.InterfaceList=i.PointerList(r.Interface)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(83),a=n(80),s=n(375),u=i.default("capnp:int64");u("load");var l=function(t){function Int64(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Int64,t),Int64.fromArrayBuffer=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},Int64.fromDataView=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},Int64.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},Int64.fromHexString=function(t){if("0x"===t.substr(0,2)&&(t=t.substr(2)),t.length<1)return Int64.fromNumber(0);var e="-"===t[0];if(e&&(t=t.substr(1)),16!==(t=a.pad(t,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var n=t.toLowerCase().replace(/[^\da-f]/g,""),r=new Uint8Array(new ArrayBuffer(8)),i=0;i<8;i++)r[7-i]=parseInt(n.substr(2*i,2),16);var o=new Int64(r);return e&&o.negate(),o},Int64.fromUint8Array=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},Int64.prototype.equals=function(e){return t.prototype.equals.call(this,e)},Int64.prototype.inspect=function(){return"[Int64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},Int64.prototype.negate=function(){for(var t=this.buffer,e=1,n=0;n<8;n++){var r=(255^t[n])+e;t[n]=255&r,e=r>>8}},Int64.prototype.setValue=function(t,e){var n=!1,r=t,i=e;if(void 0===i){if(n=(i=r)<0,r=(i=Math.abs(i))%o.VAL32,(i/=o.VAL32)>o.VAL32)throw new RangeError(t+" is outside Int64 range");i>>>=0}for(var a=0;a<8;a++)this.buffer[a]=255&r,r=3===a?i:r>>>8;n&&this.negate()},Int64.prototype.toHexString=function(){var t=this.buffer,e=128&t[7];e&&this.negate();for(var n="",r=7;r>=0;r--){var i=t[r].toString(16);1===i.length&&(i="0"+i),n+=i}return e&&(this.negate(),n="-"+n),n},Int64.prototype.toNumber=function(t){for(var e=this.buffer,n=128&e[7],r=0,i=1,a=0,s=1;a<8;){var l=e[a];n&&(i=(l=(255^l)+i)>>8,l&=255),r+=l*s,s*=256,a++}return!t&&r>=o.MAX_SAFE_INTEGER?(u("Coercing out of range value %d to Infinity.",r),n?-1/0:1/0):n?-r:r},Int64}(s.Uint64);e.Int64=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(268),u=n(53);i.default("capnp:list:composite")("load");var l=function(t){function TextList(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(TextList,t),TextList.prototype.get=function(t){var e=u.getContent(this);return e.byteOffset+=8*t,s.Text.fromPointer(e).get(0)},TextList.prototype.set=function(t,e){var n=u.getContent(this);n.byteOffset+=8*t,s.Text.fromPointer(n).set(0,e)},TextList.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},TextList._capnp={displayName:"List<Text>",size:o.ListElementSize.POINTER},TextList}(a.List);e.TextList=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Uint8List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Uint8List,t),Uint8List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint8(e.byteOffset+t)},Uint8List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setUint8(n.byteOffset+t,e)},Uint8List.prototype.toString=function(){return"Uint8_"+t.prototype.toString.call(this)},Uint8List._capnp={displayName:"List<Uint8>",size:o.ListElementSize.BYTE},Uint8List}(a.List);e.Uint8List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Uint16List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Uint16List,t),Uint16List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint16(e.byteOffset+2*t)},Uint16List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setUint16(n.byteOffset+2*t,e)},Uint16List.prototype.toString=function(){return"Uint16_"+t.prototype.toString.call(this)},Uint16List._capnp={displayName:"List<Uint16>",size:o.ListElementSize.BYTE_2},Uint16List}(a.List);e.Uint16List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Uint32List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Uint32List,t),Uint32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint32(e.byteOffset+4*t)},Uint32List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setUint32(n.byteOffset+4*t,e)},Uint32List.prototype.toString=function(){return"Uint32_"+t.prototype.toString.call(this)},Uint32List._capnp={displayName:"List<Uint32>",size:o.ListElementSize.BYTE_4},Uint32List}(a.List);e.Uint32List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=n(39),o=n(59),a=n(65),s=n(53);i.default("capnp:list:composite")("load");var u=function(t){function Uint64List(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(Uint64List,t),Uint64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint64(e.byteOffset+8*t)},Uint64List.prototype.set=function(t,e){var n=s.getContent(this);n.segment.setUint64(n.byteOffset+8*t,e)},Uint64List.prototype.toString=function(){return"Uint64_"+t.prototype.toString.call(this)},Uint64List._capnp={displayName:"List<Uint64>",size:o.ListElementSize.BYTE_8},Uint64List}(a.List);e.Uint64List=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(165),i=n(376);e.VoidList=r.PointerList(i.Void)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(39),i=n(83),o=n(79),a=n(267),s=n(80),u=n(264),l=r.default("capnp:segment");l("load");var c=function(){function Segment(t,e,n,r){void 0===r&&(r=0),this[Symbol.toStringTag]="Segment",this.id=t,this.message=e,this.buffer=n,this._dv=new DataView(n),this.byteOffset=0,this.byteLength=r}return Segment.prototype.allocate=function(t){l("allocate(%d)",t);var e=this;if((t=s.padToWord(t))>i.MAX_SEGMENT_LENGTH-8)throw new Error(s.format(o.SEG_SIZE_OVERFLOW,t));e.hasCapacity(t)||(e=e.message.allocateSegment(t));var n=e.byteLength;return e.byteLength=e.byteLength+t,l("Allocated %x bytes in %s (requested segment: %s).",t,this,e),new u.Pointer(e,n)},Segment.prototype.copyWord=function(t,e,n){var r=e._dv.getFloat64(n,i.NATIVE_LITTLE_ENDIAN);this._dv.setFloat64(t,r,i.NATIVE_LITTLE_ENDIAN)},Segment.prototype.copyWords=function(t,e,n,r){var i=new Float64Array(this.buffer,t,r),o=new Float64Array(e.buffer,n,r);i.set(o)},Segment.prototype.fillZeroWords=function(t,e){new Float64Array(this.buffer,t,e).fill(0)},Segment.prototype.getCapacity=function(){return this.buffer.byteLength},Segment.prototype.getFloat32=function(t){return this._dv.getFloat32(t,!0)},Segment.prototype.getFloat64=function(t){return this._dv.getFloat64(t,!0)},Segment.prototype.getInt16=function(t){return this._dv.getInt16(t,!0)},Segment.prototype.getInt32=function(t){return this._dv.getInt32(t,!0)},Segment.prototype.getInt64=function(t){return new a.Int64(new Uint8Array(this.buffer.slice(t,t+8)))},Segment.prototype.getInt8=function(t){return this._dv.getInt8(t)},Segment.prototype.getUint16=function(t){return this._dv.getUint16(t,!0)},Segment.prototype.getUint32=function(t){return this._dv.getUint32(t,!0)},Segment.prototype.getUint64=function(t){return new a.Uint64(new Uint8Array(this.buffer.slice(t,t+8)))},Segment.prototype.getUint8=function(t){return this._dv.getUint8(t)},Segment.prototype.hasCapacity=function(t){return l("hasCapacity(%d)",t),this.buffer.byteLength-this.byteLength>=t},Segment.prototype.isWordZero=function(t){return 0===this._dv.getFloat64(t,i.NATIVE_LITTLE_ENDIAN)},Segment.prototype.replaceBuffer=function(t){if(l("replaceBuffer(%p)",t),this.buffer!==t){if(t.byteLength<this.byteLength)throw new Error(o.SEG_REPLACEMENT_BUFFER_TOO_SMALL);this._dv=new DataView(t),this.buffer=t}},Segment.prototype.setFloat32=function(t,e){this._dv.setFloat32(t,e,!0)},Segment.prototype.setFloat64=function(t,e){this._dv.setFloat64(t,e,!0)},Segment.prototype.setInt16=function(t,e){this._dv.setInt16(t,e,!0)},Segment.prototype.setInt32=function(t,e){this._dv.setInt32(t,e,!0)},Segment.prototype.setInt8=function(t,e){this._dv.setInt8(t,e)},Segment.prototype.setInt64=function(t,e){this._dv.setUint8(t,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},Segment.prototype.setUint16=function(t,e){this._dv.setUint16(t,e,!0)},Segment.prototype.setUint32=function(t,e){this._dv.setUint32(t,e,!0)},Segment.prototype.setUint64=function(t,e){this._dv.setUint8(t+0,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},Segment.prototype.setUint8=function(t,e){this._dv.setUint8(t,e)},Segment.prototype.setWordZero=function(t){this._dv.setFloat64(t,0,i.NATIVE_LITTLE_ENDIAN)},Segment.prototype.toString=function(){return s.format("Segment_id:%d,off:%a,len:%a,cap:%a",this.id,this.byteLength,this.byteOffset,this.buffer.byteLength)},Segment}();e.Segment=c},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,n){var r=n(47);t.exports=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function _setPrototypeOf(e,n){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,n)}t.exports=_setPrototypeOf},function(t,e,n){"use strict";var r=n(45),i=n(46),o=n(49),a=n(47),s=n(269),u=n(50);Object.defineProperty(e,"__esModule",{value:!0});var l,c=n(76),f=n(76);e._capnpFileId="8e2af1e708af8b8d",function(t){t[t.CAN_ERROR=0]="CAN_ERROR",t[t.STEER_UNAVAILABLE=1]="STEER_UNAVAILABLE",t[t.BRAKE_UNAVAILABLE=2]="BRAKE_UNAVAILABLE",t[t.WRONG_GEAR=3]="WRONG_GEAR",t[t.DOOR_OPEN=4]="DOOR_OPEN",t[t.SEATBELT_NOT_LATCHED=5]="SEATBELT_NOT_LATCHED",t[t.ESP_DISABLED=6]="ESP_DISABLED",t[t.WRONG_CAR_MODE=7]="WRONG_CAR_MODE",t[t.STEER_TEMP_UNAVAILABLE=8]="STEER_TEMP_UNAVAILABLE",t[t.REVERSE_GEAR=9]="REVERSE_GEAR",t[t.BUTTON_CANCEL=10]="BUTTON_CANCEL",t[t.BUTTON_ENABLE=11]="BUTTON_ENABLE",t[t.PEDAL_PRESSED=12]="PEDAL_PRESSED",t[t.CRUISE_DISABLED=13]="CRUISE_DISABLED",t[t.SPEED_TOO_LOW=14]="SPEED_TOO_LOW",t[t.OUT_OF_SPACE=15]="OUT_OF_SPACE",t[t.OVERHEAT=16]="OVERHEAT",t[t.CALIBRATION_INCOMPLETE=17]="CALIBRATION_INCOMPLETE",t[t.CALIBRATION_INVALID=18]="CALIBRATION_INVALID",t[t.CONTROLS_MISMATCH=19]="CONTROLS_MISMATCH",t[t.PCM_ENABLE=20]="PCM_ENABLE",t[t.PCM_DISABLE=21]="PCM_DISABLE",t[t.NO_TARGET=22]="NO_TARGET",t[t.RADAR_FAULT=23]="RADAR_FAULT",t[t.BRAKE_HOLD=24]="BRAKE_HOLD",t[t.PARK_BRAKE=25]="PARK_BRAKE",t[t.MANUAL_RESTART=26]="MANUAL_RESTART",t[t.LOW_SPEED_LOCKOUT=27]="LOW_SPEED_LOCKOUT",t[t.PLANNER_ERROR=28]="PLANNER_ERROR",t[t.DEBUG_ALERT=29]="DEBUG_ALERT",t[t.STEER_TEMP_UNAVAILABLE_MUTE=30]="STEER_TEMP_UNAVAILABLE_MUTE",t[t.RESUME_REQUIRED=31]="RESUME_REQUIRED",t[t.PRE_DRIVER_DISTRACTED=32]="PRE_DRIVER_DISTRACTED",t[t.PROMPT_DRIVER_DISTRACTED=33]="PROMPT_DRIVER_DISTRACTED",t[t.DRIVER_DISTRACTED=34]="DRIVER_DISTRACTED",t[t.PRE_DRIVER_UNRESPONSIVE=35]="PRE_DRIVER_UNRESPONSIVE",t[t.PROMPT_DRIVER_UNRESPONSIVE=36]="PROMPT_DRIVER_UNRESPONSIVE",t[t.DRIVER_UNRESPONSIVE=37]="DRIVER_UNRESPONSIVE",t[t.BELOW_STEER_SPEED=38]="BELOW_STEER_SPEED",t[t.LOW_BATTERY=39]="LOW_BATTERY",t[t.VEHICLE_MODEL_INVALID=40]="VEHICLE_MODEL_INVALID",t[t.CONTROLS_FAILED=41]="CONTROLS_FAILED",t[t.SENSOR_DATA_INVALID=42]="SENSOR_DATA_INVALID",t[t.COMM_ISSUE=43]="COMM_ISSUE",t[t.TOO_DISTRACTED=44]="TOO_DISTRACTED",t[t.POSENET_INVALID=45]="POSENET_INVALID",t[t.SOUNDS_UNAVAILABLE=46]="SOUNDS_UNAVAILABLE",t[t.PRE_LANE_CHANGE_LEFT=47]="PRE_LANE_CHANGE_LEFT",t[t.PRE_LANE_CHANGE_RIGHT=48]="PRE_LANE_CHANGE_RIGHT",t[t.LANE_CHANGE=49]="LANE_CHANGE",t[t.COMMUNITY_FEATURE_DISALLOWED=50]="COMMUNITY_FEATURE_DISALLOWED",t[t.LOW_MEMORY=51]="LOW_MEMORY",t[t.STOCK_AEB=52]="STOCK_AEB",t[t.LDW=53]="LDW",t[t.CAR_UNRECOGNIZED=54]="CAR_UNRECOGNIZED",t[t.DRIVER_MONITOR_LOW_ACC=55]="DRIVER_MONITOR_LOW_ACC",t[t.INVALID_LKAS_SETTING=56]="INVALID_LKAS_SETTING",t[t.SPEED_TOO_HIGH=57]="SPEED_TOO_HIGH",t[t.LANE_CHANGE_BLOCKED=58]="LANE_CHANGE_BLOCKED",t[t.RELAY_MALFUNCTION=59]="RELAY_MALFUNCTION",t[t.GAS_PRESSED=60]="GAS_PRESSED",t[t.STOCK_FCW=61]="STOCK_FCW",t[t.STARTUP=62]="STARTUP",t[t.STARTUP_NO_CAR=63]="STARTUP_NO_CAR",t[t.STARTUP_NO_CONTROL=64]="STARTUP_NO_CONTROL",t[t.STARTUP_MASTER=65]="STARTUP_MASTER",t[t.FCW=66]="FCW",t[t.STEER_SATURATED=67]="STEER_SATURATED",t[t.BELOW_ENGAGE_SPEED=68]="BELOW_ENGAGE_SPEED",t[t.NO_GPS=69]="NO_GPS",t[t.WRONG_CRUISE_MODE=70]="WRONG_CRUISE_MODE",t[t.MODELD_LAGGING=71]="MODELD_LAGGING",t[t.DEVICE_FALLING=72]="DEVICE_FALLING",t[t.FAN_MALFUNCTION=73]="FAN_MALFUNCTION",t[t.CAMERA_MALFUNCTION=74]="CAMERA_MALFUNCTION",t[t.GPS_MALFUNCTION=75]="GPS_MALFUNCTION",t[t.STARTUP_ONEPLUS=76]="STARTUP_ONEPLUS",t[t.PROCESS_NOT_RUNNING=77]="PROCESS_NOT_RUNNING",t[t.RADAR_CAN_ERROR_DEPRECATED=78]="RADAR_CAN_ERROR_DEPRECATED",t[t.RADAR_COMM_ISSUE_DEPRECATED=79]="RADAR_COMM_ISSUE_DEPRECATED",t[t.GAS_UNAVAILABLE_DEPRECATED=80]="GAS_UNAVAILABLE_DEPRECATED",t[t.DATA_NEEDED_DEPRECATED=81]="DATA_NEEDED_DEPRECATED",t[t.MODEL_COMM_ISSUE_DEPRECATED=82]="MODEL_COMM_ISSUE_DEPRECATED",t[t.IPAS_OVERRIDE_DEPRECATED=83]="IPAS_OVERRIDE_DEPRECATED",t[t.GEOFENCE_DEPRECATED=84]="GEOFENCE_DEPRECATED",t[t.DRIVER_MONITOR_ON_DEPRECATED=85]="DRIVER_MONITOR_ON_DEPRECATED",t[t.DRIVER_MONITOR_OFF_DEPRECATED=86]="DRIVER_MONITOR_OFF_DEPRECATED",t[t.CALIBRATION_PROGRESS_DEPRECATED=87]="CALIBRATION_PROGRESS_DEPRECATED",t[t.INVALID_GIRAFFE_HONDA_DEPRECATED=88]="INVALID_GIRAFFE_HONDA_DEPRECATED",t[t.INVALID_GIRAFFE_TOYOTA_DEPRECATED=89]="INVALID_GIRAFFE_TOYOTA_DEPRECATED",t[t.INTERNET_CONNECTIVITY_NEEDED_DEPRECATED=90]="INTERNET_CONNECTIVITY_NEEDED_DEPRECATED",t[t.WHITE_PANDA_UNSUPPORTED_DEPRECATED=91]="WHITE_PANDA_UNSUPPORTED_DEPRECATED",t[t.COMM_ISSUE_WARNING_DEPRECATED=92]="COMM_ISSUE_WARNING_DEPRECATED",t[t.FOCUS_RECOVER_ACTIVE_DEPRECATED=93]="FOCUS_RECOVER_ACTIVE_DEPRECATED",t[t.NEOS_UPDATE_REQUIRED_DEPRECATED=94]="NEOS_UPDATE_REQUIRED_DEPRECATED",t[t.MODEL_LAG_WARNING_DEPRECATED=95]="MODEL_LAG_WARNING_DEPRECATED"}(l=e.CarEvent_EventName||(e.CarEvent_EventName={}));var p=function(t){function CarEvent(){return r(this,CarEvent),o(this,a(CarEvent).apply(this,arguments))}return u(CarEvent,t),i(CarEvent,[{key:"getName",value:function getName(){return f.Struct.getUint16(0,this)}},{key:"setName",value:function setName(t){f.Struct.setUint16(0,t,this)}},{key:"getEnable",value:function getEnable(){return f.Struct.getBit(16,this)}},{key:"setEnable",value:function setEnable(t){f.Struct.setBit(16,t,this)}},{key:"getNoEntry",value:function getNoEntry(){return f.Struct.getBit(17,this)}},{key:"setNoEntry",value:function setNoEntry(t){f.Struct.setBit(17,t,this)}},{key:"getWarning",value:function getWarning(){return f.Struct.getBit(18,this)}},{key:"setWarning",value:function setWarning(t){f.Struct.setBit(18,t,this)}},{key:"getUserDisable",value:function getUserDisable(){return f.Struct.getBit(19,this)}},{key:"setUserDisable",value:function setUserDisable(t){f.Struct.setBit(19,t,this)}},{key:"getSoftDisable",value:function getSoftDisable(){return f.Struct.getBit(20,this)}},{key:"setSoftDisable",value:function setSoftDisable(t){f.Struct.setBit(20,t,this)}},{key:"getImmediateDisable",value:function getImmediateDisable(){return f.Struct.getBit(21,this)}},{key:"setImmediateDisable",value:function setImmediateDisable(t){f.Struct.setBit(21,t,this)}},{key:"getPreEnable",value:function getPreEnable(){return f.Struct.getBit(22,this)}},{key:"setPreEnable",value:function setPreEnable(t){f.Struct.setBit(22,t,this)}},{key:"getPermanent",value:function getPermanent(){return f.Struct.getBit(23,this)}},{key:"setPermanent",value:function setPermanent(t){f.Struct.setBit(23,t,this)}},{key:"toString",value:function toString(){return"CarEvent_"+s(a(CarEvent.prototype),"toString",this).call(this)}}]),CarEvent}(f.Struct);p.EventName=l,p._capnp={displayName:"CarEvent",id:"9b1657f34caf3ad3",size:new f.ObjectSize(8,0)},e.CarEvent=p;var d=function(t){function CarState_WheelSpeeds(){return r(this,CarState_WheelSpeeds),o(this,a(CarState_WheelSpeeds).apply(this,arguments))}return u(CarState_WheelSpeeds,t),i(CarState_WheelSpeeds,[{key:"getFl",value:function getFl(){return f.Struct.getFloat32(0,this)}},{key:"setFl",value:function setFl(t){f.Struct.setFloat32(0,t,this)}},{key:"getFr",value:function getFr(){return f.Struct.getFloat32(4,this)}},{key:"setFr",value:function setFr(t){f.Struct.setFloat32(4,t,this)}},{key:"getRl",value:function getRl(){return f.Struct.getFloat32(8,this)}},{key:"setRl",value:function setRl(t){f.Struct.setFloat32(8,t,this)}},{key:"getRr",value:function getRr(){return f.Struct.getFloat32(12,this)}},{key:"setRr",value:function setRr(t){f.Struct.setFloat32(12,t,this)}},{key:"toString",value:function toString(){return"CarState_WheelSpeeds_"+s(a(CarState_WheelSpeeds.prototype),"toString",this).call(this)}}]),CarState_WheelSpeeds}(f.Struct);d._capnp={displayName:"WheelSpeeds",id:"991a37a6155935a3",size:new f.ObjectSize(16,0)},e.CarState_WheelSpeeds=d;var h,g,y=function(t){function CarState_CruiseState(){return r(this,CarState_CruiseState),o(this,a(CarState_CruiseState).apply(this,arguments))}return u(CarState_CruiseState,t),i(CarState_CruiseState,[{key:"getEnabled",value:function getEnabled(){return f.Struct.getBit(0,this)}},{key:"setEnabled",value:function setEnabled(t){f.Struct.setBit(0,t,this)}},{key:"getSpeed",value:function getSpeed(){return f.Struct.getFloat32(4,this)}},{key:"setSpeed",value:function setSpeed(t){f.Struct.setFloat32(4,t,this)}},{key:"getAvailable",value:function getAvailable(){return f.Struct.getBit(1,this)}},{key:"setAvailable",value:function setAvailable(t){f.Struct.setBit(1,t,this)}},{key:"getSpeedOffset",value:function getSpeedOffset(){return f.Struct.getFloat32(8,this)}},{key:"setSpeedOffset",value:function setSpeedOffset(t){f.Struct.setFloat32(8,t,this)}},{key:"getStandstill",value:function getStandstill(){return f.Struct.getBit(2,this)}},{key:"setStandstill",value:function setStandstill(t){f.Struct.setBit(2,t,this)}},{key:"getNonAdaptive",value:function getNonAdaptive(){return f.Struct.getBit(3,this)}},{key:"setNonAdaptive",value:function setNonAdaptive(t){f.Struct.setBit(3,t,this)}},{key:"toString",value:function toString(){return"CarState_CruiseState_"+s(a(CarState_CruiseState.prototype),"toString",this).call(this)}}]),CarState_CruiseState}(f.Struct);y._capnp={displayName:"CruiseState",id:"e64e81478e6e60af",size:new f.ObjectSize(16,0)},e.CarState_CruiseState=y,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.PARK=1]="PARK",t[t.DRIVE=2]="DRIVE",t[t.NEUTRAL=3]="NEUTRAL",t[t.REVERSE=4]="REVERSE",t[t.SPORT=5]="SPORT",t[t.LOW=6]="LOW",t[t.BRAKE=7]="BRAKE",t[t.ECO=8]="ECO",t[t.MANUMATIC=9]="MANUMATIC"}(h=e.CarState_GearShifter||(e.CarState_GearShifter={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.LEFT_BLINKER=1]="LEFT_BLINKER",t[t.RIGHT_BLINKER=2]="RIGHT_BLINKER",t[t.ACCEL_CRUISE=3]="ACCEL_CRUISE",t[t.DECEL_CRUISE=4]="DECEL_CRUISE",t[t.CANCEL=5]="CANCEL",t[t.ALT_BUTTON1=6]="ALT_BUTTON1",t[t.ALT_BUTTON2=7]="ALT_BUTTON2",t[t.ALT_BUTTON3=8]="ALT_BUTTON3",t[t.SET_CRUISE=9]="SET_CRUISE",t[t.RESUME_CRUISE=10]="RESUME_CRUISE",t[t.GAP_ADJUST_CRUISE=11]="GAP_ADJUST_CRUISE"}(g=e.CarState_ButtonEvent_Type||(e.CarState_ButtonEvent_Type={}));var m=function(t){function CarState_ButtonEvent(){return r(this,CarState_ButtonEvent),o(this,a(CarState_ButtonEvent).apply(this,arguments))}return u(CarState_ButtonEvent,t),i(CarState_ButtonEvent,[{key:"getPressed",value:function getPressed(){return f.Struct.getBit(0,this)}},{key:"setPressed",value:function setPressed(t){f.Struct.setBit(0,t,this)}},{key:"getType",value:function getType(){return f.Struct.getUint16(2,this)}},{key:"setType",value:function setType(t){f.Struct.setUint16(2,t,this)}},{key:"toString",value:function toString(){return"CarState_ButtonEvent_"+s(a(CarState_ButtonEvent.prototype),"toString",this).call(this)}}]),CarState_ButtonEvent}(f.Struct);m.Type=g,m._capnp={displayName:"ButtonEvent",id:"ff5ca6835b4acef6",size:new f.ObjectSize(8,0)},e.CarState_ButtonEvent=m;var v,_=function(t){function CarState(){return r(this,CarState),o(this,a(CarState).apply(this,arguments))}return u(CarState,t),i(CarState,[{key:"adoptEvents",value:function adoptEvents(t){f.Struct.adopt(t,f.Struct.getPointer(5,this))}},{key:"disownEvents",value:function disownEvents(){return f.Struct.disown(this.getEvents())}},{key:"getEvents",value:function getEvents(){return f.Struct.getList(5,CarState._Events,this)}},{key:"hasEvents",value:function hasEvents(){return!f.Struct.isNull(f.Struct.getPointer(5,this))}},{key:"initEvents",value:function initEvents(t){return f.Struct.initList(5,CarState._Events,t,this)}},{key:"setEvents",value:function setEvents(t){f.Struct.copyFrom(t,f.Struct.getPointer(5,this))}},{key:"getVEgo",value:function getVEgo(){return f.Struct.getFloat32(0,this)}},{key:"setVEgo",value:function setVEgo(t){f.Struct.setFloat32(0,t,this)}},{key:"getAEgo",value:function getAEgo(){return f.Struct.getFloat32(28,this)}},{key:"setAEgo",value:function setAEgo(t){f.Struct.setFloat32(28,t,this)}},{key:"getVEgoRaw",value:function getVEgoRaw(){return f.Struct.getFloat32(32,this)}},{key:"setVEgoRaw",value:function setVEgoRaw(t){f.Struct.setFloat32(32,t,this)}},{key:"getYawRate",value:function getYawRate(){return f.Struct.getFloat32(36,this)}},{key:"setYawRate",value:function setYawRate(t){f.Struct.setFloat32(36,t,this)}},{key:"getStandstill",value:function getStandstill(){return f.Struct.getBit(67,this)}},{key:"setStandstill",value:function setStandstill(t){f.Struct.setBit(67,t,this)}},{key:"adoptWheelSpeeds",value:function adoptWheelSpeeds(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownWheelSpeeds",value:function disownWheelSpeeds(){return f.Struct.disown(this.getWheelSpeeds())}},{key:"getWheelSpeeds",value:function getWheelSpeeds(){return f.Struct.getStruct(1,d,this)}},{key:"hasWheelSpeeds",value:function hasWheelSpeeds(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initWheelSpeeds",value:function initWheelSpeeds(){return f.Struct.initStructAt(1,d,this)}},{key:"setWheelSpeeds",value:function setWheelSpeeds(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"getGas",value:function getGas(){return f.Struct.getFloat32(4,this)}},{key:"setGas",value:function setGas(t){f.Struct.setFloat32(4,t,this)}},{key:"getGasPressed",value:function getGasPressed(){return f.Struct.getBit(64,this)}},{key:"setGasPressed",value:function setGasPressed(t){f.Struct.setBit(64,t,this)}},{key:"getBrake",value:function getBrake(){return f.Struct.getFloat32(12,this)}},{key:"setBrake",value:function setBrake(t){f.Struct.setFloat32(12,t,this)}},{key:"getBrakePressed",value:function getBrakePressed(){return f.Struct.getBit(65,this)}},{key:"setBrakePressed",value:function setBrakePressed(t){f.Struct.setBit(65,t,this)}},{key:"getBrakeLights",value:function getBrakeLights(){return f.Struct.getBit(68,this)}},{key:"setBrakeLights",value:function setBrakeLights(t){f.Struct.setBit(68,t,this)}},{key:"getSteeringAngle",value:function getSteeringAngle(){return f.Struct.getFloat32(16,this)}},{key:"setSteeringAngle",value:function setSteeringAngle(t){f.Struct.setFloat32(16,t,this)}},{key:"getSteeringRate",value:function getSteeringRate(){return f.Struct.getFloat32(24,this)}},{key:"setSteeringRate",value:function setSteeringRate(t){f.Struct.setFloat32(24,t,this)}},{key:"getSteeringTorque",value:function getSteeringTorque(){return f.Struct.getFloat32(20,this)}},{key:"setSteeringTorque",value:function setSteeringTorque(t){f.Struct.setFloat32(20,t,this)}},{key:"getSteeringTorqueEps",value:function getSteeringTorqueEps(){return f.Struct.getFloat32(40,this)}},{key:"setSteeringTorqueEps",value:function setSteeringTorqueEps(t){f.Struct.setFloat32(40,t,this)}},{key:"getSteeringPressed",value:function getSteeringPressed(){return f.Struct.getBit(66,this)}},{key:"setSteeringPressed",value:function setSteeringPressed(t){f.Struct.setBit(66,t,this)}},{key:"getSteeringRateLimited",value:function getSteeringRateLimited(){return f.Struct.getBit(76,this)}},{key:"setSteeringRateLimited",value:function setSteeringRateLimited(t){f.Struct.setBit(76,t,this)}},{key:"getSteerWarning",value:function getSteerWarning(){return f.Struct.getBit(354,this)}},{key:"setSteerWarning",value:function setSteerWarning(t){f.Struct.setBit(354,t,this)}},{key:"getSteerError",value:function getSteerError(){return f.Struct.getBit(355,this)}},{key:"setSteerError",value:function setSteerError(t){f.Struct.setBit(355,t,this)}},{key:"getStockAeb",value:function getStockAeb(){return f.Struct.getBit(77,this)}},{key:"setStockAeb",value:function setStockAeb(t){f.Struct.setBit(77,t,this)}},{key:"getStockFcw",value:function getStockFcw(){return f.Struct.getBit(78,this)}},{key:"setStockFcw",value:function setStockFcw(t){f.Struct.setBit(78,t,this)}},{key:"getEspDisabled",value:function getEspDisabled(){return f.Struct.getBit(79,this)}},{key:"setEspDisabled",value:function setEspDisabled(t){f.Struct.setBit(79,t,this)}},{key:"adoptCruiseState",value:function adoptCruiseState(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownCruiseState",value:function disownCruiseState(){return f.Struct.disown(this.getCruiseState())}},{key:"getCruiseState",value:function getCruiseState(){return f.Struct.getStruct(2,y,this)}},{key:"hasCruiseState",value:function hasCruiseState(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initCruiseState",value:function initCruiseState(){return f.Struct.initStructAt(2,y,this)}},{key:"setCruiseState",value:function setCruiseState(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"getGearShifter",value:function getGearShifter(){return f.Struct.getUint16(10,this)}},{key:"setGearShifter",value:function setGearShifter(t){f.Struct.setUint16(10,t,this)}},{key:"adoptButtonEvents",value:function adoptButtonEvents(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownButtonEvents",value:function disownButtonEvents(){return f.Struct.disown(this.getButtonEvents())}},{key:"getButtonEvents",value:function getButtonEvents(){return f.Struct.getList(3,CarState._ButtonEvents,this)}},{key:"hasButtonEvents",value:function hasButtonEvents(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initButtonEvents",value:function initButtonEvents(t){return f.Struct.initList(3,CarState._ButtonEvents,t,this)}},{key:"setButtonEvents",value:function setButtonEvents(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"getLeftBlinker",value:function getLeftBlinker(){return f.Struct.getBit(69,this)}},{key:"setLeftBlinker",value:function setLeftBlinker(t){f.Struct.setBit(69,t,this)}},{key:"getRightBlinker",value:function getRightBlinker(){return f.Struct.getBit(70,this)}},{key:"setRightBlinker",value:function setRightBlinker(t){f.Struct.setBit(70,t,this)}},{key:"getGenericToggle",value:function getGenericToggle(){return f.Struct.getBit(71,this)}},{key:"setGenericToggle",value:function setGenericToggle(t){f.Struct.setBit(71,t,this)}},{key:"getDoorOpen",value:function getDoorOpen(){return f.Struct.getBit(72,this)}},{key:"setDoorOpen",value:function setDoorOpen(t){f.Struct.setBit(72,t,this)}},{key:"getSeatbeltUnlatched",value:function getSeatbeltUnlatched(){return f.Struct.getBit(73,this)}},{key:"setSeatbeltUnlatched",value:function setSeatbeltUnlatched(t){f.Struct.setBit(73,t,this)}},{key:"getCanValid",value:function getCanValid(){return f.Struct.getBit(74,this)}},{key:"setCanValid",value:function setCanValid(t){f.Struct.setBit(74,t,this)}},{key:"getClutchPressed",value:function getClutchPressed(){return f.Struct.getBit(75,this)}},{key:"setClutchPressed",value:function setClutchPressed(t){f.Struct.setBit(75,t,this)}},{key:"adoptCanMonoTimes",value:function adoptCanMonoTimes(t){f.Struct.adopt(t,f.Struct.getPointer(4,this))}},{key:"disownCanMonoTimes",value:function disownCanMonoTimes(){return f.Struct.disown(this.getCanMonoTimes())}},{key:"getCanMonoTimes",value:function getCanMonoTimes(){return f.Struct.getList(4,c.Uint64List,this)}},{key:"hasCanMonoTimes",value:function hasCanMonoTimes(){return!f.Struct.isNull(f.Struct.getPointer(4,this))}},{key:"initCanMonoTimes",value:function initCanMonoTimes(t){return f.Struct.initList(4,c.Uint64List,t,this)}},{key:"setCanMonoTimes",value:function setCanMonoTimes(t){f.Struct.copyFrom(t,f.Struct.getPointer(4,this))}},{key:"getLeftBlindspot",value:function getLeftBlindspot(){return f.Struct.getBit(352,this)}},{key:"setLeftBlindspot",value:function setLeftBlindspot(t){f.Struct.setBit(352,t,this)}},{key:"getRightBlindspot",value:function getRightBlindspot(){return f.Struct.getBit(353,this)}},{key:"setRightBlindspot",value:function setRightBlindspot(t){f.Struct.setBit(353,t,this)}},{key:"adoptErrorsDEPRECATED",value:function adoptErrorsDEPRECATED(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownErrorsDEPRECATED",value:function disownErrorsDEPRECATED(){return f.Struct.disown(this.getErrorsDEPRECATED())}},{key:"getErrorsDEPRECATED",value:function getErrorsDEPRECATED(){return f.Struct.getList(0,c.Uint16List,this)}},{key:"hasErrorsDEPRECATED",value:function hasErrorsDEPRECATED(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initErrorsDEPRECATED",value:function initErrorsDEPRECATED(t){return f.Struct.initList(0,c.Uint16List,t,this)}},{key:"setErrorsDEPRECATED",value:function setErrorsDEPRECATED(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"CarState_"+s(a(CarState.prototype),"toString",this).call(this)}}]),CarState}(f.Struct);_.WheelSpeeds=d,_.CruiseState=y,_.GearShifter=h,_.ButtonEvent=m,_._capnp={displayName:"CarState",id:"9da4fa09e052903c",size:new f.ObjectSize(48,6)},e.CarState=_,function(t){t[t.CAN_ERROR=0]="CAN_ERROR",t[t.FAULT=1]="FAULT",t[t.WRONG_CONFIG=2]="WRONG_CONFIG"}(v=e.RadarData_Error||(e.RadarData_Error={}));var b=function(t){function RadarData_RadarPoint(){return r(this,RadarData_RadarPoint),o(this,a(RadarData_RadarPoint).apply(this,arguments))}return u(RadarData_RadarPoint,t),i(RadarData_RadarPoint,[{key:"getTrackId",value:function getTrackId(){return f.Struct.getUint64(0,this)}},{key:"setTrackId",value:function setTrackId(t){f.Struct.setUint64(0,t,this)}},{key:"getDRel",value:function getDRel(){return f.Struct.getFloat32(8,this)}},{key:"setDRel",value:function setDRel(t){f.Struct.setFloat32(8,t,this)}},{key:"getYRel",value:function getYRel(){return f.Struct.getFloat32(12,this)}},{key:"setYRel",value:function setYRel(t){f.Struct.setFloat32(12,t,this)}},{key:"getVRel",value:function getVRel(){return f.Struct.getFloat32(16,this)}},{key:"setVRel",value:function setVRel(t){f.Struct.setFloat32(16,t,this)}},{key:"getARel",value:function getARel(){return f.Struct.getFloat32(20,this)}},{key:"setARel",value:function setARel(t){f.Struct.setFloat32(20,t,this)}},{key:"getYvRel",value:function getYvRel(){return f.Struct.getFloat32(24,this)}},{key:"setYvRel",value:function setYvRel(t){f.Struct.setFloat32(24,t,this)}},{key:"getMeasured",value:function getMeasured(){return f.Struct.getBit(224,this)}},{key:"setMeasured",value:function setMeasured(t){f.Struct.setBit(224,t,this)}},{key:"toString",value:function toString(){return"RadarData_RadarPoint_"+s(a(RadarData_RadarPoint.prototype),"toString",this).call(this)}}]),RadarData_RadarPoint}(f.Struct);b._capnp={displayName:"RadarPoint",id:"8ff333ebac1fdf36",size:new f.ObjectSize(32,0)},e.RadarData_RadarPoint=b;var S=function(t){function RadarData(){return r(this,RadarData),o(this,a(RadarData).apply(this,arguments))}return u(RadarData,t),i(RadarData,[{key:"adoptErrors",value:function adoptErrors(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownErrors",value:function disownErrors(){return f.Struct.disown(this.getErrors())}},{key:"getErrors",value:function getErrors(){return f.Struct.getList(0,c.Uint16List,this)}},{key:"hasErrors",value:function hasErrors(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initErrors",value:function initErrors(t){return f.Struct.initList(0,c.Uint16List,t,this)}},{key:"setErrors",value:function setErrors(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptPoints",value:function adoptPoints(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownPoints",value:function disownPoints(){return f.Struct.disown(this.getPoints())}},{key:"getPoints",value:function getPoints(){return f.Struct.getList(1,RadarData._Points,this)}},{key:"hasPoints",value:function hasPoints(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initPoints",value:function initPoints(t){return f.Struct.initList(1,RadarData._Points,t,this)}},{key:"setPoints",value:function setPoints(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"adoptCanMonoTimes",value:function adoptCanMonoTimes(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownCanMonoTimes",value:function disownCanMonoTimes(){return f.Struct.disown(this.getCanMonoTimes())}},{key:"getCanMonoTimes",value:function getCanMonoTimes(){return f.Struct.getList(2,c.Uint64List,this)}},{key:"hasCanMonoTimes",value:function hasCanMonoTimes(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initCanMonoTimes",value:function initCanMonoTimes(t){return f.Struct.initList(2,c.Uint64List,t,this)}},{key:"setCanMonoTimes",value:function setCanMonoTimes(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"RadarData_"+s(a(RadarData.prototype),"toString",this).call(this)}}]),RadarData}(f.Struct);S.Error=v,S.RadarPoint=b,S._capnp={displayName:"RadarData",id:"888ad6581cf0aacb",size:new f.ObjectSize(0,3)},e.RadarData=S;var E=function(t){function CarControl_Actuators(){return r(this,CarControl_Actuators),o(this,a(CarControl_Actuators).apply(this,arguments))}return u(CarControl_Actuators,t),i(CarControl_Actuators,[{key:"getGas",value:function getGas(){return f.Struct.getFloat32(0,this)}},{key:"setGas",value:function setGas(t){f.Struct.setFloat32(0,t,this)}},{key:"getBrake",value:function getBrake(){return f.Struct.getFloat32(4,this)}},{key:"setBrake",value:function setBrake(t){f.Struct.setFloat32(4,t,this)}},{key:"getSteer",value:function getSteer(){return f.Struct.getFloat32(8,this)}},{key:"setSteer",value:function setSteer(t){f.Struct.setFloat32(8,t,this)}},{key:"getSteerAngle",value:function getSteerAngle(){return f.Struct.getFloat32(12,this)}},{key:"setSteerAngle",value:function setSteerAngle(t){f.Struct.setFloat32(12,t,this)}},{key:"toString",value:function toString(){return"CarControl_Actuators_"+s(a(CarControl_Actuators.prototype),"toString",this).call(this)}}]),CarControl_Actuators}(f.Struct);E._capnp={displayName:"Actuators",id:"e97275a919432828",size:new f.ObjectSize(16,0)},e.CarControl_Actuators=E;var x,w,T=function(t){function CarControl_CruiseControl(){return r(this,CarControl_CruiseControl),o(this,a(CarControl_CruiseControl).apply(this,arguments))}return u(CarControl_CruiseControl,t),i(CarControl_CruiseControl,[{key:"getCancel",value:function getCancel(){return f.Struct.getBit(0,this)}},{key:"setCancel",value:function setCancel(t){f.Struct.setBit(0,t,this)}},{key:"getOverride",value:function getOverride(){return f.Struct.getBit(1,this)}},{key:"setOverride",value:function setOverride(t){f.Struct.setBit(1,t,this)}},{key:"getSpeedOverride",value:function getSpeedOverride(){return f.Struct.getFloat32(4,this)}},{key:"setSpeedOverride",value:function setSpeedOverride(t){f.Struct.setFloat32(4,t,this)}},{key:"getAccelOverride",value:function getAccelOverride(){return f.Struct.getFloat32(8,this)}},{key:"setAccelOverride",value:function setAccelOverride(t){f.Struct.setFloat32(8,t,this)}},{key:"toString",value:function toString(){return"CarControl_CruiseControl_"+s(a(CarControl_CruiseControl.prototype),"toString",this).call(this)}}]),CarControl_CruiseControl}(f.Struct);T._capnp={displayName:"CruiseControl",id:"b20e386e0e0ba8d3",size:new f.ObjectSize(16,0)},e.CarControl_CruiseControl=T,function(t){t[t.NONE=0]="NONE",t[t.FCW=1]="FCW",t[t.STEER_REQUIRED=2]="STEER_REQUIRED",t[t.BRAKE_PRESSED=3]="BRAKE_PRESSED",t[t.WRONG_GEAR=4]="WRONG_GEAR",t[t.SEATBELT_UNBUCKLED=5]="SEATBELT_UNBUCKLED",t[t.SPEED_TOO_HIGH=6]="SPEED_TOO_HIGH",t[t.LDW=7]="LDW"}(x=e.CarControl_HUDControl_VisualAlert||(e.CarControl_HUDControl_VisualAlert={})),function(t){t[t.NONE=0]="NONE",t[t.CHIME_ENGAGE=1]="CHIME_ENGAGE",t[t.CHIME_DISENGAGE=2]="CHIME_DISENGAGE",t[t.CHIME_ERROR=3]="CHIME_ERROR",t[t.CHIME_WARNING1=4]="CHIME_WARNING1",t[t.CHIME_WARNING2=5]="CHIME_WARNING2",t[t.CHIME_WARNING_REPEAT=6]="CHIME_WARNING_REPEAT",t[t.CHIME_PROMPT=7]="CHIME_PROMPT",t[t.CHIME_WARNING2REPEAT=8]="CHIME_WARNING2REPEAT"}(w=e.CarControl_HUDControl_AudibleAlert||(e.CarControl_HUDControl_AudibleAlert={}));var P=function(t){function CarControl_HUDControl(){return r(this,CarControl_HUDControl),o(this,a(CarControl_HUDControl).apply(this,arguments))}return u(CarControl_HUDControl,t),i(CarControl_HUDControl,[{key:"getSpeedVisible",value:function getSpeedVisible(){return f.Struct.getBit(0,this)}},{key:"setSpeedVisible",value:function setSpeedVisible(t){f.Struct.setBit(0,t,this)}},{key:"getSetSpeed",value:function getSetSpeed(){return f.Struct.getFloat32(4,this)}},{key:"setSetSpeed",value:function setSetSpeed(t){f.Struct.setFloat32(4,t,this)}},{key:"getLanesVisible",value:function getLanesVisible(){return f.Struct.getBit(1,this)}},{key:"setLanesVisible",value:function setLanesVisible(t){f.Struct.setBit(1,t,this)}},{key:"getLeadVisible",value:function getLeadVisible(){return f.Struct.getBit(2,this)}},{key:"setLeadVisible",value:function setLeadVisible(t){f.Struct.setBit(2,t,this)}},{key:"getVisualAlert",value:function getVisualAlert(){return f.Struct.getUint16(2,this)}},{key:"setVisualAlert",value:function setVisualAlert(t){f.Struct.setUint16(2,t,this)}},{key:"getAudibleAlert",value:function getAudibleAlert(){return f.Struct.getUint16(8,this)}},{key:"setAudibleAlert",value:function setAudibleAlert(t){f.Struct.setUint16(8,t,this)}},{key:"getRightLaneVisible",value:function getRightLaneVisible(){return f.Struct.getBit(3,this)}},{key:"setRightLaneVisible",value:function setRightLaneVisible(t){f.Struct.setBit(3,t,this)}},{key:"getLeftLaneVisible",value:function getLeftLaneVisible(){return f.Struct.getBit(4,this)}},{key:"setLeftLaneVisible",value:function setLeftLaneVisible(t){f.Struct.setBit(4,t,this)}},{key:"getRightLaneDepart",value:function getRightLaneDepart(){return f.Struct.getBit(5,this)}},{key:"setRightLaneDepart",value:function setRightLaneDepart(t){f.Struct.setBit(5,t,this)}},{key:"getLeftLaneDepart",value:function getLeftLaneDepart(){return f.Struct.getBit(6,this)}},{key:"setLeftLaneDepart",value:function setLeftLaneDepart(t){f.Struct.setBit(6,t,this)}},{key:"toString",value:function toString(){return"CarControl_HUDControl_"+s(a(CarControl_HUDControl.prototype),"toString",this).call(this)}}]),CarControl_HUDControl}(f.Struct);P.VisualAlert=x,P.AudibleAlert=w,P._capnp={displayName:"HUDControl",id:"d895c87c4eb03a38",size:new f.ObjectSize(16,0)},e.CarControl_HUDControl=P;var k=function(t){function CarControl(){return r(this,CarControl),o(this,a(CarControl).apply(this,arguments))}return u(CarControl,t),i(CarControl,[{key:"getEnabled",value:function getEnabled(){return f.Struct.getBit(0,this)}},{key:"setEnabled",value:function setEnabled(t){f.Struct.setBit(0,t,this)}},{key:"getActive",value:function getActive(){return f.Struct.getBit(1,this)}},{key:"setActive",value:function setActive(t){f.Struct.setBit(1,t,this)}},{key:"adoptActuators",value:function adoptActuators(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownActuators",value:function disownActuators(){return f.Struct.disown(this.getActuators())}},{key:"getActuators",value:function getActuators(){return f.Struct.getStruct(2,E,this)}},{key:"hasActuators",value:function hasActuators(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initActuators",value:function initActuators(){return f.Struct.initStructAt(2,E,this)}},{key:"setActuators",value:function setActuators(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptCruiseControl",value:function adoptCruiseControl(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownCruiseControl",value:function disownCruiseControl(){return f.Struct.disown(this.getCruiseControl())}},{key:"getCruiseControl",value:function getCruiseControl(){return f.Struct.getStruct(0,T,this)}},{key:"hasCruiseControl",value:function hasCruiseControl(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initCruiseControl",value:function initCruiseControl(){return f.Struct.initStructAt(0,T,this)}},{key:"setCruiseControl",value:function setCruiseControl(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptHudControl",value:function adoptHudControl(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownHudControl",value:function disownHudControl(){return f.Struct.disown(this.getHudControl())}},{key:"getHudControl",value:function getHudControl(){return f.Struct.getStruct(1,P,this)}},{key:"hasHudControl",value:function hasHudControl(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initHudControl",value:function initHudControl(){return f.Struct.initStructAt(1,P,this)}},{key:"setHudControl",value:function setHudControl(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"getGasDEPRECATED",value:function getGasDEPRECATED(){return f.Struct.getFloat32(4,this)}},{key:"setGasDEPRECATED",value:function setGasDEPRECATED(t){f.Struct.setFloat32(4,t,this)}},{key:"getBrakeDEPRECATED",value:function getBrakeDEPRECATED(){return f.Struct.getFloat32(8,this)}},{key:"setBrakeDEPRECATED",value:function setBrakeDEPRECATED(t){f.Struct.setFloat32(8,t,this)}},{key:"getSteeringTorqueDEPRECATED",value:function getSteeringTorqueDEPRECATED(){return f.Struct.getFloat32(12,this)}},{key:"setSteeringTorqueDEPRECATED",value:function setSteeringTorqueDEPRECATED(t){f.Struct.setFloat32(12,t,this)}},{key:"toString",value:function toString(){return"CarControl_"+s(a(CarControl.prototype),"toString",this).call(this)}}]),CarControl}(f.Struct);k.Actuators=E,k.CruiseControl=T,k.HUDControl=P,k._capnp={displayName:"CarControl",id:"f78829049ab814af",size:new f.ObjectSize(16,3)},e.CarControl=k;var C=function(t){function CarParams_LateralParams(){return r(this,CarParams_LateralParams),o(this,a(CarParams_LateralParams).apply(this,arguments))}return u(CarParams_LateralParams,t),i(CarParams_LateralParams,[{key:"adoptTorqueBP",value:function adoptTorqueBP(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownTorqueBP",value:function disownTorqueBP(){return f.Struct.disown(this.getTorqueBP())}},{key:"getTorqueBP",value:function getTorqueBP(){return f.Struct.getList(0,c.Int32List,this)}},{key:"hasTorqueBP",value:function hasTorqueBP(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initTorqueBP",value:function initTorqueBP(t){return f.Struct.initList(0,c.Int32List,t,this)}},{key:"setTorqueBP",value:function setTorqueBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptTorqueV",value:function adoptTorqueV(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownTorqueV",value:function disownTorqueV(){return f.Struct.disown(this.getTorqueV())}},{key:"getTorqueV",value:function getTorqueV(){return f.Struct.getList(1,c.Int32List,this)}},{key:"hasTorqueV",value:function hasTorqueV(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initTorqueV",value:function initTorqueV(t){return f.Struct.initList(1,c.Int32List,t,this)}},{key:"setTorqueV",value:function setTorqueV(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"CarParams_LateralParams_"+s(a(CarParams_LateralParams.prototype),"toString",this).call(this)}}]),CarParams_LateralParams}(f.Struct);C._capnp={displayName:"LateralParams",id:"b581b23b1c89dda3",size:new f.ObjectSize(0,2)},e.CarParams_LateralParams=C;var D=function(t){function CarParams_LateralPIDTuning(){return r(this,CarParams_LateralPIDTuning),o(this,a(CarParams_LateralPIDTuning).apply(this,arguments))}return u(CarParams_LateralPIDTuning,t),i(CarParams_LateralPIDTuning,[{key:"adoptKpBP",value:function adoptKpBP(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownKpBP",value:function disownKpBP(){return f.Struct.disown(this.getKpBP())}},{key:"getKpBP",value:function getKpBP(){return f.Struct.getList(0,c.Float32List,this)}},{key:"hasKpBP",value:function hasKpBP(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initKpBP",value:function initKpBP(t){return f.Struct.initList(0,c.Float32List,t,this)}},{key:"setKpBP",value:function setKpBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptKpV",value:function adoptKpV(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownKpV",value:function disownKpV(){return f.Struct.disown(this.getKpV())}},{key:"getKpV",value:function getKpV(){return f.Struct.getList(1,c.Float32List,this)}},{key:"hasKpV",value:function hasKpV(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initKpV",value:function initKpV(t){return f.Struct.initList(1,c.Float32List,t,this)}},{key:"setKpV",value:function setKpV(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"adoptKiBP",value:function adoptKiBP(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownKiBP",value:function disownKiBP(){return f.Struct.disown(this.getKiBP())}},{key:"getKiBP",value:function getKiBP(){return f.Struct.getList(2,c.Float32List,this)}},{key:"hasKiBP",value:function hasKiBP(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initKiBP",value:function initKiBP(t){return f.Struct.initList(2,c.Float32List,t,this)}},{key:"setKiBP",value:function setKiBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptKiV",value:function adoptKiV(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownKiV",value:function disownKiV(){return f.Struct.disown(this.getKiV())}},{key:"getKiV",value:function getKiV(){return f.Struct.getList(3,c.Float32List,this)}},{key:"hasKiV",value:function hasKiV(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initKiV",value:function initKiV(t){return f.Struct.initList(3,c.Float32List,t,this)}},{key:"setKiV",value:function setKiV(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"getKf",value:function getKf(){return f.Struct.getFloat32(0,this)}},{key:"setKf",value:function setKf(t){f.Struct.setFloat32(0,t,this)}},{key:"toString",value:function toString(){return"CarParams_LateralPIDTuning_"+s(a(CarParams_LateralPIDTuning.prototype),"toString",this).call(this)}}]),CarParams_LateralPIDTuning}(f.Struct);D._capnp={displayName:"LateralPIDTuning",id:"9622723fcbd14c2e",size:new f.ObjectSize(8,4)},e.CarParams_LateralPIDTuning=D;var A=function(t){function CarParams_LongitudinalPIDTuning(){return r(this,CarParams_LongitudinalPIDTuning),o(this,a(CarParams_LongitudinalPIDTuning).apply(this,arguments))}return u(CarParams_LongitudinalPIDTuning,t),i(CarParams_LongitudinalPIDTuning,[{key:"adoptKpBP",value:function adoptKpBP(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownKpBP",value:function disownKpBP(){return f.Struct.disown(this.getKpBP())}},{key:"getKpBP",value:function getKpBP(){return f.Struct.getList(0,c.Float32List,this)}},{key:"hasKpBP",value:function hasKpBP(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initKpBP",value:function initKpBP(t){return f.Struct.initList(0,c.Float32List,t,this)}},{key:"setKpBP",value:function setKpBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptKpV",value:function adoptKpV(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownKpV",value:function disownKpV(){return f.Struct.disown(this.getKpV())}},{key:"getKpV",value:function getKpV(){return f.Struct.getList(1,c.Float32List,this)}},{key:"hasKpV",value:function hasKpV(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initKpV",value:function initKpV(t){return f.Struct.initList(1,c.Float32List,t,this)}},{key:"setKpV",value:function setKpV(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"adoptKiBP",value:function adoptKiBP(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownKiBP",value:function disownKiBP(){return f.Struct.disown(this.getKiBP())}},{key:"getKiBP",value:function getKiBP(){return f.Struct.getList(2,c.Float32List,this)}},{key:"hasKiBP",value:function hasKiBP(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initKiBP",value:function initKiBP(t){return f.Struct.initList(2,c.Float32List,t,this)}},{key:"setKiBP",value:function setKiBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptKiV",value:function adoptKiV(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownKiV",value:function disownKiV(){return f.Struct.disown(this.getKiV())}},{key:"getKiV",value:function getKiV(){return f.Struct.getList(3,c.Float32List,this)}},{key:"hasKiV",value:function hasKiV(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initKiV",value:function initKiV(t){return f.Struct.initList(3,c.Float32List,t,this)}},{key:"setKiV",value:function setKiV(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"adoptDeadzoneBP",value:function adoptDeadzoneBP(t){f.Struct.adopt(t,f.Struct.getPointer(4,this))}},{key:"disownDeadzoneBP",value:function disownDeadzoneBP(){return f.Struct.disown(this.getDeadzoneBP())}},{key:"getDeadzoneBP",value:function getDeadzoneBP(){return f.Struct.getList(4,c.Float32List,this)}},{key:"hasDeadzoneBP",value:function hasDeadzoneBP(){return!f.Struct.isNull(f.Struct.getPointer(4,this))}},{key:"initDeadzoneBP",value:function initDeadzoneBP(t){return f.Struct.initList(4,c.Float32List,t,this)}},{key:"setDeadzoneBP",value:function setDeadzoneBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(4,this))}},{key:"adoptDeadzoneV",value:function adoptDeadzoneV(t){f.Struct.adopt(t,f.Struct.getPointer(5,this))}},{key:"disownDeadzoneV",value:function disownDeadzoneV(){return f.Struct.disown(this.getDeadzoneV())}},{key:"getDeadzoneV",value:function getDeadzoneV(){return f.Struct.getList(5,c.Float32List,this)}},{key:"hasDeadzoneV",value:function hasDeadzoneV(){return!f.Struct.isNull(f.Struct.getPointer(5,this))}},{key:"initDeadzoneV",value:function initDeadzoneV(t){return f.Struct.initList(5,c.Float32List,t,this)}},{key:"setDeadzoneV",value:function setDeadzoneV(t){f.Struct.copyFrom(t,f.Struct.getPointer(5,this))}},{key:"toString",value:function toString(){return"CarParams_LongitudinalPIDTuning_"+s(a(CarParams_LongitudinalPIDTuning.prototype),"toString",this).call(this)}}]),CarParams_LongitudinalPIDTuning}(f.Struct);A._capnp={displayName:"LongitudinalPIDTuning",id:"c342cefc303e9b8e",size:new f.ObjectSize(0,6)},e.CarParams_LongitudinalPIDTuning=A;var R=function(t){function CarParams_LateralINDITuning(){return r(this,CarParams_LateralINDITuning),o(this,a(CarParams_LateralINDITuning).apply(this,arguments))}return u(CarParams_LateralINDITuning,t),i(CarParams_LateralINDITuning,[{key:"adoptOuterLoopGainBP",value:function adoptOuterLoopGainBP(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownOuterLoopGainBP",value:function disownOuterLoopGainBP(){return f.Struct.disown(this.getOuterLoopGainBP())}},{key:"getOuterLoopGainBP",value:function getOuterLoopGainBP(){return f.Struct.getList(0,c.Float32List,this)}},{key:"hasOuterLoopGainBP",value:function hasOuterLoopGainBP(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initOuterLoopGainBP",value:function initOuterLoopGainBP(t){return f.Struct.initList(0,c.Float32List,t,this)}},{key:"setOuterLoopGainBP",value:function setOuterLoopGainBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptOuterLoopGainV",value:function adoptOuterLoopGainV(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownOuterLoopGainV",value:function disownOuterLoopGainV(){return f.Struct.disown(this.getOuterLoopGainV())}},{key:"getOuterLoopGainV",value:function getOuterLoopGainV(){return f.Struct.getList(1,c.Float32List,this)}},{key:"hasOuterLoopGainV",value:function hasOuterLoopGainV(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initOuterLoopGainV",value:function initOuterLoopGainV(t){return f.Struct.initList(1,c.Float32List,t,this)}},{key:"setOuterLoopGainV",value:function setOuterLoopGainV(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"adoptInnerLoopGainBP",value:function adoptInnerLoopGainBP(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownInnerLoopGainBP",value:function disownInnerLoopGainBP(){return f.Struct.disown(this.getInnerLoopGainBP())}},{key:"getInnerLoopGainBP",value:function getInnerLoopGainBP(){return f.Struct.getList(2,c.Float32List,this)}},{key:"hasInnerLoopGainBP",value:function hasInnerLoopGainBP(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initInnerLoopGainBP",value:function initInnerLoopGainBP(t){return f.Struct.initList(2,c.Float32List,t,this)}},{key:"setInnerLoopGainBP",value:function setInnerLoopGainBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptInnerLoopGainV",value:function adoptInnerLoopGainV(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownInnerLoopGainV",value:function disownInnerLoopGainV(){return f.Struct.disown(this.getInnerLoopGainV())}},{key:"getInnerLoopGainV",value:function getInnerLoopGainV(){return f.Struct.getList(3,c.Float32List,this)}},{key:"hasInnerLoopGainV",value:function hasInnerLoopGainV(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initInnerLoopGainV",value:function initInnerLoopGainV(t){return f.Struct.initList(3,c.Float32List,t,this)}},{key:"setInnerLoopGainV",value:function setInnerLoopGainV(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"adoptTimeConstantBP",value:function adoptTimeConstantBP(t){f.Struct.adopt(t,f.Struct.getPointer(4,this))}},{key:"disownTimeConstantBP",value:function disownTimeConstantBP(){return f.Struct.disown(this.getTimeConstantBP())}},{key:"getTimeConstantBP",value:function getTimeConstantBP(){return f.Struct.getList(4,c.Float32List,this)}},{key:"hasTimeConstantBP",value:function hasTimeConstantBP(){return!f.Struct.isNull(f.Struct.getPointer(4,this))}},{key:"initTimeConstantBP",value:function initTimeConstantBP(t){return f.Struct.initList(4,c.Float32List,t,this)}},{key:"setTimeConstantBP",value:function setTimeConstantBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(4,this))}},{key:"adoptTimeConstantV",value:function adoptTimeConstantV(t){f.Struct.adopt(t,f.Struct.getPointer(5,this))}},{key:"disownTimeConstantV",value:function disownTimeConstantV(){return f.Struct.disown(this.getTimeConstantV())}},{key:"getTimeConstantV",value:function getTimeConstantV(){return f.Struct.getList(5,c.Float32List,this)}},{key:"hasTimeConstantV",value:function hasTimeConstantV(){return!f.Struct.isNull(f.Struct.getPointer(5,this))}},{key:"initTimeConstantV",value:function initTimeConstantV(t){return f.Struct.initList(5,c.Float32List,t,this)}},{key:"setTimeConstantV",value:function setTimeConstantV(t){f.Struct.copyFrom(t,f.Struct.getPointer(5,this))}},{key:"adoptActuatorEffectivenessBP",value:function adoptActuatorEffectivenessBP(t){f.Struct.adopt(t,f.Struct.getPointer(6,this))}},{key:"disownActuatorEffectivenessBP",value:function disownActuatorEffectivenessBP(){return f.Struct.disown(this.getActuatorEffectivenessBP())}},{key:"getActuatorEffectivenessBP",value:function getActuatorEffectivenessBP(){return f.Struct.getList(6,c.Float32List,this)}},{key:"hasActuatorEffectivenessBP",value:function hasActuatorEffectivenessBP(){return!f.Struct.isNull(f.Struct.getPointer(6,this))}},{key:"initActuatorEffectivenessBP",value:function initActuatorEffectivenessBP(t){return f.Struct.initList(6,c.Float32List,t,this)}},{key:"setActuatorEffectivenessBP",value:function setActuatorEffectivenessBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(6,this))}},{key:"adoptActuatorEffectivenessV",value:function adoptActuatorEffectivenessV(t){f.Struct.adopt(t,f.Struct.getPointer(7,this))}},{key:"disownActuatorEffectivenessV",value:function disownActuatorEffectivenessV(){return f.Struct.disown(this.getActuatorEffectivenessV())}},{key:"getActuatorEffectivenessV",value:function getActuatorEffectivenessV(){return f.Struct.getList(7,c.Float32List,this)}},{key:"hasActuatorEffectivenessV",value:function hasActuatorEffectivenessV(){return!f.Struct.isNull(f.Struct.getPointer(7,this))}},{key:"initActuatorEffectivenessV",value:function initActuatorEffectivenessV(t){return f.Struct.initList(7,c.Float32List,t,this)}},{key:"setActuatorEffectivenessV",value:function setActuatorEffectivenessV(t){f.Struct.copyFrom(t,f.Struct.getPointer(7,this))}},{key:"getOuterLoopGainDEPRECATED",value:function getOuterLoopGainDEPRECATED(){return f.Struct.getFloat32(0,this)}},{key:"setOuterLoopGainDEPRECATED",value:function setOuterLoopGainDEPRECATED(t){f.Struct.setFloat32(0,t,this)}},{key:"getInnerLoopGainDEPRECATED",value:function getInnerLoopGainDEPRECATED(){return f.Struct.getFloat32(4,this)}},{key:"setInnerLoopGainDEPRECATED",value:function setInnerLoopGainDEPRECATED(t){f.Struct.setFloat32(4,t,this)}},{key:"getTimeConstantDEPRECATED",value:function getTimeConstantDEPRECATED(){return f.Struct.getFloat32(8,this)}},{key:"setTimeConstantDEPRECATED",value:function setTimeConstantDEPRECATED(t){f.Struct.setFloat32(8,t,this)}},{key:"getActuatorEffectivenessDEPRECATED",value:function getActuatorEffectivenessDEPRECATED(){return f.Struct.getFloat32(12,this)}},{key:"setActuatorEffectivenessDEPRECATED",value:function setActuatorEffectivenessDEPRECATED(t){f.Struct.setFloat32(12,t,this)}},{key:"toString",value:function toString(){return"CarParams_LateralINDITuning_"+s(a(CarParams_LateralINDITuning.prototype),"toString",this).call(this)}}]),CarParams_LateralINDITuning}(f.Struct);R._capnp={displayName:"LateralINDITuning",id:"a334472e045533b3",size:new f.ObjectSize(16,8)},e.CarParams_LateralINDITuning=R;var M,L,I,O=function(t){function CarParams_LateralLQRTuning(){return r(this,CarParams_LateralLQRTuning),o(this,a(CarParams_LateralLQRTuning).apply(this,arguments))}return u(CarParams_LateralLQRTuning,t),i(CarParams_LateralLQRTuning,[{key:"getScale",value:function getScale(){return f.Struct.getFloat32(0,this)}},{key:"setScale",value:function setScale(t){f.Struct.setFloat32(0,t,this)}},{key:"getKi",value:function getKi(){return f.Struct.getFloat32(4,this)}},{key:"setKi",value:function setKi(t){f.Struct.setFloat32(4,t,this)}},{key:"getDcGain",value:function getDcGain(){return f.Struct.getFloat32(8,this)}},{key:"setDcGain",value:function setDcGain(t){f.Struct.setFloat32(8,t,this)}},{key:"adoptA",value:function adoptA(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownA",value:function disownA(){return f.Struct.disown(this.getA())}},{key:"getA",value:function getA(){return f.Struct.getList(0,c.Float32List,this)}},{key:"hasA",value:function hasA(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initA",value:function initA(t){return f.Struct.initList(0,c.Float32List,t,this)}},{key:"setA",value:function setA(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"adoptB",value:function adoptB(t){f.Struct.adopt(t,f.Struct.getPointer(1,this))}},{key:"disownB",value:function disownB(){return f.Struct.disown(this.getB())}},{key:"getB",value:function getB(){return f.Struct.getList(1,c.Float32List,this)}},{key:"hasB",value:function hasB(){return!f.Struct.isNull(f.Struct.getPointer(1,this))}},{key:"initB",value:function initB(t){return f.Struct.initList(1,c.Float32List,t,this)}},{key:"setB",value:function setB(t){f.Struct.copyFrom(t,f.Struct.getPointer(1,this))}},{key:"adoptC",value:function adoptC(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownC",value:function disownC(){return f.Struct.disown(this.getC())}},{key:"getC",value:function getC(){return f.Struct.getList(2,c.Float32List,this)}},{key:"hasC",value:function hasC(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initC",value:function initC(t){return f.Struct.initList(2,c.Float32List,t,this)}},{key:"setC",value:function setC(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptK",value:function adoptK(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownK",value:function disownK(){return f.Struct.disown(this.getK())}},{key:"getK",value:function getK(){return f.Struct.getList(3,c.Float32List,this)}},{key:"hasK",value:function hasK(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initK",value:function initK(t){return f.Struct.initList(3,c.Float32List,t,this)}},{key:"setK",value:function setK(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"adoptL",value:function adoptL(t){f.Struct.adopt(t,f.Struct.getPointer(4,this))}},{key:"disownL",value:function disownL(){return f.Struct.disown(this.getL())}},{key:"getL",value:function getL(){return f.Struct.getList(4,c.Float32List,this)}},{key:"hasL",value:function hasL(){return!f.Struct.isNull(f.Struct.getPointer(4,this))}},{key:"initL",value:function initL(t){return f.Struct.initList(4,c.Float32List,t,this)}},{key:"setL",value:function setL(t){f.Struct.copyFrom(t,f.Struct.getPointer(4,this))}},{key:"toString",value:function toString(){return"CarParams_LateralLQRTuning_"+s(a(CarParams_LateralLQRTuning.prototype),"toString",this).call(this)}}]),CarParams_LateralLQRTuning}(f.Struct);O._capnp={displayName:"LateralLQRTuning",id:"9d151e3f28616a12",size:new f.ObjectSize(16,5)},e.CarParams_LateralLQRTuning=O,function(t){t[t.SILENT=0]="SILENT",t[t.HONDA_NIDEC=1]="HONDA_NIDEC",t[t.TOYOTA=2]="TOYOTA",t[t.ELM327=3]="ELM327",t[t.GM=4]="GM",t[t.HONDA_BOSCH_GIRAFFE=5]="HONDA_BOSCH_GIRAFFE",t[t.FORD=6]="FORD",t[t.CADILLAC=7]="CADILLAC",t[t.HYUNDAI=8]="HYUNDAI",t[t.CHRYSLER=9]="CHRYSLER",t[t.TESLA=10]="TESLA",t[t.SUBARU=11]="SUBARU",t[t.GM_PASSIVE=12]="GM_PASSIVE",t[t.MAZDA=13]="MAZDA",t[t.NISSAN=14]="NISSAN",t[t.VOLKSWAGEN=15]="VOLKSWAGEN",t[t.TOYOTA_IPAS=16]="TOYOTA_IPAS",t[t.ALL_OUTPUT=17]="ALL_OUTPUT",t[t.GM_ASCM=18]="GM_ASCM",t[t.NO_OUTPUT=19]="NO_OUTPUT",t[t.HONDA_BOSCH_HARNESS=20]="HONDA_BOSCH_HARNESS",t[t.VOLKSWAGEN_PQ=21]="VOLKSWAGEN_PQ",t[t.SUBARU_LEGACY=22]="SUBARU_LEGACY",t[t.HYUNDAI_LEGACY=23]="HYUNDAI_LEGACY",t[t.HYUNDAI_COMMUNITY=24]="HYUNDAI_COMMUNITY"}(M=e.CarParams_SafetyModel||(e.CarParams_SafetyModel={})),function(t){t[t.TORQUE=0]="TORQUE",t[t.ANGLE=1]="ANGLE"}(L=e.CarParams_SteerControlType||(e.CarParams_SteerControlType={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.MANUAL=2]="MANUAL",t[t.DIRECT=3]="DIRECT"}(I=e.CarParams_TransmissionType||(e.CarParams_TransmissionType={}));var F,N,B,U,z=function(t){function CarParams_CarFw(){return r(this,CarParams_CarFw),o(this,a(CarParams_CarFw).apply(this,arguments))}return u(CarParams_CarFw,t),i(CarParams_CarFw,[{key:"getEcu",value:function getEcu(){return f.Struct.getUint16(0,this)}},{key:"setEcu",value:function setEcu(t){f.Struct.setUint16(0,t,this)}},{key:"adoptFwVersion",value:function adoptFwVersion(t){f.Struct.adopt(t,f.Struct.getPointer(0,this))}},{key:"disownFwVersion",value:function disownFwVersion(){return f.Struct.disown(this.getFwVersion())}},{key:"getFwVersion",value:function getFwVersion(){return f.Struct.getData(0,this)}},{key:"hasFwVersion",value:function hasFwVersion(){return!f.Struct.isNull(f.Struct.getPointer(0,this))}},{key:"initFwVersion",value:function initFwVersion(t){return f.Struct.initData(0,t,this)}},{key:"setFwVersion",value:function setFwVersion(t){f.Struct.copyFrom(t,f.Struct.getPointer(0,this))}},{key:"getAddress",value:function getAddress(){return f.Struct.getUint32(4,this)}},{key:"setAddress",value:function setAddress(t){f.Struct.setUint32(4,t,this)}},{key:"getSubAddress",value:function getSubAddress(){return f.Struct.getUint8(2,this)}},{key:"setSubAddress",value:function setSubAddress(t){f.Struct.setUint8(2,t,this)}},{key:"toString",value:function toString(){return"CarParams_CarFw_"+s(a(CarParams_CarFw.prototype),"toString",this).call(this)}}]),CarParams_CarFw}(f.Struct);z._capnp={displayName:"CarFw",id:"962b56180c9359ce",size:new f.ObjectSize(8,1)},e.CarParams_CarFw=z,function(t){t[t.EPS=0]="EPS",t[t.ESP=1]="ESP",t[t.FWD_RADAR=2]="FWD_RADAR",t[t.FWD_CAMERA=3]="FWD_CAMERA",t[t.ENGINE=4]="ENGINE",t[t.UNKNOWN=5]="UNKNOWN",t[t.TRANSMISSION=6]="TRANSMISSION",t[t.SRS=7]="SRS",t[t.GATEWAY=8]="GATEWAY",t[t.HUD=9]="HUD",t[t.COMBINATION_METER=10]="COMBINATION_METER",t[t.DSU=11]="DSU",t[t.APGS=12]="APGS",t[t.VSA=13]="VSA",t[t.PROGRAMMED_FUEL_INJECTION=14]="PROGRAMMED_FUEL_INJECTION",t[t.ELECTRIC_BRAKE_BOOSTER=15]="ELECTRIC_BRAKE_BOOSTER",t[t.SHIFT_BY_WIRE=16]="SHIFT_BY_WIRE"}(F=e.CarParams_Ecu||(e.CarParams_Ecu={})),function(t){t[t.CAN=0]="CAN",t[t.FW=1]="FW",t[t.FIXED=2]="FIXED"}(N=e.CarParams_FingerprintSource||(e.CarParams_FingerprintSource={})),function(t){t[t.FWD_CAMERA=0]="FWD_CAMERA",t[t.GATEWAY=1]="GATEWAY"}(B=e.CarParams_NetworkLocation||(e.CarParams_NetworkLocation={})),function(t){t[t.PID=0]="PID",t[t.INDI=1]="INDI",t[t.LQR=2]="LQR"}(U=e.CarParams_LateralTuning_Which||(e.CarParams_LateralTuning_Which={}));var j=function(t){function CarParams_LateralTuning(){return r(this,CarParams_LateralTuning),o(this,a(CarParams_LateralTuning).apply(this,arguments))}return u(CarParams_LateralTuning,t),i(CarParams_LateralTuning,[{key:"adoptPid",value:function adoptPid(t){f.Struct.setUint16(14,0,this),f.Struct.adopt(t,f.Struct.getPointer(9,this))}},{key:"disownPid",value:function disownPid(){return f.Struct.disown(this.getPid())}},{key:"getPid",value:function getPid(){return f.Struct.testWhich("pid",f.Struct.getUint16(14,this),0,this),f.Struct.getStruct(9,D,this)}},{key:"hasPid",value:function hasPid(){return!f.Struct.isNull(f.Struct.getPointer(9,this))}},{key:"initPid",value:function initPid(){return f.Struct.setUint16(14,0,this),f.Struct.initStructAt(9,D,this)}},{key:"isPid",value:function isPid(){return 0===f.Struct.getUint16(14,this)}},{key:"setPid",value:function setPid(t){f.Struct.setUint16(14,0,this),f.Struct.copyFrom(t,f.Struct.getPointer(9,this))}},{key:"adoptIndi",value:function adoptIndi(t){f.Struct.setUint16(14,1,this),f.Struct.adopt(t,f.Struct.getPointer(9,this))}},{key:"disownIndi",value:function disownIndi(){return f.Struct.disown(this.getIndi())}},{key:"getIndi",value:function getIndi(){return f.Struct.testWhich("indi",f.Struct.getUint16(14,this),1,this),f.Struct.getStruct(9,R,this)}},{key:"hasIndi",value:function hasIndi(){return!f.Struct.isNull(f.Struct.getPointer(9,this))}},{key:"initIndi",value:function initIndi(){return f.Struct.setUint16(14,1,this),f.Struct.initStructAt(9,R,this)}},{key:"isIndi",value:function isIndi(){return 1===f.Struct.getUint16(14,this)}},{key:"setIndi",value:function setIndi(t){f.Struct.setUint16(14,1,this),f.Struct.copyFrom(t,f.Struct.getPointer(9,this))}},{key:"adoptLqr",value:function adoptLqr(t){f.Struct.setUint16(14,2,this),f.Struct.adopt(t,f.Struct.getPointer(9,this))}},{key:"disownLqr",value:function disownLqr(){return f.Struct.disown(this.getLqr())}},{key:"getLqr",value:function getLqr(){return f.Struct.testWhich("lqr",f.Struct.getUint16(14,this),2,this),f.Struct.getStruct(9,O,this)}},{key:"hasLqr",value:function hasLqr(){return!f.Struct.isNull(f.Struct.getPointer(9,this))}},{key:"initLqr",value:function initLqr(){return f.Struct.setUint16(14,2,this),f.Struct.initStructAt(9,O,this)}},{key:"isLqr",value:function isLqr(){return 2===f.Struct.getUint16(14,this)}},{key:"setLqr",value:function setLqr(t){f.Struct.setUint16(14,2,this),f.Struct.copyFrom(t,f.Struct.getPointer(9,this))}},{key:"toString",value:function toString(){return"CarParams_LateralTuning_"+s(a(CarParams_LateralTuning.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return f.Struct.getUint16(14,this)}}]),CarParams_LateralTuning}(f.Struct);j.PID=U.PID,j.INDI=U.INDI,j.LQR=U.LQR,j._capnp={displayName:"lateralTuning",id:"93fc580a35339568",size:new f.ObjectSize(104,13)},e.CarParams_LateralTuning=j;var V=function(t){function CarParams(){return r(this,CarParams),o(this,a(CarParams).apply(this,arguments))}return u(CarParams,t),i(CarParams,[{key:"getCarName",value:function getCarName(){return f.Struct.getText(0,this)}},{key:"setCarName",value:function setCarName(t){f.Struct.setText(0,t,this)}},{key:"getCarFingerprint",value:function getCarFingerprint(){return f.Struct.getText(1,this)}},{key:"setCarFingerprint",value:function setCarFingerprint(t){f.Struct.setText(1,t,this)}},{key:"getEnableGasInterceptor",value:function getEnableGasInterceptor(){return f.Struct.getBit(0,this)}},{key:"setEnableGasInterceptor",value:function setEnableGasInterceptor(t){f.Struct.setBit(0,t,this)}},{key:"getEnableCruise",value:function getEnableCruise(){return f.Struct.getBit(1,this)}},{key:"setEnableCruise",value:function setEnableCruise(t){f.Struct.setBit(1,t,this)}},{key:"getEnableCamera",value:function getEnableCamera(){return f.Struct.getBit(2,this)}},{key:"setEnableCamera",value:function setEnableCamera(t){f.Struct.setBit(2,t,this)}},{key:"getEnableDsu",value:function getEnableDsu(){return f.Struct.getBit(3,this)}},{key:"setEnableDsu",value:function setEnableDsu(t){f.Struct.setBit(3,t,this)}},{key:"getEnableApgs",value:function getEnableApgs(){return f.Struct.getBit(4,this)}},{key:"setEnableApgs",value:function setEnableApgs(t){f.Struct.setBit(4,t,this)}},{key:"getMinEnableSpeed",value:function getMinEnableSpeed(){return f.Struct.getFloat32(4,this)}},{key:"setMinEnableSpeed",value:function setMinEnableSpeed(t){f.Struct.setFloat32(4,t,this)}},{key:"getMinSteerSpeed",value:function getMinSteerSpeed(){return f.Struct.getFloat32(8,this)}},{key:"setMinSteerSpeed",value:function setMinSteerSpeed(t){f.Struct.setFloat32(8,t,this)}},{key:"getMaxSteerAngle",value:function getMaxSteerAngle(){return f.Struct.getFloat32(96,this)}},{key:"setMaxSteerAngle",value:function setMaxSteerAngle(t){f.Struct.setFloat32(96,t,this)}},{key:"getSafetyModel",value:function getSafetyModel(){return f.Struct.getUint16(2,this)}},{key:"setSafetyModel",value:function setSafetyModel(t){f.Struct.setUint16(2,t,this)}},{key:"getSafetyModelPassive",value:function getSafetyModelPassive(){return f.Struct.getUint16(62,this,CarParams._capnp.defaultSafetyModelPassive)}},{key:"setSafetyModelPassive",value:function setSafetyModelPassive(t){f.Struct.setUint16(62,t,this)}},{key:"getSafetyParam",value:function getSafetyParam(){return f.Struct.getInt16(12,this)}},{key:"setSafetyParam",value:function setSafetyParam(t){f.Struct.setInt16(12,t,this)}},{key:"adoptSteerMaxBP",value:function adoptSteerMaxBP(t){f.Struct.adopt(t,f.Struct.getPointer(2,this))}},{key:"disownSteerMaxBP",value:function disownSteerMaxBP(){return f.Struct.disown(this.getSteerMaxBP())}},{key:"getSteerMaxBP",value:function getSteerMaxBP(){return f.Struct.getList(2,c.Float32List,this)}},{key:"hasSteerMaxBP",value:function hasSteerMaxBP(){return!f.Struct.isNull(f.Struct.getPointer(2,this))}},{key:"initSteerMaxBP",value:function initSteerMaxBP(t){return f.Struct.initList(2,c.Float32List,t,this)}},{key:"setSteerMaxBP",value:function setSteerMaxBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(2,this))}},{key:"adoptSteerMaxV",value:function adoptSteerMaxV(t){f.Struct.adopt(t,f.Struct.getPointer(3,this))}},{key:"disownSteerMaxV",value:function disownSteerMaxV(){return f.Struct.disown(this.getSteerMaxV())}},{key:"getSteerMaxV",value:function getSteerMaxV(){return f.Struct.getList(3,c.Float32List,this)}},{key:"hasSteerMaxV",value:function hasSteerMaxV(){return!f.Struct.isNull(f.Struct.getPointer(3,this))}},{key:"initSteerMaxV",value:function initSteerMaxV(t){return f.Struct.initList(3,c.Float32List,t,this)}},{key:"setSteerMaxV",value:function setSteerMaxV(t){f.Struct.copyFrom(t,f.Struct.getPointer(3,this))}},{key:"adoptGasMaxBP",value:function adoptGasMaxBP(t){f.Struct.adopt(t,f.Struct.getPointer(4,this))}},{key:"disownGasMaxBP",value:function disownGasMaxBP(){return f.Struct.disown(this.getGasMaxBP())}},{key:"getGasMaxBP",value:function getGasMaxBP(){return f.Struct.getList(4,c.Float32List,this)}},{key:"hasGasMaxBP",value:function hasGasMaxBP(){return!f.Struct.isNull(f.Struct.getPointer(4,this))}},{key:"initGasMaxBP",value:function initGasMaxBP(t){return f.Struct.initList(4,c.Float32List,t,this)}},{key:"setGasMaxBP",value:function setGasMaxBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(4,this))}},{key:"adoptGasMaxV",value:function adoptGasMaxV(t){f.Struct.adopt(t,f.Struct.getPointer(5,this))}},{key:"disownGasMaxV",value:function disownGasMaxV(){return f.Struct.disown(this.getGasMaxV())}},{key:"getGasMaxV",value:function getGasMaxV(){return f.Struct.getList(5,c.Float32List,this)}},{key:"hasGasMaxV",value:function hasGasMaxV(){return!f.Struct.isNull(f.Struct.getPointer(5,this))}},{key:"initGasMaxV",value:function initGasMaxV(t){return f.Struct.initList(5,c.Float32List,t,this)}},{key:"setGasMaxV",value:function setGasMaxV(t){f.Struct.copyFrom(t,f.Struct.getPointer(5,this))}},{key:"adoptBrakeMaxBP",value:function adoptBrakeMaxBP(t){f.Struct.adopt(t,f.Struct.getPointer(6,this))}},{key:"disownBrakeMaxBP",value:function disownBrakeMaxBP(){return f.Struct.disown(this.getBrakeMaxBP())}},{key:"getBrakeMaxBP",value:function getBrakeMaxBP(){return f.Struct.getList(6,c.Float32List,this)}},{key:"hasBrakeMaxBP",value:function hasBrakeMaxBP(){return!f.Struct.isNull(f.Struct.getPointer(6,this))}},{key:"initBrakeMaxBP",value:function initBrakeMaxBP(t){return f.Struct.initList(6,c.Float32List,t,this)}},{key:"setBrakeMaxBP",value:function setBrakeMaxBP(t){f.Struct.copyFrom(t,f.Struct.getPointer(6,this))}},{key:"adoptBrakeMaxV",value:function adoptBrakeMaxV(t){f.Struct.adopt(t,f.Struct.getPointer(7,this))}},{key:"disownBrakeMaxV",value:function disownBrakeMaxV(){return f.Struct.disown(this.getBrakeMaxV())}},{key:"getBrakeMaxV",value:function getBrakeMaxV(){return f.Struct.getList(7,c.Float32List,this)}},{key:"hasBrakeMaxV",value:function hasBrakeMaxV(){return!f.Struct.isNull(f.Struct.getPointer(7,this))}},{key:"initBrakeMaxV",value:function initBrakeMaxV(t){return f.Struct.initList(7,c.Float32List,t,this)}},{key:"setBrakeMaxV",value:function setBrakeMaxV(t){f.Struct.copyFrom(t,f.Struct.getPointer(7,this))}},{key:"getMass",value:function getMass(){return f.Struct.getFloat32(16,this)}},{key:"setMass",value:function setMass(t){f.Struct.setFloat32(16,t,this)}},{key:"getWheelbase",value:function getWheelbase(){return f.Struct.getFloat32(20,this)}},{key:"setWheelbase",value:function setWheelbase(t){f.Struct.setFloat32(20,t,this)}},{key:"getCenterToFront",value:function getCenterToFront(){return f.Struct.getFloat32(24,this)}},{key:"setCenterToFront",value:function setCenterToFront(t){f.Struct.setFloat32(24,t,this)}},{key:"getSteerRatio",value:function getSteerRatio(){return f.Struct.getFloat32(28,this)}},{key:"setSteerRatio",value:function setSteerRatio(t){f.Struct.setFloat32(28,t,this)}},{key:"getSteerRatioRear",value:function getSteerRatioRear(){return f.Struct.getFloat32(32,this)}},{key:"setSteerRatioRear",value:function setSteerRatioRear(t){f.Struct.setFloat32(32,t,this)}},{key:"getRotationalInertia",value:function getRotationalInertia(){return f.Struct.getFloat32(36,this)}},{key:"setRotationalInertia",value:function setRotationalInertia(t){f.Struct.setFloat32(36,t,this)}},{key:"getTireStiffnessFront",value:function getTireStiffnessFront(){return f.Struct.getFloat32(40,this)}},{key:"setTireStiffnessFront",value:function setTireStiffnessFront(t){f.Struct.setFloat32(40,t,this)}},{key:"getTireStiffnessRear",value:function getTireStiffnessRear(){return f.Struct.getFloat32(44,this)}},{key:"setTireStiffnessRear",value:function setTireStiffnessRear(t){f.Struct.setFloat32(44,t,this)}},{key:"adoptLongitudinalTuning",value:function adoptLongitudinalTuning(t){f.Struct.adopt(t,f.Struct.getPointer(8,this))}},{key:"disownLongitudinalTuning",value:function disownLongitudinalTuning(){return f.Struct.disown(this.getLongitudinalTuning())}},{key:"getLongitudinalTuning",value:function getLongitudinalTuning(){return f.Struct.getStruct(8,A,this)}},{key:"hasLongitudinalTuning",value:function hasLongitudinalTuning(){return!f.Struct.isNull(f.Struct.getPointer(8,this))}},{key:"initLongitudinalTuning",value:function initLongitudinalTuning(){return f.Struct.initStructAt(8,A,this)}},{key:"setLongitudinalTuning",value:function setLongitudinalTuning(t){f.Struct.copyFrom(t,f.Struct.getPointer(8,this))}},{key:"adoptLateralParams",value:function adoptLateralParams(t){f.Struct.adopt(t,f.Struct.getPointer(12,this))}},{key:"disownLateralParams",value:function disownLateralParams(){return f.Struct.disown(this.getLateralParams())}},{key:"getLateralParams",value:function getLateralParams(){return f.Struct.getStruct(12,C,this)}},{key:"hasLateralParams",value:function hasLateralParams(){return!f.Struct.isNull(f.Struct.getPointer(12,this))}},{key:"initLateralParams",value:function initLateralParams(){return f.Struct.initStructAt(12,C,this)}},{key:"setLateralParams",value:function setLateralParams(t){f.Struct.copyFrom(t,f.Struct.getPointer(12,this))}},{key:"getLateralTuning",value:function getLateralTuning(){return f.Struct.getAs(j,this)}},{key:"initLateralTuning",value:function initLateralTuning(){return f.Struct.getAs(j,this)}},{key:"getSteerLimitAlert",value:function getSteerLimitAlert(){return f.Struct.getBit(5,this)}},{key:"setSteerLimitAlert",value:function setSteerLimitAlert(t){f.Struct.setBit(5,t,this)}},{key:"getSteerLimitTimer",value:function getSteerLimitTimer(){return f.Struct.getFloat32(76,this)}},{key:"setSteerLimitTimer",value:function setSteerLimitTimer(t){f.Struct.setFloat32(76,t,this)}},{key:"getVEgoStopping",value:function getVEgoStopping(){return f.Struct.getFloat32(48,this)}},{key:"setVEgoStopping",value:function setVEgoStopping(t){f.Struct.setFloat32(48,t,this)}},{key:"getDirectAccelControl",value:function getDirectAccelControl(){return f.Struct.getBit(6,this)}},{key:"setDirectAccelControl",value:function setDirectAccelControl(t){f.Struct.setBit(6,t,this)}},{key:"getStoppingControl",value:function getStoppingControl(){return f.Struct.getBit(7,this)}},{key:"setStoppingControl",value:function setStoppingControl(t){f.Struct.setBit(7,t,this)}},{key:"getStartAccel",value:function getStartAccel(){return f.Struct.getFloat32(52,this)}},{key:"setStartAccel",value:function setStartAccel(t){f.Struct.setFloat32(52,t,this)}},{key:"getSteerRateCost",value:function getSteerRateCost(){return f.Struct.getFloat32(56,this)}},{key:"setSteerRateCost",value:function setSteerRateCost(t){f.Struct.setFloat32(56,t,this)}},{key:"getSteerControlType",value:function getSteerControlType(){return f.Struct.getUint16(60,this)}},{key:"setSteerControlType",value:function setSteerControlType(t){f.Struct.setUint16(60,t,this)}},{key:"getRadarOffCan",value:function getRadarOffCan(){return f.Struct.getBit(8,this)}},{key:"setRadarOffCan",value:function setRadarOffCan(t){f.Struct.setBit(8,t,this)}},{key:"getMinSpeedCan",value:function getMinSpeedCan(){return f.Struct.getFloat32(84,this)}},{key:"setMinSpeedCan",value:function setMinSpeedCan(t){f.Struct.setFloat32(84,t,this)}},{key:"getStoppingBrakeRate",value:function getStoppingBrakeRate(){return f.Struct.getFloat32(88,this)}},{key:"setStoppingBrakeRate",value:function setStoppingBrakeRate(t){f.Struct.setFloat32(88,t,this)}},{key:"getStartingBrakeRate",value:function getStartingBrakeRate(){return f.Struct.getFloat32(92,this)}},{key:"setStartingBrakeRate",value:function setStartingBrakeRate(t){f.Struct.setFloat32(92,t,this)}},{key:"getSteerActuatorDelay",value:function getSteerActuatorDelay(){return f.Struct.getFloat32(64,this)}},{key:"setSteerActuatorDelay",value:function setSteerActuatorDelay(t){f.Struct.setFloat32(64,t,this)}},{key:"getOpenpilotLongitudinalControl",value:function getOpenpilotLongitudinalControl(){return f.Struct.getBit(9,this)}},{key:"setOpenpilotLongitudinalControl",value:function setOpenpilotLongitudinalControl(t){f.Struct.setBit(9,t,this)}},{key:"getCarVin",value:function getCarVin(){return f.Struct.getText(10,this)}},{key:"setCarVin",value:function setCarVin(t){f.Struct.setText(10,t,this)}},{key:"getDashcamOnly",value:function getDashcamOnly(){return f.Struct.getBit(11,this)}},{key:"setDashcamOnly",value:function setDashcamOnly(t){f.Struct.setBit(11,t,this)}},{key:"getTransmissionType",value:function getTransmissionType(){return f.Struct.getUint16(68,this)}},{key:"setTransmissionType",value:function setTransmissionType(t){f.Struct.setUint16(68,t,this)}},{key:"adoptCarFw",value:function adoptCarFw(t){f.Struct.adopt(t,f.Struct.getPointer(11,this))}},{key:"disownCarFw",value:function disownCarFw(){return f.Struct.disown(this.getCarFw())}},{key:"getCarFw",value:function getCarFw(){return f.Struct.getList(11,CarParams._CarFw,this)}},{key:"hasCarFw",value:function hasCarFw(){return!f.Struct.isNull(f.Struct.getPointer(11,this))}},{key:"initCarFw",value:function initCarFw(t){return f.Struct.initList(11,CarParams._CarFw,t,this)}},{key:"setCarFw",value:function setCarFw(t){f.Struct.copyFrom(t,f.Struct.getPointer(11,this))}},{key:"getRadarTimeStep",value:function getRadarTimeStep(){return f.Struct.getFloat32(72,this,CarParams._capnp.defaultRadarTimeStep)}},{key:"setRadarTimeStep",value:function setRadarTimeStep(t){f.Struct.setFloat32(72,t,this)}},{key:"getCommunityFeature",value:function getCommunityFeature(){return f.Struct.getBit(12,this)}},{key:"setCommunityFeature",value:function setCommunityFeature(t){f.Struct.setBit(12,t,this)}},{key:"getFingerprintSource",value:function getFingerprintSource(){return f.Struct.getUint16(70,this)}},{key:"setFingerprintSource",value:function setFingerprintSource(t){f.Struct.setUint16(70,t,this)}},{key:"getNetworkLocation",value:function getNetworkLocation(){return f.Struct.getUint16(80,this)}},{key:"setNetworkLocation",value:function setNetworkLocation(t){f.Struct.setUint16(80,t,this)}},{key:"getIsPandaBlackDEPRECATED",value:function getIsPandaBlackDEPRECATED(){return f.Struct.getBit(10,this)}},{key:"setIsPandaBlackDEPRECATED",value:function setIsPandaBlackDEPRECATED(t){f.Struct.setBit(10,t,this)}},{key:"toString",value:function toString(){return"CarParams_"+s(a(CarParams.prototype),"toString",this).call(this)}}]),CarParams}(f.Struct);V.LateralParams=C,V.LateralPIDTuning=D,V.LongitudinalPIDTuning=A,V.LateralINDITuning=R,V.LateralLQRTuning=O,V.SafetyModel=M,V.SteerControlType=L,V.TransmissionType=I,V.CarFw=z,V.Ecu=F,V.FingerprintSource=N,V.NetworkLocation=B,V._capnp={displayName:"CarParams",id:"8c69372490aaa9da",size:new f.ObjectSize(104,13),defaultSafetyModelPassive:c.getUint16Mask(0),defaultRadarTimeStep:c.getFloat32Mask(.05000000074505806)},e.CarParams=V,_._Events=c.CompositeList(p),_._ButtonEvents=c.CompositeList(m),S._Points=c.CompositeList(b),V._CarFw=c.CompositeList(z)},function(t,e,n){"use strict";var r=n(45),i=n(46),o=n(49),a=n(47),s=n(269),u=n(50);Object.defineProperty(e,"__esModule",{value:!0});var l=n(76),c=n(76);e._capnpFileId="80ef1ec4889c2a63";var f=function(t){function LogRotate(){return r(this,LogRotate),o(this,a(LogRotate).apply(this,arguments))}return u(LogRotate,t),i(LogRotate,[{key:"getSegmentNum",value:function getSegmentNum(){return c.Struct.getInt32(0,this)}},{key:"setSegmentNum",value:function setSegmentNum(t){c.Struct.setInt32(0,t,this)}},{key:"getPath",value:function getPath(){return c.Struct.getText(0,this)}},{key:"setPath",value:function setPath(t){c.Struct.setText(0,t,this)}},{key:"toString",value:function toString(){return"LogRotate_"+s(a(LogRotate.prototype),"toString",this).call(this)}}]),LogRotate}(c.Struct);f._capnp={displayName:"LogRotate",id:"9811e1f38f62f2d1",size:new c.ObjectSize(8,1)},e.LogRotate=f;var p=function(t){function LiveUI(){return r(this,LiveUI),o(this,a(LiveUI).apply(this,arguments))}return u(LiveUI,t),i(LiveUI,[{key:"getRearViewCam",value:function getRearViewCam(){return c.Struct.getBit(0,this)}},{key:"setRearViewCam",value:function setRearViewCam(t){c.Struct.setBit(0,t,this)}},{key:"getAlertText1",value:function getAlertText1(){return c.Struct.getText(0,this)}},{key:"setAlertText1",value:function setAlertText1(t){c.Struct.setText(0,t,this)}},{key:"getAlertText2",value:function getAlertText2(){return c.Struct.getText(1,this)}},{key:"setAlertText2",value:function setAlertText2(t){c.Struct.setText(1,t,this)}},{key:"getAwarenessStatus",value:function getAwarenessStatus(){return c.Struct.getFloat32(4,this)}},{key:"setAwarenessStatus",value:function setAwarenessStatus(t){c.Struct.setFloat32(4,t,this)}},{key:"toString",value:function toString(){return"LiveUI_"+s(a(LiveUI.prototype),"toString",this).call(this)}}]),LiveUI}(c.Struct);p._capnp={displayName:"LiveUI",id:"c08240f996aefced",size:new c.ObjectSize(8,2)},e.LiveUI=p;var d=function(t){function OrbslamCorrection(){return r(this,OrbslamCorrection),o(this,a(OrbslamCorrection).apply(this,arguments))}return u(OrbslamCorrection,t),i(OrbslamCorrection,[{key:"getCorrectionMonoTime",value:function getCorrectionMonoTime(){return c.Struct.getUint64(0,this)}},{key:"setCorrectionMonoTime",value:function setCorrectionMonoTime(t){c.Struct.setUint64(0,t,this)}},{key:"adoptPrePositionECEF",value:function adoptPrePositionECEF(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPrePositionECEF",value:function disownPrePositionECEF(){return c.Struct.disown(this.getPrePositionECEF())}},{key:"getPrePositionECEF",value:function getPrePositionECEF(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasPrePositionECEF",value:function hasPrePositionECEF(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPrePositionECEF",value:function initPrePositionECEF(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setPrePositionECEF",value:function setPrePositionECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptPostPositionECEF",value:function adoptPostPositionECEF(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownPostPositionECEF",value:function disownPostPositionECEF(){return c.Struct.disown(this.getPostPositionECEF())}},{key:"getPostPositionECEF",value:function getPostPositionECEF(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasPostPositionECEF",value:function hasPostPositionECEF(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initPostPositionECEF",value:function initPostPositionECEF(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setPostPositionECEF",value:function setPostPositionECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptPrePoseQuatECEF",value:function adoptPrePoseQuatECEF(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownPrePoseQuatECEF",value:function disownPrePoseQuatECEF(){return c.Struct.disown(this.getPrePoseQuatECEF())}},{key:"getPrePoseQuatECEF",value:function getPrePoseQuatECEF(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasPrePoseQuatECEF",value:function hasPrePoseQuatECEF(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initPrePoseQuatECEF",value:function initPrePoseQuatECEF(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setPrePoseQuatECEF",value:function setPrePoseQuatECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptPostPoseQuatECEF",value:function adoptPostPoseQuatECEF(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownPostPoseQuatECEF",value:function disownPostPoseQuatECEF(){return c.Struct.disown(this.getPostPoseQuatECEF())}},{key:"getPostPoseQuatECEF",value:function getPostPoseQuatECEF(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasPostPoseQuatECEF",value:function hasPostPoseQuatECEF(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initPostPoseQuatECEF",value:function initPostPoseQuatECEF(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setPostPoseQuatECEF",value:function setPostPoseQuatECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getNumInliers",value:function getNumInliers(){return c.Struct.getUint32(8,this)}},{key:"setNumInliers",value:function setNumInliers(t){c.Struct.setUint32(8,t,this)}},{key:"toString",value:function toString(){return"OrbslamCorrection_"+s(a(OrbslamCorrection.prototype),"toString",this).call(this)}}]),OrbslamCorrection}(c.Struct);d._capnp={displayName:"OrbslamCorrection",id:"8afd33dc9b35e1aa",size:new c.ObjectSize(16,4)},e.OrbslamCorrection=d;var h=function(t){function EthernetPacket(){return r(this,EthernetPacket),o(this,a(EthernetPacket).apply(this,arguments))}return u(EthernetPacket,t),i(EthernetPacket,[{key:"adoptPkt",value:function adoptPkt(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPkt",value:function disownPkt(){return c.Struct.disown(this.getPkt())}},{key:"getPkt",value:function getPkt(){return c.Struct.getData(0,this)}},{key:"hasPkt",value:function hasPkt(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPkt",value:function initPkt(t){return c.Struct.initData(0,t,this)}},{key:"setPkt",value:function setPkt(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getTs",value:function getTs(){return c.Struct.getFloat32(0,this)}},{key:"setTs",value:function setTs(t){c.Struct.setFloat32(0,t,this)}},{key:"toString",value:function toString(){return"EthernetPacket_"+s(a(EthernetPacket.prototype),"toString",this).call(this)}}]),EthernetPacket}(c.Struct);h._capnp={displayName:"EthernetPacket",id:"a99a9d5b33cf5859",size:new c.ObjectSize(8,1)},e.EthernetPacket=h;var g,y=function(t){function CellInfo(){return r(this,CellInfo),o(this,a(CellInfo).apply(this,arguments))}return u(CellInfo,t),i(CellInfo,[{key:"getTimestamp",value:function getTimestamp(){return c.Struct.getUint64(0,this)}},{key:"setTimestamp",value:function setTimestamp(t){c.Struct.setUint64(0,t,this)}},{key:"getRepr",value:function getRepr(){return c.Struct.getText(0,this)}},{key:"setRepr",value:function setRepr(t){c.Struct.setText(0,t,this)}},{key:"toString",value:function toString(){return"CellInfo_"+s(a(CellInfo.prototype),"toString",this).call(this)}}]),CellInfo}(c.Struct);y._capnp={displayName:"CellInfo",id:"cff7566681c277ce",size:new c.ObjectSize(8,1)},e.CellInfo=y,function(t){t[t.W20MHZ=0]="W20MHZ",t[t.W40MHZ=1]="W40MHZ",t[t.W80MHZ=2]="W80MHZ",t[t.W160MHZ=3]="W160MHZ",t[t.W80PLUS80MHZ=4]="W80PLUS80MHZ"}(g=e.WifiScan_ChannelWidth||(e.WifiScan_ChannelWidth={}));var m=function(t){function WifiScan(){return r(this,WifiScan),o(this,a(WifiScan).apply(this,arguments))}return u(WifiScan,t),i(WifiScan,[{key:"getBssid",value:function getBssid(){return c.Struct.getText(0,this)}},{key:"setBssid",value:function setBssid(t){c.Struct.setText(0,t,this)}},{key:"getSsid",value:function getSsid(){return c.Struct.getText(1,this)}},{key:"setSsid",value:function setSsid(t){c.Struct.setText(1,t,this)}},{key:"getCapabilities",value:function getCapabilities(){return c.Struct.getText(2,this)}},{key:"setCapabilities",value:function setCapabilities(t){c.Struct.setText(2,t,this)}},{key:"getFrequency",value:function getFrequency(){return c.Struct.getInt32(0,this)}},{key:"setFrequency",value:function setFrequency(t){c.Struct.setInt32(0,t,this)}},{key:"getLevel",value:function getLevel(){return c.Struct.getInt32(4,this)}},{key:"setLevel",value:function setLevel(t){c.Struct.setInt32(4,t,this)}},{key:"getTimestamp",value:function getTimestamp(){return c.Struct.getInt64(8,this)}},{key:"setTimestamp",value:function setTimestamp(t){c.Struct.setInt64(8,t,this)}},{key:"getCenterFreq0",value:function getCenterFreq0(){return c.Struct.getInt32(16,this)}},{key:"setCenterFreq0",value:function setCenterFreq0(t){c.Struct.setInt32(16,t,this)}},{key:"getCenterFreq1",value:function getCenterFreq1(){return c.Struct.getInt32(20,this)}},{key:"setCenterFreq1",value:function setCenterFreq1(t){c.Struct.setInt32(20,t,this)}},{key:"getChannelWidth",value:function getChannelWidth(){return c.Struct.getUint16(24,this)}},{key:"setChannelWidth",value:function setChannelWidth(t){c.Struct.setUint16(24,t,this)}},{key:"getOperatorFriendlyName",value:function getOperatorFriendlyName(){return c.Struct.getText(3,this)}},{key:"setOperatorFriendlyName",value:function setOperatorFriendlyName(t){c.Struct.setText(3,t,this)}},{key:"getVenueName",value:function getVenueName(){return c.Struct.getText(4,this)}},{key:"setVenueName",value:function setVenueName(t){c.Struct.setText(4,t,this)}},{key:"getIs80211mcResponder",value:function getIs80211mcResponder(){return c.Struct.getBit(208,this)}},{key:"setIs80211mcResponder",value:function setIs80211mcResponder(t){c.Struct.setBit(208,t,this)}},{key:"getPasspoint",value:function getPasspoint(){return c.Struct.getBit(209,this)}},{key:"setPasspoint",value:function setPasspoint(t){c.Struct.setBit(209,t,this)}},{key:"getDistanceCm",value:function getDistanceCm(){return c.Struct.getInt32(28,this)}},{key:"setDistanceCm",value:function setDistanceCm(t){c.Struct.setInt32(28,t,this)}},{key:"getDistanceSdCm",value:function getDistanceSdCm(){return c.Struct.getInt32(32,this)}},{key:"setDistanceSdCm",value:function setDistanceSdCm(t){c.Struct.setInt32(32,t,this)}},{key:"toString",value:function toString(){return"WifiScan_"+s(a(WifiScan.prototype),"toString",this).call(this)}}]),WifiScan}(c.Struct);m.ChannelWidth=g,m._capnp={displayName:"WifiScan",id:"d4df5a192382ba0b",size:new c.ObjectSize(40,5)},e.WifiScan=m;var v=function(t){function LiveEventData(){return r(this,LiveEventData),o(this,a(LiveEventData).apply(this,arguments))}return u(LiveEventData,t),i(LiveEventData,[{key:"getName",value:function getName(){return c.Struct.getText(0,this)}},{key:"setName",value:function setName(t){c.Struct.setText(0,t,this)}},{key:"getValue",value:function getValue(){return c.Struct.getInt32(0,this)}},{key:"setValue",value:function setValue(t){c.Struct.setInt32(0,t,this)}},{key:"toString",value:function toString(){return"LiveEventData_"+s(a(LiveEventData.prototype),"toString",this).call(this)}}]),LiveEventData}(c.Struct);v._capnp={displayName:"LiveEventData",id:"94b7baa90c5c321e",size:new c.ObjectSize(8,1)},e.LiveEventData=v;var _=function(t){function ModelData_PathData(){return r(this,ModelData_PathData),o(this,a(ModelData_PathData).apply(this,arguments))}return u(ModelData_PathData,t),i(ModelData_PathData,[{key:"adoptPoints",value:function adoptPoints(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPoints",value:function disownPoints(){return c.Struct.disown(this.getPoints())}},{key:"getPoints",value:function getPoints(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasPoints",value:function hasPoints(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPoints",value:function initPoints(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setPoints",value:function setPoints(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getProb",value:function getProb(){return c.Struct.getFloat32(0,this)}},{key:"setProb",value:function setProb(t){c.Struct.setFloat32(0,t,this)}},{key:"getStd",value:function getStd(){return c.Struct.getFloat32(4,this)}},{key:"setStd",value:function setStd(t){c.Struct.setFloat32(4,t,this)}},{key:"adoptStds",value:function adoptStds(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownStds",value:function disownStds(){return c.Struct.disown(this.getStds())}},{key:"getStds",value:function getStds(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasStds",value:function hasStds(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initStds",value:function initStds(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setStds",value:function setStds(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptPoly",value:function adoptPoly(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownPoly",value:function disownPoly(){return c.Struct.disown(this.getPoly())}},{key:"getPoly",value:function getPoly(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasPoly",value:function hasPoly(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initPoly",value:function initPoly(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setPoly",value:function setPoly(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getValidLen",value:function getValidLen(){return c.Struct.getFloat32(8,this)}},{key:"setValidLen",value:function setValidLen(t){c.Struct.setFloat32(8,t,this)}},{key:"toString",value:function toString(){return"ModelData_PathData_"+s(a(ModelData_PathData.prototype),"toString",this).call(this)}}]),ModelData_PathData}(c.Struct);_._capnp={displayName:"PathData",id:"8817eeea389e9f08",size:new c.ObjectSize(16,3)},e.ModelData_PathData=_;var b=function(t){function ModelData_LeadData(){return r(this,ModelData_LeadData),o(this,a(ModelData_LeadData).apply(this,arguments))}return u(ModelData_LeadData,t),i(ModelData_LeadData,[{key:"getDist",value:function getDist(){return c.Struct.getFloat32(0,this)}},{key:"setDist",value:function setDist(t){c.Struct.setFloat32(0,t,this)}},{key:"getProb",value:function getProb(){return c.Struct.getFloat32(4,this)}},{key:"setProb",value:function setProb(t){c.Struct.setFloat32(4,t,this)}},{key:"getStd",value:function getStd(){return c.Struct.getFloat32(8,this)}},{key:"setStd",value:function setStd(t){c.Struct.setFloat32(8,t,this)}},{key:"getRelVel",value:function getRelVel(){return c.Struct.getFloat32(12,this)}},{key:"setRelVel",value:function setRelVel(t){c.Struct.setFloat32(12,t,this)}},{key:"getRelVelStd",value:function getRelVelStd(){return c.Struct.getFloat32(16,this)}},{key:"setRelVelStd",value:function setRelVelStd(t){c.Struct.setFloat32(16,t,this)}},{key:"getRelY",value:function getRelY(){return c.Struct.getFloat32(20,this)}},{key:"setRelY",value:function setRelY(t){c.Struct.setFloat32(20,t,this)}},{key:"getRelYStd",value:function getRelYStd(){return c.Struct.getFloat32(24,this)}},{key:"setRelYStd",value:function setRelYStd(t){c.Struct.setFloat32(24,t,this)}},{key:"getRelA",value:function getRelA(){return c.Struct.getFloat32(28,this)}},{key:"setRelA",value:function setRelA(t){c.Struct.setFloat32(28,t,this)}},{key:"getRelAStd",value:function getRelAStd(){return c.Struct.getFloat32(32,this)}},{key:"setRelAStd",value:function setRelAStd(t){c.Struct.setFloat32(32,t,this)}},{key:"toString",value:function toString(){return"ModelData_LeadData_"+s(a(ModelData_LeadData.prototype),"toString",this).call(this)}}]),ModelData_LeadData}(c.Struct);b._capnp={displayName:"LeadData",id:"d1c9bef96d26fa91",size:new c.ObjectSize(40,0)},e.ModelData_LeadData=b;var S=function(t){function ModelData_ModelSettings(){return r(this,ModelData_ModelSettings),o(this,a(ModelData_ModelSettings).apply(this,arguments))}return u(ModelData_ModelSettings,t),i(ModelData_ModelSettings,[{key:"getBigBoxX",value:function getBigBoxX(){return c.Struct.getUint16(0,this)}},{key:"setBigBoxX",value:function setBigBoxX(t){c.Struct.setUint16(0,t,this)}},{key:"getBigBoxY",value:function getBigBoxY(){return c.Struct.getUint16(2,this)}},{key:"setBigBoxY",value:function setBigBoxY(t){c.Struct.setUint16(2,t,this)}},{key:"getBigBoxWidth",value:function getBigBoxWidth(){return c.Struct.getUint16(4,this)}},{key:"setBigBoxWidth",value:function setBigBoxWidth(t){c.Struct.setUint16(4,t,this)}},{key:"getBigBoxHeight",value:function getBigBoxHeight(){return c.Struct.getUint16(6,this)}},{key:"setBigBoxHeight",value:function setBigBoxHeight(t){c.Struct.setUint16(6,t,this)}},{key:"adoptBoxProjection",value:function adoptBoxProjection(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownBoxProjection",value:function disownBoxProjection(){return c.Struct.disown(this.getBoxProjection())}},{key:"getBoxProjection",value:function getBoxProjection(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasBoxProjection",value:function hasBoxProjection(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initBoxProjection",value:function initBoxProjection(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setBoxProjection",value:function setBoxProjection(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptYuvCorrection",value:function adoptYuvCorrection(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownYuvCorrection",value:function disownYuvCorrection(){return c.Struct.disown(this.getYuvCorrection())}},{key:"getYuvCorrection",value:function getYuvCorrection(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasYuvCorrection",value:function hasYuvCorrection(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initYuvCorrection",value:function initYuvCorrection(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setYuvCorrection",value:function setYuvCorrection(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptInputTransform",value:function adoptInputTransform(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownInputTransform",value:function disownInputTransform(){return c.Struct.disown(this.getInputTransform())}},{key:"getInputTransform",value:function getInputTransform(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasInputTransform",value:function hasInputTransform(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initInputTransform",value:function initInputTransform(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setInputTransform",value:function setInputTransform(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"ModelData_ModelSettings_"+s(a(ModelData_ModelSettings.prototype),"toString",this).call(this)}}]),ModelData_ModelSettings}(c.Struct);S._capnp={displayName:"ModelSettings",id:"a26e3710efd3e914",size:new c.ObjectSize(8,3)},e.ModelData_ModelSettings=S;var E=function(t){function ModelData_MetaData(){return r(this,ModelData_MetaData),o(this,a(ModelData_MetaData).apply(this,arguments))}return u(ModelData_MetaData,t),i(ModelData_MetaData,[{key:"getEngagedProb",value:function getEngagedProb(){return c.Struct.getFloat32(0,this)}},{key:"setEngagedProb",value:function setEngagedProb(t){c.Struct.setFloat32(0,t,this)}},{key:"adoptDesirePrediction",value:function adoptDesirePrediction(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDesirePrediction",value:function disownDesirePrediction(){return c.Struct.disown(this.getDesirePrediction())}},{key:"getDesirePrediction",value:function getDesirePrediction(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasDesirePrediction",value:function hasDesirePrediction(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDesirePrediction",value:function initDesirePrediction(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setDesirePrediction",value:function setDesirePrediction(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getBrakeDisengageProb",value:function getBrakeDisengageProb(){return c.Struct.getFloat32(4,this)}},{key:"setBrakeDisengageProb",value:function setBrakeDisengageProb(t){c.Struct.setFloat32(4,t,this)}},{key:"getGasDisengageProb",value:function getGasDisengageProb(){return c.Struct.getFloat32(8,this)}},{key:"setGasDisengageProb",value:function setGasDisengageProb(t){c.Struct.setFloat32(8,t,this)}},{key:"getSteerOverrideProb",value:function getSteerOverrideProb(){return c.Struct.getFloat32(12,this)}},{key:"setSteerOverrideProb",value:function setSteerOverrideProb(t){c.Struct.setFloat32(12,t,this)}},{key:"adoptDesireState",value:function adoptDesireState(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownDesireState",value:function disownDesireState(){return c.Struct.disown(this.getDesireState())}},{key:"getDesireState",value:function getDesireState(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasDesireState",value:function hasDesireState(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initDesireState",value:function initDesireState(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setDesireState",value:function setDesireState(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"ModelData_MetaData_"+s(a(ModelData_MetaData.prototype),"toString",this).call(this)}}]),ModelData_MetaData}(c.Struct);E._capnp={displayName:"MetaData",id:"9744f25fb60f2bf8",size:new c.ObjectSize(16,2)},e.ModelData_MetaData=E;var x=function(t){function ModelData_LongitudinalData(){return r(this,ModelData_LongitudinalData),o(this,a(ModelData_LongitudinalData).apply(this,arguments))}return u(ModelData_LongitudinalData,t),i(ModelData_LongitudinalData,[{key:"adoptDistances",value:function adoptDistances(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownDistances",value:function disownDistances(){return c.Struct.disown(this.getDistances())}},{key:"getDistances",value:function getDistances(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasDistances",value:function hasDistances(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initDistances",value:function initDistances(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setDistances",value:function setDistances(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptSpeeds",value:function adoptSpeeds(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSpeeds",value:function disownSpeeds(){return c.Struct.disown(this.getSpeeds())}},{key:"getSpeeds",value:function getSpeeds(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasSpeeds",value:function hasSpeeds(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSpeeds",value:function initSpeeds(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setSpeeds",value:function setSpeeds(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptAccelerations",value:function adoptAccelerations(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownAccelerations",value:function disownAccelerations(){return c.Struct.disown(this.getAccelerations())}},{key:"getAccelerations",value:function getAccelerations(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasAccelerations",value:function hasAccelerations(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initAccelerations",value:function initAccelerations(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setAccelerations",value:function setAccelerations(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"ModelData_LongitudinalData_"+s(a(ModelData_LongitudinalData.prototype),"toString",this).call(this)}}]),ModelData_LongitudinalData}(c.Struct);x._capnp={displayName:"LongitudinalData",id:"f98f999c6a071122",size:new c.ObjectSize(0,3)},e.ModelData_LongitudinalData=x;var w=function(t){function ModelData(){return r(this,ModelData),o(this,a(ModelData).apply(this,arguments))}return u(ModelData,t),i(ModelData,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"getFrameAge",value:function getFrameAge(){return c.Struct.getUint32(4,this)}},{key:"setFrameAge",value:function setFrameAge(t){c.Struct.setUint32(4,t,this)}},{key:"getFrameDropPerc",value:function getFrameDropPerc(){return c.Struct.getFloat32(16,this)}},{key:"setFrameDropPerc",value:function setFrameDropPerc(t){c.Struct.setFloat32(16,t,this)}},{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(8,t,this)}},{key:"getModelExecutionTime",value:function getModelExecutionTime(){return c.Struct.getFloat32(20,this)}},{key:"setModelExecutionTime",value:function setModelExecutionTime(t){c.Struct.setFloat32(20,t,this)}},{key:"getGpuExecutionTime",value:function getGpuExecutionTime(){return c.Struct.getFloat32(24,this)}},{key:"setGpuExecutionTime",value:function setGpuExecutionTime(t){c.Struct.setFloat32(24,t,this)}},{key:"adoptRawPred",value:function adoptRawPred(t){c.Struct.adopt(t,c.Struct.getPointer(10,this))}},{key:"disownRawPred",value:function disownRawPred(){return c.Struct.disown(this.getRawPred())}},{key:"getRawPred",value:function getRawPred(){return c.Struct.getData(10,this)}},{key:"hasRawPred",value:function hasRawPred(){return!c.Struct.isNull(c.Struct.getPointer(10,this))}},{key:"initRawPred",value:function initRawPred(t){return c.Struct.initData(10,t,this)}},{key:"setRawPred",value:function setRawPred(t){c.Struct.copyFrom(t,c.Struct.getPointer(10,this))}},{key:"adoptPath",value:function adoptPath(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPath",value:function disownPath(){return c.Struct.disown(this.getPath())}},{key:"getPath",value:function getPath(){return c.Struct.getStruct(0,_,this)}},{key:"hasPath",value:function hasPath(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPath",value:function initPath(){return c.Struct.initStructAt(0,_,this)}},{key:"setPath",value:function setPath(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLeftLane",value:function adoptLeftLane(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownLeftLane",value:function disownLeftLane(){return c.Struct.disown(this.getLeftLane())}},{key:"getLeftLane",value:function getLeftLane(){return c.Struct.getStruct(1,_,this)}},{key:"hasLeftLane",value:function hasLeftLane(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initLeftLane",value:function initLeftLane(){return c.Struct.initStructAt(1,_,this)}},{key:"setLeftLane",value:function setLeftLane(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptRightLane",value:function adoptRightLane(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownRightLane",value:function disownRightLane(){return c.Struct.disown(this.getRightLane())}},{key:"getRightLane",value:function getRightLane(){return c.Struct.getStruct(2,_,this)}},{key:"hasRightLane",value:function hasRightLane(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initRightLane",value:function initRightLane(){return c.Struct.initStructAt(2,_,this)}},{key:"setRightLane",value:function setRightLane(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptLead",value:function adoptLead(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownLead",value:function disownLead(){return c.Struct.disown(this.getLead())}},{key:"getLead",value:function getLead(){return c.Struct.getStruct(3,b,this)}},{key:"hasLead",value:function hasLead(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initLead",value:function initLead(){return c.Struct.initStructAt(3,b,this)}},{key:"setLead",value:function setLead(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptFreePath",value:function adoptFreePath(t){c.Struct.adopt(t,c.Struct.getPointer(5,this))}},{key:"disownFreePath",value:function disownFreePath(){return c.Struct.disown(this.getFreePath())}},{key:"getFreePath",value:function getFreePath(){return c.Struct.getList(5,l.Float32List,this)}},{key:"hasFreePath",value:function hasFreePath(){return!c.Struct.isNull(c.Struct.getPointer(5,this))}},{key:"initFreePath",value:function initFreePath(t){return c.Struct.initList(5,l.Float32List,t,this)}},{key:"setFreePath",value:function setFreePath(t){c.Struct.copyFrom(t,c.Struct.getPointer(5,this))}},{key:"adoptSettings",value:function adoptSettings(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownSettings",value:function disownSettings(){return c.Struct.disown(this.getSettings())}},{key:"getSettings",value:function getSettings(){return c.Struct.getStruct(4,S,this)}},{key:"hasSettings",value:function hasSettings(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initSettings",value:function initSettings(){return c.Struct.initStructAt(4,S,this)}},{key:"setSettings",value:function setSettings(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"adoptLeadFuture",value:function adoptLeadFuture(t){c.Struct.adopt(t,c.Struct.getPointer(6,this))}},{key:"disownLeadFuture",value:function disownLeadFuture(){return c.Struct.disown(this.getLeadFuture())}},{key:"getLeadFuture",value:function getLeadFuture(){return c.Struct.getStruct(6,b,this)}},{key:"hasLeadFuture",value:function hasLeadFuture(){return!c.Struct.isNull(c.Struct.getPointer(6,this))}},{key:"initLeadFuture",value:function initLeadFuture(){return c.Struct.initStructAt(6,b,this)}},{key:"setLeadFuture",value:function setLeadFuture(t){c.Struct.copyFrom(t,c.Struct.getPointer(6,this))}},{key:"adoptSpeed",value:function adoptSpeed(t){c.Struct.adopt(t,c.Struct.getPointer(7,this))}},{key:"disownSpeed",value:function disownSpeed(){return c.Struct.disown(this.getSpeed())}},{key:"getSpeed",value:function getSpeed(){return c.Struct.getList(7,l.Float32List,this)}},{key:"hasSpeed",value:function hasSpeed(){return!c.Struct.isNull(c.Struct.getPointer(7,this))}},{key:"initSpeed",value:function initSpeed(t){return c.Struct.initList(7,l.Float32List,t,this)}},{key:"setSpeed",value:function setSpeed(t){c.Struct.copyFrom(t,c.Struct.getPointer(7,this))}},{key:"adoptMeta",value:function adoptMeta(t){c.Struct.adopt(t,c.Struct.getPointer(8,this))}},{key:"disownMeta",value:function disownMeta(){return c.Struct.disown(this.getMeta())}},{key:"getMeta",value:function getMeta(){return c.Struct.getStruct(8,E,this)}},{key:"hasMeta",value:function hasMeta(){return!c.Struct.isNull(c.Struct.getPointer(8,this))}},{key:"initMeta",value:function initMeta(){return c.Struct.initStructAt(8,E,this)}},{key:"setMeta",value:function setMeta(t){c.Struct.copyFrom(t,c.Struct.getPointer(8,this))}},{key:"adoptLongitudinal",value:function adoptLongitudinal(t){c.Struct.adopt(t,c.Struct.getPointer(9,this))}},{key:"disownLongitudinal",value:function disownLongitudinal(){return c.Struct.disown(this.getLongitudinal())}},{key:"getLongitudinal",value:function getLongitudinal(){return c.Struct.getStruct(9,x,this)}},{key:"hasLongitudinal",value:function hasLongitudinal(){return!c.Struct.isNull(c.Struct.getPointer(9,this))}},{key:"initLongitudinal",value:function initLongitudinal(){return c.Struct.initStructAt(9,x,this)}},{key:"setLongitudinal",value:function setLongitudinal(t){c.Struct.copyFrom(t,c.Struct.getPointer(9,this))}},{key:"toString",value:function toString(){return"ModelData_"+s(a(ModelData.prototype),"toString",this).call(this)}}]),ModelData}(c.Struct);w.PathData=_,w.LeadData=b,w.ModelSettings=S,w.MetaData=E,w.LongitudinalData=x,w._capnp={displayName:"ModelData",id:"b8aad62cffef28a9",size:new c.ObjectSize(32,11)},e.ModelData=w;var T=function(t){function ECEFPoint(){return r(this,ECEFPoint),o(this,a(ECEFPoint).apply(this,arguments))}return u(ECEFPoint,t),i(ECEFPoint,[{key:"getX",value:function getX(){return c.Struct.getFloat64(0,this)}},{key:"setX",value:function setX(t){c.Struct.setFloat64(0,t,this)}},{key:"getY",value:function getY(){return c.Struct.getFloat64(8,this)}},{key:"setY",value:function setY(t){c.Struct.setFloat64(8,t,this)}},{key:"getZ",value:function getZ(){return c.Struct.getFloat64(16,this)}},{key:"setZ",value:function setZ(t){c.Struct.setFloat64(16,t,this)}},{key:"toString",value:function toString(){return"ECEFPoint_"+s(a(ECEFPoint.prototype),"toString",this).call(this)}}]),ECEFPoint}(c.Struct);T._capnp={displayName:"ECEFPoint",id:"c25bbbd524983447",size:new c.ObjectSize(24,0)},e.ECEFPoint=T;var P=function(t){function ECEFPointDEPRECATED(){return r(this,ECEFPointDEPRECATED),o(this,a(ECEFPointDEPRECATED).apply(this,arguments))}return u(ECEFPointDEPRECATED,t),i(ECEFPointDEPRECATED,[{key:"getX",value:function getX(){return c.Struct.getFloat32(0,this)}},{key:"setX",value:function setX(t){c.Struct.setFloat32(0,t,this)}},{key:"getY",value:function getY(){return c.Struct.getFloat32(4,this)}},{key:"setY",value:function setY(t){c.Struct.setFloat32(4,t,this)}},{key:"getZ",value:function getZ(){return c.Struct.getFloat32(8,this)}},{key:"setZ",value:function setZ(t){c.Struct.setFloat32(8,t,this)}},{key:"toString",value:function toString(){return"ECEFPointDEPRECATED_"+s(a(ECEFPointDEPRECATED.prototype),"toString",this).call(this)}}]),ECEFPointDEPRECATED}(c.Struct);P._capnp={displayName:"ECEFPointDEPRECATED",id:"e10e21168db0c7f7",size:new c.ObjectSize(16,0)},e.ECEFPointDEPRECATED=P;var k=function(t){function GPSPlannerPoints(){return r(this,GPSPlannerPoints),o(this,a(GPSPlannerPoints).apply(this,arguments))}return u(GPSPlannerPoints,t),i(GPSPlannerPoints,[{key:"adoptCurPosDEPRECATED",value:function adoptCurPosDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCurPosDEPRECATED",value:function disownCurPosDEPRECATED(){return c.Struct.disown(this.getCurPosDEPRECATED())}},{key:"getCurPosDEPRECATED",value:function getCurPosDEPRECATED(){return c.Struct.getStruct(0,P,this)}},{key:"hasCurPosDEPRECATED",value:function hasCurPosDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCurPosDEPRECATED",value:function initCurPosDEPRECATED(){return c.Struct.initStructAt(0,P,this)}},{key:"setCurPosDEPRECATED",value:function setCurPosDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptPointsDEPRECATED",value:function adoptPointsDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownPointsDEPRECATED",value:function disownPointsDEPRECATED(){return c.Struct.disown(this.getPointsDEPRECATED())}},{key:"getPointsDEPRECATED",value:function getPointsDEPRECATED(){return c.Struct.getList(1,GPSPlannerPoints._PointsDEPRECATED,this)}},{key:"hasPointsDEPRECATED",value:function hasPointsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initPointsDEPRECATED",value:function initPointsDEPRECATED(t){return c.Struct.initList(1,GPSPlannerPoints._PointsDEPRECATED,t,this)}},{key:"setPointsDEPRECATED",value:function setPointsDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptCurPos",value:function adoptCurPos(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownCurPos",value:function disownCurPos(){return c.Struct.disown(this.getCurPos())}},{key:"getCurPos",value:function getCurPos(){return c.Struct.getStruct(3,T,this)}},{key:"hasCurPos",value:function hasCurPos(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initCurPos",value:function initCurPos(){return c.Struct.initStructAt(3,T,this)}},{key:"setCurPos",value:function setCurPos(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"adoptPoints",value:function adoptPoints(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownPoints",value:function disownPoints(){return c.Struct.disown(this.getPoints())}},{key:"getPoints",value:function getPoints(){return c.Struct.getList(4,GPSPlannerPoints._Points,this)}},{key:"hasPoints",value:function hasPoints(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initPoints",value:function initPoints(t){return c.Struct.initList(4,GPSPlannerPoints._Points,t,this)}},{key:"setPoints",value:function setPoints(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"getValid",value:function getValid(){return c.Struct.getBit(0,this)}},{key:"setValid",value:function setValid(t){c.Struct.setBit(0,t,this)}},{key:"getTrackName",value:function getTrackName(){return c.Struct.getText(2,this)}},{key:"setTrackName",value:function setTrackName(t){c.Struct.setText(2,t,this)}},{key:"getSpeedLimit",value:function getSpeedLimit(){return c.Struct.getFloat32(4,this)}},{key:"setSpeedLimit",value:function setSpeedLimit(t){c.Struct.setFloat32(4,t,this)}},{key:"getAccelTarget",value:function getAccelTarget(){return c.Struct.getFloat32(8,this)}},{key:"setAccelTarget",value:function setAccelTarget(t){c.Struct.setFloat32(8,t,this)}},{key:"toString",value:function toString(){return"GPSPlannerPoints_"+s(a(GPSPlannerPoints.prototype),"toString",this).call(this)}}]),GPSPlannerPoints}(c.Struct);k._capnp={displayName:"GPSPlannerPoints",id:"ab54c59699f8f9f3",size:new c.ObjectSize(16,5)},e.GPSPlannerPoints=k;var C,D,A=function(t){function GPSPlannerPlan(){return r(this,GPSPlannerPlan),o(this,a(GPSPlannerPlan).apply(this,arguments))}return u(GPSPlannerPlan,t),i(GPSPlannerPlan,[{key:"getValid",value:function getValid(){return c.Struct.getBit(0,this)}},{key:"setValid",value:function setValid(t){c.Struct.setBit(0,t,this)}},{key:"adoptPoly",value:function adoptPoly(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPoly",value:function disownPoly(){return c.Struct.disown(this.getPoly())}},{key:"getPoly",value:function getPoly(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasPoly",value:function hasPoly(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPoly",value:function initPoly(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setPoly",value:function setPoly(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getTrackName",value:function getTrackName(){return c.Struct.getText(1,this)}},{key:"setTrackName",value:function setTrackName(t){c.Struct.setText(1,t,this)}},{key:"getSpeed",value:function getSpeed(){return c.Struct.getFloat32(4,this)}},{key:"setSpeed",value:function setSpeed(t){c.Struct.setFloat32(4,t,this)}},{key:"getAcceleration",value:function getAcceleration(){return c.Struct.getFloat32(8,this)}},{key:"setAcceleration",value:function setAcceleration(t){c.Struct.setFloat32(8,t,this)}},{key:"adoptPointsDEPRECATED",value:function adoptPointsDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownPointsDEPRECATED",value:function disownPointsDEPRECATED(){return c.Struct.disown(this.getPointsDEPRECATED())}},{key:"getPointsDEPRECATED",value:function getPointsDEPRECATED(){return c.Struct.getList(2,GPSPlannerPlan._PointsDEPRECATED,this)}},{key:"hasPointsDEPRECATED",value:function hasPointsDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initPointsDEPRECATED",value:function initPointsDEPRECATED(t){return c.Struct.initList(2,GPSPlannerPlan._PointsDEPRECATED,t,this)}},{key:"setPointsDEPRECATED",value:function setPointsDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptPoints",value:function adoptPoints(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownPoints",value:function disownPoints(){return c.Struct.disown(this.getPoints())}},{key:"getPoints",value:function getPoints(){return c.Struct.getList(3,GPSPlannerPlan._Points,this)}},{key:"hasPoints",value:function hasPoints(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initPoints",value:function initPoints(t){return c.Struct.initList(3,GPSPlannerPlan._Points,t,this)}},{key:"setPoints",value:function setPoints(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getXLookahead",value:function getXLookahead(){return c.Struct.getFloat32(12,this)}},{key:"setXLookahead",value:function setXLookahead(t){c.Struct.setFloat32(12,t,this)}},{key:"toString",value:function toString(){return"GPSPlannerPlan_"+s(a(GPSPlannerPlan.prototype),"toString",this).call(this)}}]),GPSPlannerPlan}(c.Struct);A._capnp={displayName:"GPSPlannerPlan",id:"f5ad1d90cdc1dd6b",size:new c.ObjectSize(16,4)},e.GPSPlannerPlan=A,function(t){t[t.NONE=0]="NONE",t[t.LANE_CHANGE_LEFT=1]="LANE_CHANGE_LEFT",t[t.LANE_CHANGE_RIGHT=2]="LANE_CHANGE_RIGHT",t[t.MERGE_LEFT=3]="MERGE_LEFT",t[t.MERGE_RIGHT=4]="MERGE_RIGHT",t[t.TURN_LEFT=5]="TURN_LEFT",t[t.TURN_RIGHT=6]="TURN_RIGHT"}(C=e.UiNavigationEvent_Type||(e.UiNavigationEvent_Type={})),function(t){t[t.NONE=0]="NONE",t[t.PASSIVE=1]="PASSIVE",t[t.APPROACHING=2]="APPROACHING",t[t.ACTIVE=3]="ACTIVE"}(D=e.UiNavigationEvent_Status||(e.UiNavigationEvent_Status={}));var R=function(t){function UiNavigationEvent(){return r(this,UiNavigationEvent),o(this,a(UiNavigationEvent).apply(this,arguments))}return u(UiNavigationEvent,t),i(UiNavigationEvent,[{key:"getType",value:function getType(){return c.Struct.getUint16(0,this)}},{key:"setType",value:function setType(t){c.Struct.setUint16(0,t,this)}},{key:"getStatus",value:function getStatus(){return c.Struct.getUint16(2,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setUint16(2,t,this)}},{key:"getDistanceTo",value:function getDistanceTo(){return c.Struct.getFloat32(4,this)}},{key:"setDistanceTo",value:function setDistanceTo(t){c.Struct.setFloat32(4,t,this)}},{key:"adoptEndRoadPointDEPRECATED",value:function adoptEndRoadPointDEPRECATED(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownEndRoadPointDEPRECATED",value:function disownEndRoadPointDEPRECATED(){return c.Struct.disown(this.getEndRoadPointDEPRECATED())}},{key:"getEndRoadPointDEPRECATED",value:function getEndRoadPointDEPRECATED(){return c.Struct.getStruct(0,P,this)}},{key:"hasEndRoadPointDEPRECATED",value:function hasEndRoadPointDEPRECATED(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initEndRoadPointDEPRECATED",value:function initEndRoadPointDEPRECATED(){return c.Struct.initStructAt(0,P,this)}},{key:"setEndRoadPointDEPRECATED",value:function setEndRoadPointDEPRECATED(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptEndRoadPoint",value:function adoptEndRoadPoint(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownEndRoadPoint",value:function disownEndRoadPoint(){return c.Struct.disown(this.getEndRoadPoint())}},{key:"getEndRoadPoint",value:function getEndRoadPoint(){return c.Struct.getStruct(1,T,this)}},{key:"hasEndRoadPoint",value:function hasEndRoadPoint(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initEndRoadPoint",value:function initEndRoadPoint(){return c.Struct.initStructAt(1,T,this)}},{key:"setEndRoadPoint",value:function setEndRoadPoint(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"UiNavigationEvent_"+s(a(UiNavigationEvent.prototype),"toString",this).call(this)}}]),UiNavigationEvent}(c.Struct);R.Type=C,R.Status=D,R._capnp={displayName:"UiNavigationEvent",id:"90c8426c3eaddd3b",size:new c.ObjectSize(8,2)},e.UiNavigationEvent=R;var M=function(t){function OrbOdometry(){return r(this,OrbOdometry),o(this,a(OrbOdometry).apply(this,arguments))}return u(OrbOdometry,t),i(OrbOdometry,[{key:"getStartMonoTime",value:function getStartMonoTime(){return c.Struct.getUint64(0,this)}},{key:"setStartMonoTime",value:function setStartMonoTime(t){c.Struct.setUint64(0,t,this)}},{key:"getEndMonoTime",value:function getEndMonoTime(){return c.Struct.getUint64(8,this)}},{key:"setEndMonoTime",value:function setEndMonoTime(t){c.Struct.setUint64(8,t,this)}},{key:"adoptF",value:function adoptF(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownF",value:function disownF(){return c.Struct.disown(this.getF())}},{key:"getF",value:function getF(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasF",value:function hasF(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initF",value:function initF(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setF",value:function setF(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getErr",value:function getErr(){return c.Struct.getFloat64(16,this)}},{key:"setErr",value:function setErr(t){c.Struct.setFloat64(16,t,this)}},{key:"getInliers",value:function getInliers(){return c.Struct.getInt32(24,this)}},{key:"setInliers",value:function setInliers(t){c.Struct.setInt32(24,t,this)}},{key:"adoptMatches",value:function adoptMatches(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownMatches",value:function disownMatches(){return c.Struct.disown(this.getMatches())}},{key:"getMatches",value:function getMatches(){return c.Struct.getList(1,l.Int16List,this)}},{key:"hasMatches",value:function hasMatches(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initMatches",value:function initMatches(t){return c.Struct.initList(1,l.Int16List,t,this)}},{key:"setMatches",value:function setMatches(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"OrbOdometry_"+s(a(OrbOdometry.prototype),"toString",this).call(this)}}]),OrbOdometry}(c.Struct);M._capnp={displayName:"OrbOdometry",id:"d7700859ed1f5b76",size:new c.ObjectSize(32,2)},e.OrbOdometry=M;var L=function(t){function OrbFeatures(){return r(this,OrbFeatures),o(this,a(OrbFeatures).apply(this,arguments))}return u(OrbFeatures,t),i(OrbFeatures,[{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(0,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(0,t,this)}},{key:"adoptXs",value:function adoptXs(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownXs",value:function disownXs(){return c.Struct.disown(this.getXs())}},{key:"getXs",value:function getXs(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasXs",value:function hasXs(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initXs",value:function initXs(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setXs",value:function setXs(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptYs",value:function adoptYs(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownYs",value:function disownYs(){return c.Struct.disown(this.getYs())}},{key:"getYs",value:function getYs(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasYs",value:function hasYs(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initYs",value:function initYs(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setYs",value:function setYs(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptDescriptors",value:function adoptDescriptors(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownDescriptors",value:function disownDescriptors(){return c.Struct.disown(this.getDescriptors())}},{key:"getDescriptors",value:function getDescriptors(){return c.Struct.getData(2,this)}},{key:"hasDescriptors",value:function hasDescriptors(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initDescriptors",value:function initDescriptors(t){return c.Struct.initData(2,t,this)}},{key:"setDescriptors",value:function setDescriptors(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptOctaves",value:function adoptOctaves(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownOctaves",value:function disownOctaves(){return c.Struct.disown(this.getOctaves())}},{key:"getOctaves",value:function getOctaves(){return c.Struct.getList(3,l.Int8List,this)}},{key:"hasOctaves",value:function hasOctaves(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initOctaves",value:function initOctaves(t){return c.Struct.initList(3,l.Int8List,t,this)}},{key:"setOctaves",value:function setOctaves(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"getTimestampLastEof",value:function getTimestampLastEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampLastEof",value:function setTimestampLastEof(t){c.Struct.setUint64(8,t,this)}},{key:"adoptMatches",value:function adoptMatches(t){c.Struct.adopt(t,c.Struct.getPointer(4,this))}},{key:"disownMatches",value:function disownMatches(){return c.Struct.disown(this.getMatches())}},{key:"getMatches",value:function getMatches(){return c.Struct.getList(4,l.Int16List,this)}},{key:"hasMatches",value:function hasMatches(){return!c.Struct.isNull(c.Struct.getPointer(4,this))}},{key:"initMatches",value:function initMatches(t){return c.Struct.initList(4,l.Int16List,t,this)}},{key:"setMatches",value:function setMatches(t){c.Struct.copyFrom(t,c.Struct.getPointer(4,this))}},{key:"toString",value:function toString(){return"OrbFeatures_"+s(a(OrbFeatures.prototype),"toString",this).call(this)}}]),OrbFeatures}(c.Struct);L._capnp={displayName:"OrbFeatures",id:"cd60164a8a0159ef",size:new c.ObjectSize(16,5)},e.OrbFeatures=L;var I=function(t){function OrbFeaturesSummary(){return r(this,OrbFeaturesSummary),o(this,a(OrbFeaturesSummary).apply(this,arguments))}return u(OrbFeaturesSummary,t),i(OrbFeaturesSummary,[{key:"getTimestampEof",value:function getTimestampEof(){return c.Struct.getUint64(0,this)}},{key:"setTimestampEof",value:function setTimestampEof(t){c.Struct.setUint64(0,t,this)}},{key:"getTimestampLastEof",value:function getTimestampLastEof(){return c.Struct.getUint64(8,this)}},{key:"setTimestampLastEof",value:function setTimestampLastEof(t){c.Struct.setUint64(8,t,this)}},{key:"getFeatureCount",value:function getFeatureCount(){return c.Struct.getUint16(16,this)}},{key:"setFeatureCount",value:function setFeatureCount(t){c.Struct.setUint16(16,t,this)}},{key:"getMatchCount",value:function getMatchCount(){return c.Struct.getUint16(18,this)}},{key:"setMatchCount",value:function setMatchCount(t){c.Struct.setUint16(18,t,this)}},{key:"getComputeNs",value:function getComputeNs(){return c.Struct.getUint64(24,this)}},{key:"setComputeNs",value:function setComputeNs(t){c.Struct.setUint64(24,t,this)}},{key:"toString",value:function toString(){return"OrbFeaturesSummary_"+s(a(OrbFeaturesSummary.prototype),"toString",this).call(this)}}]),OrbFeaturesSummary}(c.Struct);I._capnp={displayName:"OrbFeaturesSummary",id:"d500d30c5803fa4f",size:new c.ObjectSize(32,0)},e.OrbFeaturesSummary=I;var O=function(t){function OrbKeyFrame(){return r(this,OrbKeyFrame),o(this,a(OrbKeyFrame).apply(this,arguments))}return u(OrbKeyFrame,t),i(OrbKeyFrame,[{key:"getId",value:function getId(){return c.Struct.getUint64(0,this)}},{key:"setId",value:function setId(t){c.Struct.setUint64(0,t,this)}},{key:"adoptPos",value:function adoptPos(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownPos",value:function disownPos(){return c.Struct.disown(this.getPos())}},{key:"getPos",value:function getPos(){return c.Struct.getStruct(0,T,this)}},{key:"hasPos",value:function hasPos(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initPos",value:function initPos(){return c.Struct.initStructAt(0,T,this)}},{key:"setPos",value:function setPos(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptDpos",value:function adoptDpos(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownDpos",value:function disownDpos(){return c.Struct.disown(this.getDpos())}},{key:"getDpos",value:function getDpos(){return c.Struct.getList(1,OrbKeyFrame._Dpos,this)}},{key:"hasDpos",value:function hasDpos(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initDpos",value:function initDpos(t){return c.Struct.initList(1,OrbKeyFrame._Dpos,t,this)}},{key:"setDpos",value:function setDpos(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptDescriptors",value:function adoptDescriptors(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownDescriptors",value:function disownDescriptors(){return c.Struct.disown(this.getDescriptors())}},{key:"getDescriptors",value:function getDescriptors(){return c.Struct.getData(2,this)}},{key:"hasDescriptors",value:function hasDescriptors(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initDescriptors",value:function initDescriptors(t){return c.Struct.initData(2,t,this)}},{key:"setDescriptors",value:function setDescriptors(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"OrbKeyFrame_"+s(a(OrbKeyFrame.prototype),"toString",this).call(this)}}]),OrbKeyFrame}(c.Struct);O._capnp={displayName:"OrbKeyFrame",id:"c8233c0345e27e24",size:new c.ObjectSize(8,3)},e.OrbKeyFrame=O;var F=function(t){function KalmanOdometry(){return r(this,KalmanOdometry),o(this,a(KalmanOdometry).apply(this,arguments))}return u(KalmanOdometry,t),i(KalmanOdometry,[{key:"adoptTrans",value:function adoptTrans(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownTrans",value:function disownTrans(){return c.Struct.disown(this.getTrans())}},{key:"getTrans",value:function getTrans(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasTrans",value:function hasTrans(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initTrans",value:function initTrans(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setTrans",value:function setTrans(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptRot",value:function adoptRot(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownRot",value:function disownRot(){return c.Struct.disown(this.getRot())}},{key:"getRot",value:function getRot(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasRot",value:function hasRot(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initRot",value:function initRot(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setRot",value:function setRot(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptTransStd",value:function adoptTransStd(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownTransStd",value:function disownTransStd(){return c.Struct.disown(this.getTransStd())}},{key:"getTransStd",value:function getTransStd(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasTransStd",value:function hasTransStd(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initTransStd",value:function initTransStd(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setTransStd",value:function setTransStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"adoptRotStd",value:function adoptRotStd(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownRotStd",value:function disownRotStd(){return c.Struct.disown(this.getRotStd())}},{key:"getRotStd",value:function getRotStd(){return c.Struct.getList(3,l.Float32List,this)}},{key:"hasRotStd",value:function hasRotStd(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initRotStd",value:function initRotStd(t){return c.Struct.initList(3,l.Float32List,t,this)}},{key:"setRotStd",value:function setRotStd(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"toString",value:function toString(){return"KalmanOdometry_"+s(a(KalmanOdometry.prototype),"toString",this).call(this)}}]),KalmanOdometry}(c.Struct);F._capnp={displayName:"KalmanOdometry",id:"92e21bb7ea38793a",size:new c.ObjectSize(0,4)},e.KalmanOdometry=F;var N=function(t){function OrbObservation(){return r(this,OrbObservation),o(this,a(OrbObservation).apply(this,arguments))}return u(OrbObservation,t),i(OrbObservation,[{key:"getObservationMonoTime",value:function getObservationMonoTime(){return c.Struct.getUint64(0,this)}},{key:"setObservationMonoTime",value:function setObservationMonoTime(t){c.Struct.setUint64(0,t,this)}},{key:"adoptNormalizedCoordinates",value:function adoptNormalizedCoordinates(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownNormalizedCoordinates",value:function disownNormalizedCoordinates(){return c.Struct.disown(this.getNormalizedCoordinates())}},{key:"getNormalizedCoordinates",value:function getNormalizedCoordinates(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasNormalizedCoordinates",value:function hasNormalizedCoordinates(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initNormalizedCoordinates",value:function initNormalizedCoordinates(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setNormalizedCoordinates",value:function setNormalizedCoordinates(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptLocationECEF",value:function adoptLocationECEF(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownLocationECEF",value:function disownLocationECEF(){return c.Struct.disown(this.getLocationECEF())}},{key:"getLocationECEF",value:function getLocationECEF(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasLocationECEF",value:function hasLocationECEF(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initLocationECEF",value:function initLocationECEF(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setLocationECEF",value:function setLocationECEF(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getMatchDistance",value:function getMatchDistance(){return c.Struct.getUint32(8,this)}},{key:"setMatchDistance",value:function setMatchDistance(t){c.Struct.setUint32(8,t,this)}},{key:"toString",value:function toString(){return"OrbObservation_"+s(a(OrbObservation.prototype),"toString",this).call(this)}}]),OrbObservation}(c.Struct);N._capnp={displayName:"OrbObservation",id:"9b326d4e436afec7",size:new c.ObjectSize(16,2)},e.OrbObservation=N;var B=function(t){function CalibrationFeatures(){return r(this,CalibrationFeatures),o(this,a(CalibrationFeatures).apply(this,arguments))}return u(CalibrationFeatures,t),i(CalibrationFeatures,[{key:"getFrameId",value:function getFrameId(){return c.Struct.getUint32(0,this)}},{key:"setFrameId",value:function setFrameId(t){c.Struct.setUint32(0,t,this)}},{key:"adoptP0",value:function adoptP0(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownP0",value:function disownP0(){return c.Struct.disown(this.getP0())}},{key:"getP0",value:function getP0(){return c.Struct.getList(0,l.Float32List,this)}},{key:"hasP0",value:function hasP0(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initP0",value:function initP0(t){return c.Struct.initList(0,l.Float32List,t,this)}},{key:"setP0",value:function setP0(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptP1",value:function adoptP1(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownP1",value:function disownP1(){return c.Struct.disown(this.getP1())}},{key:"getP1",value:function getP1(){return c.Struct.getList(1,l.Float32List,this)}},{key:"hasP1",value:function hasP1(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initP1",value:function initP1(t){return c.Struct.initList(1,l.Float32List,t,this)}},{key:"setP1",value:function setP1(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptStatus",value:function adoptStatus(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownStatus",value:function disownStatus(){return c.Struct.disown(this.getStatus())}},{key:"getStatus",value:function getStatus(){return c.Struct.getList(2,l.Int8List,this)}},{key:"hasStatus",value:function hasStatus(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initStatus",value:function initStatus(t){return c.Struct.initList(2,l.Int8List,t,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"CalibrationFeatures_"+s(a(CalibrationFeatures.prototype),"toString",this).call(this)}}]),CalibrationFeatures}(c.Struct);B._capnp={displayName:"CalibrationFeatures",id:"8fdfadb254ea867a",size:new c.ObjectSize(8,3)},e.CalibrationFeatures=B;var U=function(t){function NavStatus_Address(){return r(this,NavStatus_Address),o(this,a(NavStatus_Address).apply(this,arguments))}return u(NavStatus_Address,t),i(NavStatus_Address,[{key:"getTitle",value:function getTitle(){return c.Struct.getText(0,this)}},{key:"setTitle",value:function setTitle(t){c.Struct.setText(0,t,this)}},{key:"getLat",value:function getLat(){return c.Struct.getFloat64(0,this)}},{key:"setLat",value:function setLat(t){c.Struct.setFloat64(0,t,this)}},{key:"getLng",value:function getLng(){return c.Struct.getFloat64(8,this)}},{key:"setLng",value:function setLng(t){c.Struct.setFloat64(8,t,this)}},{key:"getHouse",value:function getHouse(){return c.Struct.getText(1,this)}},{key:"setHouse",value:function setHouse(t){c.Struct.setText(1,t,this)}},{key:"getAddress",value:function getAddress(){return c.Struct.getText(2,this)}},{key:"setAddress",value:function setAddress(t){c.Struct.setText(2,t,this)}},{key:"getStreet",value:function getStreet(){return c.Struct.getText(3,this)}},{key:"setStreet",value:function setStreet(t){c.Struct.setText(3,t,this)}},{key:"getCity",value:function getCity(){return c.Struct.getText(4,this)}},{key:"setCity",value:function setCity(t){c.Struct.setText(4,t,this)}},{key:"getState",value:function getState(){return c.Struct.getText(5,this)}},{key:"setState",value:function setState(t){c.Struct.setText(5,t,this)}},{key:"getCountry",value:function getCountry(){return c.Struct.getText(6,this)}},{key:"setCountry",value:function setCountry(t){c.Struct.setText(6,t,this)}},{key:"toString",value:function toString(){return"NavStatus_Address_"+s(a(NavStatus_Address.prototype),"toString",this).call(this)}}]),NavStatus_Address}(c.Struct);U._capnp={displayName:"Address",id:"ce7cd672cacc7814",size:new c.ObjectSize(16,7)},e.NavStatus_Address=U;var z=function(t){function NavStatus(){return r(this,NavStatus),o(this,a(NavStatus).apply(this,arguments))}return u(NavStatus,t),i(NavStatus,[{key:"getIsNavigating",value:function getIsNavigating(){return c.Struct.getBit(0,this)}},{key:"setIsNavigating",value:function setIsNavigating(t){c.Struct.setBit(0,t,this)}},{key:"adoptCurrentAddress",value:function adoptCurrentAddress(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownCurrentAddress",value:function disownCurrentAddress(){return c.Struct.disown(this.getCurrentAddress())}},{key:"getCurrentAddress",value:function getCurrentAddress(){return c.Struct.getStruct(0,U,this)}},{key:"hasCurrentAddress",value:function hasCurrentAddress(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initCurrentAddress",value:function initCurrentAddress(){return c.Struct.initStructAt(0,U,this)}},{key:"setCurrentAddress",value:function setCurrentAddress(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"NavStatus_"+s(a(NavStatus.prototype),"toString",this).call(this)}}]),NavStatus}(c.Struct);z.Address=U,z._capnp={displayName:"NavStatus",id:"bd8822120928120c",size:new c.ObjectSize(8,1)},e.NavStatus=z;var j,V=function(t){function NavUpdate_LatLng(){return r(this,NavUpdate_LatLng),o(this,a(NavUpdate_LatLng).apply(this,arguments))}return u(NavUpdate_LatLng,t),i(NavUpdate_LatLng,[{key:"getLat",value:function getLat(){return c.Struct.getFloat64(0,this)}},{key:"setLat",value:function setLat(t){c.Struct.setFloat64(0,t,this)}},{key:"getLng",value:function getLng(){return c.Struct.getFloat64(8,this)}},{key:"setLng",value:function setLng(t){c.Struct.setFloat64(8,t,this)}},{key:"toString",value:function toString(){return"NavUpdate_LatLng_"+s(a(NavUpdate_LatLng.prototype),"toString",this).call(this)}}]),NavUpdate_LatLng}(c.Struct);V._capnp={displayName:"LatLng",id:"9eaef9187cadbb9b",size:new c.ObjectSize(16,0)},e.NavUpdate_LatLng=V,function(t){t[t.TURN_LEFT=0]="TURN_LEFT",t[t.TURN_RIGHT=1]="TURN_RIGHT",t[t.KEEP_LEFT=2]="KEEP_LEFT",t[t.KEEP_RIGHT=3]="KEEP_RIGHT",t[t.STRAIGHT=4]="STRAIGHT",t[t.ROUNDABOUT_EXIT_NUMBER=5]="ROUNDABOUT_EXIT_NUMBER",t[t.ROUNDABOUT_EXIT=6]="ROUNDABOUT_EXIT",t[t.ROUNDABOUT_TURN_LEFT=7]="ROUNDABOUT_TURN_LEFT",t[t.UNKN8=8]="UNKN8",t[t.ROUNDABOUT_STRAIGHT=9]="ROUNDABOUT_STRAIGHT",t[t.UNKN10=10]="UNKN10",t[t.ROUNDABOUT_TURN_RIGHT=11]="ROUNDABOUT_TURN_RIGHT",t[t.UNKN12=12]="UNKN12",t[t.ROUNDABOUT_UTURN=13]="ROUNDABOUT_UTURN",t[t.UNKN14=14]="UNKN14",t[t.ARRIVE=15]="ARRIVE",t[t.EXIT_LEFT=16]="EXIT_LEFT",t[t.EXIT_RIGHT=17]="EXIT_RIGHT",t[t.UNKN18=18]="UNKN18",t[t.UTURN=19]="UTURN"}(j=e.NavUpdate_Segment_Instruction||(e.NavUpdate_Segment_Instruction={}));var G=function(t){function NavUpdate_Segment(){return r(this,NavUpdate_Segment),o(this,a(NavUpdate_Segment).apply(this,arguments))}return u(NavUpdate_Segment,t),i(NavUpdate_Segment,[{key:"adoptFrom",value:function adoptFrom(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownFrom",value:function disownFrom(){return c.Struct.disown(this.getFrom())}},{key:"getFrom",value:function getFrom(){return c.Struct.getStruct(0,V,this)}},{key:"hasFrom",value:function hasFrom(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initFrom",value:function initFrom(){return c.Struct.initStructAt(0,V,this)}},{key:"setFrom",value:function setFrom(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptTo",value:function adoptTo(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownTo",value:function disownTo(){return c.Struct.disown(this.getTo())}},{key:"getTo",value:function getTo(){return c.Struct.getStruct(1,V,this)}},{key:"hasTo",value:function hasTo(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initTo",value:function initTo(){return c.Struct.initStructAt(1,V,this)}},{key:"setTo",value:function setTo(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"getUpdateTime",value:function getUpdateTime(){return c.Struct.getInt32(0,this)}},{key:"setUpdateTime",value:function setUpdateTime(t){c.Struct.setInt32(0,t,this)}},{key:"getDistance",value:function getDistance(){return c.Struct.getInt32(4,this)}},{key:"setDistance",value:function setDistance(t){c.Struct.setInt32(4,t,this)}},{key:"getCrossTime",value:function getCrossTime(){return c.Struct.getInt32(8,this)}},{key:"setCrossTime",value:function setCrossTime(t){c.Struct.setInt32(8,t,this)}},{key:"getExitNo",value:function getExitNo(){return c.Struct.getInt32(12,this)}},{key:"setExitNo",value:function setExitNo(t){c.Struct.setInt32(12,t,this)}},{key:"getInstruction",value:function getInstruction(){return c.Struct.getUint16(16,this)}},{key:"setInstruction",value:function setInstruction(t){c.Struct.setUint16(16,t,this)}},{key:"adoptParts",value:function adoptParts(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownParts",value:function disownParts(){return c.Struct.disown(this.getParts())}},{key:"getParts",value:function getParts(){return c.Struct.getList(2,NavUpdate_Segment._Parts,this)}},{key:"hasParts",value:function hasParts(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initParts",value:function initParts(t){return c.Struct.initList(2,NavUpdate_Segment._Parts,t,this)}},{key:"setParts",value:function setParts(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"toString",value:function toString(){return"NavUpdate_Segment_"+s(a(NavUpdate_Segment.prototype),"toString",this).call(this)}}]),NavUpdate_Segment}(c.Struct);G.Instruction=j,G._capnp={displayName:"Segment",id:"a5b39b4fc4d7da3f",size:new c.ObjectSize(24,3)},e.NavUpdate_Segment=G;var W,q,H=function(t){function NavUpdate(){return r(this,NavUpdate),o(this,a(NavUpdate).apply(this,arguments))}return u(NavUpdate,t),i(NavUpdate,[{key:"getIsNavigating",value:function getIsNavigating(){return c.Struct.getBit(0,this)}},{key:"setIsNavigating",value:function setIsNavigating(t){c.Struct.setBit(0,t,this)}},{key:"getCurSegment",value:function getCurSegment(){return c.Struct.getInt32(4,this)}},{key:"setCurSegment",value:function setCurSegment(t){c.Struct.setInt32(4,t,this)}},{key:"adoptSegments",value:function adoptSegments(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSegments",value:function disownSegments(){return c.Struct.disown(this.getSegments())}},{key:"getSegments",value:function getSegments(){return c.Struct.getList(0,NavUpdate._Segments,this)}},{key:"hasSegments",value:function hasSegments(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSegments",value:function initSegments(t){return c.Struct.initList(0,NavUpdate._Segments,t,this)}},{key:"setSegments",value:function setSegments(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"NavUpdate_"+s(a(NavUpdate.prototype),"toString",this).call(this)}}]),NavUpdate}(c.Struct);H.LatLng=V,H.Segment=G,H._capnp={displayName:"NavUpdate",id:"db98be6565516acb",size:new c.ObjectSize(8,1)},e.NavUpdate=H,function(t){t[t.STOP_SIGN=0]="STOP_SIGN",t[t.LIGHT_RED=1]="LIGHT_RED",t[t.LIGHT_YELLOW=2]="LIGHT_YELLOW",t[t.LIGHT_GREEN=3]="LIGHT_GREEN",t[t.STOP_LIGHT=4]="STOP_LIGHT"}(W=e.TrafficEvent_Type||(e.TrafficEvent_Type={})),function(t){t[t.NONE=0]="NONE",t[t.YIELD=1]="YIELD",t[t.STOP=2]="STOP",t[t.RESUME_READY=3]="RESUME_READY"}(q=e.TrafficEvent_Action||(e.TrafficEvent_Action={}));var K=function(t){function TrafficEvent(){return r(this,TrafficEvent),o(this,a(TrafficEvent).apply(this,arguments))}return u(TrafficEvent,t),i(TrafficEvent,[{key:"getType",value:function getType(){return c.Struct.getUint16(0,this)}},{key:"setType",value:function setType(t){c.Struct.setUint16(0,t,this)}},{key:"getDistance",value:function getDistance(){return c.Struct.getFloat32(4,this)}},{key:"setDistance",value:function setDistance(t){c.Struct.setFloat32(4,t,this)}},{key:"getAction",value:function getAction(){return c.Struct.getUint16(2,this)}},{key:"setAction",value:function setAction(t){c.Struct.setUint16(2,t,this)}},{key:"getResuming",value:function getResuming(){return c.Struct.getBit(64,this)}},{key:"setResuming",value:function setResuming(t){c.Struct.setBit(64,t,this)}},{key:"toString",value:function toString(){return"TrafficEvent_"+s(a(TrafficEvent.prototype),"toString",this).call(this)}}]),TrafficEvent}(c.Struct);K.Type=W,K.Action=q,K._capnp={displayName:"TrafficEvent",id:"acfa74a094e62626",size:new c.ObjectSize(16,0)},e.TrafficEvent=K;var Y,X,Z,$=function(t){function AndroidGnss_Measurements_Clock(){return r(this,AndroidGnss_Measurements_Clock),o(this,a(AndroidGnss_Measurements_Clock).apply(this,arguments))}return u(AndroidGnss_Measurements_Clock,t),i(AndroidGnss_Measurements_Clock,[{key:"getTimeNanos",value:function getTimeNanos(){return c.Struct.getInt64(0,this)}},{key:"setTimeNanos",value:function setTimeNanos(t){c.Struct.setInt64(0,t,this)}},{key:"getHardwareClockDiscontinuityCount",value:function getHardwareClockDiscontinuityCount(){return c.Struct.getInt32(8,this)}},{key:"setHardwareClockDiscontinuityCount",value:function setHardwareClockDiscontinuityCount(t){c.Struct.setInt32(8,t,this)}},{key:"getHasTimeUncertaintyNanos",value:function getHasTimeUncertaintyNanos(){return c.Struct.getBit(96,this)}},{key:"setHasTimeUncertaintyNanos",value:function setHasTimeUncertaintyNanos(t){c.Struct.setBit(96,t,this)}},{key:"getTimeUncertaintyNanos",value:function getTimeUncertaintyNanos(){return c.Struct.getFloat64(16,this)}},{key:"setTimeUncertaintyNanos",value:function setTimeUncertaintyNanos(t){c.Struct.setFloat64(16,t,this)}},{key:"getHasLeapSecond",value:function getHasLeapSecond(){return c.Struct.getBit(97,this)}},{key:"setHasLeapSecond",value:function setHasLeapSecond(t){c.Struct.setBit(97,t,this)}},{key:"getLeapSecond",value:function getLeapSecond(){return c.Struct.getInt32(24,this)}},{key:"setLeapSecond",value:function setLeapSecond(t){c.Struct.setInt32(24,t,this)}},{key:"getHasFullBiasNanos",value:function getHasFullBiasNanos(){return c.Struct.getBit(98,this)}},{key:"setHasFullBiasNanos",value:function setHasFullBiasNanos(t){c.Struct.setBit(98,t,this)}},{key:"getFullBiasNanos",value:function getFullBiasNanos(){return c.Struct.getInt64(32,this)}},{key:"setFullBiasNanos",value:function setFullBiasNanos(t){c.Struct.setInt64(32,t,this)}},{key:"getHasBiasNanos",value:function getHasBiasNanos(){return c.Struct.getBit(99,this)}},{key:"setHasBiasNanos",value:function setHasBiasNanos(t){c.Struct.setBit(99,t,this)}},{key:"getBiasNanos",value:function getBiasNanos(){return c.Struct.getFloat64(40,this)}},{key:"setBiasNanos",value:function setBiasNanos(t){c.Struct.setFloat64(40,t,this)}},{key:"getHasBiasUncertaintyNanos",value:function getHasBiasUncertaintyNanos(){return c.Struct.getBit(100,this)}},{key:"setHasBiasUncertaintyNanos",value:function setHasBiasUncertaintyNanos(t){c.Struct.setBit(100,t,this)}},{key:"getBiasUncertaintyNanos",value:function getBiasUncertaintyNanos(){return c.Struct.getFloat64(48,this)}},{key:"setBiasUncertaintyNanos",value:function setBiasUncertaintyNanos(t){c.Struct.setFloat64(48,t,this)}},{key:"getHasDriftNanosPerSecond",value:function getHasDriftNanosPerSecond(){return c.Struct.getBit(101,this)}},{key:"setHasDriftNanosPerSecond",value:function setHasDriftNanosPerSecond(t){c.Struct.setBit(101,t,this)}},{key:"getDriftNanosPerSecond",value:function getDriftNanosPerSecond(){return c.Struct.getFloat64(56,this)}},{key:"setDriftNanosPerSecond",value:function setDriftNanosPerSecond(t){c.Struct.setFloat64(56,t,this)}},{key:"getHasDriftUncertaintyNanosPerSecond",value:function getHasDriftUncertaintyNanosPerSecond(){return c.Struct.getBit(102,this)}},{key:"setHasDriftUncertaintyNanosPerSecond",value:function setHasDriftUncertaintyNanosPerSecond(t){c.Struct.setBit(102,t,this)}},{key:"getDriftUncertaintyNanosPerSecond",value:function getDriftUncertaintyNanosPerSecond(){return c.Struct.getFloat64(64,this)}},{key:"setDriftUncertaintyNanosPerSecond",value:function setDriftUncertaintyNanosPerSecond(t){c.Struct.setFloat64(64,t,this)}},{key:"toString",value:function toString(){return"AndroidGnss_Measurements_Clock_"+s(a(AndroidGnss_Measurements_Clock.prototype),"toString",this).call(this)}}]),AndroidGnss_Measurements_Clock}(c.Struct);$._capnp={displayName:"Clock",id:"a0e27b453a38f450",size:new c.ObjectSize(72,0)},e.AndroidGnss_Measurements_Clock=$,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.GPS=1]="GPS",t[t.SBAS=2]="SBAS",t[t.GLONASS=3]="GLONASS",t[t.QZSS=4]="QZSS",t[t.BEIDOU=5]="BEIDOU",t[t.GALILEO=6]="GALILEO"}(Y=e.AndroidGnss_Measurements_Measurement_Constellation||(e.AndroidGnss_Measurements_Measurement_Constellation={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CODE_LOCK=1]="CODE_LOCK",t[t.BIT_SYNC=2]="BIT_SYNC",t[t.SUBFRAME_SYNC=3]="SUBFRAME_SYNC",t[t.TOW_DECODED=4]="TOW_DECODED",t[t.MSEC_AMBIGUOUS=5]="MSEC_AMBIGUOUS",t[t.SYMBOL_SYNC=6]="SYMBOL_SYNC",t[t.GLO_STRING_SYNC=7]="GLO_STRING_SYNC",t[t.GLO_TOD_DECODED=8]="GLO_TOD_DECODED",t[t.BDS_D2BIT_SYNC=9]="BDS_D2BIT_SYNC",t[t.BDS_D2SUBFRAME_SYNC=10]="BDS_D2SUBFRAME_SYNC",t[t.GAL_E1BC_CODE_LOCK=11]="GAL_E1BC_CODE_LOCK",t[t.GAL_E1C2ND_CODE_LOCK=12]="GAL_E1C2ND_CODE_LOCK",t[t.GAL_E1B_PAGE_SYNC=13]="GAL_E1B_PAGE_SYNC",t[t.SBAS_SYNC=14]="SBAS_SYNC"}(X=e.AndroidGnss_Measurements_Measurement_State||(e.AndroidGnss_Measurements_Measurement_State={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.DETECTED=1]="DETECTED",t[t.NOT_DETECTED=2]="NOT_DETECTED"}(Z=e.AndroidGnss_Measurements_Measurement_MultipathIndicator||(e.AndroidGnss_Measurements_Measurement_MultipathIndicator={}));var J=function(t){function AndroidGnss_Measurements_Measurement(){return r(this,AndroidGnss_Measurements_Measurement),o(this,a(AndroidGnss_Measurements_Measurement).apply(this,arguments))}return u(AndroidGnss_Measurements_Measurement,t),i(AndroidGnss_Measurements_Measurement,[{key:"getSvId",value:function getSvId(){return c.Struct.getInt32(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setInt32(0,t,this)}},{key:"getConstellation",value:function getConstellation(){return c.Struct.getUint16(4,this)}},{key:"setConstellation",value:function setConstellation(t){c.Struct.setUint16(4,t,this)}},{key:"getTimeOffsetNanos",value:function getTimeOffsetNanos(){return c.Struct.getFloat64(8,this)}},{key:"setTimeOffsetNanos",value:function setTimeOffsetNanos(t){c.Struct.setFloat64(8,t,this)}},{key:"getState",value:function getState(){return c.Struct.getInt32(16,this)}},{key:"setState",value:function setState(t){c.Struct.setInt32(16,t,this)}},{key:"getReceivedSvTimeNanos",value:function getReceivedSvTimeNanos(){return c.Struct.getInt64(24,this)}},{key:"setReceivedSvTimeNanos",value:function setReceivedSvTimeNanos(t){c.Struct.setInt64(24,t,this)}},{key:"getReceivedSvTimeUncertaintyNanos",value:function getReceivedSvTimeUncertaintyNanos(){return c.Struct.getInt64(32,this)}},{key:"setReceivedSvTimeUncertaintyNanos",value:function setReceivedSvTimeUncertaintyNanos(t){c.Struct.setInt64(32,t,this)}},{key:"getCn0DbHz",value:function getCn0DbHz(){return c.Struct.getFloat64(40,this)}},{key:"setCn0DbHz",value:function setCn0DbHz(t){c.Struct.setFloat64(40,t,this)}},{key:"getPseudorangeRateMetersPerSecond",value:function getPseudorangeRateMetersPerSecond(){return c.Struct.getFloat64(48,this)}},{key:"setPseudorangeRateMetersPerSecond",value:function setPseudorangeRateMetersPerSecond(t){c.Struct.setFloat64(48,t,this)}},{key:"getPseudorangeRateUncertaintyMetersPerSecond",value:function getPseudorangeRateUncertaintyMetersPerSecond(){return c.Struct.getFloat64(56,this)}},{key:"setPseudorangeRateUncertaintyMetersPerSecond",value:function setPseudorangeRateUncertaintyMetersPerSecond(t){c.Struct.setFloat64(56,t,this)}},{key:"getAccumulatedDeltaRangeState",value:function getAccumulatedDeltaRangeState(){return c.Struct.getInt32(20,this)}},{key:"setAccumulatedDeltaRangeState",value:function setAccumulatedDeltaRangeState(t){c.Struct.setInt32(20,t,this)}},{key:"getAccumulatedDeltaRangeMeters",value:function getAccumulatedDeltaRangeMeters(){return c.Struct.getFloat64(64,this)}},{key:"setAccumulatedDeltaRangeMeters",value:function setAccumulatedDeltaRangeMeters(t){c.Struct.setFloat64(64,t,this)}},{key:"getAccumulatedDeltaRangeUncertaintyMeters",value:function getAccumulatedDeltaRangeUncertaintyMeters(){return c.Struct.getFloat64(72,this)}},{key:"setAccumulatedDeltaRangeUncertaintyMeters",value:function setAccumulatedDeltaRangeUncertaintyMeters(t){c.Struct.setFloat64(72,t,this)}},{key:"getHasCarrierFrequencyHz",value:function getHasCarrierFrequencyHz(){return c.Struct.getBit(48,this)}},{key:"setHasCarrierFrequencyHz",value:function setHasCarrierFrequencyHz(t){c.Struct.setBit(48,t,this)}},{key:"getCarrierFrequencyHz",value:function getCarrierFrequencyHz(){return c.Struct.getFloat32(80,this)}},{key:"setCarrierFrequencyHz",value:function setCarrierFrequencyHz(t){c.Struct.setFloat32(80,t,this)}},{key:"getHasCarrierCycles",value:function getHasCarrierCycles(){return c.Struct.getBit(49,this)}},{key:"setHasCarrierCycles",value:function setHasCarrierCycles(t){c.Struct.setBit(49,t,this)}},{key:"getCarrierCycles",value:function getCarrierCycles(){return c.Struct.getInt64(88,this)}},{key:"setCarrierCycles",value:function setCarrierCycles(t){c.Struct.setInt64(88,t,this)}},{key:"getHasCarrierPhase",value:function getHasCarrierPhase(){return c.Struct.getBit(50,this)}},{key:"setHasCarrierPhase",value:function setHasCarrierPhase(t){c.Struct.setBit(50,t,this)}},{key:"getCarrierPhase",value:function getCarrierPhase(){return c.Struct.getFloat64(96,this)}},{key:"setCarrierPhase",value:function setCarrierPhase(t){c.Struct.setFloat64(96,t,this)}},{key:"getHasCarrierPhaseUncertainty",value:function getHasCarrierPhaseUncertainty(){return c.Struct.getBit(51,this)}},{key:"setHasCarrierPhaseUncertainty",value:function setHasCarrierPhaseUncertainty(t){c.Struct.setBit(51,t,this)}},{key:"getCarrierPhaseUncertainty",value:function getCarrierPhaseUncertainty(){return c.Struct.getFloat64(104,this)}},{key:"setCarrierPhaseUncertainty",value:function setCarrierPhaseUncertainty(t){c.Struct.setFloat64(104,t,this)}},{key:"getHasSnrInDb",value:function getHasSnrInDb(){return c.Struct.getBit(52,this)}},{key:"setHasSnrInDb",value:function setHasSnrInDb(t){c.Struct.setBit(52,t,this)}},{key:"getSnrInDb",value:function getSnrInDb(){return c.Struct.getFloat64(112,this)}},{key:"setSnrInDb",value:function setSnrInDb(t){c.Struct.setFloat64(112,t,this)}},{key:"getMultipathIndicator",value:function getMultipathIndicator(){return c.Struct.getUint16(84,this)}},{key:"setMultipathIndicator",value:function setMultipathIndicator(t){c.Struct.setUint16(84,t,this)}},{key:"toString",value:function toString(){return"AndroidGnss_Measurements_Measurement_"+s(a(AndroidGnss_Measurements_Measurement.prototype),"toString",this).call(this)}}]),AndroidGnss_Measurements_Measurement}(c.Struct);J.Constellation=Y,J.State=X,J.MultipathIndicator=Z,J._capnp={displayName:"Measurement",id:"d949bf717d77614d",size:new c.ObjectSize(120,0)},e.AndroidGnss_Measurements_Measurement=J;var Q,tt=function(t){function AndroidGnss_Measurements(){return r(this,AndroidGnss_Measurements),o(this,a(AndroidGnss_Measurements).apply(this,arguments))}return u(AndroidGnss_Measurements,t),i(AndroidGnss_Measurements,[{key:"adoptClock",value:function adoptClock(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownClock",value:function disownClock(){return c.Struct.disown(this.getClock())}},{key:"getClock",value:function getClock(){return c.Struct.getStruct(0,$,this)}},{key:"hasClock",value:function hasClock(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initClock",value:function initClock(){return c.Struct.initStructAt(0,$,this)}},{key:"setClock",value:function setClock(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptMeasurements",value:function adoptMeasurements(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownMeasurements",value:function disownMeasurements(){return c.Struct.disown(this.getMeasurements())}},{key:"getMeasurements",value:function getMeasurements(){return c.Struct.getList(1,AndroidGnss_Measurements._Measurements,this)}},{key:"hasMeasurements",value:function hasMeasurements(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initMeasurements",value:function initMeasurements(t){return c.Struct.initList(1,AndroidGnss_Measurements._Measurements,t,this)}},{key:"setMeasurements",value:function setMeasurements(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"toString",value:function toString(){return"AndroidGnss_Measurements_"+s(a(AndroidGnss_Measurements.prototype),"toString",this).call(this)}}]),AndroidGnss_Measurements}(c.Struct);tt.Clock=$,tt.Measurement=J,tt._capnp={displayName:"Measurements",id:"a20710d4f428d6cd",size:new c.ObjectSize(0,2)},e.AndroidGnss_Measurements=tt,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.PARITY_PASSED=1]="PARITY_PASSED",t[t.PARITY_REBUILT=2]="PARITY_REBUILT"}(Q=e.AndroidGnss_NavigationMessage_Status||(e.AndroidGnss_NavigationMessage_Status={}));var et,nt=function(t){function AndroidGnss_NavigationMessage(){return r(this,AndroidGnss_NavigationMessage),o(this,a(AndroidGnss_NavigationMessage).apply(this,arguments))}return u(AndroidGnss_NavigationMessage,t),i(AndroidGnss_NavigationMessage,[{key:"getType",value:function getType(){return c.Struct.getInt32(0,this)}},{key:"setType",value:function setType(t){c.Struct.setInt32(0,t,this)}},{key:"getSvId",value:function getSvId(){return c.Struct.getInt32(4,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setInt32(4,t,this)}},{key:"getMessageId",value:function getMessageId(){return c.Struct.getInt32(8,this)}},{key:"setMessageId",value:function setMessageId(t){c.Struct.setInt32(8,t,this)}},{key:"getSubmessageId",value:function getSubmessageId(){return c.Struct.getInt32(12,this)}},{key:"setSubmessageId",value:function setSubmessageId(t){c.Struct.setInt32(12,t,this)}},{key:"adoptData",value:function adoptData(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownData",value:function disownData(){return c.Struct.disown(this.getData())}},{key:"getData",value:function getData(){return c.Struct.getData(0,this)}},{key:"hasData",value:function hasData(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initData",value:function initData(t){return c.Struct.initData(0,t,this)}},{key:"setData",value:function setData(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getStatus",value:function getStatus(){return c.Struct.getUint16(16,this)}},{key:"setStatus",value:function setStatus(t){c.Struct.setUint16(16,t,this)}},{key:"toString",value:function toString(){return"AndroidGnss_NavigationMessage_"+s(a(AndroidGnss_NavigationMessage.prototype),"toString",this).call(this)}}]),AndroidGnss_NavigationMessage}(c.Struct);nt.Status=Q,nt._capnp={displayName:"NavigationMessage",id:"e2517b083095fd4e",size:new c.ObjectSize(24,1)},e.AndroidGnss_NavigationMessage=nt,function(t){t[t.MEASUREMENTS=0]="MEASUREMENTS",t[t.NAVIGATION_MESSAGE=1]="NAVIGATION_MESSAGE"}(et=e.AndroidGnss_Which||(e.AndroidGnss_Which={}));var rt,it,ot=function(t){function AndroidGnss(){return r(this,AndroidGnss),o(this,a(AndroidGnss).apply(this,arguments))}return u(AndroidGnss,t),i(AndroidGnss,[{key:"adoptMeasurements",value:function adoptMeasurements(t){c.Struct.setUint16(0,0,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMeasurements",value:function disownMeasurements(){return c.Struct.disown(this.getMeasurements())}},{key:"getMeasurements",value:function getMeasurements(){return c.Struct.testWhich("measurements",c.Struct.getUint16(0,this),0,this),c.Struct.getStruct(0,tt,this)}},{key:"hasMeasurements",value:function hasMeasurements(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMeasurements",value:function initMeasurements(){return c.Struct.setUint16(0,0,this),c.Struct.initStructAt(0,tt,this)}},{key:"isMeasurements",value:function isMeasurements(){return 0===c.Struct.getUint16(0,this)}},{key:"setMeasurements",value:function setMeasurements(t){c.Struct.setUint16(0,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptNavigationMessage",value:function adoptNavigationMessage(t){c.Struct.setUint16(0,1,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownNavigationMessage",value:function disownNavigationMessage(){return c.Struct.disown(this.getNavigationMessage())}},{key:"getNavigationMessage",value:function getNavigationMessage(){return c.Struct.testWhich("navigationMessage",c.Struct.getUint16(0,this),1,this),c.Struct.getStruct(0,nt,this)}},{key:"hasNavigationMessage",value:function hasNavigationMessage(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initNavigationMessage",value:function initNavigationMessage(){return c.Struct.setUint16(0,1,this),c.Struct.initStructAt(0,nt,this)}},{key:"isNavigationMessage",value:function isNavigationMessage(){return 1===c.Struct.getUint16(0,this)}},{key:"setNavigationMessage",value:function setNavigationMessage(t){c.Struct.setUint16(0,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"AndroidGnss_"+s(a(AndroidGnss.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(0,this)}}]),AndroidGnss}(c.Struct);ot.MEASUREMENTS=et.MEASUREMENTS,ot.NAVIGATION_MESSAGE=et.NAVIGATION_MESSAGE,ot.Measurements=tt,ot.NavigationMessage=nt,ot._capnp={displayName:"AndroidGnss",id:"dfdf30d03fc485bd",size:new c.ObjectSize(8,1)},e.AndroidGnss=ot,function(t){t[t.GPS=0]="GPS",t[t.GLONASS=1]="GLONASS",t[t.BEIDOU=2]="BEIDOU"}(rt=e.QcomGnss_MeasurementSource||(e.QcomGnss_MeasurementSource={})),function(t){t[t.IDLE=0]="IDLE",t[t.SEARCH=1]="SEARCH",t[t.SEARCH_VERIFY=2]="SEARCH_VERIFY",t[t.BIT_EDGE=3]="BIT_EDGE",t[t.TRACK_VERIFY=4]="TRACK_VERIFY",t[t.TRACK=5]="TRACK",t[t.RESTART=6]="RESTART",t[t.DPO=7]="DPO",t[t.GLO10MS_BE=8]="GLO10MS_BE",t[t.GLO10MS_AT=9]="GLO10MS_AT"}(it=e.QcomGnss_SVObservationState||(e.QcomGnss_SVObservationState={}));var at=function(t){function QcomGnss_MeasurementStatus(){return r(this,QcomGnss_MeasurementStatus),o(this,a(QcomGnss_MeasurementStatus).apply(this,arguments))}return u(QcomGnss_MeasurementStatus,t),i(QcomGnss_MeasurementStatus,[{key:"getSubMillisecondIsValid",value:function getSubMillisecondIsValid(){return c.Struct.getBit(0,this)}},{key:"setSubMillisecondIsValid",value:function setSubMillisecondIsValid(t){c.Struct.setBit(0,t,this)}},{key:"getSubBitTimeIsKnown",value:function getSubBitTimeIsKnown(){return c.Struct.getBit(1,this)}},{key:"setSubBitTimeIsKnown",value:function setSubBitTimeIsKnown(t){c.Struct.setBit(1,t,this)}},{key:"getSatelliteTimeIsKnown",value:function getSatelliteTimeIsKnown(){return c.Struct.getBit(2,this)}},{key:"setSatelliteTimeIsKnown",value:function setSatelliteTimeIsKnown(t){c.Struct.setBit(2,t,this)}},{key:"getBitEdgeConfirmedFromSignal",value:function getBitEdgeConfirmedFromSignal(){return c.Struct.getBit(3,this)}},{key:"setBitEdgeConfirmedFromSignal",value:function setBitEdgeConfirmedFromSignal(t){c.Struct.setBit(3,t,this)}},{key:"getMeasuredVelocity",value:function getMeasuredVelocity(){return c.Struct.getBit(4,this)}},{key:"setMeasuredVelocity",value:function setMeasuredVelocity(t){c.Struct.setBit(4,t,this)}},{key:"getFineOrCoarseVelocity",value:function getFineOrCoarseVelocity(){return c.Struct.getBit(5,this)}},{key:"setFineOrCoarseVelocity",value:function setFineOrCoarseVelocity(t){c.Struct.setBit(5,t,this)}},{key:"getLockPointValid",value:function getLockPointValid(){return c.Struct.getBit(6,this)}},{key:"setLockPointValid",value:function setLockPointValid(t){c.Struct.setBit(6,t,this)}},{key:"getLockPointPositive",value:function getLockPointPositive(){return c.Struct.getBit(7,this)}},{key:"setLockPointPositive",value:function setLockPointPositive(t){c.Struct.setBit(7,t,this)}},{key:"getLastUpdateFromDifference",value:function getLastUpdateFromDifference(){return c.Struct.getBit(8,this)}},{key:"setLastUpdateFromDifference",value:function setLastUpdateFromDifference(t){c.Struct.setBit(8,t,this)}},{key:"getLastUpdateFromVelocityDifference",value:function getLastUpdateFromVelocityDifference(){return c.Struct.getBit(9,this)}},{key:"setLastUpdateFromVelocityDifference",value:function setLastUpdateFromVelocityDifference(t){c.Struct.setBit(9,t,this)}},{key:"getStrongIndicationOfCrossCorelation",value:function getStrongIndicationOfCrossCorelation(){return c.Struct.getBit(10,this)}},{key:"setStrongIndicationOfCrossCorelation",value:function setStrongIndicationOfCrossCorelation(t){c.Struct.setBit(10,t,this)}},{key:"getTentativeMeasurement",value:function getTentativeMeasurement(){return c.Struct.getBit(11,this)}},{key:"setTentativeMeasurement",value:function setTentativeMeasurement(t){c.Struct.setBit(11,t,this)}},{key:"getMeasurementNotUsable",value:function getMeasurementNotUsable(){return c.Struct.getBit(12,this)}},{key:"setMeasurementNotUsable",value:function setMeasurementNotUsable(t){c.Struct.setBit(12,t,this)}},{key:"getSirCheckIsNeeded",value:function getSirCheckIsNeeded(){return c.Struct.getBit(13,this)}},{key:"setSirCheckIsNeeded",value:function setSirCheckIsNeeded(t){c.Struct.setBit(13,t,this)}},{key:"getProbationMode",value:function getProbationMode(){return c.Struct.getBit(14,this)}},{key:"setProbationMode",value:function setProbationMode(t){c.Struct.setBit(14,t,this)}},{key:"getGlonassMeanderBitEdgeValid",value:function getGlonassMeanderBitEdgeValid(){return c.Struct.getBit(15,this)}},{key:"setGlonassMeanderBitEdgeValid",value:function setGlonassMeanderBitEdgeValid(t){c.Struct.setBit(15,t,this)}},{key:"getGlonassTimeMarkValid",value:function getGlonassTimeMarkValid(){return c.Struct.getBit(16,this)}},{key:"setGlonassTimeMarkValid",value:function setGlonassTimeMarkValid(t){c.Struct.setBit(16,t,this)}},{key:"getGpsRoundRobinRxDiversity",value:function getGpsRoundRobinRxDiversity(){return c.Struct.getBit(17,this)}},{key:"setGpsRoundRobinRxDiversity",value:function setGpsRoundRobinRxDiversity(t){c.Struct.setBit(17,t,this)}},{key:"getGpsRxDiversity",value:function getGpsRxDiversity(){return c.Struct.getBit(18,this)}},{key:"setGpsRxDiversity",value:function setGpsRxDiversity(t){c.Struct.setBit(18,t,this)}},{key:"getGpsLowBandwidthRxDiversityCombined",value:function getGpsLowBandwidthRxDiversityCombined(){return c.Struct.getBit(19,this)}},{key:"setGpsLowBandwidthRxDiversityCombined",value:function setGpsLowBandwidthRxDiversityCombined(t){c.Struct.setBit(19,t,this)}},{key:"getGpsHighBandwidthNu4",value:function getGpsHighBandwidthNu4(){return c.Struct.getBit(20,this)}},{key:"setGpsHighBandwidthNu4",value:function setGpsHighBandwidthNu4(t){c.Struct.setBit(20,t,this)}},{key:"getGpsHighBandwidthNu8",value:function getGpsHighBandwidthNu8(){return c.Struct.getBit(21,this)}},{key:"setGpsHighBandwidthNu8",value:function setGpsHighBandwidthNu8(t){c.Struct.setBit(21,t,this)}},{key:"getGpsHighBandwidthUniform",value:function getGpsHighBandwidthUniform(){return c.Struct.getBit(22,this)}},{key:"setGpsHighBandwidthUniform",value:function setGpsHighBandwidthUniform(t){c.Struct.setBit(22,t,this)}},{key:"getMultipathIndicator",value:function getMultipathIndicator(){return c.Struct.getBit(23,this)}},{key:"setMultipathIndicator",value:function setMultipathIndicator(t){c.Struct.setBit(23,t,this)}},{key:"getImdJammingIndicator",value:function getImdJammingIndicator(){return c.Struct.getBit(24,this)}},{key:"setImdJammingIndicator",value:function setImdJammingIndicator(t){c.Struct.setBit(24,t,this)}},{key:"getLteB13TxJammingIndicator",value:function getLteB13TxJammingIndicator(){return c.Struct.getBit(25,this)}},{key:"setLteB13TxJammingIndicator",value:function setLteB13TxJammingIndicator(t){c.Struct.setBit(25,t,this)}},{key:"getFreshMeasurementIndicator",value:function getFreshMeasurementIndicator(){return c.Struct.getBit(26,this)}},{key:"setFreshMeasurementIndicator",value:function setFreshMeasurementIndicator(t){c.Struct.setBit(26,t,this)}},{key:"getMultipathEstimateIsValid",value:function getMultipathEstimateIsValid(){return c.Struct.getBit(27,this)}},{key:"setMultipathEstimateIsValid",value:function setMultipathEstimateIsValid(t){c.Struct.setBit(27,t,this)}},{key:"getDirectionIsValid",value:function getDirectionIsValid(){return c.Struct.getBit(28,this)}},{key:"setDirectionIsValid",value:function setDirectionIsValid(t){c.Struct.setBit(28,t,this)}},{key:"toString",value:function toString(){return"QcomGnss_MeasurementStatus_"+s(a(QcomGnss_MeasurementStatus.prototype),"toString",this).call(this)}}]),QcomGnss_MeasurementStatus}(c.Struct);at._capnp={displayName:"MeasurementStatus",id:"e501010e1bcae83b",size:new c.ObjectSize(8,0)},e.QcomGnss_MeasurementStatus=at;var st=function(t){function QcomGnss_MeasurementReport_SV(){return r(this,QcomGnss_MeasurementReport_SV),o(this,a(QcomGnss_MeasurementReport_SV).apply(this,arguments))}return u(QcomGnss_MeasurementReport_SV,t),i(QcomGnss_MeasurementReport_SV,[{key:"getSvId",value:function getSvId(){return c.Struct.getUint8(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setUint8(0,t,this)}},{key:"getObservationState",value:function getObservationState(){return c.Struct.getUint16(2,this)}},{key:"setObservationState",value:function setObservationState(t){c.Struct.setUint16(2,t,this)}},{key:"getObservations",value:function getObservations(){return c.Struct.getUint8(4,this)}},{key:"setObservations",value:function setObservations(t){c.Struct.setUint8(4,t,this)}},{key:"getGoodObservations",value:function getGoodObservations(){return c.Struct.getUint8(5,this)}},{key:"setGoodObservations",value:function setGoodObservations(t){c.Struct.setUint8(5,t,this)}},{key:"getGpsParityErrorCount",value:function getGpsParityErrorCount(){return c.Struct.getUint16(6,this)}},{key:"setGpsParityErrorCount",value:function setGpsParityErrorCount(t){c.Struct.setUint16(6,t,this)}},{key:"getGlonassFrequencyIndex",value:function getGlonassFrequencyIndex(){return c.Struct.getInt8(1,this)}},{key:"setGlonassFrequencyIndex",value:function setGlonassFrequencyIndex(t){c.Struct.setInt8(1,t,this)}},{key:"getGlonassHemmingErrorCount",value:function getGlonassHemmingErrorCount(){return c.Struct.getUint8(8,this)}},{key:"setGlonassHemmingErrorCount",value:function setGlonassHemmingErrorCount(t){c.Struct.setUint8(8,t,this)}},{key:"getFilterStages",value:function getFilterStages(){return c.Struct.getUint8(9,this)}},{key:"setFilterStages",value:function setFilterStages(t){c.Struct.setUint8(9,t,this)}},{key:"getCarrierNoise",value:function getCarrierNoise(){return c.Struct.getUint16(10,this)}},{key:"setCarrierNoise",value:function setCarrierNoise(t){c.Struct.setUint16(10,t,this)}},{key:"getLatency",value:function getLatency(){return c.Struct.getInt16(12,this)}},{key:"setLatency",value:function setLatency(t){c.Struct.setInt16(12,t,this)}},{key:"getPredetectInterval",value:function getPredetectInterval(){return c.Struct.getUint8(14,this)}},{key:"setPredetectInterval",value:function setPredetectInterval(t){c.Struct.setUint8(14,t,this)}},{key:"getPostdetections",value:function getPostdetections(){return c.Struct.getUint16(16,this)}},{key:"setPostdetections",value:function setPostdetections(t){c.Struct.setUint16(16,t,this)}},{key:"getUnfilteredMeasurementIntegral",value:function getUnfilteredMeasurementIntegral(){return c.Struct.getUint32(20,this)}},{key:"setUnfilteredMeasurementIntegral",value:function setUnfilteredMeasurementIntegral(t){c.Struct.setUint32(20,t,this)}},{key:"getUnfilteredMeasurementFraction",value:function getUnfilteredMeasurementFraction(){return c.Struct.getFloat32(24,this)}},{key:"setUnfilteredMeasurementFraction",value:function setUnfilteredMeasurementFraction(t){c.Struct.setFloat32(24,t,this)}},{key:"getUnfilteredTimeUncertainty",value:function getUnfilteredTimeUncertainty(){return c.Struct.getFloat32(28,this)}},{key:"setUnfilteredTimeUncertainty",value:function setUnfilteredTimeUncertainty(t){c.Struct.setFloat32(28,t,this)}},{key:"getUnfilteredSpeed",value:function getUnfilteredSpeed(){return c.Struct.getFloat32(32,this)}},{key:"setUnfilteredSpeed",value:function setUnfilteredSpeed(t){c.Struct.setFloat32(32,t,this)}},{key:"getUnfilteredSpeedUncertainty",value:function getUnfilteredSpeedUncertainty(){return c.Struct.getFloat32(36,this)}},{key:"setUnfilteredSpeedUncertainty",value:function setUnfilteredSpeedUncertainty(t){c.Struct.setFloat32(36,t,this)}},{key:"adoptMeasurementStatus",value:function adoptMeasurementStatus(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMeasurementStatus",value:function disownMeasurementStatus(){return c.Struct.disown(this.getMeasurementStatus())}},{key:"getMeasurementStatus",value:function getMeasurementStatus(){return c.Struct.getStruct(0,at,this)}},{key:"hasMeasurementStatus",value:function hasMeasurementStatus(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMeasurementStatus",value:function initMeasurementStatus(){return c.Struct.initStructAt(0,at,this)}},{key:"setMeasurementStatus",value:function setMeasurementStatus(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getMultipathEstimate",value:function getMultipathEstimate(){return c.Struct.getUint32(40,this)}},{key:"setMultipathEstimate",value:function setMultipathEstimate(t){c.Struct.setUint32(40,t,this)}},{key:"getAzimuth",value:function getAzimuth(){return c.Struct.getFloat32(44,this)}},{key:"setAzimuth",value:function setAzimuth(t){c.Struct.setFloat32(44,t,this)}},{key:"getElevation",value:function getElevation(){return c.Struct.getFloat32(48,this)}},{key:"setElevation",value:function setElevation(t){c.Struct.setFloat32(48,t,this)}},{key:"getCarrierPhaseCyclesIntegral",value:function getCarrierPhaseCyclesIntegral(){return c.Struct.getInt32(52,this)}},{key:"setCarrierPhaseCyclesIntegral",value:function setCarrierPhaseCyclesIntegral(t){c.Struct.setInt32(52,t,this)}},{key:"getCarrierPhaseCyclesFraction",value:function getCarrierPhaseCyclesFraction(){return c.Struct.getUint16(18,this)}},{key:"setCarrierPhaseCyclesFraction",value:function setCarrierPhaseCyclesFraction(t){c.Struct.setUint16(18,t,this)}},{key:"getFineSpeed",value:function getFineSpeed(){return c.Struct.getFloat32(56,this)}},{key:"setFineSpeed",value:function setFineSpeed(t){c.Struct.setFloat32(56,t,this)}},{key:"getFineSpeedUncertainty",value:function getFineSpeedUncertainty(){return c.Struct.getFloat32(60,this)}},{key:"setFineSpeedUncertainty",value:function setFineSpeedUncertainty(t){c.Struct.setFloat32(60,t,this)}},{key:"getCycleSlipCount",value:function getCycleSlipCount(){return c.Struct.getUint8(15,this)}},{key:"setCycleSlipCount",value:function setCycleSlipCount(t){c.Struct.setUint8(15,t,this)}},{key:"toString",value:function toString(){return"QcomGnss_MeasurementReport_SV_"+s(a(QcomGnss_MeasurementReport_SV.prototype),"toString",this).call(this)}}]),QcomGnss_MeasurementReport_SV}(c.Struct);st._capnp={displayName:"SV",id:"f10c595ae7bb2c27",size:new c.ObjectSize(64,1)},e.QcomGnss_MeasurementReport_SV=st;var ut=function(t){function QcomGnss_MeasurementReport(){return r(this,QcomGnss_MeasurementReport),o(this,a(QcomGnss_MeasurementReport).apply(this,arguments))}return u(QcomGnss_MeasurementReport,t),i(QcomGnss_MeasurementReport,[{key:"getSource",value:function getSource(){return c.Struct.getUint16(0,this)}},{key:"setSource",value:function setSource(t){c.Struct.setUint16(0,t,this)}},{key:"getFCount",value:function getFCount(){return c.Struct.getUint32(4,this)}},{key:"setFCount",value:function setFCount(t){c.Struct.setUint32(4,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getUint16(2,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setUint16(2,t,this)}},{key:"getGlonassCycleNumber",value:function getGlonassCycleNumber(){return c.Struct.getUint8(8,this)}},{key:"setGlonassCycleNumber",value:function setGlonassCycleNumber(t){c.Struct.setUint8(8,t,this)}},{key:"getGlonassNumberOfDays",value:function getGlonassNumberOfDays(){return c.Struct.getUint16(10,this)}},{key:"setGlonassNumberOfDays",value:function setGlonassNumberOfDays(t){c.Struct.setUint16(10,t,this)}},{key:"getMilliseconds",value:function getMilliseconds(){return c.Struct.getUint32(12,this)}},{key:"setMilliseconds",value:function setMilliseconds(t){c.Struct.setUint32(12,t,this)}},{key:"getTimeBias",value:function getTimeBias(){return c.Struct.getFloat32(16,this)}},{key:"setTimeBias",value:function setTimeBias(t){c.Struct.setFloat32(16,t,this)}},{key:"getClockTimeUncertainty",value:function getClockTimeUncertainty(){return c.Struct.getFloat32(20,this)}},{key:"setClockTimeUncertainty",value:function setClockTimeUncertainty(t){c.Struct.setFloat32(20,t,this)}},{key:"getClockFrequencyBias",value:function getClockFrequencyBias(){return c.Struct.getFloat32(24,this)}},{key:"setClockFrequencyBias",value:function setClockFrequencyBias(t){c.Struct.setFloat32(24,t,this)}},{key:"getClockFrequencyUncertainty",value:function getClockFrequencyUncertainty(){return c.Struct.getFloat32(28,this)}},{key:"setClockFrequencyUncertainty",value:function setClockFrequencyUncertainty(t){c.Struct.setFloat32(28,t,this)}},{key:"adoptSv",value:function adoptSv(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSv",value:function disownSv(){return c.Struct.disown(this.getSv())}},{key:"getSv",value:function getSv(){return c.Struct.getList(0,QcomGnss_MeasurementReport._Sv,this)}},{key:"hasSv",value:function hasSv(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSv",value:function initSv(t){return c.Struct.initList(0,QcomGnss_MeasurementReport._Sv,t,this)}},{key:"setSv",value:function setSv(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"QcomGnss_MeasurementReport_"+s(a(QcomGnss_MeasurementReport.prototype),"toString",this).call(this)}}]),QcomGnss_MeasurementReport}(c.Struct);ut.SV=st,ut._capnp={displayName:"MeasurementReport",id:"f580d7d86b7b8692",size:new c.ObjectSize(32,1)},e.QcomGnss_MeasurementReport=ut;var lt=function(t){function QcomGnss_ClockReport(){return r(this,QcomGnss_ClockReport),o(this,a(QcomGnss_ClockReport).apply(this,arguments))}return u(QcomGnss_ClockReport,t),i(QcomGnss_ClockReport,[{key:"getHasFCount",value:function getHasFCount(){return c.Struct.getBit(0,this)}},{key:"setHasFCount",value:function setHasFCount(t){c.Struct.setBit(0,t,this)}},{key:"getFCount",value:function getFCount(){return c.Struct.getUint32(4,this)}},{key:"setFCount",value:function setFCount(t){c.Struct.setUint32(4,t,this)}},{key:"getHasGpsWeek",value:function getHasGpsWeek(){return c.Struct.getBit(1,this)}},{key:"setHasGpsWeek",value:function setHasGpsWeek(t){c.Struct.setBit(1,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getUint16(2,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setUint16(2,t,this)}},{key:"getHasGpsMilliseconds",value:function getHasGpsMilliseconds(){return c.Struct.getBit(2,this)}},{key:"setHasGpsMilliseconds",value:function setHasGpsMilliseconds(t){c.Struct.setBit(2,t,this)}},{key:"getGpsMilliseconds",value:function getGpsMilliseconds(){return c.Struct.getUint32(8,this)}},{key:"setGpsMilliseconds",value:function setGpsMilliseconds(t){c.Struct.setUint32(8,t,this)}},{key:"getGpsTimeBias",value:function getGpsTimeBias(){return c.Struct.getFloat32(12,this)}},{key:"setGpsTimeBias",value:function setGpsTimeBias(t){c.Struct.setFloat32(12,t,this)}},{key:"getGpsClockTimeUncertainty",value:function getGpsClockTimeUncertainty(){return c.Struct.getFloat32(16,this)}},{key:"setGpsClockTimeUncertainty",value:function setGpsClockTimeUncertainty(t){c.Struct.setFloat32(16,t,this)}},{key:"getGpsClockSource",value:function getGpsClockSource(){return c.Struct.getUint8(1,this)}},{key:"setGpsClockSource",value:function setGpsClockSource(t){c.Struct.setUint8(1,t,this)}},{key:"getHasGlonassYear",value:function getHasGlonassYear(){return c.Struct.getBit(3,this)}},{key:"setHasGlonassYear",value:function setHasGlonassYear(t){c.Struct.setBit(3,t,this)}},{key:"getGlonassYear",value:function getGlonassYear(){return c.Struct.getUint8(20,this)}},{key:"setGlonassYear",value:function setGlonassYear(t){c.Struct.setUint8(20,t,this)}},{key:"getHasGlonassDay",value:function getHasGlonassDay(){return c.Struct.getBit(4,this)}},{key:"setHasGlonassDay",value:function setHasGlonassDay(t){c.Struct.setBit(4,t,this)}},{key:"getGlonassDay",value:function getGlonassDay(){return c.Struct.getUint16(22,this)}},{key:"setGlonassDay",value:function setGlonassDay(t){c.Struct.setUint16(22,t,this)}},{key:"getHasGlonassMilliseconds",value:function getHasGlonassMilliseconds(){return c.Struct.getBit(5,this)}},{key:"setHasGlonassMilliseconds",value:function setHasGlonassMilliseconds(t){c.Struct.setBit(5,t,this)}},{key:"getGlonassMilliseconds",value:function getGlonassMilliseconds(){return c.Struct.getUint32(24,this)}},{key:"setGlonassMilliseconds",value:function setGlonassMilliseconds(t){c.Struct.setUint32(24,t,this)}},{key:"getGlonassTimeBias",value:function getGlonassTimeBias(){return c.Struct.getFloat32(28,this)}},{key:"setGlonassTimeBias",value:function setGlonassTimeBias(t){c.Struct.setFloat32(28,t,this)}},{key:"getGlonassClockTimeUncertainty",value:function getGlonassClockTimeUncertainty(){return c.Struct.getFloat32(32,this)}},{key:"setGlonassClockTimeUncertainty",value:function setGlonassClockTimeUncertainty(t){c.Struct.setFloat32(32,t,this)}},{key:"getGlonassClockSource",value:function getGlonassClockSource(){return c.Struct.getUint8(21,this)}},{key:"setGlonassClockSource",value:function setGlonassClockSource(t){c.Struct.setUint8(21,t,this)}},{key:"getBdsWeek",value:function getBdsWeek(){return c.Struct.getUint16(36,this)}},{key:"setBdsWeek",value:function setBdsWeek(t){c.Struct.setUint16(36,t,this)}},{key:"getBdsMilliseconds",value:function getBdsMilliseconds(){return c.Struct.getUint32(40,this)}},{key:"setBdsMilliseconds",value:function setBdsMilliseconds(t){c.Struct.setUint32(40,t,this)}},{key:"getBdsTimeBias",value:function getBdsTimeBias(){return c.Struct.getFloat32(44,this)}},{key:"setBdsTimeBias",value:function setBdsTimeBias(t){c.Struct.setFloat32(44,t,this)}},{key:"getBdsClockTimeUncertainty",value:function getBdsClockTimeUncertainty(){return c.Struct.getFloat32(48,this)}},{key:"setBdsClockTimeUncertainty",value:function setBdsClockTimeUncertainty(t){c.Struct.setFloat32(48,t,this)}},{key:"getBdsClockSource",value:function getBdsClockSource(){return c.Struct.getUint8(38,this)}},{key:"setBdsClockSource",value:function setBdsClockSource(t){c.Struct.setUint8(38,t,this)}},{key:"getGalWeek",value:function getGalWeek(){return c.Struct.getUint16(52,this)}},{key:"setGalWeek",value:function setGalWeek(t){c.Struct.setUint16(52,t,this)}},{key:"getGalMilliseconds",value:function getGalMilliseconds(){return c.Struct.getUint32(56,this)}},{key:"setGalMilliseconds",value:function setGalMilliseconds(t){c.Struct.setUint32(56,t,this)}},{key:"getGalTimeBias",value:function getGalTimeBias(){return c.Struct.getFloat32(60,this)}},{key:"setGalTimeBias",value:function setGalTimeBias(t){c.Struct.setFloat32(60,t,this)}},{key:"getGalClockTimeUncertainty",value:function getGalClockTimeUncertainty(){return c.Struct.getFloat32(64,this)}},{key:"setGalClockTimeUncertainty",value:function setGalClockTimeUncertainty(t){c.Struct.setFloat32(64,t,this)}},{key:"getGalClockSource",value:function getGalClockSource(){return c.Struct.getUint8(39,this)}},{key:"setGalClockSource",value:function setGalClockSource(t){c.Struct.setUint8(39,t,this)}},{key:"getClockFrequencyBias",value:function getClockFrequencyBias(){return c.Struct.getFloat32(68,this)}},{key:"setClockFrequencyBias",value:function setClockFrequencyBias(t){c.Struct.setFloat32(68,t,this)}},{key:"getClockFrequencyUncertainty",value:function getClockFrequencyUncertainty(){return c.Struct.getFloat32(72,this)}},{key:"setClockFrequencyUncertainty",value:function setClockFrequencyUncertainty(t){c.Struct.setFloat32(72,t,this)}},{key:"getFrequencySource",value:function getFrequencySource(){return c.Struct.getUint8(54,this)}},{key:"setFrequencySource",value:function setFrequencySource(t){c.Struct.setUint8(54,t,this)}},{key:"getGpsLeapSeconds",value:function getGpsLeapSeconds(){return c.Struct.getUint8(55,this)}},{key:"setGpsLeapSeconds",value:function setGpsLeapSeconds(t){c.Struct.setUint8(55,t,this)}},{key:"getGpsLeapSecondsUncertainty",value:function getGpsLeapSecondsUncertainty(){return c.Struct.getUint8(76,this)}},{key:"setGpsLeapSecondsUncertainty",value:function setGpsLeapSecondsUncertainty(t){c.Struct.setUint8(76,t,this)}},{key:"getGpsLeapSecondsSource",value:function getGpsLeapSecondsSource(){return c.Struct.getUint8(77,this)}},{key:"setGpsLeapSecondsSource",value:function setGpsLeapSecondsSource(t){c.Struct.setUint8(77,t,this)}},{key:"getGpsToGlonassTimeBiasMilliseconds",value:function getGpsToGlonassTimeBiasMilliseconds(){return c.Struct.getFloat32(80,this)}},{key:"setGpsToGlonassTimeBiasMilliseconds",value:function setGpsToGlonassTimeBiasMilliseconds(t){c.Struct.setFloat32(80,t,this)}},{key:"getGpsToGlonassTimeBiasMillisecondsUncertainty",value:function getGpsToGlonassTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(84,this)}},{key:"setGpsToGlonassTimeBiasMillisecondsUncertainty",value:function setGpsToGlonassTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(84,t,this)}},{key:"getGpsToBdsTimeBiasMilliseconds",value:function getGpsToBdsTimeBiasMilliseconds(){return c.Struct.getFloat32(88,this)}},{key:"setGpsToBdsTimeBiasMilliseconds",value:function setGpsToBdsTimeBiasMilliseconds(t){c.Struct.setFloat32(88,t,this)}},{key:"getGpsToBdsTimeBiasMillisecondsUncertainty",value:function getGpsToBdsTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(92,this)}},{key:"setGpsToBdsTimeBiasMillisecondsUncertainty",value:function setGpsToBdsTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(92,t,this)}},{key:"getBdsToGloTimeBiasMilliseconds",value:function getBdsToGloTimeBiasMilliseconds(){return c.Struct.getFloat32(96,this)}},{key:"setBdsToGloTimeBiasMilliseconds",value:function setBdsToGloTimeBiasMilliseconds(t){c.Struct.setFloat32(96,t,this)}},{key:"getBdsToGloTimeBiasMillisecondsUncertainty",value:function getBdsToGloTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(100,this)}},{key:"setBdsToGloTimeBiasMillisecondsUncertainty",value:function setBdsToGloTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(100,t,this)}},{key:"getGpsToGalTimeBiasMilliseconds",value:function getGpsToGalTimeBiasMilliseconds(){return c.Struct.getFloat32(104,this)}},{key:"setGpsToGalTimeBiasMilliseconds",value:function setGpsToGalTimeBiasMilliseconds(t){c.Struct.setFloat32(104,t,this)}},{key:"getGpsToGalTimeBiasMillisecondsUncertainty",value:function getGpsToGalTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(108,this)}},{key:"setGpsToGalTimeBiasMillisecondsUncertainty",value:function setGpsToGalTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(108,t,this)}},{key:"getGalToGloTimeBiasMilliseconds",value:function getGalToGloTimeBiasMilliseconds(){return c.Struct.getFloat32(112,this)}},{key:"setGalToGloTimeBiasMilliseconds",value:function setGalToGloTimeBiasMilliseconds(t){c.Struct.setFloat32(112,t,this)}},{key:"getGalToGloTimeBiasMillisecondsUncertainty",value:function getGalToGloTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(116,this)}},{key:"setGalToGloTimeBiasMillisecondsUncertainty",value:function setGalToGloTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(116,t,this)}},{key:"getGalToBdsTimeBiasMilliseconds",value:function getGalToBdsTimeBiasMilliseconds(){return c.Struct.getFloat32(120,this)}},{key:"setGalToBdsTimeBiasMilliseconds",value:function setGalToBdsTimeBiasMilliseconds(t){c.Struct.setFloat32(120,t,this)}},{key:"getGalToBdsTimeBiasMillisecondsUncertainty",value:function getGalToBdsTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(124,this)}},{key:"setGalToBdsTimeBiasMillisecondsUncertainty",value:function setGalToBdsTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(124,t,this)}},{key:"getHasRtcTime",value:function getHasRtcTime(){return c.Struct.getBit(6,this)}},{key:"setHasRtcTime",value:function setHasRtcTime(t){c.Struct.setBit(6,t,this)}},{key:"getSystemRtcTime",value:function getSystemRtcTime(){return c.Struct.getUint32(128,this)}},{key:"setSystemRtcTime",value:function setSystemRtcTime(t){c.Struct.setUint32(128,t,this)}},{key:"getFCountOffset",value:function getFCountOffset(){return c.Struct.getUint32(132,this)}},{key:"setFCountOffset",value:function setFCountOffset(t){c.Struct.setUint32(132,t,this)}},{key:"getLpmRtcCount",value:function getLpmRtcCount(){return c.Struct.getUint32(136,this)}},{key:"setLpmRtcCount",value:function setLpmRtcCount(t){c.Struct.setUint32(136,t,this)}},{key:"getClockResets",value:function getClockResets(){return c.Struct.getUint32(140,this)}},{key:"setClockResets",value:function setClockResets(t){c.Struct.setUint32(140,t,this)}},{key:"toString",value:function toString(){return"QcomGnss_ClockReport_"+s(a(QcomGnss_ClockReport.prototype),"toString",this).call(this)}}]),QcomGnss_ClockReport}(c.Struct);lt._capnp={displayName:"ClockReport",id:"ca965e4add8f4f0b",size:new c.ObjectSize(144,0)},e.QcomGnss_ClockReport=lt;var ct=function(t){function QcomGnss_DrMeasurementReport_SV(){return r(this,QcomGnss_DrMeasurementReport_SV),o(this,a(QcomGnss_DrMeasurementReport_SV).apply(this,arguments))}return u(QcomGnss_DrMeasurementReport_SV,t),i(QcomGnss_DrMeasurementReport_SV,[{key:"getSvId",value:function getSvId(){return c.Struct.getUint8(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setUint8(0,t,this)}},{key:"getGlonassFrequencyIndex",value:function getGlonassFrequencyIndex(){return c.Struct.getInt8(1,this)}},{key:"setGlonassFrequencyIndex",value:function setGlonassFrequencyIndex(t){c.Struct.setInt8(1,t,this)}},{key:"getObservationState",value:function getObservationState(){return c.Struct.getUint16(2,this)}},{key:"setObservationState",value:function setObservationState(t){c.Struct.setUint16(2,t,this)}},{key:"getObservations",value:function getObservations(){return c.Struct.getUint8(4,this)}},{key:"setObservations",value:function setObservations(t){c.Struct.setUint8(4,t,this)}},{key:"getGoodObservations",value:function getGoodObservations(){return c.Struct.getUint8(5,this)}},{key:"setGoodObservations",value:function setGoodObservations(t){c.Struct.setUint8(5,t,this)}},{key:"getFilterStages",value:function getFilterStages(){return c.Struct.getUint8(6,this)}},{key:"setFilterStages",value:function setFilterStages(t){c.Struct.setUint8(6,t,this)}},{key:"getPredetectInterval",value:function getPredetectInterval(){return c.Struct.getUint8(7,this)}},{key:"setPredetectInterval",value:function setPredetectInterval(t){c.Struct.setUint8(7,t,this)}},{key:"getCycleSlipCount",value:function getCycleSlipCount(){return c.Struct.getUint8(8,this)}},{key:"setCycleSlipCount",value:function setCycleSlipCount(t){c.Struct.setUint8(8,t,this)}},{key:"getPostdetections",value:function getPostdetections(){return c.Struct.getUint16(10,this)}},{key:"setPostdetections",value:function setPostdetections(t){c.Struct.setUint16(10,t,this)}},{key:"adoptMeasurementStatus",value:function adoptMeasurementStatus(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMeasurementStatus",value:function disownMeasurementStatus(){return c.Struct.disown(this.getMeasurementStatus())}},{key:"getMeasurementStatus",value:function getMeasurementStatus(){return c.Struct.getStruct(0,at,this)}},{key:"hasMeasurementStatus",value:function hasMeasurementStatus(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMeasurementStatus",value:function initMeasurementStatus(){return c.Struct.initStructAt(0,at,this)}},{key:"setMeasurementStatus",value:function setMeasurementStatus(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"getCarrierNoise",value:function getCarrierNoise(){return c.Struct.getUint16(12,this)}},{key:"setCarrierNoise",value:function setCarrierNoise(t){c.Struct.setUint16(12,t,this)}},{key:"getRfLoss",value:function getRfLoss(){return c.Struct.getUint16(14,this)}},{key:"setRfLoss",value:function setRfLoss(t){c.Struct.setUint16(14,t,this)}},{key:"getLatency",value:function getLatency(){return c.Struct.getInt16(16,this)}},{key:"setLatency",value:function setLatency(t){c.Struct.setInt16(16,t,this)}},{key:"getFilteredMeasurementFraction",value:function getFilteredMeasurementFraction(){return c.Struct.getFloat32(20,this)}},{key:"setFilteredMeasurementFraction",value:function setFilteredMeasurementFraction(t){c.Struct.setFloat32(20,t,this)}},{key:"getFilteredMeasurementIntegral",value:function getFilteredMeasurementIntegral(){return c.Struct.getUint32(24,this)}},{key:"setFilteredMeasurementIntegral",value:function setFilteredMeasurementIntegral(t){c.Struct.setUint32(24,t,this)}},{key:"getFilteredTimeUncertainty",value:function getFilteredTimeUncertainty(){return c.Struct.getFloat32(28,this)}},{key:"setFilteredTimeUncertainty",value:function setFilteredTimeUncertainty(t){c.Struct.setFloat32(28,t,this)}},{key:"getFilteredSpeed",value:function getFilteredSpeed(){return c.Struct.getFloat32(32,this)}},{key:"setFilteredSpeed",value:function setFilteredSpeed(t){c.Struct.setFloat32(32,t,this)}},{key:"getFilteredSpeedUncertainty",value:function getFilteredSpeedUncertainty(){return c.Struct.getFloat32(36,this)}},{key:"setFilteredSpeedUncertainty",value:function setFilteredSpeedUncertainty(t){c.Struct.setFloat32(36,t,this)}},{key:"getUnfilteredMeasurementFraction",value:function getUnfilteredMeasurementFraction(){return c.Struct.getFloat32(40,this)}},{key:"setUnfilteredMeasurementFraction",value:function setUnfilteredMeasurementFraction(t){c.Struct.setFloat32(40,t,this)}},{key:"getUnfilteredMeasurementIntegral",value:function getUnfilteredMeasurementIntegral(){return c.Struct.getUint32(44,this)}},{key:"setUnfilteredMeasurementIntegral",value:function setUnfilteredMeasurementIntegral(t){c.Struct.setUint32(44,t,this)}},{key:"getUnfilteredTimeUncertainty",value:function getUnfilteredTimeUncertainty(){return c.Struct.getFloat32(48,this)}},{key:"setUnfilteredTimeUncertainty",value:function setUnfilteredTimeUncertainty(t){c.Struct.setFloat32(48,t,this)}},{key:"getUnfilteredSpeed",value:function getUnfilteredSpeed(){return c.Struct.getFloat32(52,this)}},{key:"setUnfilteredSpeed",value:function setUnfilteredSpeed(t){c.Struct.setFloat32(52,t,this)}},{key:"getUnfilteredSpeedUncertainty",value:function getUnfilteredSpeedUncertainty(){return c.Struct.getFloat32(56,this)}},{key:"setUnfilteredSpeedUncertainty",value:function setUnfilteredSpeedUncertainty(t){c.Struct.setFloat32(56,t,this)}},{key:"getMultipathEstimate",value:function getMultipathEstimate(){return c.Struct.getUint32(60,this)}},{key:"setMultipathEstimate",value:function setMultipathEstimate(t){c.Struct.setUint32(60,t,this)}},{key:"getAzimuth",value:function getAzimuth(){return c.Struct.getFloat32(64,this)}},{key:"setAzimuth",value:function setAzimuth(t){c.Struct.setFloat32(64,t,this)}},{key:"getElevation",value:function getElevation(){return c.Struct.getFloat32(68,this)}},{key:"setElevation",value:function setElevation(t){c.Struct.setFloat32(68,t,this)}},{key:"getDopplerAcceleration",value:function getDopplerAcceleration(){return c.Struct.getFloat32(72,this)}},{key:"setDopplerAcceleration",value:function setDopplerAcceleration(t){c.Struct.setFloat32(72,t,this)}},{key:"getFineSpeed",value:function getFineSpeed(){return c.Struct.getFloat32(76,this)}},{key:"setFineSpeed",value:function setFineSpeed(t){c.Struct.setFloat32(76,t,this)}},{key:"getFineSpeedUncertainty",value:function getFineSpeedUncertainty(){return c.Struct.getFloat32(80,this)}},{key:"setFineSpeedUncertainty",value:function setFineSpeedUncertainty(t){c.Struct.setFloat32(80,t,this)}},{key:"getCarrierPhase",value:function getCarrierPhase(){return c.Struct.getFloat64(88,this)}},{key:"setCarrierPhase",value:function setCarrierPhase(t){c.Struct.setFloat64(88,t,this)}},{key:"getFCount",value:function getFCount(){return c.Struct.getUint32(84,this)}},{key:"setFCount",value:function setFCount(t){c.Struct.setUint32(84,t,this)}},{key:"getParityErrorCount",value:function getParityErrorCount(){return c.Struct.getUint16(18,this)}},{key:"setParityErrorCount",value:function setParityErrorCount(t){c.Struct.setUint16(18,t,this)}},{key:"getGoodParity",value:function getGoodParity(){return c.Struct.getBit(72,this)}},{key:"setGoodParity",value:function setGoodParity(t){c.Struct.setBit(72,t,this)}},{key:"toString",value:function toString(){return"QcomGnss_DrMeasurementReport_SV_"+s(a(QcomGnss_DrMeasurementReport_SV.prototype),"toString",this).call(this)}}]),QcomGnss_DrMeasurementReport_SV}(c.Struct);ct._capnp={displayName:"SV",id:"f08b81df8cbf459c",size:new c.ObjectSize(96,1)},e.QcomGnss_DrMeasurementReport_SV=ct;var ft=function(t){function QcomGnss_DrMeasurementReport(){return r(this,QcomGnss_DrMeasurementReport),o(this,a(QcomGnss_DrMeasurementReport).apply(this,arguments))}return u(QcomGnss_DrMeasurementReport,t),i(QcomGnss_DrMeasurementReport,[{key:"getReason",value:function getReason(){return c.Struct.getUint8(0,this)}},{key:"setReason",value:function setReason(t){c.Struct.setUint8(0,t,this)}},{key:"getSeqNum",value:function getSeqNum(){return c.Struct.getUint8(1,this)}},{key:"setSeqNum",value:function setSeqNum(t){c.Struct.setUint8(1,t,this)}},{key:"getSeqMax",value:function getSeqMax(){return c.Struct.getUint8(2,this)}},{key:"setSeqMax",value:function setSeqMax(t){c.Struct.setUint8(2,t,this)}},{key:"getRfLoss",value:function getRfLoss(){return c.Struct.getUint16(4,this)}},{key:"setRfLoss",value:function setRfLoss(t){c.Struct.setUint16(4,t,this)}},{key:"getSystemRtcValid",value:function getSystemRtcValid(){return c.Struct.getBit(24,this)}},{key:"setSystemRtcValid",value:function setSystemRtcValid(t){c.Struct.setBit(24,t,this)}},{key:"getFCount",value:function getFCount(){return c.Struct.getUint32(8,this)}},{key:"setFCount",value:function setFCount(t){c.Struct.setUint32(8,t,this)}},{key:"getClockResets",value:function getClockResets(){return c.Struct.getUint32(12,this)}},{key:"setClockResets",value:function setClockResets(t){c.Struct.setUint32(12,t,this)}},{key:"getSystemRtcTime",value:function getSystemRtcTime(){return c.Struct.getUint64(16,this)}},{key:"setSystemRtcTime",value:function setSystemRtcTime(t){c.Struct.setUint64(16,t,this)}},{key:"getGpsLeapSeconds",value:function getGpsLeapSeconds(){return c.Struct.getUint8(6,this)}},{key:"setGpsLeapSeconds",value:function setGpsLeapSeconds(t){c.Struct.setUint8(6,t,this)}},{key:"getGpsLeapSecondsUncertainty",value:function getGpsLeapSecondsUncertainty(){return c.Struct.getUint8(7,this)}},{key:"setGpsLeapSecondsUncertainty",value:function setGpsLeapSecondsUncertainty(t){c.Struct.setUint8(7,t,this)}},{key:"getGpsToGlonassTimeBiasMilliseconds",value:function getGpsToGlonassTimeBiasMilliseconds(){return c.Struct.getFloat32(24,this)}},{key:"setGpsToGlonassTimeBiasMilliseconds",value:function setGpsToGlonassTimeBiasMilliseconds(t){c.Struct.setFloat32(24,t,this)}},{key:"getGpsToGlonassTimeBiasMillisecondsUncertainty",value:function getGpsToGlonassTimeBiasMillisecondsUncertainty(){return c.Struct.getFloat32(28,this)}},{key:"setGpsToGlonassTimeBiasMillisecondsUncertainty",value:function setGpsToGlonassTimeBiasMillisecondsUncertainty(t){c.Struct.setFloat32(28,t,this)}},{key:"getGpsWeek",value:function getGpsWeek(){return c.Struct.getUint16(32,this)}},{key:"setGpsWeek",value:function setGpsWeek(t){c.Struct.setUint16(32,t,this)}},{key:"getGpsMilliseconds",value:function getGpsMilliseconds(){return c.Struct.getUint32(36,this)}},{key:"setGpsMilliseconds",value:function setGpsMilliseconds(t){c.Struct.setUint32(36,t,this)}},{key:"getGpsTimeBiasMs",value:function getGpsTimeBiasMs(){return c.Struct.getUint32(40,this)}},{key:"setGpsTimeBiasMs",value:function setGpsTimeBiasMs(t){c.Struct.setUint32(40,t,this)}},{key:"getGpsClockTimeUncertaintyMs",value:function getGpsClockTimeUncertaintyMs(){return c.Struct.getUint32(44,this)}},{key:"setGpsClockTimeUncertaintyMs",value:function setGpsClockTimeUncertaintyMs(t){c.Struct.setUint32(44,t,this)}},{key:"getGpsClockSource",value:function getGpsClockSource(){return c.Struct.getUint8(34,this)}},{key:"setGpsClockSource",value:function setGpsClockSource(t){c.Struct.setUint8(34,t,this)}},{key:"getGlonassClockSource",value:function getGlonassClockSource(){return c.Struct.getUint8(35,this)}},{key:"setGlonassClockSource",value:function setGlonassClockSource(t){c.Struct.setUint8(35,t,this)}},{key:"getGlonassYear",value:function getGlonassYear(){return c.Struct.getUint8(48,this)}},{key:"setGlonassYear",value:function setGlonassYear(t){c.Struct.setUint8(48,t,this)}},{key:"getGlonassDay",value:function getGlonassDay(){return c.Struct.getUint16(50,this)}},{key:"setGlonassDay",value:function setGlonassDay(t){c.Struct.setUint16(50,t,this)}},{key:"getGlonassMilliseconds",value:function getGlonassMilliseconds(){return c.Struct.getUint32(52,this)}},{key:"setGlonassMilliseconds",value:function setGlonassMilliseconds(t){c.Struct.setUint32(52,t,this)}},{key:"getGlonassTimeBias",value:function getGlonassTimeBias(){return c.Struct.getFloat32(56,this)}},{key:"setGlonassTimeBias",value:function setGlonassTimeBias(t){c.Struct.setFloat32(56,t,this)}},{key:"getGlonassClockTimeUncertainty",value:function getGlonassClockTimeUncertainty(){return c.Struct.getFloat32(60,this)}},{key:"setGlonassClockTimeUncertainty",value:function setGlonassClockTimeUncertainty(t){c.Struct.setFloat32(60,t,this)}},{key:"getClockFrequencyBias",value:function getClockFrequencyBias(){return c.Struct.getFloat32(64,this)}},{key:"setClockFrequencyBias",value:function setClockFrequencyBias(t){c.Struct.setFloat32(64,t,this)}},{key:"getClockFrequencyUncertainty",value:function getClockFrequencyUncertainty(){return c.Struct.getFloat32(68,this)}},{key:"setClockFrequencyUncertainty",value:function setClockFrequencyUncertainty(t){c.Struct.setFloat32(68,t,this)}},{key:"getFrequencySource",value:function getFrequencySource(){return c.Struct.getUint8(49,this)}},{key:"setFrequencySource",value:function setFrequencySource(t){c.Struct.setUint8(49,t,this)}},{key:"getSource",value:function getSource(){return c.Struct.getUint16(72,this)}},{key:"setSource",value:function setSource(t){c.Struct.setUint16(72,t,this)}},{key:"adoptSv",value:function adoptSv(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownSv",value:function disownSv(){return c.Struct.disown(this.getSv())}},{key:"getSv",value:function getSv(){return c.Struct.getList(0,QcomGnss_DrMeasurementReport._Sv,this)}},{key:"hasSv",value:function hasSv(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initSv",value:function initSv(t){return c.Struct.initList(0,QcomGnss_DrMeasurementReport._Sv,t,this)}},{key:"setSv",value:function setSv(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"QcomGnss_DrMeasurementReport_"+s(a(QcomGnss_DrMeasurementReport.prototype),"toString",this).call(this)}}]),QcomGnss_DrMeasurementReport}(c.Struct);ft.SV=ct,ft._capnp={displayName:"DrMeasurementReport",id:"8053c39445c6c75c",size:new c.ObjectSize(80,1)},e.QcomGnss_DrMeasurementReport=ft;var pt,dt=function(t){function QcomGnss_DrSvPolyReport(){return r(this,QcomGnss_DrSvPolyReport),o(this,a(QcomGnss_DrSvPolyReport).apply(this,arguments))}return u(QcomGnss_DrSvPolyReport,t),i(QcomGnss_DrSvPolyReport,[{key:"getSvId",value:function getSvId(){return c.Struct.getUint16(0,this)}},{key:"setSvId",value:function setSvId(t){c.Struct.setUint16(0,t,this)}},{key:"getFrequencyIndex",value:function getFrequencyIndex(){return c.Struct.getInt8(2,this)}},{key:"setFrequencyIndex",value:function setFrequencyIndex(t){c.Struct.setInt8(2,t,this)}},{key:"getHasPosition",value:function getHasPosition(){return c.Struct.getBit(24,this)}},{key:"setHasPosition",value:function setHasPosition(t){c.Struct.setBit(24,t,this)}},{key:"getHasIono",value:function getHasIono(){return c.Struct.getBit(25,this)}},{key:"setHasIono",value:function setHasIono(t){c.Struct.setBit(25,t,this)}},{key:"getHasTropo",value:function getHasTropo(){return c.Struct.getBit(26,this)}},{key:"setHasTropo",value:function setHasTropo(t){c.Struct.setBit(26,t,this)}},{key:"getHasElevation",value:function getHasElevation(){return c.Struct.getBit(27,this)}},{key:"setHasElevation",value:function setHasElevation(t){c.Struct.setBit(27,t,this)}},{key:"getPolyFromXtra",value:function getPolyFromXtra(){return c.Struct.getBit(28,this)}},{key:"setPolyFromXtra",value:function setPolyFromXtra(t){c.Struct.setBit(28,t,this)}},{key:"getHasSbasIono",value:function getHasSbasIono(){return c.Struct.getBit(29,this)}},{key:"setHasSbasIono",value:function setHasSbasIono(t){c.Struct.setBit(29,t,this)}},{key:"getIode",value:function getIode(){return c.Struct.getUint16(4,this)}},{key:"setIode",value:function setIode(t){c.Struct.setUint16(4,t,this)}},{key:"getT0",value:function getT0(){return c.Struct.getFloat64(8,this)}},{key:"setT0",value:function setT0(t){c.Struct.setFloat64(8,t,this)}},{key:"adoptXyz0",value:function adoptXyz0(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownXyz0",value:function disownXyz0(){return c.Struct.disown(this.getXyz0())}},{key:"getXyz0",value:function getXyz0(){return c.Struct.getList(0,l.Float64List,this)}},{key:"hasXyz0",value:function hasXyz0(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initXyz0",value:function initXyz0(t){return c.Struct.initList(0,l.Float64List,t,this)}},{key:"setXyz0",value:function setXyz0(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptXyzN",value:function adoptXyzN(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownXyzN",value:function disownXyzN(){return c.Struct.disown(this.getXyzN())}},{key:"getXyzN",value:function getXyzN(){return c.Struct.getList(1,l.Float64List,this)}},{key:"hasXyzN",value:function hasXyzN(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initXyzN",value:function initXyzN(t){return c.Struct.initList(1,l.Float64List,t,this)}},{key:"setXyzN",value:function setXyzN(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptOther",value:function adoptOther(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownOther",value:function disownOther(){return c.Struct.disown(this.getOther())}},{key:"getOther",value:function getOther(){return c.Struct.getList(2,l.Float32List,this)}},{key:"hasOther",value:function hasOther(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initOther",value:function initOther(t){return c.Struct.initList(2,l.Float32List,t,this)}},{key:"setOther",value:function setOther(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getPositionUncertainty",value:function getPositionUncertainty(){return c.Struct.getFloat32(16,this)}},{key:"setPositionUncertainty",value:function setPositionUncertainty(t){c.Struct.setFloat32(16,t,this)}},{key:"getIonoDelay",value:function getIonoDelay(){return c.Struct.getFloat32(20,this)}},{key:"setIonoDelay",value:function setIonoDelay(t){c.Struct.setFloat32(20,t,this)}},{key:"getIonoDot",value:function getIonoDot(){return c.Struct.getFloat32(24,this)}},{key:"setIonoDot",value:function setIonoDot(t){c.Struct.setFloat32(24,t,this)}},{key:"getSbasIonoDelay",value:function getSbasIonoDelay(){return c.Struct.getFloat32(28,this)}},{key:"setSbasIonoDelay",value:function setSbasIonoDelay(t){c.Struct.setFloat32(28,t,this)}},{key:"getSbasIonoDot",value:function getSbasIonoDot(){return c.Struct.getFloat32(32,this)}},{key:"setSbasIonoDot",value:function setSbasIonoDot(t){c.Struct.setFloat32(32,t,this)}},{key:"getTropoDelay",value:function getTropoDelay(){return c.Struct.getFloat32(36,this)}},{key:"setTropoDelay",value:function setTropoDelay(t){c.Struct.setFloat32(36,t,this)}},{key:"getElevation",value:function getElevation(){return c.Struct.getFloat32(40,this)}},{key:"setElevation",value:function setElevation(t){c.Struct.setFloat32(40,t,this)}},{key:"getElevationDot",value:function getElevationDot(){return c.Struct.getFloat32(44,this)}},{key:"setElevationDot",value:function setElevationDot(t){c.Struct.setFloat32(44,t,this)}},{key:"getElevationUncertainty",value:function getElevationUncertainty(){return c.Struct.getFloat32(48,this)}},{key:"setElevationUncertainty",value:function setElevationUncertainty(t){c.Struct.setFloat32(48,t,this)}},{key:"adoptVelocityCoeff",value:function adoptVelocityCoeff(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownVelocityCoeff",value:function disownVelocityCoeff(){return c.Struct.disown(this.getVelocityCoeff())}},{key:"getVelocityCoeff",value:function getVelocityCoeff(){return c.Struct.getList(3,l.Float64List,this)}},{key:"hasVelocityCoeff",value:function hasVelocityCoeff(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initVelocityCoeff",value:function initVelocityCoeff(t){return c.Struct.initList(3,l.Float64List,t,this)}},{key:"setVelocityCoeff",value:function setVelocityCoeff(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"toString",value:function toString(){return"QcomGnss_DrSvPolyReport_"+s(a(QcomGnss_DrSvPolyReport.prototype),"toString",this).call(this)}}]),QcomGnss_DrSvPolyReport}(c.Struct);dt._capnp={displayName:"DrSvPolyReport",id:"b1fb80811a673270",size:new c.ObjectSize(56,4)},e.QcomGnss_DrSvPolyReport=dt,function(t){t[t.MEASUREMENT_REPORT=0]="MEASUREMENT_REPORT",t[t.CLOCK_REPORT=1]="CLOCK_REPORT",t[t.DR_MEASUREMENT_REPORT=2]="DR_MEASUREMENT_REPORT",t[t.DR_SV_POLY=3]="DR_SV_POLY",t[t.RAW_LOG=4]="RAW_LOG"}(pt=e.QcomGnss_Which||(e.QcomGnss_Which={}));var ht=function(t){function QcomGnss(){return r(this,QcomGnss),o(this,a(QcomGnss).apply(this,arguments))}return u(QcomGnss,t),i(QcomGnss,[{key:"getLogTs",value:function getLogTs(){return c.Struct.getUint64(0,this)}},{key:"setLogTs",value:function setLogTs(t){c.Struct.setUint64(0,t,this)}},{key:"adoptMeasurementReport",value:function adoptMeasurementReport(t){c.Struct.setUint16(8,0,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownMeasurementReport",value:function disownMeasurementReport(){return c.Struct.disown(this.getMeasurementReport())}},{key:"getMeasurementReport",value:function getMeasurementReport(){return c.Struct.testWhich("measurementReport",c.Struct.getUint16(8,this),0,this),c.Struct.getStruct(0,ut,this)}},{key:"hasMeasurementReport",value:function hasMeasurementReport(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initMeasurementReport",value:function initMeasurementReport(){return c.Struct.setUint16(8,0,this),c.Struct.initStructAt(0,ut,this)}},{key:"isMeasurementReport",value:function isMeasurementReport(){return 0===c.Struct.getUint16(8,this)}},{key:"setMeasurementReport",value:function setMeasurementReport(t){c.Struct.setUint16(8,0,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptClockReport",value:function adoptClockReport(t){c.Struct.setUint16(8,1,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownClockReport",value:function disownClockReport(){return c.Struct.disown(this.getClockReport())}},{key:"getClockReport",value:function getClockReport(){return c.Struct.testWhich("clockReport",c.Struct.getUint16(8,this),1,this),c.Struct.getStruct(0,lt,this)}},{key:"hasClockReport",value:function hasClockReport(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initClockReport",value:function initClockReport(){return c.Struct.setUint16(8,1,this),c.Struct.initStructAt(0,lt,this)}},{key:"isClockReport",value:function isClockReport(){return 1===c.Struct.getUint16(8,this)}},{key:"setClockReport",value:function setClockReport(t){c.Struct.setUint16(8,1,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptDrMeasurementReport",value:function adoptDrMeasurementReport(t){c.Struct.setUint16(8,2,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDrMeasurementReport",value:function disownDrMeasurementReport(){return c.Struct.disown(this.getDrMeasurementReport())}},{key:"getDrMeasurementReport",value:function getDrMeasurementReport(){return c.Struct.testWhich("drMeasurementReport",c.Struct.getUint16(8,this),2,this),c.Struct.getStruct(0,ft,this)}},{key:"hasDrMeasurementReport",value:function hasDrMeasurementReport(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDrMeasurementReport",value:function initDrMeasurementReport(){return c.Struct.setUint16(8,2,this),c.Struct.initStructAt(0,ft,this)}},{key:"isDrMeasurementReport",value:function isDrMeasurementReport(){return 2===c.Struct.getUint16(8,this)}},{key:"setDrMeasurementReport",value:function setDrMeasurementReport(t){c.Struct.setUint16(8,2,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptDrSvPoly",value:function adoptDrSvPoly(t){c.Struct.setUint16(8,3,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownDrSvPoly",value:function disownDrSvPoly(){return c.Struct.disown(this.getDrSvPoly())}},{key:"getDrSvPoly",value:function getDrSvPoly(){return c.Struct.testWhich("drSvPoly",c.Struct.getUint16(8,this),3,this),c.Struct.getStruct(0,dt,this)}},{key:"hasDrSvPoly",value:function hasDrSvPoly(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initDrSvPoly",value:function initDrSvPoly(){return c.Struct.setUint16(8,3,this),c.Struct.initStructAt(0,dt,this)}},{key:"isDrSvPoly",value:function isDrSvPoly(){return 3===c.Struct.getUint16(8,this)}},{key:"setDrSvPoly",value:function setDrSvPoly(t){c.Struct.setUint16(8,3,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptRawLog",value:function adoptRawLog(t){c.Struct.setUint16(8,4,this),c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownRawLog",value:function disownRawLog(){return c.Struct.disown(this.getRawLog())}},{key:"getRawLog",value:function getRawLog(){return c.Struct.testWhich("rawLog",c.Struct.getUint16(8,this),4,this),c.Struct.getData(0,this)}},{key:"hasRawLog",value:function hasRawLog(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initRawLog",value:function initRawLog(t){return c.Struct.setUint16(8,4,this),c.Struct.initData(0,t,this)}},{key:"isRawLog",value:function isRawLog(){return 4===c.Struct.getUint16(8,this)}},{key:"setRawLog",value:function setRawLog(t){c.Struct.setUint16(8,4,this),c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"toString",value:function toString(){return"QcomGnss_"+s(a(QcomGnss.prototype),"toString",this).call(this)}},{key:"which",value:function which(){return c.Struct.getUint16(8,this)}}]),QcomGnss}(c.Struct);ht.MEASUREMENT_REPORT=pt.MEASUREMENT_REPORT,ht.CLOCK_REPORT=pt.CLOCK_REPORT,ht.DR_MEASUREMENT_REPORT=pt.DR_MEASUREMENT_REPORT,ht.DR_SV_POLY=pt.DR_SV_POLY,ht.RAW_LOG=pt.RAW_LOG,ht.MeasurementSource=rt,ht.SVObservationState=it,ht.MeasurementStatus=at,ht.MeasurementReport=ut,ht.ClockReport=lt,ht.DrMeasurementReport=ft,ht.DrSvPolyReport=dt,ht._capnp={displayName:"QcomGnss",id:"de94674b07ae51c1",size:new c.ObjectSize(16,1)},e.QcomGnss=ht;var gt=function(t){function LidarPts(){return r(this,LidarPts),o(this,a(LidarPts).apply(this,arguments))}return u(LidarPts,t),i(LidarPts,[{key:"adoptR",value:function adoptR(t){c.Struct.adopt(t,c.Struct.getPointer(0,this))}},{key:"disownR",value:function disownR(){return c.Struct.disown(this.getR())}},{key:"getR",value:function getR(){return c.Struct.getList(0,l.Uint16List,this)}},{key:"hasR",value:function hasR(){return!c.Struct.isNull(c.Struct.getPointer(0,this))}},{key:"initR",value:function initR(t){return c.Struct.initList(0,l.Uint16List,t,this)}},{key:"setR",value:function setR(t){c.Struct.copyFrom(t,c.Struct.getPointer(0,this))}},{key:"adoptTheta",value:function adoptTheta(t){c.Struct.adopt(t,c.Struct.getPointer(1,this))}},{key:"disownTheta",value:function disownTheta(){return c.Struct.disown(this.getTheta())}},{key:"getTheta",value:function getTheta(){return c.Struct.getList(1,l.Uint16List,this)}},{key:"hasTheta",value:function hasTheta(){return!c.Struct.isNull(c.Struct.getPointer(1,this))}},{key:"initTheta",value:function initTheta(t){return c.Struct.initList(1,l.Uint16List,t,this)}},{key:"setTheta",value:function setTheta(t){c.Struct.copyFrom(t,c.Struct.getPointer(1,this))}},{key:"adoptReflect",value:function adoptReflect(t){c.Struct.adopt(t,c.Struct.getPointer(2,this))}},{key:"disownReflect",value:function disownReflect(){return c.Struct.disown(this.getReflect())}},{key:"getReflect",value:function getReflect(){return c.Struct.getList(2,l.Uint8List,this)}},{key:"hasReflect",value:function hasReflect(){return!c.Struct.isNull(c.Struct.getPointer(2,this))}},{key:"initReflect",value:function initReflect(t){return c.Struct.initList(2,l.Uint8List,t,this)}},{key:"setReflect",value:function setReflect(t){c.Struct.copyFrom(t,c.Struct.getPointer(2,this))}},{key:"getIdx",value:function getIdx(){return c.Struct.getUint64(0,this)}},{key:"setIdx",value:function setIdx(t){c.Struct.setUint64(0,t,this)}},{key:"adoptPkt",value:function adoptPkt(t){c.Struct.adopt(t,c.Struct.getPointer(3,this))}},{key:"disownPkt",value:function disownPkt(){return c.Struct.disown(this.getPkt())}},{key:"getPkt",value:function getPkt(){return c.Struct.getData(3,this)}},{key:"hasPkt",value:function hasPkt(){return!c.Struct.isNull(c.Struct.getPointer(3,this))}},{key:"initPkt",value:function initPkt(t){return c.Struct.initData(3,t,this)}},{key:"setPkt",value:function setPkt(t){c.Struct.copyFrom(t,c.Struct.getPointer(3,this))}},{key:"toString",value:function toString(){return"LidarPts_"+s(a(LidarPts.prototype),"toString",this).call(this)}}]),LidarPts}(c.Struct);gt._capnp={displayName:"LidarPts",id:"e3d6685d4e9d8f7a",size:new c.ObjectSize(8,4)},e.LidarPts=gt,k._PointsDEPRECATED=l.CompositeList(P),k._Points=l.CompositeList(T),A._PointsDEPRECATED=l.CompositeList(P),A._Points=l.CompositeList(T),O._Dpos=l.CompositeList(T),G._Parts=l.CompositeList(V),H._Segments=l.CompositeList(G),tt._Measurements=l.CompositeList(J),ut._Sv=l.CompositeList(st),ft._Sv=l.CompositeList(ct)},function(t,e,n){"use strict";e.byteLength=function byteLength(t){var e=getLens(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function toByteArray(t){for(var e,n=getLens(t),r=n[0],a=n[1],s=new o(function _byteLength(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,c=0;c<l;c+=4)e=i[t.charCodeAt(c)]<<18|i[t.charCodeAt(c+1)]<<12|i[t.charCodeAt(c+2)]<<6|i[t.charCodeAt(c+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(c)]<<2|i[t.charCodeAt(c+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(c)]<<10|i[t.charCodeAt(c+1)]<<4|i[t.charCodeAt(c+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function fromByteArray(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(encodeChunk(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function encodeChunk(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=h,a/=256,l-=8);t[n+d-h]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function readSize(t,e){if((e=e||0)+8>=t.byteLength)return null;var n=0,r=t.readUInt32LE(e)+1;n=0;for(var i=[],o=0;o<r;++o){n+=4;var a=t.readUInt32LE(e+n);i.push(8*a)}var s=i.reduce((function(t,e){return t+e}),n);return s+=8-s%8}t.exports={readMessage:function readMessage(t,e){var n=readSize(t,e=e||0);return t.slice(e,e+n)},readSize:readSize}},function(t,e){t.exports=function hiddenStore(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function value(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}},,,,,,function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(36)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=r(n(169)),p=function styles(t){return{root:(0,s.default)({},t.typography.subheading,{height:3*t.spacing.unit,boxSizing:"content-box",width:"auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:2*t.spacing.unit,paddingRight:2*t.spacing.unit,"&$selected":{backgroundColor:t.palette.action.selected}}),selected:{}}};function MenuItem(t){var e=t.classes,n=t.className,r=t.component,s=t.selected,c=t.role,p=(0,a.default)(t,["classes","className","component","selected","role"]);return u.default.createElement(f.default,(0,i.default)({button:!0,role:c,tabIndex:-1,className:(0,l.default)(e.root,(0,o.default)({},e.selected,s),n),component:r},p))}e.styles=p,MenuItem.propTypes={},MenuItem.defaultProps={component:"li",role:"menuitem",selected:!1};var d=(0,c.default)(p,{name:"MuiMenuItem"})(MenuItem);e.default=d},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(28)),s=r(n(11)),u=r(n(37)),l=r(n(38)),c=r(n(40)),f=r(n(41)),p=r(n(0)),d=r(n(9)),h=r(n(3)),g=r(n(8)),y=r(n(112)),m=n(163),v=function styles(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},container:{position:"relative"},focusVisible:{backgroundColor:t.palette.action.hover},default:{paddingTop:12,paddingBottom:12},dense:{paddingTop:t.spacing.unit,paddingBottom:t.spacing.unit},disabled:{opacity:.5},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:t.mixins.gutters(),button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:4*t.spacing.unit}}};e.styles=v;var _=function(t){function ListItem(){return(0,u.default)(this,ListItem),(0,c.default)(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).apply(this,arguments))}return(0,f.default)(ListItem,t),(0,l.default)(ListItem,[{key:"getChildContext",value:function getChildContext(){return{dense:this.props.dense||this.context.dense||!1}}},{key:"render",value:function render(){var t,e=this.props,n=e.button,r=e.children,u=e.classes,l=e.className,c=e.component,f=e.ContainerComponent,d=e.ContainerProps,g=(d=void 0===d?{}:d).className,v=(0,s.default)(d,["className"]),_=e.dense,b=e.disabled,S=e.disableGutters,E=e.divider,x=e.focusVisibleClassName,w=(0,s.default)(e,["button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName"]),T=_||this.context.dense||!1,P=p.default.Children.toArray(r),k=P.some((function(t){return(0,m.isMuiElement)(t,["ListItemAvatar"])})),C=P.length&&(0,m.isMuiElement)(P[P.length-1],["ListItemSecondaryAction"]),D=(0,h.default)(u.root,T||k?u.dense:u.default,(t={},(0,a.default)(t,u.gutters,!S),(0,a.default)(t,u.divider,E),(0,a.default)(t,u.disabled,b),(0,a.default)(t,u.button,n),(0,a.default)(t,u.secondaryAction,C),t),l),A=(0,o.default)({className:D,disabled:b},w),R=c||"li";return n&&(A.component=c||"div",A.focusVisibleClassName=(0,h.default)(u.focusVisible,x),R=y.default),C?(R=A.component||c?R:"div","li"===f&&("li"===R?R="div":"li"===A.component&&(A.component="div")),p.default.createElement(f,(0,i.default)({className:(0,h.default)(u.container,g)},v),p.default.createElement(R,A,P),P.pop())):p.default.createElement(R,A,P)}}]),ListItem}(p.default.Component);_.propTypes={},_.defaultProps={button:!1,ContainerComponent:"li",dense:!1,disabled:!1,disableGutters:!1,divider:!1},_.contextTypes={dense:d.default.bool},_.childContextTypes={dense:d.default.bool};var b=(0,g.default)(v,{name:"MuiListItem"})(_);e.default=b},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(139),f=function styles(t){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:t.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:9*t.spacing.unit},light:{backgroundColor:(0,c.fade)(t.palette.divider,.08)}}};function Divider(t){var e,n=t.absolute,r=t.classes,l=t.className,c=t.component,f=t.inset,p=t.light,d=(0,a.default)(t,["absolute","classes","className","component","inset","light"]),h=(0,u.default)(r.root,(e={},(0,o.default)(e,r.absolute,n),(0,o.default)(e,r.inset,f),(0,o.default)(e,r.light,p),e),l);return s.default.createElement(c,(0,i.default)({className:h},d))}e.styles=f,Divider.propTypes={},Divider.defaultProps={absolute:!1,component:"hr",inset:!1,light:!1};var p=(0,l.default)(f,{name:"MuiDivider"})(Divider);e.default=p},function(t,e,n){"use strict";var r=n(341),i=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(36)),a=i(n(28)),s=i(n(37)),u=i(n(38)),l=i(n(40)),c=i(n(41)),f=i(n(0)),p=i(n(9)),d=(i(n(64)),i(n(902))),h=r(n(251)),g=(i(n(193)),function(t){function MuiThemeProvider(t,e){var n;return(0,s.default)(this,MuiThemeProvider),(n=(0,l.default)(this,(MuiThemeProvider.__proto__||Object.getPrototypeOf(MuiThemeProvider)).call(this,t,e))).broadcast=(0,d.default)(),n.unsubscribeId=null,n.outerTheme=null,n.outerTheme=h.default.initial(e),n.broadcast.setState(n.mergeOuterLocalTheme(n.props.theme)),n}return(0,c.default)(MuiThemeProvider,t),(0,u.default)(MuiThemeProvider,[{key:"getChildContext",value:function getChildContext(){var t,e=this.props,n=e.sheetsManager,r=e.disableStylesGeneration,i=this.context.muiThemeProviderOptions||{};return void 0!==n&&(i.sheetsManager=n),void 0!==r&&(i.disableStylesGeneration=r),t={},(0,a.default)(t,h.CHANNEL,this.broadcast),(0,a.default)(t,"muiThemeProviderOptions",i),t}},{key:"componentDidMount",value:function componentDidMount(){var t=this;this.unsubscribeId=h.default.subscribe(this.context,(function(e){t.outerTheme=e,t.broadcast.setState(t.mergeOuterLocalTheme(t.props.theme))}))}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.props.theme!==t.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.unsubscribeId&&h.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function mergeOuterLocalTheme(t){return"function"===typeof t?t(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,t):t}},{key:"render",value:function render(){return this.props.children}}]),MuiThemeProvider}(f.default.Component));g.propTypes={},g.propTypes={},g.childContextTypes=(0,o.default)({},h.default.contextTypes,{muiThemeProviderOptions:p.default.object}),g.contextTypes=(0,o.default)({},h.default.contextTypes,{muiThemeProviderOptions:p.default.object});var y=g;e.default=y},function(t,e,n){"use strict";n.r(e),e.default=function createBroadcast(t){var e={},n=1,r=t;return{getState:function getState(){return r},setState:function setState(t){r=t;for(var n=Object.keys(e),i=0,o=n.length;i<o;i++)e[n[i]]&&e[n[i]](t)},subscribe:function subscribe(t){if("function"!==typeof t)throw new Error("listener must be a function.");var r=n;return e[r]=t,n+=1,r},unsubscribe:function unsubscribe(t){e[t]=void 0}}}},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function getNanoSeconds(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(114))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(28)),o=r(n(11)),a=r(n(36)),s=r(n(13)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=n(352),p=(r(n(905)),[0,8,16,24,32,40]),d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var h=function styles(t){return(0,a.default)({container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"}},function generateGutter(t,e){var n={};return p.forEach((function(t,r){0!==r&&(n["spacing-".concat(e,"-").concat(t)]={margin:-t/2,width:"calc(100% + ".concat(t,"px)"),"& > $item":{padding:t/2}})})),n}(0,"xs"),f.keys.reduce((function(e,n){return function generateGrid(t,e,n){var r={};d.forEach((function(t){var e="grid-".concat(n,"-").concat(t);if(!0!==t)if("auto"!==t){var i="".concat(Math.round(t/12*1e7)/1e5,"%");r[e]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[e]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[e]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,s.default)(t,r):t[e.breakpoints.up(n)]=r}(e,t,n),e}),{}))};function Grid(t){var e,n=t.alignContent,r=t.alignItems,a=t.classes,c=t.className,f=t.component,p=t.container,d=t.direction,h=t.item,g=t.justify,y=t.lg,m=t.md,v=t.sm,_=t.spacing,b=t.wrap,S=t.xl,E=t.xs,x=t.zeroMinWidth,w=(0,o.default)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),T=(0,l.default)((e={},(0,i.default)(e,a.container,p),(0,i.default)(e,a.item,h),(0,i.default)(e,a.zeroMinWidth,x),(0,i.default)(e,a["spacing-xs-".concat(String(_))],p&&0!==_),(0,i.default)(e,a["direction-xs-".concat(String(d))],d!==Grid.defaultProps.direction),(0,i.default)(e,a["wrap-xs-".concat(String(b))],b!==Grid.defaultProps.wrap),(0,i.default)(e,a["align-items-xs-".concat(String(r))],r!==Grid.defaultProps.alignItems),(0,i.default)(e,a["align-content-xs-".concat(String(n))],n!==Grid.defaultProps.alignContent),(0,i.default)(e,a["justify-xs-".concat(String(g))],g!==Grid.defaultProps.justify),(0,i.default)(e,a["grid-xs-".concat(String(E))],!1!==E),(0,i.default)(e,a["grid-sm-".concat(String(v))],!1!==v),(0,i.default)(e,a["grid-md-".concat(String(m))],!1!==m),(0,i.default)(e,a["grid-lg-".concat(String(y))],!1!==y),(0,i.default)(e,a["grid-xl-".concat(String(S))],!1!==S),e),c);return u.default.createElement(f,(0,s.default)({className:T},w))}e.styles=h,Grid.propTypes={},Grid.defaultProps={alignContent:"stretch",alignItems:"stretch",component:"div",container:!1,direction:"row",item:!1,justify:"flex-start",lg:!1,md:!1,sm:!1,spacing:0,wrap:"wrap",xl:!1,xs:!1,zeroMinWidth:!1};var g=(0,c.default)(h,{name:"MuiGrid"})(Grid);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function requirePropFactory(t){return function(){return null}};e.default=r},function(t,e,n){"use strict";var r=n(907);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(36)),p=r(n(0)),d=(r(n(9)),r(n(3))),h=r(n(270)),g=r(n(75)),y=r(n(8)),m=n(163),v="undefined"!==typeof window&&/jsdom/.test(window.navigator.userAgent)?{}:{"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},_=function styles(t){var e={duration:t.transitions.duration.shortest};return{root:{position:"relative",transition:t.transitions.create(["margin"],e),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:t.palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-child":{borderTopLeftRadius:2,borderTopRightRadius:2,"&:before":{display:"none"}},"&:last-child":(0,f.default)({borderBottomLeftRadius:2,borderBottomRightRadius:2},v),"&$expanded + &":{"&:before":{display:"none"}}},expanded:{margin:"".concat(2*t.spacing.unit,"px 0"),"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},disabled:{backgroundColor:t.palette.action.disabledBackground}}};e.styles=_;var b=function(t){function ExpansionPanel(t){var e;return(0,s.default)(this,ExpansionPanel),(e=(0,l.default)(this,(ExpansionPanel.__proto__||Object.getPrototypeOf(ExpansionPanel)).call(this,t))).isControlled=null,e.state={},e.handleChange=function(t){var n=e.isControlled?e.props.expanded:e.state.expanded;e.isControlled||e.setState({expanded:!n}),e.props.onChange&&e.props.onChange(t,!n)},e.isControlled=null!=t.expanded,e.isControlled||(e.state.expanded=void 0!==t.defaultExpanded&&t.defaultExpanded),e}return(0,c.default)(ExpansionPanel,t),(0,u.default)(ExpansionPanel,[{key:"render",value:function render(){var t,e=this,n=this.props,r=n.children,s=n.classes,u=n.className,l=n.CollapseProps,c=(n.defaultExpanded,n.disabled),f=n.expanded,y=(n.onChange,(0,a.default)(n,["children","classes","className","CollapseProps","defaultExpanded","disabled","expanded","onChange"])),v=this.isControlled?f:this.state.expanded,_=(0,d.default)(s.root,(t={},(0,o.default)(t,s.expanded,v),(0,o.default)(t,s.disabled,c),t),u),b=null,S=p.default.Children.map(r,(function(t){return p.default.isValidElement(t)?(0,m.isMuiElement)(t,["ExpansionPanelSummary"])?(b=p.default.cloneElement(t,{disabled:c,expanded:v,onChange:e.handleChange}),null):t:null})),E=v?null:{"aria-hidden":"true"};return p.default.createElement(g.default,(0,i.default)({className:_,elevation:1,square:!0},y),b,p.default.createElement(h.default,(0,i.default)({in:v,timeout:"auto"},E,l),S))}}]),ExpansionPanel}(p.default.Component);b.propTypes={},b.defaultProps={defaultExpanded:!1,disabled:!1};var S=(0,y.default)(_,{name:"MuiExpansionPanel"})(b);e.default=S},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(28)),s=r(n(11)),u=r(n(37)),l=r(n(38)),c=r(n(40)),f=r(n(41)),p=r(n(0)),d=r(n(3)),h=(r(n(9)),r(n(162))),g=r(n(8)),y=n(140),m=n(196),v=function styles(t){return{container:{height:0,overflow:"hidden",transition:t.transitions.create("height")},entered:{height:"auto"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};e.styles=v;var _=function(t){function Collapse(){var t,e,n;(0,u.default)(this,Collapse);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,c.default)(n,(e=n=(0,c.default)(this,(t=Collapse.__proto__||Object.getPrototypeOf(Collapse)).call.apply(t,[this].concat(i))),n.wrapper=null,n.autoTransitionDuration=null,n.timer=null,n.handleEnter=function(t){t.style.height=n.props.collapsedHeight,n.props.onEnter&&n.props.onEnter(t)},n.handleEntering=function(t){var e=n.props,r=e.timeout,i=e.theme,o=n.wrapper?n.wrapper.clientHeight:0,a=(0,m.getTransitionProps)(n.props,{mode:"enter"}).duration;if("auto"===r){var s=i.transitions.getAutoHeightDuration(o);t.style.transitionDuration="".concat(s,"ms"),n.autoTransitionDuration=s}else t.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");t.style.height="".concat(o,"px"),n.props.onEntering&&n.props.onEntering(t)},n.handleEntered=function(t){t.style.height="auto",n.props.onEntered&&n.props.onEntered(t)},n.handleExit=function(t){var e=n.wrapper?n.wrapper.clientHeight:0;t.style.height="".concat(e,"px"),n.props.onExit&&n.props.onExit(t)},n.handleExiting=function(t){var e=n.props,r=e.timeout,i=e.theme,o=n.wrapper?n.wrapper.clientHeight:0,a=(0,m.getTransitionProps)(n.props,{mode:"exit"}).duration;if("auto"===r){var s=i.transitions.getAutoHeightDuration(o);t.style.transitionDuration="".concat(s,"ms"),n.autoTransitionDuration=s}else t.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");t.style.height=n.props.collapsedHeight,n.props.onExiting&&n.props.onExiting(t)},n.addEndListener=function(t,e){"auto"===n.props.timeout&&(n.timer=setTimeout(e,n.autoTransitionDuration||0))},e))}return(0,f.default)(Collapse,t),(0,l.default)(Collapse,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timer)}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.classes,u=e.className,l=e.collapsedHeight,c=e.component,f=(e.onEnter,e.onEntered,e.onEntering,e.onExit,e.onExiting,e.style),g=(e.theme,e.timeout),y=(0,s.default)(e,["children","classes","className","collapsedHeight","component","onEnter","onEntered","onEntering","onExit","onExiting","style","theme","timeout"]);return p.default.createElement(h.default,(0,i.default)({onEnter:this.handleEnter,onEntered:this.handleEntered,onEntering:this.handleEntering,onExit:this.handleExit,onExiting:this.handleExiting,addEndListener:this.addEndListener,timeout:"auto"===g?null:g},y),(function(e,s){return p.default.createElement(c,(0,i.default)({className:(0,d.default)(r.container,(0,a.default)({},r.entered,"entered"===e),u),style:(0,o.default)({},f,{minHeight:l})},s),p.default.createElement("div",{className:r.wrapper,ref:function ref(e){t.wrapper=e}},p.default.createElement("div",{className:r.wrapperInner},n)))}))}}]),Collapse}(p.default.Component);_.propTypes={},_.defaultProps={collapsedHeight:"0px",component:"div",timeout:y.duration.standard},_.muiSupportAuto=!0;var b=(0,g.default)(v,{withTheme:!0,name:"MuiCollapse"})(_);e.default=b},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(8)),l=n(163);n(60);var c=function styles(t){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"".concat(2*t.spacing.unit,"px ").concat(t.spacing.unit,"px")},action:{marginLeft:t.spacing.unit}}};function ExpansionPanelActions(t){var e=t.children,n=t.classes,r=t.className,u=(0,o.default)(t,["children","classes","className"]);return a.default.createElement("div",(0,i.default)({className:(0,s.default)(n.root,r)},u),(0,l.cloneChildrenWithClassName)(e,n.action))}e.styles=c,ExpansionPanelActions.propTypes={};var f=(0,u.default)(c,{name:"MuiExpansionPanelActions"})(ExpansionPanelActions);e.default=f},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(0)),s=(r(n(9)),r(n(3))),u=r(n(8)),l=function styles(t){return{root:{display:"flex",padding:"".concat(t.spacing.unit,"px ").concat(3*t.spacing.unit,"px ").concat(3*t.spacing.unit,"px")}}};function ExpansionPanelDetails(t){var e=t.classes,n=t.children,r=t.className,u=(0,o.default)(t,["classes","children","className"]);return a.default.createElement("div",(0,i.default)({className:(0,s.default)(e.root,r)},u),n)}e.styles=l,ExpansionPanelDetails.propTypes={};var c=(0,u.default)(l,{name:"MuiExpansionPanelDetails"})(ExpansionPanelDetails);e.default=c},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(3))),d=r(n(112)),h=r(n(62)),g=r(n(8)),y=function styles(t){var e={duration:t.transitions.duration.shortest};return{root:{display:"flex",minHeight:6*t.spacing.unit,transition:t.transitions.create(["min-height","background-color"],e),padding:"0 ".concat(3*t.spacing.unit,"px 0 ").concat(3*t.spacing.unit,"px"),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:t.palette.grey[300]},"&$disabled":{opacity:.38}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:t.transitions.create(["margin"],e),margin:"12px 0","& > :last-child":{paddingRight:4*t.spacing.unit},"&$expanded":{margin:"20px 0"}},expandIcon:{position:"absolute",top:"50%",right:t.spacing.unit,transform:"translateY(-50%) rotate(0deg)",transition:t.transitions.create("transform",e),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"translateY(-50%) rotate(180deg)"}}}};e.styles=y;var m=function(t){function ExpansionPanelSummary(){var t,e,n;(0,s.default)(this,ExpansionPanelSummary);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=ExpansionPanelSummary.__proto__||Object.getPrototypeOf(ExpansionPanelSummary)).call.apply(t,[this].concat(i))),n.state={focused:!1},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleChange=function(t){var e=n.props,r=e.onChange,i=e.onClick;r&&r(t),i&&i(t)},e))}return(0,c.default)(ExpansionPanelSummary,t),(0,u.default)(ExpansionPanelSummary,[{key:"render",value:function render(){var t,e=this.props,n=e.children,r=e.classes,s=e.className,u=e.disabled,l=e.expanded,c=e.expandIcon,g=(e.onChange,(0,a.default)(e,["children","classes","className","disabled","expanded","expandIcon","onChange"])),y=this.state.focused;return f.default.createElement(d.default,(0,i.default)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":l,className:(0,p.default)(r.root,(t={},(0,o.default)(t,r.disabled,u),(0,o.default)(t,r.expanded,l),(0,o.default)(t,r.focused,y),t),s)},g,{onFocusVisible:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleChange}),f.default.createElement("div",{className:(0,p.default)(r.content,(0,o.default)({},r.expanded,l))},n),c&&f.default.createElement(h.default,{disabled:u,className:(0,p.default)(r.expandIcon,(0,o.default)({},r.expanded,l)),component:"div",tabIndex:-1,"aria-hidden":"true"},c))}}]),ExpansionPanelSummary}(f.default.Component);m.propTypes={},m.defaultProps={disabled:!1},m.muiName="ExpansionPanelSummary";var v=(0,g.default)(y,{name:"MuiExpansionPanelSummary"})(m);e.default=v},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=(r(n(64)),r(n(8))),c=n(139),f=function styles(t){return{root:{position:"relative",overflow:"hidden",height:5},colorPrimary:{backgroundColor:(0,c.lighten)(t.palette.primary.light,.6)},colorSecondary:{backgroundColor:(0,c.lighten)(t.palette.secondary.light,.4)},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat((0,c.lighten)(t.palette.primary.light,.6)," 0%, ").concat((0,c.lighten)(t.palette.primary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat((0,c.lighten)(t.palette.secondary.light,.4)," 0%, ").concat((0,c.lighten)(t.palette.secondary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:t.palette.primary.main},barColorSecondary:{backgroundColor:t.palette.secondary.main},bar1Indeterminate:{width:"auto",willChange:"left, right",animation:"mui-indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar2Indeterminate:{width:"auto",willChange:"left, right",animation:"mui-indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite",animationDelay:"1.15s"},bar1Determinate:{willChange:"transform",transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes mui-indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes mui-indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}};function LinearProgress(t){var e,n,r,l,c=t.classes,f=t.className,p=t.color,d=t.value,h=t.valueBuffer,g=t.variant,y=(0,a.default)(t,["classes","className","color","value","valueBuffer","variant"]),m=(0,u.default)(c.root,(e={},(0,o.default)(e,c.colorPrimary,"primary"===p),(0,o.default)(e,c.colorSecondary,"secondary"===p),(0,o.default)(e,c.buffer,"buffer"===g),(0,o.default)(e,c.query,"query"===g),e),f),v=(0,u.default)(c.dashed,(n={},(0,o.default)(n,c.dashedColorPrimary,"primary"===p),(0,o.default)(n,c.dashedColorSecondary,"secondary"===p),n)),_=(0,u.default)(c.bar,(r={},(0,o.default)(r,c.barColorPrimary,"primary"===p),(0,o.default)(r,c.barColorSecondary,"secondary"===p),(0,o.default)(r,c.bar1Indeterminate,"indeterminate"===g||"query"===g),(0,o.default)(r,c.bar1Determinate,"determinate"===g),(0,o.default)(r,c.bar1Buffer,"buffer"===g),r)),b=(0,u.default)(c.bar,(l={},(0,o.default)(l,c.barColorPrimary,"primary"===p&&"buffer"!==g),(0,o.default)(l,c.colorPrimary,"primary"===p&&"buffer"===g),(0,o.default)(l,c.barColorSecondary,"secondary"===p&&"buffer"!==g),(0,o.default)(l,c.colorSecondary,"secondary"===p&&"buffer"===g),(0,o.default)(l,c.bar2Indeterminate,"indeterminate"===g||"query"===g),(0,o.default)(l,c.bar2Buffer,"buffer"===g),l)),S={},E={bar1:{},bar2:{}};return"determinate"!==g&&"buffer"!==g||void 0!==d&&(S["aria-valuenow"]=Math.round(d),E.bar1.transform="scaleX(".concat(d/100,")")),"buffer"===g&&void 0!==h&&(E.bar2.transform="scaleX(".concat((h||0)/100,")")),s.default.createElement("div",(0,i.default)({className:m,role:"progressbar"},S,y),"buffer"===g?s.default.createElement("div",{className:v}):null,s.default.createElement("div",{className:_,style:E.bar1}),"determinate"===g?null:s.default.createElement("div",{className:b,style:E.bar2}))}e.styles=f,LinearProgress.propTypes={},LinearProgress.defaultProps={color:"primary",variant:"indeterminate"};var p=(0,l.default)(f,{name:"MuiLinearProgress"})(LinearProgress);e.default=p},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(11)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(28)),p=r(n(0)),d=(r(n(9)),r(n(113))),h=r(n(87)),g=(r(n(64)),r(n(3))),y=n(1013),m=n(74),v=r(n(192)),_=r(n(194)),b=r(n(353)),S=r(n(8)),E=function styles(t){return{popper:{zIndex:t.zIndex.tooltip,pointerEvents:"none","&$open":{pointerEvents:"auto"}},open:{},tooltip:{backgroundColor:t.palette.grey[700],borderRadius:t.shape.borderRadius,color:b.default.white,fontFamily:t.typography.fontFamily,opacity:0,transform:"scale(0)",transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shortest,easing:t.transitions.easing.easeIn}),minHeight:0,padding:"".concat(t.spacing.unit/2,"px ").concat(t.spacing.unit,"px"),fontSize:t.typography.pxToRem(10),lineHeight:"".concat(t.typography.round(1.4),"em"),"&$open":{opacity:.9,transform:"scale(1)",transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shortest,easing:t.transitions.easing.easeOut})}},touch:{padding:"".concat(t.spacing.unit,"px ").concat(2*t.spacing.unit,"px"),fontSize:t.typography.pxToRem(14),lineHeight:"".concat(t.typography.round(16/14),"em")},tooltipPlacementLeft:(0,f.default)({transformOrigin:"right center",margin:"0 ".concat(3*t.spacing.unit,"px")},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,f.default)({transformOrigin:"left center",margin:"0 ".concat(3*t.spacing.unit,"px")},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,f.default)({transformOrigin:"center bottom",margin:"".concat(3*t.spacing.unit,"px 0")},t.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,f.default)({transformOrigin:"center top",margin:"".concat(3*t.spacing.unit,"px 0")},t.breakpoints.up("sm"),{margin:"14px 0"})}};e.styles=E;var x=function(t){function Tooltip(t){var e;return(0,s.default)(this,Tooltip),(e=(0,l.default)(this,(Tooltip.__proto__||Object.getPrototypeOf(Tooltip)).call(this,t))).enterTimer=null,e.leaveTimer=null,e.touchTimer=null,e.closeTimer=null,e.isControlled=null,e.popper=null,e.children=null,e.ignoreNonTouchEvents=!1,e.handleResize=(0,h.default)((function(){e.popper&&e.popper._popper.scheduleUpdate()}),166),e.state={},e.handleEnter=function(t){var n=e.props,r=n.children,i=n.enterDelay,o=r.props;"focus"===t.type&&o.onFocus&&o.onFocus(t),"mouseover"===t.type&&o.onMouseOver&&o.onMouseOver(t),e.ignoreNonTouchEvents&&"touchstart"!==t.type||(clearTimeout(e.enterTimer),clearTimeout(e.leaveTimer),i?(t.persist(),e.enterTimer=setTimeout((function(){e.handleOpen(t)}),i)):e.handleOpen(t))},e.handleOpen=function(t){e.isControlled||e.setState({open:!0}),e.props.onOpen&&e.props.onOpen(t,!0)},e.handleLeave=function(t){var n=e.props,r=n.children,i=n.leaveDelay,o=r.props;"blur"===t.type&&o.onBlur&&o.onBlur(t),"mouseleave"===t.type&&o.onMouseLeave&&o.onMouseLeave(t),clearTimeout(e.enterTimer),clearTimeout(e.leaveTimer),i?(t.persist(),e.leaveTimer=setTimeout((function(){e.handleClose(t)}),i)):e.handleClose(t)},e.handleClose=function(t){e.isControlled||e.setState({open:!1}),e.props.onClose&&e.props.onClose(t,!1),clearTimeout(e.closeTimer),e.closeTimer=setTimeout((function(){e.ignoreNonTouchEvents=!1}),e.props.theme.transitions.duration.shortest)},e.handleTouchStart=function(t){e.ignoreNonTouchEvents=!0;var n=e.props,r=n.children,i=n.enterTouchDelay,o=r.props;o.onTouchStart&&o.onTouchStart(t),clearTimeout(e.leaveTimer),clearTimeout(e.closeTimer),clearTimeout(e.touchTimer),t.persist(),e.touchTimer=setTimeout((function(){e.handleEnter(t)}),i)},e.handleTouchEnd=function(t){var n=e.props,r=n.children,i=n.leaveTouchDelay,o=r.props;o.onTouchEnd&&o.onTouchEnd(t),clearTimeout(e.touchTimer),clearTimeout(e.leaveTimer),t.persist(),e.leaveTimer=setTimeout((function(){e.handleClose(t)}),i)},e.isControlled=null!=t.open,e.isControlled||(e.state.open=!1),e}return(0,c.default)(Tooltip,t),(0,u.default)(Tooltip,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer),clearTimeout(this.touchTimer),clearTimeout(this.closeTimer),this.handleResize.clear()}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=e.classes,s=(e.className,e.disableFocusListener),u=e.disableHoverListener,l=e.disableTouchListener,c=(e.enterDelay,e.enterTouchDelay,e.id),h=(e.leaveDelay,e.leaveTouchDelay,e.onClose,e.onOpen,e.open),b=e.placement,S=e.PopperProps,E=(S=void 0===S?{}:S).className,x=(0,a.default)(S,["className"]),w=e.theme,T=e.title,P=(0,a.default)(e,["children","classes","className","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterTouchDelay","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","theme","title"]),k="rtl"===w.direction?function flipPlacement(t){switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(b):b,C=this.isControlled?h:this.state.open,D={"aria-describedby":c};return""===T&&(C=!1),l||(D.onTouchStart=this.handleTouchStart,D.onTouchEnd=this.handleTouchEnd),u||(D.onMouseOver=this.handleEnter,D.onMouseLeave=this.handleLeave),s||(D.onFocus=this.handleEnter,D.onBlur=this.handleLeave),p.default.createElement(y.Manager,(0,i.default)({tag:!1},P),p.default.createElement(d.default,{target:"window",onResize:this.handleResize}),p.default.createElement(y.Target,null,(function(e){var r=e.targetProps;return p.default.createElement(v.default,{rootRef:function rootRef(e){t.children=e,r.ref(t.children)}},p.default.cloneElement(n,D))})),p.default.createElement(_.default,null,p.default.createElement(y.Popper,(0,i.default)({placement:k,eventsEnabled:C,className:(0,g.default)(r.popper,(0,f.default)({},r.open,C),E),ref:function ref(e){t.popper=e}},x),(function(e){var n=e.popperProps,a=e.restProps,s=(n["data-placement"]||k).split("-")[0];return p.default.createElement("div",(0,i.default)({},n,a,{style:(0,o.default)({},n.style,{top:n.style.top||0,left:n.style.left||0},a.style)}),p.default.createElement("div",{id:c,role:"tooltip","aria-hidden":!C,className:(0,g.default)(r.tooltip,(0,f.default)({},r.open,C),(0,f.default)({},r.touch,t.ignoreNonTouchEvents),r["tooltipPlacement".concat((0,m.capitalize)(s))])},T))}))))}}]),Tooltip}(p.default.Component);x.propTypes={},x.defaultProps={disableFocusListener:!1,disableHoverListener:!1,disableTouchListener:!1,enterDelay:0,enterTouchDelay:1e3,leaveDelay:0,leaveTouchDelay:1500,placement:"bottom"};var w=(0,S.default)(E,{name:"MuiTooltip",withTheme:!0})(x);e.default=w},function(t,e,n){"use strict";var r=n(916);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(36)),a=r(n(28)),s=r(n(11)),u=r(n(0)),l=(r(n(9)),r(n(3))),c=r(n(8)),f=n(74),p=44;function easeOut(t){return t=function getRelativeValue(t,e,n){return(Math.min(Math.max(e,t),n)-e)/(n-e)}(t,0,1),t=(t-=1)*t*t+1}var d=function styles(t){return{root:{display:"inline-block",lineHeight:1},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"mui-progress-circular-rotate 1.4s linear infinite"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"mui-progress-circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes mui-progress-circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes mui-progress-circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-120px"}}}};function CircularProgress(t){var e,n,r=t.classes,c=t.className,d=t.color,h=t.size,g=t.style,y=t.thickness,m=t.value,v=t.variant,_=(0,s.default)(t,["classes","className","color","size","style","thickness","value","variant"]),b={},S={},E={};if("determinate"===v||"static"===v){var x=2*Math.PI*((p-y)/2);b.strokeDasharray=x.toFixed(3),E["aria-valuenow"]=Math.round(m),"static"===v?(b.strokeDashoffset="".concat(((100-m)/100*x).toFixed(3),"px"),S.transform="rotate(-90deg)"):(b.strokeDashoffset="".concat((function easeIn(t){return t*t}((100-m)/100)*x).toFixed(3),"px"),S.transform="rotate(".concat((270*easeOut(m/70)).toFixed(3),"deg)"))}return u.default.createElement("div",(0,i.default)({className:(0,l.default)(r.root,(e={},(0,a.default)(e,r["color".concat((0,f.capitalize)(d))],"inherit"!==d),(0,a.default)(e,r.indeterminate,"indeterminate"===v),(0,a.default)(e,r.static,"static"===v),e),c),style:(0,o.default)({width:h,height:h},S,g),role:"progressbar"},E,_),u.default.createElement("svg",{className:r.svg,viewBox:"".concat(p/2," ").concat(p/2," ").concat(p," ").concat(p)},u.default.createElement("circle",{className:(0,l.default)(r.circle,(n={},(0,a.default)(n,r.circleIndeterminate,"indeterminate"===v),(0,a.default)(n,r.circleStatic,"static"===v),n)),style:b,cx:p,cy:p,r:(p-y)/2,fill:"none",strokeWidth:y})))}e.styles=d,CircularProgress.propTypes={},CircularProgress.defaultProps={color:"primary",size:40,thickness:3.6,value:0,variant:"indeterminate"};var h=(0,c.default)(d,{name:"MuiCircularProgress",flip:!1})(CircularProgress);e.default=h},function(t,e,n){t.exports=n(919)()},function(t,e,n){"use strict";var r=n(920);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports=function(t,e){e=Object.assign({},e);var n=function filter(t){var n=function match(e){return"string"===typeof e?t===e:e.test(t)};return e.include?e.include.some(n):!e.exclude||!e.exclude.some(n)},r=!0,i=!1,o=void 0;try{for(var a,s=Object.getOwnPropertyNames(t.constructor.prototype)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=t[u];"constructor"!==u&&"function"===typeof l&&n(u)&&(t[u]=l.bind(t))}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t};var r=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];t.exports.react=function(e,n){return(n=Object.assign({},n)).exclude=(n.exclude||[]).concat(r),t.exports(e,n)}},function(t,e,n){"use strict";var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}t.exports=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=new Set,a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value,p="undefined"===typeof f?"undefined":i(f);if("string"===p&&f.length>0)o.add(f);else if("object"===p&&null!==f){var d=!0,h=!1,g=void 0;try{for(var y,m=Object.entries(f)[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var v=y.value,_=r(v,2),b=_[0],S=_[1];S&&o.add(b)}}catch(E){h=!0,g=E}finally{try{!d&&m.return&&m.return()}finally{if(h)throw g}}}}}catch(E){s=!0,u=E}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return[].concat(_toConsumableArray(o)).join(" ")}},function(t,e,n){"use strict";var r=n(116),i=n(924),o=n(926),a=n(927),s=n(929),u={},l=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){i.assertShape({query:i.required(i.string),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),proximity:i.coordinates,types:i.arrayOf(i.oneOf(l)),autocomplete:i.boolean,bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string)})(t),t.mode=t.mode||"mapbox.places";var e=a(r({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){i.assertShape({query:i.required(i.coordinates),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),types:i.arrayOf(i.oneOf(l)),bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string),reverseMode:i.oneOf("distance","score")})(t),t.mode=t.mode||"mapbox.places";var e=a(r({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},t.exports=s(u)},function(t,e,n){"use strict";(function(e){var r=n(116),i=n(925);t.exports=r(i,{file:function file(t){if("undefined"!==typeof window){if(t instanceof e.Blob||t instanceof e.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!==typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function date(t){if("boolean"===typeof t)return"date";try{var e=new Date(t);if(e.getTime&&isNaN(e.getTime()))return"date"}catch(n){return"date"}},coordinates:function coordinates(t){return i.tuple(i.number,i.number)(t)},assertShape:function assertShape(t,e){return i.assert(i.strictShape(t),e)}})}).call(this,n(32))},function(t,e,n){"use strict";var r=n(336),i=n(116),o="value",a={};function createArrayValidator(t){var e=Array.isArray(t),n=function getValidator(n){return e?t[n]:t};return function arrayValidator(r){var i=validate(a.plainArray,r);if(i)return i;if(e&&r.length!==t.length)return"an array with "+t.length+" items";for(var o=0;o<r.length;o++)if(i=validate(n(o),r[o]))return[o].concat(i)}}function validate(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function processMessage(t,e){var n=t.length,r=t[n-1],a=t.slice(0,n-1);return 0===a.length&&(a=[o]),e=i(e,{path:a}),"function"===typeof r?r(e):formatErrorMessage(e,function prettifyResult(t){return"must be "+function addArticle(t){if(/^an? /.test(t))return t;if(/^[aeiou]/i.test(t))return"an "+t;if(/^[a-z]/i.test(t))return"a "+t;return t}(t)+"."}(r))}function orList(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function formatErrorMessage(t,e){return(isArrayCulprit(t.path)?"Item at position ":"")+(t.path.join(".")+" "+e)}function isArrayCulprit(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}a.assert=function(t,e){return e=e||{},function(n){var r=validate(t,n);if(r){var i=processMessage(r,e);throw e.apiName&&(i=e.apiName+": "+i),new Error(i)}}},a.shape=function shape(t){var e=function objectEntries(t){return Object.keys(t||{}).map((function(e){return{key:e,value:t[e]}}))}(t);return function shapeValidator(t){var n,r=validate(a.plainObject,t);if(r)return r;for(var i=[],s=0;s<e.length;s++)n=e[s].key,(r=validate(e[s].value,t[n]))&&i.push([n].concat(r));return i.length<2?i[0]:function(t){i=i.map((function(e){return"- "+e[0]+": "+processMessage(e,t).split("\n").join("\n  ")}));var e=t.path.join(".");return"The following properties"+(e===o?"":" of "+e)+" have invalid values:\n  "+i.join("\n  ")}}},a.strictShape=function strictShape(t){var e=a.shape(t);return function strictShapeValidator(n){var r=e(n);if(r)return r;var i=Object.keys(n).reduce((function(e,n){return void 0===t[n]&&e.push(n),e}),[]);return 0!==i.length?function(){return"The following keys are invalid: "+i.join(", ")}:void 0}},a.arrayOf=function arrayOf(t){return createArrayValidator(t)},a.tuple=function tuple(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return createArrayValidator(t)},a.required=function required(t){function requiredValidator(e){return null==e?function(t){return formatErrorMessage(t,isArrayCulprit(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return requiredValidator.__required=!0,requiredValidator},a.oneOfType=function oneOfType(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function oneOfTypeValidator(e){var n=t.map((function(t){return validate(t,e)})).filter(Boolean);if(n.length===t.length)return n.every((function(t){return 1===t.length&&"string"===typeof t[0]}))?orList(n.map((function(t){return t[0]}))):n.reduce((function(t,e){return e.length>t.length?e:t}))}},a.equal=function equal(t){return function equalValidator(e){if(e!==t)return JSON.stringify(t)}},a.oneOf=function oneOf(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return a.equal(t)}));return a.oneOfType.apply(this,e)},a.range=function range(t){var e=t[0],n=t[1];return function rangeValidator(t){if(validate(a.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},a.any=function any(){},a.boolean=function boolean(t){if("boolean"!==typeof t)return"boolean"},a.number=function number(t){if("number"!==typeof t)return"number"},a.plainArray=function plainArray(t){if(!Array.isArray(t))return"array"},a.plainObject=function plainObject(t){if(!r(t))return"object"},a.string=function string(t){if("string"!==typeof t)return"string"},a.func=function func(t){if("function"!==typeof t)return"function"},a.validate=validate,a.processMessage=processMessage,t.exports=a},function(t,e,n){"use strict";t.exports=function pick(t,e){var n=function filter(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"===typeof e&&(n=e),Object.keys(t).filter((function(e){return n(e,t[e])})).reduce((function(e,n){return e[n]=t[n],e}),{})}},function(t,e,n){"use strict";var r=n(928);t.exports=function stringifyBoolean(t){return r(t,(function(t,e){return"boolean"===typeof e?JSON.stringify(e):e}))}},function(t,e,n){"use strict";t.exports=function objectMap(t,e){return Object.keys(t).reduce((function(n,r){return n[r]=e(r,t[r]),n}),{})}},function(t,e,n){"use strict";var r=n(383),i=n(935);t.exports=function createServiceFactory(t){return function(e){var n;n=r.prototype.isPrototypeOf(e)?e:i(e);var o=Object.create(t);return o.client=n,o}}},function(t,e,n){(function(t,r){var i;!function(o){var a=e,s=(t&&t.exports,"object"==typeof r&&r);s.global!==s&&s.window;var u=function InvalidCharacterError(t){this.message=t};(u.prototype=new Error).name="InvalidCharacterError";var l=function error(t){throw new u(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,p={encode:function encode(t){t=String(t),/[^\0-\xFF]/.test(t)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,o=t.length%3,a="",s=-1,u=t.length-o;++s<u;)e=t.charCodeAt(s)<<16,n=t.charCodeAt(++s)<<8,r=t.charCodeAt(++s),a+=c.charAt((i=e+n+r)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==o?(e=t.charCodeAt(s)<<8,n=t.charCodeAt(++s),a+=c.charAt((i=e+n)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(s),a+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),a},decode:function decode(t){var e=(t=String(t).replace(f,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",a=-1;++a<e;)r=c.indexOf(t.charAt(a)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"0.1.0"};void 0===(i=function(){return p}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(931)(t),n(32))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(384),i=n(116),o=n(933),a=n(934),s=n(200),u=1;function MapiRequest(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var r=i(n,e.headers),a=Object.keys(r).reduce((function(t,e){return t[e.toLowerCase()]=r[e],t}),{});this.id=u++,this._options=e,this.emitter=new o,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.headers=a}MapiRequest.prototype.url=function url(t){var url=a.prependOrigin(this.path,this.origin);url=a.appendQueryObject(url,this.query);var e=this.params;if(t){url=a.appendQueryParam(url,"access_token",t);var n=r(t).user;e=i({ownerId:n},e)}return url=a.interpolateRouteParams(url,e),url},MapiRequest.prototype.send=function send(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(s.EVENT_RESPONSE,e),e}),(function(e){throw t.error=e,t.emitter.emit(s.EVENT_ERROR,e),e}))},MapiRequest.prototype.abort=function abort(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},MapiRequest.prototype.eachPage=function eachPage(t){var e=this;function handleResponse(n){t(null,n,(function getNextPage(){delete e._nextPageRequest;var t=n.nextPage();t&&(e._nextPageRequest=t,getPage(t))}))}function handleError(e){t(e,null,(function(){}))}function getPage(t){t.send().then(handleResponse,handleError)}getPage(this)},MapiRequest.prototype.clone=function clone(){return this._extend()},MapiRequest.prototype._extend=function _extend(t){var e=i(this._options,t);return new MapiRequest(this.client,e)},t.exports=MapiRequest},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function Events(){}function EE(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function addListener(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new EE(n,r||t,o),s=i?i+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function clearEvent(t,e){0===--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(i=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},EventEmitter.prototype.listeners=function listeners(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},EventEmitter.prototype.listenerCount=function listenerCount(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},EventEmitter.prototype.emit=function emit(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},EventEmitter.prototype.on=function on(t,e,n){return addListener(this,t,e,n,!1)},EventEmitter.prototype.once=function once(t,e,n){return addListener(this,t,e,n,!0)},EventEmitter.prototype.removeListener=function removeListener(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return clearEvent(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||clearEvent(this,o);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e;return t?(e=i?i+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=i,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},function(t,e,n){"use strict";function encodeValue(t){return Array.isArray(t)?function encodeArray(t){return t.map(encodeURIComponent).join(",")}(t):encodeURIComponent(String(t))}function appendQueryParam(t,e,n){if(!1===n||null===n)return t;var r=/\?/.test(t)?"&":"?",i=encodeURIComponent(e);return void 0!==n&&""!==n&&!0!==n&&(i+="="+encodeValue(n)),""+t+r+i}t.exports={appendQueryObject:function appendQueryObject(t,e){if(!e)return t;var n=t;return Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(Array.isArray(r)&&(r=r.filter((function(t){return!!t})).join(",")),n=appendQueryParam(n,t,r))})),n},appendQueryParam:appendQueryParam,prependOrigin:function prependOrigin(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t},interpolateRouteParams:function interpolateRouteParams(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,n){var r=e[n];if(void 0===r)throw new Error("Unspecified route parameter "+n);return"/"+encodeValue(r)})):t}}},function(t,e,n){"use strict";var r=n(936),i=n(383);function BrowserClient(t){i.call(this,t)}BrowserClient.prototype=Object.create(i.prototype),BrowserClient.prototype.constructor=BrowserClient,BrowserClient.prototype.sendRequest=r.browserSend,BrowserClient.prototype.abortRequest=r.browserAbort,t.exports=function createBrowserClient(t){return new BrowserClient(t)}},function(t,e,n){"use strict";var r=n(937),i=n(939),o=n(200),a=n(940),s={};function normalizeBrowserProgressEvent(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function sendRequestXhr(t,e){return new Promise((function(n,r){e.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,normalizeBrowserProgressEvent(e))},e.upload.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_UPLOAD,normalizeBrowserProgressEvent(e))},e.onerror=function(t){r(t)},e.onabort=function(){var e=new i({request:t,type:o.ERROR_REQUEST_ABORTED});r(e)},e.onload=function(){if(delete s[t.id],e.status<200||e.status>=400){var o=new i({request:t,body:e.response,statusCode:e.status});r(o)}else n(e)};var a=t.body,u=t.file;"string"===typeof a?e.send(a):a?e.send(JSON.stringify(a)):u?e.send(u):e.send(),s[t.id]=e})).then((function(e){return function createResponse(t,e){return new r(t,{body:e.response,headers:a(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)}))}function createRequestXhr(t,e){var n=t.url(e),r=new window.XMLHttpRequest;return r.open(t.method,n),t.headers&&Object.keys(t.headers).forEach((function(e){r.setRequestHeader(e,t.headers[e])})),r}t.exports={browserAbort:function browserAbort(t){var e=s[t.id];e&&(e.abort(),delete s[t.id])},sendRequestXhr:sendRequestXhr,browserSend:function browserSend(t){return Promise.resolve().then((function(){var e=createRequestXhr(t,t.client.accessToken);return sendRequestXhr(t,e)}))},createRequestXhr:createRequestXhr}},function(t,e,n){"use strict";var r=n(938);function MapiResponse(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(n){this.body=e.body}this.links=r(this.headers.link)}MapiResponse.prototype.hasNextPage=function hasNextPage(){return!!this.links.next},MapiResponse.prototype.nextPage=function nextPage(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=MapiResponse},function(t,e,n){"use strict";t.exports=function parseLinkHeader(t){return t?t.split(/,\s*</).reduce((function(t,e){var n=function parseLink(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],r=e[2].split(";"),i=null,o=r.reduce((function(t,e){var n=function parseParam(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return n?"rel"===n.key?(i||(i=n.value),t):(t[n.key]=n.value,t):t}),{});return i?{url:n,rel:i,params:o}:null}(e);return n?(n.rel.split(/\s+/).forEach((function(e){t[e]||(t[e]={url:n.url,params:n.params})})),t):t}),{}):{}}},function(t,e,n){"use strict";var r=n(200);t.exports=function MapiError(t){var e,n=t.type||r.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(o){e=t.body}else e=null;var i=t.message||null;i||("string"===typeof e?i=e:e&&"string"===typeof e.message?i=e.message:n===r.ERROR_REQUEST_ABORTED&&(i="Request aborted")),this.message=i,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}},function(t,e,n){"use strict";t.exports=function parseHeaders(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var n=function parseSingleHeader(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[n.name]=n.value})),e):e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});_interopRequireDefault(n(0));var r=_interopRequireDefault(n(385));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)()((function Measure(t){var e=t.measure,n=t.measureRef,r=t.contentRect;return(0,t.children)({measure:e,measureRef:n,contentRect:r})})),t.exports=e.default},function(t,e,n){t.exports=n(943)()},function(t,e,n){"use strict";var r=n(944),i=n(945),o=n(946);t.exports=function(){function shim(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=r,t.PropTypes=t,t}},function(t,e,n){"use strict";function makeEmptyFunction(t){return function(){return t}}var r=function emptyFunction(){};r.thatReturns=makeEmptyFunction,r.thatReturnsFalse=makeEmptyFunction(!1),r.thatReturnsTrue=makeEmptyFunction(!0),r.thatReturnsNull=makeEmptyFunction(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";var r=function validateFormat(t){};t.exports=function invariant(t,e,n,i,o,a,s,u){if(r(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],f=0;(l=new Error(e.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";n.r(e),function(t){var n=function(){if("undefined"!==typeof Map)return Map;function getIndex(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function anonymous(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},anonymous.prototype.get=function(t){var e=getIndex(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},anonymous.prototype.set=function(t,e){var n=getIndex(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},anonymous.prototype.delete=function(t){var e=this.__entries__,n=getIndex(e,t);~n&&e.splice(n,1)},anonymous.prototype.has=function(t){return!!~getIndex(this.__entries__,t)},anonymous.prototype.clear=function(){this.__entries__.splice(0)},anonymous.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];t.call(e,i[1],i[0])}},Object.defineProperties(anonymous.prototype,t),anonymous}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=2,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,l=function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(t,e){var n=!1,r=!1,i=0;function resolvePending(){n&&(n=!1,t()),r&&proxy()}function timeoutCallback(){o(resolvePending)}function proxy(){var t=Date.now();if(n){if(t-i<a)return;r=!0}else n=!0,r=!1,setTimeout(timeoutCallback,e);i=t}return proxy}(this.refresh.bind(this),20)};l.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},l.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},l.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),s.some((function(t){return!!~e.indexOf(t)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var c=function defineConfigurable(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function getWindowOf(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},p=createRectInit(0,0,0,0);function toFloat(t){return parseFloat(t)||0}function getBordersSize(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce((function(e,n){return e+toFloat(t["border-"+n+"-width"])}),0)}function getHTMLElementContentRect(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=f(t).getComputedStyle(t),i=function getPaddings(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=t["padding-"+i];e[i]=toFloat(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=toFloat(r.width),u=toFloat(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=getBordersSize(r,"left","right")+o),Math.round(u+a)!==n&&(u-=getBordersSize(r,"top","bottom")+a)),!function isDocumentElement(t){return t===f(t).document.documentElement}(t)){var l=Math.round(s+o)-e,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return createRectInit(i.left,i.top,s,u)}var d="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"===typeof t.getBBox};function getContentRect(t){return r?d(t)?function getSVGContentRect(t){var e=t.getBBox();return createRectInit(0,0,e.width,e.height)}(t):getHTMLElementContentRect(t):p}function createRectInit(t,e,n,r){return{x:t,y:e,width:n,height:r}}var h=function ResizeObservation(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=t};h.prototype.isActive=function(){var t=getContentRect(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},h.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var g=function ResizeObserverEntry(t,e){var n=function createReadOnlyRect(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return c(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);c(this,{target:t,contentRect:n})},y=function ResizeObserverSPI(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r};y.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new h(t)),this.controller_.addObserver(this),this.controller_.refresh())}},y.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},y.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},y.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},y.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new g(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},y.prototype.clearActive=function(){this.activeObservations_.splice(0)},y.prototype.hasActive=function(){return this.activeObservations_.length>0};var m="undefined"!==typeof WeakMap?new WeakMap:new n,v=function ResizeObserver(t){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=l.getInstance(),n=new y(t,e,this);m.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){v.prototype[t]=function(){return(e=m.get(this))[t].apply(e,arguments);var e}}));var _="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:v;e.default=_}.call(this,n(32))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getTypes(t){var e=[];return r.forEach((function(n){t[n]&&e.push(n)})),e};var r=["client","offset","scroll","bounds","margin"];t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getContentRect(t,e){var n={};if(e.indexOf("client")>-1&&(n.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(n.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(n.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var r=t.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(e.indexOf("margin")>-1){var i=getComputedStyle(t);n.margin={top:parseInt(i.marginTop),right:parseInt(i.marginRight),bottom:parseInt(i.marginBottom),left:parseInt(i.marginLeft)}}return n},t.exports=e.default},function(t,e,n){n(951),t.exports=n(56).Object.getPrototypeOf},function(t,e,n){var r=n(160),i=n(326);n(271)("getPrototypeOf",(function(){return function getPrototypeOf(t){return i(r(t))}}))},function(t,e,n){n(953);var r=n(56).Object;t.exports=function defineProperty(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(82);r(r.S+r.F*!n(111),"Object",{defineProperty:n(101).f})},function(t,e,n){n(955),t.exports=n(56).Object.assign},function(t,e,n){var r=n(82);r(r.S+r.F,"Object",{assign:n(956)})},function(t,e,n){"use strict";var r=n(158),i=n(262),o=n(198),a=n(160),s=n(324),u=Object.assign;t.exports=!u||n(136)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r}))?function assign(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var p,d=s(arguments[l++]),h=c?r(d).concat(c(d)):r(d),g=h.length,y=0;g>y;)f.call(d,p=h[y++])&&(n[p]=d[p]);return n}:u},function(t,e,n){"use strict";var r=n(958);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){n(960),t.exports=n(56).Object.keys},function(t,e,n){var r=n(160),i=n(158);n(271)("keys",(function(){return function keys(t){return i(r(t))}}))},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=!("undefined"===typeof window||!window.document||!window.document.createElement);e.default=r,t.exports=e.default},function(t,e,n){n(963);var r=n(56).Object;t.exports=function getOwnPropertyDescriptor(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(123),i=n(263).f;n(271)("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(t,e){return i(r(t),e)}}))},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(28)),a=r(n(11)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=n(74),f=function styles(t){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:-12,right:-12,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeight,fontSize:t.typography.pxToRem(12),width:24,height:24,borderRadius:"50%",backgroundColor:t.palette.color,color:t.palette.textColor,zIndex:1},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorError:{backgroundColor:t.palette.error.main,color:t.palette.error.contrastText}}};function Badge(t){var e=t.badgeContent,n=t.children,r=t.classes,l=t.className,f=t.color,p=t.component,d=(0,a.default)(t,["badgeContent","children","classes","className","color","component"]),h=(0,u.default)(r.badge,(0,o.default)({},r["color".concat((0,c.capitalize)(f))],"default"!==f));return s.default.createElement(p,(0,i.default)({className:(0,u.default)(r.root,l)},d),n,s.default.createElement("span",{className:h},e))}e.styles=f,Badge.propTypes={},Badge.defaultProps={color:"default",component:"span"};var p=(0,l.default)(f,{name:"MuiBadge"})(Badge);e.default=p},function(t,e,n){t.exports=function(){"use strict";var t,e,n;function define(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(n=i(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else e=i;else t=i}return define(0,(function(E){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var T=n;function n(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var P=a;function a(t,e){this.x=t,this.y=e}function o(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!o(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!o(t[r],e[r]))return!1;return!0}return t===e}function s(t,e,n,r){var i=new T(t,e,n,r);return function(t){return i.solve(t)}}a.prototype={clone:function clone(){return new a(this.x,this.y)},add:function add(t){return this.clone()._add(t)},sub:function sub(t){return this.clone()._sub(t)},multByPoint:function multByPoint(t){return this.clone()._multByPoint(t)},divByPoint:function divByPoint(t){return this.clone()._divByPoint(t)},mult:function mult(t){return this.clone()._mult(t)},div:function div(t){return this.clone()._div(t)},rotate:function rotate(t){return this.clone()._rotate(t)},rotateAround:function rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult:function matMult(t){return this.clone()._matMult(t)},unit:function unit(){return this.clone()._unit()},perp:function perp(){return this.clone()._perp()},round:function round(){return this.clone()._round()},mag:function mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function equals(t){return this.x===t.x&&this.y===t.y},dist:function dist(t){return Math.sqrt(this.distSqr(t))},distSqr:function distSqr(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function angle(){return Math.atan2(this.y,this.x)},angleTo:function angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function _matMult(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function _add(t){return this.x+=t.x,this.y+=t.y,this},_sub:function _sub(t){return this.x-=t.x,this.y-=t.y,this},_mult:function _mult(t){return this.x*=t,this.y*=t,this},_div:function _div(t){return this.x/=t,this.y/=t,this},_multByPoint:function _multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function _divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit:function _unit(){return this._div(this.mag()),this},_perp:function _perp(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function _rotate(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function _rotateAround(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function _round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var D=s(.25,.1,.25,1);function l(t,e,n){return Math.min(n,Math.max(e,t))}function p(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function c(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var R=1;function f(){return R++}function y(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function m(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function g(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function x(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?g(t,b):t}var M={};function w(t){M[t]||("undefined"!=typeof console&&console.warn(t),M[t]=!0)}function A(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function k(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],e+=((a=t[i]).x-o.x)*(o.y+a.y);return e}function S(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}function z(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var L,I,O,F,N=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,V=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,W={now:N,frame:function frame(t){var e=j(t);return{cancel:function cancel(){return V(e)}}},getImageData:function getImageData(t,e){void 0===e&&(e=0);var n=self.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function resolveURL(t){return L||(L=self.document.createElement("a")),L.href=t,L.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==I&&(I=self.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},H={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Y={supported:!1,testSupport:function testSupport(t){!Z&&F&&($?U(t):O=t)}},Z=!1,$=!1;function U(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,F),t.isContextLost())return;Y.supported=!0}catch(t){}t.deleteTexture(e),Z=!0}self.document&&((F=self.document.createElement("img")).onload=function(){O&&U(O),O=null,$=!0},F.onerror=function(){Z=!0,O=null},F.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Q="01",tt=function j(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function q(t){return 0===t.indexOf("mapbox:")}tt.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Q,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},tt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},tt.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},tt.prototype.normalizeStyleURL=function(t,e){if(!q(t))return t;var n=X(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},tt.prototype.normalizeGlyphsURL=function(t,e){if(!q(t))return t;var n=X(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},tt.prototype.normalizeSourceURL=function(t,e){if(!q(t))return t;var n=X(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},tt.prototype.normalizeSpriteURL=function(t,e,n,r){var i=X(t);return q(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,G(i))},tt.prototype.normalizeTileURL=function(t,e,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),!e||!q(e))return t;var r=X(t),i=W.devicePixelRatio>=2||512===n?"@2x":"",o=Y.supported?".webp":"$1";return r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+i+o),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path,H.REQUIRE_ACCESS_TOKEN&&(H.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,this._customAccessToken)},tt.prototype.canonicalizeTileURL=function(t){var e=X(t);if(!e.path.match(/(^\/v4\/)/)||!e.path.match(/\.[\w]+$/))return t;var n="mapbox://tiles/";n+=e.path.replace("/v4/","");var r=e.params.filter((function(t){return!t.match(/^access_token=/)}));return r.length&&(n+="?"+r.join("&")),n},tt.prototype.canonicalizeTileset=function(t,e){if(!q(e))return t.tiles||[];for(var n=[],r=0,i=t.tiles;r<i.length;r+=1){var o=i[r],a=this.canonicalizeTileURL(o);n.push(a)}return n},tt.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(H.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"/"!==r.path&&(t.path=""+r.path+t.path),!H.REQUIRE_ACCESS_TOKEN)return G(t);if(!(e=e||H.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),G(t)};var et=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(t){return et.test(t)}var nt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(t){var e=t.match(nt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function G(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e,n=t.split(".");if(!n||3!==n.length)return null;try{return JSON.parse((e=n[1],decodeURIComponent(self.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(t){return null}}var rt=function H(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};rt.prototype.getStorageKey=function(t){var e,n=J(H.ACCESS_TOKEN),r="";return n&&n.u?(e=n.u,r=self.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))})))):r=H.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+r:"mapbox.eventData:"+r},rt.prototype.fetchEventData=function(){var t=z("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=self.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){w("Unable to read from LocalStorage")}},rt.prototype.saveEventData=function(){var t=z("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){w("Unable to write to LocalStorage")}},rt.prototype.processRequests=function(t){},rt.prototype.postEvent=function(t,e,n,r){var i=this;if(H.EVENTS_URL){var o=X(H.EVENTS_URL);o.params.push("access_token="+(r||H.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.4.0",skuId:Q,userId:this.anonId},s=e?c(a,e):a,u={url:G(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ut(u,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},rt.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var it,at=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n,(H.EVENTS_URL&&r||H.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return q(t)||K(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(rt),lt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postTurnstileEvent=function(t,e){H.EVENTS_URL&&H.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return q(t)||K(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(H.ACCESS_TOKEN),r=n?n.u:H.ACCESS_TOKEN,i=r!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}(rt)),ct=lt.postTurnstileEvent.bind(lt),ft=new at,pt=ft.postMapLoadEvent.bind(ft),gt="mapbox-tiles",St=500,xt=50,Tt=42e4;function st(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var kt=1/0,Dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Dt);var Rt=function(t){function e(e,n,r){401===n&&K(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function ht(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var Lt=ht()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function yt(t,e){var n,r=new self.AbortController,i=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:Lt(),signal:r.signal}),o=!1,a=!1,s=(n=i.url).indexOf("sku=")>0&&K(n);"json"===t.type&&i.headers.set("Accept","application/json");var c=function u(n,r,o){if(!a){if(n&&"SecurityError"!==n.message&&w(n),r&&o)return f(r);var u=Date.now();self.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return f(n,r,u)}return e(new Rt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},f=function l(n,r,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){a||(r&&s&&function ot(t,e,n){if(self.caches){var r={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=S(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<Tt||function(t,e){if(void 0===it)try{new Response(new ReadableStream),it=!0}catch(t){it=!1}it?e(t.body):t.blob().then(e)}(e,(function(e){var n=new self.Response(e,r);self.caches.open(gt).then((function(e){return e.put(st(t.url),n)})).catch((function(t){return w(t.message)}))})))}}(i,r,s),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){return e(new Error(t.message))}))};return s?function ut(t,e){if(!self.caches)return e(null);var n=st(t.url);self.caches.open(gt).then((function(t){t.match(n).catch(e).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")),n=S(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)}))})).catch(e)}(i,c):c(null,null),{cancel:function cancel(){a=!0,o||r.abort()}}}var It,Ot,Ft=function dt(t,e){if(n=t.url,!(/^file:/.test(n)||/^file:/.test(Lt())&&!/^\w+:/.test(n))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return yt(t,e);if(ht()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e)}var n;return function(t,e){var n=new self.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new Rt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function cancel(){return n.abort()}}}(t,e)},Nt=function mt(t,e){return Ft(c(t,{type:"arrayBuffer"}),e)},Ut=function vt(t,e){return Ft(c(t,{method:"POST"}),e)};function _t(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function wt(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}It=[],Ot=0;var zt=function At(t,e){void 0===e&&(e={}),c(this,e),this.type=t},jt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",c({error:e},n))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zt),Vt=function St(){};Vt.prototype.on=function(t,e){return this._listeners=this._listeners||{},_t(t,e,this._listeners),this},Vt.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Vt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},_t(t,e,this._oneTimeListeners),this},Vt.prototype.fire=function(t,e){"string"==typeof t&&(t=new zt(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];wt(n,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(c(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof jt&&console.error(t.error);return this},Vt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Vt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Gt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"image",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Wt=function It(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function Ct(t){var e=t.key,n=t.value;return n?[new Wt(e,n,"constants have been deprecated as of v8")]:[]}function Bt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Et(t){return t instanceof Number||t instanceof String||t instanceof Boolean}function Mt(t){return Et(t)?t.valueOf():t}function Pt(t){if(Array.isArray(t))return t.map(Pt);if(t instanceof Object&&!Et(t)){var e={};for(var n in t)e[n]=Pt(t[n]);return e}return Mt(t)}var qt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ht=function Vt(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};Ht.prototype.concat=function(t){return new Ht(this,t)},Ht.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ht.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Kt={kind:"null"},Yt={kind:"number"},$t={kind:"string"},Qt={kind:"boolean"},te={kind:"color"},ie={kind:"object"},oe={kind:"value"},ae={kind:"collator"},se={kind:"formatted"},ce={kind:"image"};function Zt(t,e){return{kind:"array",itemType:t,N:e}}function Xt(t){if("array"===t.kind){var e=Xt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var fe=[Kt,Yt,$t,Qt,te,se,ie,Zt(oe),ce];function Jt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Jt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=fe;n<r.length;n+=1)if(!Jt(r[n],e))return null}return"Expected "+Xt(t)+" but found "+Xt(e)+" instead."}var pe=e((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function a(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),f=i.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=o(f.pop());case"rgb":return 3!==f.length?null:[a(f[0]),a(f[1]),a(f[2]),p];case"hsla":if(4!==f.length)return null;p=o(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,h=o(f[1]),g=o(f[2]),y=g<=.5?g*(h+1):g+h-g*h,m=2*g-y;return[n(255*s(m,y,d+1/3)),n(255*s(m,y,d)),n(255*s(m,y,d-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,he=function Yt(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};he.parse=function(t){if(t){if(t instanceof he)return t;if("string"==typeof t){var e=pe(t);if(e)return new he(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},he.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},he.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},he.black=new he(0,0,0,1),he.white=new he(1,1,1,1),he.transparent=new he(0,0,0,0),he.red=new he(1,0,0,1);var ye=function $t(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ye.prototype.compare=function(t,e){return this.collator.compare(t,e)},ye.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Se=function Wt(t,e,n,r){this.text=t,this.scale=e,this.fontStack=n,this.textColor=r},Ee=function Qt(t){this.sections=t};Ee.fromString=function(t){return new Ee([new Se(t,null,null,null)])},Ee.prototype.toString=function(){return this.sections.map((function(t){return t.text})).join("")},Ee.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}return t};var xe=function te(t){this.name=t.name,this.available=t.available};function ee(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function re(t){if(null===t)return Kt;if("string"==typeof t)return $t;if("boolean"==typeof t)return Qt;if("number"==typeof t)return Yt;if(t instanceof he)return te;if(t instanceof ye)return ae;if(t instanceof Ee)return se;if(t instanceof xe)return ce;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=re(i[r]);if(e){if(e===o)continue;e=oe;break}e=o}return Zt(e||oe,n)}return ie}function ne(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof he||t instanceof Ee||t instanceof xe?t.toString():JSON.stringify(t)}xe.prototype.toString=function(){return this.name},xe.fromString=function(t){return new xe(t)},xe.prototype.serialize=function(){return["image",this.name]};var we=function ie(t,e){this.type=t,this.value=e};we.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof he)return!0;if(e instanceof ye)return!0;if(e instanceof Ee)return!0;if(e instanceof xe)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],r=re(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new we(r,n)},we.prototype.evaluate=function(){return this.value},we.prototype.eachChild=function(){},we.prototype.possibleOutputs=function(){return[this.value]},we.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof he?["rgba"].concat(this.value.toArray()):this.value instanceof Ee?this.value.serialize():this.value};var Te=function ae(t){this.name="ExpressionEvaluationError",this.message=t};Te.prototype.toJSON=function(){return this.message};var Pe={string:$t,number:Yt,boolean:Qt,object:ie},ke=function se(t,e){this.type=t,this.args=e};ke.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in Pe)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=Pe[s],r++}else o=oe;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Zt(o,a)}else n=Pe[i];for(var u=[];r<t.length;r++){var l=e.parse(t[r],r,oe);if(!l)return null;u.push(l)}return new ke(n,u)},ke.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Jt(this.type,re(n)))return n;if(e===this.args.length-1)throw new Te("Expected value to be of type "+Xt(this.type)+", but found "+Xt(re(n))+" instead.")}return null},ke.prototype.eachChild=function(t){this.args.forEach(t)},ke.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},ke.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var Ce=function ue(t){this.type=se,this.sections=t};Ce.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,oe);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Yt)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Zt($t))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,te)))return null;n.push({text:i,scale:s,font:u,textColor:l})}return new Ce(n)},Ce.prototype.evaluate=function(t){return new Ee(this.sections.map((function(e){return new Se(ne(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},Ce.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},Ce.prototype.possibleOutputs=function(){return[void 0]},Ce.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var Me=function le(t){this.type=ce,this.input=t};Me.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,$t);return n?new Me(n):e.error("No image name provided.")},Me.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=!1;return t.availableImages&&t.availableImages.indexOf(e)>-1&&(n=!0),{name:e,available:n}},Me.prototype.eachChild=function(t){t(this.input)},Me.prototype.possibleOutputs=function(){return[void 0]},Me.prototype.serialize=function(){return["image",this.input.serialize()]};var Ie={"to-boolean":Qt,"to-color":te,"to-number":Yt,"to-string":$t},Ne=function ce(t,e){this.type=t,this.args=e};Ne.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=Ie[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,oe);if(!a)return null;i.push(a)}return new Ne(r,i)},Ne.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof he)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ee(e[0],e[1],e[2],e[3])))return new he(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Te(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new Te("Could not convert "+JSON.stringify(a)+" to number.")}if("formatted"===this.type.kind)return Ee.fromString(ne(this.args[0].evaluate(t)));if("image"===this.type.kind){var c=ne(this.args[0].evaluate(t));return xe.fromString({name:c,available:!1})}return ne(this.args[0].evaluate(t))},Ne.prototype.eachChild=function(t){this.args.forEach(t)},Ne.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Ne.prototype.serialize=function(){if("formatted"===this.type.kind)return new Ce([{text:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("image"===this.type.kind)return new Me(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Be=["Unknown","Point","LineString","Polygon"],ze=function fe(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};ze.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ze.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Be[this.feature.type]:this.feature.type:null},ze.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ze.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=he.parse(t)),e};var je=function ye(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};je.prototype.evaluate=function(t){return this._evaluate(t,this.args)},je.prototype.eachChild=function(t){this.args.forEach(t)},je.prototype.possibleOutputs=function(){return[void 0]},je.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},je.parse=function(t,e){var n,r=t[0],i=je.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var f=c[l],p=f[0],d=f[1];u=new He(e.registry,e.path,null,e.scope);for(var h=[],g=!1,y=1;y<t.length;y++){var m=t[y],v=Array.isArray(p)?p[y-1]:p.type,_=u.parse(m,1+h.length,v);if(!_){g=!0;break}h.push(_)}if(!g)if(Array.isArray(p)&&p.length!==h.length)u.error("Expected "+p.length+" arguments, but found "+h.length+" instead.");else{for(var b=0;b<h.length;b++){var S=Array.isArray(p)?p[b]:p.type,E=h[b];u.concat(b+1).checkSubtype(S,E.type)}if(0===u.errors.length)return new je(r,o,d,h)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var x=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Xt).join(", ")+")":"("+Xt(e.type)+"...)"})).join(" | "),w=[],T=1;T<t.length;T++){var P=e.parse(t[T],1+w.length);if(!P)return null;w.push(Xt(P.type))}e.error("Expected arguments of type "+x+", but found ("+w.join(", ")+") instead.")}return null},je.register=function(t,e){for(var n in je.definitions=e,e)t[n]=je};var Ge=function de(t,e,n){this.type=ae,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function me(t){if(t instanceof je){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!me(t)&&(e=!1)})),e}function ve(t){if(t instanceof je&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!ve(t)&&(e=!1)})),e}function ge(t,e){if(t instanceof je&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!ge(t,e)&&(n=!1)})),n}Ge.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Qt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Qt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,$t))?null:new Ge(r,i,o)},Ge.prototype.evaluate=function(t){return new ye(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Ge.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Ge.prototype.possibleOutputs=function(){return[void 0]},Ge.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var qe=function xe(t,e){this.type=e.type,this.name=t,this.boundExpression=e};qe.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new qe(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},qe.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},qe.prototype.eachChild=function(){},qe.prototype.possibleOutputs=function(){return[void 0]},qe.prototype.serialize=function(){return["var",this.name]};var He=function be(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Ht),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function _e(t,e){for(var n,r,i=t.length-1,o=0,a=i,s=0;o<=a;)if(n=t[s=Math.floor((o+a)/2)],r=t[s+1],n<=e){if(s===i||e<r)return s;o=s+1}else{if(!(n>e))throw new Te("Input is not a number.");a=s-1}return 0}He.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},He.prototype._parse=function(t,e){function r(t,e,n){return"assert"===n?new ke(e,[t]):"coerce"===n?new Ne(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"image"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=r(o,a,e.typeAnnotation||"coerce");else o=r(o,a,e.typeAnnotation||"assert")}if(!(o instanceof we)&&"image"!==o.type.kind&&function t(e){if(e instanceof qe)return t(e.boundExpression);if(e instanceof je&&"error"===e.name)return!1;if(e instanceof Ge)return!1;var n=e instanceof Ne||e instanceof ke,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof we})),!!r&&me(e)&&ge(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new ze;try{o=new we(o.type,o.evaluate(u))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},He.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new He(this.registry,r,e||null,i,this.errors)},He.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new qt(r,t))},He.prototype.checkSubtype=function(t,e){var n=Jt(t,e);return n&&this.error(n),n};var Ke=function we(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function Ae(t,e,n){return t*(1-n)+e*n}Ke.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Yt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],u=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ke(i,n,r)},Ke.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[_e(e,r)].evaluate(t)},Ke.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ke.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Ke.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ye=Object.freeze({number:Ae,color:function color(t,e,n){return new he(Ae(t.r,e.r,n),Ae(t.g,e.g,n),Ae(t.b,e.b,n),Ae(t.a,e.a,n))},array:function array(t,e,n){return t.map((function(t,r){return Ae(t,e[r],n)}))}}),Xe=.95047,Je=1,rn=1.08883,ln=4/29,cn=6/29,pn=3*cn*cn,dn=cn*cn*cn,hn=Math.PI/180,gn=180/Math.PI;function Ve(t){return t>dn?Math.pow(t,1/3):t/pn+ln}function Fe(t){return t>cn?t*t*t:pn*(t-ln)}function Oe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Le(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function De(t){var e=Le(t.r),n=Le(t.g),r=Le(t.b),i=Ve((.4124564*e+.3575761*n+.1804375*r)/Xe),o=Ve((.2126729*e+.7151522*n+.072175*r)/Je);return{l:116*o-16,a:500*(i-o),b:200*(o-Ve((.0193339*e+.119192*n+.9503041*r)/rn)),alpha:t.a}}function Ue(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=Je*Fe(e),n=Xe*Fe(n),r=rn*Fe(r),new he(Oe(3.2404542*n-1.5371385*e-.4985314*r),Oe(-.969266*n+1.8760108*e+.041556*r),Oe(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function Re(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var yn={forward:De,reverse:Ue,interpolate:function interpolate(t,e,n){return{l:Ae(t.l,e.l,n),a:Ae(t.a,e.a,n),b:Ae(t.b,e.b,n),alpha:Ae(t.alpha,e.alpha,n)}}},vn={forward:function forward(t){var e=De(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*gn;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function reverse(t){var e=t.h*hn,n=t.c;return Ue({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function interpolate(t,e,n){return{h:Re(t.h,e.h,n),c:Ae(t.c,e.c,n),l:Ae(t.l,e.l,n),alpha:Ae(t.alpha,e.alpha,n)}}},bn=Object.freeze({lab:yn,hcl:vn}),Tn=function Ke(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function Ze(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}Tn.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=Ze(e,t.base,n,r);else if("linear"===t.name)i=Ze(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new T(o[0],o[1],o[2],o[3]).solve(Ze(e,1,n,r))}return i},Tn.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Yt)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=te:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var f=o[c],p=o[c+1],d=c+3,h=c+4;if("number"!=typeof f)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=f)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var g=e.parse(p,h,l);if(!g)return null;l=l||g.type,u.push([f,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new Tn(l,n,r,i,u):e.error("Type "+Xt(l)+" is not interpolatable.")},Tn.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=_e(e,r),a=e[o],s=e[o+1],u=Tn.interpolationFactor(this.interpolation,r,a,s),l=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?Ye[this.type.kind.toLowerCase()](l,c,u):"interpolate-hcl"===this.operator?vn.reverse(vn.interpolate(vn.forward(l),vn.forward(c),u)):yn.reverse(yn.interpolate(yn.forward(l),yn.forward(c),u))},Tn.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Tn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Tn.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Pn=function Xe(t,e){this.type=t,this.args=e};Pn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],u=e.parse(s,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,i.push(u)}var l=r&&i.some((function(t){return Jt(r,t.type)}));return new Pn(l?oe:n,i)},Pn.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length;i+=1){var a=o[i];if(r++,n=a.evaluate(t),"image"!==a.type.kind||n.available||(e||(e=a.evaluate(t).name),n=null,r===this.args.length&&(n=e)),null!==n)break}return n},Pn.prototype.eachChild=function(t){this.args.forEach(t)},Pn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Pn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var kn=function Ge(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};kn.prototype.evaluate=function(t){return this.result.evaluate(t)},kn.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},kn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new kn(n,a):null},kn.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},kn.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var An=function Je(t,e,n){this.type=t,this.index=e,this.input=n};An.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Yt),r=e.parse(t[2],2,Zt(e.expectedType||oe));if(!n||!r)return null;var i=r.type;return new An(i.itemType,n,r)},An.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new Te("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new Te("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new Te("Array index must be an integer, but found "+e+" instead.");return n[e]},An.prototype.eachChild=function(t){t(this.index),t(this.input)},An.prototype.possibleOutputs=function(){return[void 0]},An.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Rn=function He(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Rn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var p=f[c];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,re(p)))return null}else n=re(p);if(void 0!==i[String(p)])return l.error("Branch labels must be unique.");i[String(p)]=o.length}var d=e.parse(u,a,r);if(!d)return null;r=r||d.type,o.push(d)}var h=e.parse(t[1],1,oe);if(!h)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?"value"!==h.type.kind&&e.concat(1).checkSubtype(n,h.type)?null:new Rn(n,r,h,i,o,g):null},Rn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(re(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Rn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Rn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Rn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var u=function s(e){return"number"===t.inputType.kind?Number(e):e},l=0,c=n;l<c.length;l+=1){var f=c[l],p=f[0],d=f[1];1===d.length?e.push(u(d[0])):e.push(d.map(u)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Mn=function Ye(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function $e(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function We(t,e,n,r){return 0===r.compare(e,n)}function Qe(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Qt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,oe);if(!o)return null;if(!$e(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Xt(o.type)+"'.");var a=e.parse(t[2],2,oe);if(!a)return null;if(!$e(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Xt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Xt(o.type)+"' and '"+Xt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ke(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ke(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,ae)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=re(o),u=re(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new Te('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=re(o),c=re(a);if("string"!==l.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}Mn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Qt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Mn(n,r,s):null},Mn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Mn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},Mn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Mn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Fn=Qe("==",(function(t,e,n){return e===n}),We),Nn=Qe("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!We(0,e,n,r)})),Un=Qe("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),jn=Qe(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Vn=Qe("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Gn=Qe(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Wn=function or(t,e,n,r,i){this.type=$t,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Wn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Yt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,$t)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,$t)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Yt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Yt))?null:new Wn(n,i,o,a,s)},Wn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Wn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Wn.prototype.possibleOutputs=function(){return[void 0]},Wn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var qn=function sr(t){this.type=Yt,this.input=t};qn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Xt(n.type)+" instead."):new qn(n):null},qn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Te("Expected value to be of type string or array, but found "+Xt(re(e))+" instead.")},qn.prototype.eachChild=function(t){t(this.input)},qn.prototype.possibleOutputs=function(){return[void 0]},qn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Hn={"==":Fn,"!=":Nn,">":jn,"<":Un,">=":Gn,"<=":Vn,array:ke,at:An,boolean:ke,case:Mn,coalesce:Pn,collator:Ge,format:Ce,image:Me,interpolate:Tn,"interpolate-hcl":Tn,"interpolate-lab":Tn,length:qn,let:kn,literal:we,match:Rn,number:ke,"number-format":Wn,object:ke,step:Ke,string:ke,"to-boolean":Ne,"to-color":Ne,"to-number":Ne,"to-string":Ne,var:qe};function lr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=ee(n,r,i,a);if(s)throw new Te(s);return new he(n/255*a,r/255*a,i/255*a,a)}function pr(t,e){return t in e}function cr(t,e){var n=e[t];return void 0===n?null:n}function hr(t){return{type:t}}function fr(t){return{result:"success",value:t}}function yr(t){return{result:"error",value:t}}function dr(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function mr(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function vr(t){return!!t.expression&&t.expression.interpolated}function gr(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function xr(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function br(t){return t}function _r(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function wr(t,e,n,r,i){return _r(typeof n===i?r[n]:void 0,t.default,e.default)}function Ar(t,e,n){if("number"!==gr(n))return _r(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=_e(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function kr(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==gr(n))return _r(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=_e(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],c=Ye[e.type]||br;if(t.colorSpace&&"rgb"!==t.colorSpace){var f=bn[t.colorSpace];c=function l(t,e){return f.reverse(f.interpolate(f.forward(t),f.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function evaluate(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return c(n,r,a)}}:c(s,u,a)}function Sr(t,e,n){return"color"===e.type?n=he.parse(n):"formatted"===e.type?n=Ee.fromString(n.toString()):"image"===e.type?n=xe.fromString({name:n.toString(),available:!1}):gr(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),_r(n,t.default,e.default)}je.register(Hn,{error:[{kind:"error"},[$t],function(t,e){var n=e[0];throw new Te(n.evaluate(t))}],typeof:[$t,[oe],function(t,e){return Xt(re(e[0].evaluate(t)))}],"to-rgba":[Zt(Yt,4),[te],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[te,[Yt,Yt,Yt],lr],rgba:[te,[Yt,Yt,Yt,Yt],lr],has:{type:Qt,overloads:[[[$t],function(t,e){return pr(e[0].evaluate(t),t.properties())}],[[$t,ie],function(t,e){var n=e[0],r=e[1];return pr(n.evaluate(t),r.evaluate(t))}]]},get:{type:oe,overloads:[[[$t],function(t,e){return cr(e[0].evaluate(t),t.properties())}],[[$t,ie],function(t,e){var n=e[0],r=e[1];return cr(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[oe,[$t],function(t,e){return cr(e[0].evaluate(t),t.featureState||{})}],properties:[ie,[],function(t){return t.properties()}],"geometry-type":[$t,[],function(t){return t.geometryType()}],id:[oe,[],function(t){return t.id()}],zoom:[Yt,[],function(t){return t.globals.zoom}],"heatmap-density":[Yt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Yt,[],function(t){return t.globals.lineProgress||0}],accumulated:[oe,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Yt,hr(Yt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Yt,hr(Yt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Yt,overloads:[[[Yt,Yt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[Yt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Yt,[Yt,Yt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[Yt,[Yt,Yt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[Yt,[],function(){return Math.LN2}],pi:[Yt,[],function(){return Math.PI}],e:[Yt,[],function(){return Math.E}],"^":[Yt,[Yt,Yt],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[Yt,[Yt],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[Yt,[Yt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[Yt,[Yt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[Yt,[Yt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[Yt,[Yt],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[Yt,[Yt],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[Yt,[Yt],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[Yt,[Yt],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[Yt,[Yt],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[Yt,[Yt],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[Yt,hr(Yt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Yt,hr(Yt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Yt,[Yt],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[Yt,[Yt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Yt,[Yt],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[Yt,[Yt],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[Qt,[$t,oe],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Qt,[oe],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Qt,[$t],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Qt,[$t,oe],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Qt,[oe],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Qt,[$t,oe],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Qt,[oe],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Qt,[$t,oe],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Qt,[oe],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Qt,[$t,oe],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Qt,[oe],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Qt,[oe],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Qt,[],function(t){return null!==t.id()}],"filter-type-in":[Qt,[Zt($t)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Qt,[Zt(oe)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Qt,[$t,Zt(oe)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Qt,[$t,Zt(oe)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Qt,overloads:[[[Qt,Qt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[hr(Qt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:Qt,overloads:[[[Qt,Qt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[hr(Qt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[Qt,[Qt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Qt,[$t],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[$t,[$t],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[$t,[$t],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[$t,hr(oe),function(t,e){return e.map((function(e){return ne(e.evaluate(t))})).join("")}],"resolved-locale":[$t,[ae],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Kn=function zr(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ze,this._defaultValue=e?function(t){return"color"===t.type&&xr(t.default)?new he(0,0,0,0):"color"===t.type?he.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Ir(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Hn}function Cr(t,e){var n=new He(Hn,[],e?function(t){var e={color:te,string:$t,number:Yt,enum:$t,boolean:Qt,formatted:se,image:ce};return"array"===t.type?Zt(e[t.value]||oe,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?fr(new Kn(r,e)):yr(n.errors)}Kn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)},Kn.prototype.evaluate=function(t,e,n,r,i){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new Te("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Xn=function Br(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!ve(e.expression)};Xn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i)},Xn.prototype.evaluate=function(t,e,n,r,i){return this._styleExpression.evaluate(t,e,n,r,i)};var Zn=function Er(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!ve(e.expression),this.interpolationType=r};function Mr(t,e){if("error"===(t=Cr(t,e)).result)return t;var n=t.value.expression,r=me(n);if(!r&&!dr(e))return yr([new qt("","data expressions not supported")]);var i=ge(n,["zoom"]);if(!i&&!mr(e))return yr([new qt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof kn)n=t(e.result);else if(e instanceof Pn)for(var r=0,i=e.args;r<i.length;r+=1){var o=i[r];if(n=t(o))break}else(e instanceof Ke||e instanceof Tn)&&e.input instanceof je&&"zoom"===e.input.name&&(n=e);return n instanceof qt?n:(e.eachChild((function(e){var r=t(e);r instanceof qt?n=r:!n&&r?n=new qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new qt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n)}(n);if(!o&&!i)return yr([new qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof qt)return yr([o]);if(o instanceof Tn&&!vr(e))return yr([new qt("",'"interpolate" expressions cannot be used with this property')]);if(!o)return fr(new Xn(r?"constant":"source",t.value));var a=o instanceof Tn?o.interpolation:void 0;return fr(new Zn(r?"camera":"composite",t.value,o.labels,a))}Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i)},Zn.prototype.evaluate=function(t,e,n,r,i){return this._styleExpression.evaluate(t,e,n,r,i)},Zn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?Tn.interpolationFactor(this.interpolationType,t,e,n):0};var $n=function Pr(t,e){this._parameters=t,this._specification=e,Bt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,c=e.type||(vr(n)?"exponential":"interval");if(a&&((e=Bt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],he.parse(t[1])]}))),e.default?e.default=he.parse(e.default):e.default=he.parse(n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!bn[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)r=kr;else if("interval"===c)r=Ar;else if("categorical"===c){r=wr,i=Object.create(null);for(var f=0,p=e.stops;f<p.length;f+=1){var d=p[f];i[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');r=Sr}if(s){for(var h={},g=[],y=0;y<e.stops.length;y++){var m=e.stops[y],v=m[0].zoom;void 0===h[v]&&(h[v]={zoom:v,type:e.type,property:e.property,default:e.default,stops:[]},g.push(v)),h[v].stops.push([m[0].value,m[1]])}for(var _=[],b=0,S=g;b<S.length;b+=1){var E=S[b];_.push([h[E].zoom,t(h[E],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:Tn.interpolationFactor.bind(void 0,x),zoomStops:_.map((function(t){return t[0]})),evaluate:function evaluate(t,r){var i=t.zoom;return kr({stops:_,base:e.base},n,i).evaluate(i,r)}}}if(l){var w="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:w,interpolationFactor:Tn.interpolationFactor.bind(void 0,w),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function evaluate(t){var a=t.zoom;return r(e,n,a,i,o)}}}return{kind:"source",evaluate:function evaluate(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?_r(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function Tr(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=gr(n);if("object"!==u)return[new Wt(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=nn;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Wt(e,n[l],'unknown property "'+l+'"'));continue}p=nn}s=s.concat(p({key:(e?e+".":e)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new Wt(e,n,'missing required property "'+d+'"'));return s}function Vr(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||nn;if("array"!==gr(e))return[new Wt(o,e,"array expected, "+gr(e)+" found")];if(n.length&&e.length!==n.length)return[new Wt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Wt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===gr(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function Fr(t){var e=t.key,n=t.value,r=t.valueSpec,i=gr(n);return"number"!==i?[new Wt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Wt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Wt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Or(t){var e,n,r,i=t.valueSpec,o=Mt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===gr(t.value.stops)&&"array"===gr(t.value.stops[0])&&"object"===gr(t.value.stops[0][0]),f=Tr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function stops(t){if("identity"===o)return[new Wt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Vr({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:c})),"array"===gr(n)&&0===n.length&&e.push(new Wt(t.key,n,"array must have at least one stop")),e},default:function _default(t){return nn({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&f.push(new Wt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||f.push(new Wt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!vr(t.valueSpec)&&f.push(new Wt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!dr(t.valueSpec)?f.push(new Wt(t.key,t.value,"property functions not supported")):s&&!mr(t.valueSpec)&&f.push(new Wt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||f.push(new Wt(t.key,t.value,'"property" property is required')),f;function c(t){var e=[],o=t.value,s=t.key;if("array"!==gr(o))return[new Wt(s,o,"array expected, "+gr(o)+" found")];if(2!==o.length)return[new Wt(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==gr(o[0]))return[new Wt(s,o,"object expected, "+gr(o[0])+" found")];if(void 0===o[0].zoom)return[new Wt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Wt(s,o,"object stop key must have value")];if(r&&r>Mt(o[0].zoom))return[new Wt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Mt(o[0].zoom)!==r&&(r=Mt(o[0].zoom),n=void 0,a={}),e=e.concat(Tr({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Fr,value:h}}))}else e=e.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Ir(Pt(o[1]))?e.concat([new Wt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(nn({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=gr(t.value),u=Mt(t.value),l=null!==t.value?t.value:r;if(e){if(s!==e)return[new Wt(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Wt(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return dr(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wt(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Wt(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Wt(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Wt(t.key,l,"integer expected, found "+u)]}}function Lr(t){var e=("property"===t.expressionContext?Mr:Cr)(Pt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Wt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Wt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!ve(n))return[new Wt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!ve(n))return[new Wt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ge(n,["zoom","feature-state"]))return[new Wt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!me(n))return[new Wt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Mt(n))&&i.push(new Wt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Mt(n))&&i.push(new Wt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function Ur(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!Ur(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}$n.deserialize=function(t){return new $n(t._parameters,t._specification)},$n.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Jn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function jr(t){if(null==t)return function(){return!0};Ur(t)||(t=Nr(t));var e=Cr(t,Jn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function qr(t,e){return t<e?-1:t>e?1:0}function Nr(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Kr(t[1],t[2],"=="):"!="===n?Gr(Kr(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Kr(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Nr))):"all"===n?["all"].concat(t.slice(1).map(Nr)):"none"===n?["all"].concat(t.slice(1).map(Nr).map(Gr)):"in"===n?Zr(t[1],t.slice(2)):"!in"===n?Gr(Zr(t[1],t.slice(2))):"has"===n?Xr(t[1]):"!has"!==n||Gr(Xr(t[1]))}function Kr(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Zr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(qr)]]:["filter-in-small",t,["literal",e]]}}function Xr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Gr(t){return["!",t]}function Jr(t){return Ur(Pt(t.value))?Lr(Bt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==gr(n))return[new Wt(r,n,"array expected, "+gr(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Wt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Dr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Mt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Mt(n[1])&&a.push(new Wt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Wt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=gr(n[1]))&&a.push(new Wt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=gr(n[s]),"$type"===Mt(n[1])?a=a.concat(Dr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Wt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:r+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=gr(n[1]),2!==n.length?a.push(new Wt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Wt(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Hr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return nn({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||s[a];if(!c)return[new Wt(n,o,'unknown property "'+a+'"')];if("string"===gr(o)&&dr(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Wt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new Wt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&xr(Pt(o))&&"identity"===Mt(o.type)&&f.push(new Wt(n,o,'"text-font" does not support identity functions'))),f.concat(nn({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Yr(t){return Hr(t,"paint")}function $r(t){return Hr(t,"layout")}function Wr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Wt(r,n,'either "type" or "ref" is required'));var a,s=Mt(n.type),u=Mt(n.ref);if(n.id)for(var l=Mt(n.id),c=0;c<t.arrayIndex;c++){var f=i.layers[c];Mt(f.id)===l&&e.push(new Wt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Wt(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Mt(t.id)===u&&(a=t)})),a?a.ref?e.push(new Wt(r,n.ref,"ref cannot reference another ref layer")):s=Mt(a.type):e.push(new Wt(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],d=p&&Mt(p.type);p?"vector"===d&&"raster"===s?e.push(new Wt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new Wt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new Wt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||e.push(new Wt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Wt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Wt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Wt(r,n,'missing required property "source"'));return e=e.concat(Tr({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(){return[]},type:function type(){return nn({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:Jr,layout:function layout(t){return Tr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return $r(Bt({layerType:s},t))}}})},paint:function paint(t){return Tr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Yr(Bt({layerType:s},t))}}})}}}))}function Qr(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Wt(n,e,'"type" is required')];var o,a=Mt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Tr({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r});case"geojson":if(o=Tr({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c=u[1],f="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,Lr({key:n+"."+s+".map",value:c,expressionContext:"cluster-map"})),o.push.apply(o,Lr({key:n+"."+s+".reduce",value:f,expressionContext:"cluster-reduce"}))}return o;case"video":return Tr({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Tr({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Wt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Dr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function tn(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=gr(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Wt("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=u&&r[u[1]]&&r[u[1]].transition?o.concat(nn({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(nn({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new Wt(s,e[s],'unknown property "'+s+'"')])}return o}function en(t){var e=t.value,n=t.key,r=gr(e);return"string"!==r?[new Wt(n,e,"string expected, "+r+" found")]:[]}var Qn={"*":function _(){return[]},array:Vr,boolean:function boolean(t){var e=t.value,n=t.key,r=gr(e);return"boolean"!==r?[new Wt(n,e,"boolean expected, "+r+" found")]:[]},number:Fr,color:function color(t){var e=t.key,n=t.value,r=gr(n);return"string"!==r?[new Wt(e,n,"color expected, "+r+" found")]:null===pe(n)?[new Wt(e,n,'color expected, "'+n+'" found')]:[]},constants:Ct,enum:Dr,filter:Jr,function:Or,layer:Wr,object:Tr,source:Qr,light:tn,string:en,formatted:function formatted(t){return 0===en(t).length?[]:Lr(t)},image:function image(t){return 0===en(t).length?[]:Lr(t)}};function nn(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&xr(Mt(e))?Or(t):n.expression&&Ir(Pt(e))?Lr(t):n.type&&Qn[n.type]?Qn[n.type](t):Tr(Bt({},t,{valueSpec:n.type?r[n.type]:n}))}function an(t){var e=t.value,n=t.key,r=en(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new Wt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Wt(n,e,'"glyphs" url must include a "{range}" token')),r)}function on(t,e){void 0===e&&(e=Gt);var n=[];return n=n.concat(nn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:an,"*":function _(){return[]}}})),t.constants&&(n=n.concat(Ct({key:"constants",value:t.constants,style:t,styleSpec:e}))),sn(n)}function sn(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function un(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return sn(t.apply(this,e))}}on.source=un(Qr),on.light=un(tn),on.layer=un(Wr),on.filter=un(Jr),on.paintProperty=un(Yr),on.layoutProperty=un($r);var tr=on,er=tr.light,nr=tr.paintProperty,rr=tr.layoutProperty;function fn(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1){var o=i[r];t.fire(new jt(new Error(o.message))),n=!0}return n}var ir=mn,ar=3;function mn(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var o=0;o<this.d*this.d;o++){var a=i[ar+o],s=i[ar+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[ar+r.length],l=i[ar+r.length+1];this.keys=i.subarray(u,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var f=n/e*t;this.min=-f,this.max=t+f}mn.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},mn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},mn.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},mn.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},mn.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,f=0;f<u.length;f++){var p=u[f];if(void 0===a[p]){var d=4*p;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(a[p]=!0,o.push(l[p])):a[p]=!1}}},mn.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),p=u;p<=c;p++)for(var d=l;d<=f;d++){var h=this.d*d+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(d),this._convertFromCellCoord(p+1),this._convertFromCellCoord(d+1)))&&i.call(this,t,e,n,r,h,o,a,s))return}},mn.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},mn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},mn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=ar+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[ar+a]=o,i.set(s,o),o+=s.length}return i[ar+t.length]=o,i.set(this.keys,o),o+=this.keys.length,i[ar+t.length+1]=o,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var ur=self.ImageData,Rr={};function xn(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Rr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var ti in xn("Object",Object),ir.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},ir.deserialize=function(t){return new ir(t.buffer)},xn("Grid",ir),xn("Color",he),xn("Error",Error),xn("StylePropertyFunction",$n),xn("StyleExpression",Kn,{omit:["_evaluator"]}),xn("ZoomDependentExpression",Zn),xn("ZoomConstantExpression",Xn),xn("CompoundExpression",je,{omit:["_evaluate"]}),Hn)Hn[ti]._classRegistryKey||xn("Expression_"+ti,Hn[ti]);function _n(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof ur)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1){var a=o[i];r.push(_n(a,e))}return r}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(Rr[u].omit.indexOf(c)>=0)){var f=t[c];l[c]=Rr[u].shallow.indexOf(c)>=0?f:_n(f,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(l.$name=u),l}throw new Error("can't serialize object of type "+typeof t)}function wn(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof ur)return t;if(Array.isArray(t))return t.map(wn);if("object"==typeof t){var e=t.$name||"Object",n=Rr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=Rr[e].shallow.indexOf(a)>=0?s:wn(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var ni=function An(){this.first=!0};ni.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var ii={"Latin-1 Supplement":function Latin1Supplement(t){return t>=128&&t<=255},Arabic:function Arabic(t){return t>=1536&&t<=1791},"Arabic Supplement":function ArabicSupplement(t){return t>=1872&&t<=1919},"Arabic Extended-A":function ArabicExtendedA(t){return t>=2208&&t<=2303},"Hangul Jamo":function HangulJamo(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function UnifiedCanadianAboriginalSyllabics(t){return t>=5120&&t<=5759},Khmer:function Khmer(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function UnifiedCanadianAboriginalSyllabicsExtended(t){return t>=6320&&t<=6399},"General Punctuation":function GeneralPunctuation(t){return t>=8192&&t<=8303},"Letterlike Symbols":function LetterlikeSymbols(t){return t>=8448&&t<=8527},"Number Forms":function NumberForms(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function MiscellaneousTechnical(t){return t>=8960&&t<=9215},"Control Pictures":function ControlPictures(t){return t>=9216&&t<=9279},"Optical Character Recognition":function OpticalCharacterRecognition(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function EnclosedAlphanumerics(t){return t>=9312&&t<=9471},"Geometric Shapes":function GeometricShapes(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function MiscellaneousSymbols(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function MiscellaneousSymbolsAndArrows(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function CJKRadicalsSupplement(t){return t>=11904&&t<=12031},"Kangxi Radicals":function KangxiRadicals(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function IdeographicDescriptionCharacters(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function CJKSymbolsAndPunctuation(t){return t>=12288&&t<=12351},Hiragana:function Hiragana(t){return t>=12352&&t<=12447},Katakana:function Katakana(t){return t>=12448&&t<=12543},Bopomofo:function Bopomofo(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function HangulCompatibilityJamo(t){return t>=12592&&t<=12687},Kanbun:function Kanbun(t){return t>=12688&&t<=12703},"Bopomofo Extended":function BopomofoExtended(t){return t>=12704&&t<=12735},"CJK Strokes":function CJKStrokes(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function KatakanaPhoneticExtensions(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function EnclosedCJKLettersAndMonths(t){return t>=12800&&t<=13055},"CJK Compatibility":function CJKCompatibility(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function CJKUnifiedIdeographsExtensionA(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function YijingHexagramSymbols(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function CJKUnifiedIdeographs(t){return t>=19968&&t<=40959},"Yi Syllables":function YiSyllables(t){return t>=40960&&t<=42127},"Yi Radicals":function YiRadicals(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function HangulJamoExtendedA(t){return t>=43360&&t<=43391},"Hangul Syllables":function HangulSyllables(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function HangulJamoExtendedB(t){return t>=55216&&t<=55295},"Private Use Area":function PrivateUseArea(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function CJKCompatibilityIdeographs(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function ArabicPresentationFormsA(t){return t>=64336&&t<=65023},"Vertical Forms":function VerticalForms(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function CJKCompatibilityForms(t){return t>=65072&&t<=65103},"Small Form Variants":function SmallFormVariants(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function ArabicPresentationFormsB(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function HalfwidthAndFullwidthForms(t){return t>=65280&&t<=65519}};function Sn(t){for(var e=0,n=t;e<n.length;e+=1)if(In(n[e].charCodeAt(0)))return!0;return!1}function zn(t){return!ii.Arabic(t)&&!ii["Arabic Supplement"](t)&&!ii["Arabic Extended-A"](t)&&!ii["Arabic Presentation Forms-A"](t)&&!ii["Arabic Presentation Forms-B"](t)}function In(t){return 746===t||747===t||!(t<4352)&&(!!ii["Bopomofo Extended"](t)||!!ii.Bopomofo(t)||!(!ii["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!ii["CJK Compatibility Ideographs"](t)||!!ii["CJK Compatibility"](t)||!!ii["CJK Radicals Supplement"](t)||!!ii["CJK Strokes"](t)||!(!ii["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!ii["CJK Unified Ideographs Extension A"](t)||!!ii["CJK Unified Ideographs"](t)||!!ii["Enclosed CJK Letters and Months"](t)||!!ii["Hangul Compatibility Jamo"](t)||!!ii["Hangul Jamo Extended-A"](t)||!!ii["Hangul Jamo Extended-B"](t)||!!ii["Hangul Jamo"](t)||!!ii["Hangul Syllables"](t)||!!ii.Hiragana(t)||!!ii["Ideographic Description Characters"](t)||!!ii.Kanbun(t)||!!ii["Kangxi Radicals"](t)||!!ii["Katakana Phonetic Extensions"](t)||!(!ii.Katakana(t)||12540===t)||!(!ii["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!ii["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!ii["Unified Canadian Aboriginal Syllabics"](t)||!!ii["Unified Canadian Aboriginal Syllabics Extended"](t)||!!ii["Vertical Forms"](t)||!!ii["Yijing Hexagram Symbols"](t)||!!ii["Yi Syllables"](t)||!!ii["Yi Radicals"](t))}function Cn(t){return!(In(t)||function(t){return!(!ii["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||!(!ii["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||!!ii["Letterlike Symbols"](t)||!!ii["Number Forms"](t)||!(!ii["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||!(!ii["Control Pictures"](t)||9251===t)||!!ii["Optical Character Recognition"](t)||!!ii["Enclosed Alphanumerics"](t)||!!ii["Geometric Shapes"](t)||!(!ii["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||!(!ii["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||!!ii["CJK Symbols and Punctuation"](t)||!!ii.Katakana(t)||!!ii["Private Use Area"](t)||!!ii["CJK Compatibility Forms"](t)||!!ii["Small Form Variants"](t)||!!ii["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t}(t))}function Bn(t,e){return!(!e&&(t>=1424&&t<=2303||ii["Arabic Presentation Forms-A"](t)||ii["Arabic Presentation Forms-B"](t)))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||ii.Khmer(t))}var oi,ai=!1,si=null,ui=!1,li=new Vt,ci={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function isLoaded(){return ui||null!=ci.applyArabicShaping}},fi=function On(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ni,this.transition={})};fi.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Bn(r[n].charCodeAt(0),e))return!1;return!0}(t,ci.isLoaded())},fi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},fi.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var pi=function Ln(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(xr(t))return new $n(t,e);if(Ir(t)){var n=Mr(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=he.parse(t)),{kind:"constant",evaluate:function evaluate(){return r}}}(void 0===e?t.specification.default:e,t.specification)};pi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},pi.prototype.possiblyEvaluate=function(t,e){return this.property.possiblyEvaluate(this,t,e)};var di=function Dn(t){this.property=t,this.value=new pi(t,void 0)};di.prototype.transitioned=function(t,e){return new gi(this.property,this.value,e,c({},t.transition,this.transition),t.now)},di.prototype.untransitioned=function(){return new gi(this.property,this.value,null,{},0)};var hi=function Un(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};hi.prototype.getValue=function(t){return b(this._values[t].value.value)},hi.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new di(this._values[t].property)),this._values[t].value=new pi(this._values[t].property,null===e?void 0:b(e))},hi.prototype.getTransition=function(t){return b(this._values[t].transition)},hi.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new di(this._values[t].property)),this._values[t].transition=b(e)||void 0},hi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},hi.prototype.transitioned=function(t,e){for(var n=new yi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},hi.prototype.untransitioned=function(){for(var t=new yi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var gi=function Rn(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};gi.prototype.possiblyEvaluate=function(t,e){var n=t.now||0,r=this.value.possiblyEvaluate(t,e),i=this.prior;if(i){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return i.possiblyEvaluate(t,e);var o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(t,e),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(o))}return r};var yi=function jn(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};yi.prototype.possiblyEvaluate=function(t,e){for(var n=new _i(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].possiblyEvaluate(t,e)}return n},yi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1};var mi=function qn(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};mi.prototype.getValue=function(t){return b(this._values[t].value)},mi.prototype.setValue=function(t,e){this._values[t]=new pi(this._values[t].property,null===e?void 0:b(e))},mi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},mi.prototype.possiblyEvaluate=function(t,e){for(var n=new _i(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].possiblyEvaluate(t,e)}return n};var vi=function Nn(t,e,n){this.property=t,this.value=e,this.parameters=n};vi.prototype.isConstant=function(){return"constant"===this.value.kind},vi.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},vi.prototype.evaluate=function(t,e,n){return this.property.evaluate(this.value,this.parameters,t,e,n)};var _i=function Kn(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};_i.prototype.get=function(t){return this._values[t]};var bi=function Zn(t){this.specification=t};bi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},bi.prototype.interpolate=function(t,e,n){var r=Ye[this.specification.type];return r?r(t,e,n):t};var Si=function Xn(t,e){this.specification=t,this.overrides=e};Si.prototype.possiblyEvaluate=function(t,e,n){return"constant"===t.expression.kind||"camera"===t.expression.kind?new vi(this,{kind:"constant",value:t.expression.evaluate(e,null,{},n)},e):new vi(this,t.expression,e)},Si.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new vi(this,{kind:"constant",value:void 0},t.parameters);var r=Ye[this.specification.type];return r?new vi(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Si.prototype.evaluate=function(t,e,n,r,i){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i)};var Ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(t,e,n){if(void 0===t.value)return new vi(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n),i="image"===t.property.specification.type&&"string"!=typeof r?r.name:r,o=this._calculate(i,i,i,e);return new vi(this,{kind:"constant",value:o},e)}if("camera"===t.expression.kind){var a=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new vi(this,{kind:"constant",value:a},e)}return new vi(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i){if("source"===t.kind){var o=t.evaluate(e,n,r,i);return this._calculate(o,o,o,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Si),xi=function Jn(t){this.specification=t};xi.prototype.possiblyEvaluate=function(t,e,n){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new fi(Math.floor(e.zoom-1),e)),t.expression.evaluate(new fi(Math.floor(e.zoom),e)),t.expression.evaluate(new fi(Math.floor(e.zoom+1),e)),e)}},xi.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},xi.prototype.interpolate=function(t){return t};var wi=function Hn(t){this.specification=t};wi.prototype.possiblyEvaluate=function(t,e,n){return!!t.expression.evaluate(e,null,{},n)},wi.prototype.interpolate=function(){return!1};var Ti=function Yn(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new pi(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new di(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};xn("DataDrivenProperty",Si),xn("DataConstantProperty",bi),xn("CrossFadedDataDrivenProperty",Ei),xn("CrossFadedProperty",xi),xn("ColorRampProperty",wi);var Pi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter=function(){return!0},"custom"!==e.type&&(e=e,this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new mi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new hi(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(rr,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(nr,r,t,e,n))return!1}if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],o="cross-faded-data-driven"===i.property.specification["property-type"],a=i.value.isDataDriven(),s=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var u=this._transitionablePaint._values[t].value;return u.isDataDriven()||a||o||this._handleOverridablePaintPropertyUpdate(t,s,u)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),x(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&fn(this,t.call(tr,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Gt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof vi&&dr(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Vt),ki={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ci=function Qn(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function ti(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ei(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i,o=(i=t.type,ki[i].BYTES_PER_ELEMENT),a=n=ri(n,Math.max(e,o)),s=t.components||1;return r=Math.max(r,o),n+=o*s,{name:t.name,type:t.type,components:s,offset:a}})),size:ri(n,Math.max(r,e)),alignment:e}}function ri(t,e){return Math.ceil(t/e)*e}Ai.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Ai.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(t){this.reserve(t),this.length=t},Ai.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Ai);Mi.prototype.bytesPerElement=4,xn("StructArrayLayout2i4",Mi);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Ai);Li.prototype.bytesPerElement=8,xn("StructArrayLayout4i8",Li);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ai);Ii.prototype.bytesPerElement=12,xn("StructArrayLayout2i4i12",Ii);var Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,t},e}(Ai);Oi.prototype.bytesPerElement=8,xn("StructArrayLayout2i4ub8",Oi);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u){var l=8*t;return this.uint16[l+0]=e,this.uint16[l+1]=n,this.uint16[l+2]=r,this.uint16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=u,t},e}(Ai);Fi.prototype.bytesPerElement=16,xn("StructArrayLayout8ui16",Fi);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u){var l=8*t;return this.int16[l+0]=e,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=u,t},e}(Ai);Ni.prototype.bytesPerElement=16,xn("StructArrayLayout4i4ui16",Ni);var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Ai);Bi.prototype.bytesPerElement=12,xn("StructArrayLayout3f12",Bi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.uint32[n+0]=e,t},e}(Ai);Ui.prototype.bytesPerElement=4,xn("StructArrayLayout1ul4",Ui);var zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c){var f=this.length;return this.resize(f+1),this.emplace(f,t,e,n,r,i,o,a,s,u,l,c)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f){var p=12*t,d=6*t;return this.int16[p+0]=e,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.int16[p+4]=o,this.int16[p+5]=a,this.uint32[d+3]=s,this.uint16[p+8]=u,this.uint16[p+9]=l,this.int16[p+10]=c,this.int16[p+11]=f,t},e}(Ai);zi.prototype.bytesPerElement=24,xn("StructArrayLayout6i1ul2ui2i24",zi);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ai);ji.prototype.bytesPerElement=12,xn("StructArrayLayout2i2i2i12",ji);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Ai);Vi.prototype.bytesPerElement=12,xn("StructArrayLayout2ub2f12",Vi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y){var m=this.length;return this.resize(m+1),this.emplace(m,t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,m){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=u,this.uint16[v+11]=l,this.uint16[v+12]=c,this.float32[_+7]=f,this.float32[_+8]=p,this.uint8[b+36]=d,this.uint8[b+37]=h,this.uint8[b+38]=g,this.uint32[_+10]=y,this.int16[v+22]=m,t},e}(Ai);Gi.prototype.bytesPerElement=48,xn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Gi);var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,m,v,_,b,S){var E=this.length;return this.resize(E+1),this.emplace(E,t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,m,v,_,b,S)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,m,v,_,b,S,E){var x=26*t,w=13*t;return this.int16[x+0]=e,this.int16[x+1]=n,this.int16[x+2]=r,this.int16[x+3]=i,this.int16[x+4]=o,this.int16[x+5]=a,this.int16[x+6]=s,this.uint16[x+7]=u,this.uint16[x+8]=l,this.uint16[x+9]=c,this.uint16[x+10]=f,this.uint16[x+11]=p,this.uint16[x+12]=d,this.uint16[x+13]=h,this.uint16[x+14]=g,this.uint16[x+15]=y,this.uint16[x+16]=m,this.uint16[x+17]=v,this.uint32[w+9]=_,this.float32[w+10]=b,this.float32[w+11]=S,this.float32[w+12]=E,t},e}(Ai);Wi.prototype.bytesPerElement=52,xn("StructArrayLayout7i11ui1ul3f52",Wi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.float32[n+0]=e,t},e}(Ai);qi.prototype.bytesPerElement=4,xn("StructArrayLayout1f4",qi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Ai);Hi.prototype.bytesPerElement=6,xn("StructArrayLayout3i6",Hi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=2*t,o=4*t;return this.uint32[i+0]=e,this.uint16[o+2]=n,this.uint16[o+3]=r,t},e}(Ai);Ki.prototype.bytesPerElement=8,xn("StructArrayLayout1ul2ui8",Ki);var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Ai);Xi.prototype.bytesPerElement=6,xn("StructArrayLayout3ui6",Xi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Ai);Zi.prototype.bytesPerElement=4,xn("StructArrayLayout2ui4",Zi);var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.uint16[n+0]=e,t},e}(Ai);$i.prototype.bytesPerElement=2,xn("StructArrayLayout1ui2",$i);var Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Ai);Ji.prototype.bytesPerElement=8,xn("StructArrayLayout2f8",Ji);var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Ai);Qi.prototype.bytesPerElement=16,xn("StructArrayLayout4f16",Qi);var Eo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new P(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Ci);Eo.prototype.size=24;var To=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Eo(this,t)},e}(zi);xn("CollisionBoxArray",To);var Po=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},n.associatedIconIndex.set=function(t){this._structArray.int16[this._pos2+22]=t},Object.defineProperties(e.prototype,n),e}(Ci);Po.prototype.size=48;var Mo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Po(this,t)},e}(Gi);xn("PlacedSymbolArray",Mo);var Lo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.placedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+6]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+7]},n.key.set=function(t){this._structArray.uint16[this._pos2+7]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+13]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+14]=t},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+15]},n.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+15]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+16]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+16]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+17]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+17]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+9]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+9]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+10]},n.textBoxScale.set=function(t){this._structArray.float32[this._pos4+10]=t},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+11]},n.textOffset0.set=function(t){this._structArray.float32[this._pos4+11]=t},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+12]},n.textOffset1.set=function(t){this._structArray.float32[this._pos4+12]=t},Object.defineProperties(e.prototype,n),e}(Ci);Lo.prototype.size=52;var No=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Lo(this,t)},e}(Wi);xn("SymbolInstanceArray",No);var Bo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(Ci);Bo.prototype.size=4;var jo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new Bo(this,t)},e}(qi);xn("GlyphOffsetArray",jo);var Wo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(Ci);Wo.prototype.size=6;var qo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new Wo(this,t)},e}(Hi);xn("SymbolLineVertexArray",qo);var Ho=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(Ci);Ho.prototype.size=8;var Jo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Ho(this,t)},e}(Ki);xn("FeatureIndexArray",Jo);var Qo=ei([{name:"a_pos",components:2,type:"Int16"}],4).members,ta=function Li(t){void 0===t&&(t=[]),this.segments=t};function Di(t,e){return 256*(t=l(Math.floor(t),0,255))+l(Math.floor(e),0,255)}ta.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>ta.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+ta.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>ta.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},ta.prototype.get=function(){return this.segments},ta.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},ta.simpleSegment=function(t,e,n,r){return new ta([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},ta.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xn("SegmentVector",ta);var ea=function Ui(){this.ids=[],this.positions=[],this.indexed=!1};function Ri(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}ea.prototype.add=function(t,e,n,r){this.ids.push(t),this.positions.push(e,n,r)},ea.prototype.getPositions=function(t){for(var e=0,n=this.ids.length-1;e<n;){var r=e+n>>1;this.ids[r]>=t?n=r:e=r+1}for(var i=[];this.ids[e]===t;){var o=this.positions[3*e],a=this.positions[3*e+1],s=this.positions[3*e+2];i.push({index:o,start:a,end:s}),e++}return i},ea.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){if(!(r>=i)){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;Ri(e,a,s),Ri(n,3*a,3*s),Ri(n,3*a+1,3*s+1),Ri(n,3*a+2,3*s+2)}t(e,n,r,s),t(e,n,s+1,i)}}(n,r,0,n.length-1),e.push(n.buffer,r.buffer),{ids:n,positions:r}},ea.deserialize=function(t){var e=new ea;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},xn("FeaturePositionMap",ea);var oa=function ji(t,e){this.gl=t.gl,this.location=e},sa=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(oa),ua=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(oa),Ea=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(oa),Pa=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(oa),Ca=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(oa),Ra=function(t){function e(e,n){t.call(this,e,n),this.current=he.transparent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(oa),Ia=new Float32Array(16),Na=function(t){function e(e,n){t.call(this,e,n),this.current=Ia}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(oa);function Yi(t){return[Di(255*t.r,255*t.g),Di(255*t.b,255*t.a)]}var Ba=function $i(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0};Ba.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},Ba.prototype.setConstantPatternPositions=function(){},Ba.prototype.populatePaintArray=function(){},Ba.prototype.updatePaintArray=function(){},Ba.prototype.upload=function(){},Ba.prototype.destroy=function(){},Ba.prototype.setUniforms=function(t,e,n,r){e.set(r.constantOr(this.value))},Ba.prototype.getBinding=function(t,e){return"color"===this.type?new Ra(t,e):new ua(t,e)},Ba.serialize=function(t){var e=t.value,n=t.names,r=t.type;return{value:_n(e),names:n,type:r}},Ba.deserialize=function(t){var e=t.value,n=t.names,r=t.type;return new Ba(wn(e),n,r)};var za=function Wi(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};za.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},za.prototype.populatePaintArray=function(){},za.prototype.updatePaintArray=function(){},za.prototype.upload=function(){},za.prototype.destroy=function(){},za.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},za.prototype.setUniforms=function(t,e,n,r,i){var o=this.patternPositions;"u_pattern_to"===i&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===i&&o.patternFrom&&e.set(o.patternFrom)},za.prototype.getBinding=function(t,e){return new Ca(t,e)};var Va=function Qi(t,e,n,r){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"a_"+t})),this.maxValue=-1/0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Va.prototype.defines=function(){return[]},Va.prototype.setConstantPatternPositions=function(){},Va.prototype.populatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=i.length;i.reserve(t);var a=this.expression.evaluate(new fi(0),e,{},[],r);if("color"===this.type)for(var s=Yi(a),u=o;u<t;u++)i.emplaceBack(s[0],s[1]);else{for(var l=o;l<t;l++)i.emplaceBack(a);this.maxValue=Math.max(this.maxValue,a)}},Va.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=Yi(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var u=t;u<e;u++)i.emplace(u,o);this.maxValue=Math.max(this.maxValue,o)}},Va.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Va.prototype.setUniforms=function(t,e){e.set(0)},Va.prototype.getBinding=function(t,e){return new ua(t,e)};var Ga=function ta(t,e,n,r,i,o){this.expression=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Ga.prototype.defines=function(){return[]},Ga.prototype.setConstantPatternPositions=function(){},Ga.prototype.populatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=i.length;i.reserve(t);var a=this.expression.evaluate(new fi(this.zoom),e,{},[],r),s=this.expression.evaluate(new fi(this.zoom+1),e,{},[],r);if("color"===this.type)for(var u=Yi(a),l=Yi(s),c=o;c<t;c++)i.emplaceBack(u[0],u[1],l[0],l[1]);else{for(var f=o;f<t;f++)i.emplaceBack(a,s);this.maxValue=Math.max(this.maxValue,a,s)}},Ga.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Yi(o),u=Yi(a),l=t;l<e;l++)i.emplace(l,s[0],s[1],u[0],u[1]);else{for(var c=t;c<e;c++)i.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Ga.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ga.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ga.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Ga.prototype.setUniforms=function(t,e,n){e.set(this.interpolationFactor(n.zoom))},Ga.prototype.getBinding=function(t,e){return new ua(t,e)};var qa=function ea(t,e,n,r,i,o,a){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};qa.prototype.defines=function(){return[]},qa.prototype.setConstantPatternPositions=function(){},qa.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),i.reserve(t),n&&e.patterns&&e.patterns[o]){var s=e.patterns[o],u=s.min,l=s.mid,c=s.max,f=n[u],p=n[l],d=n[c];if(!f||!p||!d)return;for(var h=a;h<t;h++)r.emplaceBack(p.tl[0],p.tl[1],p.br[0],p.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1]),i.emplaceBack(p.tl[0],p.tl[1],p.br[0],p.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},qa.prototype.updatePaintArray=function(t,e,n,r,i){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&n.patterns&&n.patterns[s]){var u=n.patterns[s],l=u.min,c=u.mid,f=u.max,p=i[l],d=i[c],h=i[f];if(!p||!d||!h)return;for(var g=t;g<e;g++)o.emplace(g,d.tl[0],d.tl[1],d.br[0],d.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),a.emplace(g,d.tl[0],d.tl[1],d.br[0],d.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},qa.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},qa.prototype.setUniforms=function(t,e){e.set(0)},qa.prototype.getBinding=function(t,e){return new ua(t,e)};var Ka=function ra(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new ea,this._bufferOffset=0};Ka.createDynamic=function(t,e,n){var r=new Ka,i=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof vi&&dr(a.property.specification)){var s=ia(o,t.type),u=a.property.specification.type,l=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)r.binders[o]=new za(a.value.value,s,u),i.push("/u_"+o);else{var c=aa(o,u,"source");r.binders[o]=new qa(a.value,s,u,l,e,c,t.id),i.push("/a_"+o)}else if("constant"===a.value.kind)r.binders[o]=new Ba(a.value.value,s,u),i.push("/u_"+o);else if("source"===a.value.kind){var f=aa(o,u,"source");r.binders[o]=new Va(a.value,s,u,f),i.push("/a_"+o)}else{var p=aa(o,u,"composite");r.binders[o]=new Ga(a.value,s,u,l,e,p),i.push("/z_"+o)}}}return r.cacheKey=i.sort().join(""),r},Ka.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders)this.binders[o].populatePaintArray(t,e,r,i);void 0!==e.id&&this._featureMap.add(+e.id,n,this._bufferOffset,t),this._bufferOffset=t},Ka.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders)this.binders[n].setConstantPatternPositions(t,e)},Ka.prototype.updatePaintArrays=function(t,e,n,r){var i=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var u=s[a],l=e.feature(u.index);for(var c in this.binders){var f=this.binders[c];if(!(f instanceof Ba||f instanceof za)&&!0===f.expression.isStateDependent){var p=n.paint.get(c);f.expression=p.value,f.updatePaintArray(u.start,u.end,l,t[o],r),i=!0}}}return i},Ka.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Ka.prototype.getPaintVertexBuffers=function(){return this._buffers},Ka.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders)for(var i=this.binders[r],o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var u=i.getBinding(t,e[s]);n.push({name:s,property:r,binding:u})}}return n},Ka.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property,l=a.binding;this.binders[u].setUniforms(t,l,r,n.get(u),s)}},Ka.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof qa){var i=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;i&&e.push(i)}else(r instanceof Va||r instanceof Ga)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},Ka.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Va||i instanceof Ga)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Ka.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Xa=function na(t,e,n,r){void 0===r&&(r=function n(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Ka.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};function ia(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function aa(t,e,n){var r={color:{source:Ji,composite:Qi},number:{source:qi,composite:Ji}},i=function(t){return{"line-pattern":{source:Fi,composite:Fi},"fill-pattern":{source:Fi,composite:Fi},"fill-extrusion-pattern":{source:Fi,composite:Fi}}[t]}(t);return i&&i[n]||r[e][n]}Xa.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(t,e,n,r,i);this.needsUpload=!0},Xa.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},Xa.prototype.get=function(t){return this.programConfigurations[t]},Xa.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Xa.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},xn("ConstantBinder",Ba),xn("CrossFadedConstantBinder",za),xn("SourceExpressionBinder",Va),xn("CrossFadedCompositeBinder",qa),xn("CompositeExpressionBinder",Ga),xn("ProgramConfiguration",Ka,{omit:["_buffers"]}),xn("ProgramConfigurationSet",Xa);var Za=8192,ts={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function la(t){for(var e=Za/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<ts.min||a.x>ts.max||a.y<ts.min||a.y>ts.max)&&(w("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a.x=l(a.x,ts.min,ts.max),a.y=l(a.y,ts.min,ts.max))}return n}function pa(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var es=function ca(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Mi,this.indexArray=new Xi,this.segments=new ta,this.programConfigurations=new Xa(Qo,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function ha(t,e){for(var n=0;n<t.length;n++)if(_a(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(_a(t,e[r]))return!0;return!!ma(t,e)}function fa(t,e,n){return!!_a(t,e)||!!ga(e,t,n)}function ya(t,e){if(1===t.length)return ba(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(_a(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(ba(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(ma(t,e[a]))return!0;return!1}function da(t,e,n){if(t.length>1){if(ma(t,e))return!0;for(var r=0;r<e.length;r++)if(ga(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(ga(t[i],e,n))return!0;return!1}function ma(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(va(r,i,e[o],e[o+1]))return!0;return!1}function va(t,e,n,r){return A(t,n,r)!==A(e,n,r)&&A(t,e,n)!==A(t,e,r)}function ga(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(xa(t,e[i-1],e[i])<r)return!0;return!1}function xa(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function ba(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function _a(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function wa(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=A(t,e,n[0]);return o!==A(t,e,n[1])||o!==A(t,e,n[2])||o!==A(t,e,n[3])}function Aa(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].maxValue}function ka(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Sa(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=P.convert(e)._mult(i);"viewport"===n&&o._rotate(-r);for(var a=[],s=0;s<t.length;s++){var u=t[s];a.push(u.sub(o))}return a}es.prototype.populate=function(t,e){var n=this.layers[0],r=[],i=null;"circle"===n.type&&(i=n.layout.get("circle-sort-key"));for(var o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.index,c=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new fi(this.zoom),u)){var f=la(u),p=i?i.evaluate(u,{}):void 0,d={id:u.id,properties:u.properties,type:u.type,sourceLayerIndex:c,index:l,geometry:f,patterns:{},sortKey:p};r.push(d)}}i&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var h=0,g=r;h<g.length;h+=1){var y=g[h],m=y,v=m.geometry,_=m.index,b=m.sourceLayerIndex,S=t[_].feature;this.addFeature(y,v,_),e.featureIndex.insert(S,v,_,b,this.index)}},es.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},es.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},es.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],u=s.x,l=s.y;if(!(u<0||u>=Za||l<0||l>=Za)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),f=c.vertexLength;pa(this.layoutVertexArray,u,l,-1,-1),pa(this.layoutVertexArray,u,l,1,-1),pa(this.layoutVertexArray,u,l,1,1),pa(this.layoutVertexArray,u,l,-1,1),this.indexArray.emplaceBack(f,f+1,f+2),this.indexArray.emplaceBack(f,f+3,f+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},xn("CircleBucket",es,{omit:["layers"]});var ns,is=new Ti({"circle-sort-key":new Si(Gt.layout_circle["circle-sort-key"])}),os={paint:new Ti({"circle-radius":new Si(Gt.paint_circle["circle-radius"]),"circle-color":new Si(Gt.paint_circle["circle-color"]),"circle-blur":new Si(Gt.paint_circle["circle-blur"]),"circle-opacity":new Si(Gt.paint_circle["circle-opacity"]),"circle-translate":new bi(Gt.paint_circle["circle-translate"]),"circle-translate-anchor":new bi(Gt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new bi(Gt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new bi(Gt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Si(Gt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Si(Gt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Si(Gt.paint_circle["circle-stroke-opacity"])}),layout:is},as="undefined"!=typeof Float32Array?Float32Array:Array;function Ma(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)}),ns=new as(3),as!=Float32Array&&(ns[0]=0,ns[1]=0,ns[2]=0),function(){var t=new as(4);as!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var us=function(t){function e(e){t.call(this,e,os)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new es(t)},e.prototype.queryRadius=function(t){var e=t;return Aa("circle-radius",this,e)+Aa("circle-stroke-width",this,e)+ka(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var u=Sa(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),f=c?u:function(t,e){return t.map((function(t){return Ta(t,e)}))}(u,s),p=c?l*a:l,d=0,h=r;d<h.length;d+=1)for(var g=0,y=h[d];g<y.length;g+=1){var m=y[g],v=c?m:Ta(m,s),_=p,b=Ma([],[m.x,m.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),fa(f,v,_))return!0}return!1},e}(Pi);function Ta(t,e){var n=Ma([],[t.x,t.y,0,1],e);return new P(n[0]/n[3],n[1]/n[3])}var ls=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(es);function Fa(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function Oa(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=Fa({},{width:r,height:i},n);La(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function La(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return e}xn("HeatmapBucket",ls,{omit:["layers"]});var cs=function Da(t,e){Fa(this,t,1,e)};cs.prototype.resize=function(t){Oa(this,t,1)},cs.prototype.clone=function(){return new cs({width:this.width,height:this.height},new Uint8Array(this.data))},cs.copy=function(t,e,n,r,i){La(t,e,n,r,i,1)};var ps=function Ua(t,e){Fa(this,t,4,e)};ps.prototype.resize=function(t){Oa(this,t,4)},ps.prototype.replace=function(t,e){e?this.data.set(t):t instanceof Uint8ClampedArray?this.data=new Uint8Array(t.buffer):this.data=t},ps.prototype.clone=function(){return new ps({width:this.width,height:this.height},new Uint8Array(this.data))},ps.copy=function(t,e,n,r,i){La(t,e,n,r,i,4)},xn("AlphaImage",cs),xn("RGBAImage",ps);var ds={paint:new Ti({"heatmap-radius":new Si(Gt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Si(Gt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new bi(Gt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new wi(Gt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new bi(Gt.paint_heatmap["heatmap-opacity"])})};function ja(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new ps({width:256,height:1},n)}var hs=function(t){function e(e){t.call(this,e,ds),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new ls(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ja(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Pi),ys={paint:new Ti({"hillshade-illumination-direction":new bi(Gt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new bi(Gt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new bi(Gt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new bi(Gt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new bi(Gt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new bi(Gt.paint_hillshade["hillshade-accent-color"])})},ms=function(t){function e(e){t.call(this,e,ys)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Pi),vs=ei([{name:"a_pos",components:2,type:"Int16"}],4).members,bs=Ja,xs=Ja;function Ja(t,e,n){n=n||2;var r,i,o,a,s,u,l,c=e&&e.length,f=c?e[0]*n:t.length,p=Ha(t,0,f,n,!0),d=[];if(!p||p.next===p.prev)return d;if(c&&(p=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ha(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(oo(a));for(s.sort(ro),i=0;i<s.length;i++)no(s[i],n),n=Ya(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var h=n;h<f;h+=n)(s=t[h])<r&&(r=s),(u=t[h+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return $a(p,d,n,r,i,l),d}function Ha(t,e,n,r,i){var o,a;if(i===bo(t,e,n,r)>0)for(o=e;o<n;o+=r)a=vo(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=vo(o,t[o],t[o+1],a);return a&&po(a,a.next)&&(go(a),a=a.next),a}function Ya(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!po(r,r.next)&&0!==lo(r.prev,r,r.next))r=r.next;else{if(go(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function $a(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ao(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?Qa(t,r,i,o):Wa(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),go(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?$a(t=to(Ya(t),e,n),e,n,r,i,o,2):2===a&&eo(t,e,n,r,i,o):$a(Ya(t),e,n,r,i,o,1);break}}}function Wa(t){var e=t.prev,n=t,r=t.next;if(lo(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(so(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&lo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Qa(t,e,n,r){var i=t.prev,o=t,a=t.next;if(lo(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=ao(s,u,e,n,r),p=ao(l,c,e,n,r),d=t.prevZ,h=t.nextZ;d&&d.z>=f&&h&&h.z<=p;){if(d!==t.prev&&d!==t.next&&so(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&lo(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&so(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&lo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&so(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&lo(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&so(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&lo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function to(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!po(i,o)&&co(i,r,r.next,o)&&yo(i,o)&&yo(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),go(r),go(r.next),r=t=o),r=r.next}while(r!==t);return Ya(r)}function eo(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&uo(a,s)){var u=mo(a,s);return a=Ya(a,a.next),u=Ya(u,u.next),$a(a,e,n,r,i,o),void $a(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function ro(t,e){return t.x-e.x}function no(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&so(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),yo(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&io(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}(t,e)){var n=mo(e,t);Ya(n,n.next)}}function io(t,e){return lo(t.prev,t,e.prev)<0&&lo(e.next,t,t.next)<0}function ao(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function oo(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function so(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function uo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&co(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(yo(t,e)&&yo(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(lo(t.prev,t,e.prev)||lo(t,e.prev,e))||po(t,e)&&lo(t.prev,t,t.next)>0&&lo(e.prev,e,e.next)>0)}function lo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function po(t,e){return t.x===e.x&&t.y===e.y}function co(t,e,n,r){var i=fo(lo(t,e,n)),o=fo(lo(t,e,r)),a=fo(lo(n,r,t)),s=fo(lo(n,r,e));return i!==o&&a!==s||!(0!==i||!ho(t,n,e))||!(0!==o||!ho(t,r,e))||!(0!==a||!ho(n,t,r))||!(0!==s||!ho(n,e,r))}function ho(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function fo(t){return t>0?1:t<0?-1:0}function yo(t,e){return lo(t.prev,t,t.next)<0?lo(t,e,t.next)>=0&&lo(t,t.prev,e)>=0:lo(t,e,t.prev)<0||lo(t,t.next,e)<0}function mo(t,e){var n=new xo(t.i,t.x,t.y),r=new xo(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function vo(t,e,n,r){var i=new xo(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function go(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function xo(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bo(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function _o(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=e[n],p=r,d=i;for(wo(e,r,n),o(e[i],f)>0&&wo(e,r,i);p<d;){for(wo(e,p,d),p++,d--;o(e[p],f)<0;)p++;for(;o(e[d],f)>0;)d--}0===o(e[r],f)?wo(e,r,d):wo(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(t,e,n||0,r||t.length-1,i||Ao)}function wo(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ao(t,e){return t<e?-1:t>e?1:0}function ko(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=k(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||(_o(o[u],e,1,o[u].length-1,So),o[u]=o[u].slice(0,e));return o}function So(t,e){return e.area-t.area}function zo(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function Io(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.paint.get(t+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),f=l.evaluate({zoom:r},n,{},i.availableImages),p=l.evaluate({zoom:r+1},n,{},i.availableImages);c=c&&c.name?c.name:c,f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,o[c]=!0,o[f]=!0,o[p]=!0,n.patterns[u.id]={min:c,mid:f,max:p}}}return n}Ja.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(bo(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(bo(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((t[p]-t[h])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[h+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},Ja.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},bs.default=xs;var Ts=function Co(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mi,this.indexArray=new Xi,this.indexArray2=new Zi,this.programConfigurations=new Xa(vs,t.layers,t.zoom),this.segments=new ta,this.segments2=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Ts.prototype.populate=function(t,e){this.hasPattern=zo("fill",this.layers,e);for(var n=this.layers[0].layout.get("fill-sort-key"),r=[],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.feature,u=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new fi(this.zoom),s)){var c=la(s),f=n?n.evaluate(s,{},e.availableImages):void 0,p={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:u,geometry:c,patterns:{},sortKey:f};r.push(p)}}n&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=r;d<h.length;d+=1){var g=h[d],y=g,m=y.geometry,v=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var b=Io("fill",this.layers,g,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(g,m,v,{});var S=t[v].feature;e.featureIndex.insert(S,m,v,_,this.index)}},Ts.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ts.prototype.addFeatures=function(t,e){for(var n=0,r=this.patternFeatures;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},Ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,vs),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ts.prototype.addFeature=function(t,e,n,r){for(var i=0,o=ko(e,500);i<o.length;i+=1){for(var a=o[i],s=0,u=0,l=a;u<l.length;u+=1)s+=l[u].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),f=c.vertexLength,p=[],d=[],h=0,g=a;h<g.length;h+=1){var y=g[h];if(0!==y.length){y!==a[0]&&d.push(p.length/2);var m=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),v=m.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(v+y.length-1,v),p.push(y[0].x),p.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(v+_-1,v+_),p.push(y[_].x),p.push(y[_].y);m.vertexLength+=y.length,m.primitiveLength+=y.length}}for(var b=bs(p,d),S=0;S<b.length;S+=3)this.indexArray.emplaceBack(f+b[S],f+b[S+1],f+b[S+2]);c.vertexLength+=s,c.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},xn("FillBucket",Ts,{omit:["layers","patternFeatures"]});var Ps=new Ti({"fill-sort-key":new Si(Gt.layout_fill["fill-sort-key"])}),Cs={paint:new Ti({"fill-antialias":new bi(Gt.paint_fill["fill-antialias"]),"fill-opacity":new Si(Gt.paint_fill["fill-opacity"]),"fill-color":new Si(Gt.paint_fill["fill-color"]),"fill-outline-color":new Si(Gt.paint_fill["fill-outline-color"]),"fill-translate":new bi(Gt.paint_fill["fill-translate"]),"fill-translate-anchor":new bi(Gt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ei(Gt.paint_fill["fill-pattern"])}),layout:Ps},Rs=function(t){function e(e){t.call(this,e,Cs)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new Ts(t)},e.prototype.queryRadius=function(){return ka(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return ya(Sa(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(Pi),Is=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Ns=Vo;function Vo(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(Fo,this,e)}function Fo(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function Oo(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}Vo.types=["Unknown","Point","LineString","Polygon"],Vo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(i<=0){var u=t.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new P(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},Vo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},Vo.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=Vo.types[this.type];function p(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+s)/o;t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(r=0;r<u.length;r++)c[r]=u[r][0];p(u=c);break;case 2:for(r=0;r<u.length;r++)p(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=Oo(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)p(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var js=Do;function Do(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Uo,this,e),this.length=this._features.length}function Uo(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function Ro(t,e,n){if(3===t){var r=new js(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}Do.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Ns(this._pbf,e,this.extent,this._keys,this._values)};var Vs={VectorTile:function VectorTile(t,e){this.layers=t.readFields(Ro,{},e)},VectorTileFeature:Ns,VectorTileLayer:js},Gs=Vs.VectorTileFeature.types,Ws=Math.pow(2,13);function Ko(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Ws)+a,i*Ws*2,o*Ws*2,Math.round(s))}var Hs=function Zo(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ii,this.indexArray=new Xi,this.programConfigurations=new Xa(Is,t.layers,t.zoom),this.segments=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Xo(t,e){return t.x===e.x&&(t.x<0||t.x>Za)||t.y===e.y&&(t.y<0||t.y>Za)}function Go(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>Za}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>Za}))}Hs.prototype.populate=function(t,e){this.features=[],this.hasPattern=zo("fill-extrusion",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new fi(this.zoom),o)){var u=la(o),l={sourceLayerIndex:s,index:a,geometry:u,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(l.id=o.id),this.hasPattern?this.features.push(Io("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,u,a,{}),e.featureIndex.insert(o,u,a,s,this.index,!0)}}},Hs.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},Hs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Hs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Hs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Is),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Hs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hs.prototype.addFeature=function(t,e,n,r){for(var i=0,o=ko(e,500);i<o.length;i+=1){for(var a=o[i],s=0,u=0,l=a;u<l.length;u+=1)s+=l[u].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),f=0,p=a;f<p.length;f+=1){var d=p[f];if(0!==d.length&&!Go(d))for(var h=0,g=0;g<d.length;g++){var y=d[g];if(g>=1){var m=d[g-1];if(!Xo(y,m)){c.vertexLength+4>ta.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=y.sub(m)._perp()._unit(),_=m.dist(y);h+_>32768&&(h=0),Ko(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,h),Ko(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,h),h+=_,Ko(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,0,h),Ko(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,1,h);var b=c.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>ta.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Gs[t.type]){for(var S=[],E=[],x=c.vertexLength,w=0,T=a;w<T.length;w+=1){var P=T[w];if(0!==P.length){P!==a[0]&&E.push(S.length/2);for(var k=0;k<P.length;k++){var C=P[k];Ko(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),S.push(C.x),S.push(C.y)}}}for(var D=bs(S,E),A=0;A<D.length;A+=3)this.indexArray.emplaceBack(x+D[A],x+D[A+2],x+D[A+1]);c.primitiveLength+=D.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},xn("FillExtrusionBucket",Hs,{omit:["layers","features"]});var Ks={paint:new Ti({"fill-extrusion-opacity":new bi(Gt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Si(Gt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new bi(Gt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new bi(Gt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ei(Gt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Si(Gt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Si(Gt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new bi(Gt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Xs=function(t){function e(e){t.call(this,e,Ks)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Hs(t)},e.prototype.queryRadius=function(){return ka(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){var u=Sa(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),l=this.paint.get("fill-extrusion-height").evaluate(e,n),c=this.paint.get("fill-extrusion-base").evaluate(e,n),f=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=[s.x,s.y,0,1];Ma(u,u,e),i.push(new P(u[0]/u[3],u[1]/u[3]))}return i}(u,s),p=function(t,e,n,r){for(var i=[],o=[],a=r[8]*e,s=r[9]*e,u=r[10]*e,l=r[11]*e,c=r[8]*n,f=r[9]*n,p=r[10]*n,d=r[11]*n,h=0,g=t;h<g.length;h+=1){for(var y=[],m=[],v=0,_=g[h];v<_.length;v+=1){var b=_[v],S=b.x,E=b.y,x=r[0]*S+r[4]*E+r[12],w=r[1]*S+r[5]*E+r[13],T=r[2]*S+r[6]*E+r[14],k=r[3]*S+r[7]*E+r[15],C=T+u,D=k+l,A=x+c,R=w+f,M=T+p,L=k+d,I=new P((x+a)/D,(w+s)/D);I.z=C/D,y.push(I);var O=new P(A/L,R/L);O.z=M/L,m.push(O)}i.push(y),o.push(m)}return[i,o]}(r,c,l,s);return function(t,e,n){var r=1/0;ya(n,e)&&(r=$o(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var u=o[s],l=o[s+1],c=a[s],f=[u,l,a[s+1],c,u];ha(n,f)&&(r=Math.min(r,$o(n,f)))}return r!==1/0&&r}(p[0],p[1],f)},e}(Pi);function Yo(t,e){return t.x*e.x+t.y*e.y}function $o(t,e){if(1===t.length){var n=e[0],r=e[1],i=e[3],o=t[0],a=r.sub(n),s=i.sub(n),u=o.sub(n),l=Yo(a,a),c=Yo(a,s),f=Yo(s,s),p=Yo(u,a),d=Yo(u,s),h=l*f-c*c,g=(f*p-c*d)/h,y=(l*d-c*p)/h,m=1-g-y;return n.z*m+r.z*g+i.z*y}for(var v=1/0,_=0,b=e;_<b.length;_+=1){var S=b[_];v=Math.min(v,S.z)}return v}var Zs=ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,$s=Vs.VectorTileFeature.types,Js=Math.cos(Math.PI/180*37.5),tu=Math.pow(2,14)/.5,eu=function rs(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Oi,this.indexArray=new Xi,this.programConfigurations=new Xa(Zs,t.layers,t.zoom),this.segments=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};eu.prototype.populate=function(t,e){this.hasPattern=zo("line",this.layers,e);for(var n=this.layers[0].layout.get("line-sort-key"),r=[],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.feature,u=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new fi(this.zoom),s)){var c=la(s),f=n?n.evaluate(s,{}):void 0,p={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:u,geometry:c,patterns:{},sortKey:f};r.push(p)}}n&&r.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=r;d<h.length;d+=1){var g=h[d],y=g,m=y.geometry,v=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var b=Io("line",this.layers,g,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(g,m,v,{});var S=t[v].feature;e.featureIndex.insert(S,m,v,_,this.index)}},eu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},eu.prototype.addFeatures=function(t,e){for(var n=0,r=this.patternFeatures;n<r.length;n+=1){var i=r[n];this.addFeature(i,i.geometry,i.index,e)}},eu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},eu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},eu.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Zs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},eu.prototype.addFeature=function(t,e,n,r){for(var i=this.layers[0].layout,o=i.get("line-join").evaluate(t,{}),a=i.get("line-cap"),s=i.get("line-miter-limit"),u=i.get("line-round-limit"),l=0,c=e;l<c.length;l+=1){var f=c[l];this.addLine(f,t,o,a,s,u,n,r)}},eu.prototype.addLine=function(t,e,n,r,i,o,a,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var u=0;u<t.length-1;u++)this.totalDistance+=t[u].dist(t[u+1])}for(var l="Polygon"===$s[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var f=0;f<c-1&&t[f].equals(t[f+1]);)f++;if(!(c<(l?3:2))){"bevel"===n&&(i=1.05);var p,d=Za/(512*this.overscaling)*15,h=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray),g=void 0,y=void 0,m=void 0,v=void 0;this.e1=this.e2=-1,l&&(p=t[c-2],v=t[f].sub(p)._unit()._perp());for(var _=f;_<c;_++)if(!(y=l&&_===c-1?t[f+1]:t[_+1])||!t[_].equals(y)){v&&(m=v),p&&(g=p),p=t[_],v=y?y.sub(p)._unit()._perp():m;var b=(m=m||v).add(v);0===b.x&&0===b.y||b._unit();var S=m.x*v.x+m.y*v.y,E=b.x*v.x+b.y*v.y,x=0!==E?1/E:1/0,w=2*Math.sqrt(2-2*E),T=E<Js&&g&&y,P=m.x*v.y-m.y*v.x>0;if(T&&_>f){var k=p.dist(g);if(k>2*d){var C=p.sub(p.sub(g)._mult(d/k)._round());this.updateDistance(g,C),this.addCurrentVertex(C,m,0,0,h),g=C}}var D=g&&y,A=D?n:l?"butt":r;if(D&&"round"===A&&(x<o?A="miter":x<=2&&(A="fakeround")),"miter"===A&&x>i&&(A="bevel"),"bevel"===A&&(x>2&&(A="flipbevel"),x<i&&(A="miter")),g&&this.updateDistance(g,p),"miter"===A)b._mult(x),this.addCurrentVertex(p,b,0,0,h);else if("flipbevel"===A){if(x>100)b=v.mult(-1);else{var R=x*m.add(v).mag()/m.sub(v).mag();b._perp()._mult(R*(P?-1:1))}this.addCurrentVertex(p,b,0,0,h),this.addCurrentVertex(p,b.mult(-1),0,0,h)}else if("bevel"===A||"fakeround"===A){var M=-Math.sqrt(x*x-1),L=P?M:0,I=P?0:M;if(g&&this.addCurrentVertex(p,m,L,I,h),"fakeround"===A)for(var O=Math.round(180*w/Math.PI/20),F=1;F<O;F++){var N=F/O;if(.5!==N){var B=N-.5;N+=N*B*(N-1)*((1.0904+S*(S*(3.55645-1.43519*S)-3.2452))*B*B+(.848013+S*(.215638*S-1.06021)))}var U=v.sub(m)._mult(N)._add(m)._unit()._mult(P?-1:1);this.addHalfVertex(p,U.x,U.y,!1,P,0,h)}y&&this.addCurrentVertex(p,v,-L,-I,h)}else if("butt"===A)this.addCurrentVertex(p,b,0,0,h);else if("square"===A){var z=g?1:-1;this.addCurrentVertex(p,b,z,z,h)}else"round"===A&&(g&&(this.addCurrentVertex(p,m,0,0,h),this.addCurrentVertex(p,m,1,1,h,!0)),y&&(this.addCurrentVertex(p,v,-1,-1,h,!0),this.addCurrentVertex(p,v,0,0,h)));if(T&&_<c-1){var j=p.dist(y);if(j>2*d){var V=p.add(y.sub(p)._mult(d/j)._round());this.updateDistance(p,V),this.addCurrentVertex(V,v,0,0,h),p=V}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},eu.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.x+e.y*n,s=e.y-e.x*n,u=-e.x+e.y*r,l=-e.y-e.x*r;this.addHalfVertex(t,a,s,o,!1,n,i),this.addHalfVertex(t,u,l,o,!0,-r,i),this.distance>tu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},eu.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=t.x,u=t.y,l=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(u<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&l)<<2,l>>6);var c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),i?this.e2=c:this.e1=c},eu.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(tu-1):this.distance},xn("LineBucket",eu,{omit:["layers","patternFeatures"]});var nu=new Ti({"line-cap":new bi(Gt.layout_line["line-cap"]),"line-join":new Si(Gt.layout_line["line-join"]),"line-miter-limit":new bi(Gt.layout_line["line-miter-limit"]),"line-round-limit":new bi(Gt.layout_line["line-round-limit"]),"line-sort-key":new Si(Gt.layout_line["line-sort-key"])}),ru={paint:new Ti({"line-opacity":new Si(Gt.paint_line["line-opacity"]),"line-color":new Si(Gt.paint_line["line-color"]),"line-translate":new bi(Gt.paint_line["line-translate"]),"line-translate-anchor":new bi(Gt.paint_line["line-translate-anchor"]),"line-width":new Si(Gt.paint_line["line-width"]),"line-gap-width":new Si(Gt.paint_line["line-gap-width"]),"line-offset":new Si(Gt.paint_line["line-offset"]),"line-blur":new Si(Gt.paint_line["line-blur"]),"line-dasharray":new xi(Gt.paint_line["line-dasharray"]),"line-pattern":new Ei(Gt.paint_line["line-pattern"]),"line-gradient":new wi(Gt.paint_line["line-gradient"])}),layout:nu},iu=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new fi(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=c({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(Si))(ru.paint.properties["line-width"].specification);iu.useIntegerZoom=!0;var ou=function(t){function e(e){t.call(this,e,ru)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=ja(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=iu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new eu(t)},e.prototype.queryRadius=function(t){var e=t,n=ss(Aa("line-width",this,e),Aa("line-gap-width",this,e)),r=Aa("line-offset",this,e);return n/2+Math.abs(r)+ka(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){var s=Sa(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),u=a/2*ss(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),l=this.paint.get("line-offset").evaluate(e,n);return l&&(r=function(t,e){for(var n=[],r=new P(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var u=o[s-1],l=o[s],c=o[s+1],f=0===s?r:l.sub(u)._unit()._perp(),p=s===o.length-1?r:c.sub(l)._unit()._perp(),d=f._add(p)._unit(),h=d.x*p.x+d.y*p.y;d._mult(1/h),a.push(d._mult(e)._add(l))}n.push(a)}return n}(r,l*a)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(_a(t,i[o]))return!0;if(da(t,i,n))return!0}return!1}(s,r,u)},e.prototype.isTileClipped=function(){return!0},e}(Pi);function ss(t,e){return e>0?e+2*t:t}var au=ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),su=ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Tu=(ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Pu=(ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),ku=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function fs(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),ci.applyArabicShaping&&(t=ci.applyArabicShaping(t)),t}(t.text,e,n)})),t}ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),ei([{type:"Float32",name:"offsetX"}]),ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Cu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ru=24,Bu={horizontal:1,vertical:2,horizontalOnly:3},Vu=function vs(){this.text="",this.sectionIndex=[],this.sections=[]};function gs(t,e,n,r,i,o,a,s,u,l,c,f){var p,d=Vu.fromFeature(t,n);l===Bu.vertical&&d.verticalizePunctuation();var h=ci.processBidirectionalText,g=ci.processStyledBidirectionalText;if(h&&1===d.sections.length){p=[];for(var y=0,m=h(d.toString(),ks(d,s,r,e,f));y<m.length;y+=1){var v=m[y],_=new Vu;_.text=v,_.sections=d.sections;for(var b=0;b<v.length;b++)_.sectionIndex.push(0);p.push(_)}}else if(g){p=[];for(var S=0,E=g(d.text,d.sectionIndex,ks(d,s,r,e,f));S<E.length;S+=1){var x=E[S],w=new Vu;w.text=x[0],w.sectionIndex=x[1],w.sections=d.sections,p.push(w)}}else p=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(d,ks(d,s,r,e,f));var T=[],P={positionedGlyphs:T,text:d.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:l,lineCount:p.length,yOffset:-17};return function(t,e,n,r,i,o,a,s,u){for(var l=0,c=t.yOffset,f=0,p=t.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,h=0,g=n;h<g.length;h+=1){var y=g[h];y.trim();var m=y.getMaxScale();if(y.length()){for(var v=p.length,_=0;_<y.length();_++){var b=y.getSection(_),S=y.getSectionIndex(_),E=y.getCharCode(_),x=24*(m-b.scale),w=e[b.fontStack],T=w&&w[E];T&&(a===Bu.horizontal||!u&&!In(E)||u&&(Gu[E]||(k=E,ii.Arabic(k)||ii["Arabic Supplement"](k)||ii["Arabic Extended-A"](k)||ii["Arabic Presentation Forms-A"](k)||ii["Arabic Presentation Forms-B"](k)))?(p.push({glyph:E,x:l,y:c+x,vertical:!1,scale:b.scale,fontStack:b.fontStack,sectionIndex:S}),l+=T.metrics.advance*b.scale+s):(p.push({glyph:E,x:l,y:c+x,vertical:!0,scale:b.scale,fontStack:b.fontStack,sectionIndex:S}),l+=Ru*b.scale+s))}if(p.length!==v){var P=l-s;f=Math.max(P,f),zs(p,e,v,p.length-1,d)}l=0,c+=r*m}else c+=r}var k,C=Ss(i),D=C.horizontalAlign,A=C.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(e-n)*i,u=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(p,d,D,A,f,r,n.length);var R=c-t.yOffset;t.top+=-A*R,t.bottom=t.top+R,t.left+=-D*f,t.right=t.left+f}(P,e,p,i,o,a,l,s,c),!!T.length&&P}Vu.fromFeature=function(t,e){for(var n=new Vu,r=0;r<t.sections.length;r++){var i=t.sections[r];n.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),n.text+=i.text;for(var o=0;o<i.text.length;o++)n.sectionIndex.push(r)}return n},Vu.prototype.length=function(){return this.text.length},Vu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Vu.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Vu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Vu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&Cn(r)&&!Cu[t[n+1]]||i&&Cn(i)&&!Cu[t[n-1]]||!Cu[t[n]]?e+=t[n]:e+=Cu[t[n]]}return e}(this.text)},Vu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Gu[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Gu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Vu.prototype.substring=function(t,e){var n=new Vu;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Vu.prototype.toString=function(){return this.text},Vu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)};var Gu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hu={};function _s(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function ws(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function As(t,e,n,r,i,o){for(var a=null,s=_s(e,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],f=_s(e-c.x,n,i,o)+c.badness;f<=s&&(a=c,s=f)}return{index:t,x:e,priorBreak:a,badness:s}}function ks(t,e,n,r,i){if("point"!==i)return[];if(!t)return[];for(var o,a=[],s=function(t,e,n,r){for(var i=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],u=s&&s[t.getCharCode(o)];u&&(i+=u.metrics.advance*a.scale+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),u=t.text.indexOf("\u200b")>=0,l=0,c=0;c<t.length();c++){var f=t.getSection(c),p=t.getCharCode(c),d=r[f.fontStack],h=d&&d[p];if(h&&!Gu[p]&&(l+=h.metrics.advance*f.scale+e),c<t.length()-1){var g=!((o=p)<11904||!(ii["Bopomofo Extended"](o)||ii.Bopomofo(o)||ii["CJK Compatibility Forms"](o)||ii["CJK Compatibility Ideographs"](o)||ii["CJK Compatibility"](o)||ii["CJK Radicals Supplement"](o)||ii["CJK Strokes"](o)||ii["CJK Symbols and Punctuation"](o)||ii["CJK Unified Ideographs Extension A"](o)||ii["CJK Unified Ideographs"](o)||ii["Enclosed CJK Letters and Months"](o)||ii["Halfwidth and Fullwidth Forms"](o)||ii.Hiragana(o)||ii["Ideographic Description Characters"](o)||ii["Kangxi Radicals"](o)||ii["Katakana Phonetic Extensions"](o)||ii.Katakana(o)||ii["Vertical Forms"](o)||ii["Yi Radicals"](o)||ii["Yi Syllables"](o)));(Hu[p]||g)&&a.push(As(c+1,l,s,a,ws(p,t.getCharCode(c+1),g&&u),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(As(t.length(),l,s,a,0,!0))}function Ss(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function zs(t,e,n,r,i){if(i){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var u=s.metrics.advance*o.scale,l=(t[r].x+u)*i,c=n;c<=r;c++)t[c].x-=l}}Hu[10]=!0,Hu[32]=!0,Hu[38]=!0,Hu[40]=!0,Hu[41]=!0,Hu[43]=!0,Hu[45]=!0,Hu[47]=!0,Hu[173]=!0,Hu[183]=!0,Hu[8203]=!0,Hu[8208]=!0,Hu[8211]=!0,Hu[8231]=!0;var Yu=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(P);xn("Anchor",Yu);var Xu=256;function Bs(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new fi(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new fi(s)),maxSize:n.evaluate(new fi(u)),interpolationType:i}}function Es(t,e,n){var r=e.uSize,i=e.uSizeT,o=n.lowerSize,a=n.upperSize;return"source"===t.kind?o/Xu:"composite"===t.kind?Ae(o/Xu,a/Xu,i):r}function Ms(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=t.minZoom,a=t.maxZoom,s=i?l(Tn.interpolationFactor(i,e,o,a),0,1):0;"camera"===t.kind?r=Ae(t.minSize,t.maxSize,s):n=s}return{uSizeT:n,uSize:r}}var Ju=Object.freeze({getSizeData:Bs,evaluateSizeForFeature:Es,evaluateSizeForZoom:Ms,SIZE_PACK_FACTOR:Xu}),fl=Vs.VectorTileFeature.types,dl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fs(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function Os(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var gl=function Ls(t){this.layoutVertexArray=new Ni,this.indexArray=new Xi,this.programConfigurations=t,this.segments=new ta,this.dynamicLayoutVertexArray=new Bi,this.opacityVertexArray=new Ui,this.placedSymbolArray=new Mo};gl.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,au.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,su.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,dl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},xn("SymbolBuffers",gl);var yl=function Ds(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new ta,this.collisionVertexArray=new Vi};yl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Tu.members,!0)},yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},xn("CollisionBuffers",yl);var ml=function Us(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Bs(this.zoom,e["text-size"]),this.iconSizeData=Bs(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1);var o="viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey;this.sortFeaturesByY=o&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return Bu[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};ml.prototype.createArrays=function(){var t=this.layers[0].layout;this.hasPaintOverrides=xl.hasPaintOverrides(t),this.text=new gl(new Xa(au.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new gl(new Xa(au.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.textCollisionBox=new yl(ji,Pu.members,Zi),this.iconCollisionBox=new yl(ji,Pu.members,Zi),this.textCollisionCircle=new yl(ji,ku.members,Xi),this.iconCollisionCircle=new yl(ji,ku.members,Xi),this.glyphOffsetArray=new jo,this.lineVertexArray=new qo,this.symbolInstances=new No},ml.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=Cu[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},ml.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u="constant"!==a.value.kind||!!a.value.value||Object.keys(a.parameters).length>0,l=r.get("symbol-sort-key");if(this.features=[],s||u){for(var c=e.iconDependencies,f=e.glyphDependencies,p=e.availableImages,d=new fi(this.zoom),h=0,g=t;h<g.length;h+=1){var y=g[h],m=y.feature,v=y.index,_=y.sourceLayerIndex;if(n._featureFilter(d,m)){var b=void 0;if(s){var S=n.getValueAndResolveTokens("text-field",m,p);b=fs(S instanceof Ee?S:Ee.fromString(S),n,m)}var E=void 0;if(u){var x=n.getValueAndResolveTokens("icon-image",m,p);E=x instanceof xe?x:x&&"string"!=typeof x?xe.fromString(x):xe.fromString({name:x,available:!1})}if(b||E){var w=this.sortFeaturesByKey?l.evaluate(m,{}):void 0,T={text:b,icon:E,index:v,sourceLayerIndex:_,geometry:la(m),properties:m.properties,type:fl[m.type],sortKey:w};if(void 0!==m.id&&(T.id=m.id),this.features.push(T),E&&(c[E.name]=!0),b){var P=i.evaluate(m,{}).join(","),k="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Bu.vertical)>=0;for(var C=0,D=b.sections;C<D.length;C+=1){var A=D[C],R=Sn(b.toString()),M=A.fontStack||P,L=f[M]=f[M]||{};this.calculateGlyphDependencies(A.text,L,k,this.allowVerticalPlacement,R)}}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function a(e){r.push(t[e]),i++}function o(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.text?c.text.toString():null;if(p){var d=u(p,f),h=u(p,f,!0);if(d in n&&h in e&&n[d]!==e[h]){var g=s(d,h,f),y=o(d,h,r[g].geometry);delete e[d],delete n[h],n[u(p,r[y].geometry,!0)]=y,r[g].geometry=null}else d in n?o(d,h,f):h in e?s(d,h,f):(a(l),e[d]=i-1,n[h]=i-1)}else a(l)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},ml.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},ml.prototype.isEmpty=function(){return 0===this.symbolInstances.length},ml.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ml.prototype.upload=function(t){this.uploaded||(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ml.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},ml.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},ml.prototype.addSymbols=function(t,e,n,r,i,o,a,s,u,l,c){var f=this,p=t.indexArray,d=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,g=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray,o.sortKey),y=this.glyphOffsetArray.length,m=g.vertexLength,v=this.allowVerticalPlacement&&a===Bu.vertical?Math.PI/2:0,_=function x(t){var e=t.tl,r=t.tr,i=t.bl,o=t.br,a=t.tex,u=g.vertexLength,l=t.glyphOffset[1];Fs(d,s.x,s.y,e.x,l+e.y,a.x,a.y,n),Fs(d,s.x,s.y,r.x,l+r.y,a.x+a.w,a.y,n),Fs(d,s.x,s.y,i.x,l+i.y,a.x,a.y+a.h,n),Fs(d,s.x,s.y,o.x,l+o.y,a.x+a.w,a.y+a.h,n),Os(h,s,v),p.emplaceBack(u,u+1,u+2),p.emplaceBack(u+1,u+2,u+3),g.vertexLength+=4,g.primitiveLength+=2,f.glyphOffsetArray.emplaceBack(t.glyphOffset[0])};if(o.text&&o.text.sections){var b=o.text.sections;if(this.hasPaintOverrides){for(var S,E=function w(e,n){void 0===S||S===e&&!n||t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{},b[S]),S=e},T=0,P=e;T<P.length;T+=1){var k=P[T];E(k.sectionIndex,!1),_(k)}E(S,!0)}else{for(var C=0,D=e;C<D.length;C+=1)_(D[C]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{},b[0])}}else{for(var A=0,R=e;A<R.length;A+=1)_(R[A]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})}t.placedSymbolArray.emplaceBack(s.x,s.y,y,this.glyphOffsetArray.length-y,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},ml.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},ml.prototype.addCollisionDebugVertices=function(t,e,n,r,i,o,a,s){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=u.vertexLength,c=i.layoutVertexArray,f=i.collisionVertexArray,p=a.anchorX,d=a.anchorY;if(this._addCollisionDebugVertex(c,f,o,p,d,new P(t,e)),this._addCollisionDebugVertex(c,f,o,p,d,new P(n,e)),this._addCollisionDebugVertex(c,f,o,p,d,new P(n,r)),this._addCollisionDebugVertex(c,f,o,p,d,new P(t,r)),u.vertexLength+=4,s){var h=i.indexArray;h.emplaceBack(l,l+1,l+2),h.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var g=i.indexArray;g.emplaceBack(l,l+1),g.emplaceBack(l+1,l+2),g.emplaceBack(l+2,l+3),g.emplaceBack(l+3,l),u.primitiveLength+=4}},ml.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i),a=o.x1,s=o.y1,u=o.x2,l=o.y2,c=o.radius>0;this.addCollisionDebugVertices(a,s,u,l,c?r?this.textCollisionCircle:this.iconCollisionCircle:r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n,c)}},ml.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1)}},ml.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a){for(var s={},u=e;u<n;u++){var l=t.get(u);if(0===l.radius){s.textBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},s.textFeatureIndex=l.featureIndex;break}s.textCircles||(s.textCircles=[],s.textFeatureIndex=l.featureIndex),s.textCircles.push(l.anchorPointX,l.anchorPointY,l.radius,l.signedDistanceFromAnchor,1)}for(var c=r;c<i;c++){var f=t.get(c);if(0===f.radius){s.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},s.verticalTextFeatureIndex=f.featureIndex;break}}for(var p=o;p<a;p++){var d=t.get(p);if(0===d.radius){s.iconBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},s.iconFeatureIndex=d.featureIndex;break}}return s},ml.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},ml.prototype.hasTextData=function(){return this.text.segments.get().length>0},ml.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ml.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},ml.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},ml.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},ml.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},ml.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),n=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},ml.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},ml.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=r[n],o=this.symbolInstances.get(i);this.featureSortOrder.push(o.featureIndex),[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedTextSymbol(t)})),o.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(o.verticalPlacedTextSymbolIndex);var a=this.icon.placedSymbolArray.get(i);if(a.numGlyphs){var s=a.vertexStartIndex;this.icon.indexArray.emplaceBack(s,s+1,s+2),this.icon.indexArray.emplaceBack(s+1,s+2,s+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},xn("SymbolBucket",ml,{omit:["layers","collisionBoxArray","features","compareText"]}),ml.MAX_GLYPHS=65535,ml.addDynamicAttributes=Os;var vl=new Ti({"symbol-placement":new bi(Gt.layout_symbol["symbol-placement"]),"symbol-spacing":new bi(Gt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new bi(Gt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Si(Gt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new bi(Gt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new bi(Gt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new bi(Gt.layout_symbol["icon-ignore-placement"]),"icon-optional":new bi(Gt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new bi(Gt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Si(Gt.layout_symbol["icon-size"]),"icon-text-fit":new bi(Gt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new bi(Gt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Si(Gt.layout_symbol["icon-image"]),"icon-rotate":new Si(Gt.layout_symbol["icon-rotate"]),"icon-padding":new bi(Gt.layout_symbol["icon-padding"]),"icon-keep-upright":new bi(Gt.layout_symbol["icon-keep-upright"]),"icon-offset":new Si(Gt.layout_symbol["icon-offset"]),"icon-anchor":new Si(Gt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new bi(Gt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new bi(Gt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new bi(Gt.layout_symbol["text-rotation-alignment"]),"text-field":new Si(Gt.layout_symbol["text-field"]),"text-font":new Si(Gt.layout_symbol["text-font"]),"text-size":new Si(Gt.layout_symbol["text-size"]),"text-max-width":new Si(Gt.layout_symbol["text-max-width"]),"text-line-height":new bi(Gt.layout_symbol["text-line-height"]),"text-letter-spacing":new Si(Gt.layout_symbol["text-letter-spacing"]),"text-justify":new Si(Gt.layout_symbol["text-justify"]),"text-radial-offset":new Si(Gt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new bi(Gt.layout_symbol["text-variable-anchor"]),"text-anchor":new Si(Gt.layout_symbol["text-anchor"]),"text-max-angle":new bi(Gt.layout_symbol["text-max-angle"]),"text-writing-mode":new bi(Gt.layout_symbol["text-writing-mode"]),"text-rotate":new Si(Gt.layout_symbol["text-rotate"]),"text-padding":new bi(Gt.layout_symbol["text-padding"]),"text-keep-upright":new bi(Gt.layout_symbol["text-keep-upright"]),"text-transform":new Si(Gt.layout_symbol["text-transform"]),"text-offset":new Si(Gt.layout_symbol["text-offset"]),"text-allow-overlap":new bi(Gt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new bi(Gt.layout_symbol["text-ignore-placement"]),"text-optional":new bi(Gt.layout_symbol["text-optional"])}),Sl={paint:new Ti({"icon-opacity":new Si(Gt.paint_symbol["icon-opacity"]),"icon-color":new Si(Gt.paint_symbol["icon-color"]),"icon-halo-color":new Si(Gt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Si(Gt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Si(Gt.paint_symbol["icon-halo-blur"]),"icon-translate":new bi(Gt.paint_symbol["icon-translate"]),"icon-translate-anchor":new bi(Gt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Si(Gt.paint_symbol["text-opacity"]),"text-color":new Si(Gt.paint_symbol["text-color"],{runtimeType:te,getOverride:function getOverride(t){return t.textColor},hasOverride:function hasOverride(t){return!!t.textColor}}),"text-halo-color":new Si(Gt.paint_symbol["text-halo-color"]),"text-halo-width":new Si(Gt.paint_symbol["text-halo-width"]),"text-halo-blur":new Si(Gt.paint_symbol["text-halo-blur"]),"text-translate":new bi(Gt.paint_symbol["text-translate"]),"text-translate-anchor":new bi(Gt.paint_symbol["text-translate-anchor"])}),layout:vl},El=function qs(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Kt,this.defaultValue=t};El.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},El.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},El.prototype.possibleOutputs=function(){return[void 0]},El.prototype.serialize=function(){return null},xn("FormatSectionOverride",El,{omit:["defaultValue"]});var xl=function(t){function e(e){t.call(this,e,Sl)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n){var r=this.layout.get(t).evaluate(e,{},n),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||Ir(i.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,r)},e.prototype.createBucket=function(t){return new ml(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=Sl.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new El(o),s=new Kn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Xn("source",s):new Zn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new vi(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=Sl.paint.properties[e],i=!1,s=function a(t){for(var e=0,n=t;e<n.length;e+=1){var a=n[e];if(r.overrides&&r.overrides.hasOverride(a))return void(i=!0)}};if("constant"===n.value.kind&&n.value.value instanceof Ee)s(n.value.value.sections);else if("source"===n.value.kind){var u=n.value;u._styleExpression&&function o(t){if(!i)if(t instanceof we&&re(t.value)===se){var e=t.value;s(e.sections)}else t instanceof Ce?s(t.sections):t.eachChild(o)}(u._styleExpression.expression)}return i},e.hasPaintOverrides=function(t){for(var n=0,r=Sl.paint.overridableProperties;n<r.length;n+=1){var i=r[n];if(e.hasPaintOverride(t,i))return!0}return!1},e}(Pi),wl={paint:new Ti({"background-color":new bi(Gt.paint_background["background-color"]),"background-pattern":new xi(Gt.paint_background["background-pattern"]),"background-opacity":new bi(Gt.paint_background["background-opacity"])})},Tl=function(t){function e(e){t.call(this,e,wl)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pi),Pl={paint:new Ti({"raster-opacity":new bi(Gt.paint_raster["raster-opacity"]),"raster-hue-rotate":new bi(Gt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new bi(Gt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new bi(Gt.paint_raster["raster-brightness-max"]),"raster-saturation":new bi(Gt.paint_raster["raster-saturation"]),"raster-contrast":new bi(Gt.paint_raster["raster-contrast"]),"raster-resampling":new bi(Gt.paint_raster["raster-resampling"]),"raster-fade-duration":new bi(Gt.paint_raster["raster-fade-duration"])})},Cl=function(t){function e(e){t.call(this,e,Pl)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pi),Dl=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(Pi),Rl={circle:us,heatmap:hs,hillshade:ms,fill:Rs,"fill-extrusion":Xs,line:ou,symbol:xl,background:Tl,raster:Cl};function Ys(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,u=0,l=0,c=t;l<c.length;l+=1)for(var f=c[l],p=a.length-1;p>=0;p--){var d=a[p];if(!(f.w>d.w||f.h>d.h)){if(f.x=d.x,f.y=d.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===d.w&&f.h===d.h){var h=a.pop();p<a.length&&(a[p]=h)}else f.h===d.h?(d.x+=f.w,d.w-=f.w):f.w===d.w?(d.y+=f.h,d.h-=f.h):(a.push({x:d.x+f.w,y:d.y,w:d.w-f.w,h:f.h}),d.y+=f.h,d.h-=f.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}var Ml=function $s(t,e){var n=e.pixelRatio,r=e.version;this.paddedRect=t,this.pixelRatio=n,this.version=r},Ll={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ll.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ll.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ll.tlbr.get=function(){return this.tl.concat(this.br)},Ll.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Ml.prototype,Ll);var Il=function Qs(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=Ys(i),a=o.w,s=o.h,u=new ps({width:a||1,height:s||1});for(var l in t){var c=t[l],f=n[l].paddedRect;ps.copy(c.data,u,{x:0,y:0},{x:f.x+1,y:f.y+1},c.data)}for(var p in e){var d=e[p],h=r[p].paddedRect,g=h.x+1,y=h.y+1,m=d.data.width,v=d.data.height;ps.copy(d.data,u,{x:0,y:0},{x:g,y:y},d.data),ps.copy(d.data,u,{x:0,y:v-1},{x:g,y:y-1},{width:m,height:1}),ps.copy(d.data,u,{x:0,y:0},{x:g,y:y+v},{width:m,height:1}),ps.copy(d.data,u,{x:m-1,y:0},{x:g-1,y:y},{width:1,height:v}),ps.copy(d.data,u,{x:0,y:0},{x:g+m,y:y},{width:1,height:v})}this.image=u,this.iconPositions=n,this.patternPositions=r};Il.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new Ml(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},Il.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},Il.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl,i=r[0],o=r[1];n.update(e.data,void 0,{x:i,y:o})}},xn("ImagePosition",Ml),xn("ImageAtlas",Il);var Ol=self.HTMLImageElement,Fl=self.HTMLCanvasElement,Nl=self.HTMLVideoElement,Bl=self.ImageData,Ul=function iu(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Ul.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Ol||t instanceof Fl||t instanceof Nl||t instanceof Bl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;t instanceof Ol||t instanceof Fl||t instanceof Nl||t instanceof Bl?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ul.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Ul.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ul.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var zl=function au(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},jl=function ou(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=h,a/=256,l-=8);t[n+d-h]|=128*g},Vl=uu;function uu(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function lu(t){return t.type===uu.Bytes?t.readVarint()+t.pos:t.pos+1}function pu(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function cu(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function hu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function fu(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function yu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function du(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function mu(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function vu(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function gu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function xu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function bu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _u(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function wu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Au(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}uu.Varint=0,uu.Fixed64=1,uu.Bytes=2,uu.Fixed32=5,uu.prototype={destroy:function destroy(){this.buf=null},readFields:function readFields(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function readFixed32(){var t=_u(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function readSFixed32(){var t=Au(this.buf,this.pos);return this.pos+=4,t},readFixed64:function readFixed64(){var t=_u(this.buf,this.pos)+4294967296*_u(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function readSFixed64(){var t=_u(this.buf,this.pos)+4294967296*Au(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function readFloat(){var t=zl(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function readDouble(){var t=zl(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function readVarint(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return pu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return pu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return pu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return pu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return pu(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return pu(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function readVarint64(){return this.readVarint(!0)},readSVarint:function readSVarint(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function readBoolean(){return Boolean(this.readVarint())},readString:function readString(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function readBytes(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function readPackedVarint(t,e){if(this.type!==uu.Bytes)return t.push(this.readVarint(e));var n=lu(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function readPackedSVarint(t){if(this.type!==uu.Bytes)return t.push(this.readSVarint());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function readPackedBoolean(t){if(this.type!==uu.Bytes)return t.push(this.readBoolean());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function readPackedFloat(t){if(this.type!==uu.Bytes)return t.push(this.readFloat());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function readPackedDouble(t){if(this.type!==uu.Bytes)return t.push(this.readDouble());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function readPackedFixed32(t){if(this.type!==uu.Bytes)return t.push(this.readFixed32());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function readPackedSFixed32(t){if(this.type!==uu.Bytes)return t.push(this.readSFixed32());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function readPackedFixed64(t){if(this.type!==uu.Bytes)return t.push(this.readFixed64());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function readPackedSFixed64(t){if(this.type!==uu.Bytes)return t.push(this.readSFixed64());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function skip(t){var e=7&t;if(e===uu.Varint)for(;this.buf[this.pos++]>127;);else if(e===uu.Bytes)this.pos=this.readVarint()+this.pos;else if(e===uu.Fixed32)this.pos+=4;else{if(e!==uu.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function writeTag(t,e){this.writeVarint(t<<3|e)},realloc:function realloc(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function writeFixed32(t){this.realloc(4),wu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function writeSFixed32(t){this.realloc(4),wu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function writeFixed64(t){this.realloc(8),wu(this.buf,-1&t,this.pos),wu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function writeSFixed64(t){this.realloc(8),wu(this.buf,-1&t,this.pos),wu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function writeVarint(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function writeSVarint(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function writeBoolean(t){this.writeVarint(Boolean(t))},writeString:function writeString(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&cu(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function writeFloat(t){this.realloc(4),jl(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function writeDouble(t){this.realloc(8),jl(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function writeBytes(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function writeRawMessage(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&cu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function writeMessage(t,e,n){this.writeTag(t,uu.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function writePackedVarint(t,e){e.length&&this.writeMessage(t,hu,e)},writePackedSVarint:function writePackedSVarint(t,e){e.length&&this.writeMessage(t,fu,e)},writePackedBoolean:function writePackedBoolean(t,e){e.length&&this.writeMessage(t,mu,e)},writePackedFloat:function writePackedFloat(t,e){e.length&&this.writeMessage(t,yu,e)},writePackedDouble:function writePackedDouble(t,e){e.length&&this.writeMessage(t,du,e)},writePackedFixed32:function writePackedFixed32(t,e){e.length&&this.writeMessage(t,vu,e)},writePackedSFixed32:function writePackedSFixed32(t,e){e.length&&this.writeMessage(t,gu,e)},writePackedFixed64:function writePackedFixed64(t,e){e.length&&this.writeMessage(t,xu,e)},writePackedSFixed64:function writePackedSFixed64(t,e){e.length&&this.writeMessage(t,bu,e)},writeBytesField:function writeBytesField(t,e){this.writeTag(t,uu.Bytes),this.writeBytes(e)},writeFixed32Field:function writeFixed32Field(t,e){this.writeTag(t,uu.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function writeSFixed32Field(t,e){this.writeTag(t,uu.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function writeFixed64Field(t,e){this.writeTag(t,uu.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function writeSFixed64Field(t,e){this.writeTag(t,uu.Fixed64),this.writeSFixed64(e)},writeVarintField:function writeVarintField(t,e){this.writeTag(t,uu.Varint),this.writeVarint(e)},writeSVarintField:function writeSVarintField(t,e){this.writeTag(t,uu.Varint),this.writeSVarint(e)},writeStringField:function writeStringField(t,e){this.writeTag(t,uu.Bytes),this.writeString(e)},writeFloatField:function writeFloatField(t,e){this.writeTag(t,uu.Fixed32),this.writeFloat(e)},writeDoubleField:function writeDoubleField(t,e){this.writeTag(t,uu.Fixed64),this.writeDouble(e)},writeBooleanField:function writeBooleanField(t,e){this.writeVarintField(t,Boolean(e))}};var Gl=3;function Su(t,e,n){1===t&&n.readMessage(zu,e)}function zu(t,e,n){if(3===t){var r=n.readMessage(Iu,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,u=r.left,l=r.top,c=r.advance;e.push({id:i,bitmap:new cs({width:a+2*Gl,height:s+2*Gl},o),metrics:{width:a,height:s,left:u,top:l,advance:c}})}}function Iu(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var Wl=Gl,ql=function Bu(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};ql.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))};var Hl=function Eu(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new ql(this.process),this.target.addEventListener("message",this.receive,!1)};function Mu(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Hl.prototype.send=function(t,e,n,r){var i=this,o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var a=[];return this.target.postMessage({id:o,type:t,hasCallback:!!n,targetMapId:r,sourceMapId:this.mapId,data:_n(e,a)},a),{cancel:function cancel(){n&&delete i.callbacks[o],i.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}},Hl.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()},Hl.prototype.process=function(){var t=this;if(this.taskQueue.length){var e=this.taskQueue.shift(),n=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),n)if("<response>"===n.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(n.error?r(wn(n.error)):r(null,wn(n.data)))}else{var i=!1,o=n.hasCallback?function(n,r){i=!0,delete t.cancelCallbacks[e];var o=[];t.target.postMessage({id:e,type:"<response>",sourceMapId:t.mapId,error:n?_n(n):null,data:_n(r,o)},o)}:function(t){i=!0},a=null,s=wn(n.data);if(this.parent[n.type])a=this.parent[n.type](n.sourceMapId,s,o);else if(this.parent.getWorkerSource){var u=n.type.split(".");a=this.parent.getWorkerSource(n.sourceMapId,u[0],s.source)[u[1]](s,o)}else o(new Error("Could not find function "+n.type));!i&&a&&a.cancel&&(this.cancelCallbacks[e]=a.cancel)}}},Hl.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Kl=function Pu(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Kl.prototype.setNorthEast=function(t){return this._ne=t instanceof Yl?new Yl(t.lng,t.lat):Yl.convert(t),this},Kl.prototype.setSouthWest=function(t){return this._sw=t instanceof Yl?new Yl(t.lng,t.lat):Yl.convert(t),this},Kl.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Yl)e=t,n=t;else{if(!(t instanceof Kl))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Kl.convert(t)):this.extend(Yl.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Yl(e.lng,e.lat),this._ne=new Yl(n.lng,n.lat)),this},Kl.prototype.getCenter=function(){return new Yl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Kl.prototype.getSouthWest=function(){return this._sw},Kl.prototype.getNorthEast=function(){return this._ne},Kl.prototype.getNorthWest=function(){return new Yl(this.getWest(),this.getNorth())},Kl.prototype.getSouthEast=function(){return new Yl(this.getEast(),this.getSouth())},Kl.prototype.getWest=function(){return this._sw.lng},Kl.prototype.getSouth=function(){return this._sw.lat},Kl.prototype.getEast=function(){return this._ne.lng},Kl.prototype.getNorth=function(){return this._ne.lat},Kl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Kl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Kl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Kl.convert=function(t){return!t||t instanceof Kl?t:new Kl(t)};var Yl=function Tu(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Yl.prototype.wrap=function(){return new Yl(p(this.lng,-180,180),this.lat)},Yl.prototype.toArray=function(){return[this.lng,this.lat]},Yl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Yl.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Kl(new Yl(this.lng-n,this.lat-e),new Yl(this.lng+n,this.lat+e))},Yl.convert=function(t){if(t instanceof Yl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Yl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Yl(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Xl=2*Math.PI*6378137;function Fu(t){return Xl*Math.cos(t*Math.PI/180)}function Ou(t){return(180+t)/360}function Lu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Du(t,e){return t/Fu(e)}function Uu(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}var Zl=function Ru(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Zl.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Yl.convert(t);return new Zl(Ou(n.lng),Lu(n.lat),Du(e,n.lat))},Zl.prototype.toLngLat=function(){return new Yl(360*this.x-180,Uu(this.y))},Zl.prototype.toAltitude=function(){return this.z*Fu(Uu(this.y))},Zl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Xl*(t=Uu(this.y),1/Math.cos(t*Math.PI/180));var t};var $l=function ju(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Ku(0,t,e,n)};$l.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},$l.prototype.url=function(t,e){var n,r,i,o,a,s=(n=this.x,r=this.y,i=this.z,o=Mu(256*n,256*(r=Math.pow(2,i)-r-1),i),a=Mu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},$l.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new P((t.x*e-this.x)*Za,(t.y*e-this.y)*Za)};var Jl=function qu(t,e){this.wrap=t,this.canonical=e,this.key=Ku(t,e.z,e.x,e.y)},Ql=function Nu(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new $l(n,+r,+i),this.key=Ku(e,t,r,i)};function Ku(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}Ql.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Ql.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Ql(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ql(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Ql.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Ql.prototype.children=function(t){if(this.overscaledZ>=t)return[new Ql(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Ql(e,this.wrap,e,n,r),new Ql(e,this.wrap,e,n+1,r),new Ql(e,this.wrap,e,n,r+1),new Ql(e,this.wrap,e,n+1,r+1)]},Ql.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Ql.prototype.wrapped=function(){return new Ql(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ql.prototype.unwrapTo=function(t){return new Ql(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Ql.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ql.prototype.toUnwrapped=function(){return new Jl(this.wrap,this.canonical)},Ql.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ql.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Zl(t.x-this.wrap,t.y))},xn("CanonicalTileID",$l),xn("OverscaledTileID",Ql,{omit:["posMatrix"]});var tc=function Zu(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return w('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};tc.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},tc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},tc.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},tc.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},tc.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},tc.prototype.getPixels=function(){return new ps({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},tc.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=t.data[this._idx(c+s,l+u)]},xn("DEMData",tc);var ec=ei([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),nc=function Gu(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};nc.prototype.encode=function(t){return this._stringToNumber[t]},nc.prototype.decode=function(t){return this._numberToString[t]};var rc=function Ju(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},ic={geometry:{configurable:!0}};ic.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ic.geometry.set=function(t){this._geometry=t},rc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(rc.prototype,ic);var oc=function Yu(){this.state={},this.stateChanges={},this.deletedStates={}};oc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},c(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},oc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e&&e>=0)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e&&e>=0)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},oc.prototype.getState=function(t,e){var n=String(e),r=this.state[t]||{},i=this.stateChanges[t]||{},o=c({},r[n],i[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var a=this.deletedStates[t][e];if(null===a)return{};for(var s in a)delete o[s]}return o},oc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},oc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),c(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var f=0,p=Object.keys(this.deletedStates[a][l]);f<p.length;f+=1){var d=p[f];delete this.state[a][l][d]}s[l]=this.state[a][l]}n[a]=n[a]||{},c(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in t)t[h].setFeatureState(n,e)};var ac=function $u(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new ir(Za,16,0),this.grid3D=new ir(Za,16,0),this.featureIndexArray=n||new Jo};function Wu(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function Qu(t,e){return e-t}ac.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,u=0;u<e.length;u++){for(var l=e[u],c=[1/0,1/0,-1/0,-1/0],f=0;f<l.length;f++){var p=l[f];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<Za&&c[1]<Za&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ac.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Vs.VectorTile(new Vl(this.rawTileData)).layers,this.sourceLayerCoder=new nc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ac.prototype.query=function(t,e,n){var r=this;this.loadVTLayers();for(var i=t.params||{},o=Za/t.tileSize/t.scale,a=jr(i.filter),s=t.queryGeometry,u=t.queryPadding*o,l=Wu(s),c=this.grid.query(l.minX-u,l.minY-u,l.maxX+u,l.maxY+u),f=Wu(t.cameraQueryGeometry),p=0,d=this.grid3D.query(f.minX-u,f.minY-u,f.maxX+u,f.maxY+u,(function(e,n,r,i){return function(t,e,n,r,i){for(var o=0,a=t;o<a.length;o+=1){var s=a[o];if(e<=s.x&&n<=s.y&&r>=s.x&&i>=s.y)return!0}var u=[new P(e,n),new P(e,i),new P(r,i),new P(r,n)];if(t.length>2)for(var l=0,c=u;l<c.length;l+=1)if(_a(t,c[l]))return!0;for(var f=0;f<t.length-1;f++)if(wa(t[f],t[f+1],u))return!0;return!1}(t.cameraQueryGeometry,e-u,n-u,r+u,i+u)}));p<d.length;p+=1){var h=d[p];c.push(h)}c.sort(Qu);for(var g,y={},m=function x(u){var l=c[u];if(l!==g){g=l;var f=r.featureIndexArray.get(l),p=null;r.loadMatchingFeature(y,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,a,i.layers,e,(function(e,i){p||(p=la(e));var a={};return e.id&&(a=n.getState(i.sourceLayer||"_geojsonTileLayer",e.id)),i.queryIntersectsFeature(s,e,a,p,r.z,t.transform,o,t.pixelPosMatrix)}))}},v=0;v<c.length;v++)m(v);return y},ac.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var u=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,u)){var l=this.sourceLayerCoder.decode(n),c=this.vtLayers[l].feature(r);if(i(new fi(this.tileID.overscaledZ),c))for(var f=0;f<u.length;f++){var p=u[f];if(!(o&&o.indexOf(p)<0)){var d=a[p];if(d){var h=!s||s(c,d);if(h){var g=new rc(c,this.z,this.x,this.y);g.layer=d.serialize();var y=t[p];void 0===y&&(y=t[p]=[]),y.push({featureIndex:r,feature:g,intersectionZ:h})}}}}}},ac.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=jr(r),u=0,l=t;u<l.length;u+=1){var c=l[u];this.loadMatchingFeature(a,e,n,c,s,i,o)}return a},ac.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},xn("FeatureIndex",ac,{omit:["rawTileData","sourceLayerCoder"]});var sc=function tl(t,e){this.tileID=t,this.uid=f(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};function el(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],p=t[a+1];if(!p)return!1;var d=c.angleTo(f)-f.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(p)}return!0}function rl(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function nl(t,e,n){return t?.6*e*n:0}function il(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function al(t,e,n,r,i,o){for(var a=nl(n,i,o),s=il(n,r)*o,u=0,l=rl(t)/2,c=0;c<t.length-1;c++){var f=t[c],p=t[c+1],d=f.dist(p);if(u+d>l){var h=(l-u)/d,g=Ae(f.x,p.x,h),y=Ae(f.y,p.y,h),m=new Yu(g,y,p.angleTo(f),c);return m._round(),!a||el(t,m,s,a,e)?m:void 0}u+=d}}function ol(t,e,n,r,i,o,a,s,u){var l=nl(r,o,a),c=il(r,i),f=c*a,p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-f<e/4&&(e=f+e/4),function t(e,n,r,i,o,a,s,u,l){for(var c=a/2,f=rl(e),p=0,d=n-r,h=[],g=0;g<e.length-1;g++){for(var y=e[g],m=e[g+1],v=y.dist(m),_=m.angleTo(y);d+r<p+v;){var b=((d+=r)-p)/v,S=Ae(y.x,m.x,b),E=Ae(y.y,m.y,b);if(S>=0&&S<l&&E>=0&&E<l&&d-c>=0&&d+c<=f){var x=new Yu(S,E,_,g);x._round(),i&&!el(e,x,a,i,o)||h.push(x)}}p+=v}return u||h.length||s||(h=t(e,p/2,r,i,o,a,s,!0,l)),h}(t,p?e/2*s%e:(c/2+2*o)*a*s%e,e,l,n,f,p,!1,u)}sc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<W.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},sc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},sc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var r={};if(!e)return r;for(var i=function n(){var t=a[o],n=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==n.length){t.layers=n,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return n.filter((function(e){return e.id===t}))[0]})));for(var i=0,s=n;i<s.length;i+=1){var u=s[i];r[u.id]=t}}},o=0,a=t;o<a.length;o+=1)i();return r}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof ml){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new To},sc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},sc.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},sc.prototype.getBucket=function(t){return this.buckets[t.id]},sc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ul(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ul(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},sc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},sc.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:r,scale:i,tileSize:this.tileSize,pixelPosMatrix:u,transform:a,params:o,queryPadding:this.queryPadding*s},t,e):{}},sc.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=e?e.sourceLayer:"",i=n._geojsonTileLayer||n[r];if(i)for(var o=jr(e&&e.filter),a=this.tileID.canonical,s=a.z,u=a.x,l=a.y,c={z:s,x:u,y:l},f=0;f<i.length;f++){var p=i.feature(f);if(o(new fi(this.tileID.overscaledZ),p)){var d=new rc(p,s,u,l);d.tile=c,t.push(d)}}}},sc.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},sc.prototype.setMask=function(t,e){if(!o(this.mask,t)&&(this.mask=t,this.clearMask(),!o(t,{0:!0}))){var n=new Li,r=new Xi;this.segments=new ta,this.segments.prepareSegment(0,n,r);for(var i=Object.keys(t),a=0;a<i.length;a++){var s=t[+i[a]],u=Za>>s.z,l=new P(s.x*u,s.y*u),c=new P(l.x+u,l.y+u),f=this.segments.prepareSegment(4,n,r);n.emplaceBack(l.x,l.y,l.x,l.y),n.emplaceBack(c.x,l.y,c.x,l.y),n.emplaceBack(l.x,c.y,l.x,c.y),n.emplaceBack(c.x,c.y,c.x,c.y);var p=f.vertexLength;r.emplaceBack(p,p+1,p+2),r.emplaceBack(p+1,p+2,p+3),f.vertexLength+=4,f.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,ec.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},sc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},sc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},sc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=S(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},sc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},sc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(i))))}}},sc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},sc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()},sc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},sc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=W.now()+t};var uc=function sl(t,e,n,r,i,o,a,s,u,l,c,f){var p=a.top*s-u,d=a.bottom*s+u,h=a.left*s-u,g=a.right*s+u;if(this.boxStartIndex=t.length,l){var y=d-p,m=g-h;y>0&&(y=Math.max(10*s,y),this._addLineCollisionCircles(t,e,n,n.segment,m,y,r,i,o,c))}else{if(f){var v=new P(h,p),_=new P(g,p),b=new P(h,d),S=new P(g,d),E=f*Math.PI/180;v._rotate(E),_._rotate(E),b._rotate(E),S._rotate(E),h=Math.min(v.x,_.x,b.x,S.x),g=Math.max(v.x,_.x,b.x,S.x),p=Math.min(v.y,_.y,b.y,S.y),d=Math.max(v.y,_.y,b.y,S.y)}t.emplaceBack(n.x,n.y,h,p,g,d,r,i,o,0,0)}this.boxEndIndex=t.length};uc.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,u,l){var c=o/2,f=Math.floor(i/c)||1,p=1+.4*Math.log(l)/Math.LN2,d=Math.floor(f*p/2),h=-o/2,g=n,y=r+1,m=h,v=-i/2,_=v-i/4;do{if(--y<0){if(m>v)return;y=0;break}m-=e[y].dist(g),g=e[y]}while(m>_);for(var b=e[y].dist(e[y+1]),S=-d;S<f+d;S++){var E=S*c,x=v+E;if(E<0&&(x+=E),E>i&&(x+=E-i),!(x<m)){for(;m+b<x;){if(m+=b,++y+1>=e.length)return;b=e[y].dist(e[y+1])}var w=x-m,T=e[y],P=e[y+1].sub(T)._unit()._mult(w)._add(T)._round(),k=Math.abs(x-h)<c?0:.8*(x-h);t.emplaceBack(P.x,P.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,k)}}};var lc=function ul(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=ll),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function ll(t,e){return t<e?-1:t>e?1:0}function pl(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,i=1/0,o=-1/0,a=-1/0,s=t[0],u=0;u<s.length;u++){var l=s[u];(!u||l.x<r)&&(r=l.x),(!u||l.y<i)&&(i=l.y),(!u||l.x>o)&&(o=l.x),(!u||l.y>a)&&(a=l.y)}var c=o-r,f=a-i,p=Math.min(c,f),d=p/2,h=new lc([],cl);if(0===p)return new P(r,i);for(var g=r;g<o;g+=p)for(var y=i;y<a;y+=p)h.push(new hl(g+d,y+d,d,t));for(var m=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,e+=3*c}return new hl(n/e,r/e,0,t)}(t),v=h.length;h.length;){var _=h.pop();(_.d>m.d||!m.d)&&(m=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,v)),_.max-m.d<=e||(d=_.h/2,h.push(new hl(_.p.x-d,_.p.y-d,d,t)),h.push(new hl(_.p.x+d,_.p.y-d,d,t)),h.push(new hl(_.p.x-d,_.p.y+d,d,t)),h.push(new hl(_.p.x+d,_.p.y+d,d,t)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+m.d)),m.p}function cl(t,e){return e.max-t.max}function hl(t,e,n,r){this.p=new P(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,xa(t,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}lc.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},lc.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},lc.prototype.peek=function(){return this.data[0]},lc.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},lc.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var cc=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,u,l;for(n=3&t.length,r=t.length-n,i=e,a=3432918353,s=461845907,l=0;l<r;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fc=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),pc=cc,dc=cc,hc=fc;pc.murmur3=dc,pc.murmur2=hc;var gc=7,yc=Number.POSITIVE_INFINITY;function bl(t,e){return e[1]!==yc?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-gc;break;case"bottom-right":case"bottom-left":case"bottom":i=-n+gc}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-gc;break;case"bottom-right":case"bottom-left":r=-i+gc;break;case"bottom":r=-e+gc;break;case"top":r=e-gc}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function _l(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var mc=65535;function Al(t,e,n,r,i,o,a,s,u,l,c,f,p,d){var h=function(t,e,n,r,i,o,a,s){for(var u=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,l=e.positionedGlyphs,c=[],f=0;f<l.length;f++){var p=l[f],d=a[p.fontStack],h=d&&d[p.glyph];if(h){var g=h.rect;if(g){var y=Wl+1,m=h.metrics.advance*p.scale/2,v=i?[p.x+m,p.y]:[0,0],_=i?[0,0]:[p.x+m+n[0],p.y+n[1]],b=(i||s)&&p.vertical,S=[0,0];b&&(S=_,_=[0,0]);var E=(h.metrics.left-y)*p.scale-m+_[0],x=(-h.metrics.top-y)*p.scale+_[1],w=E+g.w*p.scale,T=x+g.h*p.scale,k=new P(E,x),C=new P(w,x),D=new P(E,T),A=new P(w,T);if(b){var R=new P(-m,m-e.yOffset),M=-Math.PI/2,L=Ru/2-m,I=new P(5-e.yOffset-L,0),O=new(Function.prototype.bind.apply(P,[null].concat(S)));k._rotateAround(M,R)._add(I)._add(O),C._rotateAround(M,R)._add(I)._add(O),D._rotateAround(M,R)._add(I)._add(O),A._rotateAround(M,R)._add(I)._add(O)}if(u){var F=Math.sin(u),N=Math.cos(u),B=[N,-F,F,N];k._matMult(B),C._matMult(B),D._matMult(B),A._matMult(B)}c.push({tl:k,tr:C,bl:D,br:A,tex:g,writingMode:e.writingMode,glyphOffset:v,sectionIndex:p.sectionIndex})}}}return c}(0,n,a,r,i,o,f,t.allowVerticalPlacement),g=t.textSizeData,y=null;"source"===g.kind?(y=[Xu*r.layout.get("text-size").evaluate(o,{})])[0]>mc&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===g.kind&&((y=[Xu*d.compositeTextSizes[0].evaluate(o,{}),Xu*d.compositeTextSizes[1].evaluate(o,{})])[0]>mc||y[1]>mc)&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,h,y,a,i,o,u,e,s.lineStartIndex,s.lineLength,p);for(var m=0,v=l;m<v.length;m+=1)c[v[m]]=t.text.placedSymbolArray.length-1;return 4*h.length}function kl(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}E.Actor=Hl,E.AlphaImage=cs,E.CanonicalTileID=$l,E.CollisionBoxArray=To,E.Color=he,E.DEMData=tc,E.DataConstantProperty=bi,E.DictionaryCoder=nc,E.EXTENT=Za,E.ErrorEvent=jt,E.EvaluationParameters=fi,E.Event=zt,E.Evented=Vt,E.FeatureIndex=ac,E.FillBucket=Ts,E.FillExtrusionBucket=Hs,E.ImageAtlas=Il,E.ImagePosition=Ml,E.LineBucket=eu,E.LngLat=Yl,E.LngLatBounds=Kl,E.MercatorCoordinate=Zl,E.ONE_EM=Ru,E.OverscaledTileID=Ql,E.Point=P,E.Point$1=P,E.ProgramConfiguration=Ka,E.Properties=Ti,E.Protobuf=Vl,E.RGBAImage=ps,E.RequestManager=tt,E.ResourceType=Dt,E.SegmentVector=ta,E.SourceFeatureState=oc,E.StructArrayLayout1ui2=$i,E.StructArrayLayout2i4=Mi,E.StructArrayLayout2ui4=Zi,E.StructArrayLayout3ui6=Xi,E.StructArrayLayout4i8=Li,E.SymbolBucket=ml,E.Texture=Ul,E.Tile=sc,E.Transitionable=hi,E.Uniform1f=ua,E.Uniform1i=sa,E.Uniform2f=Ea,E.Uniform3f=Pa,E.Uniform4f=Ca,E.UniformColor=Ra,E.UniformMatrix4f=Na,E.UnwrappedTileID=Jl,E.ValidationError=Wt,E.WritingMode=Bu,E.ZoomHistory=ni,E.addDynamicAttributes=Os,E.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},E.bezier=s,E.bindAll=m,E.browser=W,E.cacheEntryPossiblyAdded=function(t){++kt>xt&&(t.getActor().send("enforceCacheSizeLimit",St),kt=0)},E.clamp=l,E.clearTileCache=function(t){var e=self.caches.delete(gt);t&&e.catch(t).then((function(){return t()}))},E.clone=function(t){var e=new as(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},E.clone$1=b,E.config=H,E.create=function(){var t=new as(16);return as!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},E.create$1=function(){var t=new as(9);return as!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},E.create$2=function(){var t=new as(4);return as!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},E.createCommonjsModule=e,E.createExpression=Cr,E.createLayout=ei,E.createStyleLayer=function(t){return"custom"===t.type?new Dl(t):new Rl[t.type](t)},E.deepEqual=o,E.ease=D,E.emitValidationErrors=fn,E.endsWith=v,E.enforceCacheSizeLimit=function(t){self.caches&&self.caches.open(gt).then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},E.evaluateSizeForFeature=Es,E.evaluateSizeForZoom=Ms,E.evaluateVariableOffset=bl,E.evented=li,E.extend=c,E.featureFilter=jr,E.filterObject=x,E.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},E.getAnchorAlignment=Ss,E.getAnchorJustification=_l,E.getArrayBuffer=Nt,E.getImage=function bt(t,e){if(Ot>=H.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function cancel(){this.cancelled=!0}};return It.push(n),n}Ot++;var r=!1,o=function i(){if(!r)for(r=!0,Ot--;It.length&&Ot<H.MAX_PARALLEL_IMAGE_REQUESTS;){var t=It.shift(),e=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=bt(e,n).cancel)}},a=Nt(t,(function(t,n,r,i){if(o(),t)e(t);else if(n){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){e(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var u=new self.Blob([new Uint8Array(n)],{type:"image/png"});a.cacheControl=r,a.expires=i,a.src=n.byteLength?s.createObjectURL(u):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function cancel(){a.cancel(),o()}}},E.getJSON=function(t,e){return Ft(c(t,{type:"json"}),e)},E.getReferrer=Lt,E.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function cancel(){}}},E.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},E.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],d=e[11],h=e[12],g=e[13],y=e[14],m=e[15],v=n*s-r*a,_=n*u-i*a,b=n*l-o*a,S=r*u-i*s,E=r*l-o*s,x=i*l-o*u,w=c*g-f*h,T=c*y-p*h,P=c*m-d*h,k=f*y-p*g,C=f*m-d*g,D=p*m-d*y,A=v*D-_*C+b*k+S*P-E*T+x*w;return A?(A=1/A,t[0]=(s*D-u*C+l*k)*A,t[1]=(i*C-r*D-o*k)*A,t[2]=(g*x-y*E+m*S)*A,t[3]=(p*E-f*x-d*S)*A,t[4]=(u*P-a*D-l*T)*A,t[5]=(n*D-i*P+o*T)*A,t[6]=(y*b-h*x-m*_)*A,t[7]=(c*x-p*b+d*_)*A,t[8]=(a*C-s*P+l*w)*A,t[9]=(r*P-n*C-o*w)*A,t[10]=(h*E-g*b+m*v)*A,t[11]=(f*b-c*E-d*v)*A,t[12]=(s*T-a*k-u*w)*A,t[13]=(n*k-r*T+i*w)*A,t[14]=(g*_-h*S-y*v)*A,t[15]=(c*S-f*_+p*v)*A,t):null},E.isChar=ii,E.isMapboxURL=q,E.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},E.makeRequest=Ft,E.mapObject=g,E.mercatorXfromLng=Ou,E.mercatorYfromLat=Lu,E.mercatorZfromAltitude=Du,E.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],g=e[12],y=e[13],m=e[14],v=e[15],_=n[0],b=n[1],S=n[2],E=n[3];return t[0]=_*r+b*s+S*f+E*g,t[1]=_*i+b*u+S*p+E*y,t[2]=_*o+b*l+S*d+E*m,t[3]=_*a+b*c+S*h+E*v,_=n[4],b=n[5],S=n[6],E=n[7],t[4]=_*r+b*s+S*f+E*g,t[5]=_*i+b*u+S*p+E*y,t[6]=_*o+b*l+S*d+E*m,t[7]=_*a+b*c+S*h+E*v,_=n[8],b=n[9],S=n[10],E=n[11],t[8]=_*r+b*s+S*f+E*g,t[9]=_*i+b*u+S*p+E*y,t[10]=_*o+b*l+S*d+E*m,t[11]=_*a+b*c+S*h+E*v,_=n[12],b=n[13],S=n[14],E=n[15],t[12]=_*r+b*s+S*f+E*g,t[13]=_*i+b*u+S*p+E*y,t[14]=_*o+b*l+S*d+E*m,t[15]=_*a+b*c+S*h+E*v,t},E.mvt=Vs,E.number=Ae,E.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},E.parseGlyphPBF=function(t){return new Vl(t).readFields(Su,[])},E.pbf=Vl,E.performSymbolLayout=function(t,e,n,r,i,o){t.createArrays();var a=512*t.overscaling;t.tilePixelRatio=Za/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,f=c.minZoom,p=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new fi(f)),u["text-size"].possiblyEvaluate(new fi(p))]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,h=d.minZoom,g=d.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new fi(h)),u["icon-size"].possiblyEvaluate(new fi(g))]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new fi(t.zoom+1)),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new fi(t.zoom+1)),l.textMaxSize=u["text-size"].possiblyEvaluate(new fi(18));for(var y=s.get("text-line-height")*Ru,m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),_=function b(){var o=E[S],a=s.get("text-font").evaluate(o,{}).join(","),u=n,c={horizontal:{},vertical:void 0},f=o.text,p=[0,0];if(f){var d=f.toString(),h=s.get("text-letter-spacing").evaluate(o,{})*Ru,g=function(t){for(var e=0,n=t;e<n.length;e+=1)if(!zn(n[e].charCodeAt(0)))return!1;return!0}(d)?h:0,b=s.get("text-anchor").evaluate(o,{}),_=s.get("text-variable-anchor");if(!_){var x=s.get("text-radial-offset").evaluate(o,{});p=x?bl(b,[x*Ru,yc]):s.get("text-offset").evaluate(o,{}).map((function(t){return t*Ru}))}var T=m?"center":s.get("text-justify").evaluate(o,{}),k=s.get("symbol-placement"),C="point"===k?s.get("text-max-width").evaluate(o,{})*Ru:0,D=function B(){t.allowVerticalPlacement&&Sn(d)&&(c.vertical=gs(f,e,a,C,y,b,"left",g,p,Bu.vertical,!0,k))};if(!m&&_){for(var A="auto"===T?_.map((function(t){return _l(t)})):[T],R=!1,M=0;M<A.length;M++){var L=A[M];if(!c.horizontal[L])if(R)c.horizontal[L]=c.horizontal[0];else{var I=gs(f,e,a,C,y,"center",L,g,p,Bu.horizontal,!1,k);I&&(c.horizontal[L]=I,R=1===I.lineCount)}}D()}else{"auto"===T&&(T=_l(b));var O=gs(f,e,a,C,y,b,T,g,p,Bu.horizontal,!1,k);O&&(c.horizontal[T]=O),D(),Sn(d)&&m&&v&&(c.vertical=gs(f,e,a,C,y,b,T,g,p,Bu.vertical,!1,k))}}var F=void 0;if(o.icon&&o.icon.name){var N=r[o.icon.name];N&&(F=function(t,e,n){var r=Ss(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*i,l=u+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{}),s.get("icon-anchor").evaluate(o,{})),void 0===t.sdfIcons?t.sdfIcons=N.sdf:t.sdfIcons!==N.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),N.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(Object.keys(c.horizontal).length||F)&&function(t,e,n,r,i,o,a){var s=o.layoutTextSize.evaluate(e,{}),u=o.layoutIconSize.evaluate(e,{}),l=o.textMaxSize.evaluate(e,{});void 0===l&&(l=s);var c=t.layers[0].layout,f=c.get("icon-offset").evaluate(e,{}),p=function(t){for(var e in t)return t[e];return null}(n.horizontal),d=s/24,h=t.tilePixelRatio*d,g=t.tilePixelRatio*l/24,y=t.tilePixelRatio*u,m=t.tilePixelRatio*c.get("symbol-spacing"),v=c.get("text-padding")*t.tilePixelRatio,_=c.get("icon-padding")*t.tilePixelRatio,b=c.get("text-max-angle")/180*Math.PI,S="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),E="map"===c.get("icon-rotation-alignment")&&"point"!==c.get("symbol-placement"),x=c.get("symbol-placement"),T=m/2,k=c.get("icon-text-fit");r&&"none"!==k&&p&&(r=function(t,e,n,r,i,o){var a,s,u,l,c=t.image,f=e.left*o,p=e.right*o;"width"===n||"both"===n?(l=i[0]+f-r[3],s=i[0]+p+r[1]):s=(l=i[0]+(f+p-c.displaySize[0])/2)+c.displaySize[0];var d=e.top*o,h=e.bottom*o;return"height"===n||"both"===n?(a=i[1]+d-r[0],u=i[1]+h+r[2]):u=(a=i[1]+(d+h-c.displaySize[1])/2)+c.displaySize[1],{image:c,top:a,right:s,bottom:u,left:l}}(r,p,k,c.get("icon-text-fit-padding"),f,d));var D=function C(s,u){u.x<0||u.x>=Za||u.y<0||u.y>=Za||function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,m,v,_,b){var S,E,x,T,k=t.addToLineVertexArray(e,n),C=0,D=0,A=0,R=-1,M={},L=pc(""),I=0,O=0;if(void 0===o._unevaluatedLayout.getValue("text-radial-offset")?(I=(S=o.layout.get("text-offset").evaluate(v,{}).map((function(t){return t*Ru})))[0],O=S[1]):(I=o.layout.get("text-radial-offset").evaluate(v,{})*Ru,O=yc),t.allowVerticalPlacement&&r.vertical){var F=o.layout.get("text-rotate").evaluate(v,{})+90,N=r.vertical;T=new uc(a,n,e,s,u,l,N,c,f,p,t.overscaling,F)}if(i){var B=o.layout.get("icon-rotate").evaluate(v,{}),U=function(t,e){var n=t.image,r=t.right-t.left,i=(r*n.paddedRect.w/(n.paddedRect.w-2)-r)/2,o=t.left-i,a=t.right+i,s=t.bottom-t.top,u=(s*n.paddedRect.h/(n.paddedRect.h-2)-s)/2,l=t.top-u,c=t.bottom+u,f=new P(o,l),p=new P(a,l),d=new P(a,c),h=new P(o,c),g=e*Math.PI/180;if(g){var y=Math.sin(g),m=Math.cos(g),v=[m,-y,y,m];f._matMult(v),p._matMult(v),h._matMult(v),d._matMult(v)}return[{tl:f,tr:p,bl:h,br:d,tex:n.paddedRect,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0}]}(i,B);x=new uc(a,n,e,s,u,l,i,h,g,!1,t.overscaling,B),C=4*U.length;var z=t.iconSizeData,j=null;"source"===z.kind?(j=[Xu*o.layout.get("icon-size").evaluate(v,{})])[0]>mc&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===z.kind&&((j=[Xu*b.compositeIconSizes[0].evaluate(v,{}),Xu*b.compositeIconSizes[1].evaluate(v,{})])[0]>mc||j[1]>mc)&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,U,j,m,y,v,!1,e,k.lineStartIndex,k.lineLength,-1),R=t.icon.placedSymbolArray.length-1}for(var V in r.horizontal){var G=r.horizontal[V];if(!E){L=pc(G.text);var W=o.layout.get("text-rotate").evaluate(v,{});E=new uc(a,n,e,s,u,l,G,c,f,p,t.overscaling,W)}var q=1===G.lineCount;if(D+=Al(t,e,G,o,p,v,d,k,r.vertical?Bu.horizontal:Bu.horizontalOnly,q?Object.keys(r.horizontal):[V],M,_,R,b),q)break}r.vertical&&(A+=Al(t,e,r.vertical,o,p,v,d,k,Bu.vertical,["vertical"],M,_,R,b));var H=E?E.boxStartIndex:t.collisionBoxArray.length,K=E?E.boxEndIndex:t.collisionBoxArray.length,Y=T?T.boxStartIndex:t.collisionBoxArray.length,X=T?T.boxEndIndex:t.collisionBoxArray.length,Z=x?x.boxStartIndex:t.collisionBoxArray.length,$=x?x.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=ml.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(e.x,e.y,M.right>=0?M.right:-1,M.center>=0?M.center:-1,M.left>=0?M.left:-1,M.vertical||-1,R,L,H,K,Y,X,Z,$,s,D,A,C,0,c,I,O)}(t,u,s,n,r,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,h,v,S,a,y,_,E,f,e,i,o)};if("line"===x)for(var A=0,R=function(t,e,n,r,i){for(var o=[],a=0;a<t.length;a++)for(var s=t[a],u=void 0,l=0;l<s.length-1;l++){var c=s[l],f=s[l+1];c.x<0&&f.x<0||(c.x<0?c=new P(0,c.y+(f.y-c.y)*((0-c.x)/(f.x-c.x)))._round():f.x<0&&(f=new P(0,c.y+(f.y-c.y)*((0-c.x)/(f.x-c.x)))._round()),c.y<0&&f.y<0||(c.y<0?c=new P(c.x+(f.x-c.x)*((0-c.y)/(f.y-c.y)),0)._round():f.y<0&&(f=new P(c.x+(f.x-c.x)*((0-c.y)/(f.y-c.y)),0)._round()),c.x>=r&&f.x>=r||(c.x>=r?c=new P(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round():f.x>=r&&(f=new P(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round()),c.y>=i&&f.y>=i||(c.y>=i?c=new P(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round():f.y>=i&&(f=new P(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round()),u&&c.equals(u[u.length-1])||(u=[c],o.push(u)),u.push(f)))))}return o}(e.geometry,0,0,Za,Za);A<R.length;A+=1)for(var M=R[A],L=0,I=ol(M,m,b,n.vertical||p,r,24,g,t.overscaling,Za);L<I.length;L+=1){var O=I[L];p&&kl(t,p.text,T,O)||D(M,O)}else if("line-center"===x)for(var F=0,N=e.geometry;F<N.length;F+=1){var B=N[F];if(B.length>1){var U=al(B,b,n.vertical||p,r,24,g);U&&D(B,U)}}else if("Polygon"===e.type)for(var z=0,j=ko(e.geometry,0);z<j.length;z+=1){var V=j[z],G=pl(V,16);D(V[0],new Yu(G.x,G.y,0))}else if("LineString"===e.type)for(var W=0,q=e.geometry;W<q.length;W+=1){var H=q[W];D(H,new Yu(H[0].x,H[0].y,0))}else if("Point"===e.type)for(var K=0,Y=e.geometry;K<Y.length;K+=1)for(var X=0,Z=Y[K];X<Z.length;X+=1){var $=Z[X];D([$],new Yu($.x,$.y,0))}}(t,o,c,F,u,l,p)},S=0,E=t.features;S<E.length;S+=1)_();o&&t.generateCollisionDebugBuffers()},E.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},E.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},E.plugin=ci,E.polygonIntersectsPolygon=ha,E.postMapLoadEvent=pt,E.postTurnstileEvent=ct,E.potpack=Ys,E.rasterBoundsAttributes=ec,E.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],E.register=xn,E.registerForPluginAvailability=function(t){return si?t({pluginURL:si,completionCallback:oi}):li.once("pluginAvailable",t),t},E.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},E.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t},E.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t},E.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},E.setCacheLimits=function(t,e){St=t,xt=e},E.setRTLTextPlugin=function(t,e){if(ai)throw new Error("setRTLTextPlugin cannot be called multiple times.");ai=!0,si=W.resolveURL(t),oi=function En(t){t?(ai=!1,si=null,e&&e(t)):ui=!0},li.fire(new zt("pluginAvailable",{pluginURL:si,completionCallback:oi}))},E.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},E.styleSpec=Gt,E.symbolSize=Ju,E.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},E.transformMat4=Ma,E.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,p,d,h,g=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*g+e[4]*y+e[8]*m+e[12],t[13]=e[1]*g+e[5]*y+e[9]*m+e[13],t[14]=e[2]*g+e[6]*y+e[10]*m+e[14],t[15]=e[3]*g+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=d,t[11]=h,t[12]=r*g+s*y+f*m+e[12],t[13]=i*g+u*y+p*m+e[13],t[14]=o*g+l*y+d*m+e[14],t[15]=a*g+c*y+h*m+e[15]),t},E.uniqueId=f,E.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},E.validateLight=er,E.validateStyle=tr,E.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},E.vectorTile=Vs,E.version="1.4.0",E.warnOnce=w,E.webpSupported=Y,E.window=self,E.wrap=p})),define(0,(function(i){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function r(e){for(var n="",r=0,o=i.refProperties;r<o.length;r+=1)n+="/"+t(e[o[r]]);return n}var s=function i(t){this.keyCache={},t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var n=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=i.createStyleLayer(s);u._featureFilter=i.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=e;l<c.length;l+=1){var f=c[l];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var p=0,d=function(t,e){for(var n={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||r(t[i]);e&&(e[t[i].id]=o);var a=n[o];a||(a=n[o]=[]),a.push(t[i])}var s=[];for(var u in n)s.push(n[u]);return s}(i.values(this._layerConfigs),this.keyCache);p<d.length;p+=1){var h=d[p].map((function(t){return n._layers[t.id]})),g=h[0];if("none"!==g.visibility){var y=g.source||"",m=this.familiesBySource[y];m||(m=this.familiesBySource[y]={});var v=g.sourceLayer||"_geojsonTileLayer",_=m[v];_||(_=m[v]=[]),_.push(h)}}};var l=function o(t){var e={},n=[];for(var o in t){var r=t[o],a=e[o]={};for(var s in r){var u=r[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};n.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=i.potpack(n),f=c.w,p=c.h,d=new i.AlphaImage({width:f||1,height:p||1});for(var h in t){var g=t[h];for(var y in g){var m=g[+y];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var v=e[h][y].rect;i.AlphaImage.copy(m.bitmap,d,{x:0,y:0},{x:v.x+1,y:v.y+1},m.bitmap)}}}this.image=d,this.positions=e};i.register("GlyphAtlas",l);var f=function n(t){this.tileID=new i.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function a(t,e,n){for(var r=new i.EvaluationParameters(e),o=0,a=t;o<a.length;o+=1)a[o].recalculate(r,n)}f.prototype.parse=function(t,e,n,r,o){var s=this;this.status="parsing",this.data=t,this.collisionBoxArray=new i.CollisionBoxArray;var u=new i.DictionaryCoder(Object.keys(t.layers).sort()),c=new i.FeatureIndex(this.tileID);c.bucketLayerIDs=[];var f,p,d,h,g={},y={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},m=e.familiesBySource[this.source];for(var v in m){var _=t.layers[v];if(_){1===_.version&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(v),S=[],E=0;E<_.length;E++){var x=_.feature(E);S.push({feature:x,index:E,sourceLayerIndex:b})}for(var w=0,T=m[v];w<T.length;w+=1){var P=T[w],k=P[0];k.minzoom&&this.zoom<Math.floor(k.minzoom)||k.maxzoom&&this.zoom>=k.maxzoom||"none"!==k.visibility&&(a(P,this.zoom,n),(g[k.id]=k.createBucket({index:c.bucketLayerIDs.length,layers:P,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(S,y),c.bucketLayerIDs.push(P.map((function(t){return t.id}))))}}}var D=i.mapObject(y.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(D).length?r.send("getGlyphs",{uid:this.uid,stacks:D},(function(t,e){f||(f=t,p=e,C.call(s))})):p={};var A=Object.keys(y.iconDependencies);A.length?r.send("getImages",{icons:A},(function(t,e){f||(f=t,d=e,C.call(s))})):d={};var R=Object.keys(y.patternDependencies);function C(){if(f)return o(f);if(p&&d&&h){var t=new l(p),e=new i.ImageAtlas(d,h);for(var r in g){var s=g[r];s instanceof i.SymbolBucket?(a(s.layers,this.zoom,n),i.performSymbolLayout(s,p,t.positions,d,e.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof i.LineBucket||s instanceof i.FillBucket||s instanceof i.FillExtrusionBucket)&&(a(s.layers,this.zoom,n),s.addFeatures(y,e.patternPositions))}this.status="done",o(null,{buckets:i.values(g).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:e,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}R.length?r.send("getImages",{icons:R},(function(t,e){f||(f=t,h=e,C.call(s))})):h={},C.call(this)};var p="undefined"!=typeof performance,y={getEntriesByName:function getEntriesByName(t){return!!(p&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function mark(t){return!!(p&&performance&&performance.mark)&&performance.mark(t)},measure:function measure(t,e,n){return!!(p&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function clearMarks(t){return!!(p&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function clearMeasures(t){return!!(p&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},v=function u(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},y.mark(this._marks.start)};function h(t,e){var n=i.getArrayBuffer(t.request,(function(t,n,r,o){t?e(t):n&&e(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(n)),rawData:n,cacheControl:r,expires:o})}));return function(){n.cancel(),e()}}v.prototype.finish=function(){y.mark(this._marks.end);var t=y.getEntriesByName(this._marks.measure);return 0===t.length&&(y.measure(this._marks.measure,this._marks.start,this._marks.end),t=y.getEntriesByName(this._marks.measure),y.clearMarks(this._marks.start),y.clearMarks(this._marks.end),y.clearMeasures(this._marks.measure)),t},y.Performance=v;var _=function c(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||h,this.loading={},this.loaded={}};_.prototype.loadTile=function(t,e){var n=this,r=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new y.Performance(t.request),a=this.loading[r]=new f(t);a.abort=this.loadVectorData(t,(function(t,s){if(delete n.loading[r],t||!s)return a.status="done",n.loaded[r]=a,e(t);var u=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var c={};if(o){var f=o.finish();f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return e(t);e(null,i.extend({rawTileData:u.slice(0)},n,l,c))})),n.loaded=n.loaded||{},n.loaded[r]=a}))},_.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var u=function s(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=u:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,u):u())}},_.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},_.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var D=function p(){this.loaded={}};D.prototype.loadTile=function(t,e){var n=t.uid,r=t.encoding,o=t.rawImageData,a=new i.DEMData(n,o,r);this.loaded=this.loaded||{},this.loaded[n]=a,e(null,a)},D.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var M={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function d(t){var e=0;if(t&&t.length>0){e+=Math.abs(g(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(g(t[n]))}return e}function g(t){var e,n,r,i,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,i=u-1,o=0):a===u-1?(r=u-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(m(t[o][0])-m(e[0]))*Math.sin(m(n[1]));s=s*M.RADIUS*M.RADIUS/2}return s}function m(t){return t*Math.PI/180}var L={geometry:function e(t){var n,r=0;switch(t.type){case"Polygon":return d(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)r+=d(t.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)r+=e(t.geometries[n]);return r}},ring:g};function x(t,e){return function(n){return t(n,e)}}function w(t,e){e=!!e,t[0]=S(t[0],e);for(var n=1;n<t.length;n++)t[n]=S(t[n],!e);return t}function S(t,e){return function(t){return L.ring(t)>=0}(t)===e?t:t.reverse()}var I=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,z=function b(t){this._feature=t,this.extent=i.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};z.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,n=this._feature.geometry;e<n.length;e+=1){var r=n[e];t.push([new i.Point$1(r[0],r[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var f=c[l];u.push(new i.Point$1(f[0],f[1]))}o.push(u)}return o},z.prototype.toGeoJSON=function(t,e,n){return I.call(this,t,e,n)};var W=function k(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=t.length,this._features=t};W.prototype.feature=function(t){return new z(this._features[t])};var q=i.vectorTile.VectorTileFeature,X=P;function P(t,e){this.options=e||{},this.features=t,this.length=t.length}function T(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}P.prototype.feature=function(t){return new T(this.features[t],this.options.extent)},T.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],o=0;o<n.length;o++)r.push(new i.Point$1(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},T.prototype.toGeoJSON=q.prototype.toGeoJSON;var tt=O,et=O,nt=X;function O(t){var e=new i.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,E,t.layers[n])}(t,e),e.finish()}function E(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,N,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,G,o[n])}function N(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,F,t),e.writeVarintField(3,n.type),e.writeMessage(4,J,n)}function F(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,p=a[f];void 0===p&&(i.push(l),p=i.length-1,a[f]=p),e.writeVarint(p)}}function A(t,e){return(e<<3)+(7&t)}function B(t){return t<<1^t>>31}function J(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),e.writeVarint(A(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&e.writeVarint(A(2,c-1));var p=u[f].x-i,d=u[f].y-o;e.writeVarint(B(p)),e.writeVarint(B(d)),i+=p,o+=d}3===r&&e.writeVarint(A(7,1))}}function G(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function j(t,e,n,r){Y(t,n,r),Y(e,2*n,2*r),Y(e,2*n+1,2*r+1)}function Y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function V(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}tt.fromVectorTileJs=et,tt.fromGeojsonVt=function C(t,e){e=e||{};var n={};for(var r in t)n[r]=new X(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return O({layers:n})},tt.GeoJSONWrapper=nt;var rt=function X(t){return t[0]},it=function W(t){return t[1]},ot=function R(t,e,n,r,i){void 0===e&&(e=rt),void 0===n&&(n=it),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=n(t[u]);!function Z(t,e,n,r,i,o){if(!(i-r<=n)){var a=r+i>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var p=n[2*r+a],d=i,h=o;for(j(t,n,i,r),n[2*o+a]>p&&j(t,n,i,o);d<h;){for(j(t,n,d,h),d++,h--;n[2*d+a]<p;)d++;for(;n[2*h+a]>p;)h--}n[2*i+a]===p?j(t,n,i,h):j(t,n,++h,o),h<=r&&(i=h+1),r<=h&&(o=h-1)}}(t,e,a,r,i,o%2),Z(t,e,n,r,a-1,o+1),Z(t,e,n,a+1,i,o+1)}}(a,s,r,0,a.length-1,0)};ot.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),d=l.pop();if(p-d<=a)for(var h=d;h<=p;h++)s=e[2*h],u=e[2*h+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[h]);else{var g=Math.floor((d+p)/2);s=e[2*g],u=e[2*g+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[g]);var y=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(g-1),l.push(y)),(0===f?i>=s:o>=u)&&(l.push(g+1),l.push(p),l.push(y))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},ot.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var p=f;p<=c;p++)V(e[2*p],e[2*p+1],n,r)<=u&&s.push(t[p]);else{var d=Math.floor((f+c)/2),h=e[2*d],g=e[2*d+1];V(h,g,n,r)<=u&&s.push(t[d]);var y=(l+1)%2;(0===l?n-i<=h:r-i<=g)&&(a.push(f),a.push(d-1),a.push(y)),(0===l?n+i>=h:r+i>=g)&&(a.push(d+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var at={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function map(t){return t}},st=function U(t){this.options=re(Object.create(at),t),this.trees=new Array(this.options.maxZoom+1)};function $(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function H(t,e){var n=t.geometry.coordinates,r=n[0],i=n[1];return{x:ee(r),y:te(i),zoom:1/0,index:e,parentId:-1}}function K(t){return{type:"Feature",id:t.id,properties:Q(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function Q(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return re(re({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function ee(t){return t/360+.5}function te(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function re(t,e){for(var n in e)t[n]=e[n];return t}function ie(t){return t.x}function oe(t){return t.y}function ne(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function ae(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)se(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)se(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)se(t,e[r][i])}(i),i}function se(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function le(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)ue(i,s);else if("MultiPoint"===o)for(var l=0;l<i.length;l++)ue(i[l],s);else if("LineString"===o)he(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<i.length;l++)s=[],he(i[l],s,a,!1),t.push(ae(u,"LineString",s,e.properties));return}ce(i,s,a,!1)}else if("Polygon"===o)ce(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)le(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];ce(i[l],c,a,!0),s.push(c)}}t.push(ae(u,o,s,e.properties))}}function ue(t,e){e.push(pe(t[0])),e.push(fe(t[1])),e.push(0)}function he(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var u=pe(t[s][0]),l=fe(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=e.length-3;e[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,l=t[n],c=t[n+1],f=t[r],p=t[r+1],d=n+3;d<r;d+=3){var h=ne(t[d],t[d+1],l,c,f,p);if(h>a)o=d,a=h;else if(h===a){var g=Math.abs(d-s);g<u&&(o=d,u=g)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function ce(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];he(t[i],o,n,r),e.push(o)}}function pe(t){return t/360+.5}function fe(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function de(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.type,d=0===i?c.minX:c.minY,h=0===i?c.maxX:c.maxY;if(d>=n&&h<r)u.push(c);else if(!(h<n||d>=r)){var g=[];if("Point"===p||"MultiPoint"===p)ge(f,g,n,r,i);else if("LineString"===p)me(f,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)ye(f,g,n,r,i,!1);else if("Polygon"===p)ye(f,g,n,r,i,!0);else if("MultiPolygon"===p)for(var y=0;y<f.length;y++){var m=[];ye(f[y],m,n,r,i,!0),m.length&&g.push(m)}if(g.length){if(s.lineMetrics&&"LineString"===p){for(y=0;y<g.length;y++)u.push(ae(c.id,p,g[y],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===g.length?"Point":"MultiPoint"),u.push(ae(c.id,p,g,c.tags))}}}return u.length?u:null}function ge(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function me(t,e,n,r,i,o,a){for(var s,u,l=ve(t),c=0===i?we:Se,f=t.start,p=0;p<t.length-3;p+=3){var d=t[p],h=t[p+1],g=t[p+2],y=t[p+3],m=t[p+4],v=0===i?d:h,_=0===i?y:m,b=!1;a&&(s=Math.sqrt(Math.pow(d-y,2)+Math.pow(h-m,2))),v<n?_>n&&(u=c(l,d,h,y,m,n),a&&(l.start=f+s*u)):v>r?_<r&&(u=c(l,d,h,y,m,r),a&&(l.start=f+s*u)):xe(l,d,h,g),_<n&&v>=n&&(u=c(l,d,h,y,m,n),b=!0),_>r&&v<=r&&(u=c(l,d,h,y,m,r),b=!0),!o&&b&&(a&&(l.end=f+s*u),e.push(l),l=ve(t)),a&&(f+=s)}var S=t.length-3;d=t[S],h=t[S+1],g=t[S+2],(v=0===i?d:h)>=n&&v<=r&&xe(l,d,h,g),S=l.length-3,o&&S>=3&&(l[S]!==l[0]||l[S+1]!==l[1])&&xe(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ve(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ye(t,e,n,r,i,o){for(var a=0;a<t.length;a++)me(t[a],e,n,r,i,o,!1)}function xe(t,e,n,r){t.push(e),t.push(n),t.push(r)}function we(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function Se(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function Me(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=be(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(be(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(be(o.geometry[s][l],e));i.push(u)}n.push(ae(o.id,a,i,o.tags))}return n}function be(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function ke(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(Ie(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(Ie(l[r][i],l[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function Ie(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function _e(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Pe(a,t[s],o,i);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function Pe(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Te(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Te(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)Te(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},e.tags)c[f]=e.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function Te(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Le(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)le(n,t.features[r],e,r);else"Feature"===t.type?le(n,t,e):le(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=de(t,1,-1-n,n,0,-1,2,e),o=de(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=de(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=Me(i,1).concat(r)),o&&(r=r.concat(Me(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function De(t,e,n){return 32*((1<<t)*n+e)+t}function Ce(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new W(r.features),o=tt(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}st.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(H(t[u],u));this.trees[i+1]=new ot(s,ie,oe,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new ot(s,ie,oe,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},st.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,f=u.range(ee(n),te(o),ee(i),te(r));c<f.length;c+=1){var p=f[c],d=u.points[p];l.push(d.numPoints?K(d):this.points[d.index])}return l},st.prototype.getChildren=function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(o.x,o.y,a);u<l.length;u+=1){var c=l[u],f=i.points[c];f.parentId===t&&s.push(f.numPoints?K(f):this.points[f.index])}if(0===s.length)throw new Error(r);return s},st.prototype.getLeaves=function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r},st.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,l),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null},st.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},st.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},st.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:u.numPoints?Q(u):this.points[u.index].properties},c=u.numPoints?u.id:this.points[u.index].id;void 0!==c&&(l.id=c),o.features.push(l)}},st.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},st.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=i/(o*Math.pow(2,e)),u=0;u<t.length;u++){var l=t[u];if(!(l.zoom<=e)){l.zoom=e;for(var c=this.trees[e+1],f=c.within(l.x,l.y,s),p=l.numPoints||1,d=l.x*p,h=l.y*p,g=a&&p>1?this._map(l,!0):null,y=(u<<5)+(e+1),m=0,v=f;m<v.length;m+=1){var _=v[m],b=c.points[_];if(!(b.zoom<=e)){b.zoom=e;var S=b.numPoints||1;d+=b.x*S,h+=b.y*S,p+=S,b.parentId=y,a&&(g||(g=this._map(l,!0)),a(g,this._map(b)))}}1===p?n.push(l):(l.parentId=y,n.push($(d/p,h/p,y,p,g)))}}return n},st.prototype._map=function(t,e){if(t.numPoints)return e?re({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?re({},r):r},Le.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Le.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,f=De(e,n,r),p=this.tiles[f];if(!p&&(l>1&&console.time("creation"),p=this.tiles[f]=_e(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=t,i){if(e===u.maxZoom||e===i)continue;var h=1<<i-e;if(n!==Math.floor(o/h)||r!==Math.floor(a/h))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var g,y,m,v,_,b,S=.5*u.buffer/u.extent,E=.5-S,x=.5+S,w=1+S;g=y=m=v=null,_=de(t,c,n-S,n+x,0,p.minX,p.maxX,u),b=de(t,c,n+E,n+w,0,p.minX,p.maxX,u),t=null,_&&(g=de(_,c,r-S,r+x,1,p.minY,p.maxY,u),y=de(_,c,r+E,r+w,1,p.minY,p.maxY,u),_=null),b&&(m=de(b,c,r-S,r+x,1,p.minY,p.maxY,u),v=de(b,c,r+E,r+w,1,p.minY,p.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*r),s.push(y||[],e+1,2*n,2*r+1),s.push(m||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1)}}},Le.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=De(t,e=(e%a+a)%a,n);if(this.tiles[s])return ke(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[De(l,c,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,f),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?ke(this.tiles[s],i):null):null};var ut=function(t){function r(e,n,r,i){t.call(this,e,n,r,Ce),i&&(this.loadGeoJSON=i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(n&&n.request&&n.request.collectResourceTiming)&&new y.Performance(n.request);this.loadGeoJSON(n,(function(o,a){if(o||!a)return e(o);if("object"!=typeof a)return e(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(x(e,n)),t;case"GeometryCollection":return t.geometries=t.geometries.map(x(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=w(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(x(w,e))),t}(t,n);default:return t}}(a,!0);try{t._geoJSONIndex=n.cluster?new st(function(t){var e=t.superclusterOptions,n=t.clusterProperties;if(!n||!e)return e;for(var r={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(n),l=0,c=u;l<c.length;l+=1){var f=c[l],p=n[f],d=p[0],h=p[1],g=i.createExpression(h),y=i.createExpression("string"==typeof d?[d,["accumulated"],["get",f]]:d);r[f]=g.value,o[f]=y.value}return e.map=function(t){s.properties=t;for(var e={},n=0,i=u;n<i.length;n+=1){var o=i[n];e[o]=r[o].evaluate(a,s)}return e},e.reduce=function(t,e){s.properties=e;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},e}(n)).load(a.features):function(t,e){return new Le(t,e)}(a,n.geojsonVtOptions)}catch(o){return e(o)}t.loaded={};var s={};if(r){var u=r.finish();u&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(u)))}e(null,s)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,n){var r=this.loaded,i=e.uid;return r&&r[i]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},r.prototype.loadGeoJSON=function(t,e){if(t.request)i.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(i){return e(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},r.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},r.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},r.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},r}(_),lt=function Oe(t){var e=this;this.self=t,this.actor=new i.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:_,geojson:ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(i.plugin.isLoaded())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=t.applyArabicShaping,i.plugin.processBidirectionalText=t.processBidirectionalText,i.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return lt.prototype.setReferrer=function(t,e){this.referrer=e},lt.prototype.setImages=function(t,e,n){this.availableImages[t]=e,n()},lt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},lt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},lt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},lt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},lt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},lt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},lt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},lt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},lt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},lt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},lt.prototype.loadRTLTextPlugin=function(t,e,n){try{i.plugin.isLoaded()||(this.self.importScripts(e),n(i.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(i){n(i.toString())}},lt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},lt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new s),e},lt.prototype.getWorkerSource=function(t,e,n){var r=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][n]){var i={send:function send(e,n,i){r.actor.send(e,n,i,t)}};this.workerSources[t][e][n]=new this.workerSourceTypes[e](i,this.getLayerIndex(t),this.getAvailableImages(t))}return this.workerSources[t][e][n]},lt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new D),this.demWorkerSources[t][e]},lt.prototype.enforceCacheSizeLimit=function(t,e){i.enforceCacheSizeLimit(e)},"undefined"!=typeof WorkerGlobalScope&&void 0!==i.window&&i.window instanceof WorkerGlobalScope&&(i.window.worker=new lt(i.window)),lt})),define(0,(function(t){var l=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),c={create:function create(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function createNS(e,n){return t.window.document.createElementNS(e,n)}},f=t.window.document.documentElement.style;function r(t){if(!f)return t[0];for(var e=0;e<t.length;e++)if(t[e]in f)return t[e];return t[0]}var p,d=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);c.disableDrag=function(){f&&d&&(p=f[d],f[d]="none")},c.enableDrag=function(){f&&d&&(f[d]=p)};var y=r(["transform","WebkitTransform"]);c.setTransform=function(t,e){t.style[y]=e};var _=!1;try{var b=Object.defineProperty({},"passive",{get:function get(){_=!0}});t.window.addEventListener("test",b,b),t.window.removeEventListener("test",b,b)}catch(t){_=!1}c.addEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&_?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},c.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&_?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var E=function u(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}c.suppressClick=function(){t.window.addEventListener("click",E,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",E,!0)}),0)},c.mousePos=function(e,n){var r=e.getBoundingClientRect(),i=t.window.TouchEvent&&n instanceof t.window.TouchEvent?n.touches[0]:n;return new t.Point(i.clientX-r.left-e.clientLeft,i.clientY-r.top-e.clientTop)},c.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)i.push(new t.Point(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return i},c.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},c.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var w=function(e){function i(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},i.prototype.getImage=function(t){return this.images[t]},i.prototype.addImage=function(t,e){this.images[t]=e},i.prototype.updateImage=function(t,e){var n=this.images[t];e.version=n.version+1,this.images[t]=e,this.updatedImages[t]=!0},i.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},i.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},i.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},i.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},i.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,f=this.images[s].data,p=f.width,d=f.height;t.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c},{width:p,height:d}),t.RGBAImage.copy(f,a,{x:0,y:d-1},{x:l,y:c-1},{width:p,height:1}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c+d},{width:p,height:1}),t.RGBAImage.copy(f,a,{x:p-1,y:0},{x:l-1,y:c},{width:1,height:d}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:l+p,y:c},{width:1,height:d})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];h(i)&&this.updateImage(r,i)}}},i}(t.Evented),T=m,P=m,D=1e20;function m(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)r[u]=t[u*e+s];for(v(r,i,o,a,n),u=0;u<n;u++)t[u*e+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)r[s]=t[u*e+s];for(v(r,i,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(i[s])}}function v(t,e,n,r,i){n[0]=0,r[0]=-D,r[1]=+D;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+D}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}m.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?D:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?D:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var o=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n},T.default=P;var A=function y(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};A.prototype.setURL=function(t){this.url=t},A.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1){var u=s[a];i.push({stack:o,id:u})}t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var u=o.requests[s];u||(u=o.requests[s]=[],A.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e)for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),u.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},A.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},A.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new A.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},A.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},A.TinySDF=T;var R=function x(){this.specification=t.styleSpec.light.position};R.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},R.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var M=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new R,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),L=function(e){function i(n){e.call(this),this._transitionable=new t.Transitionable(M),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),N=function E(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};N.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},N.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,u=s/2,l=e.length%2==1,c=-r;c<=r;c++)for(var f=this.nextRow+r+c,p=this.width*f,d=l?-e[e.length-1]:0,h=e[0],g=1,y=0;y<this.width;y++){for(;h<y/s;)d=h,h+=e[g],l&&g===e.length-1&&(h+=e[0]),g++;var m=Math.abs(y-d*s),v=Math.abs(y-h*s),_=Math.min(m,v),b=g%2==1,S=void 0;if(n){var E=r?c/r*(u+1):0;if(b){var x=u-Math.abs(E);S=Math.sqrt(_*_+x*x)}else S=u-Math.sqrt(_*_+E*E)}else S=(b?1:-1)*_;this.data[3+4*(p+y)]=Math.max(0,Math.min(255,S+128))}var w={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,w},N.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var U=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=i[o],s=new e.Actor(a,r,this.id);s.name="Worker "+o,this.actors.push(s)}};function I(e,n,i){var o=function r(o,a){if(o)return i(o);if(a){var s=t.pick(t.extend(a,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(s.vectorLayers=a.vector_layers,s.vectorLayerIds=s.vectorLayers.map((function(t){return t.id}))),e.url&&(s.tiles=n.canonicalizeTileset(s,e.url)),i(null,s)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),o):t.browser.frame((function(){return o(null,e)}))}U.prototype.broadcast=function(e,n,r){r=r||function(){},t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r)},U.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},U.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},U.Actor=t.Actor;var z=function C(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};z.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},z.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var j=function(e){function i(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new z(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,null),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,a.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,a.bind(this)))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),V=function(e){function i(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new z(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),G=function(e){function i(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function r(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,r.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},i}(V),W=function(e){function i(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1},clusterProperties:r.clusterProperties},r.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},i.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},i.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},i.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var o={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.request=this.actor.send(i,o,(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),q=function(e){function i(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var l=i-n,c=o-r,f=Math.max(l,c),p=Math.max(0,Math.floor(-Math.log(f)/Math.LN2)),d=Math.pow(2,p);return new t.CanonicalTileID(p,Math.floor((n+i)/2*d),Math.floor((r+o)/2*d))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),H=function(e){function i(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1){var o=i[r];this.urls.push(this.map._requestManager.transformRequest(o,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(q),K=function(e){function i(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},i}(q),Y={vector:j,raster:V,"raster-dem":G,geojson:W,video:H,image:q,canvas:K},X=function k(e,n,r,i){var o=new Y[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function B(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function O(t,e,n,r,i){var o=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,e,t.id),a=i.maxPitchScaleFactor(),s=t.tilesIn(n,a,o);s.sort(F);for(var u=[],l=0,c=s;l<c.length;l+=1){var f=c[l];u.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(e,t._state,f.queryGeometry,f.cameraQueryGeometry,f.scale,r,i,a,B(t.transform,f.tileID))})}var p=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},p=e[l]=e[l]||[],d=0,h=c;d<h.length;d+=1){var g=h[d];f[g.featureIndex]||(f[g.featureIndex]=!0,p.push(g))}}return e}(u);for(var d in p)p[d].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return p}function F(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var Z=function U(t,e){this.max=t,this.onRemove=e,this.reset()};Z.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},Z.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Z.prototype.has=function(t){return t.wrapped().key in this.data},Z.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},Z.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},Z.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},Z.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},Z.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var $=function N(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};$.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},$.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},$.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var J={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Q=function V(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Q.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Q.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},Q.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.attributes[r.name];void 0!==i&&t.enableVertexAttribArray(i)}},Q.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[J[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},Q.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var tt=function q(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};tt.prototype.get=function(){return this.current},tt.prototype.set=function(t){},tt.prototype.getDefault=function(){return this.default},tt.prototype.setDefault=function(){this.set(this.default)};var et=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(tt),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(tt),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(tt),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(tt),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(tt),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(tt),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(tt),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(tt),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(tt),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(tt),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(tt),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(tt),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(tt),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(tt),gt=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(tt),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(tt),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(tt),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(tt),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(tt),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(tt),St=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(tt),Et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(tt),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(tt),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(tt),Pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(tt),kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(tt),Ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(tt),At=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(tt),Lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(tt),It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(tt),Bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(tt),Ut=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e}(tt),Ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(Ut),ae=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(Ut),fe=function Tt(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,i=this.framebuffer=r.createFramebuffer();this.colorAttachment=new Ht(t,i),this.depthAttachment=new ae(t,i)};fe.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var de=function It(t,e,n){this.func=t,this.mask=e,this.range=n};de.ReadOnly=!1,de.ReadWrite=!0,de.disabled=new de(519,de.ReadOnly,[0,1]);var he=function Ct(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};he.disabled=new he({func:519,mask:0},0,0,7680,7680,7680);var _e=function St(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};_e.disabled=new _e(_e.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),_e.unblended=new _e(_e.Replace,t.Color.transparent,[!0,!0,!0,!0]),_e.alphaBlended=new _e([1,771],t.Color.transparent,[!0,!0,!0,!0]);var be=function Pt(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};be.disabled=new be(!1,1029,2305),be.backCCW=new be(!0,1029,2305);var Ee=function zt(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new et(this),this.clearDepth=new nt(this),this.clearStencil=new rt(this),this.colorMask=new it(this),this.depthMask=new ot(this),this.stencilMask=new at(this),this.stencilFunc=new st(this),this.stencilOp=new ut(this),this.stencilTest=new lt(this),this.depthRange=new ct(this),this.depthTest=new ft(this),this.depthFunc=new pt(this),this.blend=new dt(this),this.blendFunc=new ht(this),this.blendColor=new gt(this),this.blendEquation=new yt(this),this.cullFace=new mt(this),this.cullFaceSide=new vt(this),this.frontFace=new _t(this),this.program=new bt(this),this.activeTexture=new St(this),this.viewport=new Et(this),this.bindFramebuffer=new xt(this),this.bindRenderbuffer=new wt(this),this.bindTexture=new Pt(this),this.bindVertexBuffer=new kt(this),this.bindElementBuffer=new Ct(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new At(this),this.pixelStoreUnpack=new Lt(this),this.pixelStoreUnpackPremultiplyAlpha=new It(this),this.pixelStoreUnpackFlipY=new Bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Ee.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ee.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ee.prototype.createIndexBuffer=function(t,e){return new $(this,t,e)},Ee.prototype.createVertexBuffer=function(t,e,n){return new Q(this,t,e,n)},Ee.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Ee.prototype.createFramebuffer=function(t,e){return new fe(this,t,e)},Ee.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ee.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Ee.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Ee.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Ee.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,_e.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Ee.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(e){function i(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=X(n,r,i,this),this._tiles={},this._cache=new Z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Dt)},i.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(+i,e)&&r.push(+i);return e?r.sort((function(e,r){var i=n._tiles[e].tileID,o=n._tiles[r].tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})):r.sort(Dt)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},i.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);a(t,i),a(i,t)}}function a(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}},i.prototype.findLoadedParent=function(t,e){for(var n=t.overscaledZ-1;n>=e;n--){var r=t.scaledTo(n);if(!r)return;var i=String(r.key),o=this._tiles[i];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var r={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter((function(t){return n._source.hasTile(t)})))):r=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-i.maxOverzooming,this._source.minzoom),s=Math.max(o+i.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(r,o);if(Mt(this._source.type)){for(var l={},c={},f=0,p=Object.keys(u);f<p.length;f+=1){var d=p[f],h=u[d],g=this._tiles[d];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=t.browser.now())){var y=this.findLoadedParent(h,a);y&&(this._addTile(y.tileID),l[y.tileID.key]=y.tileID),c[d]=h}}for(var m in this._retainLoadedChildren(c,o,s,u),l)u[m]||(this._coveredTiles[m]=!0,u[m]=l[m])}for(var v in u)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,u);_<b.length;_+=1){var S=b[_],E=this._tiles[S];E.hasSymbolBuckets&&!E.holdingForFade()?E.setHoldDuration(this.map._fadeDuration):E.hasSymbolBuckets&&!E.symbolFadeFinished()||this._removeTile(S)}}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},i.prototype._updateRetainedTiles=function(t,e){for(var n={},r={},o=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},u=0,l=t;u<l.length;u+=1){var c=l[u],f=this._addTile(c);n[c.key]=c,f.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,n);for(var p=0,d=t;p<d.length;p+=1){var h=d[p],g=this._tiles[h.key];if(!g.hasData()){if(e+1>this._source.maxzoom){var y=h.children(this._source.maxzoom)[0],m=this.getTile(y);if(m&&m.hasData()){n[y.key]=y;continue}}else{var v=h.children(this._source.maxzoom);if(n[v[0].key]&&n[v[1].key]&&n[v[2].key]&&n[v[3].key])continue}for(var _=g.wasRequested(),b=h.overscaledZ-1;b>=o;--b){var S=h.scaledTo(b);if(r[S.key])break;if(r[S.key]=!0,!(g=this.getTile(S))&&_&&(g=this._addTile(S)),g&&(n[S.key]=S,_=g.wasRequested(),g.hasData()))break}}}return n},i.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},i.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,u=e.map((function(t){return a.pointCoordinate(t)})),l=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),f=1/0,p=1/0,d=-1/0,h=-1/0,g=0,y=l;g<y.length;g+=1){var m=y[g];f=Math.min(f,m.x),p=Math.min(p,m.y),d=Math.max(d,m.x),h=Math.max(h,m.y)}for(var _=function v(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,g=Math.pow(2,a.zoom-r.tileID.overscaledZ),y=n*r.queryPadding*t.EXTENT/r.tileSize/g,m=[s.getTilePoint(new t.MercatorCoordinate(f,p)),s.getTilePoint(new t.MercatorCoordinate(d,h))];if(m[0].x-y<t.EXTENT&&m[0].y-y<t.EXTENT&&m[1].x+y>=0&&m[1].y+y>=0){var v=u.map((function(t){return s.getTilePoint(t)})),_=l.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:g})}}},b=0;b<c.length;b++)_(b);return o},i.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Mt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.updateState(t,e,n)},i.prototype.removeFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.removeFeatureState(t,e,n)},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);function Dt(t,e){return t%32-e%32||e-t}function Mt(t){return"raster"===t||"image"===t||"video"===t}function Rt(){return new t.window.Worker(Hr.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var we=function At(){this.active={}};we.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<we.workerCount;)this.workers.push(new Rt);return this.active[t]=!0,this.workers.slice()},we.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Te,Pe=Math.floor(t.browser.hardwareConcurrency/2);function Ot(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function Ft(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Ot(t[r],e[t[r].ref]));return t}we.workerCount=Math.max(Math.min(Pe,6),1);var Ce={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Nt(t,e,n){n.push({command:Ce.addSource,args:[t,e[t]]})}function Zt(t,e,n){e.push({command:Ce.removeSource,args:[t]}),n[t]=!0}function Vt(t,e,n,r){Zt(t,n,r),Nt(t,e,n)}function qt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function jt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Gt(t){return t.id}function Wt(t,e){return t[e.id]=e,t}var De=function Ht(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Kt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Jt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Yt(e,n){var r=[e.x,e.y,0,1];se(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function Qt(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function $t(e,n,r,i,o,a,s,u){var l=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,h=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=r.transform.width/r.transform.height,y=!1,m=0;m<h.length;m++){var v=h.get(m);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!y)ne(v.numGlyphs,p);else{y=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,n),Qt(_,f)){var b=.5+_[3]/r.transform.cameraToCenterDistance*.5,S=t.evaluateSizeForFeature(l,c,v),E=s?S*b:S/b,x=new t.Point(v.anchorX,v.anchorY),w=Yt(x,o).point,T={},P=ie(v,E,!1,u,n,o,a,e.glyphOffsetArray,d,p,w,x,T,g);y=P.useVertical,(P.notEnoughRoom||y||P.needsFlipping&&ie(v,E,!0,u,n,o,a,e.glyphOffsetArray,d,p,w,x,T,g).notEnoughRoom)&&ne(v.numGlyphs,p)}else ne(v.numGlyphs,p)}}i?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function te(t,e,n,r,i,o,a,s,u,l,c,f){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,g=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(p-1),m=re(t*g,n,r,i,o,a,s.segment,d,h,u,l,c,f);if(!m)return null;var v=re(t*y,n,r,i,o,a,s.segment,d,h,u,l,c,f);return v?{first:m,last:v}:null}function ee(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ie(e,n,r,i,o,a,s,u,l,c,f,p,d,h){var g,y=n/24,m=e.lineOffsetX*y,v=e.lineOffsetY*y;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,S=e.lineStartIndex+e.lineLength,E=te(y,u,m,v,r,f,p,e,l,a,d,!1);if(!E)return{notEnoughRoom:!0};var x=Yt(E.first.point,s).point,w=Yt(E.last.point,s).point;if(i&&!r){var T=ee(e.writingMode,x,w,h);if(T)return T}g=[E.first];for(var P=e.glyphStartIndex+1;P<_-1;P++)g.push(re(y*u.getoffsetX(P),m,v,r,f,p,e.segment,b,S,l,a,d,!1));g.push(E.last)}else{if(i&&!r){var k=Yt(p,o).point,C=e.lineStartIndex+e.segment+1,D=new t.Point(l.getx(C),l.gety(C)),A=Yt(D,o),R=A.signedDistanceFromCamera>0?A.point:oe(p,D,k,1,o),M=ee(e.writingMode,k,R,h);if(M)return M}var L=re(y*u.getoffsetX(e.glyphStartIndex),m,v,r,f,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,d,!1);if(!L)return{notEnoughRoom:!0};g=[L]}for(var I=0,O=g;I<O.length;I+=1){var F=O[I];t.addDynamicAttributes(c,F.point,F.angle)}return{}}function oe(t,e,n,r,i){var o=Yt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function re(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=i?e-n:e+n,g=h>0?1:-1,y=0;i&&(g*=-1,y=Math.PI),g<0&&(y+=Math.PI);for(var m=g>0?u+s:u+s+1,v=m,_=o,b=o,S=0,E=0,x=Math.abs(h);S+E<=x;){if((m+=g)<u||m>=l)return null;if(b=_,void 0===(_=p[m])){var w=new t.Point(c.getx(m),c.gety(m)),T=Yt(w,f);if(T.signedDistanceFromCamera>0)_=p[m]=T.point;else{var P=m-g;_=oe(0===S?a:new t.Point(c.getx(P),c.gety(P)),w,b,x-S+1,f)}}S+=E,E=b.dist(_)}var k=(x-S)/E,C=_.sub(b),D=C.mult(k)._add(b);return D._add(C._unit()._perp()._mult(r*g)),{point:D,angle:y+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:d?{prevTileDistance:m-g===v?0:c.gettileUnitDistanceFromAnchor(m-g),lastSegmentViewportDistance:x-S}:null}}De.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},De.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},De.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},De.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},De.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},De.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-f,y1:c-f,x2:l+f,y2:c+f})}return o?a.filter(o):a}var p={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,r,this._queryCell,a,p,o),i?a.length>0:a},De.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var l=[],c={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,u,this._queryCellCircle,l,c,i),r?l.length>0:l},De.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},De.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},De.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},De.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,p=l;f<p.length;f+=1){var d=p[f];if(!u.box[d]){u.box[d]=!0;var h=4*d;if(t<=c[h+2]&&e<=c[h+3]&&n>=c[h+0]&&r>=c[h+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:c[h],y1:c[h+1],x2:c[h+2],y2:c[h+3]})}}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,m=0,v=g;m<v.length;m+=1){var _=v[m];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(y[b],y[b+1],y[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var S=y[b],E=y[b+1],x=y[b+2];o.push({key:this.circleKeys[_],x1:S-x,y1:E-x,x2:S+x,y2:E+x})}}}},De.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,p=0,d=c;p<d.length;p+=1){var h=d[p];if(!l.box[h]){l.box[h]=!0;var g=4*h;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[g+0],f[g+1],f[g+2],f[g+3])&&(!s||s(this.boxKeys[h])))return o.push(!0),!0}}var y=this.circleCells[i];if(null!==y)for(var m=this.circles,v=0,_=y;v<_.length;v+=1){var b=_[v];if(!l.circle[b]){l.circle[b]=!0;var S=3*b;if(this._circlesCollide(m[S],m[S+1],m[S+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},De.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),p=u;p<=c;p++)for(var d=l;d<=f;d++){var h=this.xCellCount*d+p;if(i.call(this,t,e,n,r,h,o,a,s))return}},De.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},De.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},De.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return u*u>a*a+s*s},De.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(e-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,p=c-l;return f*f+p*p<=n*n};var Re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ne(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(Re,3*r)}}function se(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var Me=function le(t,e,n){void 0===e&&(e=new De(t.width+200,t.height+200,25)),void 0===n&&(n=new De(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function ce(t,e,n){t[e+4]=n?1:0}function ue(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}Me.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,u=t.y1*a+o.point.y,l=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},Me.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},Me.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=[],g=this.projectAnchor(l,o.anchorX,o.anchorY),y=u/24,m=o.lineOffsetX*u,v=o.lineOffsetY*u,_=new t.Point(o.anchorX,o.anchorY),b=te(y,s,m,v,!1,Yt(_,c).point,_,o,a,c,{},!0),S=!1,E=!1,x=!0,w=g.perspectiveRatio*i,T=1/(i*r),P=0,k=0;b&&(P=this.approximateTileDistance(b.first.tileDistance,b.first.angle,T,g.cameraDistance,p),k=this.approximateTileDistance(b.last.tileDistance,b.last.angle,T,g.cameraDistance,p));for(var C=0;C<e.length;C+=5){var D=e[C],A=e[C+1],R=e[C+2],M=e[C+3];if(!b||M<-P||M>k)ce(e,C,!1);else{var L=this.projectPoint(l,D,A),I=R*w;if(h.length>0){var O=L.x-h[h.length-4],F=L.y-h[h.length-3];if(I*I*2>O*O+F*F&&C+8<e.length){var N=e[C+8];if(N>-P&&N<k){ce(e,C,!1);continue}}}var B=C/5;h.push(L.x,L.y,I,B),ce(e,C,!0);var U=L.x-I,z=L.y-I,j=L.x+I,V=L.y+I;if(x=x&&this.isOffscreen(U,z,j,V),E=E||this.isInsideGrid(U,z,j,V),!n&&this.grid.hitTestCircle(L.x,L.y,I,d)){if(!f)return{circles:[],offscreen:!1};S=!0}}}return{circles:S||!E?[]:h,offscreen:x}},Me.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.Point(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var f={},p={},d=0,h=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));d<h.length;d+=1){var g=h[d],y=g.key;if(void 0===f[y.bucketInstanceId]&&(f[y.bucketInstanceId]={}),!f[y.bucketInstanceId][y.featureIndex]){var m=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(n,m)&&(f[y.bucketInstanceId][y.featureIndex]=!0,void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]=[]),p[y.bucketInstanceId].push(y.featureIndex))}}return p},Me.prototype.insertCollisionBox=function(t,e,n,r,i){var o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},Me.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},Me.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return se(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},Me.prototype.projectPoint=function(e,n,r){var i=[n,r,0,1];return se(i,i,e),new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},Me.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return se(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},Me.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},Me.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary};var Le=function he(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};Le.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Ie=function pe(t,e,n,r,i){this.text=new Le(t?t.text:null,e,n,i),this.icon=new Le(t?t.icon:null,e,r,i)};Ie.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Oe=function de(t,e,n){this.text=t,this.icon=e,this.skipFade=n},Fe=function _e(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},Ne=function fe(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function me(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,l=t.evaluateVariableOffset(e,i);return new t.Point(s+l[0]*o,u+l[1]*o)}function ge(e,n,r,i,o,a){var s=e.x1,u=e.x2,l=e.y1,c=e.y2,f=e.anchorPointX,p=e.anchorPointY,d=new t.Point(n,r);return i&&d._rotate(o?a:-a),{x1:s+d.x,y1:l+d.y,x2:u+d.x,y2:c+d.y,anchorPointX:f,anchorPointY:p}}Ne.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function predicate(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var Be=function ve(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new Me(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Ne(n),this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function ye(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}Be.prototype.placeLayerTile=function(e,n,r,i){var o=n.getBucket(e),a=n.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=n.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/t.EXTENT,f=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p=Kt(f,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ue(n,1,this.transform.zoom)),d=Kt(f,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ue(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new Fe(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,f,p,d,l,c,r,n.holdingForFade(),i,s)}},Be.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d){var h,g=[f.textOffset0,f.textOffset1],y=me(t,n,r,g,i),m=this.collisionIndex.placeCollisionBox(ge(e,y.x,y.y,o,a,this.transform.angle),c,s,u,l.predicate);if(m.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(h=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:h},this.markUsedJustification(p,t,f,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,f),this.placedOrientations[f.crossTileID]=d),{shift:y,placedGlyphBoxes:m}},Be.prototype.placeLayerBucket=function(e,n,r,i,o,a,s,u,l,c){var f=this,p=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom),h=p.get("text-optional"),g=p.get("icon-optional"),y=p.get("text-allow-overlap"),m=p.get("icon-allow-overlap"),v=y&&(m||!e.hasIconData()||g),_=m&&(y||!e.hasTextData()||h),b=this.collisionGroups.get(e.sourceID),S="map"===p.get("text-rotation-alignment"),E="map"===p.get("text-pitch-alignment"),x="none"!==p.get("icon-text-fit"),w="viewport-y"===p.get("symbol-z-order");!e.collisionArrays&&c&&e.deserializeCollisionBoxes(c);var T=function I(i,c){if(!l[i.crossTileID])if(u)f.placements[i.crossTileID]=new Oe(!1,!1,!1);else{var m,w=!1,I=!1,T=!0,P=null,k={box:null,offscreen:null},C={box:null,offscreen:null},D=null,A=null,R=0,M=0,L=0;c.textFeatureIndex&&(R=c.textFeatureIndex),c.verticalTextFeatureIndex&&(M=c.verticalTextFeatureIndex);var F=c.textBox;if(F){var U=function B(n){var r=t.WritingMode.horizontal;if(e.allowVerticalPlacement&&!n&&f.prevPlacement){var o=f.prevPlacement.placedOrientations[i.crossTileID];o&&(f.placedOrientations[i.crossTileID]=o,r=o,f.markUsedOrientation(e,r,i))}return r},z=function O(n,r){if(e.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&c.verticalTextBox)for(var o=0,a=e.writingModes;o<a.length&&(a[o]===t.WritingMode.vertical?(k=r(),C=k):k=n(),!(k&&k.box&&k.box.length));o+=1);else k=n()};if(p.get("text-variable-anchor")){var j=p.get("text-variable-anchor");if(f.prevPlacement&&f.prevPlacement.variableOffsets[i.crossTileID]){var V=f.prevPlacement.variableOffsets[i.crossTileID];j.indexOf(V.anchor)>0&&(j=j.filter((function(t){return t!==V.anchor}))).unshift(V.anchor)}var G=function N(t,r){for(var o=t.x2-t.x1,s=t.y2-t.y1,u=i.textBoxScale,l={box:[],offscreen:!1},c=y?2*j.length:j.length,p=0;p<c;++p){var d=j[p%j.length],h=p>=j.length,g=f.attemptAnchorPlacement(d,t,o,s,u,S,E,a,n,b,h,i,e,r);if(g&&(l=g.placedGlyphBoxes)&&l.box&&l.box.length){w=!0,P=g.shift;break}}return l};z((function(){return G(F,t.WritingMode.horizontal)}),(function(){var n=c.verticalTextBox,r=k&&k.box&&k.box.length;return e.allowVerticalPlacement&&!r&&i.numVerticalGlyphVertices>0&&n?G(n,t.WritingMode.vertical):{box:null,offscreen:null}})),k&&(w=k.box,T=k.offscreen);var W=U(k&&k.box);if(!w&&f.prevPlacement){var H=f.prevPlacement.variableOffsets[i.crossTileID];H&&(f.variableOffsets[i.crossTileID]=H,f.markUsedJustification(e,H.anchor,i,W))}}else{var K=function q(t,r){var o=f.collisionIndex.placeCollisionBox(t,p.get("text-allow-overlap"),a,n,b.predicate);return o&&o.box&&o.box.length&&(f.markUsedOrientation(e,r,i),f.placedOrientations[i.crossTileID]=r),o};z((function(){return K(F,t.WritingMode.horizontal)}),(function(){var n=c.verticalTextBox;return e.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&n?K(n,t.WritingMode.vertical):{box:null,offscreen:null}})),U(k&&k.box&&k.box.length)}}w=(m=k)&&m.box&&m.box.length>0,T=m&&m.offscreen;var Y=c.textCircles;if(Y){var X=e.text.placedSymbolArray.get(i.centerJustifiedTextSymbolIndex),Z=t.evaluateSizeForFeature(e.textSizeData,d,X);D=f.collisionIndex.placeCollisionCircles(Y,p.get("text-allow-overlap"),o,a,X,e.lineVertexArray,e.glyphOffsetArray,Z,n,r,s,E,b.predicate),w=p.get("text-allow-overlap")||D.circles.length>0,T=T&&D.offscreen}if(c.iconFeatureIndex&&(L=c.iconFeatureIndex),c.iconBox){var $=x&&P?ge(c.iconBox,P.x,P.y,S,E,f.transform.angle):c.iconBox;I=(A=f.collisionIndex.placeCollisionBox($,p.get("icon-allow-overlap"),a,n,b.predicate)).box.length>0,T=T&&A.offscreen}var J=h||0===i.numHorizontalGlyphVertices&&0===i.numVerticalGlyphVertices,Q=g||0===i.numIconVertices;J||Q?Q?J||(I=I&&w):w=I&&w:I=w=I&&w,w&&m&&m.box&&(C&&C.box&&M?f.collisionIndex.insertCollisionBox(m.box,p.get("text-ignore-placement"),e.bucketInstanceId,M,b.ID):f.collisionIndex.insertCollisionBox(m.box,p.get("text-ignore-placement"),e.bucketInstanceId,R,b.ID)),I&&A&&f.collisionIndex.insertCollisionBox(A.box,p.get("icon-ignore-placement"),e.bucketInstanceId,L,b.ID),w&&D&&f.collisionIndex.insertCollisionCircles(D.circles,p.get("text-ignore-placement"),e.bucketInstanceId,R,b.ID),f.placements[i.crossTileID]=new Oe(w||v,I||_,T||e.justReloaded),l[i.crossTileID]=!0}};if(w)for(var P=e.getSortedSymbolIndexes(this.transform.angle),k=P.length-1;k>=0;--k){var C=P[k];T(e.symbolInstances.get(C),e.collisionArrays[C])}else for(var D=0;D<e.symbolInstances.length;++D)T(e.symbolInstances.get(D),e.collisionArrays[D]);e.justReloaded=!1},Be.prototype.markUsedJustification=function(e,n,r,i){var o,a={left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex};o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:a[t.getAnchorJustification(n)];for(var s=0,u=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];s<u.length;s+=1){var l=u[s];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},Be.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1){var u=s[a];e.text.placedSymbolArray.get(u).placedOrientation=i}r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},Be.prototype.commit=function(t){this.commitTime=t;var e=this.prevPlacement,n=!1,r=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new Ie(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new Ie(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var p=new Ie(f,r,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||f.text.placed||f.icon.placed)}}for(var d in o)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=o[d]);for(var h in a)this.placedOrientations[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.placedOrientations[h]=a[h]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},Be.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},Be.prototype.updateBucketOpacities=function(e,n,r){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear(),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexArray.clear(),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexArray.clear();var i=e.layers[0].layout,o=new Ie(null,0,!1,!1,!0),a=i.get("text-allow-overlap"),s=i.get("icon-allow-overlap"),u=i.get("text-variable-anchor"),l="map"===i.get("text-rotation-alignment"),c="map"===i.get("text-pitch-alignment"),f="none"!==i.get("icon-text-fit"),p=new Ie(null,0,a&&(s||!e.hasIconData()||i.get("icon-optional")),s&&(a||!e.hasTextData()||i.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData())&&e.deserializeCollisionBoxes(r);for(var d=0;d<e.symbolInstances.length;d++){var h=e.symbolInstances.get(d),g=h.numHorizontalGlyphVertices,y=h.numVerticalGlyphVertices,m=h.crossTileID,v=n[m],_=this.opacities[m];v?_=o:_||(_=p,this.opacities[m]=_),n[m]=!0;var b=g>0||y>0,S=h.numIconVertices>0;if(b){for(var E=Se(_.text),x=(g+y)/4,w=0;w<x;w++)e.text.opacityVertexArray.emplaceBack(E);var T=_.text.isHidden()?1:0,P=this.placedOrientations[h.crossTileID],k=P===t.WritingMode.horizontal||P===t.WritingMode.horizontalOnly?1:0,C=P===t.WritingMode.vertical?1:0;[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=T||C)})),h.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).hidden=T||k);var D=this.variableOffsets[h.crossTileID];D&&this.markUsedJustification(e,D.anchor,h,P);var A=this.placedOrientations[h.crossTileID];A&&(this.markUsedJustification(e,"left",h,A),this.markUsedOrientation(e,A,h))}if(S){for(var R=Se(_.icon),M=0;M<h.numIconVertices/4;M++)e.icon.opacityVertexArray.emplaceBack(R);e.icon.placedSymbolArray.get(d).hidden=_.icon.isHidden()}if(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData()){var L=e.collisionArrays[d];if(L){var I=new t.Point(0,0);if(L.textBox){var O=!0;if(u){var F=this.variableOffsets[m];F?(I=me(F.anchor,F.width,F.height,F.textOffset,F.textBoxScale),l&&I._rotate(c?this.transform.angle:-this.transform.angle)):O=!1}ye(e.textCollisionBox.collisionVertexArray,_.text.placed,!O,I.x,I.y)}L.iconBox&&ye(e.iconCollisionBox.collisionVertexArray,_.icon.placed,!1,f?I.x:0,f?I.y:0);var N=L.textCircles;if(N&&e.hasTextCollisionCircleData())for(var B=0;B<N.length;B+=5){var U=v||0===N[B+4];ye(e.textCollisionCircle.collisionVertexArray,_.text.placed,U)}}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexBuffer&&e.iconCollisionCircle.collisionVertexBuffer.updateData(e.iconCollisionCircle.collisionVertexArray),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexBuffer&&e.textCollisionCircle.collisionVertexBuffer.updateData(e.textCollisionCircle.collisionVertexArray)},Be.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Be.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Be.prototype.stillRecent=function(t){return this.commitTime+this.fadeDuration>t},Be.prototype.setStale=function(){this.stale=!0};var Ue=Math.pow(2,25),je=Math.pow(2,24),Ve=Math.pow(2,17),Ge=Math.pow(2,16),We=Math.pow(2,9),qe=Math.pow(2,8),He=Math.pow(2,1);function Se(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Ue+e*je+n*Ve+e*Ge+n*We+e*qe+n*He+e}var Ke=function Pe(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Ke.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};var Ye=function ze(t,e,n,r,i,o,a){this.placement=new Be(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Ye.prototype.isDone=function(){return this._done},Ye.prototype.continuePlacement=function(e,r,i){for(var o=this,a=t.browser.now(),s=function n(){var e=t.browser.now()-a;return!o._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var u=r[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=l)&&(!u.maxzoom||u.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Ke),this._inProgressLayer.continuePlacement(i[u.source],this.placement,this._showCollisionBoxes,u,s))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ye.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Xe=512/t.EXTENT/2,Ze=function De(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Ze.prototype.getScaledCoordinates=function(e,n){var r=n.canonical.z-this.tileID.canonical.z,i=Xe/Math.pow(2,r);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*i)}},Ze.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var $e=function Me(){this.maxCrossTileID=0};$e.prototype.generate=function(){return++this.maxCrossTileID};var Je=function Re(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Je.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Je.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,i)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var f=e.symbolInstances.get(c);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ze(t,e.symbolInstances,e.bucketInstanceId),!0},Je.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},Je.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Qe=function Ae(){this.layerIndexes={},this.crossTileIDs=new $e,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Qe.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Je);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Qe.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var tn=function ke(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},en=t.pick(Ce,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),nn=t.pick(Ce,["setCenter","setZoom","setBearing","setPitch"]),rn=function(e){function i(n,r){var o=this;void 0===r&&(r={}),e.call(this),this.map=n,this.dispatcher=new U((Te||(Te=new we),Te),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new A(n._requestManager,r.localIdeographFontFamily),this.lineAtlas=new N(256,512),this.crossTileSymbolIndex=new Qe,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},i.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},i.prototype._load=function(e,n){var r=this;if(!n||!tn(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,i=e,u())})),c=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){c=null,a||(a=t,o=e,u())}));function u(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,f=u.x,p=u.y,d=u.sdf,h=u.pixelRatio,g=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,g,{x:f,y:p},{x:0,y:0},{width:l,height:c}),n[s]={data:g,pixelRatio:h,sdf:d}}r(null,n)}}return{cancel:function cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e.sprite,this.map._requestManager,(function(e,n){if(r._spriteRequest=null,e)r.fire(new t.ErrorEvent(e));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r.dispatcher.broadcast("setImages",r.imageManager.listImages()),r.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=Ft(this.stylesheet.layers);this._order=o.map((function(t){return t.id})),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var u=s[a];(u=t.createStyleLayer(u)).setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new L(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n],o=this._layers[i];"custom"!==o.type&&e.push(o.serialize())}return e},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var u in this.sourceCaches)this.sourceCaches[u].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var f=c[l],p=this._layers[f];p.recalculate(e,this.imageManager.listImages()),!p.isHidden(e.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var n=this;if(this._checkLoaded(),tn(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Ft(e.layers);var r=function Xt(e,n){if(!e)return[{command:Ce.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Ce.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Ce.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Ce.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Ce.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Ce.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Ce.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Ce.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Ce.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Ce.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Zt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&qt(e,n,o)?r.push({command:Ce.setGeoJSONSourceData,args:[o,n[o].data]}):Vt(o,n,r,i)):Nt(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Ce.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,u,l,c,f=(e=e||[]).map(Gt),p=n.map(Gt),d=e.reduce(Wt,{}),h=n.reduce(Wt,{}),g=f.slice(),y=Object.create(null);for(i=0,o=0;i<f.length;i++)a=f[i],h.hasOwnProperty(a)?o++:(r.push({command:Ce.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)a=p[p.length-1-i],g[g.length-1-i]!==a&&(d.hasOwnProperty(a)?(r.push({command:Ce.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,l=g[g.length-i],r.push({command:Ce.addLayer,args:[h[a],l]}),g.splice(g.length-i,0,a),y[a]=!0);for(i=0;i<p.length;i++)if(s=d[a=p[i]],u=h[a],!y[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(c in jt(s.layout,u.layout,r,a,null,Ce.setLayoutProperty),jt(s.paint,u.paint,r,a,null,Ce.setPaintProperty),t.deepEqual(s.filter,u.filter)||r.push({command:Ce.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ce.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],u[c],r,a,c.slice(6),Ce.setPaintProperty):t.deepEqual(s[c],u[c])||r.push({command:Ce.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],u[c],r,a,c.slice(6),Ce.setPaintProperty):t.deepEqual(s[c],u[c])||r.push({command:Ce.setLayerProperty,args:[a,c,u[c]]}))}else r.push({command:Ce.removeLayer,args:[a]}),l=g[g.lastIndexOf(a)+1],r.push({command:Ce.addLayer,args:[u,l]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ce.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in nn)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in en)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},i.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,n,null,r)){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new xe(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(tn(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},i.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r],a=parseInt(e.id,10);if(void 0!==o){var s=o.getSource().type;"geojson"===s&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||i?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(i,a,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0,s=parseInt(e.id,10);"vector"!==o||a?void 0!==e.id&&isNaN(s)||s<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be non-negative."))):n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):i.removeFeatureState(a,s,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n],o=parseInt(e.id,10);if(void 0!==i)if("vector"!==i.getSource().type||r){if(!(isNaN(o)||o<0))return i.getFeatureState(r,o);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function i(t){return"fill-extrusion"===e._layers[t].type},r={},o=[],a=this._order.length-1;a>=0;a--){var s=this._order[a];if(n(s)){r[s]=a;for(var u=0,l=t;u<l.length;u+=1){var c=l[u][s];if(c)for(var f=0,p=c;f<p.length;f+=1){var d=p[f];o.push(d)}}}}o.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var h=[],g=this._order.length-1;g>=0;g--){var y=this._order[g];if(n(y))for(var m=o.length-1;m>=0;m--){var v=o[m].feature;if(r[v.layer.id]<g)break;h.push(v),o.pop()}else for(var _=0,b=t;_<b.length;_+=1){var S=b[_][y];if(S)for(var E=0,x=S;E<x.length;E+=1){var w=x[E];h.push(w.feature)}}}return h},i.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in this.sourceCaches)n.layers&&!i[c]||l.push(O(this.sourceCaches[c],this._layers,e,n,r));return this.placement&&l.push(function(t,e,n,r,i,o){for(var a={},s=i.queryRenderedSymbols(n),u=[],l=0,c=Object.keys(s).map(Number);l<c.length;l+=1){var d=c[l];u.push(o[d])}u.sort(F);for(var h=function p(){var e=y[g],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var i in n){var o=a[i]=a[i]||[],u=n[i];u.sort((function(t,n){var r=e.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(n.featureIndex)-i}return n.featureIndex-t.featureIndex}));for(var l=0,c=u;l<c.length;l+=1){var f=c[l];o.push(f)}}},g=0,y=u;g<y.length;g+=1)h();var m=function f(n){a[n].forEach((function(r){var i=r.feature,o=t[n],a=e[o.source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var v in a)m(v);return a}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},i.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},i.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&tn(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(e,n,r,i){for(var o=!1,a=!1,s={},u=0,l=this._order;u<l.length;u+=1){var c=l[u],f=this._layers[c];if("symbol"===f.type){if(!s[f.source]){var p=this.sourceCaches[f.source];s[f.source]=p.getRenderableIds(!0).map((function(t){return p.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(f,s[f.source],e.center.lng);o=o||d}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var h=this._layerOrderChanged||0===r;if((h||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new Ye(e,this._order,h,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var g=0,y=this._order;g<y.length;g+=1){var m=y[g],v=this._layers[m];"symbol"===v.type&&this.placement.updateLayerOpacities(v,s[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},i.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},i.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},i.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},i}(t.Evented);rn.getSourceType=function(t){return Y[t]},rn.setSourceType=function(t,e){Y[t]=e},rn.registerForPluginAvailability=t.registerForPluginAvailability;var on=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),an=hi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),sn=hi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),un=hi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ln=hi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),cn=hi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),fn=hi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),pn=hi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),dn=hi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),hn=hi("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),gn=hi("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),yn=hi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),mn=hi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),vn=hi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),_n=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),bn=hi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Sn=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),En=hi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),xn=hi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),wn=hi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Tn=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Pn=hi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),kn=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Cn=hi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Dn=hi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),An=hi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function hi(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(n,(function(t,e,n,i,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,i,o){var a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float u_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", u_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float u_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = unpack_mix_"+s+"(a_"+o+", u_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"}))}}var Rn=Object.freeze({prelude:an,background:sn,backgroundPattern:un,circle:ln,clippingMask:cn,heatmap:fn,heatmapTexture:pn,collisionBox:dn,collisionCircle:hn,debug:gn,fill:yn,fillOutline:mn,fillOutlinePattern:vn,fillPattern:_n,fillExtrusion:bn,fillExtrusionPattern:Sn,hillshadePrepare:En,hillshade:xn,line:wn,lineGradient:Tn,linePattern:Pn,lineSDF:kn,raster:Cn,symbolIcon:Dn,symbolSDF:An}),Mn=function di(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Mn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},Mn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}e.enableAttributes(c,t);for(var p=0,d=n;p<d.length;p+=1)d[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var h=0,g=n;h<g.length;h+=1){var y=g[h];y.bind(),y.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),l.currentNumAttributes=u},Mn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ln=function _i(t,e,n,r,i){var o=t.gl;this.program=o.createProgram();var a=n.defines();i&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(an.fragmentSource,e.fragmentSource).join("\n"),u=a.concat(an.vertexSource,e.vertexSource).join("\n"),l=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(l,s),o.compileShader(l),o.attachShader(this.program,l);var c=o.createShader(o.VERTEX_SHADER);o.shaderSource(c,u),o.compileShader(c),o.attachShader(this.program,c);for(var f=n.layoutAttributes||[],p=0;p<f.length;p++)o.bindAttribLocation(this.program,p,f[p].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},h=0;h<this.numAttributes;h++){var g=o.getActiveAttrib(this.program,h);g&&(this.attributes[g.name]=o.getAttribLocation(this.program,g.name))}for(var y=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),m=0;m<y;m++){var v=o.getActiveUniform(this.program,m);v&&(d[v.name]=o.getUniformLocation(this.program,v.name))}this.fixedUniforms=r(t,d),this.binderUniforms=n.getUniforms(t,d)};function fi(e,n,r){var i=1/ue(r,1,n.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),u=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,u>>16],u_pixel_coord_lower:[65535&s,65535&u]}}Ln.prototype.draw=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,g){var y,m=t.gl;for(var v in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);d&&d.setUniforms(t,this.binderUniforms,f,{zoom:p});for(var _=(y={},y[m.LINES]=2,y[m.TRIANGLES]=3,y[m.LINE_STRIP]=1,y)[e],b=0,S=c.get();b<S.length;b+=1){var E=S[b],x=E.vaos||(E.vaos={});(x[s]||(x[s]=new Mn)).bind(t,this,u,d?d.getPaintVertexBuffers():[],l,E.vertexOffset,h,g),m.drawElements(e,E.primitiveLength*_,m.UNSIGNED_SHORT,E.primitiveOffset*_*2)}};var In=function mi(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},On=function gi(e,n,r,i,o,a,s){return t.extend(In(e,n,r,i),fi(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},Fn=function vi(t){return{u_matrix:t}},Nn=function yi(e,n,r,i){return t.extend(Fn(e),fi(r,n,i))},Bn=function xi(t,e){return{u_matrix:t,u_world:e}},Un=function bi(e,n,r,i,o){return t.extend(Nn(e,n,r,i),{u_world:o})},zn=function wi(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=ue(r,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},jn=function Ei(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},Vn=function Ti(t,e,n){var r=ue(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Gn=function Ii(t,e){return{u_matrix:t,u_color:e}},Wn=function Ci(t){return{u_matrix:t}},qn=function Si(t,e,n,r){return{u_matrix:t,u_extrude_scale:ue(e,1,n),u_intensity:r}},Hn=function zi(t,e,n){var r=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);var s=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),s),u_image:0,u_latrange:Di(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:i,u_accent:o}},Kn=function Li(e,n,r){var i=n.stride,o=t.create();return t.ortho(o,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(o,o,[0,-t.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_maxzoom:r,u_unpack:n.getUnpackVector()}};function Di(e,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new t.MercatorCoordinate(0,i/r).toLngLat().lat,new t.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}var Yn=function Mi(e,n,r){var i=e.transform;return{u_matrix:Oi(e,n,r),u_ratio:1/ue(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Xn=function Ri(e,n,r){return t.extend(Yn(e,n,r),{u_image:0})},Zn=function Ai(e,n,r,i){var o=e.transform,a=Bi(n,o);return{u_matrix:Oi(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ue(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[t.browser.devicePixelRatio,a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},$n=function ki(e,n,r,i,o){var a=e.transform,s=e.lineAtlas,u=Bi(n,a),l="round"===r.layout.get("line-cap"),c=s.getDash(i.from,l),f=s.getDash(i.to,l),p=c.width*o.fromScale,d=f.width*o.toScale;return t.extend(Yn(e,n,r),{u_patternscale_a:[u/p,-c.height/2],u_patternscale_b:[u/d,-f.height/2],u_sdfgamma:s.width/(256*Math.min(p,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:f.y,u_mix:o.t})};function Bi(t,e){return 1/ue(t,1,e.tileZoom)}function Oi(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Jn=function Fi(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Ui(i.paint.get("raster-hue-rotate"))};var o,a};function Ui(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Qn=function Ni(t,e,n,r,i,o,a,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},er=function Zi(e,n,r,i,o,a,s,u,l,c,f){var p=o.transform;return t.extend(Qn(e,n,r,i,o,a,s,u,l,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+f})},nr=function Vi(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},rr=function qi(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,f=c*(r.tileID.canonical.x+r.tileID.wrap*l),p=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/ue(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,p>>16],u_pixel_coord_lower:[65535&f,65535&p]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},ir={fillExtrusion:function fillExtrusion(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function fillExtrusionPattern(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function fill(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function fillPattern(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function fillOutline(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function fillOutlinePattern(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function circle(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:jn,collisionCircle:jn,debug:function debug(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function clippingMask(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function heatmap(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function heatmapTexture(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function hillshade(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function hillshadePrepare(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function line(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function lineGradient(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function linePattern(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function lineSDF(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function raster(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function symbolIcon(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function symbolSDF(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function background(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function backgroundPattern(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Gi(e,n){for(var r=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),i=0;i<r.length;i++){var o={},a=r[i],s=r.slice(i+1);Wi(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}function Wi(e,n,r,i,o){for(var a=0;a<r.length;a++){var s=r[a];if(i.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var u=n.children(1/0),l=0;l<u.length;l++)Wi(e,u[l],r.slice(a),i,o);return}}var c=n.overscaledZ-e.overscaledZ,f=new t.CanonicalTileID(c,n.canonical.x-(e.canonical.x<<c),n.canonical.y-(e.canonical.y<<c));o[f.key]=o[f.key]||f}function Xi(t,e,n,r,i,o,a,s){for(var u=t.context,l=u.gl,c=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),f=0;f<r.length;f++){var p=r[f],d=e.getTile(p),h=d.getBucket(n);if(h){var g=i?s?h.textCollisionCircle:h.iconCollisionCircle:s?h.textCollisionBox:h.iconCollisionBox;if(g){var y=p.posMatrix;0===o[0]&&0===o[1]||(y=t.translatePosMatrix(p.posMatrix,d,o,a)),c.draw(u,i?l.TRIANGLES:l.LINES,de.disabled,he.disabled,t.colorModeForRenderPass(),be.disabled,Vn(y,t.transform,d),n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,t.transform.zoom,null,null,g.collisionVertexBuffer)}}}}function Hi(t,e,n,r,i,o,a){Xi(t,e,n,r,!1,i,o,a),Xi(t,e,n,r,!0,i,o,a)}var or=t.identity(new Float32Array(16));function Ji(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((u/o+c[0])*a,(l/o+c[1])*a)}function Yi(e,n,r,i,o,a,s,u,l,c,f){var p=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,h=e.icon.dynamicLayoutVertexArray,g={};d.clear();for(var y=0;y<p.length;y++){var m=p.get(y),v=e.allowVerticalPlacement&&!m.placedOrientation,_=m.hidden||!m.crossTileID||v?null:i[m.crossTileID];if(_){var b=new t.Point(m.anchorX,m.anchorY),S=Yt(b,r?u:s),E=.5+a.cameraToCenterDistance/S.signedDistanceFromCamera*.5,x=o.evaluateSizeForFeature(e.textSizeData,c,m)*E/t.ONE_EM;r&&(x*=e.tilePixelRatio/l);for(var w=_.width,T=_.height,P=Ji(_.anchor,w,T,_.textOffset,_.textBoxScale,x),k=r?Yt(b.add(P),s).point:S.point.add(n?P.rotate(-a.angle):P),C=e.allowVerticalPlacement&&m.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,D=0;D<m.numGlyphs;D++)t.addDynamicAttributes(d,k,C);f&&m.associatedIconIndex>=0&&(g[m.associatedIconIndex]={shiftedAnchor:k,angle:C})}else ne(m.numGlyphs,d)}if(f){h.clear();for(var A=e.icon.placedSymbolArray,R=0;R<A.length;R++){var M=A.get(R);if(M.hidden)ne(M.numGlyphs,h);else{var L=g[R];if(L)for(var I=0;I<M.numGlyphs;I++)t.addDynamicAttributes(h,L.shiftedAnchor,L.angle);else ne(M.numGlyphs,h)}}e.icon.dynamicLayoutVertexBuffer.updateData(h)}e.text.dynamicLayoutVertexBuffer.updateData(d)}function Qi(e){var n=e.text.placedSymbolArray,r=e.text.dynamicLayoutVertexArray;r.clear();for(var i=0;i<n.length;i++){var o=n.get(i);if(o.hidden||!o.placedOrientation)ne(o.numGlyphs,r);else for(var a=new t.Point(o.anchorX,o.anchorY),s=e.allowVerticalPlacement&&o.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,u=0;u<o.numGlyphs;u++)t.addDynamicAttributes(r,a,s)}e.text.dynamicLayoutVertexBuffer.updateData(r)}function $i(e,n,r,i,o,a,s,u,l,c,f,p){for(var d,h,g=e.context,y=g.gl,m=e.transform,v="map"===u,_="map"===l,b=v&&"point"!==r.layout.get("symbol-placement"),S=v&&!_&&!b,E=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=e.depthModeForSublayer(0,de.ReadOnly),w=r.layout.get("text-variable-anchor"),T=[],P=0,k=i;P<k.length;P+=1){var C=k[P],D=n.getTile(C),A=D.getBucket(r);if(A){var R=o?A.text:A.icon;if(R&&R.segments.get().length){var M=R.programConfigurations.get(r.id),L=o||A.sdfIcons,I=o?A.textSizeData:A.iconSizeData;d||(d=e.useProgram(L?"symbolSDF":"symbolIcon",M),h=t.evaluateSizeForZoom(I,m.zoom)),g.activeTexture.set(y.TEXTURE0);var O=void 0,F=void 0,N=void 0;if(o)F=D.glyphAtlasTexture,N=y.LINEAR,O=D.glyphAtlasTexture.size;else{var B=1!==r.layout.get("icon-size").constantOr(0)||A.iconsNeedLinear,U=_||0!==m.pitch;F=D.imageAtlasTexture,N=L||e.options.rotating||e.options.zooming||B||U?y.LINEAR:y.NEAREST,O=D.imageAtlasTexture.size}var z=ue(D,1,e.transform.zoom),j=Kt(C.posMatrix,_,v,e.transform,z),V=Jt(C.posMatrix,_,v,e.transform,z),G=w&&A.hasTextData(),W="none"!==r.layout.get("icon-text-fit")&&G&&A.hasIconData();b?$t(A,C.posMatrix,e,o,j,V,_,c):o&&h&&A.allowVerticalPlacement&&!w&&Qi(A);var q=e.translatePosMatrix(C.posMatrix,D,a,s),H=b||o&&w||W?or:j,K=e.translatePosMatrix(V,D,a,s,!0),Y=L&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),X={program:d,buffers:R,uniformValues:L?er(I.kind,h,S,_,e,q,H,K,o,O,!0):Qn(I.kind,h,S,_,e,q,H,K,o,O),atlasTexture:F,atlasInterpolation:N,isSDF:L,hasHalo:Y};if(E)for(var Z=0,$=R.segments.get();Z<$.length;Z+=1){var J=$[Z];T.push({segments:new t.SegmentVector([J]),sortKey:J.sortKey,state:X})}else T.push({segments:R.segments,sortKey:0,state:X})}}}E&&T.sort((function(t,e){return t.sortKey-e.sortKey}));for(var Q=0,tt=T;Q<tt.length;Q+=1){var et=tt[Q],nt=et.state;if(nt.atlasTexture.bind(nt.atlasInterpolation,y.CLAMP_TO_EDGE),nt.isSDF){var rt=nt.uniformValues;nt.hasHalo&&(rt.u_is_halo=1,to(nt.buffers,et.segments,r,e,nt.program,x,f,p,rt)),rt.u_is_halo=0}to(nt.buffers,et.segments,r,e,nt.program,x,f,p,nt.uniformValues)}}function to(t,e,n,r,i,o,a,s,u){var l=r.context,c=l.gl;i.draw(l,c.TRIANGLES,o,a,s,be.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function eo(t,e,n,r,i,o,a){var s,u,l,c,f,p=t.context.gl,d=n.paint.get("fill-pattern"),h=d&&d.constantOr(1),g=n.getCrossfadeParameters();a?(u=h&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=h?"fillPattern":"fill",s=p.TRIANGLES);for(var y=0,m=r;y<m.length;y+=1){var v=m[y],_=e.getTile(v);if(!h||_.patternsLoaded()){var b=_.getBucket(n);if(b){var S=b.programConfigurations.get(n.id),E=t.useProgram(u,S);h&&(t.context.activeTexture.set(p.TEXTURE0),_.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),S.updatePatternPaintBuffers(g));var x=d.constantOr(null);if(x&&_.imageAtlas){var w=_.imageAtlas,T=w.patternPositions[x.to.toString()],P=w.patternPositions[x.from.toString()];T&&P&&S.setConstantPatternPositions(T,P)}var k=t.translatePosMatrix(v.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,f=b.segments2;var C=[p.drawingBufferWidth,p.drawingBufferHeight];l="fillOutlinePattern"===u&&h?Un(k,t,g,_,C):Bn(k,C)}else c=b.indexBuffer,f=b.segments,l=h?Nn(k,t,g,_):Fn(k);E.draw(t.context,s,i,t.stencilModeForClipping(v),o,be.disabled,l,n.id,b.layoutVertexBuffer,c,f,n.paint,t.transform.zoom,S)}}}}function io(t,e,n,r,i,o,a){for(var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),f=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),d=0,h=r;d<h.length;d+=1){var g=h[d],y=e.getTile(g),m=y.getBucket(n);if(m){var v=m.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(u.TEXTURE0),y.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(f));var b=l.constantOr(null);if(b&&y.imageAtlas){var S=y.imageAtlas,E=S.patternPositions[b.to.toString()],x=S.patternPositions[b.from.toString()];E&&x&&v.setConstantPatternPositions(E,x)}var w=t.translatePosMatrix(g.posMatrix,y,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),T=n.paint.get("fill-extrusion-vertical-gradient"),P=c?On(w,t,T,p,g,f,y):In(w,t,T,p);_.draw(s,s.gl.TRIANGLES,i,o,a,be.backCCW,P,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,v)}}}function oo(t,e,n,r,i,o){var a=t.context,s=a.gl,u=e.fbo;if(u){var l=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var c=Hn(t,e,n);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?l.draw(a,s.TRIANGLES,r,i,o,be.disabled,c,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):l.draw(a,s.TRIANGLES,r,i,o,be.disabled,c,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function ro(e,n,r,i,o,a,s){var u=e.context,l=u.gl,c=n.dem;if(c&&c.data){var f=c.dim,p=c.stride,d=c.getPixels();if(u.activeTexture.set(l.TEXTURE1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(p),n.demTexture){var h=n.demTexture;h.update(d,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(u,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);u.activeTexture.set(l.TEXTURE0);var g=n.fbo;if(!g){var y=new t.Texture(u,{width:f,height:f,data:null},l.RGBA);y.bind(l.LINEAR,l.CLAMP_TO_EDGE),(g=n.fbo=u.createFramebuffer(f,f)).colorAttachment.set(y.texture)}u.bindFramebuffer.set(g.framebuffer),u.viewport.set([0,0,f,f]),e.useProgram("hillshadePrepare").draw(u,l.TRIANGLES,o,a,s,be.disabled,Kn(n.tileID,c,i),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ao(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=r.getSource(),f=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(e.tileID.overscaledZ-f),d=p&&e.refreshedUponExpiration?1:t.clamp(p?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}function no(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),u=de.disabled,l=he.disabled,c=e.colorModeForRenderPass(),f="$debug";s.draw(i,o.LINE_STRIP,u,l,c,be.disabled,Gn(a,t.Color.red),f,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var p=n.getTileByID(r.key).latestRawTileData,d=p&&p.byteLength||0,h=Math.floor(d/1024),g=n.getTile(r).tileSize,y=512/Math.min(g,512),m=function(t,e,n,r){r=r||1;var i,o,a,s,u,l,c,f,p=[];for(i=0,o=t.length;i<o;i++)if(u=ar[t[i]]){for(f=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?f=null:(l=e+u[1][a]*r,c=n-u[1][a+1]*r,f&&p.push(f.x,f.y,l,c),f={x:l,y:c});e+=u[0]*r}return p}(r.toString()+" "+h+"kb",50,200*y,5*y),v=new t.StructArrayLayout2i4,_=new t.StructArrayLayout2ui4,b=0;b<m.length;b+=2)v.emplaceBack(m[b],m[b+1]),_.emplaceBack(b,b+1);for(var S=i.createVertexBuffer(v,on.members),E=i.createIndexBuffer(_),x=t.SegmentVector.simpleSegment(0,0,v.length/2,v.length/2),w=t.EXTENT/(Math.pow(2,e.transform.zoom-r.overscaledZ)*g*y),T=[],P=-1;P<=1;P++)for(var k=-1;k<=1&&(0!==P||0!==k);k++)T.push([P,k]);for(var C=0;C<T.length;C++){var D=T[C];s.draw(i,o.LINES,u,l,c,be.disabled,Gn(t.translate([],a,[w*D[0],w*D[1],0]),t.Color.white),f,S,E,x)}s.draw(i,o.LINES,u,l,c,be.disabled,Gn(a,t.Color.black),f,S,E,x)}var ar={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},sr={symbol:function symbol(e,n,r,i,o){if("translucent"===e.renderPass){var a=he.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,f=0,p=e;f<p.length;f+=1){var d=p[f],h=i.getTile(d),g=h.getBucket(r);if(g&&g.text&&g.text.segments.get().length){var y=g.textSizeData,m=t.evaluateSizeForZoom(y,u.zoom),v=ue(h,1,n.transform.zoom),_=Kt(d.posMatrix,c,l,n.transform,v),b="none"!==r.layout.get("icon-text-fit")&&g.hasIconData();if(m){var S=Math.pow(2,u.zoom-h.tileID.overscaledZ);Yi(g,l,c,s,t.symbolSize,u,_,d.posMatrix,S,m,b)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&$i(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&$i(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Hi(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Hi(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function circle(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,c=l.gl,f=e.depthModeForSublayer(0,de.ReadOnly),p=he.disabled,d=e.colorModeForRenderPass(),h=[],g=0;g<i.length;g++){var y=i[g],m=n.getTile(y),v=m.getBucket(r);if(v){var _=v.programConfigurations.get(r.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:zn(e,y,m,r)};if(u)for(var S=0,E=v.segments.get();S<E.length;S+=1){var x=E[S];h.push({segments:new t.SegmentVector([x]),sortKey:x.sortKey,state:b})}else h.push({segments:v.segments,sortKey:0,state:b})}}u&&h.sort((function(t,e){return t.sortKey-e.sortKey}));for(var w=0,T=h;w<T.length;w+=1){var P=T[w],k=P.state,C=k.programConfiguration,D=k.program,A=k.layoutVertexBuffer,R=k.indexBuffer,M=k.uniformValues,L=P.segments;D.draw(l,c.TRIANGLES,f,p,d,be.disabled,M,r.id,A,R,L,r.paint,e.transform.zoom,C)}}}},heatmap:function heatmap(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=e.depthModeForSublayer(0,de.ReadOnly),u=he.disabled,l=new _e([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var c=0;c<i.length;c++){var f=i[c];if(!n.hasRenderableParent(f)){var p=n.getTile(f),d=p.getBucket(r);if(d){var h=d.programConfigurations.get(r.id),g=e.useProgram("heatmap",h),y=e.transform.zoom;g.draw(o,a.TRIANGLES,s,u,l,be.disabled,qn(f.posMatrix,p,y,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,e.transform.zoom,h)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,de.disabled,he.disabled,e.colorModeForRenderPass(),be.disabled,function Pi(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:r,u_color_ramp:i,u_opacity:n.paint.get("heatmap-opacity")}}(e,n,0,1),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function line(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,de.ReadOnly),u=e.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),f=c.constantOr(1),p=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),h=l?"lineSDF":f?"linePattern":p?"lineGradient":"line",g=e.context,y=g.gl,m=!0;if(p){g.activeTexture.set(y.TEXTURE0);var v=r.gradientTexture;if(!r.gradient)return;v||(v=r.gradientTexture=new t.Texture(g,r.gradient,y.RGBA)),v.bind(y.LINEAR,y.CLAMP_TO_EDGE)}for(var _=0,b=i;_<b.length;_+=1){var S=b[_],E=n.getTile(S);if(!f||E.patternsLoaded()){var x=E.getBucket(r);if(x){var w=x.programConfigurations.get(r.id),T=e.context.program.get(),P=e.useProgram(h,w),k=m||P.program!==T,C=c.constantOr(null);if(C&&E.imageAtlas){var D=E.imageAtlas,A=D.patternPositions[C.to.toString()],R=D.patternPositions[C.from.toString()];A&&R&&w.setConstantPatternPositions(A,R)}var M=l?$n(e,E,r,l,d):f?Zn(e,E,r,d):p?Xn(e,E,r):Yn(e,E,r);l&&(k||e.lineAtlas.dirty)?(g.activeTexture.set(y.TEXTURE0),e.lineAtlas.bind(g)):f&&(g.activeTexture.set(y.TEXTURE0),E.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),w.updatePatternPaintBuffers(d)),P.draw(g,y.TRIANGLES,s,e.stencilModeForClipping(S),u,be.disabled,M,r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,r.paint,e.transform.zoom,w),m=!1}}}}}},fill:function fill(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?de.ReadWrite:de.ReadOnly);eo(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var f=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,de.ReadOnly);eo(e,n,r,i,f,s,!0)}}},"fill-extrusion":function fillExtrusion(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new de(t.context.gl.LEQUAL,de.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))io(t,e,n,r,o,he.disabled,_e.disabled),io(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();io(t,e,n,r,o,he.disabled,a)}}},hillshade:function hillshade(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,de.ReadOnly),s=he.disabled,u=t.colorModeForRenderPass(),l=0,c=r;l<c.length;l+=1){var f=c[l],p=e.getTile(f);p.needsHillshadePrepare&&"offscreen"===t.renderPass?ro(t,p,n,o,a,s,u):"translucent"===t.renderPass&&oo(t,p,n,a,s,u)}i.viewport.set([0,0,t.width,t.height])}},raster:function raster(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity"))for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),u=he.disabled,l=t.colorModeForRenderPass(),c=r.length&&r[0].overscaledZ,f=!t.options.moving,p=0,d=r;p<d.length;p+=1){var h=d[p],g=t.depthModeForSublayer(h.overscaledZ-c,1===n.paint.get("raster-opacity")?de.ReadWrite:de.ReadOnly,o.LESS),y=e.getTile(h),m=t.transform.calculatePosMatrix(h.toUnwrapped(),f);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var v=e.findLoadedParent(h,0),_=ao(y,v,e,n,t.transform),b=void 0,S=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),v?(v.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),S=[y.tileID.canonical.x*b%1,y.tileID.canonical.y*b%1]):y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var x=Jn(m,S||[0,0],b||1,_,n);a instanceof q?s.draw(i,o.TRIANGLES,g,u,l,be.disabled,x,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments?s.draw(i,o.TRIANGLES,g,u,l,be.disabled,x,n.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments,n.paint,t.transform.zoom):s.draw(i,o.TRIANGLES,g,u,l,be.disabled,x,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function background(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!t.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var f=he.disabled,p=t.depthModeForSublayer(0,"opaque"===c?de.ReadWrite:de.ReadOnly),d=t.colorModeForRenderPass(),h=t.useProgram(l?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var y=n.getCrossfadeParameters(),m=0,v=g;m<v.length;m+=1){var _=v[m],b=t.transform.calculatePosMatrix(_.toUnwrapped()),S=l?rr(b,i,t,l,{tileID:_,tileSize:u},y):nr(b,i,r);h.draw(o,a.TRIANGLES,p,f,d,be.disabled,S,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function debug(t,e,n){for(var r=0;r<n.length;r++)no(t,e,n[r])},custom:function custom(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(he.disabled);var a="3d"===i.renderingMode?new de(t.context.gl.LEQUAL,de.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,de.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},ur=function co(e,n){this.context=new Ee(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Qe};function uo(t,e){if(t.y>e.y){var n=t;t=e,e=n}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function ho(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,p=o;p<a;p++){var d=u*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,h=l*Math.max(0,Math.min(e.dy,p+f-e.y0))+e.x0;i(Math.floor(h),Math.ceil(d),p)}}function po(t,e,n,r,i,o){var a,s=uo(t,e),u=uo(e,n),l=uo(n,t);s.dy>u.dy&&(a=s,s=u,u=a),s.dy>l.dy&&(a=s,s=l,l=a),u.dy>l.dy&&(a=u,u=l,l=a),s.dy&&ho(l,s,r,i,o),u.dy&&ho(l,u,r,i,o)}ur.prototype.resize=function(e,n){var r=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,o=this.style._order;i<o.length;i+=1){var a=o[i];this.style._layers[a].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},ur.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,on.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,on.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,on.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var u=this.context.gl;this.stencilClearMode=new he({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},ur.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,de.disabled,this.stencilClearMode,_e.disabled,be.disabled,Wn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},ur.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(_e.disabled),n.setDepthMode(de.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,de.disabled,new he({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),_e.disabled,be.disabled,Wn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},ur.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new he({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},ur.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new he({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},ur.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new _e([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?_e.unblended:_e.alphaBlended},ur.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return de.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new de(n||this.context.gl.LEQUAL,e,[r,r])},ur.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},ur.prototype.render=function(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,i=this.style.sourceCaches;for(var o in i){var a=i[o];a.used&&a.prepare(this.context)}var s={},u={},l={};for(var c in i){var f=i[c];s[c]=f.getVisibleCoordinates(),u[c]=s[c].slice().reverse(),l[c]=f.getVisibleCoordinates(!0).reverse()}for(var p in i){var d=i[p],h=d.getSource();if("raster"===h.type||"raster-dem"===h.type){for(var g=[],y=0,m=s[p];y<m.length;y+=1){var v=m[y];g.push(d.getTile(v))}Gi(g,this.context)}}this.opaquePassCutoff=1/0;for(var _=0;_<r.length;_++){var b=r[_];if(this.style._layers[b].is3D()){this.opaquePassCutoff=_;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var S=0,E=r;S<E.length;S+=1){var x=E[S],w=this.style._layers[x];if(w.hasOffscreenPass()&&!w.isHidden(this.transform.zoom)){var T=u[w.source];("custom"===w.type||T.length)&&this.renderLayer(this,i[w.source],w,T)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var P=this.style._layers[r[this.currentLayer]],k=i[P.source],C=s[P.source];this._renderTileClippingMasks(P,C),this.renderLayer(this,k,P,C)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var D=this.style._layers[r[this.currentLayer]],A=i[D.source],R=("symbol"===D.type?l:u)[D.source];this._renderTileClippingMasks(D,s[D.source]),this.renderLayer(this,A,D,R)}if(this.options.showTileBoundaries)for(var M in i){sr.debug(this,i[M],s[M]);break}this.context.setDefault()},ur.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},ur.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,sr[n.type](t,e,n,r,this.style.placement.variableOffsets))},ur.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[o?r[0]:ue(n,r[0],this.transform.zoom),o?r[1]:ue(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,l),c},ur.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},ur.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},ur.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},ur.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new Ln(this.context,Rn[t],e,ir[t],this._showOverdrawInspector)),this.cache[n]},ur.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},ur.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var lr=function _o(e,n,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},cr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};lr.prototype.clone=function(){var t=new lr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},cr.minZoom.get=function(){return this._minZoom},cr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},cr.maxZoom.get=function(){return this._maxZoom},cr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},cr.renderWorldCopies.get=function(){return this._renderWorldCopies},cr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},cr.worldSize.get=function(){return this.tileSize*this.scale},cr.centerPoint.get=function(){return this.size._div(2)},cr.size.get=function(){return new t.Point(this.width,this.height)},cr.bearing.get=function(){return-this.angle/Math.PI*180},cr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},cr.pitch.get=function(){return this._pitch/Math.PI*180},cr.pitch.set=function(e){var n=t.clamp(e,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},cr.fov.get=function(){return this._fov/Math.PI*180},cr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},cr.zoom.get=function(){return this._zoom},cr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},cr.center.get=function(){return this._center},cr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},lr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},lr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},lr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=new t.Point(o*i.x-.5,o*i.y-.5);return function(e,n,r,i){void 0===i&&(i=!0);var o=1<<e,a={};function s(n,s,u){var l,c,f,p;if(u>=0&&u<=o)for(l=n;l<s;l++)c=Math.floor(l/o),f=(l%o+o)%o,0!==c&&!0!==i||(p=new t.OverscaledTileID(r,c,e,f,u),a[p.key]=p)}var u=n.map((function(e){return new t.Point(e.x,e.y)._mult(o)}));return po(u[0],u[1],u[2],0,o,s),po(u[2],u[3],u[0],0,o,s),Object.keys(a).map((function(t){return a[t]}))}(n,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?r:n,this._renderWorldCopies).sort((function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)}))},lr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},cr.unmodified.get=function(){return this._unmodified},lr.prototype.zoomScale=function(t){return Math.pow(2,t)},lr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},lr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},lr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},cr.point.get=function(){return this.project(this.center)},lr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},lr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},lr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},lr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},lr.prototype.coordinateLocation=function(t){return t.toLngLat()},lr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[0]/i,s=r[0]/o,u=n[1]/i,l=r[1]/o,c=n[2]/i,f=r[2]/o,p=c===f?0:(0-c)/(f-c);return new t.MercatorCoordinate(t.number(a,s,p)/this.worldSize,t.number(u,l,p)/this.worldSize)},lr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},lr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},lr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},lr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},lr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,o.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},lr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},lr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=t.mercatorYfromLat(f[1])*this.worldSize,e=(a=t.mercatorYfromLat(f[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,n=(u=t.mercatorXfromLng(p[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var d=this.point,h=Math.max(n||0,e||0);if(h)return this.center=this.unproject(new t.Point(n?(u+s)/2:d.x,e?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var g=d.y,y=l.y/2;g-y<o&&(i=o+y),g+y>a&&(i=a-y)}if(this.lngRange){var m=d.x,v=l.x/2;m-v<s&&(r=s+v),m+v>u&&(r=u-v)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}},lr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-n-e),i=this.point,o=i.x,a=i.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),u=this.height/50,l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,u,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-o,-a,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var c=this.width%2/2,f=this.height%2/2,p=Math.cos(this.angle),d=Math.sin(this.angle),h=o-Math.round(o)+p*c+d*f,g=a-Math.round(a)+p*f+d*c,y=new Float64Array(l);if(t.translate(y,y,[h>.5?h-1:h,g>.5?g-1:g,0]),this.alignedProjMatrix=y,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=t.create(),t.scale(l,l,[1,-1,1]),t.translate(l,l,[-1,-1,0]),t.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},lr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},lr.prototype.getCameraPoint=function(){var e=this._pitch,n=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,n))},lr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,u=e;s<u.length;s+=1){var l=u[s];r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(lr.prototype,cr);var fr=function mo(){var e,n,r,i;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),n=!1,r=null,i=function a(){r=null,n&&(e(),r=setTimeout(i,300),n=!1)},function(){return n=!0,r||i(),r})};fr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},fr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},fr.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},fr.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},fr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var pr=function(e){function o(n,r,i,o){void 0===o&&(o={});var a=c.mousePos(r.getCanvasContainer(),i),s=r.unproject(a);e.call(this,n,t.extend({point:a,lngLat:s,originalEvent:i},o)),this._defaultPrevented=!1,this.target=r}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,n),o}(t.Event),dr=function(e){function o(n,r,i){var o=c.touchPos(r.getCanvasContainer(),i),a=o.map((function(t){return r.unproject(t)})),s=o.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),u=r.unproject(s);e.call(this,n,{points:o,point:s,lngLats:a,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,n),o}(t.Event),hr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),gr=function xo(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};gr.prototype.setZoomRate=function(t){this._defaultZoomRate=t},gr.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},gr.prototype.isEnabled=function(){return!!this._enabled},gr.prototype.isActive=function(){return!!this._active},gr.prototype.isZooming=function(){return!!this._zooming},gr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},gr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gr.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},gr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},gr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=c.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},gr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,u=this._easing,l=!1;if("wheel"===this._type&&s&&u){var c=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),f=u(c);n.zoom=t.number(s,a,f),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else n.zoom=a,l=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},gr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n};var yr=function bo(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};yr.prototype.isEnabled=function(){return!!this._enabled},yr.prototype.isActive=function(){return!!this._active},yr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},yr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},yr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),c.disableDrag(),this._startPos=this._lastPos=c.mousePos(this._el,e),this._active=!0)},yr.prototype._onMouseMove=function(t){var e=c.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=e,this._box||(this._box=c.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(n.x,e.x),i=Math.max(n.x,e.x),o=Math.min(n.y,e.y),a=Math.max(n.y,e.y);c.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=i-r+"px",this._box.style.height=a-o+"px"}},yr.prototype._onMouseUp=function(e){if(0===e.button){var n=this._startPos,r=c.mousePos(this._el,e);this._finish(),c.suppressClick(),n.x===r.x&&n.y===r.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(n,r,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},yr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},yr.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(c.remove(this._box),this._box=null),c.enableDrag(),delete this._startPos,delete this._lastPos},yr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var mr=t.bezier(0,0,.25,1),vr=function Eo(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};vr.prototype.isEnabled=function(){return"disabled"!==this._state},vr.prototype.isActive=function(){return"active"===this._state},vr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},vr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},vr.prototype.onMouseDown=function(e){if("enabled"===this._state){var n="touchstart"===e.type;if(n)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=c.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==c.mouseButton(e))return;this._eventButton=0}c.disableDrag(),n?(t.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("touchend",this._onMouseUp)):(t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp)),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=c.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},vr.prototype._onMouseMove=function(t){var e=c.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},vr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,r=this._prevPos,i=this._lastPos,o=.8*(r.x-i.x),a=-.5*(r.y-i.y),s=n.bearing-o,u=n.pitch-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([t.browser.now(),this._map._normalizeBearing(s,c[1])]),n.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),n.pitch=u),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._prevPos=this._lastPos}},vr.prototype._onMouseUp=function(t){if("touchend"===t.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),c.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},vr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},vr.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("touchend",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),c.enableDrag()},vr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},vr.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function a(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)o();else{var s=i[0],u=i[i.length-1],l=i[i.length-2],c=n._normalizeBearing(r,l[1]),f=u[1]-s[1],p=f<0?-1:1,d=(u[0]-s[0])/1e3;if(0!==f&&0!==d){var h=Math.abs(f*(.25/d));h>180&&(h=180);var g=h/180;c+=p*h*(g/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*g,easing:mr,noMoveStart:!0},{originalEvent:t})}else o()}},vr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},vr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var _r=t.bezier(0,0,.3,1),br=function Io(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};br.prototype.isEnabled=function(){return"disabled"!==this._state},br.prototype.isActive=function(){return"active"===this._state},br.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},br.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},br.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==c.mouseButton(e)||(c.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),c.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},br.prototype.onTouchStart=function(e){this.isEnabled()&&(e.touches&&e.touches.length>1&&("pending"===this._state||"active"===this._state)||(c.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},br.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=c.mousePos(this._el,e),this._startTouch=this._lastTouch=t.window.TouchEvent&&e instanceof t.window.TouchEvent?c.touchPos(this._el,e):null,this._inertia=[[t.browser.now(),this._startPos]]},br.prototype._touchesMatch=function(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))},br.prototype._onMove=function(e){e.preventDefault();var n=t.window.TouchEvent&&e instanceof t.window.TouchEvent?c.touchPos(this._el,e):null,r=c.mousePos(this._el,e);(n?this._touchesMatch(this._lastTouch,n):this._lastPos.equals(r))||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=r,this._lastTouch=n,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},br.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t)if(this._map.touchZoomRotate.isActive())this._abort(t);else if(this._shouldStart&&(this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._shouldStart=!1),this.isActive()){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._prevPos=this._lastPos,delete this._lastMoveEvent}},br.prototype._onMouseUp=function(t){if(0===c.mouseButton(t))switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},br.prototype._onTouchEnd=function(t){if(t.touches&&0!==t.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(t)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},br.prototype._abort=function(e){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",e),this._fireEvent("moveend",e)),this._unbind(),this._deactivate(),t.window.TouchEvent&&e instanceof t.window.TouchEvent&&e.touches.length>1&&c.addEventListener(t.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},br.prototype._onBlur=function(t){this._abort(t)},br.prototype._unbind=function(){c.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.removeEventListener(t.window.document,"touchend",this._onTouchEnd),c.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),c.removeEventListener(t.window.document,"mouseup",this._onMouseUp),c.removeEventListener(t.window,"blur",this._onBlur)},br.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},br.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var u=s/750,l=a.mult(-u/2);this._map.panBy(l,{duration:1e3*u,easing:_r,noMoveStart:!0},{originalEvent:t})}}},br.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},br.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var Sr=function Co(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function So(t){return t*(2-t)}Sr.prototype.isEnabled=function(){return!!this._enabled},Sr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Sr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Sr.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:So,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var Er=function Po(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.isActive=function(){return!!this._active},Er.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Er.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Er.prototype.onTouchStart=function(t){var e=this;if(this.isEnabled()&&!(t.points.length>1))if(this._tapped){var n=t.points[0],i=this._tappedPoint;if(i&&i.dist(n)<=30){t.originalEvent.preventDefault();var o=function r(){e._tapped&&e._zoom(t),e._map.off("touchcancel",s),e._resetTapped()},s=function a(){e._map.off("touchend",o),e._resetTapped()};this._map.once("touchend",o),this._map.once("touchcancel",s)}else this._resetTapped()}else this._tappedPoint=t.points[0],this._tapped=setTimeout((function(){e._tapped=null,e._tappedPoint=null}),300)},Er.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Er.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Er.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Er.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var xr=t.bezier(0,0,.15,1),wr=function Lo(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};wr.prototype.isEnabled=function(){return!!this._enabled},wr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},wr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},wr.prototype.disableRotation=function(){this._rotationDisabled=!0},wr.prototype.enableRotation=function(){this._rotationDisabled=!1},wr.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},wr.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var n=c.mousePos(this._el,e.touches[0]),r=c.mousePos(this._el,e.touches[1]),i=n.add(r).div(2);this._startVec=n.sub(r),this._startAround=this._map.transform.pointLocation(i),this._gestureIntent=void 0,this._inertia=[],c.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),c.addEventListener(t.window.document,"touchend",this._onEnd)}},wr.prototype._getTouchEventData=function(t){var e=c.mousePos(this._el,t.touches[0]),n=c.mousePos(this._el,t.touches[1]),r=e.sub(n);return{vec:r,center:e.add(n).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},wr.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),r=n.vec,i=n.scale,o=n.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==i||Math.abs(1-i)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},wr.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),i=r.center,o=r.bearing,a=r.scale,s=n.pointLocation(i),u=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,u),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,i])}},wr.prototype._onEnd=function(e){c.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),c.removeEventListener(t.window.document,"touchend",this._onEnd);var n=this._gestureIntent,r=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new t.Event(n+"end",{originalEvent:e})),this._drainInertiaBuffer();var i=this._inertia,o=this._map;if(i.length<2)o.snapToNorth({},{originalEvent:e});else{var a=i[i.length-1],s=i[0],u=o.transform.scaleZoom(r*a[1]),l=o.transform.scaleZoom(r*s[1]),f=u-l,p=(a[0]-s[0])/1e3,d=a[2];if(0!==p&&u!==l){var h=.15*f/p;Math.abs(h)>2.5&&(h=h>0?2.5:-2.5);var g=1e3*Math.abs(h/(12*.15)),y=u+h*g/2e3;y<0&&(y=0),o.easeTo({zoom:y,duration:g,easing:xr,around:this._aroundCenter?o.getCenter():o.unproject(d),noMoveStart:!0},{originalEvent:e})}else o.snapToNorth({},{originalEvent:e})}}},wr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>2&&n-e[0][0]>160;)e.shift()};var Tr={scrollZoom:gr,boxZoom:yr,dragRotate:vr,dragPan:br,keyboard:Sr,doubleClickZoom:Er,touchZoomRotate:wr},Pr=function(e){function i(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},i.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},i.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},i.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},i.prototype._cameraForBoxAndBearing=function(e,n,r,i){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(t.deepEqual(Object.keys(i.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(t.LngLat.convert(e)),u=a.project(t.LngLat.convert(n)),l=s.rotate(-r*Math.PI/180),c=u.rotate(-r*Math.PI/180),f=new t.Point(Math.max(l.x,c.x),Math.max(l.y,c.y)),p=new t.Point(Math.min(l.x,c.x),Math.min(l.y,c.y)),d=f.sub(p),h=(a.width-i.padding.left-i.padding.right)/d.x,g=(a.height-i.padding.top-i.padding.bottom)/d.y;if(!(g<0||h<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(h,g)),i.maxZoom),m=t.Point.convert(i.offset),v=(i.padding.left-i.padding.right)/2,_=(i.padding.top-i.padding.bottom)/2,b=new t.Point(m.x+v,m.y+_).mult(a.scale/a.zoomScale(y));return{center:a.unproject(s.add(u).div(2).sub(b)),zoom:y,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},i.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},i.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},i.prototype._fitInternal=function(e,n,r){return e?(n=t.extend(e,n)).linear?this.easeTo(n,r):this.flyTo(n,r):this},i.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},i.prototype.easeTo=function(e,n){var r=this;this.stop(),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?+e.zoom:o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,f=i.centerPoint.add(t.Point.convert(e.offset)),p=i.pointLocation(f),d=t.LngLat.convert(e.center||p);this._normalizeCenter(d);var h,g,y=i.project(p),m=i.project(d).sub(y),v=i.zoomScale(u-o);return e.around&&(h=t.LngLat.convert(e.around),g=i.locationPoint(h)),this._zooming=u!==o,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,l,e)),r._pitching&&(i.pitch=t.number(s,c,e)),h)i.setLocationAtPoint(h,g);else{var p=i.zoomScale(i.zoom-o),d=u>o?Math.min(2,v):Math.max(.5,v),_=Math.pow(d,1-e),b=i.unproject(y.add(m.mult(e*_)).mult(p));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,f)}r._fireMoveEvents(n)}),(function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout((function(){return r._afterEase(n)}),e.delayEndEvents):r._afterEase(n)}),e),this},i.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),i&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,n){var r=this;if(t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,c="bearing"in e?this._normalizeBearing(e.bearing,s):s,f="pitch"in e?+e.pitch:u,p=o.zoomScale(l-a),d=o.centerPoint.add(t.Point.convert(e.offset)),h=o.pointLocation(d),g=t.LngLat.convert(e.center||h);this._normalizeCenter(g);var y=o.project(h),m=o.project(g).sub(y),v=e.curve,_=Math.max(o.width,o.height),b=_/p,E=m.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,a,l),o.minZoom,o.maxZoom),w=_/o.zoomScale(x-a);v=Math.sqrt(w/E*2)}var T=v*v;function I(t){var e=(b*b-_*_+(t?-1:1)*T*T*E*E)/(2*(t?b:_)*T*E);return Math.log(Math.sqrt(e*e+1)-e)}function C(t){return(Math.exp(t)-Math.exp(-t))/2}function S(t){return(Math.exp(t)+Math.exp(-t))/2}var P=I(0),k=function z(t){return S(P)/S(P+v*t)},D=function L(t){return _*((S(P)*(C(e=P+v*t)/S(e))-C(P))/T)/E;var e},A=(I(1)-P)/v;if(Math.abs(E)<1e-6||!isFinite(A)){if(Math.abs(_-b)<1e-6)return this.easeTo(e,n);var R=b<_?-1:1;A=Math.abs(Math.log(b/_))/v,D=function L(){return 0},k=function z(t){return Math.exp(R*v*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/v:+e.speed;e.duration=1e3*A/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=f!==u,this._prepareEase(n,!1),this._ease((function(e){var i=e*A,p=1/k(i);o.zoom=1===e?l:a+o.scaleZoom(p),r._rotating&&(o.bearing=t.number(s,c,e)),r._pitching&&(o.pitch=t.number(u,f,e));var h=1===e?g:o.unproject(y.add(m.mult(D(i))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?h.wrap():h,d),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},i}(t.Evented),kr=function Ro(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};kr.prototype.getDefaultPosition=function(){return"bottom-right"},kr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=c.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},kr.prototype.onRemove=function(){c.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},kr.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},kr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},kr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},kr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Cr=function Ao(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Cr.prototype.onAdd=function(t){this._map=t,this._container=c.create("div","mapboxgl-ctrl");var e=c.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Cr.prototype.onRemove=function(){c.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Cr.prototype.getDefaultPosition=function(){return"bottom-left"},Cr.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Cr.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Cr.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Dr=function ko(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Dr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Dr.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},Dr.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Dr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ar=t.window.HTMLImageElement,Rr=t.window.HTMLElement,Mr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Lr=function(e){function r(n){var r=this;if(null!=(n=t.extend({},Mr,n)).minZoom&&null!=n.maxZoom&&n.minZoom>n.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new lr(n.minZoom,n.maxZoom,n.renderWorldCopies);if(e.call(this,i,n),this._interactive=n.interactive,this._maxTileCacheSize=n.maxTileCacheSize,this._failIfMajorPerformanceCaveat=n.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=n.preserveDrawingBuffer,this._antialias=n.antialias,this._trackResize=n.trackResize,this._bearingSnap=n.bearingSnap,this._refreshExpiredTiles=n.refreshExpiredTiles,this._fadeDuration=n.fadeDuration,this._crossSourceCollisions=n.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=n.collectResourceTiming,this._renderTaskQueue=new Dr,this._controls=[],this._mapId=t.uniqueId(),this._requestManager=new t.RequestManager(n.transformRequest,n.accessToken),"string"==typeof n.container){if(this._container=t.window.document.getElementById(n.container),!this._container)throw new Error("Container '"+n.container+"' not found.")}else{if(!(n.container instanceof Rr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=n.container}if(n.maxBounds&&this.setMaxBounds(n.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var n=t.getCanvasContainer(),r=null,i=!1,o=null;for(var a in Tr)t[a]=new Tr[a](t,e),e.interactive&&e[a]&&t[a].enable(e[a]);c.addEventListener(n,"mouseout",(function(e){t.fire(new pr("mouseout",t,e))})),c.addEventListener(n,"mousedown",(function(r){i=!0,o=c.mousePos(n,r);var a=new pr("mousedown",t,r);t.fire(a),a.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(r),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(r),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(r))})),c.addEventListener(n,"mouseup",(function(e){var n=t.dragRotate.isActive();r&&!n&&t.fire(new pr("contextmenu",t,r)),r=null,i=!1,t.fire(new pr("mouseup",t,e))})),c.addEventListener(n,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var r=e.target;r&&r!==n;)r=r.parentNode;r===n&&t.fire(new pr("mousemove",t,e))}})),c.addEventListener(n,"mouseover",(function(e){for(var r=e.target;r&&r!==n;)r=r.parentNode;r===n&&t.fire(new pr("mouseover",t,e))})),c.addEventListener(n,"touchstart",(function(n){var r=new dr("touchstart",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(r))}),{passive:!1}),c.addEventListener(n,"touchmove",(function(e){t.fire(new dr("touchmove",t,e))}),{passive:!1}),c.addEventListener(n,"touchend",(function(e){t.fire(new dr("touchend",t,e))})),c.addEventListener(n,"touchcancel",(function(e){t.fire(new dr("touchcancel",t,e))})),c.addEventListener(n,"click",(function(r){var i=c.mousePos(n,r);(!o||i.equals(o)||i.dist(o)<e.clickTolerance)&&t.fire(new pr("click",t,r))})),c.addEventListener(n,"dblclick",(function(e){var n=new pr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),c.addEventListener(n,"contextmenu",(function(e){var n=t.dragRotate.isActive();i||n?i&&(r=e):t.fire(new pr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),c.addEventListener(n,"wheel",(function(n){e.interactive&&t.stop();var r=new hr("wheel",t,n);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(n)}),{passive:!1})}(this,n),this._hash=n.hash&&(new fr).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:n.center,zoom:n.zoom,bearing:n.bearing,pitch:n.pitch}),n.bounds&&(this.resize(),this.fitBounds(n.bounds,t.extend({},n.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=n.localIdeographFontFamily,n.style&&this.setStyle(n.style,{localIdeographFontFamily:n.localIdeographFontFamily}),n.attributionControl&&this.addControl(new kr({customAttribution:n.customAttribution})),this.addControl(new Cr,n.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(e){r._update("style"===e.dataType),r.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){r.fire(new t.Event(e.dataType+"dataloading",e))}))}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var n={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},r.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},r.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];return this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},r.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},r.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},r.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype.on=function(t,n,r){var i=this;if(void 0===r)return e.prototype.on.call(this,t,n);var o=function(){var e;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:n,listener:r,delegates:{mousemove:function mousemove(e){var a=i.getLayer(n)?i.queryRenderedFeatures(e.point,{layers:[n]}):[];a.length?o||(o=!0,r.call(i,new pr(t,i,e.originalEvent,{features:a}))):o=!1},mouseout:function mouseout(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function mousemove(e){(i.getLayer(n)?i.queryRenderedFeatures(e.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(i,new pr(t,i,e.originalEvent)))},mouseout:function mouseout(e){a&&(a=!1,r.call(i,new pr(t,i,e.originalEvent)))}}}}return{layer:n,listener:r,delegates:(e={},e[t]=function(t){var e=i.getLayer(n)?i.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&(t.features=e,r.call(i,t),delete t.features)},e)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(o),o.delegates)this.on(a,o.delegates[a]);return this},r.prototype.off=function(t,n,r){if(void 0===r)return e.prototype.off.call(this,t,n);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===n&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},r.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},r.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},r.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},r.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new rn(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},r.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},r.prototype._updateDiff=function(n,r){try{this.style.setState(n)&&this._update(!0)}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch."),this._updateStyle(n,r)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},r.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},r.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},r.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},r.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},r.prototype.getSource=function(t){return this.style.getSource(t)},r.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;if(void 0===o&&(o=!1),n instanceof Ar){var a=t.browser.getImageData(n),s=a.width,u=a.height,l=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:u},l),pixelRatio:i,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n.width,f=n.height,p=n.data,d=n;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:f},new Uint8Array(p)),pixelRatio:i,sdf:o,version:0,userImage:d}),d.onAdd&&d.onAdd(this,e)}},r.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Ar?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;if(void 0===o||void 0===a)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==r.data.width||a!==r.data.height)return this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var u=!(n instanceof Ar);r.data.replace(s,u),this.style.updateImage(e,r)},r.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(t){this.style.removeImage(t)},r.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},r.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},r.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},r.prototype.getLayer=function(t){return this.style.getLayer(t)},r.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},r.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},r.prototype.getFilter=function(t){return this.style.getFilter(t)},r.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},r.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},r.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},r.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},r.prototype.setLight=function(t,e){return void 0===e&&(e={}),this.style.setLight(t,e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},r.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},r.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=c.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=c.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){i[t]=c.create("div","mapboxgl-ctrl-"+t,r)}))},r.prototype._resizeCanvas=function(e,n){var r=t.window.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},r.prototype._setupPainter=function(){var e=t.extend({},l.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);n?(this.painter=new ur(n,this.transform),t.webpSupported.testSupport(n)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},r.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},r.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},r.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=t.browser.now();this.style.zoomHistory.update(n,r);var i=new t.EvaluationParameters(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=i.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),this},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),No(this._canvasContainer),No(this._controlContainer),No(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},r.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(){e._frame=null,e._render()})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},r.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},n.version.get=function(){return t.version},Object.defineProperties(r.prototype,n),r}(Pr);function No(t){t.parentNode&&t.parentNode.removeChild(t)}var Ir={showCompass:!0,showZoom:!0,visualizePitch:!1},Or=function Vo(e){var n=this;this.options=t.extend({},Ir,e),this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(t){return n._map.zoomIn({},{originalEvent:t})})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(t){return n._map.zoomOut({},{originalEvent:t})}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(t){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:t}):n._map.resetNorth({},{originalEvent:t})})),this._compassArrow=c.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function qo(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Or.prototype._updateZoomButtons=function(){var t=this._map.getZoom();t===this._map.getMaxZoom()?this._zoomInButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomInButton.classList.remove("mapboxgl-ctrl-icon-disabled"),t===this._map.getMinZoom()?this._zoomOutButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomOutButton.classList.remove("mapboxgl-ctrl-icon-disabled")},Or.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Or.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vr(t,{button:"left",element:this._compass}),c.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),c.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},Or.prototype.onRemove=function(){c.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),c.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),c.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},Or.prototype._createButton=function(t,e,n){var r=c.create("button",t,this._container);return r.type="button",r.title=e,r.setAttribute("aria-label",e),r.addEventListener("click",n),r};var Fr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Go(t,e,n){var r=t.classList;for(var i in Fr)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Nr,Br=function(e){function o(n,r){if(e.call(this),(n instanceof t.window.HTMLElement||r)&&(n=t.extend({element:n},r)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",n&&n.element)this._element=n.element,this._offset=t.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=c.create("div");var i=c.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var o=c.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var a=c.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=c.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<l.length;u+=1){var f=l[u],p=c.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",f.rx),p.setAttributeNS(null,"ry",f.ry),s.appendChild(p)}var d=c.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var h=c.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(h);var g=c.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var y=c.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(y);var m=c.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var v=c.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=c.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=c.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(b),a.appendChild(s),a.appendChild(d),a.appendChild(g),a.appendChild(m),a.appendChild(v),i.appendChild(a),this._element.appendChild(i),this._offset=t.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),Go(this._element,this._anchor,"marker"),this._popup=null}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),c.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},o.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},o.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=qo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),c.setTransform(this._element,Fr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},o.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o}(t.Evented),Ur={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},zr=function(e){function o(n){e.call(this),this.options=t.extend({},Ur,n),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.onAdd=function(e){var n;return this._map=e,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Nr?n(Nr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){Nr="denied"!==t.state,n(Nr)})):(Nr=!!t.window.navigator.geolocation,n(Nr)),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),c.remove(this._container),this._map=void 0},o.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},o.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},o.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},o.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(e){var n=this;!1!==e?(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=c.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.title="Find my location",this._geolocateButton.setAttribute("aria-label","Find my location"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=c.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Br(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){var r=e.originalEvent&&"resize"===e.originalEvent.type;e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||r||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")))}))):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},o.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(t.Evented),jr={maxWidth:100,unit:"metric"},Vr=function Yo(e){this.options=t.extend({},jr,e),t.bindAll(["_onMove","setUnit"],this)};function Qo(t,e,n){var r,i,o,a,s,u,l=n&&n.maxWidth||100,c=t._container.clientHeight/2,f=(r=t.unproject([0,c]),i=t.unproject([l,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(u,1)));if(n&&"imperial"===n.unit){var p=3.2808*f;p>5280?$o(e,l,p/5280,"mi"):$o(e,l,p,"ft")}else n&&"nautical"===n.unit?$o(e,l,f/1852,"nm"):$o(e,l,f,"m")}function $o(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),u=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*u+"px",t.innerHTML=s+r}Vr.prototype.getDefaultPosition=function(){return"bottom-left"},Vr.prototype._onMove=function(){Qo(this._map,this._container,this.options)},Vr.prototype.onAdd=function(t){return this._map=t,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vr.prototype.onRemove=function(){c.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vr.prototype.setUnit=function(t){this.options.unit=t,Qo(this._map,this._container,this.options)};var Gr=function tr(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Gr.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=c.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gr.prototype.onRemove=function(){c.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){(this._fullscreenButton=c.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._updateTitle=function(){var t=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Wr={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},qr=function(e){function o(n){e.call(this),this.options=t.extend(Object.create(Wr),n),t.bindAll(["_update","_onClickClose","remove"],this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.addTo=function(e){var n=this;return this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(t){n._update(t.point)})),this._map.on("mouseup",(function(t){n._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&c.remove(this._content),this._container&&(c.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new t.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){var t=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(e){t._update(e.point)})),this._map.on("drag",(function(e){t._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},o.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},o.prototype.getMaxWidth=function(){return this._container.style.maxWidth},o.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},o.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},o.prototype._createContent=function(){this._content&&c.remove(this._content),this._content=c.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=c.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},o.prototype._update=function(e){var n=this,r=this._lngLat||this._trackPointer;if(this._map&&r&&this._content&&(this._container||(this._container=c.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=c.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return n._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qo(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+a.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var f=i.add(a[o]).round();c.setTransform(this._container,Fr[o]+" translate("+f.x+"px,"+f.y+"px)"),Go(this._container,o,"popup")}},o.prototype._onClickClose=function(){this.remove()},o}(t.Evented),Hr={version:t.version,supported:l,setRTLTextPlugin:t.setRTLTextPlugin,Map:Lr,NavigationControl:Or,GeolocateControl:zr,AttributionControl:kr,ScaleControl:Vr,FullscreenControl:Gr,Popup:qr,Marker:Br,Style:rn,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return we.workerCount},set workerCount(t){we.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function clearStorage(e){t.clearTileCache(e)},workerUrl:""};return Hr})),n}()},function(t,e,n){"use strict";var r=n(967);function emptyFunction(){}t.exports=function(){function shim(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function fromValues(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},function(t,e){t.exports=function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function length(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}},function(t,e){t.exports=function squaredLength(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}},function(t,e){t.exports=function dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},function(t,e){t.exports=function normalize(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a);return t}},function(t,e){t.exports=function add(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}},function(t,e){t.exports=function lerp(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}},function(t,e){t.exports=function set(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}},function(t,e,n){(function(e){var i;i=function(){"use strict";var t,n,r;function define(e,i){if(t)if(n){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+n+")(sharedChunk);",a={};t(a),(r=i(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else n=i;else t=i}return define(0,(function(i){var a="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var s=o;function o(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}o.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},o.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},o.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},o.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},o.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var f=function a(t,e,n){this.column=t,this.row=e,this.zoom=n};f.prototype.clone=function(){return new f(this.column,this.row,this.zoom)},f.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},f.prototype.sub=function(t){return this.clone()._sub(t)},f.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},f.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var E=u;function u(t,e){this.x=t,this.y=e}function l(t,e,n,r){var i=new s(t,e,n,r);return function(t){return i.solve(t)}}u.prototype={clone:function clone(){return new u(this.x,this.y)},add:function add(t){return this.clone()._add(t)},sub:function sub(t){return this.clone()._sub(t)},multByPoint:function multByPoint(t){return this.clone()._multByPoint(t)},divByPoint:function divByPoint(t){return this.clone()._divByPoint(t)},mult:function mult(t){return this.clone()._mult(t)},div:function div(t){return this.clone()._div(t)},rotate:function rotate(t){return this.clone()._rotate(t)},rotateAround:function rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult:function matMult(t){return this.clone()._matMult(t)},unit:function unit(){return this.clone()._unit()},perp:function perp(){return this.clone()._perp()},round:function round(){return this.clone()._round()},mag:function mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function equals(t){return this.x===t.x&&this.y===t.y},dist:function dist(t){return Math.sqrt(this.distSqr(t))},distSqr:function distSqr(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function angle(){return Math.atan2(this.y,this.x)},angleTo:function angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function _matMult(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function _add(t){return this.x+=t.x,this.y+=t.y,this},_sub:function _sub(t){return this.x-=t.x,this.y-=t.y,this},_mult:function _mult(t){return this.x*=t,this.y*=t,this},_div:function _div(t){return this.x/=t,this.y/=t,this},_multByPoint:function _multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function _divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit:function _unit(){return this._div(this.mag()),this},_perp:function _perp(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function _rotate(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function _rotateAround(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function _round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(t){return t instanceof u?t:Array.isArray(t)?new u(t[0],t[1]):t};var k=l(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function h(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var C=1;function y(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function d(t,e){return-1!==t.indexOf(e,t.length-e.length)}function v(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function m(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function g(t){return Array.isArray(t)?t.map(g):"object"==typeof t&&t?v(t,g):t}var D={};function b(t){D[t]||("undefined"!=typeof console&&console.warn(t),D[t]=!0)}function w(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function _(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],e+=((a=t[i]).x-o.x)*(o.y+a.y);return e}var A={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(A);var R=function(t){function e(e,n,r){t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function z(t){var e=new self.XMLHttpRequest;for(var n in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}var I=function S(t,e){var n=z(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new R(n.statusText,n.status,t.url))},n.send(),n};function M(t,e,n){n[t]=n[t]||[],n[t].push(e)}function V(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var F=function B(t,e){void 0===e&&(e={}),h(this,e),this.type=t},N=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",h({error:e},n))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F),U=function I(){};U.prototype.on=function(t,e){return this._listeners=this._listeners||{},M(t,e,this._listeners),this},U.prototype.off=function(t,e){return V(t,e,this._listeners),V(t,e,this._oneTimeListeners),this},U.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},M(t,e,this._oneTimeListeners),this},U.prototype.fire=function(t){"string"==typeof t&&(t=new F(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){t.target=this;for(var n=0,r=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];n<r.length;n+=1)r[n].call(this,t);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];i<o.length;i+=1){var a=o[i];V(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(h(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else d(e,"error")?console.error(t&&t.error||t||"Empty error event"):d(e,"warning")&&console.warn(t&&t.warning||t||"Empty warning event");return this},U.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},U.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var j={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"line-gradient":{type:"color",function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}]}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}}},G=function F(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function P(t){var e=t.key,n=t.value;return n?[new G(e,n,"constants have been deprecated as of v8")]:[]}function T(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function O(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function L(t){return Array.isArray(t)?t.map(L):O(t)}var W=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),q=function q(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};q.prototype.concat=function(t){return new q(this,t)},q.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},q.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var K={kind:"null"},Z={kind:"number"},$={kind:"string"},J={kind:"boolean"},Q={kind:"color"},tt={kind:"object"},it={kind:"value"},ot={kind:"collator"};function H(t,e){return{kind:"array",itemType:t,N:e}}function X(t){if("array"===t.kind){var e=X(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var at=[K,Z,$,J,Q,tt,H(it)];function Y(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!Y(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=at;n<r.length;n+=1)if(!Y(r[n],e))return null}return"Expected "+X(t)+" but found "+X(e)+" instead."}var st=n((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),f=i.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),p];case"hsla":if(4!==f.length)return null;p=a(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,h=a(f[1]),g=a(f[2]),y=g<=.5?g*(h+1):g+h-g*h,m=2*g-y;return[n(255*s(m,y,d+1/3)),n(255*s(m,y,d)),n(255*s(m,y,d-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,ut=function Q(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};ut.parse=function(t){if(t){if(t instanceof ut)return t;if("string"==typeof t){var e=st(t);if(e)return new ut(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ut.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},ut.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},ut.black=new ut(0,0,0,1),ut.white=new ut(1,1,1,1),ut.transparent=new ut(0,0,0,0);var lt=function tt(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};lt.prototype.compare=function(t,e){return this.collator.compare(t,e)},lt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ct=function et(t,e,n){this.type=ot,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function rt(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function nt(t){if(null===t)return K;if("string"==typeof t)return $;if("boolean"==typeof t)return J;if("number"==typeof t)return Z;if(t instanceof ut)return Q;if(t instanceof lt)return ot;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=nt(i[r]);if(e){if(e===o)continue;e=it;break}e=o}return H(e||it,n)}return tt}ct.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,J);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,J);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,$))?null:new ct(r,i,o)},ct.prototype.evaluate=function(t){return new lt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ct.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ct.prototype.possibleOutputs=function(){return[void 0]},ct.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var ft=function it(t,e){this.type=t,this.value=e};ft.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ut)return!0;if(e instanceof lt)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],r=nt(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ft(r,n)},ft.prototype.evaluate=function(){return this.value},ft.prototype.eachChild=function(){},ft.prototype.possibleOutputs=function(){return[this.value]},ft.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ut?["rgba"].concat(this.value.toArray()):this.value};var pt=function ot(t){this.name="ExpressionEvaluationError",this.message=t};pt.prototype.toJSON=function(){return this.message};var ht={string:$,number:Z,boolean:J,object:tt},yt=function st(t,e){this.type=t,this.args=e};yt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=ht[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,it);if(!a)return null;i.push(a)}return new yt(r,i)},yt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Y(this.type,nt(n)))return n;if(e===this.args.length-1)throw new pt("Expected value to be of type "+X(this.type)+", but found "+X(nt(n))+" instead.")}return null},yt.prototype.eachChild=function(t){this.args.forEach(t)},yt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},yt.prototype.serialize=function(){return[this.type.kind].concat(this.args.map((function(t){return t.serialize()})))};var mt={string:$,number:Z,boolean:J},_t=function lt(t,e){this.type=t,this.input=e};_t.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var n,r;if(t.length>2){var i=t[1];if("string"!=typeof i||!(i in mt))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=mt[i]}else n=it;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);r=t[2]}var o=H(n,r),a=e.parse(t[t.length-1],t.length-1,it);return a?new _t(o,a):null},_t.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(Y(this.type,nt(e)))throw new pt("Expected value to be of type "+X(this.type)+", but found "+X(nt(e))+" instead.");return e},_t.prototype.eachChild=function(t){t(this.input)},_t.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},_t.prototype.serialize=function(){var t=["array"],e=this.type.itemType;if("string"===e.kind||"number"===e.kind||"boolean"===e.kind){t.push(e.kind);var n=this.type.N;"number"==typeof n&&t.push(n)}return t.push(this.input.serialize()),t};var bt={"to-number":Z,"to-color":Q},St=function ct(t,e){this.type=t,this.args=e};St.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=bt[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,it);if(!a)return null;i.push(a)}return new St(r,i)},St.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1)if(n=null,"string"==typeof(e=i[r].evaluate(t))){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":rt(e[0],e[1],e[2],e[3])))return new ut(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new pt(n||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}for(var a=null,s=0,u=this.args;s<u.length;s+=1)if(null!==(a=u[s].evaluate(t))){var l=Number(a);if(!isNaN(l))return l}throw new pt("Could not convert "+JSON.stringify(a)+" to number.")},St.prototype.eachChild=function(t){this.args.forEach(t)},St.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},St.prototype.serialize=function(){var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Et=["Unknown","Point","LineString","Polygon"],Tt=function ft(){this._parseColorCache={}};Tt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Tt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Et[this.feature.type]:this.feature.type:null},Tt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Tt.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ut.parse(t)),e};var At=function yt(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};function dt(t){if(t instanceof At){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!dt(t)&&(e=!1)})),e}function vt(t,e){if(t instanceof At&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!vt(t,e)&&(n=!1)})),n}At.prototype.evaluate=function(t){return this._evaluate(t,this.args)},At.prototype.eachChild=function(t){this.args.forEach(t)},At.prototype.possibleOutputs=function(){return[void 0]},At.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},At.parse=function(t,e){var n=t[0],r=At.definitions[n];if(!r)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),s=[],u=1;u<t.length;u++){var l=t[u],c=void 0;if(1===a.length){var f=a[0][0];c=Array.isArray(f)?f[u-1]:f.type}var p=e.parse(l,1+s.length,c);if(!p)return null;s.push(p)}for(var d=null,h=0,g=a;h<g.length;h+=1){var y=g[h],m=y[0],v=y[1];if(d=new Ft(e.registry,e.path,null,e.scope),Array.isArray(m)&&m.length!==s.length)d.error("Expected "+m.length+" arguments, but found "+s.length+" instead.");else{for(var _=0;_<s.length;_++){var b=Array.isArray(m)?m[_]:m.type,S=s[_];d.concat(_+1).checkSubtype(b,S.type)}if(0===d.errors.length)return new At(n,i,v,s)}}if(1===a.length)e.errors.push.apply(e.errors,d.errors);else{var E=(a.length?a:o).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(X).join(", ")+")":"("+X(e.type)+"...)"})).join(" | "),x=s.map((function(t){return X(t.type)})).join(", ");e.error("Expected arguments of type "+E+", but found ("+x+") instead.")}return null},At.register=function(t,e){for(var n in At.definitions=e,e)t[n]=At};var Mt=function mt(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Mt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Mt(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Mt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Mt.prototype.eachChild=function(){},Mt.prototype.possibleOutputs=function(){return[void 0]},Mt.prototype.serialize=function(){return["var",this.name]};var Ft=function gt(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new q),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function xt(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)],r=t[a+1],e===n||e>n&&e<r)return a;if(n<e)i=a+1;else{if(!(n>e))throw new pt("Input is not a number.");o=a-1}}return Math.max(a-1,0)}Ft.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Ft.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[n];if(r){var i=r.parse(t,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,a=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind||"value"!==a.kind)if("array"===o.kind&&"value"===a.kind)e.omitTypeAnnotations||(i=new _t(o,i));else if("color"!==o.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,i.type))return null}else e.omitTypeAnnotations||(i=new St(o,[i]));else e.omitTypeAnnotations||(i=new yt(o,[i]))}if(!(i instanceof ft)&&function t(e){if(e instanceof Mt)return t(e.boundExpression);if(e instanceof At&&"error"===e.name)return!1;if(e instanceof ct)return!1;var n=e instanceof St||e instanceof yt||e instanceof _t,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof ft})),!!r&&dt(e)&&vt(e,["zoom","heatmap-density","line-progress","is-supported-script"])}(i)){var s=new Tt;try{i=new ft(i.type,i.evaluate(s))}catch(t){return this.error(t.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Ft.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Ft(this.registry,r,e||null,i,this.errors)},Ft.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new W(r,t))},Ft.prototype.checkSubtype=function(t,e){var n=Y(t,e);return n&&this.error(n),n};var Bt=function bt(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function wt(t,e,n){return t*(1-n)+e*n}Bt.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,Z)))return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],u=r[a+1],l=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(i.length&&i[i.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var f=e.parse(u,c,o);if(!f)return null;o=o||f.type,i.push([s,f])}return new Bt(o,n,i)},Bt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[xt(e,r)].evaluate(t)},Bt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Bt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})));var t},Bt.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var zt=Object.freeze({number:wt,color:function color(t,e,n){return new ut(wt(t.r,e.r,n),wt(t.g,e.g,n),wt(t.b,e.b,n),wt(t.a,e.a,n))},array:function array(t,e,n){return t.map((function(t,r){return wt(t,e[r],n)}))}}),Vt=function At(t,e,n,r){this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(var i=0,o=r;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1];this.labels.push(s),this.outputs.push(u)}};function kt(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}Vt.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=kt(e,t.base,n,r);else if("linear"===t.name)i=kt(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new s(o[0],o[1],o[2],o[3]).solve(kt(e,1,n,r))}return i},Vt.parse=function(t,e){var n=t[1],r=t[2],i=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,Z)))return null;var s=[],u=null;e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var l=0;l<i.length;l+=2){var c=i[l],f=i[l+1],p=l+3,d=l+4;if("number"!=typeof c)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(s.length&&s[s.length-1][0]>=c)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var h=e.parse(f,d,u);if(!h)return null;u=u||h.type,s.push([c,h])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Vt(u,n,r,s):e.error("Type "+X(u)+" is not interpolatable.")},Vt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=xt(e,r),a=e[o],s=e[o+1],u=Vt.interpolationFactor(this.interpolation,r,a,s),l=n[o].evaluate(t),c=n[o+1].evaluate(t);return zt[this.type.kind.toLowerCase()](l,c,u)},Vt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Vt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})));var t},Vt.prototype.serialize=function(){for(var t=["interpolate","linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints),this.input.serialize()],e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t};var Gt=function zt(t,e){this.type=t,this.args=e};Gt.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],u=e.parse(s,1+i.length,n,void 0,{omitTypeAnnotations:!0});if(!u)return null;n=n||u.type,i.push(u)}var l=r&&i.some((function(t){return Y(r,t.type)}));return new Gt(l?it:n,i)},Gt.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length&&null===(e=r[n].evaluate(t));n+=1);return e},Gt.prototype.eachChild=function(t){this.args.forEach(t)},Gt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},Gt.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Wt=function St(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Wt.prototype.evaluate=function(t){return this.result.evaluate(t)},Wt.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},Wt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,void 0,n);return a?new Wt(n,a):null},Wt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Wt.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var Ht=function Mt(t,e,n){this.type=t,this.index=e,this.input=n};Ht.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Z),r=e.parse(t[2],2,H(e.expectedType||it));if(!n||!r)return null;var i=r.type;return new Ht(i.itemType,n,r)},Ht.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new pt("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new pt("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new pt("Array index must be an integer, but found "+e+" instead.");return n[e]},Ht.prototype.eachChild=function(t){t(this.index),t(this.input)},Ht.prototype.possibleOutputs=function(){return[void 0]},Ht.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Yt=function Vt(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Yt.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var p=f[c];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,nt(p)))return null}else n=nt(p);if(void 0!==i[String(p)])return l.error("Branch labels must be unique.");i[String(p)]=o.length}var d=e.parse(u,a,r);if(!d)return null;r=r||d.type,o.push(d)}var h=e.parse(t[1],1,n);if(!h)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?new Yt(n,r,h,i,o,g):null},Yt.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Yt.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Yt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs());var t},Yt.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i],s=r[t.cases[a]];void 0===s?(r[t.cases[a]]=n.length,n.push([t.cases[a],[a]])):n[s][1].push(a)}for(var l=function u(e){return"number"===t.input.type.kind?Number(e):e},c=0,f=n;c<f.length;c+=1){var p=f[c],d=p[0],h=p[1];1===h.length?e.push(l(h[0])):e.push(h.map(l)),e.push(t.outputs[d].serialize())}return e.push(this.otherwise.serialize()),e};var Xt=function Bt(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Ct(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function It(t,e){return function(){function r(t,e,n){this.type=J,this.lhs=t,this.rhs=e,this.collator=n}return r.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=e.parse(t[1],1,it);if(!n)return null;var i=e.parse(t[2],2,it);if(!i)return null;if(!Ct(n.type)&&!Ct(i.type))return e.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+X(n.type)+", "+X(i.type)+") instead.");if(n.type.kind!==i.type.kind&&"value"!==n.type.kind&&"value"!==i.type.kind)return e.error("Cannot compare "+X(n.type)+" and "+X(i.type)+".");var o=null;if(4===t.length){if("string"!==n.type.kind&&"string"!==i.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(o=e.parse(t[3],3,ot)))return null}return new r(n,i,o)},r.prototype.evaluate=function(t){var n=this.collator?0===this.collator.evaluate(t).compare(this.lhs.evaluate(t),this.rhs.evaluate(t)):this.lhs.evaluate(t)===this.rhs.evaluate(t);return e?!n:n},r.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},r.prototype.possibleOutputs=function(){return[!0,!1]},r.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},r}()}Xt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,J);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Xt(n,r,s):null},Xt.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Xt.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},Xt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs());var t},Xt.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var $t=It("==",!1),Jt=It("!=",!0),Qt=function Pt(t){this.type=Z,this.input=t};Qt.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+X(n.type)+" instead."):new Qt(n):null},Qt.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new pt("Expected value to be of type string or array, but found "+X(nt(e))+" instead.")},Qt.prototype.eachChild=function(t){t(this.input)},Qt.prototype.possibleOutputs=function(){return[void 0]},Qt.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var te={"==":$t,"!=":Jt,array:_t,at:Ht,boolean:yt,case:Xt,coalesce:Gt,collator:ct,interpolate:Vt,length:Qt,let:Wt,literal:ft,match:Yt,number:yt,object:yt,step:Bt,string:yt,"to-color":St,"to-number":St,var:Mt};function Ot(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=rt(n,r,i,a);if(s)throw new pt(s);return new ut(n/255*a,r/255*a,i/255*a,a)}function Lt(t,e){return t in e}function jt(t,e){var n=e[t];return void 0===n?null:n}function qt(t,e){var n=e[0],r=e[1];return n.evaluate(t)<r.evaluate(t)}function Rt(t,e){var n=e[0],r=e[1];return n.evaluate(t)>r.evaluate(t)}function Ut(t,e){var n=e[0],r=e[1];return n.evaluate(t)<=r.evaluate(t)}function Dt(t,e){var n=e[0],r=e[1];return n.evaluate(t)>=r.evaluate(t)}function Nt(t){return{type:t}}function Zt(t){return{result:"success",value:t}}function Kt(t){return{result:"error",value:t}}At.register(te,{error:[{kind:"error"},[$],function(t,e){var n=e[0];throw new pt(n.evaluate(t))}],typeof:[$,[it],function(t,e){return X(nt(e[0].evaluate(t)))}],"to-string":[$,[it],function(t,e){var n=e[0],r=typeof(n=n.evaluate(t));return null===n?"":"string"===r||"number"===r||"boolean"===r?String(n):n instanceof ut?n.toString():JSON.stringify(n)}],"to-boolean":[J,[it],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[H(Z,4),[Q],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Q,[Z,Z,Z],Ot],rgba:[Q,[Z,Z,Z,Z],Ot],has:{type:J,overloads:[[[$],function(t,e){return Lt(e[0].evaluate(t),t.properties())}],[[$,tt],function(t,e){var n=e[0],r=e[1];return Lt(n.evaluate(t),r.evaluate(t))}]]},get:{type:it,overloads:[[[$],function(t,e){return jt(e[0].evaluate(t),t.properties())}],[[$,tt],function(t,e){var n=e[0],r=e[1];return jt(n.evaluate(t),r.evaluate(t))}]]},properties:[tt,[],function(t){return t.properties()}],"geometry-type":[$,[],function(t){return t.geometryType()}],id:[it,[],function(t){return t.id()}],zoom:[Z,[],function(t){return t.globals.zoom}],"heatmap-density":[Z,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Z,[],function(t){return t.globals.lineProgress||0}],"+":[Z,Nt(Z),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Z,Nt(Z),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Z,overloads:[[[Z,Z],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[Z],function(t,e){return-e[0].evaluate(t)}]]},"/":[Z,[Z,Z],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[Z,[Z,Z],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[Z,[],function(){return Math.LN2}],pi:[Z,[],function(){return Math.PI}],e:[Z,[],function(){return Math.E}],"^":[Z,[Z,Z],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[Z,[Z],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[Z,[Z],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[Z,[Z],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[Z,[Z],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[Z,[Z],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[Z,[Z],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[Z,[Z],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[Z,[Z],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[Z,[Z],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[Z,[Z],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[Z,Nt(Z),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Z,Nt(Z),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Z,[Z],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[Z,[Z],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Z,[Z],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[Z,[Z],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[J,[$,it],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[J,[it],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[J,[$],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[J,[$,it],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[J,[it],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[J,[$,it],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[J,[it],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[J,[$,it],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[J,[it],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[J,[$,it],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[J,[it],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[J,[it],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[J,[],function(t){return null!==t.id()}],"filter-type-in":[J,[H($)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[J,[H(it)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[J,[$,H(it)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[J,[$,H(it)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],">":{type:J,overloads:[[[Z,Z],Rt],[[$,$],Rt],[[$,$,ot],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))>0}]]},"<":{type:J,overloads:[[[Z,Z],qt],[[$,$],qt],[[$,$,ot],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))<0}]]},">=":{type:J,overloads:[[[Z,Z],Dt],[[$,$],Dt],[[$,$,ot],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))>=0}]]},"<=":{type:J,overloads:[[[Z,Z],Ut],[[$,$],Ut],[[$,$,ot],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))<=0}]]},all:{type:J,overloads:[[[J,J],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[Nt(J),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:J,overloads:[[[J,J],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[Nt(J),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[J,[J],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[J,[$],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[$,[$],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[$,[$],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[$,Nt($),function(t,e){return e.map((function(e){return e.evaluate(t)})).join("")}],"resolved-locale":[$,[ot],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var se=.95047,ue=1,le=1.08883,_e=4/29,Pe=6/29,Ge=3*Pe*Pe,tn=Pe*Pe*Pe,en=Math.PI/180,nn=180/Math.PI;function ee(t){return t>tn?Math.pow(t,1/3):t/Ge+_e}function re(t){return t>Pe?t*t*t:Ge*(t-_e)}function ne(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ie(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function oe(t){var e=ie(t.r),n=ie(t.g),r=ie(t.b),i=ee((.4124564*e+.3575761*n+.1804375*r)/se),o=ee((.2126729*e+.7151522*n+.072175*r)/ue);return{l:116*o-16,a:500*(i-o),b:200*(o-ee((.0193339*e+.119192*n+.9503041*r)/le)),alpha:t.a}}function ae(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=ue*re(e),n=se*re(n),r=le*re(r),new ut(ne(3.2404542*n-1.5371385*e-.4985314*r),ne(-.969266*n+1.8760108*e+.041556*r),ne(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}var rn={forward:oe,reverse:ae,interpolate:function interpolate(t,e,n){return{l:wt(t.l,e.l,n),a:wt(t.a,e.a,n),b:wt(t.b,e.b,n),alpha:wt(t.alpha,e.alpha,n)}}},on={forward:function forward(t){var e=oe(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*nn;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function reverse(t){var e=t.h*en,n=t.c;return ae({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function interpolate(t,e,n){return{h:function(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}(t.h,e.h,n),c:wt(t.c,e.c,n),l:wt(t.l,e.l,n),alpha:wt(t.alpha,e.alpha,n)}}},an=Object.freeze({lab:rn,hcl:on});function pe(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ce(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function he(t){return t}function fe(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function ye(t,e,n,r,i){return fe(typeof n===i?r[n]:void 0,t.default,e.default)}function de(t,e,n){if("number"!==pe(n))return fe(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=ge(t.stops,n);return t.stops[i][1]}function ve(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==pe(n))return fe(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=ge(t.stops,n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],c=zt[e.type]||he;if(t.colorSpace&&"rgb"!==t.colorSpace){var f=an[t.colorSpace];c=function l(t,e){return f.reverse(f.interpolate(f.forward(t),f.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function evaluate(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return c(n,r,a)}}:c(s,u,a)}function me(t,e,n){return"color"===e.type?n=ut.parse(n):pe(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),fe(n,t.default,e.default)}function ge(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)][0],r=t[a+1][0],e===n||e>n&&e<r)return a;n<e?i=a+1:n>e&&(o=a-1)}return Math.max(a-1,0)}var sn=function xe(t,e){var n;this.expression=t,this._warningHistory={},this._defaultValue="color"===(n=e).type&&ce(n.default)?new ut(0,0,0,0):"color"===n.type?ut.parse(n.default)||null:void 0===n.default?null:n.default,"enum"===e.type&&(this._enumValues=e.values)};function be(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in te}function we(t,e){var n=new Ft(te,[],function(t){var e={color:Q,string:$,number:Z,enum:$,boolean:J};return"array"===t.type?H(e[t.value]||it,t.length):e[t.type]||null}(e)),r=n.parse(t);return r?Zt(new sn(r,e)):Kt(n.errors)}sn.prototype.evaluateWithoutErrorHandling=function(t,e){return this._evaluator||(this._evaluator=new Tt),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)},sn.prototype.evaluate=function(t,e){this._evaluator||(this._evaluator=new Tt),this._evaluator.globals=t,this._evaluator.feature=e;try{var n=this.expression.evaluate(this._evaluator);if(null==n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new pt("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var un=function _e(t,e){this.kind=t,this._styleExpression=e};un.prototype.evaluateWithoutErrorHandling=function(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)},un.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)};var ln=function Ae(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,n instanceof Vt&&(this._interpolationType=n.interpolation)};function ke(t,e){if("error"===(t=we(t,e)).result)return t;var n=t.value.expression,r=dt(n);if(!r&&!e["property-function"])return Kt([new W("","property expressions not supported")]);var i=vt(n,["zoom"]);if(!i&&!1===e["zoom-function"])return Kt([new W("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof Wt)n=t(e.result);else if(e instanceof Gt)for(var r=0,i=e.args;r<i.length;r+=1){var o=i[r];if(n=t(o))break}else(e instanceof Bt||e instanceof Vt)&&e.input instanceof At&&"zoom"===e.input.name&&(n=e);return n instanceof W?n:(e.eachChild((function(e){var r=t(e);r instanceof W?n=r:!n&&r?n=new W("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new W("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n)}(n);return o||i?o instanceof W?Kt([o]):o instanceof Vt&&"piecewise-constant"===e.function?Kt([new W("",'"interpolate" expressions cannot be used with this property')]):Zt(o?new ln(r?"camera":"composite",t.value,o):new un(r?"constant":"source",t.value)):Kt([new W("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}ln.prototype.evaluateWithoutErrorHandling=function(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)},ln.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)},ln.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?Vt.interpolationFactor(this._interpolationType,t,e,n):0};var cn=function ze(t,e){this._parameters=t,this._specification=e,T(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,c=e.type||("interpolated"===n.function?"exponential":"interval");if(a&&((e=T({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],ut.parse(t[1])]}))),e.default?e.default=ut.parse(e.default):e.default=ut.parse(n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!an[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)r=ve;else if("interval"===c)r=de;else if("categorical"===c){r=ye,i=Object.create(null);for(var f=0,p=e.stops;f<p.length;f+=1){var d=p[f];i[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');r=me}if(s){for(var h={},g=[],y=0;y<e.stops.length;y++){var m=e.stops[y],v=m[0].zoom;void 0===h[v]&&(h[v]={zoom:v,type:e.type,property:e.property,default:e.default,stops:[]},g.push(v)),h[v].stops.push([m[0].value,m[1]])}for(var _=[],b=0,S=g;b<S.length;b+=1){var E=S[b];_.push([h[E].zoom,t(h[E],n)])}return{kind:"composite",interpolationFactor:Vt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map((function(t){return t[0]})),evaluate:function evaluate(t,r){var i=t.zoom;return ve({stops:_,base:e.base},n,i).evaluate(i,r)}}}return l?{kind:"camera",interpolationFactor:"exponential"===c?Vt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function evaluate(t){var a=t.zoom;return r(e,n,a,i,o)}}:{kind:"source",evaluate:function evaluate(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?fe(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function Se(t,e){if(ce(t))return new cn(t,e);if(be(t)){var n=ke(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=ut.parse(t)),{kind:"constant",evaluate:function evaluate(){return r}}}function Me(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=pe(n);if("object"!==u)return[new G(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=Ye;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new G(e,n[l],'unknown property "'+l+'"'));continue}p=Ye}s=s.concat(p({key:(e?e+".":e)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new G(e,n,'missing required property "'+d+'"'));return s}function Ve(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Ye;if("array"!==pe(e))return[new G(o,e,"array expected, "+pe(e)+" found")];if(n.length&&e.length!==n.length)return[new G(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new G(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value};i.$version<7&&(s.function=n.function),"object"===pe(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function Be(t){var e=t.key,n=t.value,r=t.valueSpec,i=pe(n);return"number"!==i?[new G(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new G(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new G(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Ce(t){var e,n,r,i=t.valueSpec,o=O(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===pe(t.value.stops)&&"array"===pe(t.value.stops[0])&&"object"===pe(t.value.stops[0][0]),f=Me({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function stops(t){if("identity"===o)return[new G(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Ve({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:c})),"array"===pe(n)&&0===n.length&&e.push(new G(t.key,n,"array must have at least one stop")),e},default:function _default(t){return Ye({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&f.push(new G(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||f.push(new G(t.key,t.value,'missing required property "stops"')),"exponential"===o&&"piecewise-constant"===t.valueSpec.function&&f.push(new G(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!t.valueSpec["property-function"]?f.push(new G(t.key,t.value,"property functions not supported")):s&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&"line-gradient"!==t.objectKey&&f.push(new G(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||f.push(new G(t.key,t.value,'"property" property is required')),f;function c(t){var e=[],o=t.value,s=t.key;if("array"!==pe(o))return[new G(s,o,"array expected, "+pe(o)+" found")];if(2!==o.length)return[new G(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==pe(o[0]))return[new G(s,o,"object expected, "+pe(o[0])+" found")];if(void 0===o[0].zoom)return[new G(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new G(s,o,"object stop key must have value")];if(r&&r>O(o[0].zoom))return[new G(s,o[0].zoom,"stop zoom values must appear in ascending order")];O(o[0].zoom)!==r&&(r=O(o[0].zoom),n=void 0,a={}),e=e.concat(Me({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Be,value:h}}))}else e=e.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return e.concat(Ye({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=pe(t.value),u=O(t.value),l=null!==t.value?t.value:r;if(e){if(s!==e)return[new G(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new G(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return i["property-function"]&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new G(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new G(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new G(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new G(t.key,l,"integer expected, found "+u)]}}function Ie(t){var e=("property"===t.expressionContext?ke:we)(L(t.value),t.valueSpec);return"error"===e.result?e.value.map((function(e){return new G(""+t.key+e.key,t.value,e.message)})):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new G(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}function Ee(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(O(n))&&i.push(new G(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(O(n))&&i.push(new G(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function Fe(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!Fe(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}cn.deserialize=function(t){return new cn(t._parameters,t._specification)},cn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var fn={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0};function Te(t){if(!t)return function(){return!0};Fe(t)||(t=Le(t));var e=we(t,fn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function Oe(t,e){return t<e?-1:t>e?1:0}function Le(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?je(t[1],t[2],"=="):"!="===n?Ue(je(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?je(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Le))):"all"===n?["all"].concat(t.slice(1).map(Le)):"none"===n?["all"].concat(t.slice(1).map(Le).map(Ue)):"in"===n?qe(t[1],t.slice(2)):"!in"===n?Ue(qe(t[1],t.slice(2))):"has"===n?Re(t[1]):"!has"!==n||Ue(Re(t[1]))}function je(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function qe(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Oe)]]:["filter-in-small",t,["literal",e]]}}function Re(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ue(t){return["!",t]}function De(t){return Fe(L(t.value))?Ie(T({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==pe(n))return[new G(r,n,"array expected, "+pe(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new G(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Ee({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),O(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===O(n[1])&&a.push(new G(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new G(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=pe(n[1]))&&a.push(new G(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=pe(n[s]),"$type"===O(n[1])?a=a.concat(Ee({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new G(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:r+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=pe(n[1]),2!==n.length?a.push(new G(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new G(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Ne(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return Ye({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||s[a];if(!c)return[new G(n,o,'unknown property "'+a+'"')];if("string"===pe(o)&&c["property-function"]&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new G(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new G(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ce(L(o))&&"identity"===O(o.type)&&f.push(new G(n,o,'"text-font" does not support identity functions'))),f.concat(Ye({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyKey:a}))}function Ze(t){return Ne(t,"paint")}function Ke(t){return Ne(t,"layout")}function Je(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new G(r,n,'either "type" or "ref" is required'));var a,s=O(n.type),u=O(n.ref);if(n.id)for(var l=O(n.id),c=0;c<t.arrayIndex;c++){var f=i.layers[c];O(f.id)===l&&e.push(new G(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new G(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){O(t.id)===u&&(a=t)})),a?a.ref?e.push(new G(r,n.ref,"ref cannot reference another ref layer")):s=O(a.type):e.push(new G(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],d=p&&O(p.type);p?"vector"===d&&"raster"===s?e.push(new G(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new G(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new G(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||e.push(new G(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new G(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new G(r,n.source,'source "'+n.source+'" not found'))}else e.push(new G(r,n,'missing required property "source"'));return e=e.concat(Me({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(){return[]},type:function type(){return Ye({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:De,layout:function layout(t){return Me({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Ke(T({layerType:s},t))}}})},paint:function paint(t){return Me({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Ze(T({layerType:s},t))}}})}}}))}function $e(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new G(n,e,'"type" is required')];var o=O(e.type),a=[];switch(o){case"vector":case"raster":case"raster-dem":if(a=a.concat(Me({key:n,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new G(n+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return Me({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r});case"video":return Me({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Me({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return a.push(new G(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return Ee({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function He(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=pe(e);if(void 0===e)return o;if("object"!==a)return o.concat([new G("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=u&&r[u[1]]&&r[u[1]].transition?o.concat(Ye({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(Ye({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new G(s,e[s],'unknown property "'+s+'"')])}return o}function Xe(t){var e=t.value,n=t.key,r=pe(e);return"string"!==r?[new G(n,e,"string expected, "+r+" found")]:[]}var pn={"*":function _(){return[]},array:Ve,boolean:function boolean(t){var e=t.value,n=t.key,r=pe(e);return"boolean"!==r?[new G(n,e,"boolean expected, "+r+" found")]:[]},number:Be,color:function color(t){var e=t.key,n=t.value,r=pe(n);return"string"!==r?[new G(e,n,"color expected, "+r+" found")]:null===st(n)?[new G(e,n,'color expected, "'+n+'" found')]:[]},constants:P,enum:Ee,filter:De,function:Ce,layer:Je,object:Me,source:$e,light:He,string:Xe};function Ye(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.function&&ce(O(e))?Ce(t):n.function&&be(L(e))?Ie(t):n.type&&pn[n.type]?pn[n.type](t):Me(T({},t,{valueSpec:n.type?r[n.type]:n}))}function We(t){var e=t.value,n=t.key,r=Xe(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new G(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new G(n,e,'"glyphs" url must include a "{range}" token')),r)}function Qe(t,e){e=e||j;var n=[];return n=n.concat(Ye({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:We,"*":function _(){return[]}}})),t.constants&&(n=n.concat(P({key:"constants",value:t.constants,style:t,styleSpec:e}))),tr(n)}function tr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function er(t){return function(){return tr(t.apply(this,arguments))}}Qe.source=er($e),Qe.light=er(He),Qe.layer=er(Je),Qe.filter=er(De),Qe.paintProperty=er(Ze),Qe.layoutProperty=er(Ke);var dn=Qe,hn=Qe.light,gn=Qe.paintProperty,yn=Qe.layoutProperty;function ar(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1){var o=i[r];t.fire(new N(new Error(o.message))),n=!0}return n}var mn=lr,vn=3;function lr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var o=0;o<this.d*this.d;o++){var a=i[vn+o],s=i[vn+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[vn+r.length],l=i[vn+r.length+1];this.keys=i.subarray(u,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var f=n/e*t;this.min=-f,this.max=t+f}lr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},lr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},lr.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,n,r,this._queryCell,a,{}),a},lr.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var p=4*f;t<=l[p+2]&&e<=l[p+3]&&n>=l[p+0]&&r>=l[p+1]?(a[f]=!0,o.push(u[f])):a[f]=!1}}},lr.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var p=u;p<=c;p++){var d=this.d*p+f;if(i.call(this,t,e,n,r,d,o,a))return}},lr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=vn+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[vn+a]=o,i.set(s,o),o+=s.length}return i[vn+t.length]=o,i.set(this.keys,o),o+=this.keys.length,i[vn+t.length+1]=o,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var _n=self.ImageData,bn={};function hr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),bn[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var xn in hr("Object",Object),mn.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),n},mn.deserialize=function(t){return new mn(t)},hr("Grid",mn),hr("Color",ut),hr("Error",Error),hr("StylePropertyFunction",cn),hr("StyleExpression",sn,{omit:["_evaluator"]}),hr("ZoomDependentExpression",ln),hr("ZoomConstantExpression",un),hr("CompoundExpression",At,{omit:["_evaluate"]}),te)te[xn]._classRegistryKey||hr("Expression_"+xn,te[xn]);function yr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof _n)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1){var a=o[i];r.push(yr(a,e))}return r}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l={};if(s.serialize)l._serialized=s.serialize(t,e);else{for(var c in t)if(t.hasOwnProperty(c)&&!(bn[u].omit.indexOf(c)>=0)){var f=t[c];l[c]=bn[u].shallow.indexOf(c)>=0?f:yr(f,e)}t instanceof Error&&(l.message=t.message)}return{name:u,properties:l}}throw new Error("can't serialize object of type "+typeof t)}function dr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof _n)return t;if(Array.isArray(t))return t.map((function(t){return dr(t)}));if("object"==typeof t){var e=t,n=e.name,r=e.properties;if(!n)throw new Error("can't deserialize object of anonymous class");var i=bn[n].klass;if(!i)throw new Error("can't deserialize unregistered class "+n);if(i.deserialize)return i.deserialize(r._serialized);for(var o=Object.create(i.prototype),a=0,s=Object.keys(r);a<s.length;a+=1){var u=s[a];o[u]=bn[n].shallow.indexOf(u)>=0?r[u]:dr(r[u])}return o}throw new Error("can't deserialize object of type "+typeof t)}var wn=function vr(){this.first=!0};wn.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Tn={"Latin-1 Supplement":function Latin1Supplement(t){return t>=128&&t<=255},Arabic:function Arabic(t){return t>=1536&&t<=1791},"Arabic Supplement":function ArabicSupplement(t){return t>=1872&&t<=1919},"Arabic Extended-A":function ArabicExtendedA(t){return t>=2208&&t<=2303},"Hangul Jamo":function HangulJamo(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function UnifiedCanadianAboriginalSyllabics(t){return t>=5120&&t<=5759},Khmer:function Khmer(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function UnifiedCanadianAboriginalSyllabicsExtended(t){return t>=6320&&t<=6399},"General Punctuation":function GeneralPunctuation(t){return t>=8192&&t<=8303},"Letterlike Symbols":function LetterlikeSymbols(t){return t>=8448&&t<=8527},"Number Forms":function NumberForms(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function MiscellaneousTechnical(t){return t>=8960&&t<=9215},"Control Pictures":function ControlPictures(t){return t>=9216&&t<=9279},"Optical Character Recognition":function OpticalCharacterRecognition(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function EnclosedAlphanumerics(t){return t>=9312&&t<=9471},"Geometric Shapes":function GeometricShapes(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function MiscellaneousSymbols(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function MiscellaneousSymbolsAndArrows(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function CJKRadicalsSupplement(t){return t>=11904&&t<=12031},"Kangxi Radicals":function KangxiRadicals(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function IdeographicDescriptionCharacters(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function CJKSymbolsAndPunctuation(t){return t>=12288&&t<=12351},Hiragana:function Hiragana(t){return t>=12352&&t<=12447},Katakana:function Katakana(t){return t>=12448&&t<=12543},Bopomofo:function Bopomofo(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function HangulCompatibilityJamo(t){return t>=12592&&t<=12687},Kanbun:function Kanbun(t){return t>=12688&&t<=12703},"Bopomofo Extended":function BopomofoExtended(t){return t>=12704&&t<=12735},"CJK Strokes":function CJKStrokes(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function KatakanaPhoneticExtensions(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function EnclosedCJKLettersAndMonths(t){return t>=12800&&t<=13055},"CJK Compatibility":function CJKCompatibility(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function CJKUnifiedIdeographsExtensionA(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function YijingHexagramSymbols(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function CJKUnifiedIdeographs(t){return t>=19968&&t<=40959},"Yi Syllables":function YiSyllables(t){return t>=40960&&t<=42127},"Yi Radicals":function YiRadicals(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function HangulJamoExtendedA(t){return t>=43360&&t<=43391},"Hangul Syllables":function HangulSyllables(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function HangulJamoExtendedB(t){return t>=55216&&t<=55295},"Private Use Area":function PrivateUseArea(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function CJKCompatibilityIdeographs(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function ArabicPresentationFormsA(t){return t>=64336&&t<=65023},"Vertical Forms":function VerticalForms(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function CJKCompatibilityForms(t){return t>=65072&&t<=65103},"Small Form Variants":function SmallFormVariants(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function ArabicPresentationFormsB(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function HalfwidthAndFullwidthForms(t){return t>=65280&&t<=65519}};function gr(t){for(var e=0,n=t;e<n.length;e+=1)if(br(n[e].charCodeAt(0)))return!0;return!1}function xr(t){return!Tn.Arabic(t)&&!Tn["Arabic Supplement"](t)&&!Tn["Arabic Extended-A"](t)&&!Tn["Arabic Presentation Forms-A"](t)&&!Tn["Arabic Presentation Forms-B"](t)}function br(t){return 746===t||747===t||!(t<4352)&&(!!Tn["Bopomofo Extended"](t)||!!Tn.Bopomofo(t)||!(!Tn["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!Tn["CJK Compatibility Ideographs"](t)||!!Tn["CJK Compatibility"](t)||!!Tn["CJK Radicals Supplement"](t)||!!Tn["CJK Strokes"](t)||!(!Tn["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!Tn["CJK Unified Ideographs Extension A"](t)||!!Tn["CJK Unified Ideographs"](t)||!!Tn["Enclosed CJK Letters and Months"](t)||!!Tn["Hangul Compatibility Jamo"](t)||!!Tn["Hangul Jamo Extended-A"](t)||!!Tn["Hangul Jamo Extended-B"](t)||!!Tn["Hangul Jamo"](t)||!!Tn["Hangul Syllables"](t)||!!Tn.Hiragana(t)||!!Tn["Ideographic Description Characters"](t)||!!Tn.Kanbun(t)||!!Tn["Kangxi Radicals"](t)||!!Tn["Katakana Phonetic Extensions"](t)||!(!Tn.Katakana(t)||12540===t)||!(!Tn["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Tn["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!Tn["Unified Canadian Aboriginal Syllabics"](t)||!!Tn["Unified Canadian Aboriginal Syllabics Extended"](t)||!!Tn["Vertical Forms"](t)||!!Tn["Yijing Hexagram Symbols"](t)||!!Tn["Yi Syllables"](t)||!!Tn["Yi Radicals"](t))}function wr(t){return!(br(t)||function(t){return!!(Tn["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Tn["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Tn["Letterlike Symbols"](t)||Tn["Number Forms"](t)||Tn["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Tn["Control Pictures"](t)&&9251!==t||Tn["Optical Character Recognition"](t)||Tn["Enclosed Alphanumerics"](t)||Tn["Geometric Shapes"](t)||Tn["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Tn["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Tn["CJK Symbols and Punctuation"](t)||Tn.Katakana(t)||Tn["Private Use Area"](t)||Tn["CJK Compatibility Forms"](t)||Tn["Small Form Variants"](t)||Tn["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function _r(t,e){return!(!e&&(t>=1424&&t<=2303||Tn["Arabic Presentation Forms-A"](t)||Tn["Arabic Presentation Forms-B"](t)))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||Tn.Khmer(t))}var Pn,kn=!1,An=null,In=!1,On=new U,zn={applyArabicShaping:null,processBidirectionalText:null,isLoaded:function isLoaded(){return In||null!=zn.applyArabicShaping}},Vn=function Br(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new wn,this.transition={})};Vn.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!_r(r[n].charCodeAt(0),e))return!1;return!0}(t,zn.isLoaded())},Vn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)};var Qn=function Cr(t,e){this.property=t,this.value=e,this.expression=Se(void 0===e?t.specification.default:e,t.specification)};Qn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Qn.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var nr=function Ir(t){this.property=t,this.value=new Qn(t,void 0)};nr.prototype.transitioned=function(t,e){return new ir(this.property,this.value,e,h({},t.transition,this.transition),t.now)},nr.prototype.untransitioned=function(){return new ir(this.property,this.value,null,{},0)};var rr=function Er(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};rr.prototype.getValue=function(t){return g(this._values[t].value.value)},rr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new nr(this._values[t].property)),this._values[t].value=new Qn(this._values[t].property,null===e?void 0:g(e))},rr.prototype.getTransition=function(t){return g(this._values[t].transition)},rr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new nr(this._values[t].property)),this._values[t].transition=g(e)||void 0},rr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},rr.prototype.transitioned=function(t,e){for(var n=new or(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},rr.prototype.untransitioned=function(){for(var t=new or(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var ir=function Fr(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};ir.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(i))}return n};var or=function Pr(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};or.prototype.possiblyEvaluate=function(t){for(var e=new cr(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e},or.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1};var sr=function Tr(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};sr.prototype.getValue=function(t){return g(this._values[t].value)},sr.prototype.setValue=function(t,e){this._values[t]=new Qn(this._values[t].property,null===e?void 0:g(e))},sr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},sr.prototype.possiblyEvaluate=function(t){for(var e=new cr(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e};var ur=function Or(t,e,n){this.property=t,this.value=e,this.globals=n};ur.prototype.isConstant=function(){return"constant"===this.value.kind},ur.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},ur.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var cr=function Lr(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};cr.prototype.get=function(t){return this._values[t]};var fr=function jr(t){this.specification=t};fr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},fr.prototype.interpolate=function(t,e,n){var r=zt[this.specification.type];return r?r(t,e,n):t};var pr=function qr(t){this.specification=t};pr.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new ur(this,{kind:"constant",value:t.expression.evaluate(e)},e):new ur(this,t.expression,e)},pr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new ur(this,{kind:"constant",value:void 0},t.globals);var r=zt[this.specification.type];return r?new ur(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.globals):t},pr.prototype.evaluate=function(t,e,n){return"constant"===t.kind?t.value:t.evaluate(e,n)};var mr=function Rr(t){this.specification=t};mr.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate(new Vn(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Vn(Math.floor(e.zoom),e)),t.expression.evaluate(new Vn(Math.floor(e.zoom+1),e)),e)}},mr.prototype._calculate=function(t,e,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.crossFadingFactor();return i>r.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}},mr.prototype.interpolate=function(t){return t};var vr=function Ur(t){this.specification=t};vr.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},vr.prototype.interpolate=function(){return!1};var Sr=function Dr(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[e],r=this.defaultPropertyValues[e]=new Qn(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new nr(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};hr("DataDrivenProperty",pr),hr("DataConstantProperty",fr),hr("CrossFadedProperty",mr),hr("ColorRampProperty",vr);var Er=function(t){function e(e,n){for(var r in t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},n.layout&&(this._unevaluatedLayout=new sr(n.layout)),this._transitionablePaint=new rr(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(yn,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},e.prototype.getPaintProperty=function(t){return d(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(gn,r,t,e,n))return}d(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),m(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&ar(this,t.call(dn,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:j,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(U),Tr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Pr=function Kr(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},kr=function Jr(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function $r(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i,o=(i=t.type,Tr[i].BYTES_PER_ELEMENT),a=n=Hr(n,Math.max(e,o)),s=t.components||1;return r=Math.max(r,o),n+=o*s,{name:t.name,type:t.type,components:s,offset:a}})),size:Hr(n,Math.max(r,e)),alignment:e}}function Hr(t,e){return Math.ceil(t/e)*e}kr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},kr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},kr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},kr.prototype.clear=function(){this.length=0},kr.prototype.resize=function(t){this.reserve(t),this.length=t},kr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},kr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Rr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[r+0]=t,this.int16[r+1]=e,n},e}(kr);Rr.prototype.bytesPerElement=4,hr("StructArrayLayout2i4",Rr);var Mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=n,this.int16[o+3]=r,i},e}(kr);Mr.prototype.bytesPerElement=8,hr("StructArrayLayout4i8",Mr);var Lr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e}(kr);Lr.prototype.bytesPerElement=12,hr("StructArrayLayout2i4i12",Lr);var Or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=6*u,c=12*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint8[c+8]=i,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,u},e}(kr);Or.prototype.bytesPerElement=12,hr("StructArrayLayout4i4ub12",Or);var Fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=8*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint16[l+4]=i,this.uint16[l+5]=o,this.uint16[l+6]=a,this.uint16[l+7]=s,u},e}(kr);Fr.prototype.bytesPerElement=16,hr("StructArrayLayout4i4ui16",Fr);var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=n,r},e}(kr);Nr.prototype.bytesPerElement=12,hr("StructArrayLayout3f12",Nr);var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.uint32[n+0]=t,e},e}(kr);Ur.prototype.bytesPerElement=4,hr("StructArrayLayout1ul4",Ur);var zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c){var f=this.length;this.resize(f+1);var p=12*f,d=6*f;return this.int16[p+0]=t,this.int16[p+1]=e,this.int16[p+2]=n,this.int16[p+3]=r,this.int16[p+4]=i,this.int16[p+5]=o,this.uint32[d+3]=a,this.uint16[p+8]=s,this.uint16[p+9]=u,this.int16[p+10]=l,this.int16[p+11]=c,f},e}(kr);zr.prototype.bytesPerElement=24,hr("StructArrayLayout6i1ul2ui2i24",zr);var jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e}(kr);jr.prototype.bytesPerElement=12,hr("StructArrayLayout2i2i2i12",jr);var Vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[r+0]=t,this.uint8[r+1]=e,n},e}(kr);Vr.prototype.bytesPerElement=4,hr("StructArrayLayout2ub4",Vr);var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,p,d){var h=this.length;this.resize(h+1);var g=20*h,y=10*h,m=40*h;return this.int16[g+0]=t,this.int16[g+1]=e,this.uint16[g+2]=n,this.uint16[g+3]=r,this.uint32[y+2]=i,this.uint32[y+3]=o,this.uint32[y+4]=a,this.uint16[g+10]=s,this.uint16[g+11]=u,this.uint16[g+12]=l,this.float32[y+7]=c,this.float32[y+8]=f,this.uint8[m+36]=p,this.uint8[m+37]=d,h},e}(kr);Gr.prototype.bytesPerElement=40,hr("StructArrayLayout2i2ui3ul3ui2f2ub40",Gr);var Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.float32[n+0]=t,e},e}(kr);Wr.prototype.bytesPerElement=4,hr("StructArrayLayout1f4",Wr);var qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=n,r},e}(kr);qr.prototype.bytesPerElement=6,hr("StructArrayLayout3i6",qr);var Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[i+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=n,r},e}(kr);Kr.prototype.bytesPerElement=8,hr("StructArrayLayout1ul2ui8",Kr);var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[i+0]=t,this.uint16[i+1]=e,this.uint16[i+2]=n,r},e}(kr);Yr.prototype.bytesPerElement=6,hr("StructArrayLayout3ui6",Yr);var Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[r+0]=t,this.uint16[r+1]=e,n},e}(kr);Xr.prototype.bytesPerElement=4,hr("StructArrayLayout2ui4",Xr);var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[r+0]=t,this.float32[r+1]=e,n},e}(kr);Zr.prototype.bytesPerElement=8,hr("StructArrayLayout2f8",Zr);var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=n,this.float32[o+3]=r,i},e}(kr);Jr.prototype.bytesPerElement=16,hr("StructArrayLayout4f16",Jr);var Qr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new E(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Pr);Qr.prototype.size=24;var ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Qr(this,t)},e}(zr);hr("CollisionBoxArray",ti);var ei=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(Pr);ei.prototype.size=40;var ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new ei(this,t)},e}(Gr);hr("PlacedSymbolArray",ni);var ri=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(Pr);ri.prototype.size=4;var oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new ri(this,t)},e}(Wr);hr("GlyphOffsetArray",oi);var ci=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(Pr);ci.prototype.size=6;var fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new ci(this,t)},e}(qr);hr("SymbolLineVertexArray",fi);var di=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(Pr);di.prototype.size=8;var gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new di(this,t)},e}(Kr);hr("FeatureIndexArray",gi);var yi=$r([{name:"a_pos",components:2,type:"Int16"}],4).members,mi=function zn(t){void 0===t&&(t=[]),this.segments=t};mi.prototype.prepareSegment=function(t,e,n){var r=this.segments[this.segments.length-1];return t>mi.MAX_VERTEX_ARRAY_LENGTH&&b("Max vertices per segment is "+mi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>mi.MAX_VERTEX_ARRAY_LENGTH)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},this.segments.push(r)),r},mi.prototype.get=function(){return this.segments},mi.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},mi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hr("SegmentVector",mi);var vi=function Sn(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)};function Mn(t){return[vi(255*t.r,255*t.g),vi(255*t.b,255*t.a)]}var Di=function Vn(t,e,n){this.value=t,this.name=e,this.type=n,this.statistics={max:-1/0}};Di.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},Di.prototype.populatePaintArray=function(){},Di.prototype.upload=function(){},Di.prototype.destroy=function(){},Di.prototype.setUniforms=function(t,e,n,r){var i=r.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):o.uniform1f(e.uniforms["u_"+this.name],i)};var Ni=function Bn(t,e,n){this.expression=t,this.name=e,this.type=n,this.statistics={max:-1/0};var r="color"===n?Zr:Wr;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}],this.paintVertexArray=new r};Ni.prototype.defines=function(){return[]},Ni.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Vn(0),e);if("color"===this.type)for(var o=Mn(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.statistics.max=Math.max(this.statistics.max,i)}},Ni.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},Ni.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ni.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var Gi=function Cn(t,e,n,r,i){this.expression=t,this.name=e,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.statistics={max:-1/0};var o="color"===n?Jr:Zr;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}],this.paintVertexArray=new o};Gi.prototype.defines=function(){return[]},Gi.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Vn(this.zoom),e),o=this.expression.evaluate(new Vn(this.zoom+1),e);if("color"===this.type)for(var a=Mn(i),s=Mn(o),u=r;u<t;u++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=r;l<t;l++)n.emplaceBack(i,o);this.statistics.max=Math.max(this.statistics.max,i,o)}},Gi.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},Gi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Gi.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Gi.prototype.setUniforms=function(t,e,n){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var Wi=function In(){this.binders={},this.cacheKey="",this._buffers=[]};Wi.createDynamic=function(t,e,n){var r=new Wi,i=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof ur&&a.property.specification["property-function"]){var s=Fn(o,t.type),u=a.property.specification.type,l=a.property.useIntegerZoom;"constant"===a.value.kind?(r.binders[o]=new Di(a.value,s,u),i.push("/u_"+s)):"source"===a.value.kind?(r.binders[o]=new Ni(a.value,s,u),i.push("/a_"+s)):(r.binders[o]=new Gi(a.value,s,u,l,e),i.push("/z_"+s))}}return r.cacheKey=i.sort().join(""),r},Wi.prototype.populatePaintArrays=function(t,e){for(var n in this.binders)this.binders[n].populatePaintArray(t,e)},Wi.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Wi.prototype.setUniforms=function(t,e,n,r){for(var i in this.binders)this.binders[i].setUniforms(t,e,r,n.get(i))},Wi.prototype.getPaintVertexBuffers=function(){return this._buffers},Wi.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Ni||i instanceof Gi)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Wi.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Yi=function En(t,e,n,r){void 0===r&&(r=function n(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Wi.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}};function Fn(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace(e+"-","").replace(/-/g,"_")}Yi.prototype.populatePaintArrays=function(t,e){for(var n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(t,e)},Yi.prototype.get=function(t){return this.programConfigurations[t]},Yi.prototype.upload=function(t){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t)},Yi.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},hr("ConstantBinder",Di),hr("SourceExpressionBinder",Ni),hr("CompositeExpressionBinder",Gi),hr("ProgramConfiguration",Wi,{omit:["_buffers"]}),hr("ProgramConfigurationSet",Yi);var Qi=8192,io={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function Ln(t){for(var e=Qi/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<io.min||a.x>io.max||a.y<io.min||a.y>io.max)&&b("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function jn(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var oo=function qn(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new Rr,this.indexArray=new Yr,this.segments=new mi,this.programConfigurations=new Yi(yi,t.layers,t.zoom)};function Rn(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(Xn(i,e))return!0;if(Jn(e,i,n))return!0}return!1}function Un(t,e){if(1===t.length&&1===t[0].length)return Hn(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(Hn(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(Hn(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(Zn(a,e[u]))return!0}return!1}function Dn(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var s=0;s<i.length;s++)if(Xn(a,i[s]))return!0;if(Nn(a,i,n))return!0}return!1}function Nn(t,e,n){if(t.length>1){if(Zn(t,e))return!0;for(var r=0;r<e.length;r++)if(Jn(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Jn(t[i],e,n))return!0;return!1}function Zn(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Kn(r,i,e[o],e[o+1]))return!0;return!1}function Kn(t,e,n,r){return w(t,n,r)!==w(e,n,r)&&w(t,e,n)!==w(t,e,r)}function Jn(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if($n(t,e[i-1],e[i])<r)return!0;return!1}function $n(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function Hn(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Xn(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Gn(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].statistics.max}function Yn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Wn(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=E.convert(e);"viewport"===n&&o._rotate(-r);for(var a=[],s=0;s<t.length;s++){for(var u=t[s],l=[],c=0;c<u.length;c++)l.push(u[c].sub(o._mult(i)));a.push(l)}return a}oo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Vn(this.zoom),o)){var u=Ln(o);this.addFeature(o,u),e.featureIndex.insert(o,u,a,s,this.index)}}},oo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},oo.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,yi),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},oo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},oo.prototype.addFeature=function(t,e){for(var n=0,r=e;n<r.length;n+=1)for(var i=0,o=r[n];i<o.length;i+=1){var a=o[i],s=a.x,u=a.y;if(!(s<0||s>=Qi||u<0||u>=Qi)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=l.vertexLength;jn(this.layoutVertexArray,s,u,-1,-1),jn(this.layoutVertexArray,s,u,1,-1),jn(this.layoutVertexArray,s,u,1,1),jn(this.layoutVertexArray,s,u,-1,1),this.indexArray.emplaceBack(c,c+1,c+2),this.indexArray.emplaceBack(c,c+3,c+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("CircleBucket",oo,{omit:["layers"]});var ao={paint:new Sr({"circle-radius":new pr(j.paint_circle["circle-radius"]),"circle-color":new pr(j.paint_circle["circle-color"]),"circle-blur":new pr(j.paint_circle["circle-blur"]),"circle-opacity":new pr(j.paint_circle["circle-opacity"]),"circle-translate":new fr(j.paint_circle["circle-translate"]),"circle-translate-anchor":new fr(j.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fr(j.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fr(j.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new pr(j.paint_circle["circle-stroke-width"]),"circle-stroke-color":new pr(j.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new pr(j.paint_circle["circle-stroke-opacity"])})},so=n((function(t,e){var n;t.exports=((n=new Float32Array(3))[0]=0,n[1]=0,n[2]=0,function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:function transformMat3(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}},vec4:{transformMat4:function transformMat4(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}},mat2:{create:function create(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},rotate:function rotate(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},scale:function scale(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}},mat3:{create:function create(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromRotation:function fromRotation(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},mat4:{create:function create(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},identity:function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},translate:function translate(t,e,n){var r,i,o,a,s,u,l,c,f,p,d,h,g=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*g+e[4]*y+e[8]*m+e[12],t[13]=e[1]*g+e[5]*y+e[9]*m+e[13],t[14]=e[2]*g+e[6]*y+e[10]*m+e[14],t[15]=e[3]*g+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=d,t[11]=h,t[12]=r*g+s*y+f*m+e[12],t[13]=i*g+u*y+p*m+e[13],t[14]=o*g+l*y+d*m+e[14],t[15]=a*g+c*y+h*m+e[15]),t},scale:function scale(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},multiply:function multiply(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],g=e[12],y=e[13],m=e[14],v=e[15],_=n[0],b=n[1],S=n[2],E=n[3];return t[0]=_*r+b*s+S*f+E*g,t[1]=_*i+b*u+S*p+E*y,t[2]=_*o+b*l+S*d+E*m,t[3]=_*a+b*c+S*h+E*v,_=n[4],b=n[5],S=n[6],E=n[7],t[4]=_*r+b*s+S*f+E*g,t[5]=_*i+b*u+S*p+E*y,t[6]=_*o+b*l+S*d+E*m,t[7]=_*a+b*c+S*h+E*v,_=n[8],b=n[9],S=n[10],E=n[11],t[8]=_*r+b*s+S*f+E*g,t[9]=_*i+b*u+S*p+E*y,t[10]=_*o+b*l+S*d+E*m,t[11]=_*a+b*c+S*h+E*v,_=n[12],b=n[13],S=n[14],E=n[15],t[12]=_*r+b*s+S*f+E*g,t[13]=_*i+b*u+S*p+E*y,t[14]=_*o+b*l+S*d+E*m,t[15]=_*a+b*c+S*h+E*v,t},perspective:function perspective(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},rotateX:function rotateX(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t},rotateZ:function rotateZ(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t},invert:function invert(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],d=e[11],h=e[12],g=e[13],y=e[14],m=e[15],v=n*s-r*a,_=n*u-i*a,b=n*l-o*a,S=r*u-i*s,E=r*l-o*s,x=i*l-o*u,w=c*g-f*h,T=c*y-p*h,P=c*m-d*h,k=f*y-p*g,C=f*m-d*g,D=p*m-d*y,A=v*D-_*C+b*k+S*P-E*T+x*w;return A?(A=1/A,t[0]=(s*D-u*C+l*k)*A,t[1]=(i*C-r*D-o*k)*A,t[2]=(g*x-y*E+m*S)*A,t[3]=(p*E-f*x-d*S)*A,t[4]=(u*P-a*D-l*T)*A,t[5]=(n*D-i*P+o*T)*A,t[6]=(y*b-h*x-m*_)*A,t[7]=(c*x-p*b+d*_)*A,t[8]=(a*C-s*P+l*w)*A,t[9]=(r*P-n*C-o*w)*A,t[10]=(h*E-g*b+m*v)*A,t[11]=(f*b-c*E-d*v)*A,t[12]=(s*T-a*k-u*w)*A,t[13]=(n*k-r*T+i*w)*A,t[14]=(g*_-h*S-y*v)*A,t[15]=(c*S-f*_+p*v)*A,t):null},ortho:function ortho(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}}})})),co=(so.vec3,so.vec4),go=(so.mat2,so.mat3,so.mat4),mo=function(t){function e(e){t.call(this,e,ao)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new oo(t)},e.prototype.queryRadius=function(t){var e=t;return Gn("circle-radius",this,e)+Gn("circle-stroke-width",this,e)+Yn(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){for(var s=Wn(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,o),u=this.paint.get("circle-radius").evaluate(e)+this.paint.get("circle-stroke-width").evaluate(e),l="map"===this.paint.get("circle-pitch-alignment"),c=l?s:function(t,e,n){return t.map((function(t){return t.map((function(t){return ii(t,e,n)}))}))}(s,a,i),f=l?u*o:u,p=0,d=n;p<d.length;p+=1)for(var h=0,g=d[p];h<g.length;h+=1){var y=g[h],m=l?y:ii(y,a,i),v=f,_=co.transformMat4([],[y.x,y.y,0,1],a);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=_[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=i.cameraToCenterDistance/_[3]),Rn(c,m,v))return!0}return!1},e}(Er);function ii(t,e,n){var r=co.transformMat4([],[t.x,t.y,0,1],e);return new E((r[0]/r[3]+1)*n.width*.5,(r[1]/r[3]+1)*n.height*.5)}var vo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(oo);function ai(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function si(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ai({},{width:r,height:i},n);ui(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function ui(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return e}hr("HeatmapBucket",vo,{omit:["layers"]});var bo=function li(t,e){ai(this,t,1,e)};bo.prototype.resize=function(t){si(this,t,1)},bo.prototype.clone=function(){return new bo({width:this.width,height:this.height},new Uint8Array(this.data))},bo.copy=function(t,e,n,r,i){ui(t,e,n,r,i,1)};var So=function pi(t,e){ai(this,t,4,e)};So.prototype.resize=function(t){si(this,t,4)},So.prototype.clone=function(){return new So({width:this.width,height:this.height},new Uint8Array(this.data))},So.copy=function(t,e,n,r,i){ui(t,e,n,r,i,4)},hr("AlphaImage",bo),hr("RGBAImage",So);var Eo={paint:new Sr({"heatmap-radius":new pr(j.paint_heatmap["heatmap-radius"]),"heatmap-weight":new pr(j.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fr(j.paint_heatmap["heatmap-intensity"]),"heatmap-color":new vr(j.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fr(j.paint_heatmap["heatmap-opacity"])})};function hi(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new So({width:256,height:1},n)}var xo=function(t){function e(e){t.call(this,e,Eo),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new vo(t)},e.prototype.setPaintProperty=function(e,n,r){t.prototype.setPaintProperty.call(this,e,n,r),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=hi(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Er),wo={paint:new Sr({"hillshade-illumination-direction":new fr(j.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new fr(j.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fr(j.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fr(j.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fr(j.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fr(j.paint_hillshade["hillshade-accent-color"])})},Po=function(t){function e(e){t.call(this,e,wo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Er),Co=$r([{name:"a_pos",components:2,type:"Int16"}],4).members,Ro=xi,Mo=xi;function xi(t,e,n){n=n||2;var r,i,o,a,s,u,l,c=e&&e.length,f=c?e[0]*n:t.length,p=bi(t,0,f,n,!0),d=[];if(!p)return d;if(c&&(p=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=bi(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ci(a));for(s.sort(Mi),i=0;i<s.length;i++)Vi(s[i],n),n=wi(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var h=n;h<f;h+=n)(s=t[h])<r&&(r=s),(u=t[h+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return _i(p,d,n,r,i,l),d}function bi(t,e,n,r,i){var o,a;if(i===Ui(t,e,n,r)>0)for(o=e;o<n;o+=r)a=ji(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=ji(o,t[o],t[o+1],a);return a&&Pi(a,a.next)&&(qi(a),a=a.next),a}function wi(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Pi(r,r.next)&&0!==Fi(r.prev,r,r.next))r=r.next;else{if(qi(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function _i(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Bi(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?ki(t,r,i,o):Ai(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),qi(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?_i(t=zi(t,e,n),e,n,r,i,o,2):2===a&&Si(t,e,n,r,i,o):_i(wi(t),e,n,r,i,o,1);break}}}function Ai(t){var e=t.prev,n=t,r=t.next;if(Fi(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ii(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Fi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ki(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Fi(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=Bi(s,u,e,n,r),p=Bi(l,c,e,n,r),d=t.prevZ,h=t.nextZ;d&&d.z>=f&&h&&h.z<=p;){if(d!==t.prev&&d!==t.next&&Ii(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Fi(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&Ii(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Fi(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&Ii(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Fi(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&Ii(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Fi(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function zi(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Pi(i,o)&&Ti(i,r,r.next,o)&&Oi(i,o)&&Oi(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),qi(r),qi(r.next),r=t=o),r=r.next}while(r!==t);return r}function Si(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ei(a,s)){var u=Li(a,s);return a=wi(a,a.next),u=wi(u,u.next),_i(a,e,n,r,i,o),void _i(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Mi(t,e){return t.x-e.x}function Vi(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,p=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Ii(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<p||u===p&&r.x>n.x)&&Oi(r,t)&&(n=r,p=u),r=r.next;return n}(t,e)){var n=Li(e,t);wi(n,n.next)}}function Bi(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ci(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Ii(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Ei(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ti(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Oi(t,e)&&Oi(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Fi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Pi(t,e){return t.x===e.x&&t.y===e.y}function Ti(t,e,n,r){return!!(Pi(t,e)&&Pi(n,r)||Pi(t,r)&&Pi(n,e))||Fi(t,e,n)>0!=Fi(t,e,r)>0&&Fi(n,r,t)>0!=Fi(n,r,e)>0}function Oi(t,e){return Fi(t.prev,t,t.next)<0?Fi(t,e,t.next)>=0&&Fi(t,t.prev,e)>=0:Fi(t,e,t.prev)<0||Fi(t,t.next,e)<0}function Li(t,e){var n=new Ri(t.i,t.x,t.y),r=new Ri(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function ji(t,e,n,r){var i=new Ri(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qi(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ri(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ui(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}xi.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Ui(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Ui(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((t[p]-t[h])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[h+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},xi.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},Ro.default=Mo;var Lo=Zi,Io=Zi;function Zi(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=e[n],p=r,d=i;for(Ki(e,r,n),o(e[i],f)>0&&Ki(e,r,i);p<d;){for(Ki(e,p,d),p++,d--;o(e[p],f)<0;)p++;for(;o(e[d],f)>0;)d--}0===o(e[r],f)?Ki(e,r,d):Ki(e,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(t,e,n||0,r||t.length-1,i||Ji)}function Ki(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ji(t,e){return t<e?-1:t>e?1:0}function $i(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=_(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||(Lo(o[u],e,1,o[u].length-1,Hi),o[u]=o[u].slice(0,e));return o}function Hi(t,e){return e.area-t.area}Lo.default=Io;var Oo=function Xi(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new Rr,this.indexArray=new Yr,this.indexArray2=new Xr,this.programConfigurations=new Yi(Co,t.layers,t.zoom),this.segments=new mi,this.segments2=new mi};Oo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Vn(this.zoom),o)){var u=Ln(o);this.addFeature(o,u),e.featureIndex.insert(o,u,a,s,this.index)}}},Oo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oo.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Co),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)},Oo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Oo.prototype.addFeature=function(t,e){for(var n=0,r=$i(e,500);n<r.length;n+=1){for(var i=r[n],o=0,a=0,s=i;a<s.length;a+=1)o+=s[a].length;for(var u=this.segments.prepareSegment(o,this.layoutVertexArray,this.indexArray),l=u.vertexLength,c=[],f=[],p=0,d=i;p<d.length;p+=1){var h=d[p];if(0!==h.length){h!==i[0]&&f.push(c.length/2);var g=this.segments2.prepareSegment(h.length,this.layoutVertexArray,this.indexArray2),y=g.vertexLength;this.layoutVertexArray.emplaceBack(h[0].x,h[0].y),this.indexArray2.emplaceBack(y+h.length-1,y),c.push(h[0].x),c.push(h[0].y);for(var m=1;m<h.length;m++)this.layoutVertexArray.emplaceBack(h[m].x,h[m].y),this.indexArray2.emplaceBack(y+m-1,y+m),c.push(h[m].x),c.push(h[m].y);g.vertexLength+=h.length,g.primitiveLength+=h.length}}for(var v=Ro(c,f),_=0;_<v.length;_+=3)this.indexArray.emplaceBack(l+v[_],l+v[_+1],l+v[_+2]);u.vertexLength+=o,u.primitiveLength+=v.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("FillBucket",Oo,{omit:["layers"]});var Fo={paint:new Sr({"fill-antialias":new fr(j.paint_fill["fill-antialias"]),"fill-opacity":new pr(j.paint_fill["fill-opacity"]),"fill-color":new pr(j.paint_fill["fill-color"]),"fill-outline-color":new pr(j.paint_fill["fill-outline-color"]),"fill-translate":new fr(j.paint_fill["fill-translate"]),"fill-translate-anchor":new fr(j.paint_fill["fill-translate-anchor"]),"fill-pattern":new mr(j.paint_fill["fill-pattern"])})},zo=function(t){function e(e){t.call(this,e,Fo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t);var e=this.paint._values["fill-outline-color"];"constant"===e.value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new Oo(t)},e.prototype.queryRadius=function(){return Yn(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){return Un(Wn(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,o),n)},e}(Er),Vo=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Go=Math.pow(2,13);function to(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Go)+a,i*Go*2,o*Go*2,Math.round(s))}var Wo=function eo(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new Lr,this.indexArray=new Yr,this.programConfigurations=new Yi(Vo,t.layers,t.zoom),this.segments=new mi};function ro(t,e){return t.x===e.x&&(t.x<0||t.x>Qi)||t.y===e.y&&(t.y<0||t.y>Qi)}function no(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>Qi}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>Qi}))}Wo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Vn(this.zoom),o)){var u=Ln(o);this.addFeature(o,u),e.featureIndex.insert(o,u,a,s,this.index)}}},Wo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wo.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},Wo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Wo.prototype.addFeature=function(t,e){for(var n=0,r=$i(e,500);n<r.length;n+=1){for(var i=r[n],o=0,a=0,s=i;a<s.length;a+=1)o+=s[a].length;for(var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),l=0,c=i;l<c.length;l+=1){var f=c[l];if(0!==f.length&&!no(f))for(var p=0,d=0;d<f.length;d++){var h=f[d];if(d>=1){var g=f[d-1];if(!ro(h,g)){u.vertexLength+4>mi.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=h.sub(g)._perp()._unit(),m=g.dist(h);p+m>32768&&(p=0),to(this.layoutVertexArray,h.x,h.y,y.x,y.y,0,0,p),to(this.layoutVertexArray,h.x,h.y,y.x,y.y,0,1,p),p+=m,to(this.layoutVertexArray,g.x,g.y,y.x,y.y,0,0,p),to(this.layoutVertexArray,g.x,g.y,y.x,y.y,0,1,p);var v=u.vertexLength;this.indexArray.emplaceBack(v,v+1,v+2),this.indexArray.emplaceBack(v+1,v+2,v+3),u.vertexLength+=4,u.primitiveLength+=2}}}}u.vertexLength+o>mi.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(o,this.layoutVertexArray,this.indexArray));for(var _=[],b=[],S=u.vertexLength,E=0,x=i;E<x.length;E+=1){var w=x[E];if(0!==w.length){w!==i[0]&&b.push(_.length/2);for(var T=0;T<w.length;T++){var P=w[T];to(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),_.push(P.x),_.push(P.y)}}}for(var k=Ro(_,b),C=0;C<k.length;C+=3)this.indexArray.emplaceBack(S+k[C],S+k[C+1],S+k[C+2]);u.primitiveLength+=k.length/3,u.vertexLength+=o}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("FillExtrusionBucket",Wo,{omit:["layers"]});var qo={paint:new Sr({"fill-extrusion-opacity":new fr(j["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new pr(j["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fr(j["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fr(j["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mr(j["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new pr(j["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new pr(j["paint_fill-extrusion"]["fill-extrusion-base"])})},Ho=function(t){function e(e){t.call(this,e,qo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Wo(t)},e.prototype.queryRadius=function(){return Yn(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){return Un(Wn(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,o),n)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(Er),Yo=$r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Xo=uo;function uo(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(lo,this,e)}function lo(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function po(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}uo.types=["Unknown","Point","LineString","Polygon"],uo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(i<=0){var u=t.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new E(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},uo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},uo.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=uo.types[this.type];function p(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+s)/o;t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(r=0;r<u.length;r++)c[r]=u[r][0];p(u=c);break;case 2:for(r=0;r<u.length;r++)p(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=po(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)p(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var $o=ho;function ho(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(fo,this,e),this.length=this._features.length}function fo(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function yo(t,e,n){if(3===t){var r=new $o(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ho.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Xo(this._pbf,e,this.extent,this._keys,this._values)};var Jo={VectorTile:function VectorTile(t,e){this.layers=t.readFields(yo,{},e)},VectorTileFeature:Xo,VectorTileLayer:$o},Qo=Jo.VectorTileFeature.types,ta=63,ea=Math.cos(Math.PI/180*37.5),na=.5,ia=Math.pow(2,14)/na;function _o(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(ta*n.x)+128,Math.round(ta*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*na&63)<<2,a*na>>6)}var oa=function Ao(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new Or,this.indexArray=new Yr,this.programConfigurations=new Yi(Yo,t.layers,t.zoom),this.segments=new mi};function ko(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(ia-1)}oa.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Vn(this.zoom),o)){var u=Ln(o);this.addFeature(o,u),e.featureIndex.insert(o,u,a,s,this.index)}}},oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},oa.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Yo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},oa.prototype.addFeature=function(t,e){for(var n=this.layers[0].layout,r=n.get("line-join").evaluate(t),i=n.get("line-cap"),o=n.get("line-miter-limit"),a=n.get("line-round-limit"),s=0,u=e;s<u.length;s+=1){var l=u[s];this.addLine(l,t,r,i,o,a)}},oa.prototype.addLine=function(t,e,n,r,i,o){var a=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(a={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var s="Polygon"===Qo[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){a&&(a.tileTotal=function(t,e,n){for(var r,i,o=0,a=e;a<n-1;a++)r=t[a],i=t[a+1],o+=r.dist(i);return o}(t,l,u)),"bevel"===n&&(i=1.05);var c=Qi/(512*this.overscaling)*15,f=t[l],p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.distance=0;var d,h,g,y=r,m=s?"butt":r,v=!0,_=void 0,b=void 0,S=void 0,E=void 0;this.e1=this.e2=this.e3=-1,s&&(d=t[u-2],E=f.sub(d)._unit()._perp());for(var x=l;x<u;x++)if(!(b=s&&x===u-1?t[l+1]:t[x+1])||!t[x].equals(b)){E&&(S=E),d&&(_=d),d=t[x],E=b?b.sub(d)._unit()._perp():S;var w=(S=S||E).add(E);0===w.x&&0===w.y||w._unit();var T=w.x*E.x+w.y*E.y,P=0!==T?1/T:1/0,k=T<ea&&_&&b;if(k&&x>l){var C=d.dist(_);if(C>2*c){var D=d.sub(d.sub(_)._mult(c/C)._round());this.distance+=D.dist(_),this.addCurrentVertex(D,this.distance,S.mult(1),0,0,!1,p,a),_=D}}var A=_&&b,R=A?n:b?y:m;if(A&&"round"===R&&(P<o?R="miter":P<=2&&(R="fakeround")),"miter"===R&&P>i&&(R="bevel"),"bevel"===R&&(P>2&&(R="flipbevel"),P<i&&(R="miter")),_&&(this.distance+=d.dist(_)),"miter"===R)w._mult(P),this.addCurrentVertex(d,this.distance,w,0,0,!1,p,a);else if("flipbevel"===R){if(P>100)w=E.clone().mult(-1);else{var M=S.x*E.y-S.y*E.x>0?-1:1,L=P*S.add(E).mag()/S.sub(E).mag();w._perp()._mult(L*M)}this.addCurrentVertex(d,this.distance,w,0,0,!1,p,a),this.addCurrentVertex(d,this.distance,w.mult(-1),0,0,!1,p,a)}else if("bevel"===R||"fakeround"===R){var I=S.x*E.y-S.y*E.x>0,O=-Math.sqrt(P*P-1);if(I?(g=0,h=O):(h=0,g=O),v||this.addCurrentVertex(d,this.distance,S,h,g,!1,p,a),"fakeround"===R){for(var F=Math.floor(8*(.5-(T-.5))),N=void 0,B=0;B<F;B++)N=E.mult((B+1)/(F+1))._add(S)._unit(),this.addPieSliceVertex(d,this.distance,N,I,p,a);this.addPieSliceVertex(d,this.distance,w,I,p,a);for(var U=F-1;U>=0;U--)N=S.mult((U+1)/(F+1))._add(E)._unit(),this.addPieSliceVertex(d,this.distance,N,I,p,a)}b&&this.addCurrentVertex(d,this.distance,E,-h,-g,!1,p,a)}else"butt"===R?(v||this.addCurrentVertex(d,this.distance,S,0,0,!1,p,a),b&&this.addCurrentVertex(d,this.distance,E,0,0,!1,p,a)):"square"===R?(v||(this.addCurrentVertex(d,this.distance,S,1,1,!1,p,a),this.e1=this.e2=-1),b&&this.addCurrentVertex(d,this.distance,E,-1,-1,!1,p,a)):"round"===R&&(v||(this.addCurrentVertex(d,this.distance,S,0,0,!1,p,a),this.addCurrentVertex(d,this.distance,S,1,1,!0,p,a),this.e1=this.e2=-1),b&&(this.addCurrentVertex(d,this.distance,E,-1,-1,!0,p,a),this.addCurrentVertex(d,this.distance,E,0,0,!1,p,a)));if(k&&x<u-1){var z=d.dist(b);if(z>2*c){var j=d.add(b.sub(d)._mult(c/z)._round());this.distance+=j.dist(d),this.addCurrentVertex(j,this.distance,E.mult(1),0,0,!1,p,a),d=j}}v=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},oa.prototype.addCurrentVertex=function(t,e,n,r,i,o,a,s){var u,l=this.layoutVertexArray,c=this.indexArray;s&&(e=ko(e,s)),u=n.clone(),r&&u._sub(n.perp()._mult(r)),_o(l,t,u,o,!1,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),i&&u._sub(n.perp()._mult(i)),_o(l,t,u,o,!0,-i,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>ia/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))},oa.prototype.addPieSliceVertex=function(t,e,n,r,i,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=ko(e,o)),_o(a,t,n,!1,r,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},hr("LineBucket",oa,{omit:["layers"]});var _a=new Sr({"line-cap":new fr(j.layout_line["line-cap"]),"line-join":new pr(j.layout_line["line-join"]),"line-miter-limit":new fr(j.layout_line["line-miter-limit"]),"line-round-limit":new fr(j.layout_line["line-round-limit"])}),Sa={paint:new Sr({"line-opacity":new pr(j.paint_line["line-opacity"]),"line-color":new pr(j.paint_line["line-color"]),"line-translate":new fr(j.paint_line["line-translate"]),"line-translate-anchor":new fr(j.paint_line["line-translate-anchor"]),"line-width":new pr(j.paint_line["line-width"]),"line-gap-width":new pr(j.paint_line["line-gap-width"]),"line-offset":new pr(j.paint_line["line-offset"]),"line-blur":new pr(j.paint_line["line-blur"]),"line-dasharray":new mr(j.paint_line["line-dasharray"]),"line-pattern":new mr(j.paint_line["line-pattern"]),"line-gradient":new vr(j.paint_line["line-gradient"])}),layout:_a},Ta=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new Vn(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r){return n=h({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r)},e}(pr))(Sa.paint.properties["line-width"].specification);Ta.useIntegerZoom=!0;var Da=function(t){function e(e){t.call(this,e,Sa)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setPaintProperty=function(e,n,r){t.prototype.setPaintProperty.call(this,e,n,r),"line-gradient"===e&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=hi(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Ta.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new oa(t)},e.prototype.queryRadius=function(t){var e=t,n=Bo(Gn("line-width",this,e),Gn("line-gap-width",this,e)),r=Gn("line-offset",this,e);return n/2+Math.abs(r)+Yn(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var a=Wn(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,o),s=o/2*Bo(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),u=this.paint.get("line-offset").evaluate(e);return u&&(n=function(t,e){for(var n=[],r=new E(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var u=o[s-1],l=o[s],c=o[s+1],f=0===s?r:l.sub(u)._unit()._perp(),p=s===o.length-1?r:c.sub(l)._unit()._perp(),d=f._add(p)._unit(),h=d.x*p.x+d.y*p.y;d._mult(1/h),a.push(d._mult(e)._add(l))}n.push(a)}return n}(n,u*o)),Dn(a,n,s)},e}(Er);function Bo(t,e){return e>0?e+2*t:t}var Ra=$r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),La=$r([{name:"a_projected_pos",components:3,type:"Float32"}],4),Oa=($r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),$r([{name:"a_placed",components:2,type:"Uint8"}],4)),Fa=($r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ua=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function To(t,e,n){var r=e.layout.get("text-transform").evaluate(n);return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),zn.applyArabicShaping&&(t=zn.applyArabicShaping(t)),t}$r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),$r([{type:"Float32",name:"offsetX"}]),$r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Va={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ga=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(E);function jo(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new Vn(t+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate(new Vn(t+1)),zoomRange:a,sizeRange:{min:n.evaluate(new Vn(a.min)),max:n.evaluate(new Vn(a.max))},propertyValue:e.value}}hr("Anchor",Ga);var Wa=Jo.VectorTileFeature.types,Ya=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Uo(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function Do(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var Xa=function No(t){this.layoutVertexArray=new Fr,this.indexArray=new Yr,this.programConfigurations=t,this.segments=new mi,this.dynamicLayoutVertexArray=new Nr,this.opacityVertexArray=new Ur,this.placedSymbolArray=new ni};Xa.prototype.upload=function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ra.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,La.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Ya,!0),this.opacityVertexBuffer.itemSize=1},Xa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},hr("SymbolBuffers",Xa);var Qa=function Zo(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new mi,this.collisionVertexArray=new Vr};Qa.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Oa.members,!0)},Qa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},hr("CollisionBuffers",Qa);var ts=function Ko(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=jo(this.zoom,e["text-size"]),this.iconSizeData=jo(this.zoom,e["icon-size"]);var n=this.layers[0].layout;this.sortFeaturesByY=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")};ts.prototype.createArrays=function(){this.text=new Xa(new Yi(Ra.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new Xa(new Yi(Ra.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.collisionBox=new Qa(jr,Fa.members,Xr),this.collisionCircle=new Qa(jr,Ua.members,Yr),this.glyphOffsetArray=new oi,this.lineVertexArray=new fi},ts.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||u){for(var l=e.iconDependencies,c=e.glyphDependencies,f=new Vn(this.zoom),p=0,d=t;p<d.length;p+=1){var h=d[p],g=h.feature,y=h.index,m=h.sourceLayerIndex;if(n._featureFilter(f,g)){var v=void 0;s&&(v=To(v=n.getValueAndResolveTokens("text-field",g),n,g));var _=void 0;if(u&&(_=n.getValueAndResolveTokens("icon-image",g)),v||_){var b={text:v,icon:_,index:y,sourceLayerIndex:m,geometry:Ln(g),properties:g.properties,type:Wa[g.type]};if(void 0!==g.id&&(b.id=g.id),this.features.push(b),_&&(l[_]=!0),v)for(var S=i.evaluate(g).join(","),E=c[S]=c[S]||{},x="map"===r.get("text-rotation-alignment")&&"line"===r.get("symbol-placement"),w=gr(v),T=0;T<v.length;T++)if(E[v.charCodeAt(T)]=!0,x&&w){var P=Va[v.charAt(T)];P&&(E[P.charCodeAt(0)]=!0)}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.text;if(p){var d=u(p,f),h=u(p,f,!0);if(d in n&&h in e&&n[d]!==e[h]){var g=s(d,h,f),y=a(d,h,r[g].geometry);delete e[d],delete n[h],n[u(p,r[y].geometry,!0)]=y,r[g].geometry=null}else d in n?a(d,h,f):h in e?s(d,h,f):(o(l),e[d]=i-1,n[h]=i-1)}else o(l)}return r.filter((function(t){return t.geometry}))}(this.features))}},ts.prototype.isEmpty=function(){return 0===this.symbolInstances.length},ts.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},ts.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},ts.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},ts.prototype.addSymbols=function(t,e,n,r,i,o,a,s,u,l){for(var c=t.indexArray,f=t.layoutVertexArray,p=t.dynamicLayoutVertexArray,d=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),h=this.glyphOffsetArray.length,g=d.vertexLength,y=0,m=e;y<m.length;y+=1){var v=m[y],_=v.tl,b=v.tr,S=v.bl,E=v.br,x=v.tex,w=d.vertexLength,T=v.glyphOffset[1];Uo(f,s.x,s.y,_.x,T+_.y,x.x,x.y,n),Uo(f,s.x,s.y,b.x,T+b.y,x.x+x.w,x.y,n),Uo(f,s.x,s.y,S.x,T+S.y,x.x,x.y+x.h,n),Uo(f,s.x,s.y,E.x,T+E.y,x.x+x.w,x.y+x.h,n),Do(p,s,0),c.emplaceBack(w,w+1,w+2),c.emplaceBack(w+1,w+2,w+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(v.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,h,this.glyphOffsetArray.length-h,g,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o)},ts.prototype._addCollisionDebugVertex=function(t,e,n,r,i){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))},ts.prototype.addCollisionDebugVertices=function(t,e,n,r,i,o,a,s){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=u.vertexLength,c=i.layoutVertexArray,f=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,f,o,a.anchor,new E(t,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new E(n,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new E(n,r)),this._addCollisionDebugVertex(c,f,o,a.anchor,new E(t,r)),u.vertexLength+=4,s){var p=i.indexArray;p.emplaceBack(l,l+1,l+2),p.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var d=i.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),u.primitiveLength+=4}},ts.prototype.generateCollisionDebugBuffers=function(){for(var t=0,e=this.symbolInstances;t<e.length;t+=1){var n=e[t];n.textCollisionFeature={boxStartIndex:n.textBoxStartIndex,boxEndIndex:n.textBoxEndIndex},n.iconCollisionFeature={boxStartIndex:n.iconBoxStartIndex,boxEndIndex:n.iconBoxEndIndex};for(var r=0;r<2;r++){var i=n[0===r?"textCollisionFeature":"iconCollisionFeature"];if(i)for(var o=i.boxStartIndex;o<i.boxEndIndex;o++){var a=this.collisionBoxArray.get(o),s=a.x1,u=a.y1,l=a.x2,c=a.y2,f=a.radius>0;this.addCollisionDebugVertices(s,u,l,c,f?this.collisionCircle:this.collisionBox,a.anchorPoint,n,f)}}}},ts.prototype.deserializeCollisionBoxes=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<i;u++){var l=t.get(u);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},o.iconFeatureIndex=l.featureIndex;break}}return o},ts.prototype.hasTextData=function(){return this.text.segments.get().length>0},ts.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ts.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},ts.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},ts.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);var i=Math.sin(t),o=Math.cos(t);n.sort((function(t,n){var r=e.symbolInstances[t],a=e.symbolInstances[n];return(i*r.anchor.x+o*r.anchor.y|0)-(i*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-r.featureIndex})),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var a=0,s=n;a<s.length;a+=1){var u=s[a],l=e.symbolInstances[u];e.featureSortOrder.push(l.featureIndex);for(var c=0,f=l.placedTextSymbolIndices;c<f.length;c+=1)for(var p=f[c],d=e.text.placedSymbolArray.get(p),h=d.vertexStartIndex+4*d.numGlyphs,g=d.vertexStartIndex;g<h;g+=4)e.text.indexArray.emplaceBack(g,g+1,g+2),e.text.indexArray.emplaceBack(g+1,g+2,g+3);var y=e.icon.placedSymbolArray.get(u);if(y.numGlyphs){var m=y.vertexStartIndex;e.icon.indexArray.emplaceBack(m,m+1,m+2),e.icon.indexArray.emplaceBack(m+1,m+2,m+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},hr("SymbolBucket",ts,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),ts.MAX_GLYPHS=65535,ts.addDynamicAttributes=Do;var es=new Sr({"symbol-placement":new fr(j.layout_symbol["symbol-placement"]),"symbol-spacing":new fr(j.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fr(j.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new fr(j.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new fr(j.layout_symbol["icon-ignore-placement"]),"icon-optional":new fr(j.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fr(j.layout_symbol["icon-rotation-alignment"]),"icon-size":new pr(j.layout_symbol["icon-size"]),"icon-text-fit":new fr(j.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fr(j.layout_symbol["icon-text-fit-padding"]),"icon-image":new pr(j.layout_symbol["icon-image"]),"icon-rotate":new pr(j.layout_symbol["icon-rotate"]),"icon-padding":new fr(j.layout_symbol["icon-padding"]),"icon-keep-upright":new fr(j.layout_symbol["icon-keep-upright"]),"icon-offset":new pr(j.layout_symbol["icon-offset"]),"icon-anchor":new pr(j.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fr(j.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fr(j.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fr(j.layout_symbol["text-rotation-alignment"]),"text-field":new pr(j.layout_symbol["text-field"]),"text-font":new pr(j.layout_symbol["text-font"]),"text-size":new pr(j.layout_symbol["text-size"]),"text-max-width":new pr(j.layout_symbol["text-max-width"]),"text-line-height":new fr(j.layout_symbol["text-line-height"]),"text-letter-spacing":new pr(j.layout_symbol["text-letter-spacing"]),"text-justify":new pr(j.layout_symbol["text-justify"]),"text-anchor":new pr(j.layout_symbol["text-anchor"]),"text-max-angle":new fr(j.layout_symbol["text-max-angle"]),"text-rotate":new pr(j.layout_symbol["text-rotate"]),"text-padding":new fr(j.layout_symbol["text-padding"]),"text-keep-upright":new fr(j.layout_symbol["text-keep-upright"]),"text-transform":new pr(j.layout_symbol["text-transform"]),"text-offset":new pr(j.layout_symbol["text-offset"]),"text-allow-overlap":new fr(j.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new fr(j.layout_symbol["text-ignore-placement"]),"text-optional":new fr(j.layout_symbol["text-optional"])}),ns={paint:new Sr({"icon-opacity":new pr(j.paint_symbol["icon-opacity"]),"icon-color":new pr(j.paint_symbol["icon-color"]),"icon-halo-color":new pr(j.paint_symbol["icon-halo-color"]),"icon-halo-width":new pr(j.paint_symbol["icon-halo-width"]),"icon-halo-blur":new pr(j.paint_symbol["icon-halo-blur"]),"icon-translate":new fr(j.paint_symbol["icon-translate"]),"icon-translate-anchor":new fr(j.paint_symbol["icon-translate-anchor"]),"text-opacity":new pr(j.paint_symbol["text-opacity"]),"text-color":new pr(j.paint_symbol["text-color"]),"text-halo-color":new pr(j.paint_symbol["text-halo-color"]),"text-halo-width":new pr(j.paint_symbol["text-halo-width"]),"text-halo-blur":new pr(j.paint_symbol["text-halo-blur"]),"text-translate":new fr(j.paint_symbol["text-translate"]),"text-translate-anchor":new fr(j.paint_symbol["text-translate-anchor"])}),layout:es},rs=function(t){function e(e){t.call(this,e,ns)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n,r=this.layout.get(t).evaluate(e),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||be(i.value)?r:(n=e.properties,r.replace(/{([^{}]+)}/g,(function(t,e){return e in n?String(n[e]):""})))},e.prototype.createBucket=function(t){return new ts(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(Er),is={paint:new Sr({"background-color":new fr(j.paint_background["background-color"]),"background-pattern":new mr(j.paint_background["background-pattern"]),"background-opacity":new fr(j.paint_background["background-opacity"])})},os=function(t){function e(e){t.call(this,e,is)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Er),as={paint:new Sr({"raster-opacity":new fr(j.paint_raster["raster-opacity"]),"raster-hue-rotate":new fr(j.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fr(j.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fr(j.paint_raster["raster-brightness-max"]),"raster-saturation":new fr(j.paint_raster["raster-saturation"]),"raster-contrast":new fr(j.paint_raster["raster-contrast"]),"raster-fade-duration":new fr(j.paint_raster["raster-fade-duration"])})},ss={circle:mo,heatmap:xo,hillshade:Po,fill:zo,"fill-extrusion":Ho,line:Da,symbol:rs,background:os,raster:function(t){function e(e){t.call(this,e,as)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Er)},us=n((function(t,e){t.exports=function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,n,r){var i,o,a,s,u,l,c,f,p={freebin:-1,shelf:-1,waste:1/0},d=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(n===(i=this.freebins[s]).maxh&&t===i.maxw)return this.allocFreebin(s,t,n,r);n>i.maxh||t>i.maxw||n<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*n)<p.waste&&(p.waste=a,p.freebin=s)}for(s=0;s<this.shelves.length;s++)if(d+=(o=this.shelves[s]).h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,r);n>o.h||n<o.h&&(a=(o.h-n)*t)<p.waste&&(p.freebin=-1,p.waste=a,p.shelf=s)}return-1!==p.freebin?this.allocFreebin(p.freebin,t,n,r):-1!==p.shelf?this.allocShelf(p.shelf,t,n,r):n<=this.h-d&&t<=this.w?(o=new e(d,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,r)):this.autoResize?(u=l=this.h,((c=f=this.w)<=u||t>c)&&(f=2*Math.max(t,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(f,l),this.packOne(t,n,r)):null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t].alloc(e,n,r);return this.bins[r]=i,this.ref(i),i},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,n){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new function(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}(n,r,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t}()})),ls=function ta(t,e){var n=e.pixelRatio;this.paddedRect=t,this.pixelRatio=n},cs={tl:{configurable:!0},br:{configurable:!0},displaySize:{configurable:!0}};cs.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},cs.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},cs.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ls.prototype,cs);var fs=function ra(t){var e=new So({width:0,height:0}),n={},r=new us(0,0,{autoResize:!0});for(var i in t){var o=t[i],a=r.packOne(o.data.width+2,o.data.height+2);e.resize({width:r.w,height:r.h}),So.copy(o.data,e,{x:0,y:0},{x:a.x+1,y:a.y+1},o.data),n[i]=new ls(a,o)}r.shrink(),e.resize({width:r.w,height:r.h}),this.image=e,this.positions=n};hr("ImagePosition",ls),hr("ImageAtlas",fs);var ps=function na(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},ds=function ia(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=h,a/=256,l-=8);t[n+d-h]|=128*g},hs=aa;function aa(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function sa(t){return t.type===aa.Bytes?t.readVarint()+t.pos:t.pos+1}function ua(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function la(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function pa(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function ca(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function ha(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function fa(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function ya(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function da(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function va(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ma(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function ga(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function xa(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ba(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function wa(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}aa.Varint=0,aa.Fixed64=1,aa.Bytes=2,aa.Fixed32=5,aa.prototype={destroy:function destroy(){this.buf=null},readFields:function readFields(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function readFixed32(){var t=xa(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function readSFixed32(){var t=wa(this.buf,this.pos);return this.pos+=4,t},readFixed64:function readFixed64(){var t=xa(this.buf,this.pos)+4294967296*xa(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function readSFixed64(){var t=xa(this.buf,this.pos)+4294967296*wa(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function readFloat(){var t=ps(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function readDouble(){var t=ps(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function readVarint(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return ua(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return ua(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return ua(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return ua(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return ua(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return ua(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function readVarint64(){return this.readVarint(!0)},readSVarint:function readSVarint(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function readBoolean(){return Boolean(this.readVarint())},readString:function readString(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function readBytes(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function readPackedVarint(t,e){var n=sa(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function readPackedSVarint(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function readPackedBoolean(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function readPackedFloat(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function readPackedDouble(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function readPackedFixed32(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function readPackedSFixed32(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function readPackedFixed64(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function readPackedSFixed64(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function skip(t){var e=7&t;if(e===aa.Varint)for(;this.buf[this.pos++]>127;);else if(e===aa.Bytes)this.pos=this.readVarint()+this.pos;else if(e===aa.Fixed32)this.pos+=4;else{if(e!==aa.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function writeTag(t,e){this.writeVarint(t<<3|e)},realloc:function realloc(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function writeFixed32(t){this.realloc(4),ba(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function writeSFixed32(t){this.realloc(4),ba(this.buf,t,this.pos),this.pos+=4},writeFixed64:function writeFixed64(t){this.realloc(8),ba(this.buf,-1&t,this.pos),ba(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function writeSFixed64(t){this.realloc(8),ba(this.buf,-1&t,this.pos),ba(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function writeVarint(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function writeSVarint(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function writeBoolean(t){this.writeVarint(Boolean(t))},writeString:function writeString(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&la(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function writeFloat(t){this.realloc(4),ds(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function writeDouble(t){this.realloc(8),ds(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function writeBytes(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function writeRawMessage(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&la(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function writeMessage(t,e,n){this.writeTag(t,aa.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function writePackedVarint(t,e){this.writeMessage(t,pa,e)},writePackedSVarint:function writePackedSVarint(t,e){this.writeMessage(t,ca,e)},writePackedBoolean:function writePackedBoolean(t,e){this.writeMessage(t,ya,e)},writePackedFloat:function writePackedFloat(t,e){this.writeMessage(t,ha,e)},writePackedDouble:function writePackedDouble(t,e){this.writeMessage(t,fa,e)},writePackedFixed32:function writePackedFixed32(t,e){this.writeMessage(t,da,e)},writePackedSFixed32:function writePackedSFixed32(t,e){this.writeMessage(t,va,e)},writePackedFixed64:function writePackedFixed64(t,e){this.writeMessage(t,ma,e)},writePackedSFixed64:function writePackedSFixed64(t,e){this.writeMessage(t,ga,e)},writeBytesField:function writeBytesField(t,e){this.writeTag(t,aa.Bytes),this.writeBytes(e)},writeFixed32Field:function writeFixed32Field(t,e){this.writeTag(t,aa.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function writeSFixed32Field(t,e){this.writeTag(t,aa.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function writeFixed64Field(t,e){this.writeTag(t,aa.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function writeSFixed64Field(t,e){this.writeTag(t,aa.Fixed64),this.writeSFixed64(e)},writeVarintField:function writeVarintField(t,e){this.writeTag(t,aa.Varint),this.writeVarint(e)},writeSVarintField:function writeSVarintField(t,e){this.writeTag(t,aa.Varint),this.writeSVarint(e)},writeStringField:function writeStringField(t,e){this.writeTag(t,aa.Bytes),this.writeString(e)},writeFloatField:function writeFloatField(t,e){this.writeTag(t,aa.Fixed32),this.writeFloat(e)},writeDoubleField:function writeDoubleField(t,e){this.writeTag(t,aa.Fixed64),this.writeDouble(e)},writeBooleanField:function writeBooleanField(t,e){this.writeVarintField(t,Boolean(e))}};var gs=3;function Aa(t,e,n){1===t&&n.readMessage(ka,e)}function ka(t,e,n){if(3===t){var r=n.readMessage(za,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,u=r.left,l=r.top,c=r.advance;e.push({id:i,bitmap:new bo({width:a+2*gs,height:s+2*gs},o),metrics:{width:a,height:s,left:u,top:l,advance:c}})}}function za(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var ys=gs,ms=function Ma(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,y(["receive"],this),this.target.addEventListener("message",this.receive,!1)};ms.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:yr(e,o)},o)},ms.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var a=function o(t,e){var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?yr(t):null,data:yr(e,r)},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(dr(r.error)):e&&e(null,dr(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,dr(r.data),a);else if(void 0!==r.id&&this.parent.getWorkerSource){var s=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,s[0],s[1])[s[2]](dr(r.data),a)}else this.parent[r.type](dr(r.data))}},ms.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var vs=r(n((function(t,e){!function(t){function e(t,e,n){var i=r(256*t,256*(e=Math.pow(2,n)-e-1),n),o=r(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}t.getURL=function(t,n,r,i,o,a){return a=a||{},t+"?"+["bbox="+e(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+n].join("&")},t.getTileBBox=e,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})}(e)}))),_s=function Ba(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Ea(0,t,e,n)};_s.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},_s.prototype.url=function(t,e){var n=vs.getTileBBox(this.x,this.y,this.z),r=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)};var bs=function Ca(t,e){this.wrap=t,this.canonical=e,this.key=Ea(t,e.z,e.x,e.y)},Ss=function Ia(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new _s(n,+r,+i),this.key=Ea(e,t,r,i)};function Ea(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}Ss.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Ss.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Ss(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ss(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Ss.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Ss.prototype.children=function(t){if(this.overscaledZ>=t)return[new Ss(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Ss(e,this.wrap,e,n,r),new Ss(e,this.wrap,e,n+1,r),new Ss(e,this.wrap,e,n,r+1),new Ss(e,this.wrap,e,n+1,r+1)]},Ss.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Ss.prototype.wrapped=function(){return new Ss(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ss.prototype.unwrapTo=function(t){return new Ss(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Ss.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ss.prototype.toUnwrapped=function(){return new bs(this.wrap,this.canonical)},Ss.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ss.prototype.toCoordinate=function(){return new f(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},hr("CanonicalTileID",_s),hr("OverscaledTileID",Ss,{omit:["posMatrix"]});var Es=function Fa(t,e,n){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=n||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};Es.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},Es.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},Es.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},hr("Level",Es);var xs=function Pa(t,e,n){this.uid=t,this.scale=e||1,this.level=n||new Es(256,512),this.loaded=!!n};xs.prototype.loadFromImage=function(t,e){if(t.height!==t.width)throw new RangeError("DEM tiles must be square");if(e&&"mapbox"!==e&&"terrarium"!==e)return b('"'+e+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var n=this.level=new Es(t.width,t.width/2),r=t.data;this._unpackData(n,r,e||"mapbox");for(var i=0;i<n.dim;i++)n.set(-1,i,n.get(0,i)),n.set(n.dim,i,n.get(n.dim-1,i)),n.set(i,-1,n.get(i,0)),n.set(i,n.dim,n.get(i,n.dim-1));n.set(-1,-1,n.get(0,0)),n.set(n.dim,-1,n.get(n.dim-1,0)),n.set(-1,n.dim,n.get(0,n.dim-1)),n.set(n.dim,n.dim,n.get(n.dim-1,n.dim-1)),this.loaded=!0},xs.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},xs.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},xs.prototype._unpackData=function(t,e,n){for(var r={mapbox:this._unpackMapbox,terrarium:this._unpackTerrarium}[n],i=0;i<t.dim;i++)for(var o=0;o<t.dim;o++){var a=4*(i*t.dim+o);t.set(o,i,this.scale*r(e[a],e[a+1],e[a+2]))}},xs.prototype.getPixels=function(){return new So({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},xs.prototype.backfillBorder=function(t,e,n){var r=this.level,i=t.level;if(r.dim!==i.dim)throw new Error("level mismatch (dem dimension)");var o=e*r.dim,a=e*r.dim+r.dim,s=n*r.dim,u=n*r.dim+r.dim;switch(e){case-1:o=a-1;break;case 1:a=o+1}switch(n){case-1:s=u-1;break;case 1:u=s+1}for(var l=c(o,-r.border,r.dim+r.border),f=c(a,-r.border,r.dim+r.border),p=c(s,-r.border,r.dim+r.border),d=c(u,-r.border,r.dim+r.border),h=-e*r.dim,g=-n*r.dim,y=p;y<d;y++)for(var m=l;m<f;m++)r.set(m,y,i.get(m+h,y+g))},hr("DEMData",xs);var ws=function Ta(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};ws.prototype.encode=function(t){return this._stringToNumber[t]},ws.prototype.decode=function(t){return this._numberToString[t]};var Ts=function Oa(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},Ps={geometry:{configurable:!0}};Ps.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ps.geometry.set=function(t){this._geometry=t},Ts.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Ts.prototype,Ps);var ks=function ja(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new mn(Qi,16,0),this.featureIndexArray=n||new gi};function qa(t,e){return e-t}ks.prototype.insert=function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<e.length;a++){for(var s=e[a],u=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var c=s[l];u[0]=Math.min(u[0],c.x),u[1]=Math.min(u[1],c.y),u[2]=Math.max(u[2],c.x),u[3]=Math.max(u[3],c.y)}u[0]<Qi&&u[1]<Qi&&u[2]>=0&&u[3]>=0&&this.grid.insert(o,u[0],u[1],u[2],u[3])}},ks.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Jo.VectorTile(new hs(this.rawTileData)).layers,this.sourceLayerCoder=new ws(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ks.prototype.query=function(t,e){var n=this;this.loadVTLayers();for(var r=t.params||{},i=Qi/t.tileSize/t.scale,o=Te(r.filter),a=t.queryGeometry,s=t.queryPadding*i,u=1/0,l=1/0,c=-1/0,f=-1/0,p=0;p<a.length;p++)for(var d=a[p],h=0;h<d.length;h++){var g=d[h];u=Math.min(u,g.x),l=Math.min(l,g.y),c=Math.max(c,g.x),f=Math.max(f,g.y)}var y=this.grid.query(u-s,l-s,c+s,f+s);y.sort(qa);for(var m,v={},_=function x(s){var u=y[s];if(u!==m){m=u;var l=n.featureIndexArray.get(u),c=null;n.loadMatchingFeature(v,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,o,r.layers,e,(function(e,r){return c||(c=Ln(e)),r.queryIntersectsFeature(a,e,c,n.z,t.transform,i,t.posMatrix)}))}},b=0;b<y.length;b++)_(b);return v},ks.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var u=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,u)){var l=this.sourceLayerCoder.decode(n),c=this.vtLayers[l].feature(r);if(i(new Vn(this.tileID.overscaledZ),c))for(var f=0;f<u.length;f++){var p=u[f];if(!(o&&o.indexOf(p)<0)){var d=a[p];if(d&&(!s||s(c,d))){var h=new Ts(c,this.z,this.x,this.y);h.layer=d.serialize();var g=t[p];void 0===g&&(g=t[p]=[]),g.push({featureIndex:r,feature:h})}}}}},ks.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=Te(r),u=0,l=t;u<l.length;u+=1){var c=l[u];this.loadMatchingFeature(a,e,n,c,s,i,o)}return a},ks.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},hr("FeatureIndex",ks,{omit:["rawTileData","sourceLayerCoder"]});var Cs={horizontal:1,vertical:2,horizontalOnly:3},Ds={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},As={};function Na(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Za(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function Ka(t,e,n,r,i,o){for(var a=null,s=Na(e,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],f=Na(e-c.x,n,i,o)+c.badness;f<=s&&(a=c,s=f)}return{index:t,x:e,priorBreak:a,badness:s}}function Ja(t,e,n,r){if(!n)return[];if(!t)return[];for(var i,o=[],a=function(t,e,n,r){for(var i=0,o=0;o<t.length;o++){var a=r[t.charCodeAt(o)];a&&(i+=a.metrics.advance+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,u=0;u<t.length;u++){var l=t.charCodeAt(u),c=r[l];c&&!Ds[l]&&(s+=c.metrics.advance+e),u<t.length-1&&(As[l]||!((i=l)<11904)&&(Tn["Bopomofo Extended"](i)||Tn.Bopomofo(i)||Tn["CJK Compatibility Forms"](i)||Tn["CJK Compatibility Ideographs"](i)||Tn["CJK Compatibility"](i)||Tn["CJK Radicals Supplement"](i)||Tn["CJK Strokes"](i)||Tn["CJK Symbols and Punctuation"](i)||Tn["CJK Unified Ideographs Extension A"](i)||Tn["CJK Unified Ideographs"](i)||Tn["Enclosed CJK Letters and Months"](i)||Tn["Halfwidth and Fullwidth Forms"](i)||Tn.Hiragana(i)||Tn["Ideographic Description Characters"](i)||Tn["Kangxi Radicals"](i)||Tn["Katakana Phonetic Extensions"](i)||Tn.Katakana(i)||Tn["Vertical Forms"](i)||Tn["Yi Radicals"](i)||Tn["Yi Syllables"](i)))&&o.push(Ka(u+1,s,a,o,Za(l,t.charCodeAt(u+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Ka(t.length,s,a,o,0,!0))}function $a(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Ha(t,e,n,r,i){if(i){var o=e[t[r].glyph];if(o)for(var a=o.metrics.advance,s=(t[r].x+a)*i,u=n;u<=r;u++)t[u].x-=s}}As[10]=!0,As[32]=!0,As[38]=!0,As[40]=!0,As[41]=!0,As[43]=!0,As[45]=!0,As[47]=!0,As[173]=!0,As[183]=!0,As[8203]=!0,As[8208]=!0,As[8211]=!0,As[8231]=!0,i.commonjsGlobal=a,i.unwrapExports=r,i.createCommonjsModule=n,i.default=self,i.default$1=E,i.getJSON=function(t,e){var n=z(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var r;try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r)}else 401===n.status&&t.url.match(/mapbox.com/)?e(new R(n.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",n.status,t.url)):e(new R(n.statusText,n.status,t.url))},n.send(),n},i.getImage=function(t,e){return I(t,(function(t,n){if(t)e(t);else if(n){var r=new self.Image,i=self.URL||self.webkitURL;r.onload=function(){e(null,r),i.revokeObjectURL(r.src)};var o=new self.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?i.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}))},i.ResourceType=A,i.RGBAImage=So,i.default$2=us,i.ImagePosition=ls,i.getArrayBuffer=I,i.default$3=function(t){return new hs(t).readFields(Aa,[])},i.default$4=Tn,i.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},i.AlphaImage=bo,i.default$5=j,i.endsWith=d,i.extend=h,i.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},i.Evented=U,i.validateStyle=dn,i.validateLight=hn,i.emitValidationErrors=ar,i.default$6=ut,i.number=wt,i.Properties=Sr,i.Transitionable=rr,i.Transitioning=or,i.PossiblyEvaluated=cr,i.DataConstantProperty=fr,i.warnOnce=b,i.uniqueId=function(){return C++},i.default$7=ms,i.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},i.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},i.clamp=c,i.Event=F,i.ErrorEvent=N,i.OverscaledTileID=Ss,i.default$8=Qi,i.createLayout=$r,i.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++)e=Math.min(e,t[o].column),n=Math.min(n,t[o].row),r=Math.max(r,t[o].column),i=Math.max(i,t[o].row);var a=r-e,s=i-n,u=Math.max(a,s),l=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new f((e+r)/2,(n+i)/2,0).zoomTo(l)},i.CanonicalTileID=_s,i.RasterBoundsArray=Mr,i.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return i},i.default$9=G,i.bindAll=y,i.default$10=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},i.parseCacheControl=function(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e},i.default$11=ks,i.default$12=Ts,i.default$13=Te,i.default$14=ts,i.CollisionBoxArray=ti,i.default$15=mi,i.TriangleIndexArray=Yr,i.default$16=Vn,i.default$17=f,i.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},i.default$18=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.mat4=go,i.vec4=co,i.getSizeData=jo,i.evaluateSizeForFeature=function(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?wt(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize},i.evaluateSizeForZoom=function(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=c(Se(r,n.specification).interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+a*(o.max-o.min)}}var s=t.propertyValue,u=t.zoomRange;return{uSizeT:c(Se(s,n.specification).interpolationFactor(e,u.min,u.max),0,1),uSize:0}},i.addDynamicAttributes=Do,i.default$19=ns,i.WritingMode=Cs,i.multiPolygonIntersectsBufferedPoint=Rn,i.multiPolygonIntersectsMultiPolygon=Un,i.multiPolygonIntersectsBufferedMultiLine=Dn,i.polygonIntersectsPolygon=function(t,e){for(var n=0;n<t.length;n++)if(Xn(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(Xn(t,e[r]))return!0;return!!Zn(t,e)},i.distToSegmentSquared=$n,i.default$20=so,i.default$21=Er,i.default$22=function(t){return new ss[t.type](t)},i.clone=g,i.filterObject=m,i.mapObject=v,i.registerForPluginAvailability=function(t){return An?t({pluginURL:An,completionCallback:Pn}):On.once("pluginAvailable",t),t},i.evented=On,i.default$23=wn,i.default$24=Wi,i.PosArray=Rr,i.UnwrappedTileID=bs,i.ease=k,i.bezier=l,i.setRTLTextPlugin=function(t,e){if(kn)throw new Error("setRTLTextPlugin cannot be called multiple times.");kn=!0,An=t,Pn=function Ar(t){t?(kn=!1,An=null,e&&e(t)):In=!0},On.fire(new F("pluginAvailable",{pluginURL:An,completionCallback:Pn}))},i.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},i.default$25=Ga,i.register=hr,i.GLYPH_PBF_BORDER=ys,i.shapeText=function(t,e,n,r,i,o,a,s,u,l){var c=t.trim();l===Cs.vertical&&(c=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&wr(r)&&!Va[t[n+1]]||i&&wr(i)&&!Va[t[n-1]]||!Va[t[n]]?e+=t[n]:e+=Va[t[n]]}return e}(c));var f=[],p={positionedGlyphs:f,text:c,top:s[1],bottom:s[1],left:s[0],right:s[0],writingMode:l},d=zn.processBidirectionalText;return function(t,e,n,r,i,o,a,s,u){for(var l=0,c=-17,f=0,p=t.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,h=0,g=n;h<g.length;h+=1){var y=g[h];if((y=y.trim()).length){for(var m=p.length,v=0;v<y.length;v++){var _=y.charCodeAt(v),b=e[_];b&&(br(_)&&a!==Cs.horizontal?(p.push({glyph:_,x:l,y:0,vertical:!0}),l+=u+s):(p.push({glyph:_,x:l,y:c,vertical:!1}),l+=b.metrics.advance+s))}if(p.length!==m){var S=l-s;f=Math.max(S,f),Ha(p,e,m,p.length-1,d)}l=0,c+=r}else c+=r}var E=$a(i),x=E.horizontalAlign,w=E.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(e-n)*i,u=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(p,d,x,w,f,r,n.length);var T=n.length*r;t.top+=-w*T,t.bottom=t.top+T,t.left+=-x*f,t.right=t.left+f}(p,e,d?d(c,Ja(c,a,n,e)):function(t,e){for(var n=[],r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}(c,Ja(c,a,n,e)),r,i,o,l,a,u),!!f.length&&p},i.shapeIcon=function(t,e,n){var r=$a(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*i,l=u+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}},i.allowsVerticalWritingMode=gr,i.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1)if(!xr(n[e].charCodeAt(0)))return!1;return!0},i.default$26=$i,i.default$27=ws,i.default$28=fs,i.default$29=Jo,i.default$30=hs,i.default$31=xs,i.__moduleExports=Jo,i.default$32=E,i.__moduleExports$1=hs,i.plugin=zn})),define(0,(function(r){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function i(e){for(var n="",i=0,o=r.default$18;i<o.length;i+=1)n+="/"+t(e[o[i]]);return n}var a=function r(t){t&&this.replace(t)};function n(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],p=t[a+1];if(!p)return!1;var d=c.angleTo(f)-f.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(p)}return!0}function o(t,e,i,o,a,s,u,l,c){var f=o?.6*s*u:0,p=Math.max(o?o.right-o.left:0,a?a.right-a.left:0),d=0===t[0].x||t[0].x===c||0===t[0].y||t[0].y===c;return e-p*u<e/4&&(e=p*u+e/4),function t(e,i,o,a,s,u,l,c,f){for(var p=u/2,d=0,h=0;h<e.length-1;h++)d+=e[h].dist(e[h+1]);for(var g=0,y=i-o,m=[],v=0;v<e.length-1;v++){for(var _=e[v],b=e[v+1],S=_.dist(b),E=b.angleTo(_);y+o<g+S;){var x=((y+=o)-g)/S,w=r.number(_.x,b.x,x),T=r.number(_.y,b.y,x);if(w>=0&&w<f&&T>=0&&T<f&&y-p>=0&&y+p<=d){var P=new r.default$25(w,T,E,v);P._round(),a&&!n(e,P,u,a,s)||m.push(P)}}g+=S}return c||m.length||l||(m=t(e,g/2,o,a,s,u,l,!0,f)),m}(t,d?e/2*l%e:(p/2+2*s)*u*l%e,e,f,i,p*u,d,!1,c)}a.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},a.prototype.update=function(t,e){for(var n=this,o=0,a=t;o<a.length;o+=1){var s=a[o];n._layerConfigs[s.id]=s;var u=n._layers[s.id]=r.default$22(s);u._featureFilter=r.default$13(u.filter)}for(var l=0,c=e;l<c.length;l+=1){var f=c[l];delete n._layerConfigs[f],delete n._layers[f]}this.familiesBySource={};for(var p=0,d=function(t){for(var e={},n=0;n<t.length;n++){var r=i(t[n]),o=e[r];o||(o=e[r]=[]),o.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}(r.values(this._layerConfigs));p<d.length;p+=1){var h=d[p].map((function(t){return n._layers[t.id]})),g=h[0];if("none"!==g.visibility){var y=g.source||"",m=n.familiesBySource[y];m||(m=n.familiesBySource[y]={});var v=g.sourceLayer||"_geojsonTileLayer",_=m[v];_||(_=m[v]=[]),_.push(h)}}};var s=function a(){this.opacity=0,this.targetOpacity=0,this.time=0};s.prototype.clone=function(){var t=new s;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},r.register("OpacityState",s);var u=function s(t,e,n,r,i,o,a,u,l,c,f){var p=a.top*u-l,d=a.bottom*u+l,h=a.left*u-l,g=a.right*u+l;if(this.boxStartIndex=t.length,c){var y=d-p,m=g-h;y>0&&(y=Math.max(10*u,y),this._addLineCollisionCircles(t,e,n,n.segment,m,y,r,i,o,f))}else t.emplaceBack(n.x,n.y,h,p,g,d,r,i,o,0,0);this.boxEndIndex=t.length};u.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,u,l){var c=o/2,f=Math.floor(i/c),p=1+.4*Math.log(l)/Math.LN2,d=Math.floor(f*p/2),h=-o/2,g=n,y=r+1,m=h,v=-i/2,_=v-i/4;do{if(--y<0){if(m>v)return;y=0;break}m-=e[y].dist(g),g=e[y]}while(m>_);for(var b=e[y].dist(e[y+1]),S=-d;S<f+d;S++){var E=S*c,x=v+E;if(E<0&&(x+=E),E>i&&(x+=E-i),!(x<m)){for(;m+b<x;){if(m+=b,++y+1>=e.length)return;b=e[y].dist(e[y+1])}var w=x-m,T=e[y],P=e[y+1].sub(T)._unit()._mult(w)._add(T)._round(),k=Math.abs(x-h)<c?0:.8*(x-h);t.emplaceBack(P.x,P.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,k)}}};var l=h,A=h;function h(t,e){if(!(this instanceof h))return new h(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||c,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function c(t,e){return t<e?-1:t>e?1:0}function f(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0],c=0;c<u.length;c++){var f=u[c];(!c||f.x<i)&&(i=f.x),(!c||f.y<o)&&(o=f.y),(!c||f.x>a)&&(a=f.x),(!c||f.y>s)&&(s=f.y)}var h=a-i,g=s-o,y=Math.min(h,g),m=y/2,v=new l(null,p);if(0===y)return new r.default$1(i,o);for(var _=i;_<a;_+=y)for(var b=o;b<s;b+=y)v.push(new d(_+m,b+m,m,t));for(var S=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,e+=3*c}return new d(n/e,r/e,0,t)}(t),E=v.length;v.length;){var x=v.pop();(x.d>S.d||!S.d)&&(S=x,n&&console.log("found best %d after %d probes",Math.round(1e4*x.d)/1e4,E)),x.max-S.d<=e||(m=x.h/2,v.push(new d(x.p.x-m,x.p.y-m,m,t)),v.push(new d(x.p.x+m,x.p.y-m,m,t)),v.push(new d(x.p.x-m,x.p.y+m,m,t)),v.push(new d(x.p.x+m,x.p.y+m,m,t)),E+=4)}return n&&(console.log("num probes: "+E),console.log("best distance: "+S.d)),S.p}function p(t,e){return e.max-t.max}function d(t,e,n,i){this.p=new r.default$1(t,e),this.h=n,this.d=function(t,e){for(var n=!1,i=1/0,o=0;o<e.length;o++)for(var a=e[o],s=0,u=a.length,l=u-1;s<u;l=s++){var c=a[s],f=a[l];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),i=Math.min(i,r.distToSegmentSquared(t,c,f))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}function g(t,e,n,i,o,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=r.default$8/s,t.compareText={},t.iconsNeedLinear=!1;var u=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var f=t.textSizeData.zoomRange,p=f.min,d=f.max;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new r.default$16(p)),l["text-size"].possiblyEvaluate(new r.default$16(d))]}if("composite"===t.iconSizeData.functionType){var h=t.iconSizeData.zoomRange,g=h.min,y=h.max;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new r.default$16(g)),l["icon-size"].possiblyEvaluate(new r.default$16(y))]}c.layoutTextSize=l["text-size"].possiblyEvaluate(new r.default$16(t.zoom+1)),c.layoutIconSize=l["icon-size"].possiblyEvaluate(new r.default$16(t.zoom+1)),c.textMaxSize=l["text-size"].possiblyEvaluate(new r.default$16(18));for(var m=24*u.get("text-line-height"),_="map"===u.get("text-rotation-alignment")&&"line"===u.get("symbol-placement"),b=u.get("text-keep-upright"),S=0,E=t.features;S<E.length;S+=1){var x=E[S],w=u.get("text-font").evaluate(x).join(","),T=e[w]||{},P=n[w]||{},k={},C=x.text;if(C){var D=u.get("text-offset").evaluate(x).map((function(t){return 24*t})),A=24*u.get("text-letter-spacing").evaluate(x),R=r.allowsLetterSpacing(C)?A:0,M=u.get("text-anchor").evaluate(x),L=u.get("text-justify").evaluate(x),I="line"!==u.get("symbol-placement")?24*u.get("text-max-width").evaluate(x):0;k.horizontal=r.shapeText(C,T,I,m,M,L,R,D,24,r.WritingMode.horizontal),r.allowsVerticalWritingMode(C)&&_&&b&&(k.vertical=r.shapeText(C,T,I,m,M,L,R,D,24,r.WritingMode.vertical))}var O=void 0;if(x.icon){var F=i[x.icon];F&&(O=r.shapeIcon(o[x.icon],u.get("icon-offset").evaluate(x),u.get("icon-anchor").evaluate(x)),void 0===t.sdfIcons?t.sdfIcons=F.sdf:t.sdfIcons!==F.sdf&&r.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),F.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==u.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(k.horizontal||O)&&v(t,x,k,O,P,c)}a&&t.generateCollisionDebugBuffers()}function v(t,e,n,i,a,l){var c=l.layoutTextSize.evaluate(e),p=l.layoutIconSize.evaluate(e),d=l.textMaxSize.evaluate(e);void 0===d&&(d=c);var h=t.layers[0].layout,g=h.get("text-offset").evaluate(e),v=h.get("icon-offset").evaluate(e),_=c/24,b=t.tilePixelRatio*_,S=t.tilePixelRatio*d/24,E=t.tilePixelRatio*p,x=t.tilePixelRatio*h.get("symbol-spacing"),w=h.get("text-padding")*t.tilePixelRatio,T=h.get("icon-padding")*t.tilePixelRatio,P=h.get("text-max-angle")/180*Math.PI,k="map"===h.get("text-rotation-alignment")&&"line"===h.get("symbol-placement"),C="map"===h.get("icon-rotation-alignment")&&"line"===h.get("symbol-placement"),D=x/2,A=function L(o,c){c.x<0||c.x>=r.default$8||c.y<0||c.y>=r.default$8||t.symbolInstances.push(function(t,e,n,i,o,a,l,c,f,p,d,h,g,m,v,_,b,S,E,x,w){var T,P,k=t.addToLineVertexArray(e,n),C=0,D=0,A=0,R=i.horizontal?i.horizontal.text:"",M=[];i.horizontal&&(T=new u(l,n,e,c,f,p,i.horizontal,d,h,g,t.overscaling),D+=y(t,e,i.horizontal,a,g,E,m,k,i.vertical?r.WritingMode.horizontal:r.WritingMode.horizontalOnly,M,x,w),i.vertical&&(A+=y(t,e,i.vertical,a,g,E,m,k,r.WritingMode.vertical,M,x,w)));var L=T?T.boxStartIndex:t.collisionBoxArray.length,I=T?T.boxEndIndex:t.collisionBoxArray.length;if(o){var O=function(t,e,n,i,o,a){var s,u,l,c,f=e.image,p=n.layout,d=e.top-1/f.pixelRatio,h=e.left-1/f.pixelRatio,g=e.bottom+1/f.pixelRatio,y=e.right+1/f.pixelRatio;if("none"!==p.get("icon-text-fit")&&o){var m=y-h,v=g-d,_=p.get("text-size").evaluate(a)/24,b=o.left*_,S=o.right*_,E=o.top*_,x=S-b,w=o.bottom*_-E,T=p.get("icon-text-fit-padding")[0],P=p.get("icon-text-fit-padding")[1],k=p.get("icon-text-fit-padding")[2],C=p.get("icon-text-fit-padding")[3],D="width"===p.get("icon-text-fit")?.5*(w-v):0,A="height"===p.get("icon-text-fit")?.5*(x-m):0,R="width"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?x:m,M="height"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?w:v;s=new r.default$1(b+A-C,E+D-T),u=new r.default$1(b+A+P+R,E+D-T),l=new r.default$1(b+A+P+R,E+D+k+M),c=new r.default$1(b+A-C,E+D+k+M)}else s=new r.default$1(h,d),u=new r.default$1(y,d),l=new r.default$1(y,g),c=new r.default$1(h,g);var L=n.layout.get("icon-rotate").evaluate(a)*Math.PI/180;if(L){var I=Math.sin(L),O=Math.cos(L),F=[O,-I,I,O];s._matMult(F),u._matMult(F),c._matMult(F),l._matMult(F)}return[{tl:s,tr:u,bl:c,br:l,tex:f.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,o,a,0,i.horizontal,E);P=new u(l,n,e,c,f,p,o,v,_,!1,t.overscaling),C=4*O.length;var F=t.iconSizeData,N=null;"source"===F.functionType?N=[10*a.layout.get("icon-size").evaluate(E)]:"composite"===F.functionType&&(N=[10*w.compositeIconSizes[0].evaluate(E),10*w.compositeIconSizes[1].evaluate(E)]),t.addSymbols(t.icon,O,N,S,b,E,!1,e,k.lineStartIndex,k.lineLength)}var B=P?P.boxStartIndex:t.collisionBoxArray.length,U=P?P.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=r.default$14.MAX_GLYPHS&&r.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:R,textBoxStartIndex:L,textBoxEndIndex:I,iconBoxStartIndex:B,iconBoxEndIndex:U,textOffset:m,iconOffset:S,anchor:e,line:n,featureIndex:c,feature:E,numGlyphVertices:D,numVerticalGlyphVertices:A,numIconVertices:C,textOpacityState:new s,iconOpacityState:new s,isDuplicate:!1,placedTextSymbolIndices:M,crossTileID:0}}(t,c,o,n,i,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,b,w,k,g,E,T,C,v,e,a,l))};if("line"===h.get("symbol-placement"))for(var R=0,M=function(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],p=u[c+1];f.x<0&&p.x<0||(f.x<0?f=new r.default$1(0,f.y+(p.y-f.y)*((0-f.x)/(p.x-f.x)))._round():p.x<0&&(p=new r.default$1(0,f.y+(p.y-f.y)*((0-f.x)/(p.x-f.x)))._round()),f.y<0&&p.y<0||(f.y<0?f=new r.default$1(f.x+(p.x-f.x)*((0-f.y)/(p.y-f.y)),0)._round():p.y<0&&(p=new r.default$1(f.x+(p.x-f.x)*((0-f.y)/(p.y-f.y)),0)._round()),f.x>=i&&p.x>=i||(f.x>=i?f=new r.default$1(i,f.y+(p.y-f.y)*((i-f.x)/(p.x-f.x)))._round():p.x>=i&&(p=new r.default$1(i,f.y+(p.y-f.y)*((i-f.x)/(p.x-f.x)))._round()),f.y>=o&&p.y>=o||(f.y>=o?f=new r.default$1(f.x+(p.x-f.x)*((o-f.y)/(p.y-f.y)),o)._round():p.y>=o&&(p=new r.default$1(f.x+(p.x-f.x)*((o-f.y)/(p.y-f.y)),o)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(p)))))}return a}(e.geometry,0,0,r.default$8,r.default$8);R<M.length;R+=1)for(var I=M[R],O=0,F=o(I,x,P,n.vertical||n.horizontal,i,24,S,t.overscaling,r.default$8);O<F.length;O+=1){var N=F[O],B=n.horizontal;B&&m(t,B.text,D,N)||A(I,N)}else if("Polygon"===e.type)for(var U=0,z=r.default$26(e.geometry,0);U<z.length;U+=1){var j=z[U],V=f(j,16);A(j[0],new r.default$25(V.x,V.y,0))}else if("LineString"===e.type)for(var G=0,W=e.geometry;G<W.length;G+=1){var q=W[G];A(q,new r.default$25(q[0].x,q[0].y,0))}else if("Point"===e.type)for(var H=0,K=e.geometry;H<K.length;H+=1)for(var Y=0,X=K[H];Y<X.length;Y+=1){var Z=X[Y];A([Z],new r.default$25(Z.x,Z.y,0))}}function y(t,e,n,i,o,a,s,u,l,c,f,p){var d=function(t,e,n,i,o,a){for(var s=n.layout.get("text-rotate").evaluate(o)*Math.PI/180,u=n.layout.get("text-offset").evaluate(o).map((function(t){return 24*t})),l=e.positionedGlyphs,c=[],f=0;f<l.length;f++){var p=l[f],d=a[p.glyph];if(d){var h=d.rect;if(h){var g=r.GLYPH_PBF_BORDER+1,y=d.metrics.advance/2,m=i?[p.x+y,p.y]:[0,0],v=i?[0,0]:[p.x+y+u[0],p.y+u[1]],_=d.metrics.left-g-y+v[0],b=-d.metrics.top-g+v[1],S=_+h.w,E=b+h.h,x=new r.default$1(_,b),w=new r.default$1(S,b),T=new r.default$1(_,E),P=new r.default$1(S,E);if(i&&p.vertical){var k=new r.default$1(-y,y),C=-Math.PI/2,D=new r.default$1(5,0);x._rotateAround(C,k)._add(D),w._rotateAround(C,k)._add(D),T._rotateAround(C,k)._add(D),P._rotateAround(C,k)._add(D)}if(s){var A=Math.sin(s),R=Math.cos(s),M=[R,-A,A,R];x._matMult(M),w._matMult(M),T._matMult(M),P._matMult(M)}c.push({tl:x,tr:w,bl:T,br:P,tex:h,writingMode:e.writingMode,glyphOffset:m})}}}return c}(0,n,i,o,a,f),h=t.textSizeData,g=null;return"source"===h.functionType?g=[10*i.layout.get("text-size").evaluate(a)]:"composite"===h.functionType&&(g=[10*p.compositeTextSizes[0].evaluate(a),10*p.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,d,g,s,o,a,l,e,u.lineStartIndex,u.lineLength),c.push(t.text.placedSymbolArray.length-1),4*d.length}function m(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}h.prototype={push:function push(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function pop(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function peek(){return this.data[0]},_up:function _up(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function _down(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},l.default=A;var R=function x(t){var e=new r.AlphaImage({width:0,height:0}),n={},i=new r.default$2(0,0,{autoResize:!0});for(var o in t){var a=t[o],s=n[o]={};for(var u in a){var l=a[+u];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var c=i.packOne(l.bitmap.width+2,l.bitmap.height+2);e.resize({width:i.w,height:i.h}),r.AlphaImage.copy(l.bitmap,e,{x:0,y:0},{x:c.x+1,y:c.y+1},l.bitmap),s[u]={rect:c,metrics:l.metrics}}}}i.shrink(),e.resize({width:i.w,height:i.h}),this.image=e,this.positions=n};r.register("GlyphAtlas",R);var M=function w(t){this.tileID=new r.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};function S(t,e){for(var n=new r.default$16(e),i=0,o=t;i<o.length;i+=1)o[i].recalculate(n)}M.prototype.parse=function(t,e,n,i){var o=this;this.status="parsing",this.data=t,this.collisionBoxArray=new r.CollisionBoxArray;var a=new r.default$27(Object.keys(t.layers).sort()),s=new r.default$11(this.tileID);s.bucketLayerIDs=[];var u,l,c,f={},p={featureIndex:s,iconDependencies:{},glyphDependencies:{}},d=e.familiesBySource[this.source];for(var h in d){var y=t.layers[h];if(y){1===y.version&&r.warnOnce('Vector tile source "'+o.source+'" layer "'+h+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var m=a.encode(h),v=[],_=0;_<y.length;_++){var b=y.feature(_);v.push({feature:b,index:_,sourceLayerIndex:m})}for(var E=0,x=d[h];E<x.length;E+=1){var w=x[E],T=w[0];T.minzoom&&o.zoom<Math.floor(T.minzoom)||T.maxzoom&&o.zoom>=T.maxzoom||"none"!==T.visibility&&(S(w,o.zoom),(f[T.id]=T.createBucket({index:s.bucketLayerIDs.length,layers:w,zoom:o.zoom,pixelRatio:o.pixelRatio,overscaling:o.overscaling,collisionBoxArray:o.collisionBoxArray,sourceLayerIndex:m})).populate(v,p),s.bucketLayerIDs.push(w.map((function(t){return t.id}))))}}}var P=r.mapObject(p.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(P).length?n.send("getGlyphs",{uid:this.uid,stacks:P},(function(t,e){u||(u=t,l=e,k.call(o))})):l={};var C=Object.keys(p.iconDependencies);function k(){if(u)return i(u);if(l&&c){var t=new R(l),e=new r.default$28(c);for(var n in f){var o=f[n];o instanceof r.default$14&&(S(o.layers,this.zoom),g(o,l,t.positions,c,e.positions,this.showCollisionBoxes))}this.status="done",i(null,{buckets:r.values(f).filter((function(t){return!t.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,iconAtlasImage:e.image})}}C.length?n.send("getImages",{icons:C},(function(t,e){u||(u=t,c=e,k.call(o))})):c={},k.call(this)};var I=function M(t){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(t)};function b(t,e){var n=r.getArrayBuffer(t.request,(function(t,n){t?e(t):n&&e(null,{vectorTile:new r.default$29.VectorTile(new r.default$30(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})}));return function(){n.abort(),e()}}var B=function _(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||b,this.loading={},this.loaded={}};B.prototype.loadTile=function(t,e){var n=this,i=t.uid;this.loading||(this.loading={});var o=this.loading[i]=new M(t);o.abort=this.loadVectorData(t,(function(a,s){if(delete n.loading[i],a||!s)return e(a);var u=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var c={};if(t.request&&t.request.collectResourceTiming){var f=I(t.request.url);f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,n.layerIndex,n.actor,(function(t,n){if(t||!n)return e(t);e(null,r.extend({rawTileData:u.slice(0)},n,l,c))})),n.loaded=n.loaded||{},n.loaded[i]=o}))},B.prototype.reloadTile=function(t,e){var n=this.loaded,r=t.uid,i=this;if(n&&n[r]){var o=n[r];o.showCollisionBoxes=t.showCollisionBoxes;var s=function a(t,n){var r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,i.actor,r)),e(t,n)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&o.parse(o.vectorTile,this.layerIndex,this.actor,s)}},B.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},B.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var z=function I(){this.loading={},this.loaded={}};z.prototype.loadTile=function(t,e){var n=t.uid,i=t.encoding,o=new r.default$31(n);this.loading[n]=o,o.loadFromImage(t.rawImageData,i),delete this.loading[n],this.loaded=this.loaded||{},this.loaded[n]=o,e(null,o)},z.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var V={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function T(t){var e=0;if(t&&t.length>0){e+=Math.abs(P(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(P(t[n]))}return e}function P(t){var e,n,r,i,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,i=u-1,o=0):a===u-1?(r=u-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(k(t[o][0])-k(e[0]))*Math.sin(k(n[1]));s=s*V.RADIUS*V.RADIUS/2}return s}function k(t){return t*Math.PI/180}var Y={geometry:function e(t){var n,r=0;switch(t.type){case"Polygon":return T(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)r+=T(t.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)r+=e(t.geometries[n]);return r}},ring:P};function D(t,e){return function(n){return t(n,e)}}function O(t,e){e=!!e,t[0]=C(t[0],e);for(var n=1;n<t.length;n++)t[n]=C(t[n],!e);return t}function C(t,e){return function(t){return Y.ring(t)>=0}(t)===e?t:t.reverse()}var $=r.default$29.VectorTileFeature.prototype.toGeoJSON,J=function E(t){this._feature=t,this.extent=r.default$8,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};J.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,n=this._feature.geometry;e<n.length;e+=1){var i=n[e];t.push([new r.default$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var f=c[l];u.push(new r.default$1(f[0],f[1]))}o.push(u)}return o},J.prototype.toGeoJSON=function(t,e,n){return $.call(this,t,e,n)};var tt=function N(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=r.default$8,this.length=t.length,this._features=t};tt.prototype.feature=function(t){return new J(this._features[t])};var et=r.__moduleExports.VectorTileFeature,nt=F;function F(t,e){this.options=e||{},this.features=t,this.length=t.length}function G(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}F.prototype.feature=function(t){return new G(this.features[t],this.options.extent)},G.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],o=0;o<n.length;o++)i.push(new r.default$32(n[o][0],n[o][1]));this.geometry.push(i)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},G.prototype.toGeoJSON=et.prototype.toGeoJSON;var rt=Z,it=Z,ot=nt;function Z(t){var e=new r.__moduleExports$1;return function(t,e){for(var n in t.layers)e.writeMessage(3,j,t.layers[n])}(t,e),e.finish()}function j(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,X,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,K,o[n])}function X(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,q,t),e.writeVarintField(3,n.type),e.writeMessage(4,Q,n)}function q(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,p=a[f];void 0===p&&(i.push(l),p=i.length-1,a[f]=p),e.writeVarint(p)}}function U(t,e){return(e<<3)+(7&t)}function H(t){return t<<1^t>>31}function Q(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),e.writeVarint(U(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&e.writeVarint(U(2,c-1));var p=u[f].x-i,d=u[f].y-o;e.writeVarint(H(p)),e.writeVarint(H(d)),i+=p,o+=d}3===r&&e.writeVarint(U(7,0))}}function K(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}rt.fromVectorTileJs=it,rt.fromGeojsonVt=function W(t,e){e=e||{};var n={};for(var r in t)n[r]=new nt(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return Z({layers:n})},rt.GeoJSONWrapper=ot;var at=function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=Math.floor((i+o)/2);!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var p=n[2*r+a],d=i,h=o;for(te(t,n,i,r),n[2*o+a]>p&&te(t,n,i,o);d<h;){for(te(t,n,d,h),d++,h--;n[2*d+a]<p;)d++;for(;n[2*h+a]>p;)h--}n[2*i+a]===p?te(t,n,i,h):te(t,n,++h,o),h<=r&&(i=h+1),r<=h&&(o=h-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}};function te(t,e,n,r){ie(t,n,r),ie(e,2*n,2*r),ie(e,2*n+1,2*r+1)}function ie(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function oe(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}var st=function ae(t,e,n,r,i){return new se(t,e,n,r,i)};function se(t,e,n,r,i){e=e||le,n=n||ue,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var o=0;o<t.length;o++)this.ids[o]=o,this.coords[2*o]=e(t[o]),this.coords[2*o+1]=n(t[o]);at(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function le(t){return t[0]}function ue(t){return t[1]}function ce(t){this.options=me(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function fe(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function pe(t,e){var n=t.geometry.coordinates;return{x:ve(n[0]),y:ye(n[1]),zoom:1/0,id:e,parentId:-1}}function de(t){return{type:"Feature",properties:ge(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function ge(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return me(me({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function ve(t){return t/360+.5}function ye(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function me(t,e){for(var n in e)t[n]=e[n];return t}function xe(t){return t.x}function we(t){return t.y}function Se(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function Me(t,e,n,r){var i={id:t||null,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)be(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)be(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)be(t,e[r][i])}(i),i}function be(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function _e(t,e,n){if(e.geometry){var r=e.geometry.coordinates,i=e.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),a=[];if("Point"===i)Ie(r,a);else if("MultiPoint"===i)for(var s=0;s<r.length;s++)Ie(r[s],a);else if("LineString"===i)ze(r,a,o,!1);else if("MultiLineString"===i)if(n.lineMetrics)for(s=0;s<r.length;s++)return a=[],ze(r[s],a,o,!1),void t.push(Me(e.id,"LineString",a,e.properties));else Te(r,a,o,!1);else if("Polygon"===i)Te(r,a,o,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(s=0;s<e.geometry.geometries.length;s++)_e(t,{id:e.id,geometry:e.geometry.geometries[s],properties:e.properties},n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(s=0;s<r.length;s++){var u=[];Te(r[s],u,o,!0),a.push(u)}}t.push(Me(e.id,i,a,e.properties))}}function Ie(t,e){e.push(Pe(t[0])),e.push(ke(t[1])),e.push(0)}function ze(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var u=Pe(t[s][0]),l=ke(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=e.length-3;e[2]=1,function e(t,n,r,i){for(var o,a=i,s=t[n],u=t[n+1],l=t[r],c=t[r+1],f=n+3;f<r;f+=3){var p=Se(t[f],t[f+1],s,u,l,c);p>a&&(o=f,a=p)}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Te(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];ze(t[i],o,n,r),e.push(o)}}function Pe(t){return t/360+.5}function ke(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Le(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<=r)return t;if(o>r||a<n)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.type,d=0===i?c.minX:c.minY,h=0===i?c.maxX:c.maxY;if(d>=n&&h<=r)u.push(c);else if(!(d>r||h<n)){var g=[];if("Point"===p||"MultiPoint"===p)$e(f,g,n,r,i);else if("LineString"===p)De(f,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)Ce(f,g,n,r,i,!1);else if("Polygon"===p)Ce(f,g,n,r,i,!0);else if("MultiPolygon"===p)for(var y=0;y<f.length;y++){var m=[];Ce(f[y],m,n,r,i,!0),m.length&&g.push(m)}if(g.length){if(s.lineMetrics&&"LineString"===p){for(y=0;y<g.length;y++)u.push(Me(c.id,p,g[y],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===g.length?"Point":"MultiPoint"),u.push(Me(c.id,p,g,c.tags))}}}return u.length?u:null}function $e(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function De(t,e,n,r,i,o,a){for(var s,u,l=Oe(t),c=0===i?Ee:Ne,f=t.start,p=0;p<t.length-3;p+=3){var d=t[p],h=t[p+1],g=t[p+2],y=t[p+3],m=t[p+4],v=0===i?d:h,_=0===i?y:m,b=!1;a&&(s=Math.sqrt(Math.pow(d-y,2)+Math.pow(h-m,2))),v<n?_>=n&&(u=c(l,d,h,y,m,n),a&&(l.start=f+s*u)):v>r?_<=r&&(u=c(l,d,h,y,m,r),a&&(l.start=f+s*u)):Ae(l,d,h,g),_<n&&v>=n&&(u=c(l,d,h,y,m,n),b=!0),_>r&&v<=r&&(u=c(l,d,h,y,m,r),b=!0),!o&&b&&(a&&(l.end=f+s*u),e.push(l),l=Oe(t)),a&&(f+=s)}var S=t.length-3;d=t[S],h=t[S+1],g=t[S+2],(v=0===i?d:h)>=n&&v<=r&&Ae(l,d,h,g),S=l.length-3,o&&S>=3&&(l[S]!==l[0]||l[S+1]!==l[1])&&Ae(l,l[0],l[1],l[2]),l.length&&e.push(l)}function Oe(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Ce(t,e,n,r,i,o){for(var a=0;a<t.length;a++)De(t[a],e,n,r,i,o,!1)}function Ae(t,e,n,r){t.push(e),t.push(n),t.push(r)}function Ee(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function Ne(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function Re(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=Be(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(Be(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(Be(o.geometry[s][l],e));i.push(u)}n.push(Me(o.id,a,i,o.tags))}return n}function Be(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function Fe(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(Ge(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(Ge(l[r][i],l[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function Ge(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Ve(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Je(a,t[s],o,i);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function Je(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)We(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)We(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)We(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},e.tags)c[f]=e.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function We(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Ye(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)_e(n,t.features[r],e);else"Feature"===t.type?_e(n,t,e):_e(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=Le(t,1,-1-n,n,0,-1,2,e),o=Le(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=Le(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=Re(i,1).concat(r)),o&&(r=r.concat(Re(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ze(t,e,n){return 32*((1<<t)*n+e)+t}function je(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new tt(r.features),o=rt(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}se.prototype={range:function range(t,e,n,r){return function re(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),d=l.pop();if(p-d<=a)for(var h=d;h<=p;h++)s=e[2*h],u=e[2*h+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[h]);else{var g=Math.floor((d+p)/2);s=e[2*g],u=e[2*g+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[g]);var y=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(g-1),l.push(y)),(0===f?i>=s:o>=u)&&(l.push(g+1),l.push(p),l.push(y))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function within(t,e,n){return function ne(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var p=f;p<=c;p++)oe(e[2*p],e[2*p+1],n,r)<=u&&s.push(t[p]);else{var d=Math.floor((f+c)/2),h=e[2*d],g=e[2*d+1];oe(h,g,n,r)<=u&&s.push(t[d]);var y=(l+1)%2;(0===l?n-i<=h:r-i<=g)&&(a.push(f),a.push(d-1),a.push(y)),(0===l?n+i>=h:r+i>=g)&&(a.push(d+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}},ce.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function initial(){return{}},map:function map(t){return t}},load:function load(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(pe);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=st(r,xe,we,this.options.nodeSize,Float32Array),r=this._cluster(r,i),e&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=st(r,xe,we,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function getClusters(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(ve(t[0]),ye(t[3]),ve(t[2]),ye(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.numPoints?de(a):this.points[a.id])}return i},getChildren:function getChildren(t,e){for(var n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=this.trees[e+1].within(n.x,n.y,r),o=[],a=0;a<i.length;a++){var s=this.trees[e+1].points[i[a]];s.parentId===t&&o.push(s.numPoints?de(s):this.points[s.id])}return o},getLeaves:function getLeaves(t,e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,t,e,n,r,0),i},getTile:function getTile(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius/o,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,u),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},getClusterExpansionZoom:function getClusterExpansionZoom(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function _appendLeaves(t,e,n,r,i,o){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(t,u.cluster_id,n+1,r,i,o):o<i?o++:t.push(a[s]),t.length===r)break}return o},_addTileFeatures:function _addTileFeatures(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?ge(s):this.points[s.id].properties})}},_limitZoom:function _limitZoom(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function _cluster(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var o=t[i];if(!(o.zoom<=e)){o.zoom=e;var a=this.trees[e+1],s=a.within(o.x,o.y,r),u=o.numPoints||1,l=o.x*u,c=o.y*u,f=null;this.options.reduce&&(f=this.options.initial(),this._accumulate(f,o));for(var p=0;p<s.length;p++){var d=a.points[s[p]];if(e<d.zoom){var h=d.numPoints||1;d.zoom=e,l+=d.x*h,c+=d.y*h,u+=h,d.parentId=i,this.options.reduce&&this._accumulate(f,d)}}1===u?n.push(o):(o.parentId=i,n.push(fe(l/u,c/u,u,i,f)))}}return n},_accumulate:function _accumulate(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}},Ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,debug:0},Ye.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,f=Ze(e,n,r),p=this.tiles[f];if(!p&&(l>1&&console.time("creation"),p=this.tiles[f]=Ve(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=t,i){if(e===u.maxZoom||e===i)continue;var h=1<<i-e;if(n!==Math.floor(o/h)||r!==Math.floor(a/h))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var g,y,m,v,_,b,S=.5*u.buffer/u.extent,E=.5-S,x=.5+S,w=1+S;g=y=m=v=null,_=Le(t,c,n-S,n+x,0,p.minX,p.maxX,u),b=Le(t,c,n+E,n+w,0,p.minX,p.maxX,u),t=null,_&&(g=Le(_,c,r-S,r+x,1,p.minY,p.maxY,u),y=Le(_,c,r+E,r+w,1,p.minY,p.maxY,u),_=null),b&&(m=Le(b,c,r-S,r+x,1,p.minY,p.maxY,u),v=Le(b,c,r+E,r+w,1,p.minY,p.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*r),s.push(y||[],e+1,2*n,2*r+1),s.push(m||[],e+1,2*n+1,2*r),s.push(v||[],e+1,2*n+1,2*r+1)}}},Ye.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=Ze(t,e=(e%a+a)%a,n);if(this.tiles[s])return Fe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[Ze(l,c,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,f),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?Fe(this.tiles[s],i):null):null};var ut=function(t){function i(e,n,r){t.call(this,e,n,je),r&&(this.loadGeoJSON=r)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},i.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams,this.loadGeoJSON(n,(function(r,i){if(r||!i)return e(r);if("object"!=typeof i)return e(new Error("Input data is not a valid GeoJSON object."));!function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(D(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=O(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(D(O,e))),t}(t,n);default:return t}}(i,!0);try{t._geoJSONIndex=n.cluster?function he(t){return new ce(t)}(n.superclusterOptions).load(i.features):function(t,e){return new Ye(t,e)}(i,n.geojsonVtOptions)}catch(r){return e(r)}t.loaded={};var o={};if(n.request&&n.request.collectResourceTiming){var a=I(n.request.url);a&&(o.resourceTiming={},o.resourceTiming[n.source]=JSON.parse(JSON.stringify(a)))}e(null,o)}))}},i.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},i.prototype.reloadTile=function(e,n){var r=this.loaded,i=e.uid;return r&&r[i]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},i.prototype.loadGeoJSON=function(t,e){if(t.request)r.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(r){return e(new Error("Input data is not a valid GeoJSON object."))}}},i.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},i}(B),lt=function qe(t){var e=this;this.self=t,this.actor=new r.default$7(t,this),this.layerIndexes={},this.workerSourceTypes={vector:B,geojson:ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(r.plugin.isLoaded())throw new Error("RTL text plugin already registered.");r.plugin.applyArabicShaping=t.applyArabicShaping,r.plugin.processBidirectionalText=t.processBidirectionalText}};return lt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},lt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},lt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},lt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},lt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},lt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},lt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},lt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},lt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},lt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},lt.prototype.loadRTLTextPlugin=function(t,e,n){try{r.plugin.isLoaded()||(this.self.importScripts(e),n(r.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(r){n(r.toString())}},lt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new a),e},lt.prototype.getWorkerSource=function(t,e,n){var r=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][n]){var i={send:function send(e,n,i){r.actor.send(e,n,i,t)}};this.workerSources[t][e][n]=new this.workerSourceTypes[e](i,this.getLayerIndex(t))}return this.workerSources[t][e][n]},lt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new z),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new lt(self),lt})),define(0,(function(t){var r=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),u=t.default.performance&&t.default.performance.now?t.default.performance.now.bind(t.default.performance):Date.now.bind(Date),l=t.default.requestAnimationFrame||t.default.mozRequestAnimationFrame||t.default.webkitRequestAnimationFrame||t.default.msRequestAnimationFrame,f=t.default.cancelAnimationFrame||t.default.mozCancelAnimationFrame||t.default.webkitCancelAnimationFrame||t.default.msCancelAnimationFrame,p={now:u,frame:function frame(t){return l(t)},cancelFrame:function cancelFrame(t){return f(t)},getImageData:function getImageData(e){var n=t.default.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},hardwareConcurrency:t.default.navigator.hardwareConcurrency||4,get devicePixelRatio(){return t.default.devicePixelRatio},supportsWebp:!1};if(t.default.document){var d=t.default.document.createElement("img");d.onload=function(){p.supportsWebp=!0},d.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var h={create:function create(e,n,r){var i=t.default.document.createElement(e);return n&&(i.className=n),r&&r.appendChild(i),i},createNS:function createNS(e,n){return t.default.document.createElementNS(e,n)}},g=t.default.document?t.default.document.documentElement.style:null;function c(t){if(!g)return null;for(var e=0;e<t.length;e++)if(t[e]in g)return t[e];return t[0]}var _,E=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);h.disableDrag=function(){g&&E&&(_=g[E],g[E]="none")},h.enableDrag=function(){g&&E&&(g[E]=_)};var P=c(["transform","WebkitTransform"]);h.setTransform=function(t,e){t.style[P]=e};var k=!1;try{var D=Object.defineProperty({},"passive",{get:function get(){k=!0}});t.default.addEventListener("test",D,D),t.default.removeEventListener("test",D,D)}catch(t){k=!1}h.addEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&k?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},h.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&k?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var A=function m(e){e.preventDefault(),e.stopPropagation(),t.default.removeEventListener("click",m,!0)};h.suppressClick=function(){t.default.addEventListener("click",A,!0),t.default.setTimeout((function(){t.default.removeEventListener("click",A,!0)}),0)},h.mousePos=function(e,n){var r=e.getBoundingClientRect();return n=n.touches?n.touches[0]:n,new t.default$1(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},h.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)i.push(new t.default$1(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return i},h.mouseButton=function(e){return void 0!==t.default.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},h.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var R={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},M="See https://www.mapbox.com/api-documentation/#access-tokens";function v(t,e){var n=C(R.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!R.REQUIRE_ACCESS_TOKEN)return S(t);if(!(e=e||R.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+M);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+M);return t.params.push("access_token="+e),S(t)}function y(t){return 0===t.indexOf("mapbox:")}var N=function b(t,e){if(!y(t))return t;var n=C(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),v(n,e)},z=function w(t,e,n,r){var i=C(t);return y(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,v(i,r)):(i.path+=""+e+n,S(i))},j=/(\.(png|jpg)\d*)(?=$)/,V=function T(t,e,n){if(!e||!y(e))return t;var r=C(t),i=p.devicePixelRatio>=2||512===n?"@2x":"",o=p.supportsWebp?".webp":"$1";return r.path=r.path.replace(j,""+i+o),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(R.ACCESS_TOKEN||""))}(r.params),S(r)},W=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var e=t.match(W);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function S(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var q=t.default.HTMLImageElement,H=t.default.HTMLCanvasElement,K=t.default.HTMLVideoElement,Y=t.default.ImageData,Z=function M(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Z.prototype.update=function(t,e){var n=t.width,r=t.height,i=!this.size||this.size[0]!==n||this.size[1]!==r,o=this.context,a=o.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),i?(this.size=[n,r],o.pixelStoreUnpack.set(1),this.format!==a.RGBA||e&&!1===e.premultiply||o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof q||t instanceof H||t instanceof K||t instanceof Y?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof q||t instanceof H||t instanceof K||t instanceof Y?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,n,r,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Z.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Z.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Z.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var $=function L(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$2(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},$.prototype.getImage=function(t){return this.images[t]},$.prototype.addImage=function(t,e){this.images[t]=e},$.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},$.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},$.prototype._notify=function(t,e){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=this.images[o];a&&(n[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,n)},$.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},$.prototype.getPattern=function(e){var n=this.patterns[e];if(n)return n.position;var r=this.getImage(e);if(!r)return null;var i=r.data.width+2,o=r.data.height+2,a=this.shelfPack.packOne(i,o);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=r.data,u=this.atlasImage,l=a.x+1,c=a.y+1,f=s.width,p=s.height;t.RGBAImage.copy(s,u,{x:0,y:0},{x:l,y:c},{width:f,height:p}),t.RGBAImage.copy(s,u,{x:0,y:p-1},{x:l,y:c-1},{width:f,height:1}),t.RGBAImage.copy(s,u,{x:0,y:0},{x:l,y:c+p},{width:f,height:1}),t.RGBAImage.copy(s,u,{x:f-1,y:0},{x:l-1,y:c},{width:1,height:p}),t.RGBAImage.copy(s,u,{x:0,y:0},{x:l+f,y:c},{width:1,height:p}),this.dirty=!0;var d=new t.ImagePosition(a,r);return this.patterns[e]={bin:a,position:d},d},$.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Z(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var J=B,Q=1e20;function B(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function O(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)r[u]=t[u*e+s];for(F(r,i,o,a,n),u=0;u<n;u++)t[u*e+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)r[s]=t[u*e+s];for(F(r,i,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(i[s])}}function F(t,e,n,r,i){n[0]=0,r[0]=-Q,r[1]=+Q;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+Q}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}B.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?Q:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?Q:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(O(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),O(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var o=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n};var tt=function N(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};tt.prototype.setURL=function(t){this.url=t},tt.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1){var u=s[a];i.push({stack:o,id:u})}t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[i];if(void 0===a)if(a=r._tinySDF(o,n,i))e(null,{stack:n,id:i,glyph:a});else{var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var u=o.requests[s];u||(u=o.requests[s]=[],tt.loadGlyphRange(n,s,r.url,r.requestTransform,(function(t,e){if(e)for(var n in e)o.glyphs[+n]=e[+n];for(var r=0,i=u;r<i.length;r+=1)(0,i[r])(t,e);delete o.requests[s]}))),u.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},tt.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&(t.default$4["CJK Unified Ideographs"](r)||t.default$4["Hangul Syllables"](r))){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new tt.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},tt.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,u=i(function x(t,e){if(!y(t))return t;var n=C(t);return n.path="/fonts/v1"+n.path,v(n,e)}(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.default$3(n.data);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},tt.TinySDF=J;var et=function U(){this.specification=t.default$5.light.position};et.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},et.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var nt=new t.Properties({anchor:new t.DataConstantProperty(t.default$5.light.anchor),position:new et,color:new t.DataConstantProperty(t.default$5.light.color),intensity:new t.DataConstantProperty(t.default$5.light.intensity)}),it=function(e){function i(n){e.call(this),this._transitionable=new t.Transitionable(nt),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var n in e){var r=e[n];t.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),r):this._transitionable.setValue(n,r)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,n){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.default$5})))},i}(t.Evented),ot=function j(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};ot.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},ot.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,u=s/2,l=e.length%2==1,c=-r;c<=r;c++)for(var f=this.nextRow+r+c,p=this.width*f,d=l?-e[e.length-1]:0,h=e[0],g=1,y=0;y<this.width;y++){for(;h<y/s;)d=h,h+=e[g],l&&g===e.length-1&&(h+=e[0]),g++;var m=Math.abs(y-d*s),v=Math.abs(y-h*s),_=Math.min(m,v),b=g%2==1,S=void 0;if(n){var E=r?c/r*(u+1):0;if(b){var x=u-Math.abs(E);S=Math.sqrt(_*_+x*x)}else S=u-Math.sqrt(_*_+E*E)}else S=(b?1:-1)*_;this.data[3+4*(p+y)]=Math.max(0,Math.min(255,S+128))}var w={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,w},ot.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var ut=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=i[o],s=new e.Actor(a,r,this.id);s.name="Worker "+o,this.actors.push(s)}};function G(e,n,r){var i=function o(e,n){if(e)return r(e);if(n){var o=t.pick(n,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);n.vector_layers&&(o.vectorLayers=n.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(t){return t.id}))),r(null,o)}};e.url?t.getJSON(n(N(e.url),t.ResourceType.Source),i):p.frame((function(){return i(null,e)}))}ut.prototype.broadcast=function(e,n,r){r=r||function(){},t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r)},ut.prototype.send=function(t,e,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},ut.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},ut.Actor=t.default$7;var ct=function W(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ct.prototype.wrap=function(){return new ct(t.wrap(this.lng,-180,180),this.lat)},ct.prototype.toArray=function(){return[this.lng,this.lat]},ct.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ct.prototype.toBounds=function(t){var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new ft(new ct(this.lng-n,this.lat-e),new ct(this.lng+n,this.lat+e))},ct.convert=function(t){if(t instanceof ct)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new ct(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new ct(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ft=function q(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};ft.prototype.setNorthEast=function(t){return this._ne=t instanceof ct?new ct(t.lng,t.lat):ct.convert(t),this},ft.prototype.setSouthWest=function(t){return this._sw=t instanceof ct?new ct(t.lng,t.lat):ct.convert(t),this},ft.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof ct)e=t,n=t;else{if(!(t instanceof ft))return Array.isArray(t)?t.every(Array.isArray)?this.extend(ft.convert(t)):this.extend(ct.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new ct(e.lng,e.lat),this._ne=new ct(n.lng,n.lat)),this},ft.prototype.getCenter=function(){return new ct((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ft.prototype.getSouthWest=function(){return this._sw},ft.prototype.getNorthEast=function(){return this._ne},ft.prototype.getNorthWest=function(){return new ct(this.getWest(),this.getNorth())},ft.prototype.getSouthEast=function(){return new ct(this.getEast(),this.getSouth())},ft.prototype.getWest=function(){return this._sw.lng},ft.prototype.getSouth=function(){return this._sw.lat},ft.prototype.getEast=function(){return this._ne.lng},ft.prototype.getNorth=function(){return this._ne.lat},ft.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ft.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ft.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ft.convert=function(t){return!t||t instanceof ft?t:new ft(t)};var pt=function X(t,e,n){this.bounds=ft.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};pt.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},pt.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),n=Math.floor(this.latY(this.bounds.getNorth(),t.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),i=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<r&&t.y>=n&&t.y<i},pt.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},pt.prototype.latY=function(e,n){var r=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),i=Math.pow(2,n)/(2*Math.PI);return Math.pow(2,n-1)+.5*Math.log((1+r)/(1-r))*-i};var ht=function(e){function i(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,(function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new pt(r.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,n){var r=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url),i={request:this.map._transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:p.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(t,r){return e.aborted?n(null):t?n(t):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",i,a.bind(this)):"loading"===e.state?e.reloadCallback=n:this.dispatcher.send("reloadTile",i,a.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),gt=function(e){function i(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,(function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new pt(r.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,n){var r=this,i=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(i,t.ResourceType.Tile),(function(t,i){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(t)e.state="errored",n(t);else if(i){r.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=r.map.painter.context,a=o.gl;e.texture=r.map.painter.getTileTexture(i.width),e.texture?e.texture.update(i,{useMipmap:!0}):(e.texture=new Z(o,i,a.RGBA,{useMipmap:!0}),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),e.state="loaded",n(null)}}))},i.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),yt=function(e){function i(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},r),this.encoding=r.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,n){var r=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(r,t.ResourceType.Tile),function(t,r){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(t)e.state="errored",n(t);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var i=p.getImageData(r),o={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:i,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",o,function(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(gt),mt=function(e){function i(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=i,this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type);var a=t.default$8/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.default$8,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$8,radius:(r.clusterRadius||50)*a,log:!1}},r.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)return n.fire(new t.ErrorEvent(e));var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))})),this},i.prototype._updateWorkerData=function(e){var n,r,i=this,o=t.extend({},this.workerOptions),a=this._data;"string"==typeof a?(o.request=this.map._transformRequest((n=a,(r=t.default.document.createElement("a")).href=n,r.href),t.ResourceType.Source),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+"."+o.source+".loadData",o,(function(t,n){i._removed||n&&n.abandoned||(i._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[i.id]&&(i._resourceTiming=n.resourceTiming[i.id].slice(0)),i.dispatcher.send(i.type+"."+o.source+".coalesce",null,null,i.workerID),e(t))}),this.workerID)},i.prototype.loadTile=function(t,e){var n=this,r=void 0===t.workerID?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:p.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(r,i,(function(i,o){return t.unloadVectorData(),t.aborted?e(null):i?e(i):(t.loadVectorData(o,n.map.painter,"reloadTile"===r),e(null))}),this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),vt=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),_t=function tt(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};_t.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},_t.prototype.freshBind=function(t,e,n,r,i,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}e.enableAttributes(c,t);for(var p=0,d=n;p<d.length;p+=1)d[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var h=0,g=n;h<g.length;h+=1){var y=g[h];y.bind(),y.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),l.currentNumAttributes=u},_t.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bt=function(e){function i(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),(function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(e.image=p.getImageData(r),e._finishLoading())}))},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var n=this.map,r=e.map((function(t){return n.transform.locationCoordinate(ct.convert(t)).zoomTo(0)})),i=this.centerCoord=t.getCoordinatesCenter(r);i.column=Math.floor(i.column),i.row=Math.floor(i.row),this.tileID=new t.CanonicalTileID(i.zoom,i.column,i.row),this.minzoom=this.maxzoom=i.zoom;var o=r.map((function(e){var n=e.zoomTo(i.zoom);return new t.default$1(Math.round((n.column-i.column)*t.default$8),Math.round((n.row-i.row)*t.default$8))}));return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,t.default$8,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,t.default$8),this._boundsArray.emplaceBack(o[2].x,o[2].y,t.default$8,t.default$8),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture||(this.texture=new Z(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Et=function(e){function i(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1){var o=i[r];e.urls.push(e.map._transformRequest(o,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map._rerender()})),e.map&&e.video.play(),e._finishLoading())}))},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new Z(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(bt),xt=function(e){function i(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.default$9("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.default$9("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.default$9("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.default.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.default$9("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.default$9("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.default.HTMLCanvasElement?this.options.canvas:t.default.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.canvas)):(this.texture=new Z(e,this.canvas,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},i}(bt),wt={vector:ht,raster:gt,"raster-dem":yt,geojson:mt,video:Et,image:bt,canvas:xt},Tt=function rt(e,n,r,i){var o=new wt[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function at(t,e,n,r,i){var o=i.maxPitchScaleFactor(),a=t.tilesIn(n,o);a.sort(st);for(var s=[],u=0,l=a;u<l.length;u+=1){var c=l[u];s.push({wrappedTileID:c.tileID.wrapped().key,queryResults:c.tile.queryRenderedFeatures(e,c.queryGeometry,c.scale,r,i,o,t.transform.calculatePosMatrix(c.tileID.toUnwrapped()))})}return function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},p=e[l]=e[l]||[],d=0,h=c;d<h.length;d+=1){var g=h[d];f[g.featureIndex]||(f[g.featureIndex]=!0,p.push(g.feature))}}return e}(s)}function st(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var Pt=function lt(e,n){this.tileID=e,this.uid=t.uniqueId(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};Pt.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<p.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Pt.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Pt.prototype.loadVectorData=function(e,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==a.length){o.layers=a;for(var s=0,u=a;s<u.length;s+=1)n[u[s].id]=o}}return n}(e.buckets,n.style),r)for(var i in this.buckets){var o=this.buckets[i];o instanceof t.default$14&&(o.justReloaded=!0)}for(var a in this.queryPadding=0,this.buckets){var s=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(s.layerIds[0]).queryRadius(s))}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.CollisionBoxArray},Pt.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Pt.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Pt.prototype.getBucket=function(t){return this.buckets[t.id]},Pt.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploaded||(n.upload(t),n.uploaded=!0)}var r=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new Z(t,this.iconAtlasImage,r.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Z(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},Pt.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:e,scale:n,tileSize:this.tileSize,posMatrix:a,transform:i,params:r,queryPadding:this.queryPadding*o},t):{}},Pt.prototype.querySourceFeatures=function(e,n){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),i=n?n.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=t.default$13(n&&n.filter),s={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},u=0;u<o.length;u++){var l=o.feature(u);if(a(new t.default$16(this.tileID.overscaledZ),l)){var c=new t.default$12(l,s.z,s.x,s.y);c.tile=s,e.push(c)}}}},Pt.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Pt.prototype.setMask=function(e,n){if(!t.default$10(this.mask,e)&&(this.mask=e,this.clearMask(),!t.default$10(e,{0:!0}))){var r=new t.RasterBoundsArray,i=new t.TriangleIndexArray;this.segments=new t.default$15,this.segments.prepareSegment(0,r,i);for(var o=Object.keys(e),a=0;a<o.length;a++){var s=e[o[a]],u=t.default$8>>s.z,l=new t.default$1(s.x*u,s.y*u),c=new t.default$1(l.x+u,l.y+u),f=this.segments.prepareSegment(4,r,i);r.emplaceBack(l.x,l.y,l.x,l.y),r.emplaceBack(c.x,l.y,c.x,l.y),r.emplaceBack(l.x,c.y,l.x,c.y),r.emplaceBack(c.x,c.y,c.x,c.y);var p=f.vertexLength;i.emplaceBack(p,p+1,p+2),i.emplaceBack(p+1,p+2,p+3),f.vertexLength+=4,f.primitiveLength+=2}this.maskedBoundsBuffer=n.createVertexBuffer(r,vt.members),this.maskedIndexBuffer=n.createIndexBuffer(i)}},Pt.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Pt.prototype.setExpiryData=function(e){var n=this.expirationTime;if(e.cacheControl){var r=t.parseCacheControl(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(n)if(this.expirationTime<n)o=!0;else{var a=this.expirationTime-n;a?this.expirationTime=i+Math.max(a,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Pt.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)};var kt=function ct(t,e){this.max=t,this.onRemove=e,this.reset()};kt.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},kt.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},kt.prototype.has=function(t){return t.wrapped().key in this.data},kt.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},kt.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},kt.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},kt.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},kt.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var Ct=function ut(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Ct.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},Ct.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ct.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},Ct.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Dt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function pt(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},At.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.attributes[r.name];void 0!==i&&t.enableVertexAttribArray(i)}},At.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[Dt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},At.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Rt=function dt(e){this.context=e,this.current=t.default$6.transparent};Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Mt=function ft(t){this.context=t,this.current=1};Mt.prototype.get=function(){return this.current},Mt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var Lt=function mt(t){this.context=t,this.current=0};Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var It=function _t(t){this.context=t,this.current=[!0,!0,!0,!0]};It.prototype.get=function(){return this.current},It.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var Ot=function gt(t){this.context=t,this.current=!0};Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var Ft=function vt(t){this.context=t,this.current=255};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var Nt=function yt(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var Bt=function xt(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var Ut=function bt(t){this.context=t,this.current=!1};Ut.prototype.get=function(){return this.current},Ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var zt=function wt(t){this.context=t,this.current=[0,1]};zt.prototype.get=function(){return this.current},zt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var Vt=function Et(t){this.context=t,this.current=!1};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var Gt=function Tt(t){this.context=t,this.current=t.gl.LESS};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Wt=function It(t){this.context=t,this.current=!1};Wt.prototype.get=function(){return this.current},Wt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var Xt=function Ct(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};Xt.prototype.get=function(){return this.current},Xt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var Zt=function St(e){this.context=e,this.current=t.default$6.transparent};Zt.prototype.get=function(){return this.current},Zt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var $t=function zt(t){this.context=t,this.current=null};$t.prototype.get=function(){return this.current},$t.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var Jt=function At(t){this.context=t,this.current=1};Jt.prototype.get=function(){return this.current},Jt.prototype.set=function(e){var n=this.context.lineWidthRange,r=t.clamp(e,n[0],n[1]);this.current!==r&&(this.context.gl.lineWidth(r),this.current=e)};var Qt=function Rt(t){this.context=t,this.current=t.gl.TEXTURE0};Qt.prototype.get=function(){return this.current},Qt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var ie=function Dt(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};ie.prototype.get=function(){return this.current},ie.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var pe=function Mt(t){this.context=t,this.current=null};pe.prototype.get=function(){return this.current},pe.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var he=function Lt(t){this.context=t,this.current=null};he.prototype.get=function(){return this.current},he.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var Ee=function Pt(t){this.context=t,this.current=null};Ee.prototype.get=function(){return this.current},Ee.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var ke=function kt(t){this.context=t,this.current=null};ke.prototype.get=function(){return this.current},ke.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var Ae=function Bt(t){this.context=t,this.current=null};Ae.prototype.get=function(){return this.current},Ae.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var Re=function Ot(t){this.context=t,this.current=null};Re.prototype.get=function(){return this.current},Re.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var Me=function Ft(t){this.context=t,this.current=4};Me.prototype.get=function(){return this.current},Me.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var Oe=function Nt(t){this.context=t,this.current=!1};Oe.prototype.get=function(){return this.current},Oe.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var Fe=function Ut(t,e){this.context=t,this.current=null,this.parent=e};Fe.prototype.get=function(){return this.current};var Ne=function(t){function e(e,n){t.call(this,e,n),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(Fe),Be=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(Fe),Ue=function jt(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,i=this.framebuffer=r.createFramebuffer();this.colorAttachment=new Ne(t,i),this.depthAttachment=new Be(t,i)};Ue.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var je=function $t(t,e,n){this.func=t,this.mask=e,this.range=n};je.ReadOnly=!1,je.ReadWrite=!0,je.disabled=new je(519,je.ReadOnly,[0,1]);var Ge=function Gt(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ge.disabled=new Ge({func:519,mask:0},0,0,7680,7680,7680);var We=function Wt(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};We.disabled=new We(We.Replace=[1,0],t.default$6.transparent,[!1,!1,!1,!1]),We.unblended=new We(We.Replace,t.default$6.transparent,[!0,!0,!0,!0]),We.alphaBlended=new We([1,771],t.default$6.transparent,[!0,!0,!0,!0]);var qe=function qt(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new Rt(this),this.clearDepth=new Mt(this),this.clearStencil=new Lt(this),this.colorMask=new It(this),this.depthMask=new Ot(this),this.stencilMask=new Ft(this),this.stencilFunc=new Nt(this),this.stencilOp=new Bt(this),this.stencilTest=new Ut(this),this.depthRange=new zt(this),this.depthTest=new Vt(this),this.depthFunc=new Gt(this),this.blend=new Wt(this),this.blendFunc=new Xt(this),this.blendColor=new Zt(this),this.program=new $t(this),this.lineWidth=new Jt(this),this.activeTexture=new Qt(this),this.viewport=new ie(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new he(this),this.bindTexture=new Ee(this),this.bindVertexBuffer=new ke(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Re(this),this.pixelStoreUnpack=new Me(this),this.pixelStoreUnpackPremultiplyAlpha=new Oe(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};qe.prototype.createIndexBuffer=function(t,e){return new Ct(this,t,e)},qe.prototype.createVertexBuffer=function(t,e,n){return new At(this,t,e,n)},qe.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},qe.prototype.createFramebuffer=function(t,e){return new Ue(this,t,e)},qe.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},qe.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},qe.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},qe.prototype.setColorMode=function(e){t.default$10(e.blendFunction,We.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var Ye=function(e){function i(t,n,r){var i=this;e.call(this),this.id=t,this.dispatcher=r,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))})),this.on("error",(function(){i._sourceErrored=!0})),this._source=Tt(t,n,r,this),this._tiles={},this._cache=new kt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort((function(n,r){var i=e._tiles[n].tileID,o=e._tiles[r].tileID,a=new t.default$1(i.canonical.x,i.canonical.y).rotate(e.transform.angle),s=new t.default$1(o.canonical.x,o.canonical.y).rotate(e.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}))},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},i.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=p.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){var o=this.getTileByID(i);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,n){var r=!1;for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.hasData()||o.tileID.overscaledZ<=t.overscaledZ||o.tileID.overscaledZ>e)){var a=Math.pow(2,o.tileID.canonical.z-t.canonical.z);if(Math.floor(o.tileID.canonical.x/a)===t.canonical.x&&Math.floor(o.tileID.canonical.y/a)===t.canonical.y)for(n[i]=o.tileID,r=!0;o&&o.tileID.overscaledZ-1>t.overscaledZ;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);if(!s)break;(o=this._tiles[s.key])&&o.hasData()&&(delete n[i],n[s.key]=s)}}}return r},i.prototype.findLoadedParent=function(t,e,n){for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r);if(!i)return;var o=String(i.key),a=this._tiles[o];if(a&&a.hasData())return n[o]=i,a;if(this._cache.has(i))return n[o]=i,this._cache.get(i)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var r={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter((function(t){return n._source.hasTile(t)})))):r=[];var o,a=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),s=Math.max(a-i.maxOverzooming,this._source.minzoom),u=Math.max(a+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,a),c={};if(Kt(this._source.type))for(var f=Object.keys(l),d=0;d<f.length;d++){var h=f[d],g=l[h],y=n._tiles[h];if(y&&(void 0===y.fadeEndTime||y.fadeEndTime>=p.now())){n._findLoadedChildren(g,u,l)&&(l[h]=g);var m=n.findLoadedParent(g,s,c);m&&n._addTile(m.tileID)}}for(o in c)l[o]||(n._coveredTiles[o]=!0);for(o in c)l[o]=c[o];for(var v=t.keysDifference(this._tiles,l),_=0;_<v.length;_++)n._removeTile(v[_])}},i.prototype._updateRetainedTiles=function(t,e){for(var n={},r={},o=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s=0;s<t.length;s++){var u=t[s],l=this._addTile(u),c=!1;if(l.hasData())n[u.key]=u;else{c=l.wasRequested(),n[u.key]=u;var f=!0;if(e+1>this._source.maxzoom){var p=u.children(this._source.maxzoom)[0],d=this.getTile(p);d&&d.hasData()?n[p.key]=p:f=!1}else{this._findLoadedChildren(u,a,n);for(var h=u.children(this._source.maxzoom),g=0;g<h.length;g++)if(!n[h[g].key]){f=!1;break}}if(!f)for(var y=u.overscaledZ-1;y>=o;--y){var m=u.scaledTo(y);if(r[m.key])break;if(r[m.key]=!0,!(l=this.getTile(m))&&c&&(l=this._addTile(m)),l&&(n[m.key]=m,c=l.wasRequested(),l.hasData()))break}}}return n},i.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e);var r=Boolean(n);return r||(n=new Pt(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},i.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,n){for(var r=[],i=this.getIds(),o=1/0,a=1/0,s=-1/0,u=-1/0,l=e[0].zoom,c=0;c<e.length;c++){var f=e[c];o=Math.min(o,f.column),a=Math.min(a,f.row),s=Math.max(s,f.column),u=Math.max(u,f.row)}for(var p=0;p<i.length;p++){var d=this._tiles[i[p]],h=d.tileID,g=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),y=n*d.queryPadding*t.default$8/d.tileSize/g,m=[Ht(h,new t.default$17(o,a,l)),Ht(h,new t.default$17(s,u,l))];if(m[0].x-y<t.default$8&&m[0].y-y<t.default$8&&m[1].x+y>=0&&m[1].y+y>=0){for(var v=[],_=0;_<e.length;_++)v.push(Ht(h,e[_]));r.push({tile:d,tileID:h,queryGeometry:[v],scale:g})}}return r},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map((function(e){return t._tiles[e].tileID})),n=0,r=e;n<r.length;n+=1){var i=r[n];i.posMatrix=t.transform.calculatePosMatrix(i.toUnwrapped())}return e},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Kt(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=p.now())return!0}return!1},i}(t.Evented);function Ht(e,n){var r=n.zoomTo(e.canonical.z);return new t.default$1((r.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$8,(r.row-e.canonical.y)*t.default$8)}function Kt(t){return"raster"===t||"image"===t||"video"===t}function Yt(){return new t.default.Worker(Wr.workerUrl)}Ye.maxOverzooming=10,Ye.maxUnderzooming=3;var Xe,Ze=function Qt(){this.active={}};function te(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.default$18.forEach((function(t){t in n&&(r[t]=n[t])})),r}function ee(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=te(t[r],e[t[r].ref]));return t}Ze.prototype.acquire=function(t){if(!this.workers){var e=Wr.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new Yt)}return this.active[t]=!0,this.workers.slice()},Ze.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Je={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ne(t,e,n){n.push({command:Je.addSource,args:[t,e[t]]})}function oe(t,e,n){e.push({command:Je.removeSource,args:[t]}),n[t]=!0}function re(t,e,n,r){oe(t,n,r),ne(t,e,n)}function ae(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.default$10(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.default$10(e[r][i],n[r][i]))return!1;return!0}function se(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.default$10(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$10(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function le(t){return t.id}function ce(t,e){return t[e.id]=e,t}var Qe=function he(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};Qe.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Qe.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Qe.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Qe.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Qe.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Qe.prototype._query=function(t,e,n,r,i){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var o=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var a=0;a<this.boxKeys.length;a++)o.push({key:this.boxKeys[a],x1:this.bboxes[4*a],y1:this.bboxes[4*a+1],x2:this.bboxes[4*a+2],y2:this.bboxes[4*a+3]});for(var s=0;s<this.circleKeys.length;s++){var u=this.circles[3*s],l=this.circles[3*s+1],c=this.circles[3*s+2];o.push({key:this.circleKeys[s],x1:u-c,y1:l-c,x2:u+c,y2:l+c})}}else{var f={hitTest:i,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,n,r,this._queryCell,o,f)}return i?o.length>0:o},Qe.prototype._queryCircle=function(t,e,n,r){var i=t-n,o=t+n,a=e-n,s=e+n;if(o<0||i>this.width||s<0||a>this.height)return!r&&[];var u=[],l={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(i,a,o,s,this._queryCellCircle,u,l),r?u.length>0:u},Qe.prototype.query=function(t,e,n,r){return this._query(t,e,n,r,!1)},Qe.prototype.hitTest=function(t,e,n,r){return this._query(t,e,n,r,!0)},Qe.prototype.hitTestCircle=function(t,e,n){return this._queryCircle(t,e,n,!0)},Qe.prototype._queryCell=function(t,e,n,r,i,o,a){var s=a.seenUids,u=this.boxCells[i];if(null!==u)for(var l=this.bboxes,c=0,f=u;c<f.length;c+=1){var p=f[c];if(!s.box[p]){s.box[p]=!0;var d=4*p;if(t<=l[d+2]&&e<=l[d+3]&&n>=l[d+0]&&r>=l[d+1]){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[p],x1:l[d],y1:l[d+1],x2:l[d+2],y2:l[d+3]})}}}var h=this.circleCells[i];if(null!==h)for(var g=this.circles,y=0,m=h;y<m.length;y+=1){var v=m[y];if(!s.circle[v]){s.circle[v]=!0;var _=3*v;if(this._circleAndRectCollide(g[_],g[_+1],g[_+2],t,e,n,r)){if(a.hitTest)return o.push(!0),!0;var b=g[_],S=g[_+1],E=g[_+2];o.push({key:this.circleKeys[v],x1:b-E,y1:S-E,x2:b+E,y2:S+E})}}}},Qe.prototype._queryCellCircle=function(t,e,n,r,i,o,a){var s=a.circle,u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,p=l;f<p.length;f+=1){var d=p[f];if(!u.box[d]){u.box[d]=!0;var h=4*d;if(this._circleAndRectCollide(s.x,s.y,s.radius,c[h+0],c[h+1],c[h+2],c[h+3]))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,m=0,v=g;m<v.length;m+=1){var _=v[m];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circlesCollide(y[b],y[b+1],y[b+2],s.x,s.y,s.radius))return o.push(!0),!0}}},Qe.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),l=this._convertToXCellCoord(n),c=this._convertToYCellCoord(r),f=s;f<=l;f++)for(var p=u;p<=c;p++){var d=this.xCellCount*p+f;if(i.call(this,t,e,n,r,d,o,a))return}},Qe.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Qe.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Qe.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return u*u>a*a+s*s},Qe.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(e-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,p=c-l;return f*f+p*p<=n*n};var en=t.default$19.layout;function de(e,n,r,i,o){var a=t.mat4.identity(new Float32Array(16));return n?(t.mat4.identity(a),t.mat4.scale(a,a,[1/o,1/o,1]),r||t.mat4.rotateZ(a,a,i.angle)):(t.mat4.scale(a,a,[i.width/2,-i.height/2,1]),t.mat4.translate(a,a,[1,-1,0]),t.mat4.multiply(a,a,e)),a}function fe(e,n,r,i,o){var a=t.mat4.identity(new Float32Array(16));return n?(t.mat4.multiply(a,a,e),t.mat4.scale(a,a,[o,o,1]),r||t.mat4.rotateZ(a,a,-i.angle)):(t.mat4.scale(a,a,[1,-1,1]),t.mat4.translate(a,a,[-1,-1,0]),t.mat4.scale(a,a,[2/i.width,2/i.height,1])),a}function me(e,n){var r=[e.x,e.y,0,1];Ie(r,r,n);var i=r[3];return{point:new t.default$1(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function _e(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function ge(e,n,r,i,o,a,s,u){var l=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,r.transform.zoom,en.properties[i?"text-size":"icon-size"]),f=[256/r.width*2+1,256/r.height*2+1],p=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,h=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=r.transform.width/r.transform.height,y=!1,m=0;m<h.length;m++){var v=h.get(m);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!y)Te(v.numGlyphs,p);else{y=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.vec4.transformMat4(_,_,n),_e(_,f)){var b=.5+_[3]/r.transform.cameraToCenterDistance*.5,S=t.evaluateSizeForFeature(l,c,v),E=s?S*b:S/b,x=new t.default$1(v.anchorX,v.anchorY),w=me(x,o).point,T={},P=xe(v,E,!1,u,n,o,a,e.glyphOffsetArray,d,p,w,x,T,g);y=P.useVertical,(P.notEnoughRoom||y||P.needsFlipping&&xe(v,E,!0,u,n,o,a,e.glyphOffsetArray,d,p,w,x,T,g).notEnoughRoom)&&Te(v.numGlyphs,p)}else Te(v.numGlyphs,p)}}i?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function ve(t,e,n,r,i,o,a,s,u,l,c,f){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,g=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(p-1),m=we(t*g,n,r,i,o,a,s.segment,d,h,u,l,c,f);if(!m)return null;var v=we(t*y,n,r,i,o,a,s.segment,d,h,u,l,c,f);return v?{first:m,last:v}:null}function ye(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function xe(e,n,r,i,o,a,s,u,l,c,f,p,d,h){var g,y=n/24,m=e.lineOffsetX*n,v=e.lineOffsetY*n;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,S=e.lineStartIndex+e.lineLength,E=ve(y,u,m,v,r,f,p,e,l,a,d,!1);if(!E)return{notEnoughRoom:!0};var x=me(E.first.point,s).point,w=me(E.last.point,s).point;if(i&&!r){var T=ye(e.writingMode,x,w,h);if(T)return T}g=[E.first];for(var P=e.glyphStartIndex+1;P<_-1;P++)g.push(we(y*u.getoffsetX(P),m,v,r,f,p,e.segment,b,S,l,a,d,!1));g.push(E.last)}else{if(i&&!r){var k=me(p,o).point,C=e.lineStartIndex+e.segment+1,D=new t.default$1(l.getx(C),l.gety(C)),A=me(D,o),R=A.signedDistanceFromCamera>0?A.point:be(p,D,k,1,o),M=ye(e.writingMode,k,R,h);if(M)return M}var L=we(y*u.getoffsetX(e.glyphStartIndex),m,v,r,f,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,d,!1);if(!L)return{notEnoughRoom:!0};g=[L]}for(var I=0,O=g;I<O.length;I+=1){var F=O[I];t.addDynamicAttributes(c,F.point,F.angle)}return{}}function be(t,e,n,r,i){var o=me(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function we(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=i?e-n:e+n,g=h>0?1:-1,y=0;i&&(g*=-1,y=Math.PI),g<0&&(y+=Math.PI);for(var m=g>0?u+s:u+s+1,v=m,_=o,b=o,S=0,E=0,x=Math.abs(h);S+E<=x;){if((m+=g)<u||m>=l)return null;if(b=_,void 0===(_=p[m])){var w=new t.default$1(c.getx(m),c.gety(m)),T=me(w,f);if(T.signedDistanceFromCamera>0)_=p[m]=T.point;else{var P=m-g;_=be(0===S?a:new t.default$1(c.getx(P),c.gety(P)),w,b,x-S+1,f)}}S+=E,E=b.dist(_)}var k=(x-S)/E,C=_.sub(b),D=C.mult(k)._add(b);return D._add(C._unit()._perp()._mult(r*g)),{point:D,angle:y+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:d?{prevTileDistance:m-g===v?0:c.gettileUnitDistanceFromAnchor(m-g),lastSegmentViewportDistance:x-S}:null}}var rn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Te(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(rn,3*r)}}function Ie(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}t.default$20.mat4;var on=function Ce(t,e,n){void 0===e&&(e=new Qe(t.width+200,t.height+200,25)),void 0===n&&(n=new Qe(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};function Se(t,e,n){t[e+4]=n?1:0}function ze(e,n,r){return n*(t.default$8/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}on.prototype.placeCollisionBox=function(t,e,n,r){var i=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),o=n*i.perspectiveRatio,a=t.x1*o+i.point.x,s=t.y1*o+i.point.y,u=t.x2*o+i.point.x,l=t.y2*o+i.point.y;return!e&&this.grid.hitTest(a,s,u,l)?{box:[],offscreen:!1}:{box:[a,s,u,l],offscreen:this.isOffscreen(a,s,u,l)}},on.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},on.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=[],g=this.projectAnchor(c,a.anchorX,a.anchorY),y=l/24,m=a.lineOffsetX*l,v=a.lineOffsetY*l,_=new t.default$1(a.anchorX,a.anchorY),b=ve(y,u,m,v,!1,me(_,f).point,_,a,s,f,{},!0),S=!1,E=!0,x=g.perspectiveRatio*i,w=1/(i*r),T=0,P=0;b&&(T=this.approximateTileDistance(b.first.tileDistance,b.first.angle,w,g.cameraDistance,d),P=this.approximateTileDistance(b.last.tileDistance,b.last.angle,w,g.cameraDistance,d));for(var k=0;k<e.length;k+=5){var C=e[k],D=e[k+1],A=e[k+2],R=e[k+3];if(!b||R<-T||R>P)Se(e,k,!1);else{var M=this.projectPoint(c,C,D),L=A*x;if(h.length>0){var I=M.x-h[h.length-4],O=M.y-h[h.length-3];if(L*L*2>I*I+O*O&&k+8<e.length){var F=e[k+8];if(F>-T&&F<P){Se(e,k,!1);continue}}}var N=k/5;if(h.push(M.x,M.y,L,N),Se(e,k,!0),E=E&&this.isOffscreen(M.x-L,M.y-L,M.x+L,M.y+L),!n&&this.grid.hitTestCircle(M.x,M.y,L)){if(!p)return{circles:[],offscreen:!1};S=!0}}}return{circles:S?[]:h,offscreen:E}},on.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.default$1(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var f={},p={},d=0,h=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));d<h.length;d+=1){var g=h[d],y=g.key;if(void 0===f[y.bucketInstanceId]&&(f[y.bucketInstanceId]={}),!f[y.bucketInstanceId][y.featureIndex]){var m=[new t.default$1(g.x1,g.y1),new t.default$1(g.x2,g.y1),new t.default$1(g.x2,g.y2),new t.default$1(g.x1,g.y2)];t.polygonIntersectsPolygon(n,m)&&(f[y.bucketInstanceId][y.featureIndex]=!0,void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]=[]),p[y.bucketInstanceId].push(y.featureIndex))}}return p},on.prototype.insertCollisionBox=function(t,e,n,r){var i={bucketInstanceId:n,featureIndex:r};(e?this.ignoredGrid:this.grid).insert(i,t[0],t[1],t[2],t[3])},on.prototype.insertCollisionCircles=function(t,e,n,r){for(var i=e?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r},a=0;a<t.length;a+=4)i.insertCircle(o,t[a],t[a+1],t[a+2])},on.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return Ie(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},on.prototype.projectPoint=function(e,n,r){var i=[n,r,0,1];return Ie(i,i,e),new t.default$1((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},on.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return Ie(i,i,e),{point:new t.default$1((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},on.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary};var un=t.default$19.layout,ln=function Re(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};ln.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var cn=function De(t,e,n,r,i){this.text=new ln(t?t.text:null,e,n,i),this.icon=new ln(t?t.icon:null,e,r,i)};cn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var fn=function Me(t,e,n){this.text=t,this.icon=e,this.skipFade=n},pn=function Le(t,e){this.transform=t.clone(),this.collisionIndex=new on(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={}};function Pe(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}pn.prototype.placeLayerTile=function(e,n,r,i){var o=n.getBucket(e),a=n.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=n.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/t.default$8,f=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p=de(f,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ze(n,1,this.transform.zoom)),d=de(f,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ze(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,f,p,d,l,c,r,i,s)}},pn.prototype.placeLayerBucket=function(e,n,r,i,o,a,s,u,l){for(var c=e.layers[0].layout,f=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,un.properties["text-size"]),p=!e.hasTextData()||c.get("text-optional"),d=!e.hasIconData()||c.get("icon-optional"),h=0,g=e.symbolInstances;h<g.length;h+=1){var y=g[h];if(!u[y.crossTileID]){var m=void 0!==y.feature.text,v=void 0!==y.feature.icon,_=!0,b=null,S=null,E=null,x=0,w=0;y.collisionArrays||(y.collisionArrays=e.deserializeCollisionBoxes(l,y.textBoxStartIndex,y.textBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex)),y.collisionArrays.textFeatureIndex&&(x=y.collisionArrays.textFeatureIndex),y.collisionArrays.textBox&&(m=(b=this.collisionIndex.placeCollisionBox(y.collisionArrays.textBox,c.get("text-allow-overlap"),a,n)).box.length>0,_=_&&b.offscreen);var T=y.collisionArrays.textCircles;if(T){var P=e.text.placedSymbolArray.get(y.placedTextSymbolIndices[0]),k=t.evaluateSizeForFeature(e.textSizeData,f,P);S=this.collisionIndex.placeCollisionCircles(T,c.get("text-allow-overlap"),o,a,y.key,P,e.lineVertexArray,e.glyphOffsetArray,k,n,r,s,"map"===c.get("text-pitch-alignment")),m=c.get("text-allow-overlap")||S.circles.length>0,_=_&&S.offscreen}y.collisionArrays.iconFeatureIndex&&(w=y.collisionArrays.iconFeatureIndex),y.collisionArrays.iconBox&&(v=(E=this.collisionIndex.placeCollisionBox(y.collisionArrays.iconBox,c.get("icon-allow-overlap"),a,n)).box.length>0,_=_&&E.offscreen),p||d?d?p||(v=v&&m):m=v&&m:v=m=v&&m,m&&b&&this.collisionIndex.insertCollisionBox(b.box,c.get("text-ignore-placement"),e.bucketInstanceId,x),v&&E&&this.collisionIndex.insertCollisionBox(E.box,c.get("icon-ignore-placement"),e.bucketInstanceId,w),m&&S&&this.collisionIndex.insertCollisionCircles(S.circles,c.get("text-ignore-placement"),e.bucketInstanceId,x),this.placements[y.crossTileID]=new fn(m,v,_||e.justReloaded),u[y.crossTileID]=!0}}e.justReloaded=!1},pn.prototype.commit=function(t,e){this.commitTime=e;var n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,i=t?t.opacities:{};for(var o in this.placements){var a=this.placements[o],s=i[o];s?(this.opacities[o]=new cn(s,r,a.text,a.icon),n=n||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[o]=new cn(null,r,a.text,a.icon,a.skipFade),n=n||a.text||a.icon)}for(var u in i){var l=i[u];if(!this.opacities[u]){var c=new cn(l,r,!1,!1);c.isHidden()||(this.opacities[u]=c,n=n||l.text.placed||l.icon.placed)}}n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},pn.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},pn.prototype.updateBucketOpacities=function(t,e,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var r=t.layers[0].layout,i=new cn(null,0,!1,!1,!0),o=new cn(null,0,r.get("text-allow-overlap"),r.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],u=e[s.crossTileID],l=this.opacities[s.crossTileID];u?l=i:l||(l=o,this.opacities[s.crossTileID]=l),e[s.crossTileID]=!0;var c=s.numGlyphVertices>0||s.numVerticalGlyphVertices>0,f=s.numIconVertices>0;if(c){for(var p=Ve(l.text),d=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,h=0;h<d;h++)t.text.opacityVertexArray.emplaceBack(p);for(var g=0,y=s.placedTextSymbolIndices;g<y.length;g+=1){var m=y[g];t.text.placedSymbolArray.get(m).hidden=l.text.isHidden()}}if(f){for(var v=Ve(l.icon),_=0;_<s.numIconVertices/4;_++)t.icon.opacityVertexArray.emplaceBack(v);t.icon.placedSymbolArray.get(a).hidden=l.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(n,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var b=s.collisionArrays;if(b){b.textBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,l.text.placed,!1),b.iconBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,l.icon.placed,!1);var S=b.textCircles;if(S&&t.hasCollisionCircleData())for(var E=0;E<S.length;E+=5){var x=u||0===S[E+4];Pe(t.collisionCircle.collisionVertexArray,l.text.placed,x)}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},pn.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},pn.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},pn.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},pn.prototype.setStale=function(){this.stale=!0};var hn=Math.pow(2,25),gn=Math.pow(2,24),bn=Math.pow(2,17),En=Math.pow(2,16),xn=Math.pow(2,9),wn=Math.pow(2,8),Pn=Math.pow(2,1);function Ve(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*hn+e*gn+n*bn+e*En+n*xn+e*wn+n*Pn+e}var kn=function je(){this._currentTileIndex=0,this._seenCrossTileIDs={}};kn.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};var Dn=function $e(t,e,n,r,i){this.placement=new pn(t,i),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Dn.prototype.isDone=function(){return this._done},Dn.prototype.continuePlacement=function(t,e,n){for(var r=this,i=p.now(),o=function a(){var t=p.now()-i;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=e[t[r._currentPlacementIndex]],u=r.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(r._inProgressLayer||(r._inProgressLayer=new kn),r._inProgressLayer.continuePlacement(n[s.source],r.placement,r._showCollisionBoxes,s,o))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},Dn.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var An=512/t.default$8/2,Rn=function We(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}};Rn.prototype.getScaledCoordinates=function(e,n){var r=n.canonical.z-this.tileID.canonical.z,i=An/Math.pow(2,r),o=e.anchor;return{x:Math.floor((n.canonical.x*t.default$8+o.x)*i),y:Math.floor((n.canonical.y*t.default$8+o.y)*i)}},Rn.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0,o=t;i<o.length;i+=1){var a=o[i];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var u=this.getScaledCoordinates(a,e),l=0,c=s;l<c.length;l+=1){var f=c[l];if(Math.abs(f.coord.x-u.x)<=r&&Math.abs(f.coord.y-u.y)<=r&&!n[f.crossTileID]){n[f.crossTileID]=!0,a.crossTileID=f.crossTileID;break}}}}};var Mn=function qe(){this.maxCrossTileID=0};Mn.prototype.generate=function(){return++this.maxCrossTileID};var Ln=function Xe(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Ln.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Ln.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0,i=e.symbolInstances;r<i.length;r+=1)i[r].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var u in s){var l=s[u];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,o)}else{var c=s[t.scaledTo(Number(a)).key];c&&c.findMatches(e.symbolInstances,t,o)}}for(var f=0,p=e.symbolInstances;f<p.length;f+=1){var d=p[f];d.crossTileID||(d.crossTileID=n.generate(),o[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Rn(t,e.symbolInstances,e.bucketInstanceId),!0},Ln.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},Ln.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var On=function He(){this.layerIndexes={},this.crossTileIDs=new Mn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};On.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Ln);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},On.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Fn=function Ke(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Nn=t.pick(Je,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Bn=t.pick(Je,["setCenter","setZoom","setBearing","setPitch"]),Un=function(e){function i(n,r){var o=this;void 0===r&&(r={}),e.call(this),this.map=n,this.dispatcher=new ut((Xe||(Xe=new Ze),Xe),this),this.imageManager=new $,this.glyphManager=new tt(n._transformRequest,r.localIdeographFontFamily),this.lineAtlas=new ot(256,512),this.crossTileSymbolIndex=new On,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$23,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!y(e);e=function(t,e){if(!y(t))return t;var n=C(t);return n.path="/styles/v1"+n.path,v(n,e)}(e,n.accessToken);var o=this.map._transformRequest(e,t.ResourceType.Style);t.getJSON(o,(function(e,n){e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},i.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),p.frame((function(){r._load(e,!1!==n.validate)}))},i.prototype._load=function(e,n){var r=this;if(!n||!Fn(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)r.addSource(i,e.sources[i],{validate:!1});e.sprite?function(e,n,r){var i,o,a,s=p.devicePixelRatio>1?"@2x":"";function c(){if(a)r(a);else if(i&&o){var e=p.getImageData(o),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,f=u.x,d=u.y,h=u.sdf,g=u.pixelRatio,y=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,y,{x:f,y:d},{x:0,y:0},{width:l,height:c}),n[s]={data:y,pixelRatio:g,sdf:h}}r(null,n)}}t.getJSON(n(z(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){a||(a=t,i=e,c())})),t.getImage(n(z(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){a||(a=t,o=e,c())}))}(e.sprite,this.map._transformRequest,(function(e,n){if(e)r.fire(new t.ErrorEvent(e));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=ee(this.stylesheet.layers);this._order=o.map((function(t){return t.id})),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var u=s[a];(u=t.default$22(u)).setEventedParent(r,{layer:{id:u.id}}),r._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new it(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map((function(t){return e._layers[t].serialize()}))},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var i in(n.length||r.length)&&this._updateWorkerLayers(n,r),this._updatedSources){var o=this._updatedSources[i];"reload"===o?this._reloadSource(i):"clear"===o&&this._clearSource(i)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var u=0,l=this._order;u<l.length;u+=1){var c=l[u],f=this._layers[c];f.recalculate(e),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Fn(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=ee(e.layers);var r=function ue(e,n){if(!e)return[{command:Je.setStyle,args:[n]}];var r=[];try{if(!t.default$10(e.version,n.version))return[{command:Je.setStyle,args:[n]}];t.default$10(e.center,n.center)||r.push({command:Je.setCenter,args:[n.center]}),t.default$10(e.zoom,n.zoom)||r.push({command:Je.setZoom,args:[n.zoom]}),t.default$10(e.bearing,n.bearing)||r.push({command:Je.setBearing,args:[n.bearing]}),t.default$10(e.pitch,n.pitch)||r.push({command:Je.setPitch,args:[n.pitch]}),t.default$10(e.sprite,n.sprite)||r.push({command:Je.setSprite,args:[n.sprite]}),t.default$10(e.glyphs,n.glyphs)||r.push({command:Je.setGlyphs,args:[n.glyphs]}),t.default$10(e.transition,n.transition)||r.push({command:Je.setTransition,args:[n.transition]}),t.default$10(e.light,n.light)||r.push({command:Je.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||oe(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.default$10(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&ae(e,n,o)?r.push({command:Je.setGeoJSONSourceData,args:[o,n[o].data]}):re(o,n,r,i)):ne(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Je.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,u,l,c,f=(e=e||[]).map(le),p=n.map(le),d=e.reduce(ce,{}),h=n.reduce(ce,{}),g=f.slice(),y=Object.create(null);for(i=0,o=0;i<f.length;i++)a=f[i],h.hasOwnProperty(a)?o++:(r.push({command:Je.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)a=p[p.length-1-i],g[g.length-1-i]!==a&&(d.hasOwnProperty(a)?(r.push({command:Je.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,l=g[g.length-i],r.push({command:Je.addLayer,args:[h[a],l]}),g.splice(g.length-i,0,a),y[a]=!0);for(i=0;i<p.length;i++)if(s=d[a=p[i]],u=h[a],!y[a]&&!t.default$10(s,u))if(t.default$10(s.source,u.source)&&t.default$10(s["source-layer"],u["source-layer"])&&t.default$10(s.type,u.type)){for(c in se(s.layout,u.layout,r,a,null,Je.setLayoutProperty),se(s.paint,u.paint,r,a,null,Je.setPaintProperty),t.default$10(s.filter,u.filter)||r.push({command:Je.setFilter,args:[a,u.filter]}),t.default$10(s.minzoom,u.minzoom)&&t.default$10(s.maxzoom,u.maxzoom)||r.push({command:Je.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?se(s[c],u[c],r,a,c.slice(6),Je.setPaintProperty):t.default$10(s[c],u[c])||r.push({command:Je.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?se(s[c],u[c],r,a,c.slice(6),Je.setPaintProperty):t.default$10(s[c],u[c])||r.push({command:Je.setLayerProperty,args:[a,c,u[c]]}))}else r.push({command:Je.removeLayer,args:[a]}),l=g[g.lastIndexOf(a)+1],r.push({command:Je.addLayer,args:[u,l]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Je.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Bn)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in Nn)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},i.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.addSource=function(e,n,r){var i=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,n,null,r)){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new Ye(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,n,r){this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone(e),e=t.extend(e,{source:i})),!this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r)){var o=t.default$22(e);this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}});var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o)}}},i.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,n){this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.default$10(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",n)||(r.filter=t.clone(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?t.default$10(i.getLayoutProperty(n),r)||(i.setLayoutProperty(n,r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.default$10(i.getPaintProperty(n),r)){var o=i._transitionablePaint._values[n].value.isDataDriven();i.setPaintProperty(n,r),(i._transitionablePaint._values[n].value.isDataDriven()||o)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._order.map((function(t){return e._layers[t].serialize()}))},(function(t){return void 0!==t}))},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],i=0,o=t;i<o.length;i+=1){var a=o[i][r];if(a)for(var s=0,u=a;s<u.length;s+=1){var l=u[s];e.push(l)}}return e},i.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in this.sourceCaches)n.layers&&!i[c]||l.push(at(this.sourceCaches[c],this._layers,e.worldCoordinate,n,r));return this.placement&&l.push(function(t,e,n,r,i){for(var o={},a=r.queryRenderedSymbols(e),s=[],u=0,l=Object.keys(a).map(Number);u<l.length;u+=1){var c=l[u];s.push(i[c])}s.sort(st);for(var f=function h(){var e=d[p],r=e.featureIndex.lookupSymbolFeatures(a[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,n.filter,n.layers,t);for(var i in r){var s=o[i]=o[i]||[],u=r[i];u.sort((function(t,n){var r=e.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(n.featureIndex)-i}return n.featureIndex-t.featureIndex}));for(var l=0,c=u;l<c.length;l+=1){var h=c[l];s.push(h.feature)}}},p=0,d=s;p<d.length;p+=1)f();return o}(this._layers,e.viewport,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(l)},i.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var i in e)if(!t.default$10(e[i],n[i])){r=!0;break}if(r){var o={now:p.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(o)}},i.prototype._validate=function(e,n,r,i,o){return(!o||!1!==o.validate)&&Fn(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.default$5},i)))},i.prototype._remove=function(){for(var e in t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,n){for(var r=!1,i=!1,o={},a=0,s=this._order;a<s.length;a+=1){var u=s[a],l=this._layers[u];if("symbol"===l.type){if(!o[l.source]){var c=this.sourceCaches[l.source];o[l.source]=c.getRenderableIds().map((function(t){return c.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(l,o[l.source],t.center.lng);r=r||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(p.now()))&&(this.pauseablePlacement=new Dn(t,this._order,d,e,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,o),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,p.now()),i=!0),r&&this.pauseablePlacement.placement.setStale()),i||r)for(var h=0,g=this._order;h<g.length;h+=1){var y=g[h],m=this._layers[y];"symbol"===m.type&&this.placement.updateLayerOpacities(m,o[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(p.now())},i.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},i.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},i}(t.Evented);Un.getSourceType=function(t){return wt[t]},Un.setSourceType=function(t,e){wt[t]=e},Un.registerForPluginAvailability=t.registerForPluginAvailability;var zn=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),jn={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},Vn=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Gn=function ni(t){var e=jn[t],n={};e.fragmentSource=e.fragmentSource.replace(Vn,(function(t,e,r,i,o){return n[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"})),e.vertexSource=e.vertexSource.replace(Vn,(function(t,e,r,i,o){var a="float"===i?"vec2":"vec4";return n[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"}))};for(var Wn in jn)Gn(Wn);var qn=jn,Hn=function ai(t,e,n,r){var i=t.gl;this.program=i.createProgram();var o=n.defines().concat("#define DEVICE_PIXEL_RATIO "+p.devicePixelRatio.toFixed(1));r&&o.push("#define OVERDRAW_INSPECTOR;");var a=o.concat(qn.prelude.fragmentSource,e.fragmentSource).join("\n"),s=o.concat(qn.prelude.vertexSource,e.vertexSource).join("\n"),u=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(u,a),i.compileShader(u),i.attachShader(this.program,u);var l=i.createShader(i.VERTEX_SHADER);i.shaderSource(l,s),i.compileShader(l),i.attachShader(this.program,l);for(var c=n.layoutAttributes||[],f=0;f<c.length;f++)i.bindAttribLocation(this.program,f,c[f].name);i.linkProgram(this.program),this.numAttributes=i.getProgramParameter(this.program,i.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var h=i.getActiveAttrib(this.program,d);h&&(this.attributes[h.name]=i.getAttribLocation(this.program,h.name))}for(var g=i.getProgramParameter(this.program,i.ACTIVE_UNIFORMS),y=0;y<g;y++){var m=i.getActiveUniform(this.program,y);m&&(this.uniforms[m.name]=i.getUniformLocation(this.program,m.name))}};function si(e,n,r,i,o){for(var a=0;a<r.length;a++){var s=r[a];if(i.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var u=n.children(1/0),l=0;l<u.length;l++)si(e,u[l],r.slice(a),i,o);return}}var c=n.overscaledZ-e.overscaledZ,f=new t.CanonicalTileID(c,n.canonical.x-(e.canonical.x<<c),n.canonical.y-(e.canonical.y<<c));o[f.key]=o[f.key]||f}function li(t,e,n,r,i){var o=t.context,a=o.gl,s=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox");o.setDepthMode(je.disabled),o.setStencilMode(Ge.disabled),o.setColorMode(t.colorModeForRenderPass());for(var u=0;u<r.length;u++){var l=r[u],c=e.getTile(l),f=c.getBucket(n);if(f){var p=i?f.collisionCircle:f.collisionBox;if(p){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,l.posMatrix),i||o.lineWidth.set(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var d=ze(c,1,t.transform.zoom),h=Math.pow(2,t.transform.zoom-c.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,d),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(d*h),t.transform.pixelsToGLUnits[1]/(d*h)),a.uniform1f(s.uniforms.u_overscale_factor,c.tileID.overscaleFactor()),s.draw(o,i?a.TRIANGLES:a.LINES,n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,p.collisionVertexBuffer,null)}}}}Hn.prototype.draw=function(t,e,n,r,i,o,a,s,u){for(var l,c=t.gl,f=(l={},l[c.LINES]=2,l[c.TRIANGLES]=3,l)[e],p=0,d=o.get();p<d.length;p+=1){var h=d[p],g=h.vaos||(h.vaos={});(g[n]||(g[n]=new _t)).bind(t,this,r,a?a.getPaintVertexBuffers():[],i,h.vertexOffset,s,u),c.drawElements(e,h.primitiveLength*f,c.UNSIGNED_SHORT,h.primitiveOffset*f*2)}};var Kn=t.mat4.identity(new Float32Array(16)),Yn=t.default$19.layout;function hi(t,e,n,r,i,o,a,s,u,l){var c,f=t.context,p=f.gl,d=t.transform,h="map"===s,g="map"===u,y=h&&"line"===n.layout.get("symbol-placement"),m=h&&!g&&!y,v=g;f.setDepthMode(v?t.depthModeForSublayer(0,je.ReadOnly):je.disabled);for(var _=0,b=r;_<b.length;_+=1){var S=b[_],E=e.getTile(S),x=E.getBucket(n);if(x){var w=i?x.text:x.icon;if(w&&w.segments.get().length){var T=w.programConfigurations.get(n.id),P=i||x.sdfIcons,k=i?x.textSizeData:x.iconSizeData;if(c||(c=t.useProgram(P?"symbolSDF":"symbolIcon",T),T.setUniforms(t.context,c,n.paint,{zoom:t.transform.zoom}),pi(c,t,0,i,m,g,k)),f.activeTexture.set(p.TEXTURE0),p.uniform1i(c.uniforms.u_texture,0),i)E.glyphAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.uniform2fv(c.uniforms.u_texsize,E.glyphAtlasTexture.size);else{var C=1!==n.layout.get("icon-size").constantOr(0)||x.iconsNeedLinear,D=g||0!==d.pitch;E.iconAtlasTexture.bind(P||t.options.rotating||t.options.zooming||C||D?p.LINEAR:p.NEAREST,p.CLAMP_TO_EDGE),p.uniform2fv(c.uniforms.u_texsize,E.iconAtlasTexture.size)}p.uniformMatrix4fv(c.uniforms.u_matrix,!1,t.translatePosMatrix(S.posMatrix,E,o,a));var A=ze(E,1,t.transform.zoom),R=de(S.posMatrix,g,h,t.transform,A),M=fe(S.posMatrix,g,h,t.transform,A);p.uniformMatrix4fv(c.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(M,E,o,a,!0)),y?(p.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,Kn),ge(x,S.posMatrix,t,i,R,M,g,l)):p.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,R),p.uniform1f(c.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),di(c,0,t,n,0,w,i,P,g)}}}}function pi(e,n,r,i,o,a,s){var u=n.context.gl,l=n.transform;u.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),u.uniform1f(e.uniforms.u_is_text,i?1:0),u.uniform1f(e.uniforms.u_pitch,l.pitch/360*2*Math.PI);var c="constant"===s.functionType||"source"===s.functionType,f="constant"===s.functionType||"camera"===s.functionType;u.uniform1i(e.uniforms.u_is_size_zoom_constant,c?1:0),u.uniform1i(e.uniforms.u_is_size_feature_constant,f?1:0),u.uniform1f(e.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var p=t.evaluateSizeForZoom(s,l.zoom,Yn.properties[i?"text-size":"icon-size"]);void 0!==p.uSizeT&&u.uniform1f(e.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&u.uniform1f(e.uniforms.u_size,p.uSize),u.uniform1f(e.uniforms.u_aspect_ratio,l.width/l.height),u.uniform1i(e.uniforms.u_rotate_symbol,o?1:0)}function di(t,e,n,r,i,o,a,s,u){var l=n.context,c=l.gl,f=n.transform;if(s){var p=0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=u?Math.cos(f._pitch)*f.cameraToCenterDistance:1;c.uniform1f(t.uniforms.u_gamma_scale,d),p&&(c.uniform1f(t.uniforms.u_is_halo,1),fi(o,r,l,t)),c.uniform1f(t.uniforms.u_is_halo,0)}fi(o,r,l,t)}function fi(t,e,n,r){r.draw(n,n.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function mi(t,e,n,r,i,o,a,s,u){var l,c,f,d,h=e.context,g=h.gl,y=i.paint.get("line-dasharray"),m=i.paint.get("line-pattern");if(s||u){var v=1/ze(n,1,e.transform.tileZoom);if(y){l=e.lineAtlas.getDash(y.from,"round"===i.layout.get("line-cap")),c=e.lineAtlas.getDash(y.to,"round"===i.layout.get("line-cap"));var _=l.width*y.fromScale,b=c.width*y.toScale;g.uniform2f(t.uniforms.u_patternscale_a,v/_,-l.height/2),g.uniform2f(t.uniforms.u_patternscale_b,v/b,-c.height/2),g.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*p.devicePixelRatio)/2)}else if(m){if(f=e.imageManager.getPattern(m.from),d=e.imageManager.getPattern(m.to),!f||!d)return;g.uniform2f(t.uniforms.u_pattern_size_a,f.displaySize[0]*m.fromScale/v,f.displaySize[1]),g.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*m.toScale/v,d.displaySize[1]);var S=e.imageManager.getPixelSize(),E=S.width,x=S.height;g.uniform2fv(t.uniforms.u_texsize,[E,x])}g.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}s&&(y?(g.uniform1i(t.uniforms.u_image,0),h.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(h),g.uniform1f(t.uniforms.u_tex_y_a,l.y),g.uniform1f(t.uniforms.u_tex_y_b,c.y),g.uniform1f(t.uniforms.u_mix,y.t)):m&&(g.uniform1i(t.uniforms.u_image,0),h.activeTexture.set(g.TEXTURE0),e.imageManager.bind(h),g.uniform2fv(t.uniforms.u_pattern_tl_a,f.tl),g.uniform2fv(t.uniforms.u_pattern_br_a,f.br),g.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),g.uniform2fv(t.uniforms.u_pattern_br_b,d.br),g.uniform1f(t.uniforms.u_fade,m.t))),h.setStencilMode(e.stencilModeForClipping(o));var w=e.translatePosMatrix(o.posMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"));if(g.uniformMatrix4fv(t.uniforms.u_matrix,!1,w),g.uniform1f(t.uniforms.u_ratio,1/ze(n,1,e.transform.zoom)),i.paint.get("line-gradient")){h.activeTexture.set(g.TEXTURE0);var T=i.gradientTexture;if(!i.gradient)return;T||(T=i.gradientTexture=new Z(h,i.gradient,g.RGBA)),T.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.uniform1i(t.uniforms.u_image,0)}t.draw(h,g.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,a)}var Xn=function _i(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);return!n||!r},Zn=function gi(t,e,n){var r=e.context,i=r.gl,o=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);i.uniform1i(n.uniforms.u_image,0),i.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),i.uniform2fv(n.uniforms.u_pattern_br_a,o.br),i.uniform2fv(n.uniforms.u_pattern_tl_b,a.tl),i.uniform2fv(n.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),u=s.width,l=s.height;i.uniform2fv(n.uniforms.u_texsize,[u,l]),i.uniform1f(n.uniforms.u_mix,t.t),i.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),i.uniform2fv(n.uniforms.u_pattern_size_b,a.displaySize),i.uniform1f(n.uniforms.u_scale_a,t.fromScale),i.uniform1f(n.uniforms.u_scale_b,t.toScale),r.activeTexture.set(i.TEXTURE0),e.imageManager.bind(e.context)},$n=function vi(t,e,n){var r=e.context.gl;r.uniform1f(n.uniforms.u_tile_units_to_pixels,1/ze(t,1,e.transform.tileZoom));var i=Math.pow(2,t.tileID.overscaledZ),o=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(t.tileID.canonical.x+t.tileID.wrap*i),s=o*t.tileID.canonical.y;r.uniform2f(n.uniforms.u_pixel_coord_upper,a>>16,s>>16),r.uniform2f(n.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function yi(t,e,n,r,i){if(!Xn(n.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.getTile(u),c=l.getBucket(n);c&&(t.context.setStencilMode(t.stencilModeForClipping(u)),i(t,e,n,l,u,c,o),o=!1)}}function xi(t,e,n,r,i,o,a){var s=t.context.gl,u=o.programConfigurations.get(n.id);wi("fill",n.paint.get("fill-pattern"),t,u,n,r,i,a).draw(t.context,s.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,u)}function bi(t,e,n,r,i,o,a){var s=t.context.gl,u=o.programConfigurations.get(n.id),l=wi("fillOutline",n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),t,u,n,r,i,a);s.uniform2f(l.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),l.draw(t.context,s.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,u)}function wi(t,e,n,r,i,o,a,s){var u,l=n.context.program.get();return e?(u=n.useProgram(t+"Pattern",r),(s||u.program!==l)&&(r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom}),Zn(e,n,u)),$n(o,n,u)):(u=n.useProgram(t,r),(s||u.program!==l)&&r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom})),n.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"))),u}var Jn=t.default$20.mat3,Qn=t.default$20.mat4,tr=t.default$20.vec3;function Ci(t,e,n,r,i,o,a){var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=t.context.program.get(),f=o.programConfigurations.get(n.id),p=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);if((a||p.program!==c)&&f.setUniforms(s,p,n.paint,{zoom:t.transform.zoom}),l){if(Xn(l,t))return;Zn(l,t,p),$n(r,t,p),u.uniform1f(p.uniforms.u_height_factor,-Math.pow(2,i.overscaledZ)/r.tileSize/8)}t.context.gl.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.translatePosMatrix(i.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var n=e.context.gl,r=e.style.light,i=r.properties.get("position"),o=[i.x,i.y,i.z],a=Jn.create();"viewport"===r.properties.get("anchor")&&Jn.fromRotation(a,-e.transform.angle),tr.transformMat3(o,o,a);var s=r.properties.get("color");n.uniform3fv(t.uniforms.u_lightpos,o),n.uniform1f(t.uniforms.u_lightintensity,r.properties.get("intensity")),n.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(p,t),p.draw(s,u.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,f)}function Si(e,n,r){var i=e.context,o=i.gl,a=n.fbo;if(a){var s=e.useProgram("hillshade"),u=e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),!0);!function(t,e,n){var r=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(r-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,n.paint.get("hillshade-exaggeration"),r)}(s,e,r);var l=function(e,n){var r=n.toCoordinate(),i=new t.default$17(r.column,r.row+1,r.zoom);return[e.transform.coordinateLocation(r).lat,e.transform.coordinateLocation(i).lat]}(e,n.tileID);i.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a.colorAttachment.get()),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,u),o.uniform2fv(s.uniforms.u_latrange,l),o.uniform1i(s.uniforms.u_image,0);var c=r.paint.get("hillshade-shadow-color");o.uniform4f(s.uniforms.u_shadow,c.r,c.g,c.b,c.a);var f=r.paint.get("hillshade-highlight-color");o.uniform4f(s.uniforms.u_highlight,f.r,f.g,f.b,f.a);var p=r.paint.get("hillshade-accent-color");if(o.uniform4f(s.uniforms.u_accent,p.r,p.g,p.b,p.a),n.maskedBoundsBuffer&&n.maskedIndexBuffer&&n.segments)s.draw(i,o.TRIANGLES,r.id,n.maskedBoundsBuffer,n.maskedIndexBuffer,n.segments);else{var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(i,s,d,[]),o.drawArrays(o.TRIANGLE_STRIP,0,d.length)}}}function zi(e,n,r){var i=e.context,o=i.gl;if(n.dem&&n.dem.level){var a=n.dem.level.dim,s=n.dem.getPixels();if(i.activeTexture.set(o.TEXTURE1),i.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(n.tileSize),n.demTexture){var u=n.demTexture;u.update(s,{premultiply:!1}),u.bind(o.NEAREST,o.CLAMP_TO_EDGE)}else n.demTexture=new Z(i,s,o.RGBA,{premultiply:!1}),n.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE);i.activeTexture.set(o.TEXTURE0);var l=n.fbo;if(!l){var c=new Z(i,{width:a,height:a,data:null},o.RGBA);c.bind(o.LINEAR,o.CLAMP_TO_EDGE),(l=n.fbo=i.createFramebuffer(a,a)).colorAttachment.set(c.texture)}i.bindFramebuffer.set(l.framebuffer),i.viewport.set([0,0,a,a]);var f=t.mat4.create();t.mat4.ortho(f,0,t.default$8,-t.default$8,0,0,1),t.mat4.translate(f,f,[0,-t.default$8,0]);var p=e.useProgram("hillshadePrepare");o.uniformMatrix4fv(p.uniforms.u_matrix,!1,f),o.uniform1f(p.uniforms.u_zoom,n.tileID.overscaledZ),o.uniform2fv(p.uniforms.u_dimension,[2*a,2*a]),o.uniform1i(p.uniforms.u_image,1),o.uniform1f(p.uniforms.u_maxzoom,r);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(i,p,d,[]),o.drawArrays(o.TRIANGLE_STRIP,0,d.length),n.needsHillshadePrepare=!1}}function Ai(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=p.now(),u=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=r.getSource(),f=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(e.tileID.overscaledZ-f),h=d&&e.refreshedUponExpiration?1:t.clamp(d?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function Ri(e,n,r){var i=e.context,o=i.gl;i.lineWidth.set(1*p.devicePixelRatio);var a=r.posMatrix,s=e.useProgram("debug");i.setDepthMode(je.disabled),i.setStencilMode(Ge.disabled),i.setColorMode(e.colorModeForRenderPass()),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),o.uniform4f(s.uniforms.u_color,1,0,0,1),e.debugVAO.bind(i,s,e.debugBuffer,[]),o.drawArrays(o.LINE_STRIP,0,e.debugBuffer.length);for(var u=function(t,e,n,r){r=r||1;var i,o,a,s,u,l,c,f,p=[];for(i=0,o=t.length;i<o;i++)if(u=er[t[i]]){for(f=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?f=null:(l=e+u[1][a]*r,c=200-u[1][a+1]*r,f&&p.push(f.x,f.y,l,c),f={x:l,y:c});e+=u[0]*r}return p}(r.toString(),50,0,5),l=new t.PosArray,c=0;c<u.length;c+=2)l.emplaceBack(u[c],u[c+1]);var f=i.createVertexBuffer(l,zn.members);(new _t).bind(i,s,f,[]),o.uniform4f(s.uniforms.u_color,1,1,1,1);for(var d=n.getTile(r).tileSize,h=t.default$8/(Math.pow(2,e.transform.zoom-r.overscaledZ)*d),g=[[-1,-1],[-1,1],[1,-1],[1,1]],y=0;y<g.length;y++){var m=g[y];o.uniformMatrix4fv(s.uniforms.u_matrix,!1,t.mat4.translate([],a,[h*m[0],h*m[1],0])),o.drawArrays(o.LINES,0,f.length)}o.uniform4f(s.uniforms.u_color,0,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),o.drawArrays(o.LINES,0,f.length)}var er={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},nr={symbol:function symbol(t,e,n,r){if("translucent"===t.renderPass){var i=t.context;i.setStencilMode(Ge.disabled),i.setColorMode(t.colorModeForRenderPass()),0!==n.paint.get("icon-opacity").constantOr(1)&&hi(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&hi(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&function(t,e,n,r){li(t,e,n,r,!1),li(t,e,n,r,!0)}(t,e,n,r)}},circle:function circle(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,u=s.gl;s.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),s.setStencilMode(Ge.disabled),s.setColorMode(t.colorModeForRenderPass());for(var l=!0,c=0;c<r.length;c++){var f=r[c],p=e.getTile(f),d=p.getBucket(n);if(d){var h=t.context.program.get(),g=d.programConfigurations.get(n.id),y=t.useProgram("circle",g);if((l||y.program!==h)&&(g.setUniforms(s,y,n.paint,{zoom:t.transform.zoom}),l=!1),u.uniform1f(y.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),u.uniform1i(y.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){u.uniform1i(y.uniforms.u_pitch_with_map,1);var m=ze(p,1,t.transform.zoom);u.uniform2f(y.uniforms.u_extrude_scale,m,m)}else u.uniform1i(y.uniforms.u_pitch_with_map,0),u.uniform2fv(y.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);u.uniformMatrix4fv(y.uniforms.u_matrix,!1,t.translatePosMatrix(f.posMatrix,p,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),y.draw(s,u.TRIANGLES,n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,g)}}}}},heatmap:function heatmap(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl;o.setDepthMode(e.depthModeForSublayer(0,je.ReadOnly)),o.setStencilMode(Ge.disabled),function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(o,e,r),o.clear({color:t.default$6.transparent}),o.setColorMode(new We([a.ONE,a.ONE],t.default$6.transparent,[!0,!0,!0,!0]));for(var s=!0,u=0;u<i.length;u++){var l=i[u];if(!n.hasRenderableParent(l)){var c=n.getTile(l),f=c.getBucket(r);if(f){var p=e.context.program.get(),d=f.programConfigurations.get(r.id),h=e.useProgram("heatmap",d),g=e.transform.zoom;(s||h.program!==p)&&(d.setUniforms(e.context,h,r.paint,{zoom:g}),s=!1),a.uniform1f(h.uniforms.u_extrude_scale,ze(c,1,g)),a.uniform1f(h.uniforms.u_intensity,r.paint.get("heatmap-intensity")),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,l.posMatrix),h.draw(o,a.TRIANGLES,r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,d)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new Z(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),r.setDepthMode(je.disabled);var s=e.useProgram("heatmapTexture"),u=n.paint.get("heatmap-opacity");i.uniform1f(s.uniforms.u_opacity,u),i.uniform1i(s.uniforms.u_image,0),i.uniform1i(s.uniforms.u_color_ramp,1);var l=t.mat4.create();t.mat4.ortho(l,0,e.width,e.height,0,0,1),i.uniformMatrix4fv(s.uniforms.u_matrix,!1,l),i.uniform2f(s.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}(e,r))},line:function line(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("line-opacity").constantOr(1)){var i=t.context;i.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),i.setColorMode(t.colorModeForRenderPass());for(var o,a=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":n.paint.get("line-gradient")?"lineGradient":"line",s=!0,u=0,l=r;u<l.length;u+=1){var c=l[u],f=e.getTile(c),p=f.getBucket(n);if(p){var d=p.programConfigurations.get(n.id),h=t.context.program.get(),g=t.useProgram(a,d),y=s||g.program!==h,m=o!==f.tileID.overscaledZ;y&&d.setUniforms(t.context,g,n.paint,{zoom:t.transform.zoom}),mi(g,t,f,p,n,c,d,y,m),o=f.tileID.overscaledZ,s=!1}}}},fill:function fill(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var u=r.paint.get("fill-pattern")||1!==o.constantOr(t.default$6.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===u&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?je.ReadWrite:je.ReadOnly)),yi(e,n,r,i,xi)),"translucent"===e.renderPass&&r.paint.get("fill-antialias")&&(s.lineWidth.set(2),s.setDepthMode(e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,je.ReadOnly)),yi(e,n,r,i,bi))}},"fill-extrusion":function fillExtrusion(e,n,r,i){if(0!==r.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,n){var r=e.context,i=r.gl,o=n.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!o){var a=new Z(r,{width:e.width,height:e.height,data:null},i.RGBA);a.bind(i.LINEAR,i.CLAMP_TO_EDGE),(o=n.viewportFrame=r.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}r.bindFramebuffer.set(o.framebuffer),o.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(r.clear({depth:1}),e.depthRboNeedsClear=!1),r.clear({color:t.default$6.transparent}),r.setStencilMode(Ge.disabled),r.setDepthMode(new je(i.LEQUAL,je.ReadWrite,[0,1])),r.setColorMode(e.colorModeForRenderPass())}(e,r);for(var o=!0,a=0,s=i;a<s.length;a+=1){var u=s[a],l=n.getTile(u),c=l.getBucket(r);c&&(Ci(e,0,r,l,u,c,o),o=!1)}}else"translucent"===e.renderPass&&function(t,e){var n=e.viewportFrame;if(n){var r=t.context,i=r.gl,o=t.useProgram("extrusionTexture");r.setStencilMode(Ge.disabled),r.setDepthMode(je.disabled),r.setColorMode(t.colorModeForRenderPass()),r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),i.uniform1f(o.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),i.uniform1i(o.uniforms.u_image,0);var a=Qn.create();Qn.ortho(a,0,t.width,t.height,0,0,1),i.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),i.uniform2f(o.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),t.viewportVAO.bind(r,o,t.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}(e,r)},hillshade:function hillshade(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var i=t.context,o=e.getSource().maxzoom;i.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),i.setStencilMode(Ge.disabled),i.setColorMode(t.colorModeForRenderPass());for(var a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.getTile(u);l.needsHillshadePrepare&&"offscreen"===t.renderPass?zi(t,l,o):"translucent"===t.renderPass&&Si(t,l,n)}i.viewport.set([0,0,t.width,t.height])}},raster:function raster(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")){var i,o,a=t.context,s=a.gl,u=e.getSource(),l=t.useProgram("raster");a.setStencilMode(Ge.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(l.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),s.uniform1f(l.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),s.uniform1f(l.uniforms.u_saturation_factor,(i=n.paint.get("raster-saturation"))>0?1-1/(1.001-i):-i),s.uniform1f(l.uniforms.u_contrast_factor,(o=n.paint.get("raster-contrast"))>0?1/(1-o):1+o),s.uniform3fv(l.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}(n.paint.get("raster-hue-rotate"))),s.uniform1f(l.uniforms.u_buffer_scale,1),s.uniform1i(l.uniforms.u_image0,0),s.uniform1i(l.uniforms.u_image1,1);for(var c=r.length&&r[0].overscaledZ,f=0,p=r;f<p.length;f+=1){var d=p[f];a.setDepthMode(t.depthModeForSublayer(d.overscaledZ-c,1===n.paint.get("raster-opacity")?je.ReadWrite:je.ReadOnly,s.LESS));var h=e.getTile(d),g=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);h.registerFadeDuration(n.paint.get("raster-fade-duration")),s.uniformMatrix4fv(l.uniforms.u_matrix,!1,g);var y=e.findLoadedParent(d,0,{}),m=Ai(h,y,e,n,t.transform),v=void 0,_=void 0;if(a.activeTexture.set(s.TEXTURE0),h.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),y?(y.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,y.tileID.overscaledZ-h.tileID.overscaledZ),_=[h.tileID.canonical.x*v%1,h.tileID.canonical.y*v%1]):h.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(l.uniforms.u_tl_parent,_||[0,0]),s.uniform1f(l.uniforms.u_scale_parent,v||1),s.uniform1f(l.uniforms.u_fade_t,m.mix),s.uniform1f(l.uniforms.u_opacity,m.opacity*n.paint.get("raster-opacity")),u instanceof bt){var b=u.boundsBuffer;u.boundsVAO.bind(a,l,b,[]),s.drawArrays(s.TRIANGLE_STRIP,0,b.length)}else if(h.maskedBoundsBuffer&&h.maskedIndexBuffer&&h.segments)l.draw(a,s.TRIANGLES,n.id,h.maskedBoundsBuffer,h.maskedIndexBuffer,h.segments);else{var S=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,l,S,[]),s.drawArrays(s.TRIANGLE_STRIP,0,S.length)}}}},background:function background(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern"),c=l||1!==r.a||1!==i?"translucent":"opaque";if(t.renderPass===c){var f;if(o.setStencilMode(Ge.disabled),o.setDepthMode(t.depthModeForSublayer(0,"opaque"===c?je.ReadWrite:je.ReadOnly)),o.setColorMode(t.colorModeForRenderPass()),l){if(Xn(l,t))return;f=t.useProgram("backgroundPattern"),Zn(l,t,f),t.tileExtentPatternVAO.bind(o,f,t.tileExtentBuffer,[])}else f=t.useProgram("background"),a.uniform4fv(f.uniforms.u_color,[r.r,r.g,r.b,r.a]),t.tileExtentVAO.bind(o,f,t.tileExtentBuffer,[]);a.uniform1f(f.uniforms.u_opacity,i);for(var p=0,d=s.coveringTiles({tileSize:u});p<d.length;p+=1){var h=d[p];l&&$n({tileID:h,tileSize:u},t,f),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(h.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function debug(t,e,n){for(var r=0;r<n.length;r++)Ri(t,e,n[r])}},rr=function Li(e,n){this.context=new qe(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=Ye.maxUnderzooming+Ye.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$24,this.crossTileSymbolIndex=new On};function Pi(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function ki(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,p=o;p<a;p++){var d=u*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,h=l*Math.max(0,Math.min(e.dy,p+f-e.y0))+e.x0;i(Math.floor(h),Math.ceil(d),p)}}function Bi(t,e,n,r,i,o){var a,s=Pi(t,e),u=Pi(e,n),l=Pi(n,t);s.dy>u.dy&&(a=s,s=u,u=a),s.dy>l.dy&&(a=s,s=l,l=a),u.dy>l.dy&&(a=u,u=l,l=a),s.dy&&ki(l,s,r,i,o),u.dy&&ki(l,u,r,i,o)}rr.prototype.resize=function(t,e){var n=this.context.gl;if(this.width=t*p.devicePixelRatio,this.height=e*p.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1){var o=i[r];this.style._layers[o].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},rr.prototype.setup=function(){var e=this.context,n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$8,0),n.emplaceBack(0,t.default$8),n.emplaceBack(t.default$8,t.default$8),this.tileExtentBuffer=e.createVertexBuffer(n,zn.members),this.tileExtentVAO=new _t,this.tileExtentPatternVAO=new _t;var r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(t.default$8,0),r.emplaceBack(t.default$8,t.default$8),r.emplaceBack(0,t.default$8),r.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(r,zn.members),this.debugVAO=new _t;var i=new t.RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(t.default$8,0,t.default$8,0),i.emplaceBack(0,t.default$8,0,t.default$8),i.emplaceBack(t.default$8,t.default$8,t.default$8,t.default$8),this.rasterBoundsBuffer=e.createVertexBuffer(i,vt.members),this.rasterBoundsVAO=new _t;var o=new t.PosArray;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,zn.members),this.viewportVAO=new _t},rr.prototype.clearStencil=function(){var e=this.context,n=e.gl;e.setColorMode(We.disabled),e.setDepthMode(je.disabled),e.setStencilMode(new Ge({func:n.ALWAYS,mask:0},0,255,n.ZERO,n.ZERO,n.ZERO));var r=t.mat4.create();t.mat4.ortho(r,0,this.width,this.height,0,0,1),t.mat4.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]);var i=this.useProgram("clippingMask");n.uniformMatrix4fv(i.uniforms.u_matrix,!1,r),this.viewportVAO.bind(e,i,this.viewportBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,4)},rr.prototype._renderTileClippingMasks=function(t){var e=this.context,n=e.gl;e.setColorMode(We.disabled),e.setDepthMode(je.disabled);var r=1;this._tileClippingMaskIDs={};for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=this._tileClippingMaskIDs[a.key]=r++;e.setStencilMode(new Ge({func:n.ALWAYS,mask:0},s,255,n.KEEP,n.KEEP,n.REPLACE));var u=this.useProgram("clippingMask");n.uniformMatrix4fv(u.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,u,this.tileExtentBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},rr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ge({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},rr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new We([e.CONSTANT_COLOR,e.ONE],new t.default$6(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?We.unblended:We.alphaBlended},rr.prototype.depthModeForSublayer=function(t,e,n){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=r-1+this.depthRange;return new je(n||this.context.gl.LEQUAL,e,[i,r])},rr.prototype.render=function(e,n){var r=this;for(var i in this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(p.now()),e.sourceCaches){var o=r.style.sourceCaches[i];o.used&&o.prepare(r.context)}var a=this.style._order,s=t.filterObject(this.style.sourceCaches,(function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type})),u=function c(e){var n=s[e];!function(e,n){for(var r=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),i=0;i<r.length;i++){var o={},a=r[i],s=r.slice(i+1);si(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}(n.getVisibleCoordinates().map((function(t){return n.getTile(t)})),r.context)};for(var l in s)u(l);this.renderPass="offscreen";var f,d=[];this.depthRboNeedsClear=!0;for(var h=0;h<a.length;h++){var g=r.style._layers[a[h]];g.hasOffscreenPass()&&!g.isHidden(r.transform.zoom)&&(g.source!==(f&&f.id)&&(d=[],(f=r.style.sourceCaches[g.source])&&(d=f.getVisibleCoordinates()).reverse()),d.length&&r.renderLayer(r,f,g,d))}this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.default$6.black:t.default$6.transparent,depth:1}),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var y,m=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var v=r.style._layers[a[r.currentLayer]];v.source!==(y&&y.id)&&(m=[],(y=r.style.sourceCaches[v.source])&&(r.clearStencil(),m=y.getVisibleCoordinates(),y.getSource().isTileClipped&&r._renderTileClippingMasks(m))),r.renderLayer(r,y,v,m)}this.renderPass="translucent";var _,b=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var S=r.style._layers[a[r.currentLayer]];S.source!==(_&&_.id)&&(b=[],(_=r.style.sourceCaches[S.source])&&(r.clearStencil(),b=_.getVisibleCoordinates(),_.getSource().isTileClipped&&r._renderTileClippingMasks(b)),b.reverse()),r.renderLayer(r,_,S,b)}if(this.options.showTileBoundaries){var E=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];E&&nr.debug(this,E,E.getVisibleCoordinates())}},rr.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},rr.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,nr[n.type](t,e,n,r))},rr.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[o?r[0]:ze(n,r[0],this.transform.zoom),o?r[1]:ze(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.mat4.translate(c,e,l),c},rr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},rr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},rr.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new Hn(this.context,qn[t],e,this._showOverdrawInspector)),this.cache[n]},rr.prototype.useProgram=function(t,e){var n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(n.program),n};var ir=t.default$20.vec4,or=t.default$20.mat4,ar=t.default$20.mat2,sr=function Ui(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new ct(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},ur={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};sr.prototype.clone=function(){var t=new sr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},ur.minZoom.get=function(){return this._minZoom},ur.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},ur.maxZoom.get=function(){return this._maxZoom},ur.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},ur.renderWorldCopies.get=function(){return this._renderWorldCopies},ur.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},ur.worldSize.get=function(){return this.tileSize*this.scale},ur.centerPoint.get=function(){return this.size._div(2)},ur.size.get=function(){return new t.default$1(this.width,this.height)},ur.bearing.get=function(){return-this.angle/Math.PI*180},ur.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=ar.create(),ar.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ur.pitch.get=function(){return this._pitch/Math.PI*180},ur.pitch.set=function(e){var n=t.clamp(e,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},ur.fov.get=function(){return this._fov/Math.PI*180},ur.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},ur.zoom.get=function(){return this._zoom},ur.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},ur.center.get=function(){return this._center},ur.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},sr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},sr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=this.pointCoordinate(new t.default$1(0,0),0),r=this.pointCoordinate(new t.default$1(this.width,0),0),i=Math.floor(n.column),o=Math.floor(r.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=i;s<=o;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},sr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=this.pointCoordinate(this.centerPoint,n),o=new t.default$1(i.column-.5,i.row-.5);return function(e,n,r,i){void 0===i&&(i=!0);var o=1<<e,a={};function s(n,s,u){var l,c,f,p;if(u>=0&&u<=o)for(l=n;l<s;l++)c=Math.floor(l/o),f=(l%o+o)%o,0!==c&&!0!==i||(p=new t.OverscaledTileID(r,c,e,f,u),a[p.key]=p)}return Bi(n[0],n[1],n[2],0,o,s),Bi(n[2],n[3],n[0],0,o,s),Object.keys(a).map((function(t){return a[t]}))}(n,[this.pointCoordinate(new t.default$1(0,0),n),this.pointCoordinate(new t.default$1(this.width,0),n),this.pointCoordinate(new t.default$1(this.width,this.height),n),this.pointCoordinate(new t.default$1(0,this.height),n)],e.reparseOverscaled?r:n,this._renderWorldCopies).sort((function(t,e){return o.dist(t.canonical)-o.dist(e.canonical)}))},sr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},ur.unmodified.get=function(){return this._unmodified},sr.prototype.zoomScale=function(t){return Math.pow(2,t)},sr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},sr.prototype.project=function(e){return new t.default$1(this.lngX(e.lng),this.latY(e.lat))},sr.prototype.unproject=function(t){return new ct(this.xLng(t.x),this.yLat(t.y))},ur.x.get=function(){return this.lngX(this.center.lng)},ur.y.get=function(){return this.latY(this.center.lat)},ur.point.get=function(){return new t.default$1(this.x,this.y)},sr.prototype.lngX=function(t){return(180+t)*this.worldSize/360},sr.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},sr.prototype.xLng=function(t){return 360*t/this.worldSize-180},sr.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},sr.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},sr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},sr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},sr.prototype.locationCoordinate=function(e){return new t.default$17(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},sr.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new ct(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},sr.prototype.pointCoordinate=function(e,n){void 0===n&&(n=this.tileZoom);var r=[e.x,e.y,0,1],i=[e.x,e.y,1,1];ir.transformMat4(r,r,this.pixelMatrixInverse),ir.transformMat4(i,i,this.pixelMatrixInverse);var o=r[3],a=i[3],s=r[0]/o,u=i[0]/a,l=r[1]/o,c=i[1]/a,f=r[2]/o,p=i[2]/a,d=f===p?0:(0-f)/(p-f);return new t.default$17(t.number(s,u,d)/this.tileSize,t.number(l,c,d)/this.tileSize,this.zoom)._zoomTo(n)},sr.prototype.coordinatePoint=function(e){var n=e.zoomTo(this.zoom),r=[n.column*this.tileSize,n.row*this.tileSize,0,1];return ir.transformMat4(r,r,this.pixelMatrix),new t.default$1(r[0]/r[3],r[1]/r[3])},sr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=or.identity(new Float64Array(16));return or.translate(u,u,[s*a,o.y*a,0]),or.scale(u,u,[a/t.default$8,a/t.default$8,1]),or.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=this.latY(f[1]),e=(a=this.latY(f[0]))-o<l.y?l.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),n=(u=this.lngX(p[1]))-s<l.x?l.x/(u-s):0}var d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.default$1(n?(u+s)/2:this.x,e?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var h=this.y,g=l.y/2;h-g<o&&(i=o+g),h+g>a&&(i=a-g)}if(this.lngRange){var y=this.x,m=l.x/2;y-m<s&&(r=s+m),y+m>u&&(r=u-m)}void 0===r&&void 0===i||(this.center=this.unproject(new t.default$1(void 0!==r?r:this.x,void 0!==i?i:this.y))),this._unmodified=c,this._constraining=!1}},sr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=this.x,i=this.y,o=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),a=new Float64Array(16);or.perspective(a,this._fov,this.width/this.height,1,o),or.scale(a,a,[1,-1,1]),or.translate(a,a,[0,0,-this.cameraToCenterDistance]),or.rotateX(a,a,this._pitch),or.rotateZ(a,a,this.angle),or.translate(a,a,[-r,-i,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));or.scale(a,a,[1,1,s,1]),this.projMatrix=a;var u=this.width%2/2,l=this.height%2/2,c=Math.cos(this.angle),f=Math.sin(this.angle),p=r-Math.round(r)+c*u+f*l,d=i-Math.round(i)+c*l+f*u,h=new Float64Array(a);if(or.translate(h,h,[p>.5?p-1:p,d>.5?d-1:d,0]),this.alignedProjMatrix=h,a=or.create(),or.scale(a,a,[this.width/2,-this.height/2,1]),or.translate(a,a,[1,-1,0]),this.pixelMatrix=or.multiply(new Float64Array(16),a,this.projMatrix),!(a=or.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.default$1(0,0)).zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return ir.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(sr.prototype,ur);var lr=function Vi(){var e,n,i,o;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),n=!1,i=0,o=function r(){i=0,n&&(e(),i=setTimeout(o,300),n=!1)},function(){return n=!0,i||o(),i})};lr.prototype.addTo=function(e){return this._map=e,t.default.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},lr.prototype.remove=function(){return t.default.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},lr.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},lr.prototype._onHashChange=function(){var e=t.default.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},lr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default.history.replaceState(t.default.history.state,"",e)};var cr=function(e){function i(n,r,i,o){void 0===o&&(o={});var a=h.mousePos(r.getCanvasContainer(),i),s=r.unproject(a);e.call(this,n,t.extend({point:a,lngLat:s,originalEvent:i},o)),this._defaultPrevented=!1,this.target=r}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),fr=function(e){function i(n,r,i){var o=h.touchPos(r.getCanvasContainer(),i),a=o.map((function(t){return r.unproject(t)})),s=o.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.default$1(0,0)),u=r.unproject(s);e.call(this,n,{points:o,point:s,lngLats:a,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),pr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),dr=function Wi(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};dr.prototype.isEnabled=function(){return!!this._enabled},dr.prototype.isActive=function(){return!!this._active},dr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},dr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},dr.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.default.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=p.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},dr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},dr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=h.mousePos(this._el,e);this._around=ct.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},dr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a=!1;if("wheel"===this._type){var s=Math.min((p.now()-this._lastWheelEventTime)/200,1),u=this._easing(s);n.zoom=t.number(this._startZoom,this._targetZoom,u),s<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):a=!0}else n.zoom=this._targetZoom,a=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),a&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},dr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(p.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:p.now(),duration:e,easing:n},n};var hr=function qi(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};hr.prototype.isEnabled=function(){return!!this._enabled},hr.prototype.isActive=function(){return!!this._active},hr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},hr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},hr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default.document.addEventListener("mousemove",this._onMouseMove,!1),t.default.document.addEventListener("keydown",this._onKeyDown,!1),t.default.document.addEventListener("mouseup",this._onMouseUp,!1),h.disableDrag(),this._startPos=h.mousePos(this._el,e),this._active=!0)},hr.prototype._onMouseMove=function(t){var e=this._startPos,n=h.mousePos(this._el,t);this._box||(this._box=h.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,n.x),i=Math.max(e.x,n.x),o=Math.min(e.y,n.y),a=Math.max(e.y,n.y);h.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=i-r+"px",this._box.style.height=a-o+"px"},hr.prototype._onMouseUp=function(e){if(0===e.button){var n=this._startPos,r=h.mousePos(this._el,e),i=(new ft).extend(this._map.unproject(n)).extend(this._map.unproject(r));this._finish(),h.suppressClick(),n.x===r.x&&n.y===r.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(i,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:i}))}},hr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},hr.prototype._finish=function(){this._active=!1,t.default.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default.document.removeEventListener("keydown",this._onKeyDown,!1),t.default.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag()},hr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var gr=t.bezier(0,0,.25,1),yr=function Hi(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,t.bindAll(["_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};yr.prototype.isEnabled=function(){return"disabled"!==this._state},yr.prototype.isActive=function(){return"active"===this._state},yr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},yr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},yr.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=h.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==h.mouseButton(e))return;this._eventButton=0}h.disableDrag(),t.default.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.addEventListener("mouseup",this._onMouseUp),t.default.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[p.now(),this._map.getBearing()]],this._previousPos=h.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},yr.prototype._onMouseMove=function(t){this._lastMoveEvent=t,this._pos=h.mousePos(this._el,t),"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},yr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,n=this._previousPos,r=this._pos,i=.8*(n.x-r.x),o=-.5*(n.y-r.y),a=e.bearing-i,s=e.pitch-o,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([p.now(),this._map._normalizeBearing(a,l[1])]),e.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=s),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},yr.prototype._onMouseUp=function(t){if(h.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",h.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._unbind=function(){t.default.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.removeEventListener("mouseup",this._onMouseUp),t.default.removeEventListener("blur",this._onBlur),h.enableDrag()},yr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos},yr.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),o=this._inertia,a=function r(){Math.abs(i)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)a();else{var s=o[0],u=o[o.length-1],l=o[o.length-2],c=n._normalizeBearing(i,l[1]),f=u[1]-s[1],p=f<0?-1:1,d=(u[0]-s[0])/1e3;if(0!==f&&0!==d){var h=Math.abs(f*(.25/d));h>180&&(h=180);var g=h/180;c+=p*h*(g/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*g,easing:gr,noMoveStart:!0},{originalEvent:t})}else a()}},yr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yr.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=p.now();t.length>0&&e-t[0][0]>160;)t.shift()};var mr=t.bezier(0,0,.3,1),vr=function Yi(e){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};vr.prototype.isEnabled=function(){return"disabled"!==this._state},vr.prototype.isActive=function(){return"active"===this._state},vr.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},vr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},vr.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==h.mouseButton(e)||(h.addEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),h.addEventListener(t.default.document,"mouseup",this._onMouseUp),this._start(e)))},vr.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(h.addEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),h.addEventListener(t.default.document,"touchend",this._onTouchEnd),this._start(e)))},vr.prototype._start=function(e){t.default.addEventListener("blur",this._onBlur),this._state="pending",this._previousPos=h.mousePos(this._el,e),this._inertia=[[p.now(),this._previousPos]]},vr.prototype._onMove=function(t){this._lastMoveEvent=t,t.preventDefault(),this._pos=h.mousePos(this._el,t),this._drainInertiaBuffer(),this._inertia.push([p.now(),this._pos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},vr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent}},vr.prototype._onMouseUp=function(t){if(0===h.mouseButton(t))switch(this._state){case"active":this._state="enabled",h.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},vr.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},vr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},vr.prototype._unbind=function(){h.removeEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),h.removeEventListener(t.default.document,"touchend",this._onTouchEnd),h.removeEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),h.removeEventListener(t.default.document,"mouseup",this._onMouseUp),h.removeEventListener(t.default,"blur",this._onBlur)},vr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos,delete this._pos},vr.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var u=s/750,l=a.mult(-u/2);this._map.panBy(l,{duration:1e3*u,easing:mr,noMoveStart:!0},{originalEvent:t})}}},vr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},vr.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=p.now();t.length>0&&e-t[0][0]>160;)t.shift()};var _r=function Ji(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Qi(t){return t*(2-t)}_r.prototype.isEnabled=function(){return!!this._enabled},_r.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},_r.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_r.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:Qi,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var br=function tn(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};br.prototype.isEnabled=function(){return!!this._enabled},br.prototype.isActive=function(){return!!this._active},br.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},br.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},br.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout((function(){e._tapped=null}),300)))},br.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},br.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},br.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Sr=t.bezier(0,0,.15,1),Er=function nn(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},Er.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Er.prototype.disableRotation=function(){this._rotationDisabled=!0},Er.prototype.enableRotation=function(){this._rotationDisabled=!1},Er.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var n=h.mousePos(this._el,e.touches[0]),r=h.mousePos(this._el,e.touches[1]);this._startVec=n.sub(r),this._gestureIntent=void 0,this._inertia=[],h.addEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),h.addEventListener(t.default.document,"touchend",this._onEnd)}},Er.prototype._getTouchEventData=function(t){var e=h.mousePos(this._el,t.touches[0]),n=h.mousePos(this._el,t.touches[1]),r=e.sub(n);return{vec:r,center:e.add(n).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},Er.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),r=n.vec,i=n.scale,o=n.bearing;if(!this._gestureIntent){var a=Math.abs(1-i)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},Er.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),i=r.center,o=r.bearing,a=r.scale,s=n.pointLocation(i),u=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(s,u),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([p.now(),a,i])}},Er.prototype._onEnd=function(e){h.removeEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),h.removeEventListener(t.default.document,"touchend",this._onEnd);var n=this._gestureIntent,r=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new t.Event(n+"end",{originalEvent:e})),this._drainInertiaBuffer();var i=this._inertia,o=this._map;if(i.length<2)o.snapToNorth({},{originalEvent:e});else{var a=i[i.length-1],s=i[0],u=o.transform.scaleZoom(r*a[1]),l=o.transform.scaleZoom(r*s[1]),c=u-l,f=(a[0]-s[0])/1e3,p=a[2];if(0!==f&&u!==l){var d=.15*c/f;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var g=1e3*Math.abs(d/(12*.15)),y=u+d*g/2e3;y<0&&(y=0),o.easeTo({zoom:y,duration:g,easing:Sr,around:this._aroundCenter?o.getCenter():o.unproject(p),noMoveStart:!0},{originalEvent:e})}else o.snapToNorth({},{originalEvent:e})}}},Er.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=p.now();t.length>2&&e-t[0][0]>160;)t.shift()};var xr={scrollZoom:dr,boxZoom:hr,dragRotate:yr,dragPan:vr,keyboard:_r,doubleClickZoom:br,touchZoomRotate:Er},wr=function(e){function i(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,n,r){return e=t.default$1.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},i.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},i.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.fitBounds=function(e,n,r){if("number"==typeof(n=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},n)).padding){var i=n.padding;n.padding={top:i,bottom:i,right:i,left:i}}if(!t.default$10(Object.keys(n.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"]))return t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=ft.convert(e);var o=[(n.padding.left-n.padding.right)/2,(n.padding.top-n.padding.bottom)/2],a=Math.min(n.padding.right,n.padding.left),s=Math.min(n.padding.top,n.padding.bottom);n.offset=[n.offset[0]+o[0],n.offset[1]+o[1]];var u=t.default$1.convert(n.offset),l=this.transform,c=l.project(e.getNorthWest()),f=l.project(e.getSouthEast()),p=f.sub(c),d=(l.width-2*a-2*Math.abs(u.x))/p.x,h=(l.height-2*s-2*Math.abs(u.y))/p.y;return h<0||d<0?(t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(n.center=l.unproject(c.add(f).div(2)),n.zoom=Math.min(l.scaleZoom(l.scale*Math.min(d,h)),n.maxZoom),n.bearing=0,n.linear?this.easeTo(n,r):this.flyTo(n,r))},i.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=ct.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},i.prototype.easeTo=function(e,n){var r=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?+e.zoom:o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,f=i.centerPoint.add(t.default$1.convert(e.offset)),p=i.pointLocation(f),d=ct.convert(e.center||p);this._normalizeCenter(d);var h,g,y=i.project(p),m=i.project(d).sub(y),v=i.zoomScale(u-o);return e.around&&(h=ct.convert(e.around),g=i.locationPoint(h)),this._zooming=u!==o,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,l,e)),r._pitching&&(i.pitch=t.number(s,c,e)),h)i.setLocationAtPoint(h,g);else{var p=i.zoomScale(i.zoom-o),d=u>o?Math.min(2,v):Math.max(.5,v),_=Math.pow(d,1-e),b=i.unproject(y.add(m.mult(e*_)).mult(p));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,f)}r._fireMoveEvents(n)}),(function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout((function(){return r._afterEase(n)}),e.delayEndEvents):r._afterEase(n)}),e),this},i.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),i&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,n){var r=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?t.clamp(+e.zoom,i.minZoom,i.maxZoom):o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,f=i.zoomScale(u-o),p=i.centerPoint.add(t.default$1.convert(e.offset)),d=i.pointLocation(p),h=ct.convert(e.center||d);this._normalizeCenter(h);var g=i.project(d),y=i.project(h).sub(g),m=e.curve,v=Math.max(i.width,i.height),_=v/f,b=y.mag();if("minZoom"in e){var S=t.clamp(Math.min(e.minZoom,o,u),i.minZoom,i.maxZoom),E=v/i.zoomScale(S-o);m=Math.sqrt(E/b*2)}var x=m*m;function T(t){var e=(_*_-v*v+(t?-1:1)*x*x*b*b)/(2*(t?_:v)*x*b);return Math.log(Math.sqrt(e*e+1)-e)}function I(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var w=T(0),P=function z(t){return C(w)/C(w+m*t)},k=function A(t){return v*((C(w)*(I(e=w+m*t)/C(e))-I(w))/x)/b;var e},D=(T(1)-w)/m;if(Math.abs(b)<1e-6||!isFinite(D)){if(Math.abs(v-_)<1e-6)return this.easeTo(e,n);var R=_<v?-1:1;D=Math.abs(Math.log(_/v))/m,k=function A(){return 0},P=function z(t){return Math.exp(R*m*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/m:+e.speed;e.duration=1e3*D/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(n,!1),this._ease((function(e){var u=e*D,f=1/P(u);i.zoom=o+i.scaleZoom(f),r._rotating&&(i.bearing=t.number(a,l,e)),r._pitching&&(i.pitch=t.number(s,c,e));var d=i.unproject(g.add(y.mult(k(u))).mult(f));i.setLocationAtPoint(i.renderWorldCopies?d.wrap():d,p),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(t,e,n){!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=p.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((p.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},i}(t.Evented),Tr=function an(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Tr.prototype.getDefaultPosition=function(){return"bottom-right"},Tr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Tr.prototype.onRemove=function(){h.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Tr.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:R.ACCESS_TOKEN}];if(t){var n=e.reduce((function(t,n,r){return n.value&&(t+=n.key+"="+n.value+(r<e.length-1?"&":"")),t}),"?");t.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},Tr.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},Tr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r].getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}t.sort((function(t,e){return t.length-e.length})),(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Tr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Pr=function sn(){t.bindAll(["_updateLogo"],this)};Pr.prototype.onAdd=function(t){this._map=t,this._container=h.create("div","mapboxgl-ctrl");var e=h.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},Pr.prototype.onRemove=function(){h.remove(this._container),this._map.off("sourcedata",this._updateLogo)},Pr.prototype.getDefaultPosition=function(){return"bottom-left"},Pr.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Pr.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}};var kr=function ln(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};kr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},kr.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},kr.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},kr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Cr=t.default.HTMLImageElement,Dr=t.default.HTMLElement,Ar={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},Rr=function(e){function n(n){if(null!=(n=t.extend({},Ar,n)).minZoom&&null!=n.maxZoom&&n.minZoom>n.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new sr(n.minZoom,n.maxZoom,n.renderWorldCopies);e.call(this,r,n),this._interactive=n.interactive,this._maxTileCacheSize=n.maxTileCacheSize,this._failIfMajorPerformanceCaveat=n.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=n.preserveDrawingBuffer,this._trackResize=n.trackResize,this._bearingSnap=n.bearingSnap,this._refreshExpiredTiles=n.refreshExpiredTiles,this._fadeDuration=n.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=n.collectResourceTiming,this._renderTaskQueue=new kr;var i=n.transformRequest;if(this._transformRequest=i?function(t,e){return i(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof n.container){var o=t.default.document.getElementById(n.container);if(!o)throw new Error("Container '"+n.container+"' not found.");this._container=o}else{if(!(n.container instanceof Dr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=n.container}n.maxBounds&&this.setMaxBounds(n.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==t.default&&(t.default.addEventListener("online",this._onWindowOnline,!1),t.default.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var n=t.getCanvasContainer(),r=null,i=!1;for(var o in xr)t[o]=new xr[o](t,e),e.interactive&&e[o]&&t[o].enable(e[o]);h.addEventListener(n,"mouseout",(function(e){t.fire(new cr("mouseout",t,e))})),h.addEventListener(n,"mousedown",(function(n){i=!0;var r=new cr("mousedown",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(n),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(n),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(n))})),h.addEventListener(n,"mouseup",(function(e){var n=t.dragRotate.isActive();r&&!n&&t.fire(new cr("contextmenu",t,r)),r=null,i=!1,t.fire(new cr("mouseup",t,e))})),h.addEventListener(n,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var r=e.toElement||e.target;r&&r!==n;)r=r.parentNode;r===n&&t.fire(new cr("mousemove",t,e))}})),h.addEventListener(n,"mouseover",(function(e){for(var r=e.toElement||e.target;r&&r!==n;)r=r.parentNode;r===n&&t.fire(new cr("mouseover",t,e))})),h.addEventListener(n,"touchstart",(function(n){var r=new fr("touchstart",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(r))}),{passive:!1}),h.addEventListener(n,"touchmove",(function(e){t.fire(new fr("touchmove",t,e))}),{passive:!1}),h.addEventListener(n,"touchend",(function(e){t.fire(new fr("touchend",t,e))})),h.addEventListener(n,"touchcancel",(function(e){t.fire(new fr("touchcancel",t,e))})),h.addEventListener(n,"click",(function(e){t.fire(new cr("click",t,e))})),h.addEventListener(n,"dblclick",(function(e){var n=new cr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),h.addEventListener(n,"contextmenu",(function(e){var n=t.dragRotate.isActive();i||n?i&&(r=e):t.fire(new cr("contextmenu",t,e)),e.preventDefault()})),h.addEventListener(n,"wheel",(function(e){var n=new pr("wheel",t,e);t.fire(n),n.defaultPrevented||t.scrollZoom.onWheel(e)}),{passive:!1})}(this,n),this._hash=n.hash&&(new lr).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:n.center,zoom:n.zoom,bearing:n.bearing,pitch:n.pitch}),this.resize(),n.style&&this.setStyle(n.style,{localIdeographFontFamily:n.localIdeographFontFamily}),n.attributionControl&&this.addControl(new Tr),this.addControl(new Pr,n.logoPosition),this.on("style.load",(function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var i={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return n.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},n.prototype.removeControl=function(t){return t.onRemove(this),this},n.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];return this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e))},n.prototype.getBounds=function(){var e=new ft(this.transform.pointLocation(new t.default$1(0,this.transform.height)),this.transform.pointLocation(new t.default$1(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new t.default$1(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new t.default$1(0,this.transform.size.y)))),e},n.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new ft([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},n.prototype.setMaxBounds=function(t){if(t){var e=ft.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null==t&&(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},n.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.project=function(t){return this.transform.locationPoint(ct.convert(t))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.default$1.convert(e))},n.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},n.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},n.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},n.prototype.on=function(t,n,r){var i,o=this;if(void 0===r)return e.prototype.on.call(this,t,n);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1;return{layer:n,listener:r,delegates:{mousemove:function mousemove(i){var a=o.getLayer(n)?o.queryRenderedFeatures(i.point,{layers:[n]}):[];a.length?e||(e=!0,r.call(o,new cr(t,o,i.originalEvent,{features:a}))):e=!1},mouseout:function mouseout(){e=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function mousemove(e){(o.getLayer(n)?o.queryRenderedFeatures(e.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(o,new cr(t,o,e.originalEvent)))},mouseout:function mouseout(e){a&&(a=!1,r.call(o,new cr(t,o,e.originalEvent)))}}}}return{layer:n,listener:r,delegates:(i={},i[t]=function(t){var e=o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&(t.features=e,r.call(o,t),delete t.features)},i)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)o.on(s,a.delegates[s]);return this},n.prototype.off=function(t,n,r){if(void 0===r)return e.prototype.off.call(this,t,n);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===n&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},n.prototype.queryRenderedFeatures=function(e,n){var r;return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&((r=arguments[0])instanceof t.default$1||Array.isArray(r))?(e=arguments[0],n={}):1===arguments.length?(e=void 0,n=arguments[0]):(e=void 0,n={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform):[]},n.prototype._makeQueryGeometry=function(e){var n,r=this;if(void 0===e&&(e=[t.default$1.convert([0,0]),t.default$1.convert([this.transform.width,this.transform.height])]),e instanceof t.default$1||"number"==typeof e[0])n=[t.default$1.convert(e)];else{var i=[t.default$1.convert(e[0]),t.default$1.convert(e[1])];n=[i[0],new t.default$1(i[1].x,i[0].y),i[1],new t.default$1(i[0].x,i[1].y),i[0]]}return{viewport:n,worldCoordinate:n.map((function(t){return r.transform.pointCoordinate(t)}))}},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,n){if((!n||!1!==n.diff&&!n.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Un(this,n||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},n.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;if(void 0===o&&(o=!1),n instanceof Cr){var a=p.getImageData(n),s=a.width,u=a.height,l=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:u},l),pixelRatio:i,sdf:o})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n.width,f=n.height,d=n.data;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:f},d.slice(0)),pixelRatio:i,sdf:o})}},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,n){t.getImage(this._transformRequest(e,t.ResourceType.Image),n)},n.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},n.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0),this},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=h.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=h.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=h.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=h.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){i[t]=h.create("div","mapboxgl-ctrl-"+t,r)}))},n.prototype._resizeCanvas=function(e,n){var r=t.default.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},n.prototype._setupPainter=function(){var e=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},r.webGLContextAttributes),n=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);n?this.painter=new rr(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(p.cancelFrame(this._frameId),this._frameId=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},n.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=p.now();this.style.zoomHistory.update(n,r);var i=new t.default$16(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=i.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},n.prototype.remove=function(){this._hash&&this._hash.remove(),p.cancelFrame(this._frameId),this._renderTaskQueue.clear(),this._frameId=null,this.setStyle(null),void 0!==t.default&&(t.default.removeEventListener("resize",this._onWindowResize,!1),t.default.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),dn(this._canvasContainer),dn(this._controlContainer),dn(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=p.frame((function(){t._frameId=null,t._render()})))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(t){this._repaint=t,this._update()},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},n.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(n.prototype,i),n}(wr);function dn(t){t.parentNode&&t.parentNode.removeChild(t)}var Mr={showCompass:!0,showZoom:!0},Lr=function mn(e){var n=this;this.options=t.extend({},Mr,e),this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",(function(){return n._map.zoomIn()})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",(function(){return n._map.zoomOut()}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",(function(){return n._map.resetNorth()})),this._compassArrow=h.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function _n(t,e,n){if(t=new ct(t.lng,t.lat),e){var r=new ct(t.lng-360,t.lat),i=new ct(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(e);n.locationPoint(r).distSqr(e)<o?t=r:n.locationPoint(i).distSqr(e)<o&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var a=n.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=n.width&&a.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Lr.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Lr.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new yr(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},Lr.prototype.onRemove=function(){h.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},Lr.prototype._createButton=function(t,e,n){var r=h.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",n),r};var Ir={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vn(t,e,n){var r=t.classList;for(var i in Ir)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Or=function yn(e){if((arguments[0]instanceof t.default.HTMLElement||2===arguments.length)&&(e=t.extend({element:e},arguments[1])),t.bindAll(["_update","_onMapClick"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",e&&e.element)this._element=e.element,this._offset=t.default$1.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div");var n=h.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var r=h.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd");var i=h.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"fill-rule","nonzero");var o=h.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"transform","translate(3.0, 29.0)"),o.setAttributeNS(null,"fill","#000000");for(var a=0,s=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];a<s.length;a+=1){var u=s[a],l=h.createNS("http://www.w3.org/2000/svg","ellipse");l.setAttributeNS(null,"opacity","0.04"),l.setAttributeNS(null,"cx","10.5"),l.setAttributeNS(null,"cy","5.80029008"),l.setAttributeNS(null,"rx",u.rx),l.setAttributeNS(null,"ry",u.ry),o.appendChild(l)}var c=h.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);var f=h.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(f);var p=h.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"opacity","0.25"),p.setAttributeNS(null,"fill","#000000");var d=h.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),p.appendChild(d);var g=h.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var y=h.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var m=h.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");var v=h.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),y.appendChild(m),y.appendChild(v),i.appendChild(o),i.appendChild(c),i.appendChild(p),i.appendChild(g),i.appendChild(y),n.appendChild(i),this._element.appendChild(n),this._offset=t.default$1.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null};Or.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},Or.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this},Or.prototype.getLngLat=function(){return this._lngLat},Or.prototype.setLngLat=function(t){return this._lngLat=ct.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Or.prototype.getElement=function(){return this._element},Or.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},Or.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},Or.prototype.getPopup=function(){return this._popup},Or.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},Or.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=_n(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),h.setTransform(this._element,Ir[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),vn(this._element,this._anchor,"marker"))},Or.prototype.getOffset=function(){return this._offset},Or.prototype.setOffset=function(e){return this._offset=t.default$1.convert(e),this._update(),this};var Fr,Nr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Br=function(e){function i(n){e.call(this),this.options=t.extend({},Nr,n),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var n;return this._map=e,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Fr?n(Fr):void 0!==t.default.navigator.permissions?t.default.navigator.permissions.query({name:"geolocation"}).then((function(t){Fr="denied"!==t.state,n(Fr)})):(Fr=!!t.default.navigator.geolocation,n(Fr)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),h.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new ct(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var n=this;!1!==e&&(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=h.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Or(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")))})))},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Ur={maxWidth:100,unit:"metric"},zr=function Tn(e){this.options=t.extend({},Ur,e),t.bindAll(["_onMove","setUnit"],this)};function In(t,e,n){var r,i,o,a,s,u,l=n&&n.maxWidth||100,c=t._container.clientHeight/2,f=(r=t.unproject([0,c]),i=t.unproject([l,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(u,1)));if(n&&"imperial"===n.unit){var p=3.2808*f;p>5280?Cn(e,l,p/5280,"mi"):Cn(e,l,p,"ft")}else n&&"nautical"===n.unit?Cn(e,l,f/1852,"nm"):Cn(e,l,f,"m")}function Cn(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),u=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*u+"px",t.innerHTML=s+r}zr.prototype.getDefaultPosition=function(){return"bottom-left"},zr.prototype._onMove=function(){In(this._map,this._container,this.options)},zr.prototype.onAdd=function(t){return this._map=t,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},zr.prototype.onRemove=function(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},zr.prototype.setUnit=function(t){this.options.unit=t,In(this._map,this._container,this.options)};var jr=function Sn(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};jr.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=h.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},jr.prototype.onRemove=function(){h.remove(this._container),this._map=null,t.default.document.removeEventListener(this._fullscreenchange,this._changeIcon)},jr.prototype._checkFullscreenSupport=function(){return!!(t.default.document.fullscreenEnabled||t.default.document.mozFullScreenEnabled||t.default.document.msFullscreenEnabled||t.default.document.webkitFullscreenEnabled)},jr.prototype._setupUI=function(){var e=this._fullscreenButton=h.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default.document.addEventListener(this._fullscreenchange,this._changeIcon)},jr.prototype._isFullscreen=function(){return this._fullscreen},jr.prototype._changeIcon=function(){(t.default.document.fullscreenElement||t.default.document.mozFullScreenElement||t.default.document.webkitFullscreenElement||t.default.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},jr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default.document.exitFullscreen?t.default.document.exitFullscreen():t.default.document.mozCancelFullScreen?t.default.document.mozCancelFullScreen():t.default.document.msExitFullscreen?t.default.document.msExitFullscreen():t.default.document.webkitCancelFullScreen&&t.default.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Vr={closeButton:!0,closeOnClick:!0},Gr=function(e){function i(n){e.call(this),this.options=t.extend(Object.create(Vr),n),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=ct.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default.document.createTextNode(e))},i.prototype.setHTML=function(e){var n,r=t.default.document.createDocumentFragment(),i=t.default.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&h.remove(this._content),this._content=h.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=h.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=h.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=h.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=_n(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),n=this.options.anchor,r=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.default$1(0,0),top:new t.default$1(0,n),"top-left":new t.default$1(r,r),"top-right":new t.default$1(-r,r),bottom:new t.default$1(0,-n),"bottom-left":new t.default$1(r,-r),"bottom-right":new t.default$1(-r,-r),left:new t.default$1(n,0),right:new t.default$1(-n,0)}}if(n instanceof t.default$1||Array.isArray(n)){var i=t.default$1.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.default$1.convert(n.center||[0,0]),top:t.default$1.convert(n.top||[0,0]),"top-left":t.default$1.convert(n["top-left"]||[0,0]),"top-right":t.default$1.convert(n["top-right"]||[0,0]),bottom:t.default$1.convert(n.bottom||[0,0]),"bottom-left":t.default$1.convert(n["bottom-left"]||[0,0]),"bottom-right":t.default$1.convert(n["bottom-right"]||[0,0]),left:t.default$1.convert(n.left||[0,0]),right:t.default$1.convert(n.right||[0,0])}}return e(new t.default$1(0,0))}(this.options.offset);if(!n){var i,o=this._container.offsetWidth,a=this._container.offsetHeight;i=e.y+r.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<o/2?i.push("left"):e.x>this._map.transform.width-o/2&&i.push("right"),n=0===i.length?"bottom":i.join("-")}var s=e.add(r[n]).round();h.setTransform(this._container,Ir[n]+" translate("+s.x+"px,"+s.y+"px)"),vn(this._container,n,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented),Wr={version:"0.45.0",supported:r,workerCount:Math.max(Math.floor(p.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:Rr,NavigationControl:Lr,GeolocateControl:Br,AttributionControl:Tr,ScaleControl:zr,FullscreenControl:jr,Popup:Gr,Marker:Or,Style:Un,LngLat:ct,LngLatBounds:ft,Point:t.default$1,Evented:t.Evented,config:R,get accessToken(){return R.ACCESS_TOKEN},set accessToken(t){R.ACCESS_TOKEN=t},workerUrl:""};return Wr})),r},t.exports=i()}).call(this,n(32))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),s=r[n];n<o;s=r[++n])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function deprecated(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function inspect(t,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&e._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"\x1b["+inspect.colors[n][0]+"m"+t+"\x1b["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function formatValue(t,n,r){if(t.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return isString(i)||(i=formatValue(t,i,r)),i}var o=function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function arrayToHash(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),isError(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(n);if(0===a.length){if(isFunction(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(isRegExp(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return t.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var l,c="",f=!1,p=["{","}"];(isArray(n)&&(f=!0,p=["[","]"]),isFunction(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return isRegExp(n)&&(c=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(c=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(c=" "+formatError(n)),0!==a.length||f&&0!=n.length?r<0?isRegExp(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=f?function formatArray(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)hasOwnProperty(e,String(a))?o.push(formatProperty(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(t,e,n,r,i,!0))})),o}(t,n,r,s,a):a.map((function(e){return formatProperty(t,n,r,s,e,f)})),t.seen.pop(),function reduceToSingleString(t,e,n){if(t.reduce((function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,c,p)):p[0]+c+p[1]}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatProperty(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=isNull(n)?formatValue(t,u.value,null):formatValue(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"===typeof t}function isNull(t){return null===t}function isNumber(t){return"number"===typeof t}function isString(t){return"string"===typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"===typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(isUndefined(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=isArray,e.isBoolean=isBoolean,e.isNull=isNull,e.isNullOrUndefined=function isNullOrUndefined(t){return null==t},e.isNumber=isNumber,e.isString=isString,e.isSymbol=function isSymbol(t){return"symbol"===typeof t},e.isUndefined=isUndefined,e.isRegExp=isRegExp,e.isObject=isObject,e.isDate=isDate,e.isError=isError,e.isFunction=isFunction,e.isPrimitive=function isPrimitive(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(979);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),s[t.getMonth()],e].join(" ")}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",timestamp(),e.format.apply(e,arguments))},e.inherits=n(980),e._extend=function(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var u="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function promisify(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(u&&t[u]){var e;if("function"!==typeof(e=t[u]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,u,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),u&&Object.defineProperty(e,u,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=u,e.callbackify=function callbackify(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function cb(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(callbackifyOnRejected,e,a)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(e)),Object.defineProperties(callbackified,r(e)),callbackified}}).call(this,n(114))},function(t,e){t.exports=function isBuffer(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){"function"===typeof Object.create?t.exports=function inherits(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(t,e){t.super_=e;var n=function TempCtor(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"isBrowserMainThread",(function(){return a}));var r=n(485),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=!("object"===("undefined"===typeof t?"undefined":i(t))&&"[object process]"===String(t)&&!t.browser)||r.a,a=o&&"undefined"!==typeof document;e.default=o}.call(this,n(114))},function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f="function",p=Math.round,d=Math.abs,h=Date.now;function setTimeoutContext(t,e,n){return setTimeout(bindFn(t,n),e)}function invokeArrayArg(t,e,n){return!!Array.isArray(t)&&(each(t,n[e],n),!0)}function each(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function deprecate(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!==typeof Object.assign?function assign(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var g=deprecate((function extend(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),y=deprecate((function merge(t,e){return g(t,e,!0)}),"merge","Use `assign`.");function inherit(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function bindFn(t,e){return function boundFn(){return t.apply(e,arguments)}}function boolOrFn(t,e){return typeof t==f?t.apply(e&&e[0]||s,e):t}function ifUndefined(t,e){return t===s?e:t}function addEventListeners(t,e,n){each(splitStr(e),(function(e){t.addEventListener(e,n,!1)}))}function removeEventListeners(t,e,n){each(splitStr(e),(function(e){t.removeEventListener(e,n,!1)}))}function hasParent(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function inStr(t,e){return t.indexOf(e)>-1}function splitStr(t){return t.trim().split(/\s+/g)}function inArray(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function toArray(t){return Array.prototype.slice.call(t,0)}function uniqueArray(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];inArray(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function sortUniqueArray(t,n){return t[e]>n[e]})):r.sort()),r}function prefixed(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}return s}var m=1;function getWindowForElement(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var v="ontouchstart"in i,_=prefixed(i,"PointerEvent")!==s,b=v&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),S=25,E=1,x=2,w=4,T=8,P=1,k=2,C=4,D=8,A=16,R=k|C,M=D|A,L=R|M,I=["x","y"],O=["clientX","clientY"];function Input(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){boolOrFn(t.options.enable,[t])&&n.handler(e)},this.init()}function inputHandler(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&E&&r-i===0,a=e&(w|T)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function computeInputData(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=simpleCloneInputData(e));i>1&&!n.firstMultiple?n.firstMultiple=simpleCloneInputData(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=getCenter(r);e.timeStamp=h(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=getAngle(u,l),e.distance=getDistance(u,l),function computeDeltaXY(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==E&&o.eventType!==w||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=getDirection(e.deltaX,e.deltaY);var c=getVelocity(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,e.scale=a?function getScale(t,e){return getDistance(e[0],e[1],O)/getDistance(t[0],t[1],O)}(a.pointers,r):1,e.rotation=a?function getRotation(t,e){return getAngle(e[1],e[0],O)+getAngle(t[1],t[0],O)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function computeIntervalInputData(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=T&&(u>S||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,f=getVelocity(u,l,c);r=f.x,i=f.y,n=d(f.x)>d(f.y)?f.x:f.y,o=getDirection(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f=t.element;hasParent(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function simpleCloneInputData(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:getCenter(e),deltaX:t.deltaX,deltaY:t.deltaY}}function getCenter(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:p(n/e),y:p(r/e)}}function getVelocity(t,e,n){return{x:e/t||0,y:n/t||0}}function getDirection(t,e){return t===e?P:d(t)>=d(e)?t<0?k:C:e<0?D:A}function getDistance(t,e,n){n||(n=I);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function getAngle(t,e,n){n||(n=I);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}Input.prototype={handler:function handler(){},init:function init(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function destroy(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var F={mousedown:E,mousemove:x,mouseup:w},N="mousedown",B="mousemove mouseup";function MouseInput(){this.evEl=N,this.evWin=B,this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(t){var e=F[t.type];e&E&&0===t.button&&(this.pressed=!0),e&x&&1!==t.which&&(e=w),this.pressed&&(e&w&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var U={pointerdown:E,pointermove:x,pointerup:w,pointercancel:T,pointerout:T},z={2:"touch",3:"pen",4:"mouse",5:"kinect"},j="pointerdown",V="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=j,this.evWin=V,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(j="MSPointerDown",V="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=U[r],o=z[t.pointerType]||t.pointerType,a="touch"==o,s=inArray(e,t.pointerId,"pointerId");i&E&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(w|T)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var G={touchstart:E,touchmove:x,touchend:w,touchcancel:T},W="touchstart",q="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=W,this.evWin=q,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(t,e){var n=toArray(t.touches),r=toArray(t.changedTouches);return e&(w|T)&&(n=uniqueArray(n.concat(r),"identifier",!0)),[n,r]}inherit(SingleTouchInput,Input,{handler:function TEhandler(t){var e=G[t.type];if(e===E&&(this.started=!0),this.started){var n=normalizeSingleTouches.call(this,t,e);e&(w|T)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var H={touchstart:E,touchmove:x,touchend:w,touchcancel:T},K="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=K,this.targetIds={},Input.apply(this,arguments)}function getTouches(t,e){var n=toArray(t.touches),r=this.targetIds;if(e&(E|x)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=toArray(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return hasParent(t.target,u)})),e===E)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(w|T)&&delete r[a[i].identifier],i++;return s.length?[uniqueArray(o.concat(s),"identifier",!0),s]:void 0}inherit(TouchInput,Input,{handler:function MTEhandler(t){var e=H[t.type],n=getTouches.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Y=2500,X=25;function TouchMouseInput(){Input.apply(this,arguments);var t=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,t),this.mouse=new MouseInput(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function recordTouches(t,e){t&E?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch.call(this,e)):t&(w|T)&&setLastTouch.call(this,e)}function setLastTouch(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function removeLastTouch(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),Y)}}function isSyntheticEvent(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=X&&a<=X)return!0}return!1}inherit(TouchMouseInput,Input,{handler:function TMEhandler(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)recordTouches.call(this,e,n);else if(i&&isSyntheticEvent.call(this,n))return;this.callback(t,e,n)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var Z=prefixed(c.style,"touchAction"),$=Z!==s,J="auto",Q="manipulation",tt="none",et="pan-x",nt="pan-y",rt=function getTouchActionProps(){if(!$)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function TouchAction(t,e){this.manager=t,this.set(e)}TouchAction.prototype={set:function set(t){"compute"==t&&(t=this.compute()),$&&this.manager.element.style&&rt[t]&&(this.manager.element.style[Z]=t),this.actions=t.toLowerCase().trim()},update:function update(){this.set(this.manager.options.touchAction)},compute:function compute(){var t=[];return each(this.manager.recognizers,(function(e){boolOrFn(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function cleanTouchActions(t){if(inStr(t,tt))return tt;var e=inStr(t,et),n=inStr(t,nt);if(e&&n)return tt;if(e||n)return e?et:nt;if(inStr(t,Q))return Q;return J}(t.join(" "))},preventDefaults:function preventDefaults(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=inStr(r,tt)&&!rt[tt],o=inStr(r,nt)&&!rt[nt],a=inStr(r,et)&&!rt[et];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&R||a&&n&M?this.preventSrc(e):void 0}},preventSrc:function preventSrc(t){this.manager.session.prevented=!0,t.preventDefault()}};var it=1,ot=2,at=4,st=8,ut=st,lt=16;function Recognizer(t){this.options=u({},this.defaults,t||{}),this.id=function uniqueId(){return m++}(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=it,this.simultaneous={},this.requireFail=[]}function stateStr(t){return t&lt?"cancel":t&st?"end":t&at?"move":t&ot?"start":""}function directionStr(t){return t==A?"down":t==D?"up":t==k?"left":t==C?"right":""}function getRecognizerByNameIfManager(t,e){var n=e.manager;return n?n.get(t):t}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(t,e){return(e=e||{}).recognizers=ifUndefined(e.recognizers,Hammer.defaults.preset),new Manager(t,e)}Recognizer.prototype={defaults:{},set:function set(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function recognizeWith(t){if(invokeArrayArg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=getRecognizerByNameIfManager(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function dropRecognizeWith(t){return invokeArrayArg(t,"dropRecognizeWith",this)?this:(t=getRecognizerByNameIfManager(t,this),delete this.simultaneous[t.id],this)},requireFailure:function requireFailure(t){if(invokeArrayArg(t,"requireFailure",this))return this;var e=this.requireFail;return-1===inArray(e,t=getRecognizerByNameIfManager(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function dropRequireFailure(t){if(invokeArrayArg(t,"dropRequireFailure",this))return this;t=getRecognizerByNameIfManager(t,this);var e=inArray(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function hasRequireFailures(){return this.requireFail.length>0},canRecognizeWith:function canRecognizeWith(t){return!!this.simultaneous[t.id]},emit:function emit(t){var e=this,n=this.state;function emit(n){e.manager.emit(n,t)}n<st&&emit(e.options.event+stateStr(n)),emit(e.options.event),t.additionalEvent&&emit(t.additionalEvent),n>=st&&emit(e.options.event+stateStr(n))},tryEmit:function tryEmit(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function canEmit(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|it)))return!1;t++}return!0},recognize:function recognize(t){var e=u({},t);if(!boolOrFn(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ut|lt|32)&&(this.state=it),this.state=this.process(e),this.state&(ot|at|st|lt)&&this.tryEmit(e)},process:function process(t){},getTouchAction:function getTouchAction(){},reset:function reset(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function attrTest(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function process(t){var e=this.state,n=t.eventType,r=e&(ot|at),i=this.attrTest(t);return r&&(n&T||!i)?e|lt:r||i?n&w?e|st:e&ot?e|at:ot:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:L},getTouchAction:function getTouchAction(){var t=this.options.direction,e=[];return t&R&&e.push(nt),t&M&&e.push(et),e},directionTest:function directionTest(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&R?(i=0===o?P:o<0?k:C,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?P:a<0?D:A,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function attrTest(t){return AttrRecognizer.prototype.attrTest.call(this,t)&&(this.state&ot||!(this.state&ot)&&this.directionTest(t))},emit:function emit(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=directionStr(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[tt]},attrTest:function attrTest(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ot)},emit:function emit(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function getTouchAction(){return[J]},process:function process(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(w|T)&&!i)this.reset();else if(t.eventType&E)this.reset(),this._timer=setTimeoutContext((function(){this.state=ut,this.tryEmit()}),e.time,this);else if(t.eventType&w)return ut;return 32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(t){this.state===ut&&(t&&t.eventType&w?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[tt]},attrTest:function attrTest(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ot)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:R|M,pointers:1},getTouchAction:function getTouchAction(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function attrTest(t){var e,n=this.options.direction;return n&(R|M)?e=t.overallVelocity:n&R?e=t.overallVelocityX:n&M&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&w},emit:function emit(t){var e=directionStr(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function getTouchAction(){return[Q]},process:function process(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&E&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=w)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||getDistance(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext((function(){this.state=ut,this.tryEmit()}),e.interval,this),ot):ut}return 32},failTimeout:function failTimeout(){return this._timer=setTimeoutContext((function(){this.state=32}),this.options.interval,this),32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(){this.state==ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:R}],[PanRecognizer,{direction:R},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Manager(t,e){this.options=u({},Hammer.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function createInputInstance(t){var e=t.options.inputClass;return new(e||(_?PointerEventInput:b?TouchInput:v?TouchMouseInput:MouseInput))(t,inputHandler)}(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function toggleCssProps(t,e){var n,r=t.element;r.style&&(each(t.options.cssProps,(function(i,o){n=prefixed(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Manager.prototype={set:function set(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function stop(t){this.session.stopped=t?2:1},recognize:function recognize(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&ut)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(ot|at|st)&&(i=e.curRecognizer=n),o++}},get:function get(t){if(t instanceof Recognizer)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function add(t){if(invokeArrayArg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function remove(t){if(invokeArrayArg(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=inArray(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function on(t,e){if(t!==s&&e!==s){var n=this.handlers;return each(splitStr(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function off(t,e){if(t!==s){var n=this.handlers;return each(splitStr(t),(function(t){e?n[t]&&n[t].splice(inArray(n[t],e),1):delete n[t]})),this}},emit:function emit(t,e){this.options.domEvents&&function triggerDomEvent(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function destroy(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Hammer,{INPUT_START:E,INPUT_MOVE:x,INPUT_END:w,INPUT_CANCEL:T,STATE_POSSIBLE:it,STATE_BEGAN:ot,STATE_CHANGED:at,STATE_ENDED:st,STATE_RECOGNIZED:ut,STATE_CANCELLED:lt,STATE_FAILED:32,DIRECTION_NONE:P,DIRECTION_LEFT:k,DIRECTION_RIGHT:C,DIRECTION_UP:D,DIRECTION_DOWN:A,DIRECTION_HORIZONTAL:R,DIRECTION_VERTICAL:M,DIRECTION_ALL:L,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:y,extend:g,assign:u,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Hammer,(r=function(){return Hammer}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(115)),a=i(n(272)),s=i(n(273)),u=i(n(45)),l=i(n(46)),c=i(n(49)),f=i(n(47)),p=i(n(58)),d=i(n(50)),h=i(n(29)),g=r(n(0)),y=i(n(3)),m=i(n(986)),v=i(n(391)),_=i(n(392)),b=i(n(393)),S=i(n(394)),E=i(n(396)),x=i(n(397)),w=i(n(398)),T=r(n(999)),P=n(202),k=n(92),C=i(n(390)),D={children:h.default.any,width:h.default.oneOfType([h.default.string,h.default.number]),height:h.default.oneOfType([h.default.string,h.default.number]),fluid:h.default.bool,muted:h.default.bool,playsInline:h.default.bool,aspectRatio:h.default.string,className:h.default.string,videoId:h.default.string,startTime:h.default.number,loop:h.default.bool,autoPlay:h.default.bool,src:h.default.string,poster:h.default.string,preload:h.default.oneOf(["auto","metadata","none"]),onLoadStart:h.default.func,onWaiting:h.default.func,onCanPlay:h.default.func,onCanPlayThrough:h.default.func,onPlaying:h.default.func,onEnded:h.default.func,onSeeking:h.default.func,onSeeked:h.default.func,onPlay:h.default.func,onPause:h.default.func,onProgress:h.default.func,onDurationChange:h.default.func,onError:h.default.func,onSuspend:h.default.func,onAbort:h.default.func,onEmptied:h.default.func,onStalled:h.default.func,onLoadedMetadata:h.default.func,onLoadedData:h.default.func,onTimeUpdate:h.default.func,onRateChange:h.default.func,onVolumeChange:h.default.func,store:h.default.object},A=function(t){function Player(t){var e;return(0,u.default)(this,Player),(e=(0,c.default)(this,(0,f.default)(Player).call(this,t))).controlsHideTimer=null,e.video=null,e.manager=new m.default(t.store),e.actions=e.manager.getActions(),e.manager.subscribeToPlayerStateChange(e.handleStateChange.bind((0,p.default)(e))),e.getStyle=e.getStyle.bind((0,p.default)(e)),e.handleResize=e.handleResize.bind((0,p.default)(e)),e.getChildren=e.getChildren.bind((0,p.default)(e)),e.handleMouseMove=(0,k.throttle)(e.handleMouseMove.bind((0,p.default)(e)),250),e.handleMouseDown=e.handleMouseDown.bind((0,p.default)(e)),e.startControlsTimer=e.startControlsTimer.bind((0,p.default)(e)),e.handleFullScreenChange=e.handleFullScreenChange.bind((0,p.default)(e)),e.handleKeyDown=e.handleKeyDown.bind((0,p.default)(e)),e.handleFocus=e.handleFocus.bind((0,p.default)(e)),e.handleBlur=e.handleBlur.bind((0,p.default)(e)),e}return(0,d.default)(Player,t),(0,l.default)(Player,[{key:"componentDidMount",value:function componentDidMount(){this.handleResize(),window.addEventListener("resize",this.handleResize),C.default.addEventListener(this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleResize),C.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"getDefaultChildren",value:function getDefaultChildren(t){var e=this;return[g.default.createElement(S.default,{ref:function ref(t){e.video=t,e.manager.video=e.video},key:"video",order:0},t),g.default.createElement(b.default,{key:"poster-image",order:1}),g.default.createElement(_.default,{key:"loading-spinner",order:2}),g.default.createElement(E.default,{key:"bezel",order:3}),g.default.createElement(v.default,{key:"big-play-button",order:4}),g.default.createElement(w.default,{key:"control-bar",order:5}),g.default.createElement(x.default,{key:"shortcut",order:99})]}},{key:"getChildren",value:function getChildren(t){t.className;var e=t.children,n=(0,s.default)(t,["className","children"]),r=g.default.Children.toArray(this.props.children).filter((function(t){return!(0,k.isVideoChild)(t)})),i=this.getDefaultChildren(e);return(0,k.mergeAndSortChildren)(i,r,n)}},{key:"setWidthOrHeight",value:function setWidthOrHeight(t,e,n){var r;"string"===typeof n?"auto"===n?r="auto":n.match(/\d+%/)&&(r=n):"number"===typeof n&&(r="".concat(n,"px")),Object.assign(t,(0,a.default)({},e,r))}},{key:"getStyle",value:function getStyle(){var t,e,n=this.props,r=n.fluid,i=n.aspectRatio,o=n.height,a=n.width,s=this.manager.getState().player,u={},l=(void 0!==i&&"auto"!==i?i:s.videoWidth?"".concat(s.videoWidth,":").concat(s.videoHeight):"16:9").split(":"),c=l[1]/l[0];return t=void 0!==a?a:void 0!==o?o/c:s.videoWidth||400,e=void 0!==o?o:t*c,r?u.paddingTop="".concat(100*c,"%"):(this.setWidthOrHeight(u,"width",t),this.setWidthOrHeight(u,"height",e)),u}},{key:"getState",value:function getState(){return this.manager.getState()}},{key:"play",value:function play(){this.video.play()}},{key:"pause",value:function pause(){this.video.pause()}},{key:"load",value:function load(){this.video.load()}},{key:"addTextTrack",value:function addTextTrack(){var t;(t=this.video).addTextTrack.apply(t,arguments)}},{key:"canPlayType",value:function canPlayType(){var t;(t=this.video).canPlayType.apply(t,arguments)}},{key:"seek",value:function seek(t){this.video.seek(t)}},{key:"forward",value:function forward(t){this.video.forward(t)}},{key:"replay",value:function replay(t){this.video.replay(t)}},{key:"toggleFullscreen",value:function toggleFullscreen(){this.video.toggleFullscreen()}},{key:"subscribeToStateChange",value:function subscribeToStateChange(t){return this.manager.subscribeToPlayerStateChange(t)}},{key:"handleResize",value:function handleResize(){}},{key:"handleFullScreenChange",value:function handleFullScreenChange(t){t.target===this.manager.rootElement&&this.actions.handleFullscreenChange(C.default.isFullscreen)}},{key:"handleMouseDown",value:function handleMouseDown(){this.startControlsTimer()}},{key:"handleMouseMove",value:function handleMouseMove(){this.startControlsTimer()}},{key:"handleKeyDown",value:function handleKeyDown(){this.startControlsTimer()}},{key:"startControlsTimer",value:function startControlsTimer(){var t=this,e=3e3;g.default.Children.forEach(this.props.children,(function(t){if(g.default.isValidElement(t)&&t.type===w.default){var n=t.props.autoHideTime;"number"===typeof n&&(e=n)}})),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout((function(){t.actions.userActivate(!1)}),e)}},{key:"handleStateChange",value:function handleStateChange(t,e){t.isFullscreen!==e.isFullscreen&&(this.handleResize(),(0,P.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:"handleFocus",value:function handleFocus(){this.actions.activate(!0)}},{key:"handleBlur",value:function handleBlur(){this.actions.activate(!1)}},{key:"render",value:function render(){var t=this,e=this.props.fluid,n=this.manager.getState().player,r=n.paused,i=n.hasStarted,a=n.waiting,s=n.seeking,u=n.isFullscreen,l=n.userActivity,c=(0,o.default)({},this.props,{player:n,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),f=this.getChildren(c);return g.default.createElement("div",{className:(0,y.default)({"video-react-controls-enabled":!0,"video-react-has-started":i,"video-react-paused":r,"video-react-playing":!r,"video-react-waiting":a,"video-react-seeking":s,"video-react-fluid":e,"video-react-fullscreen":u,"video-react-user-inactive":!l,"video-react-user-active":l,"video-react-workinghover":!T.IS_IOS},"video-react",this.props.className),style:this.getStyle(),ref:function ref(e){t.manager.rootElement=e},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},f)}},{key:"playbackRate",get:function get(){return this.video.playbackRate},set:function set(t){this.video.playbackRate=t}},{key:"muted",get:function get(){return this.video.muted},set:function set(t){this.video.muted=t}},{key:"volume",get:function get(){return this.video.volume},set:function set(t){this.video.volume=t}},{key:"videoWidth",get:function get(){return this.video.videoWidth}},{key:"videoHeight",get:function get(){return this.video.videoHeight}}]),Player}(g.Component);e.default=A,A.contextTypes={store:h.default.object},A.propTypes=D,A.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},A.displayName="Player"},function(t,e){t.exports=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(115)),a=i(n(45)),s=i(n(46)),u=n(987),l=i(n(389)),c=r(n(201)),f=r(n(274)),p=function(){function Manager(t){(0,a.default)(this,Manager),this.store=t||(0,u.createStore)(l.default),this.video=null,this.rootElement=null}return(0,s.default)(Manager,[{key:"getActions",value:function getActions(){var t=this,e=this.store.dispatch,n=(0,o.default)({},c,f);return Object.keys(n).filter((function(t){return"function"===typeof n[t]})).reduce((function(r,i){return r[i]=function bindActionCreator(n){return function bindAction(){var r=n.apply(t,arguments);"undefined"!==typeof r&&e(r)}}(n[i]),r}),{})}},{key:"getState",value:function getState(){return this.store.getState()}},{key:"subscribeToStateChange",value:function subscribeToStateChange(t,e){e||(e=this.getState.bind(this));var n=e();return this.store.subscribe((function handleChange(){var r=e();if(r!==n){var i=n;n=r,t(r,i)}}))}},{key:"subscribeToOperationStateChange",value:function subscribeToOperationStateChange(t){var e=this;return this.subscribeToStateChange(t,(function(){return e.getState().operation}))}},{key:"subscribeToPlayerStateChange",value:function subscribeToPlayerStateChange(t){var e=this;return this.subscribeToStateChange(t,(function(){return e.getState().player}))}}]),Manager}();e.default=p},function(t,e,n){"use strict";n.r(e),n.d(e,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(e,"applyMiddleware",(function(){return applyMiddleware})),n.d(e,"bindActionCreators",(function(){return bindActionCreators})),n.d(e,"combineReducers",(function(){return combineReducers})),n.d(e,"compose",(function(){return compose})),n.d(e,"createStore",(function(){return createStore}));var r=n(125),i=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function isPlainObject(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var a=t,s=e,u=[],l=u,c=!1;function ensureCanMutateNextListeners(){l===u&&(l=u.slice())}function getState(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function subscribe(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return ensureCanMutateNextListeners(),l.push(t),function unsubscribe(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,ensureCanMutateNextListeners();var n=l.indexOf(t);l.splice(n,1)}}}function dispatch(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,s=a(s,t)}finally{c=!1}for(var e=u=l,n=0;n<e.length;n++){(0,e[n])()}return t}return dispatch({type:o.INIT}),(i={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");a=t,dispatch({type:o.REPLACE})}})[r.default]=function observable(){var t,e=subscribe;return(t={subscribe:function subscribe(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function observeState(){t.next&&t.next(getState())}return observeState(),{unsubscribe:e(observeState)}}})[r.default]=function(){return this},t},i}function getUndefinedStateErrorMessage(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function assertReducerShape(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){a=u}return function combination(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var u=s[o],l=n[u],c=t[u],f=l(c,e);if("undefined"===typeof f){var p=getUndefinedStateErrorMessage(u,e);throw new Error(p)}i[u]=f,r=r||f!==c}return r?i:t}}function bindActionCreator(t,e){return function(){return e(t.apply(this,arguments))}}function bindActionCreators(t,e){if("function"===typeof t)return bindActionCreator(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"===typeof i&&(n[r]=bindActionCreator(i,e))}return n}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ownKeys(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function compose(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function applyMiddleware(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function dispatch(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return _objectSpread2({},n,{dispatch:r=compose.apply(void 0,o)(n.dispatch)})}}}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function player(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.USER_ACTIVATE:return(0,i.default)({},t,{userActivity:e.activity});case a.PLAYER_ACTIVATE:return(0,i.default)({},t,{isActive:e.activity});case a.FULLSCREEN_CHANGE:return(0,i.default)({},t,{isFullscreen:!!e.isFullscreen});case o.SEEKING_TIME:return(0,i.default)({},t,{seekingTime:e.time});case o.END_SEEKING:return(0,i.default)({},t,{seekingTime:0});case o.LOAD_START:return(0,i.default)({},t,e.videoProps,{hasStarted:!1,ended:!1});case o.CAN_PLAY:return(0,i.default)({},t,e.videoProps,{waiting:!1});case o.WAITING:return(0,i.default)({},t,e.videoProps,{waiting:!0});case o.CAN_PLAY_THROUGH:case o.PLAYING:return(0,i.default)({},t,e.videoProps,{waiting:!1});case o.PLAY:return(0,i.default)({},t,e.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case o.PAUSE:return(0,i.default)({},t,e.videoProps,{paused:!0});case o.END:return(0,i.default)({},t,e.videoProps,{ended:!0});case o.SEEKING:return(0,i.default)({},t,e.videoProps,{seeking:!0});case o.SEEKED:return(0,i.default)({},t,e.videoProps,{seeking:!1});case o.ERROR:return(0,i.default)({},t,e.videoProps,{error:"UNKNOWN ERROR",ended:!0});case o.DURATION_CHANGE:case o.TIME_UPDATE:case o.VOLUME_CHANGE:case o.PROGRESS_CHANGE:case o.RATE_CHANGE:case o.SUSPEND:case o.ABORT:case o.EMPTIED:case o.STALLED:case o.LOADED_META_DATA:case o.LOADED_DATA:case o.RESIZE:return(0,i.default)({},t,e.videoProps);case o.ACTIVATE_TEXT_TRACK:return(0,i.default)({},t,{activeTextTrack:e.textTrack});default:return t}};var i=r(n(115)),o=n(274),a=n(201),s={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function operation(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o.OPERATE:return(0,i.default)({},t,{count:t.count+1,operation:(0,i.default)({},t.operation,e.operation)});default:return t}};var i=r(n(115)),o=n(201),a={count:0,operation:{action:"",source:""}}},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=PopupButton;var i=r(n(166)),o=r(n(115)),a=r(n(29)),s=r(n(0)),u=r(n(3)),l=r(n(414)),c=r(n(994)),f={inline:a.default.bool,onClick:a.default.func.isRequired,onFocus:a.default.func,onBlur:a.default.func,className:a.default.string};function PopupButton(t){var e=t.inline,n=t.className,r=(0,o.default)({},t);return delete r.children,delete r.inline,delete r.className,s.default.createElement(l.default,(0,i.default)({className:(0,u.default)(n,{"video-react-menu-button-inline":!!e,"video-react-menu-button-popup":!e},"video-react-control video-react-button video-react-menu-button")},r),s.default.createElement(c.default,t))}PopupButton.propTypes=f,PopupButton.defaultProps={inline:!0},PopupButton.displayName="PopupButton"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d={player:f.default.object,children:f.default.any},h=function(t){function Popup(t,e){var n;return(0,o.default)(this,Popup),(n=(0,s.default)(this,(0,u.default)(Popup).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(Popup,t),(0,a.default)(Popup,[{key:"handleClick",value:function handleClick(t){t.preventDefault()}},{key:"render",value:function render(){var t=this.props.children;return p.default.createElement("div",{className:"video-react-menu",onClick:this.handleClick},p.default.createElement("div",{className:"video-react-menu-content"},t))}}]),Popup}(p.Component);e.default=h,h.propTypes=d,h.displayName="Popup"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(166)),a=i(n(45)),s=i(n(46)),u=i(n(49)),l=i(n(47)),c=i(n(58)),f=i(n(50)),p=i(n(29)),d=r(n(0)),h=i(n(3)),g=i(n(275)),y=i(n(996)),m={actions:p.default.object,player:p.default.object,className:p.default.string,onFocus:p.default.func,onBlur:p.default.func},v=function(t){function VolumeBar(t,e){var n;return(0,a.default)(this,VolumeBar),(n=(0,u.default)(this,(0,l.default)(VolumeBar).call(this,t,e))).state={percentage:"0%"},n.handleMouseMove=n.handleMouseMove.bind((0,c.default)(n)),n.handlePercentageChange=n.handlePercentageChange.bind((0,c.default)(n)),n.checkMuted=n.checkMuted.bind((0,c.default)(n)),n.getPercent=n.getPercent.bind((0,c.default)(n)),n.stepForward=n.stepForward.bind((0,c.default)(n)),n.stepBack=n.stepBack.bind((0,c.default)(n)),n.handleFocus=n.handleFocus.bind((0,c.default)(n)),n.handleBlur=n.handleBlur.bind((0,c.default)(n)),n.handleClick=n.handleClick.bind((0,c.default)(n)),n}return(0,f.default)(VolumeBar,t),(0,s.default)(VolumeBar,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"getPercent",value:function getPercent(){var t=this.props.player;return t.muted?0:t.volume}},{key:"checkMuted",value:function checkMuted(){var t=this.props,e=t.player,n=t.actions;e.muted&&n.mute(!1)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.actions;this.checkMuted();var n=this.slider.calculateDistance(t);e.changeVolume(n)}},{key:"stepForward",value:function stepForward(){var t=this.props,e=t.player,n=t.actions;this.checkMuted(),n.changeVolume(e.volume+.1)}},{key:"stepBack",value:function stepBack(){var t=this.props,e=t.player,n=t.actions;this.checkMuted(),n.changeVolume(e.volume-.1)}},{key:"handleFocus",value:function handleFocus(t){this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){this.props.onBlur&&this.props.onBlur(t)}},{key:"handlePercentageChange",value:function handlePercentageChange(t){t!==this.state.percentage&&this.setState({percentage:t})}},{key:"handleClick",value:function handleClick(t){t.stopPropagation()}},{key:"render",value:function render(){var t=this,e=this.props,n=e.player,r=e.className,i=(100*n.volume).toFixed(2);return d.default.createElement(g.default,(0,o.default)({ref:function ref(e){t.slider=e},label:"volume level",valuenow:i,valuetext:"".concat(i,"%"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,h.default)(r,"video-react-volume-bar video-react-slider-bar")}),d.default.createElement(y.default,this.props))}}]),VolumeBar}(d.Component);v.propTypes=m,v.displayName="VolumeBar";var _=v;e.default=_},function(t,e,n){"use strict";var r=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(29)),o=r(n(0)),a=r(n(3)),s={percentage:i.default.string,vertical:i.default.bool,className:i.default.string};function VolumeLevel(t){var e=t.percentage,n=t.vertical,r=t.className,i={};return n?i.height=e:i.width=e,o.default.createElement("div",{className:(0,a.default)(r,"video-react-volume-level"),style:i},o.default.createElement("span",{className:"video-react-control-text"}))}VolumeLevel.propTypes=s,VolumeLevel.defaultProps={percentage:"100%",vertical:!1},VolumeLevel.displayName="VolumeLevel";var u=VolumeLevel;e.default=u},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d={children:f.default.any},h=function(t){function Menu(t,e){var n;return(0,o.default)(this,Menu),(n=(0,s.default)(this,(0,u.default)(Menu).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(Menu,t),(0,a.default)(Menu,[{key:"handleClick",value:function handleClick(t){t.preventDefault()}},{key:"render",value:function render(){return p.default.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},p.default.createElement("ul",{className:"video-react-menu-content"},this.props.children))}}]),Menu}(p.Component);e.default=h,h.propTypes=d,h.displayName="Menu"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h={item:f.default.object,index:f.default.number,activateIndex:f.default.number,onSelectItem:f.default.func},g=function(t){function MenuItem(t,e){var n;return(0,o.default)(this,MenuItem),(n=(0,s.default)(this,(0,u.default)(MenuItem).call(this,t,e))).handleClick=n.handleClick.bind((0,l.default)(n)),n}return(0,c.default)(MenuItem,t),(0,a.default)(MenuItem,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.index;(0,t.onSelectItem)(e)}},{key:"render",value:function render(){var t=this.props,e=t.item,n=t.index,r=t.activateIndex;return p.default.createElement("li",{className:(0,d.default)({"video-react-menu-item":!0,"video-react-selected":n===r}),role:"menuitem",onClick:this.handleClick},e.label,p.default.createElement("span",{className:"video-react-control-text"}))}}]),MenuItem}(p.Component);e.default=g,g.propTypes=h,g.displayName="MenuItem"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_IOS=e.IS_IPOD=e.IS_IPHONE=e.IS_IPAD=void 0;var r="undefined"!==typeof window&&window.navigator?window.navigator.userAgent:"",i=/iPad/i.test(r);e.IS_IPAD=i;var o=/iPhone/i.test(r)&&!i;e.IS_IPHONE=o;var a=/iPod/i.test(r);e.IS_IPOD=a;var s=o||i||a;e.IS_IOS=s},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(50)),c=r(n(0)),f=i(n(276)),p=n(92),d=function(t){function PlaybackRate(t,e){var n;return(0,o.default)(this,PlaybackRate),n=(0,s.default)(this,(0,u.default)(PlaybackRate).call(this,t,e)),(0,p.deprecatedWarning)("PlaybackRate","PlaybackRateMenuButton"),n}return(0,l.default)(PlaybackRate,t),(0,a.default)(PlaybackRate,[{key:"render",value:function render(){return c.default.createElement(f.default,this.props)}}]),PlaybackRate}(c.Component);e.default=d,d.displayName="PlaybackRate"},function(t,e,n){"use strict";var r=n(54),i=n(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(45)),a=i(n(46)),s=i(n(49)),u=i(n(47)),l=i(n(58)),c=i(n(50)),f=i(n(29)),p=r(n(0)),d=i(n(3)),h=i(n(277)),g={player:f.default.object,actions:f.default.object,className:f.default.string,offMenuText:f.default.string,showOffMenu:f.default.bool,kinds:f.default.array},y=function(t){function ClosedCaptionButton(t,e){var n;return(0,o.default)(this,ClosedCaptionButton),(n=(0,s.default)(this,(0,u.default)(ClosedCaptionButton).call(this,t,e))).getTextTrackItems=n.getTextTrackItems.bind((0,l.default)(n)),n.updateState=n.updateState.bind((0,l.default)(n)),n.handleSelectItem=n.handleSelectItem.bind((0,l.default)(n)),n.state=n.getTextTrackItems(),n}return(0,c.default)(ClosedCaptionButton,t),(0,a.default)(ClosedCaptionButton,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateState()}},{key:"getTextTrackItems",value:function getTextTrackItems(){var t=this.props,e=t.kinds,n=t.player,r=t.offMenuText,i=t.showOffMenu,o=n.textTracks,a=n.activeTextTrack,s={items:[],selectedIndex:0},u=Array.from(o||[]);return 0===u.length?s:(i&&s.items.push({label:r||"Off",value:null}),u.forEach((function(t){e.length&&!e.includes(t.kind)||s.items.push({label:t.label,value:t.language})})),s.selectedIndex=s.items.findIndex((function(t){return a&&a.language===t.value})),-1===s.selectedIndex&&(s.selectedIndex=0),s)}},{key:"updateState",value:function updateState(){var t=this.getTextTrackItems();t.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(t.items,this.state.items)||this.setState(t)}},{key:"textTrackItemsAreEqual",value:function textTrackItemsAreEqual(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!e[n]||t[n].label!==e[n].label||t[n].value!==e[n].value)return!1;return!0}},{key:"handleSelectItem",value:function handleSelectItem(t){var e=this.props,n=e.player,r=e.actions,i=e.showOffMenu,o=n.textTracks;Array.from(o).forEach((function(e,n){t===(i?n+1:n)?(e.mode="showing",r.activateTextTrack(e)):e.mode="hidden"}))}},{key:"render",value:function render(){var t=this.state,e=t.items,n=t.selectedIndex;return p.default.createElement(h.default,{className:(0,d.default)("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:e,selectedIndex:n},p.default.createElement("span",{className:"video-react-control-text"},"Closed Caption"))}}]),ClosedCaptionButton}(p.Component);y.propTypes=g,y.defaultProps={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},y.displayName="ClosedCaptionButton";var m=y;e.default=m},function(t,e,n){},,,function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(28)),f=r(n(36)),p=r(n(0)),d=(r(n(9)),r(n(3))),h=r(n(113)),g=r(n(8)),y=n(140),m=r(n(278)),v=n(74),_=r(n(279)),b=r(n(280)),S=function styles(t){var e=3*t.spacing.unit,n={top:0},r={bottom:0},i={justifyContent:"flex-end"},o={justifyContent:"flex-start"},a={top:e},s={bottom:e},u={right:e},l={left:e},p={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:0,right:0,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,f.default)({},n,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({},p))),anchorOriginBottomCenter:(0,f.default)({},r,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({},p))),anchorOriginTopRight:(0,f.default)({},n,i,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({left:"auto"},a,u))),anchorOriginBottomRight:(0,f.default)({},r,i,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({left:"auto"},s,u))),anchorOriginTopLeft:(0,f.default)({},n,o,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({right:"auto"},a,l))),anchorOriginBottomLeft:(0,f.default)({},r,o,(0,c.default)({},t.breakpoints.up("md"),(0,f.default)({right:"auto"},s,l)))}};e.styles=S;var E=function(t){function Snackbar(){var t,e,n;(0,a.default)(this,Snackbar);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,u.default)(n,(e=n=(0,u.default)(this,(t=Snackbar.__proto__||Object.getPrototypeOf(Snackbar)).call.apply(t,[this].concat(i))),n.timerAutoHide=null,n.state={},n.handleMouseEnter=function(t){n.props.onMouseEnter&&n.props.onMouseEnter(t),n.handlePause()},n.handleMouseLeave=function(t){n.props.onMouseLeave&&n.props.onMouseLeave(t),n.handleResume()},n.handleClickAway=function(t){n.props.onClose&&n.props.onClose(t,"clickaway")},n.handlePause=function(){clearTimeout(n.timerAutoHide)},n.handleResume=function(){if(null!=n.props.autoHideDuration){if(void 0!==n.props.resumeHideDuration)return void n.setAutoHideTimer(n.props.resumeHideDuration);n.setAutoHideTimer(.5*(n.props.autoHideDuration||0))}},n.handleExited=function(){n.setState({exited:!0})},e))}return(0,l.default)(Snackbar,t),(0,s.default)(Snackbar,[{key:"componentDidMount",value:function componentDidMount(){this.props.open&&this.setAutoHideTimer()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function setAutoHideTimer(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDuration&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout((function(){t.props.onClose&&null!=t.props.autoHideDuration&&t.props.onClose(null,"timeout")}),e||this.props.autoHideDuration||0))}},{key:"render",value:function render(){var t=this.props,e=t.action,n=t.anchorOrigin,r=n.vertical,a=n.horizontal,s=(t.autoHideDuration,t.children),u=t.classes,l=t.className,c=t.ContentProps,f=t.disableWindowBlurListener,g=t.message,y=(t.onClose,t.onEnter),_=t.onEntered,S=t.onEntering,E=t.onExit,x=t.onExited,w=t.onExiting,T=(t.onMouseEnter,t.onMouseLeave,t.open),P=(t.resumeHideDuration,t.TransitionComponent),k=t.transitionDuration,C=t.TransitionProps,D=(0,o.default)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]);return!T&&this.state.exited?null:p.default.createElement(m.default,{onClickAway:this.handleClickAway},p.default.createElement("div",(0,i.default)({className:(0,d.default)(u.root,u["anchorOrigin".concat((0,v.capitalize)(r)).concat((0,v.capitalize)(a))],l),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},D),p.default.createElement(h.default,{target:"window",onFocus:f?void 0:this.handleResume,onBlur:f?void 0:this.handlePause}),p.default.createElement(P,(0,i.default)({appear:!0,in:T,onEnter:y,onEntered:_,onEntering:S,onExit:E,onExited:(0,v.createChainedFunction)(this.handleExited,x),onExiting:w,timeout:k,direction:"top"===r?"down":"up"},C),s||p.default.createElement(b.default,(0,i.default)({message:g,action:e},c)))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return"undefined"===typeof e.exited?{exited:!t.open}:t.open?{exited:!1}:null}}]),Snackbar}(p.default.Component);E.propTypes={},E.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"center"},disableWindowBlurListener:!1,TransitionComponent:_.default,transitionDuration:{enter:y.duration.enteringScreen,exit:y.duration.leavingScreen}};var x=(0,g.default)(S,{flip:!1,name:"MuiSnackbar"})(E);e.default=x},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(37)),s=r(n(38)),u=r(n(40)),l=r(n(41)),c=r(n(0)),f=r(n(55)),p=(r(n(9)),r(n(113))),d=r(n(103)),h=function(t){function ClickAwayListener(){var t,e,n;(0,a.default)(this,ClickAwayListener);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,u.default)(n,(e=n=(0,u.default)(this,(t=ClickAwayListener.__proto__||Object.getPrototypeOf(ClickAwayListener)).call.apply(t,[this].concat(i))),n.node=null,n.mounted=null,n.handleClickAway=function(t){if(!t.defaultPrevented&&n.mounted&&n.node){var e=(0,d.default)(n.node);e.documentElement&&e.documentElement.contains(t.target)&&!n.node.contains(t.target)&&n.props.onClickAway(t)}},e))}return(0,l.default)(ClickAwayListener,t),(0,s.default)(ClickAwayListener,[{key:"componentDidMount",value:function componentDidMount(){this.node=f.default.findDOMNode(this),this.mounted=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"render",value:function render(){var t=this.props,e=t.children,n=t.mouseEvent,r=t.touchEvent,a=(t.onClickAway,(0,o.default)(t,["children","mouseEvent","touchEvent","onClickAway"])),s={};return!1!==n&&(s[n]=this.handleClickAway),!1!==r&&(s[r]=this.handleClickAway),c.default.createElement(p.default,(0,i.default)({target:"document"},s,a),e)}}]),ClickAwayListener}(c.default.Component);h.propTypes={},h.defaultProps={mouseEvent:"onMouseUp",touchEvent:"onTouchEnd"};var g=h;e.default=g},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.setTranslateValue=setTranslateValue,e.default=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(36)),s=r(n(37)),u=r(n(38)),l=r(n(40)),c=r(n(41)),f=r(n(0)),p=(r(n(9)),r(n(55))),d=r(n(113)),h=r(n(87)),g=r(n(162)),y=r(n(190)),m=r(n(147)),v=n(140),_=n(196),b=24;function setTranslateValue(t,e){var n=function getTranslateValue(t,e){var n,r=t.direction,i=e.getBoundingClientRect();if(e.fakeTransform)n=e.fakeTransform;else{var o=(0,y.default)(e).getComputedStyle(e);n=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var a=0,s=0;if(n&&"none"!==n&&"string"===typeof n){var u=n.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),s=parseInt(u[5],10)}return"left"===r?"translateX(100vw) translateX(-".concat(i.left-a,"px)"):"right"===r?"translateX(-".concat(i.left+i.width+b-a,"px)"):"up"===r?"translateY(100vh) translateY(-".concat(i.top-s,"px)"):"translateY(-".concat(i.top+i.height+b-s,"px)")}(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}var S=function(t){function Slide(){var t,e,n;(0,s.default)(this,Slide);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,l.default)(n,(e=n=(0,l.default)(this,(t=Slide.__proto__||Object.getPrototypeOf(Slide)).call.apply(t,[this].concat(i))),n.mounted=!1,n.transition=null,n.handleResize=(0,h.default)((function(){if(!n.props.in&&"down"!==n.props.direction&&"right"!==n.props.direction){var t=p.default.findDOMNode(n.transition);t&&setTranslateValue(n.props,t)}}),166),n.handleEnter=function(t){setTranslateValue(n.props,t),(0,_.reflow)(t),n.props.onEnter&&n.props.onEnter(t)},n.handleEntering=function(t){var e=n.props.theme,r=(0,_.getTransitionProps)(n.props,{mode:"enter"});t.style.webkitTransition=e.transitions.create("-webkit-transform",(0,a.default)({},r,{easing:e.transitions.easing.easeOut})),t.style.transition=e.transitions.create("transform",(0,a.default)({},r,{easing:e.transitions.easing.easeOut})),t.style.webkitTransform="translate(0, 0)",t.style.transform="translate(0, 0)",n.props.onEntering&&n.props.onEntering(t)},n.handleExit=function(t){var e=n.props.theme,r=(0,_.getTransitionProps)(n.props,{mode:"exit"});t.style.webkitTransition=e.transitions.create("-webkit-transform",(0,a.default)({},r,{easing:e.transitions.easing.sharp})),t.style.transition=e.transitions.create("transform",(0,a.default)({},r,{easing:e.transitions.easing.sharp})),setTranslateValue(n.props,t),n.props.onExit&&n.props.onExit(t)},n.handleExited=function(t){t.style.webkitTransition="",t.style.transition="",n.props.onExited&&n.props.onExited(t)},e))}return(0,c.default)(Slide,t),(0,u.default)(Slide,[{key:"componentDidMount",value:function componentDidMount(){this.props.in||this.updatePosition(),this.mounted=!0}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.direction===this.props.direction||this.props.in||this.updatePosition()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"updatePosition",value:function updatePosition(){var t=p.default.findDOMNode(this.transition);t&&(t.style.visibility="inherit",setTranslateValue(this.props,t))}},{key:"render",value:function render(){var t=this,e=this.props,n=e.children,r=(e.onEnter,e.onEntering,e.onExit,e.onExited,e.style),s=(e.theme,(0,o.default)(e,["children","onEnter","onEntering","onExit","onExited","style","theme"])),u={};return this.props.in||this.mounted||(u.visibility="hidden"),u=(0,a.default)({},u,r,f.default.isValidElement(n)?n.props.style:{}),f.default.createElement(d.default,{target:"window",onResize:this.handleResize},f.default.createElement(g.default,(0,i.default)({onEnter:this.handleEnter,onEntering:this.handleEntering,onExit:this.handleExit,onExited:this.handleExited,appear:!0,style:u,ref:function ref(e){t.transition=e}},s),n))}}]),Slide}(f.default.Component);S.propTypes={},S.defaultProps={direction:"down",timeout:{enter:v.duration.enteringScreen,exit:v.duration.leavingScreen}};var E=(0,m.default)()(S);e.default=E},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var i=r(n(13)),o=r(n(11)),a=r(n(28)),s=r(n(0)),u=(r(n(9)),r(n(3))),l=r(n(8)),c=r(n(75)),f=r(n(18)),p=n(139),d=function styles(t){var e,n="light"===t.palette.type?.8:.98,r=(0,p.emphasize)(t.palette.background.default,n);return{root:(e={pointerEvents:"initial",color:t.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px ".concat(3*t.spacing.unit,"px")},(0,a.default)(e,t.breakpoints.up("md"),{minWidth:288,maxWidth:568,borderRadius:t.shape.borderRadius}),(0,a.default)(e,t.breakpoints.down("sm"),{flexGrow:1}),e),message:{padding:"".concat(t.spacing.unit,"px 0")},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:3*t.spacing.unit,marginRight:-t.spacing.unit}}};function SnackbarContent(t){var e=t.action,n=t.classes,r=t.className,a=t.message,l=(0,o.default)(t,["action","classes","className","message"]);return s.default.createElement(c.default,(0,i.default)({component:f.default,headlineMapping:{body1:"div"},role:"alertdialog",square:!0,elevation:6,className:(0,u.default)(n.root,r)},l),s.default.createElement("div",{className:n.message},a),e?s.default.createElement("div",{className:n.action},e):null)}e.styles=d,SnackbarContent.propTypes={};var h=(0,l.default)(d,{name:"MuiSnackbarContent"})(SnackbarContent);e.default=h},function(t,e,n){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e.addEventListener=function addEventListener(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function removeEventListener(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function getConfirmation(t,e){return e(window.confirm(t))},e.supportsHistory=function supportsHistory(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function isExtraneousPopstateEvent(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(38)),a=r(n(40)),s=r(n(41)),u=r(n(0)),l=(r(n(9)),n(23)),c=(r(n(193)),function(t){function CssBaseline(){return(0,i.default)(this,CssBaseline),(0,a.default)(this,(CssBaseline.__proto__||Object.getPrototypeOf(CssBaseline)).apply(this,arguments))}return(0,s.default)(CssBaseline,t),(0,o.default)(CssBaseline,[{key:"render",value:function render(){return this.props.children}}]),CssBaseline}(u.default.Component));c.propTypes={},c.propTypes={},c.defaultProps={children:null};var f=(0,l.withStyles)((function styles(t){return{"@global":{html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},"*, *::before, *::after":{boxSizing:"inherit"},body:{margin:0,backgroundColor:t.palette.background.default,"@media print":{backgroundColor:t.palette.common.white}}}}}),{name:"MuiCssBaseline"})(c);e.default=f},,function(t,e,n){"use strict";(function custom(t){function polyIn(e){return Math.pow(e,t)}return t=+t,polyIn.exponent=custom,polyIn})(3),function custom(t){function polyOut(e){return 1-Math.pow(1-e,t)}return t=+t,polyOut.exponent=custom,polyOut}(3),function custom(t){function polyInOut(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,polyInOut.exponent=custom,polyInOut}(3),Math.PI;(function custom(t){function backIn(e){return e*e*((t+1)*e-t)}return t=+t,backIn.overshoot=custom,backIn})(1.70158),function custom(t){function backOut(e){return--e*e*((t+1)*e+t)+1}return t=+t,backOut.overshoot=custom,backOut}(1.70158),function custom(t){function backInOut(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,backInOut.overshoot=custom,backInOut}(1.70158);var r=2*Math.PI;(function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=r);function elasticIn(r){return t*Math.pow(2,10*--r)*Math.sin((n-r)/e)}return elasticIn.amplitude=function(t){return custom(t,e*r)},elasticIn.period=function(e){return custom(t,e)},elasticIn})(1,.3),function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=r);function elasticOut(r){return 1-t*Math.pow(2,-10*(r=+r))*Math.sin((r+n)/e)}return elasticOut.amplitude=function(t){return custom(t,e*r)},elasticOut.period=function(e){return custom(t,e)},elasticOut}(1,.3),function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=r);function elasticInOut(r){return((r=2*r-1)<0?t*Math.pow(2,10*r)*Math.sin((n-r)/e):2-t*Math.pow(2,-10*r)*Math.sin((n+r)/e))/2}return elasticInOut.amplitude=function(t){return custom(t,e*r)},elasticInOut.period=function(e){return custom(t,e)},elasticInOut}(1,.3)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(22),o=n.n(i),a=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var s=function(t){function Manager(){var t,e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Manager);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=_possibleConstructorReturn(this,(t=Manager.__proto__||Object.getPrototypeOf(Manager)).call.apply(t,[this].concat(i))),n._setTargetNode=function(t){n._targetNode=t},n._getTargetNode=function(){return n._targetNode},_possibleConstructorReturn(n,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Manager,t),a(Manager,[{key:"getChildContext",value:function getChildContext(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function render(){var t=this.props,e=t.tag,n=t.children,i=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["tag","children"]);return!1!==e?Object(r.createElement)(e,i,n):n}}]),Manager}(r.Component);s.childContextTypes={popperManager:o.a.object.isRequired},s.propTypes={tag:o.a.oneOfType([o.a.string,o.a.bool]),children:o.a.oneOfType([o.a.node,o.a.func])},s.defaultProps={tag:"div"};var u=s,l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var c=function Target(t,e){var n=t.component,i=void 0===n?"div":n,o=t.innerRef,a=t.children,s=function Target_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component","innerRef","children"]),u=e.popperManager,c=function targetRef(t){u.setTargetNode(t),"function"===typeof o&&o(t)};if("function"===typeof a)return a({targetProps:{ref:c},restProps:s});var f=l({},s);return"string"===typeof i?f.ref=c:f.innerRef=c,Object(r.createElement)(i,f,a)};c.contextTypes={popperManager:o.a.object.isRequired},c.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])};var f=c,p=n(301),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function Popper_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var g=p.a.placements,y=function(t){function Popper(){var t,e,n;!function Popper_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Popper);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=Popper_possibleConstructorReturn(this,(t=Popper.__proto__||Object.getPrototypeOf(Popper)).call.apply(t,[this].concat(i))),n.state={},n._setArrowNode=function(t){n._arrowNode=t},n._getTargetNode=function(){if(n.props.target)return n.props.target;if(!n.context.popperManager||!n.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return n.context.popperManager.getTargetNode()},n._getOffsets=function(t){return Object.keys(t.offsets).map((function(e){return t.offsets[e]}))},n._isDataDirty=function(t){return!n.state.data||JSON.stringify(n._getOffsets(n.state.data))!==JSON.stringify(n._getOffsets(t))},n._updateStateModifier={enabled:!0,order:900,fn:function fn(t){return n._isDataDirty(t)&&n.setState({data:t}),t}},n._getPopperStyle=function(){var t=n.state.data;return n._popper&&t?d({position:t.offsets.popper.position},t.styles):{position:"absolute",pointerEvents:"none",opacity:0}},n._getPopperPlacement=function(){return n.state.data?n.state.data.placement:void 0},n._getPopperHide=function(){return n.state.data&&n.state.data.hide?"":void 0},n._getArrowStyle=function(){if(n.state.data&&n.state.data.offsets.arrow){var t=n.state.data.offsets.arrow;return{top:t.top,left:t.left}}return{}},n._handlePopperRef=function(t){n._popperNode=t,t?n._createPopper():n._destroyPopper(),n.props.innerRef&&n.props.innerRef(t)},n._scheduleUpdate=function(){n._popper&&n._popper.scheduleUpdate()},Popper_possibleConstructorReturn(n,e)}return function Popper_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Popper,t),h(Popper,[{key:"getChildContext",value:function getChildContext(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.placement===this.props.placement&&t.eventsEnabled===this.props.eventsEnabled&&t.target===this.props.target||(this._destroyPopper(),this._createPopper()),t.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._destroyPopper()}},{key:"_createPopper",value:function _createPopper(){var t=this,e=this.props,n=e.placement,r=e.eventsEnabled,i=e.positionFixed,o=d({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(o.arrow=d({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new p.a(this._getTargetNode(),this._popperNode,{placement:n,positionFixed:i,eventsEnabled:r,modifiers:o}),setTimeout((function(){return t._scheduleUpdate()}))}},{key:"_destroyPopper",value:function _destroyPopper(){this._popper&&this._popper.destroy()}},{key:"render",value:function render(){var t=this.props,e=t.component,n=(t.innerRef,t.placement,t.eventsEnabled,t.positionFixed,t.modifiers,t.children),i=function Popper_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component","innerRef","placement","eventsEnabled","positionFixed","modifiers","children"]),o=this._getPopperStyle(),a=this._getPopperPlacement(),s=this._getPopperHide();if("function"===typeof n)return n({popperProps:{ref:this._handlePopperRef,style:o,"data-placement":a,"data-x-out-of-boundaries":s},restProps:i,scheduleUpdate:this._scheduleUpdate});var u=d({},i,{style:d({},i.style,o),"data-placement":a,"data-x-out-of-boundaries":s});return"string"===typeof e?u.ref=this._handlePopperRef:u.innerRef=this._handlePopperRef,Object(r.createElement)(e,u,n)}}]),Popper}(r.Component);y.contextTypes={popperManager:o.a.object},y.childContextTypes={popper:o.a.object.isRequired},y.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,placement:o.a.oneOf(g),eventsEnabled:o.a.bool,positionFixed:o.a.bool,modifiers:o.a.object,children:o.a.oneOfType([o.a.node,o.a.func]),target:o.a.oneOfType([o.a.instanceOf("undefined"!==typeof Element?Element:Object),o.a.shape({getBoundingClientRect:o.a.func.isRequired,clientWidth:o.a.number.isRequired,clientHeight:o.a.number.isRequired})])},y.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,positionFixed:!1,modifiers:{}};var m=y,v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var _=function Arrow(t,e){var n=t.component,i=void 0===n?"span":n,o=t.innerRef,a=t.children,s=function Arrow_objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component","innerRef","children"]),u=e.popper,l=function arrowRef(t){u.setArrowNode(t),"function"===typeof o&&o(t)},c=u.getArrowStyle();if("function"===typeof a)return a({arrowProps:{ref:l,style:c},restProps:s});var f=v({},s,{style:v({},c,s.style)});return"string"===typeof i?f.ref=l:f.innerRef=l,Object(r.createElement)(i,f,a)};_.contextTypes={popper:o.a.object.isRequired},_.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])};var b=_;n.d(e,"Manager",(function(){return u})),n.d(e,"Target",(function(){return f})),n.d(e,"Popper",(function(){return m})),n.d(e,"placements",(function(){return g})),n.d(e,"Arrow",(function(){return b}))},,,,function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(71),a=n.n(o),s=n(52),u=n.n(s),l=n(152),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var f=function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},p=function(t){function Link(){var e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Link);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n.handleClick=function(t){if(n.props.onClick&&n.props.onClick(t),!t.defaultPrevented&&0===t.button&&!n.props.target&&!f(t)){t.preventDefault();var e=n.context.router.history,r=n.props,i=r.replace,o=r.to;i?e.replace(o):e.push(o)}},_possibleConstructorReturn(n,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Link,t),Link.prototype.render=function render(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function _objectWithoutProperties(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==e,'You must specify the "to" property');var o=this.context.router.history,a="string"===typeof e?Object(l.a)(e,null,null,o.location):e,s=o.createHref(a);return i.a.createElement("a",c({},r,{onClick:this.handleClick,href:s,ref:n}))},Link}(i.a.Component);p.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},p.defaultProps={replace:!1},p.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},e.a=p},function(t,e,n){"use strict";var r={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function isNumber(t){return"number"===typeof t}function isBigNumber(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function isComplex(t){return t&&"object"===_typeof(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function isFraction(t){return t&&"object"===_typeof(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function isUnit(t){return t&&!0===t.constructor.prototype.isUnit||!1}function isString(t){return"string"===typeof t}var i=Array.isArray;function isMatrix(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function isDenseMatrix(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function isSparseMatrix(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function isRange(t){return t&&!0===t.constructor.prototype.isRange||!1}function isIndex(t){return t&&!0===t.constructor.prototype.isIndex||!1}function isBoolean(t){return"boolean"===typeof t}function isResultSet(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function isHelp(t){return t&&!0===t.constructor.prototype.isHelp||!1}function isFunction(t){return"function"===typeof t}function isDate(t){return t instanceof Date}function isRegExp(t){return t instanceof RegExp}function isObject(t){return!(!t||"object"!==_typeof(t)||t.constructor!==Object||isComplex(t)||isFraction(t))}function isNull(t){return null===t}function isUndefined(t){return void 0===t}function isAccessorNode(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function isArrayNode(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function isAssignmentNode(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function isBlockNode(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function isConditionalNode(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function isConstantNode(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function isFunctionNode(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function isIndexNode(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function isNode(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function isObjectNode(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function isOperatorNode(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function isParenthesisNode(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function isRangeNode(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function isSymbolNode(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function isChain(t){return t&&!0===t.constructor.prototype.isChain||!1}function typeOf(t){var e=_typeof(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":isBigNumber(t)?"BigNumber":isComplex(t)?"Complex":isFraction(t)?"Fraction":isMatrix(t)?"Matrix":isUnit(t)?"Unit":isIndex(t)?"Index":isRange(t)?"Range":isResultSet(t)?"ResultSet":isNode(t)?t.type:isChain(t)?"Chain":isHelp(t)?"Help":"Object":"function"===e?"Function":e}function object_typeof(t){return(object_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function clone(t){var e=object_typeof(t);if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"===typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return clone(t)}));if(t instanceof Date)return new Date(t.valueOf());if(isBigNumber(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return mapObject(t,clone)}function mapObject(t,e){var n={};for(var r in t)object_hasOwnProperty(t,r)&&(n[r]=e(t[r]));return n}function extend(t,e){for(var n in e)object_hasOwnProperty(e,n)&&(t[n]=e[n]);return t}function deepStrictEqual(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!deepStrictEqual(t[r],e[r]))return!1;return!0}if("function"===typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!deepStrictEqual(t[n],e[n]))return!1;for(n in e)if(!(n in t)||!deepStrictEqual(t[n],e[n]))return!1;return!0}return t===e}function object_hasOwnProperty(t,e){return t&&Object.hasOwnProperty.call(t,e)}var o=["Matrix","Array"],a=["number","BigNumber","Fraction"];function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function config(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(r)};function number_isInteger(t){return"boolean"===typeof t||!!isFinite(t)&&t===Math.round(t)}_extends(s,r,{MATRIX_OPTIONS:o,NUMBER_OPTIONS:a});var u=Math.sign||function(t){return t>0?1:t<0?-1:0},l=Math.log2||function log2(t){return Math.log(t)/Math.LN2},c=Math.log10||function log10(t){return Math.log(t)/Math.LN10},f=(Math.log1p,Math.cbrt||function cbrt(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e}),p=Math.expm1||function expm1(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function number_format(t,e){if("function"===typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r="auto";switch(e&&(e.notation&&(r=e.notation),isNumber(e)?n=e:isNumber(e.precision)&&(n=e.precision)),r){case"fixed":return toFixed(t,n);case"exponential":return toExponential(t,n);case"engineering":return function toEngineering(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=roundDigits(splitNumber(t),e),r=n.exponent,i=n.coefficients,o=r%3===0?r:r<0?r-3-r%3:r-r%3;if(isNumber(e))for(;e>i.length||r-o+1>i.length;)i.push(0);else for(var a=r>=0?r:Math.abs(o);i.length-1<a;)i.push(0);var s=Math.abs(r-o),u=1;for(;s>0;)u++,s--;var l=i.slice(u).join(""),c=isNumber(e)&&l.length||l.match(/[1-9]/)?"."+l:"",f=i.slice(0,u).join("")+c+"e"+(r>=0?"+":"")+o.toString();return n.sign+f}(t,n);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var i=mapObject(e,(function(t){return t}));return i.exponential=void 0,void 0!==e.exponential.lower&&(i.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(i.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(i)),toPrecision(t,n,i)}return toPrecision(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function splitNumber(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function toFixed(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=splitNumber(t),r="number"===typeof e?roundDigits(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(number_zeros(a-i.length))),o<0&&(i=number_zeros(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function toExponential(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=splitNumber(t),r=e?roundDigits(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(number_zeros(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function toPrecision(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=splitNumber(t),a=e?roundDigits(o,e):o;if(a.exponent<r||a.exponent>=i)return toExponential(t,e);var s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(number_zeros(e-s.length))),s=s.concat(number_zeros(u-s.length+1+(s.length<e?e-s.length:0)));var l=u>0?u:0;return l<(s=number_zeros(-u).concat(s)).length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}function roundDigits(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function number_zeros(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var d=Number.EPSILON||2220446049250313e-31;function nearlyEqual(t,e,n){if(null===n||void 0===n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<d||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var h=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},g=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},y=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},m=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function formatter_format(t,e){if("function"===typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==e&&(e.notation&&(r=e.notation),"number"===typeof e?n=e:e.precision&&(n=e.precision)),r){case"fixed":return function formatter_toFixed(t,e){return t.toFixed(e)}(t,n);case"exponential":return formatter_toExponential(t,n);case"engineering":return function formatter_toEngineering(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var i=mapObject(e,(function(t){return t}));return i.exponential=void 0,void 0!==e.exponential.lower&&(i.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(i.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(i)),formatter_format(t,i)}var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(n),u=s.e;return(u>=o&&u<a?s.toFixed():formatter_toExponential(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function formatter_toExponential(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function string_typeof(t){return(string_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function string_format(t,e){return"number"===typeof t?number_format(t,e):isBigNumber(t)?formatter_format(t,e):function looksLikeFraction(t){return t&&"object"===string_typeof(t)&&"number"===typeof t.s&&"number"===typeof t.n&&"number"===typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function formatArray(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=formatArray(t[i],e);return n+="]"}return string_format(t,e)}(t,e):isString(t)?'"'+t+'"':"function"===typeof t?t.syntax?String(t.syntax):"function":t&&"object"===string_typeof(t)?"function"===typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+string_format(t[n],e)})).join(", ")+"}":String(t)}function DimensionError(t,e,n){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function IndexError(t,e,n){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function arraySize(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function utils_array_validate(t,e){if(0===e.length){if(Array.isArray(t))throw new DimensionError(t.length,0)}else!function array_validate(t,e,n){var r,i=t.length;if(i!==e[n])throw new DimensionError(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var a=t[r];if(!Array.isArray(a))throw new DimensionError(e.length-1,e.length,"<");array_validate(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new DimensionError(e.length+1,e.length,">")}(t,e,0)}function validateIndex(t,e){if(!isNumber(t)||!number_isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"===typeof e&&t>=e)throw new IndexError(t,e)}function array_resize(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!isNumber(t)||!number_isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(e)+")")})),function utils_array_resize(t,e,n,r){var i;var o;var a=t.length;var s=e[n];var u=Math.min(a,s);t.length=s;if(n<e.length-1){var l=n+1;for(i=0;i<u;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),utils_array_resize(o,e,l,r);for(i=u;i<s;i++)o=[],t[i]=o,utils_array_resize(o,e,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<s;i++)t[i]=r}}(t,e,0,void 0!==n?n:0),t}function reshape(t,e){var n,r=flatten(t);function product(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new DimensionError(0,product(arraySize(t)),"!=");for(var i=1,o=0;o<e.length;o++)i*=e[o];if(r.length!==i)throw new DimensionError(product(e),product(arraySize(t)),"!=");try{n=function _reshape(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(r,e)}catch(a){if(a instanceof DimensionError)throw new DimensionError(product(e),product(arraySize(t)),"!=");throw a}return n}function unsqueeze(t,e,n,r){var i=r||arraySize(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=function _unsqueeze(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=_unsqueeze(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}(t,e,0);i.length<e;)i.push(1);return t}function flatten(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function callback(t){Array.isArray(t)?t.forEach(callback):e.push(t)})),e}function getArrayDataType(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var s=a?getArrayDataType(o,e):e(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function factory_factory(t,e,n,r){function assertAndCreate(r){var i=function pickShallow(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(stripOptionalNotation));return function assertDependencies(t,e,n){if(!e.filter((function(t){return!function isOptionalDependency(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var r=e.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,r),n(i)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=t,assertAndCreate.dependencies=e.slice().sort(),r&&(assertAndCreate.meta=r),assertAndCreate}function stripOptionalNotation(t){return t&&"?"===t[0]?t.slice(1):t}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0;var v=n(72),_=n.n(v);function Complex_typeof(t){return(Complex_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=factory_factory("Complex",[],(function(){return _.a.prototype.type="Complex",_.a.prototype.isComplex=!0,_.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},_.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},_.a.prototype.format=function(t){var e=this.im,n=this.re,r=number_format(this.re,t),i=number_format(this.im,t),o=isNumber(t)?t:t?t.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(n/e)<a&&(n=0),Math.abs(e/n)<a&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},_.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===Complex_typeof(e))return _()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(isNumber(n)){if(isUnit(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),isNumber(r))return new _.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},_.a.prototype.valueOf=_.a.prototype.toString,_.a.fromJSON=function(t){return new _.a(t)},_.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},_.a}),{isClass:!0});function function_typeof(t){return(function_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function memoize(t,e){return function memoize(){"object"!==function_typeof(memoize.cache)&&(memoize.cache={});for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e?e(n):JSON.stringify(n);return i in memoize.cache||(memoize.cache[i]=t.apply(t,n)),memoize.cache[i]}}memoize((function(t){return new t(1).exp()}),hasher),memoize((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),hasher);var S=memoize((function(t){return t.acos(-1)}),hasher);memoize((function(t){return S(t).times(2)}),hasher);function hasher(t){return t[0].precision}Math.PI,Math.PI,Math.E;var E=n(486),x=n.n(E),w=factory_factory("BigNumber",["?on","config"],(function(t){var e=t.on,n=t.config,r=x.a.clone({precision:n.precision});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),T=factory_factory("Matrix",[],(function(){function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.storage=function(t){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix}),{isClass:!0});numberFactory("fineStructure",.0072973525693),numberFactory("weakMixingAngle",.2229),numberFactory("efimovFactor",22.7),numberFactory("sackurTetrode",-1.16487052358);function numberFactory(t,e){return factory_factory(t,["config","BigNumber"],(function(t){var n=t.config,r=t.BigNumber;return"BigNumber"===n.number?new r(e):e}))}var P=n(133),k=n.n(P),C=factory_factory("Fraction",[],(function(){return k.a.prototype.type="Fraction",k.a.prototype.isFraction=!0,k.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},k.a.fromJSON=function(t){return new k.a(t)},k.a}),{isClass:!0}),D=factory_factory("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function DenseMatrix(t,e){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!isString(e))throw new Error("Invalid datatype: "+e);if(isMatrix(t))"DenseMatrix"===t.type?(this._data=clone(t._data),this._size=clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&i(t.data)&&i(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(i(t))this._data=function preprocess(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];i(r)?t[e]=preprocess(r):r&&!0===r.isMatrix&&(t[e]=preprocess(r.valueOf()))}return t}(t),this._size=arraySize(this._data),utils_array_validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+typeOf(t)+")");this._data=[],this._size=[0],this._datatype=e}}function _get(t,e){if(!isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new DimensionError(n.length,t._size.length);for(var r=e.min(),i=e.max(),o=0,a=t._size.length;o<a;o++)validateIndex(r[o],t._size[o]),validateIndex(i[o],t._size[o]);return new DenseMatrix(function _getSubmatrix(t,e,n,r){var i=r===n-1;var o=e.dimension(r);return i?o.map((function(e){return validateIndex(e,t.length),t[e]})).valueOf():o.map((function(i){validateIndex(i,t.length);var o=t[i];return _getSubmatrix(o,e,n,r+1)})).valueOf()}(t._data,e,n.length,0),t._datatype)}function _set(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(isMatrix(n)?(i=n.size(),n=n.valueOf()):i=arraySize(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(o.length<t._size.length)throw new DimensionError(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=unsqueeze(n,o.length,u,i)}if(!deepStrictEqual(o,i))throw new DimensionError(o,i,">");_fit(t,e.max().map((function(t){return t+1})),r);var l=o.length;!function _setSubmatrix(t,e,n,r,i){var o=i===r-1;var a=e.dimension(i);o?a.forEach((function(e,r){validateIndex(e),t[e]=n[r[0]]})):a.forEach((function(o,a){validateIndex(o),_setSubmatrix(t[o],e,n[a[0]],r,i+1)}))}(t._data,e,n,l,0)}return t}function _resize(t,e,n){if(0===e.length){for(var r=t._data;i(r);)r=r[0];return r}return t._size=e.slice(0),t._data=array_resize(t._data,t._size,n),t}function _fit(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&_resize(t,r,n)}return DenseMatrix.prototype=new e,DenseMatrix.prototype.createDenseMatrix=function(t,e){return new DenseMatrix(t,e)},DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(t,e){return new DenseMatrix(t,e)},DenseMatrix.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return _get(this,t);case 2:case 3:return _set(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(t){if(!i(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);for(var e=0;e<t.length;e++)validateIndex(t[e],this._size[e]);for(var n=this._data,r=0,o=t.length;r<o;r++){var a=t[r];validateIndex(a,n.length),n=n[a]}return n},DenseMatrix.prototype.set=function(t,e,n){if(!i(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new DimensionError(t.length,this._size.length,"<");var r,o,a;_fit(this,t.map((function(t){return t+1})),n);var s=this._data;for(r=0,o=t.length-1;r<o;r++)validateIndex(a=t[r],s.length),s=s[a];return validateIndex(a=t[t.length-1],s.length),s[a]=e,this},DenseMatrix.prototype.resize=function(t,e,n){if(!i(t))throw new TypeError("Array expected");return _resize(n?this.clone():this,t,e)},DenseMatrix.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=reshape(n._data,t),n._size=t.slice(0),n},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:clone(this._data),size:clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(t){var e=this;return new DenseMatrix({data:function recurse(n,r){return i(n)?n.map((function(t,e){return recurse(t,r.concat(e))})):t(n,r,e)}(this._data,[]),size:clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.forEach=function(t){var e=this;!function recurse(n,r){i(n)?n.forEach((function(t,e){recurse(t,r.concat(e))})):t(n,r,e)}(this._data,[])},DenseMatrix.prototype.toArray=function(){return clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(t){return string_format(this._data,t)},DenseMatrix.prototype.toString=function(){return string_format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(t){if(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new DenseMatrix({data:a,size:[o],datatype:this._datatype})},DenseMatrix.diagonal=function(t,e,n,r){if(!i(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!number_isInteger(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o,a=n>0?n:0,s=n<0?-n:0,u=t[0],l=t[1],c=Math.min(u-s,l-a);if(i(e)){if(e.length!==c)throw new Error("Invalid value array length");o=function _value(t){return e[t]}}else if(isMatrix(e)){var f=e.size();if(1!==f.length||f[0]!==c)throw new Error("Invalid matrix length");o=function _value(t){return e.get([t])}}else o=function _value(){return e};r||(r=isBigNumber(o(0))?o(0).mul(0):0);var p=[];if(t.length>0){p=array_resize(p,t,r);for(var d=0;d<c;d++)p[d+s][d+a]=o(d)}return new DenseMatrix({data:p,size:[u,l]})},DenseMatrix.fromJSON=function(t){return new DenseMatrix(t)},DenseMatrix.prototype.swapRows=function(t,e){if(!isNumber(t)||!number_isInteger(t)||!isNumber(e)||!number_isInteger(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(t,this._size[0]),validateIndex(e,this._size[0]),DenseMatrix._swapRows(t,e,this._data),this},DenseMatrix._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},DenseMatrix}),{isClass:!0}),A=n(306),R=n.n(A),M=function _createTyped(){return M=R.a.create,R.a},L=factory_factory("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function createTyped(t){var e=t.BigNumber,n=t.Complex,r=t.DenseMatrix,o=t.Fraction,a=M();return a.types=[{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:i},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"SymbolNode",test:isSymbolNode},{name:"Object",test:isObject}],a.conversions=[{from:"number",to:"BigNumber",convert:function convert(t){if(e||throwNoBignumber(t),function digits(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function convert(t){return n||throwNoComplex(t),new n(t,0)}},{from:"number",to:"string",convert:function convert(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function convert(t){return n||throwNoComplex(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function convert(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function convert(t){return n||throwNoComplex(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function convert(t){o||throwNoFraction(t);var e=new o(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function convert(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function convert(t){e||throwNoBignumber(t);try{return new e(t)}catch(n){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function convert(t){o||throwNoFraction(t);try{return new o(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function convert(t){n||throwNoComplex(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function convert(t){return+t}},{from:"boolean",to:"BigNumber",convert:function convert(t){return e||throwNoBignumber(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function convert(t){return o||throwNoFraction(t),new o(+t)}},{from:"boolean",to:"string",convert:function convert(t){return String(t)}},{from:"Array",to:"Matrix",convert:function convert(t){return r||function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function convert(t){return t.valueOf()}}],a}));function throwNoBignumber(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var I="number";function isNegativeNumber(t){return t<0}function isPositiveNumber(t){return t>0}function isZeroNumber(t){return 0===t}function isNaNNumber(t){return Number.isNaN(t)}isNegativeNumber.signature=I,isPositiveNumber.signature=I,isZeroNumber.signature=I,isNaNNumber.signature=I;function nearlyEqual_nearlyEqual(t,e,n){if(null===n||void 0===n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}var O=factory_factory("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config,r=e("equalScalar",{"boolean, boolean":function booleanBoolean(t,e){return t===e},"number, number":function numberNumber(t,e){return nearlyEqual(t,e,n.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.eq(e)||nearlyEqual_nearlyEqual(t,e,n.epsilon)},"Fraction, Fraction":function FractionFraction(t,e){return t.equals(e)},"Complex, Complex":function ComplexComplex(t,e){return function complexEquals(t,e,n){return nearlyEqual(t.re,e.re,n)&&nearlyEqual(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function UnitUnit(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return r(t.value,e.value)}});return r})),F=(factory_factory("equalScalar",["typed","config"],(function(t){var e=t.typed,n=t.config;return e("equalScalar",{"number, number":function numberNumber(t,e){return nearlyEqual(t,e,n.epsilon)}})})),"number, number");function absNumber(t){return Math.abs(t)}function addNumber(t,e){return t+e}function multiplyNumber(t,e){return t*e}function unaryMinusNumber(t){return-t}function unaryPlusNumber(t){return t}function cbrtNumber(t){return f(t)}function ceilNumber(t){return Math.ceil(t)}function cubeNumber(t){return t*t*t}function expNumber(t){return Math.exp(t)}function expm1Number(t){return p(t)}function gcdNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}function lcmNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,r=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(r/t)}function logNumber(t){return Math.log(t)}function log10Number(t){return c(t)}function log2Number(t){return l(t)}function modNumber(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function nthRootNumber(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function signNumber(t){return u(t)}function squareNumber(t){return t*t}function xgcdNumber(t,e){var n,r,i,o=0,a=1,s=1,u=0;if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=t-(r=Math.floor(t/e))*e,n=o,o=a-r*o,a=n,n=s,s=u-r*s,u=n,t=e,e=i;return t<0?[-t,-a,-u]:[t,t?a:0,u]}function powNumber(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function roundNumber(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(toFixed(t,e))}absNumber.signature="number",addNumber.signature=F,multiplyNumber.signature=F,unaryMinusNumber.signature="number",unaryPlusNumber.signature="number",cbrtNumber.signature="number",ceilNumber.signature="number",cubeNumber.signature="number",expNumber.signature="number",expm1Number.signature="number",gcdNumber.signature=F,lcmNumber.signature=F,logNumber.signature="number",log10Number.signature="number",log2Number.signature="number",modNumber.signature=F,nthRootNumber.signature=F,signNumber.signature="number",squareNumber.signature="number",xgcdNumber.signature=F,powNumber.signature=F,roundNumber.signature=F;var N=factory_factory("multiplyScalar",["typed"],(function(t){var e=(0,t.typed)("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function ComplexComplex(t,e){return t.mul(e)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.times(e)},"Fraction, Fraction":function FractionFraction(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function numberFractionBigNumberComplexUnit(t,n){var r=n.clone();return r.value=null===r.value?r._normalize(t):e(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function UnitNumberFractionBigNumberComplex(t,n){var r=t.clone();return r.value=null===r.value?r._normalize(n):e(r.value,n),r},"Unit, Unit":function UnitUnit(t,e){return t.multiply(e)}});return e}));var B="number, number";function bitAndNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitAnd");return t&e}function bitNotNumber(t){if(!number_isInteger(t))throw new Error("Integer expected in function bitNot");return~t}function bitOrNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitOr");return t|e}function bitXorNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitXor");return t^e}function leftShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function leftShift");return t<<e}function rightArithShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function rightLogShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}bitAndNumber.signature=B,bitNotNumber.signature="number",bitOrNumber.signature=B,bitXorNumber.signature=B,leftShiftNumber.signature=B,rightArithShiftNumber.signature=B,rightLogShiftNumber.signature=B;function notNumber(t){return!t}function orNumber(t,e){return!(!t&&!e)}function xorNumber(t,e){return!!t!==!!e}function andNumber(t,e){return!(!t||!e)}notNumber.signature="number",orNumber.signature="number, number",xorNumber.signature="number, number",andNumber.signature="number, number";Math.pow(2,53);function acoshNumber(t){return h(t)}function acotNumber(t){return Math.atan(1/t)}function acothNumber(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function acscNumber(t){return Math.asin(1/t)}function acschNumber(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function asecNumber(t){return Math.acos(1/t)}function asechNumber(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function asinhNumber(t){return g(t)}function atanhNumber(t){return y(t)}function cotNumber(t){return 1/Math.tan(t)}function cothNumber(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function cscNumber(t){return 1/Math.sin(t)}function cschNumber(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*u(t)}function secNumber(t){return 1/Math.cos(t)}function sechNumber(t){return 2/(Math.exp(t)+Math.exp(-t))}function sinhNumber(t){return m(t)}acoshNumber.signature="number",acotNumber.signature="number",acothNumber.signature="number",acscNumber.signature="number",acschNumber.signature="number",asecNumber.signature="number",asechNumber.signature="number",asinhNumber.signature="number",atanhNumber.signature="number",cotNumber.signature="number",cothNumber.signature="number",cscNumber.signature="number",cschNumber.signature="number",secNumber.signature="number",sechNumber.signature="number",sinhNumber.signature="number";function product_product(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return product_product(t,n)*product_product(n+1,e)}function combinationsNumber(t,e){if(!number_isInteger(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!number_isInteger(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var n=t-e;return e<n?product_product(n+1,t)/product_product(1,e):product_product(e+1,t)/product_product(1,n)}combinationsNumber.signature="number, number";n(307);!function(){var t={}}();var U=factory_factory("addScalar",["typed"],(function(t){var e=(0,t.typed)("addScalar",{"number, number":addNumber,"Complex, Complex":function ComplexComplex(t,e){return t.add(e)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.plus(e)},"Fraction, Fraction":function FractionFraction(t,e){return t.add(e)},"Unit, Unit":function UnitUnit(t,n){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(n))throw new Error("Units do not match");var r=t.clone();return r.value=e(r.value,n.value),r.fixPrefix=!1,r}});return e}));var z=factory_factory("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,n=t.equalScalar,r=t.Matrix;function SparseMatrix(t,e){if(!(this instanceof SparseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!isString(e))throw new Error("Invalid datatype: "+e);if(isMatrix(t))!function _createFromMatrix(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?clone(e._values):void 0,t._index=clone(e._index),t._ptr=clone(e._ptr),t._size=clone(e._size),t._datatype=n||e._datatype):_createFromArray(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&i(t.index)&&i(t.ptr)&&i(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(i(t))_createFromArray(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+typeOf(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function _createFromArray(t,r,o){t._values=[],t._index=[],t._ptr=[],t._datatype=o;var a=r.length,s=0,u=n,l=0;if(isString(o)&&(u=e.find(n,[o,o])||n,l=e.convert(0,o)),a>0){var c=0;do{t._ptr.push(t._index.length);for(var f=0;f<a;f++){var p=r[f];if(i(p)){if(0===c&&s<p.length&&(s=p.length),c<p.length){var d=p[c];u(d,l)||(t._values.push(d),t._index.push(f))}}else 0===c&&s<1&&(s=1),u(p,l)||(t._values.push(p),t._index.push(f))}c++}while(c<s)}t._ptr.push(t._index.length),t._size=[a,s]}function _getsubset(t,e){if(!isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,i,o,a=e.size();if(a.length!==t._size.length)throw new DimensionError(a.length,t._size.length);var s=e.min(),u=e.max();for(n=0,r=t._size.length;n<r;n++)validateIndex(s[n],t._size[n]),validateIndex(u[n],t._size[n]);var l=t._values,c=t._index,f=t._ptr,p=e.dimension(0),d=e.dimension(1),h=[],g=[];p.forEach((function(t,e){g[t]=e[0],h[t]=!0}));var y=l?[]:void 0,m=[],v=[];return d.forEach((function(t){for(v.push(m.length),i=f[t],o=f[t+1];i<o;i++)n=c[i],!0===h[n]&&(m.push(g[n]),y&&y.push(l[i]))})),v.push(m.length),new SparseMatrix({values:y,index:m,ptr:v,size:a,datatype:t._datatype})}function _setsubset(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(isMatrix(n)?(i=n.size(),n=n.toArray()):i=arraySize(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new DimensionError(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=unsqueeze(n,o.length,u,i)}if(!deepStrictEqual(o,i))throw new DimensionError(o,i,">");for(var l=e.min()[0],c=e.min()[1],f=i[0],p=i[1],d=0;d<f;d++)for(var h=0;h<p;h++){var g=n[d][h];t.set([d+l,h+c],g,r)}}return t}function _getValueIndex(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function _insert(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function _resize(t,r,i,o){var a=o||0,s=n,u=0;isString(t._datatype)&&(s=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,c,f,p=!s(a,u),d=t._size[0],h=t._size[1];if(i>h){for(c=h;c<i;c++)if(t._ptr[c]=t._values.length,p)for(l=0;l<d;l++)t._values.push(a),t._index.push(l);t._ptr[i]=t._values.length}else i<h&&(t._ptr.splice(i+1,h-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(h=i,r>d){if(p){var g=0;for(c=0;c<h;c++){t._ptr[c]=t._ptr[c]+g,f=t._ptr[c+1]+g;var y=0;for(l=d;l<r;l++,y++)t._values.splice(f+y,0,a),t._index.splice(f+y,0,l),g++}t._ptr[h]=t._values.length}}else if(r<d){var m=0;for(c=0;c<h;c++){t._ptr[c]=t._ptr[c]-m;var v=t._ptr[c],_=t._ptr[c+1]-m;for(f=v;f<_;f++)(l=t._index[f])>r-1&&(t._values.splice(f,1),t._index.splice(f,1),m++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function _toArray(t,e,n,r,i){var o,a,s=r[0],u=r[1],l=[];for(o=0;o<s;o++)for(l[o]=[],a=0;a<u;a++)l[o][a]=0;for(a=0;a<u;a++)for(var c=n[a],f=n[a+1],p=c;p<f;p++)l[o=e[p]][a]=t?i?clone(t[p]):t[p]:1;return l}return SparseMatrix.prototype=new r,SparseMatrix.prototype.createSparseMatrix=function(t,e){return new SparseMatrix(t,e)},SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(t,e){return new SparseMatrix(t,e)},SparseMatrix.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},SparseMatrix.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return _getsubset(this,t);case 2:case 3:return _setsubset(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(t){if(!i(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];validateIndex(e,this._size[0]),validateIndex(n,this._size[1]);var r=_getValueIndex(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},SparseMatrix.prototype.set=function(t,r,o){if(!i(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=t[0],s=t[1],u=this._size[0],l=this._size[1],c=n,f=0;isString(this._datatype)&&(c=e.find(n,[this._datatype,this._datatype])||n,f=e.convert(0,this._datatype)),(a>u-1||s>l-1)&&(_resize(this,Math.max(a+1,u),Math.max(s+1,l),o),u=this._size[0],l=this._size[1]),validateIndex(a,u),validateIndex(s,l);var p=_getValueIndex(a,this._ptr[s],this._ptr[s+1],this._index);return p<this._ptr[s+1]&&this._index[p]===a?c(r,f)?function _remove(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(p,s,this._values,this._index,this._ptr):this._values[p]=r:_insert(p,a,s,r,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(t,e,n){if(!i(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach((function(e){if(!isNumber(e)||!number_isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(t)+")")})),_resize(n?this.clone():this,t[0],t[1],e)},SparseMatrix.prototype.reshape=function(t,e){if(!i(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!isNumber(e)||!number_isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(t)+")")})),this._size[0]*this._size[1]!==t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],o=0;o<n._ptr.length;o++)for(var a=0;a<n._ptr[o+1]-n._ptr[o];a++)r.push(o);for(var s=n._values.slice(),u=n._index.slice(),l=0;l<n._index.length;l++){var c=u[l],f=r[l],p=c*n._size[1]+f;r[l]=p%t[1],u[l]=Math.floor(p/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var d=0;d<n._ptr.length;d++)n._ptr[d]=0;for(var h=0;h<s.length;h++){var g=u[h],y=r[h],m=s[h];_insert(_getValueIndex(g,n._ptr[y],n._ptr[y+1],n._index),g,y,m,n._values,n._index,n._ptr)}return n},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?clone(this._values):void 0,index:clone(this._index),ptr:clone(this._ptr),size:clone(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function _map(t,r,i,o,a,s,u){var l=[],c=[],f=[],p=n,d=0;isString(t._datatype)&&(p=e.find(n,[t._datatype,t._datatype])||n,d=e.convert(0,t._datatype));for(var h=function invoke(t,e,n){t=s(t,e,n),p(t,d)||(l.push(t),c.push(e))},g=o;g<=a;g++){f.push(l.length);var y=t._ptr[g],m=t._ptr[g+1];if(u)for(var v=y;v<m;v++){var _=t._index[v];_>=r&&_<=i&&h(t._values[v],_-r,g-o)}else{for(var b={},S=y;S<m;S++){var E=t._index[S];b[E]=t._values[S]}for(var x=r;x<=i;x++){var w=x in b?b[x]:0;h(w,x-r,g-o)}}}return f.push(l.length),new SparseMatrix({values:l,index:c,ptr:f,size:[i-r+1,a-o+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function invoke(e,n,r){return t(e,[n,r],i)}),r)},SparseMatrix.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(e)for(var s=o;s<a;s++){var u=this._index[s];t(this._values[s],[u,i],this)}else{for(var l={},c=o;c<a;c++){l[this._index[c]]=this._values[c]}for(var f=0;f<n;f++){t(f in l?l[f]:0,[f,i],this)}}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+string_format(e,t)+" x "+string_format(n,t)+"] density: "+string_format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++){i+="\n    ("+string_format(this._index[u],t)+", "+string_format(o,t)+") ==> "+(this._values?string_format(this._values[u],t):"X")}return i},SparseMatrix.prototype.toString=function(){return string_format(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(t){if(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var l=e;l<i&&a.length<o;l++)for(var c=this._ptr[l],f=this._ptr[l+1],p=c;p<f;p++){var d=this._index[p];if(d===l-e+n){a.push(this._values[p]),s[a.length-1]=d-n;break}}return u.push(a.length),new SparseMatrix({values:a,index:s,ptr:u,size:[o,1]})},SparseMatrix.fromJSON=function(t){return new SparseMatrix(t)},SparseMatrix.diagonal=function(t,r,o,a,s){if(!i(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(isBigNumber(o)&&(o=o.toNumber()),!isNumber(o)||!number_isInteger(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var u=n,l=0;isString(s)&&(u=e.find(n,[s,s])||n,l=e.convert(0,s));var c,f=o>0?o:0,p=o<0?-o:0,d=t[0],h=t[1],g=Math.min(d-p,h-f);if(i(r)){if(r.length!==g)throw new Error("Invalid value array length");c=function _value(t){return r[t]}}else if(isMatrix(r)){var y=r.size();if(1!==y.length||y[0]!==g)throw new Error("Invalid matrix length");c=function _value(t){return r.get([t])}}else c=function _value(){return r};for(var m=[],v=[],_=[],b=0;b<h;b++){_.push(m.length);var S=b-f;if(S>=0&&S<g){var E=c(S);u(E,l)||(v.push(S+p),m.push(E))}}return _.push(m.length),new SparseMatrix({values:m,index:v,ptr:_,size:[d,h]})},SparseMatrix.prototype.swapRows=function(t,e){if(!isNumber(t)||!number_isInteger(t)||!isNumber(e)||!number_isInteger(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(t,this._size[0]),validateIndex(e,this._size[0]),SparseMatrix._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},SparseMatrix._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],l=_getValueIndex(t,s,u,i),c=_getValueIndex(e,s,u,i);if(l<u&&c<u&&i[l]===t&&i[c]===e){if(r){var f=r[l];r[l]=r[c],r[c]=f}}else if(l<u&&i[l]===t&&(c>=u||i[c]!==e)){var p=r?r[l]:void 0;i.splice(c,0,e),r&&r.splice(c,0,p),i.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}else if(c<u&&i[c]===e&&(l>=u||i[l]!==t)){var d=r?r[c]:void 0;i.splice(l,0,t),r&&r.splice(l,0,d),i.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}}},SparseMatrix}),{isClass:!0}),j=factory_factory("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=(t.Matrix,t.DenseMatrix),r=t.SparseMatrix;return e("matrix",{"":function _(){return _create([])},string:function string(t){return _create([],t)},"string, string":function stringString(t,e){return _create([],t,e)},Array:function Array(t){return _create(t)},Matrix:function Matrix(t){return _create(t,t.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(t,e,i){if("dense"===e||"default"===e||void 0===e)return new n(t,i);if("sparse"===e)return new r(t,i);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),V=factory_factory("algorithm14",["typed"],(function(t){var e=t.typed;return function algorithm14(t,n,r,i){var o,a=t._data,s=t._size,u=t._datatype,l=r;"string"===typeof u&&(o=u,n=e.convert(n,o),l=e.find(r,[o,o]));var c=s.length>0?function _iterate(t,e,n,r,i,o,a){var s=[];if(e===n.length-1)for(var u=0;u<r;u++)s[u]=a?t(o,i[u]):t(i[u],o);else for(var l=0;l<r;l++)s[l]=_iterate(t,e+1,n,n[e+1],i[l],o,a);return s}(l,0,s,s[0],a,n,i):[];return t.createDenseMatrix({data:c,size:clone(s),datatype:o})}})),G=factory_factory("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function algorithm11(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=l[0],d=l[1],h=n,g=0,y=i;"string"===typeof c&&(f=c,h=e.find(n,[f,f]),g=e.convert(0,f),r=e.convert(r,f),y=e.find(i,[f,f]));for(var m=[],v=[],_=[],b=t.createSparseMatrix({values:m,index:v,ptr:_,size:[p,d],datatype:f}),S=0;S<d;S++){_[S]=v.length;for(var E=u[S],x=u[S+1],w=E;w<x;w++){var T=s[w],P=o?y(r,a[w]):y(a[w],r);h(P,g)||(v.push(T),m.push(P))}}return _[d]=v.length,b}}));factory_factory("unequal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("unequal",{"any, any":function anyAny(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})}));var W=factory_factory("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.multiplyScalar,o=t.equalScalar,a=G({typed:e,equalScalar:o}),s=V({typed:e}),u=e("multiply",extend({"Array, Array":function ArrayArray(t,e){_validateMatrixDimensions(arraySize(t),arraySize(e));var r=u(n(t),n(e));return isMatrix(r)?r.valueOf():r},"Matrix, Matrix":function MatrixMatrix(t,n){var o=t.size(),a=n.size();return _validateMatrixDimensions(o,a),1===o.length?1===a.length?function _multiplyVectorVector(t,n,o){if(0===o)throw new Error("Cannot multiply two empty vectors");var a,s=t._data,u=t._datatype,l=n._data,c=n._datatype,f=r,p=i;u&&c&&u===c&&"string"===typeof u&&(a=u,f=e.find(r,[a,a]),p=e.find(i,[a,a]));for(var d=p(s[0],l[0]),h=1;h<o;h++)d=f(d,p(s[h],l[h]));return d}(t,n,o[0]):function _multiplyVectorMatrix(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function _multiplyVectorDenseMatrix(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,f=n._datatype,p=s[0],d=c[1],h=r,g=i;u&&f&&u===f&&"string"===typeof u&&(o=u,h=e.find(r,[o,o]),g=e.find(i,[o,o]));for(var y=[],m=0;m<d;m++){for(var v=g(a[0],l[0][m]),_=1;_<p;_++)v=h(v,g(a[_],l[_][m]));y[m]=v}return t.createDenseMatrix({data:y,size:[d],datatype:o})}(t,n)}(t,n):1===a.length?l(t,n):c(t,n)},"Matrix, Array":function MatrixArray(t,e){return u(t,n(e))},"Array, Matrix":function ArrayMatrix(t,e){return u(n(t,e.storage()),e)},"SparseMatrix, any":function SparseMatrixAny(t,e){return a(t,e,i,!1)},"DenseMatrix, any":function DenseMatrixAny(t,e){return s(t,e,i,!1)},"any, SparseMatrix":function anySparseMatrix(t,e){return a(e,t,i,!0)},"any, DenseMatrix":function anyDenseMatrix(t,e){return s(e,t,i,!0)},"Array, any":function ArrayAny(t,e){return s(n(t),e,i,!1).valueOf()},"any, Array":function anyArray(t,e){return s(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function anyAnyAny(t,e,n){for(var r=u(t,e),i=0;i<n.length;i++)r=u(r,n[i]);return r}},i.signatures));function _validateMatrixDimensions(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function _multiplyDenseMatrixVector(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._datatype,f=s[0],p=s[1],d=r,h=i;u&&c&&u===c&&"string"===typeof u&&(o=u,d=e.find(r,[o,o]),h=e.find(i,[o,o]));for(var g=[],y=0;y<f;y++){for(var m=a[y],v=h(m[0],l[0]),_=1;_<p;_++)v=d(v,h(m[_],l[_]));g[y]=v}return t.createDenseMatrix({data:g,size:[f],datatype:o})},"SparseMatrix, any":function _multiplySparseMatrixVector(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,p=n._datatype,d=t._size[0],h=n._size[0],g=[],y=[],m=[],v=r,_=i,b=o,S=0;l&&p&&l===p&&"string"===typeof l&&(c=l,v=e.find(r,[c,c]),_=e.find(i,[c,c]),b=e.find(o,[c,c]),S=e.convert(0,c));var E=[],x=[];m[0]=0;for(var w=0;w<h;w++){var T=f[w];if(!b(T,S))for(var P=u[w],k=u[w+1],C=P;C<k;C++){var D=s[C];x[D]?E[D]=v(E[D],_(T,a[C])):(x[D]=!0,y.push(D),E[D]=_(T,a[C]))}}for(var A=y.length,R=0;R<A;R++){var M=y[R];g[R]=E[M]}return m[1]=y.length,t.createSparseMatrix({values:g,index:y,ptr:m,size:[d,1],datatype:c})}}),c=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function _multiplyDenseMatrixDenseMatrix(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,f=n._datatype,p=s[0],d=s[1],h=c[1],g=r,y=i;u&&f&&u===f&&"string"===typeof u&&(o=u,g=e.find(r,[o,o]),y=e.find(i,[o,o]));for(var m=[],v=0;v<p;v++){var _=a[v];m[v]=[];for(var b=0;b<h;b++){for(var S=y(_[0],l[0][b]),E=1;E<d;E++)S=g(S,y(_[E],l[E][b]));m[v][b]=S}}return t.createDenseMatrix({data:m,size:[p,h],datatype:o})},"DenseMatrix, SparseMatrix":function _multiplyDenseMatrixSparseMatrix(t,n){var a=t._data,s=t._size,u=t._datatype,l=n._values,c=n._index,f=n._ptr,p=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,g=s[0],y=p[1],m=r,v=i,_=o,b=0;u&&d&&u===d&&"string"===typeof u&&(h=u,m=e.find(r,[h,h]),v=e.find(i,[h,h]),_=e.find(o,[h,h]),b=e.convert(0,h));for(var S=[],E=[],x=[],w=n.createSparseMatrix({values:S,index:E,ptr:x,size:[g,y],datatype:h}),T=0;T<y;T++){x[T]=E.length;var P=f[T],k=f[T+1];if(k>P)for(var C=0,D=0;D<g;D++){for(var A=D+1,R=void 0,M=P;M<k;M++){var L=c[M];C!==A?(R=v(a[D][L],l[M]),C=A):R=m(R,v(a[D][L],l[M]))}C!==A||_(R,b)||(E.push(D),S.push(R))}}return x[y]=E.length,w},"SparseMatrix, DenseMatrix":function _multiplySparseMatrixDenseMatrix(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,p=n._datatype,d=t._size[0],h=n._size[0],g=n._size[1],y=r,m=i,v=o,_=0;l&&p&&l===p&&"string"===typeof l&&(c=l,y=e.find(r,[c,c]),m=e.find(i,[c,c]),v=e.find(o,[c,c]),_=e.convert(0,c));for(var b=[],S=[],E=[],x=t.createSparseMatrix({values:b,index:S,ptr:E,size:[d,g],datatype:c}),w=[],T=[],P=0;P<g;P++){E[P]=S.length;for(var k=P+1,C=0;C<h;C++){var D=f[C][P];if(!v(D,_))for(var A=u[C],R=u[C+1],M=A;M<R;M++){var L=s[M];T[L]!==k?(T[L]=k,S.push(L),w[L]=m(D,a[M])):w[L]=y(w[L],m(D,a[M]))}}for(var I=E[P],O=S.length,F=I;F<O;F++){var N=S[F];b[F]=w[N]}}return E[g]=S.length,x},"SparseMatrix, SparseMatrix":function _multiplySparseMatrixSparseMatrix(t,n){var o,a=t._values,s=t._index,u=t._ptr,l=t._datatype,c=n._values,f=n._index,p=n._ptr,d=n._datatype,h=t._size[0],g=n._size[1],y=a&&c,m=r,v=i;l&&d&&l===d&&"string"===typeof l&&(o=l,m=e.find(r,[o,o]),v=e.find(i,[o,o]));for(var _,b,S,E,x,w,T,P,k=y?[]:void 0,C=[],D=[],A=t.createSparseMatrix({values:k,index:C,ptr:D,size:[h,g],datatype:o}),R=y?[]:void 0,M=[],L=0;L<g;L++){D[L]=C.length;var I=L+1;for(x=p[L],w=p[L+1],E=x;E<w;E++)if(P=f[E],y)for(b=u[P],S=u[P+1],_=b;_<S;_++)T=s[_],M[T]!==I?(M[T]=I,C.push(T),R[T]=v(c[E],a[_])):R[T]=m(R[T],v(c[E],a[_]));else for(b=u[P],S=u[P+1],_=b;_<S;_++)T=s[_],M[T]!==I&&(M[T]=I,C.push(T));if(y)for(var O=D[L],F=C.length,N=O;N<F;N++){var B=C[N];k[N]=R[B]}}return D[g]=C.length,A}});return u}));function ArgumentsError(t,e,n,r){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0;n(134);function gammaNumber(t){var e;if(number_isInteger(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:product_product(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*gammaNumber(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,o=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=H[0];for(var a=1;a<H.length;++a)e+=H[a]/(t+a);var s=t+q+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}gammaNumber.signature="number";var q=4.7421875,H=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];factory_factory("equal",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e("equal",{"any, any":function anyAny(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));n.d(e,"a",(function(){return it}));var K=b({}),Y=w({config:s}),X=T({}),Z=C({}),$=D({Matrix:X}),J=L({BigNumber:Y,Complex:K,DenseMatrix:$,Fraction:Z}),Q=O({config:s,typed:J}),tt=N({typed:J}),et=U({typed:J}),nt=z({Matrix:X,equalScalar:Q,typed:J}),rt=j({DenseMatrix:$,Matrix:X,SparseMatrix:nt,typed:J}),it=W({addScalar:et,equalScalar:Q,matrix:rt,multiplyScalar:tt,typed:J})}]]);
//# sourceMappingURL=2.7c9f4819.chunk.js.map