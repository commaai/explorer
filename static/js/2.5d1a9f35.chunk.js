(this.webpackJsonpexplorer=this.webpackJsonpexplorer||[]).push([[2],[function(t,e,r){"use strict";t.exports=r(546)},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){t.exports=r(961)()},function(t,e,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function classNames(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var i=classNames.apply(null,n);i&&t.push(i)}else if("object"===o)for(var a in n)r.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):void 0===(n=function(){return classNames}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){"use strict";var n=r(61),o=r.n(n);r.d(e,"a",(function(){return o.a}));var i=r(149),a=r.n(i);r.d(e,"b",(function(){return a.a}));var s=r(376),u=r.n(s);r.d(e,"c",(function(){return u.a}));var l=r(377),c=r.n(l);r.d(e,"d",(function(){return c.a}));var p=r(378),f=r.n(p);r.d(e,"e",(function(){return f.a}));var d=r(379),h=r.n(d);r.d(e,"f",(function(){return h.a}));var m=r(255),y=r.n(m);r.d(e,"g",(function(){return y.a}));var g=r(31),v=r.n(g);r.d(e,"h",(function(){return v.a}));var _=r(63),b=r.n(_);r.d(e,"i",(function(){return b.a}));var S=r(380),x=r.n(S);r.d(e,"j",(function(){return x.a}));var w=r(96),E=r.n(w);r.d(e,"k",(function(){return E.a}));var P=r(146),C=r.n(P);r.d(e,"l",(function(){return C.a}));var T=r(124),D=r.n(T);r.d(e,"m",(function(){return D.a}));var M=r(209),A=r.n(M);r.d(e,"n",(function(){return A.a}));var R=r(18),L=r.n(R);r.d(e,"o",(function(){return L.a}))},function(t,e,r){"use strict";function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,"a",(function(){return _assertThisInitialized}))},function(t,e,r){"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return _defineProperty}))},function(t,e,r){t.exports=r(580)},function(t,e,r){"use strict";var n=r(340),o=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.sheetsManager=void 0;var i=o(r(13)),a=o(r(36)),s=o(r(37)),u=o(r(38)),l=o(r(40)),c=o(r(41)),p=o(r(11)),f=o(r(0)),d=o(r(9)),h=(o(r(64)),o(r(203))),m=(o(r(246)),o(r(185)),o(r(701))),y=r(343),g=n(r(342)),v=o(r(349)),_=o(r(350)),b=o(r(250)),S=o(r(251)),x=o(r(353)),w=o(r(745)),E=o(r(746)),P=(0,y.create)((0,v.default)()),C=(0,x.default)(),T=-1e11,D=new Map;e.sheetsManager=D;var M,A={};function getDefaultTheme(){return M||(M=(0,b.default)())}var R=function withStyles(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n=e.withTheme,o=void 0!==n&&n,y=e.flip,v=void 0===y?null:y,b=e.name,x=(0,p.default)(e,["withTheme","flip","name"]),M=(0,w.default)(t),R=M.themingEnabled||o||"string"===typeof b;T+=1,M.options.index=T;var L=function(t){function WithStyles(t,e){var r;(0,s.default)(this,WithStyles),(r=(0,l.default)(this,(WithStyles.__proto__||Object.getPrototypeOf(WithStyles)).call(this,t,e))).disableStylesGeneration=!1,r.jss=null,r.sheetOptions=null,r.sheetsManager=D,r.stylesCreatorSaved=null,r.theme=null,r.unsubscribeId=null,r.state={},r.jss=r.context[g.jss]||P;var n=r.context.muiThemeProviderOptions;return n&&(n.sheetsManager&&(r.sheetsManager=n.sheetsManager),r.disableStylesGeneration=n.disableStylesGeneration),r.stylesCreatorSaved=M,r.sheetOptions=(0,a.default)({generateClassName:C},r.context[g.sheetOptions]),r.theme=R?S.default.initial(e)||getDefaultTheme():A,r.attach(r.theme),r.cacheClasses={value:null,lastProp:null,lastJSS:{}},r}return(0,c.default)(WithStyles,t),(0,u.default)(WithStyles,[{key:"componentDidMount",value:function componentDidMount(){var t=this;R&&(this.unsubscribeId=S.default.subscribe(this.context,(function(e){var r=t.theme;t.theme=e,t.attach(t.theme),t.setState({},(function(){t.detach(r)}))})))}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.detach(this.theme),null!==this.unsubscribeId&&S.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function getClasses(){var t=!1;if(!this.disableStylesGeneration){var e=this.sheetsManager.get(this.stylesCreatorSaved).get(this.theme);e.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=e.sheet.classes,t=!0)}return this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,t=!0),t&&(this.cacheClasses.value=(0,_.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:r,noBase:this.disableStylesGeneration})),this.cacheClasses.value}},{key:"attach",value:function attach(t){if(!this.disableStylesGeneration){var e=this.stylesCreatorSaved,r=this.sheetsManager.get(e);r||(r=new Map,this.sheetsManager.set(e,r));var n=r.get(t);if(n||(n={refs:0,sheet:null},r.set(t,n)),0===n.refs){var o=e.create(t,b),i=b;0;var s=this.jss.createStyleSheet(o,(0,a.default)({meta:i,classNamePrefix:i,flip:"boolean"===typeof v?v:"rtl"===t.direction,link:!1},this.sheetOptions,e.options,{name:b},x));n.sheet=s,s.attach();var u=this.context[g.sheetsRegistry];u&&u.add(s)}n.refs+=1}}},{key:"detach",value:function detach(t){if(!this.disableStylesGeneration){var e=this.stylesCreatorSaved,r=this.sheetsManager.get(e),n=r.get(t);if(n.refs-=1,0===n.refs){r.delete(t),this.jss.removeStyleSheet(n.sheet);var o=this.context[g.sheetsRegistry];o&&o.remove(n.sheet)}}}},{key:"render",value:function render(){var t=this.props,e=(t.classes,t.innerRef),n=(0,p.default)(t,["classes","innerRef"]),a=(0,E.default)({theme:this.theme,name:b});return o&&(a.theme=this.theme),f.default.createElement(r,(0,i.default)({},a,{classes:this.getClasses(),ref:e},n))}}]),WithStyles}(f.default.Component);return L.propTypes={},L.contextTypes=(0,a.default)({muiThemeProviderOptions:d.default.object},m.default,R?S.default.contextTypes:{}),(0,h.default)(L,r),L}};e.default=R},function(t,e,r){t.exports=r(697)()},function(t,e,r){t.exports=r(584)()},function(t,e){t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}},,function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(216));e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}},function(t,e,r){"use strict";function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}r.d(e,"a",(function(){return _createClass}))},function(t,e,r){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return _classCallCheck}))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(699))},function(t,e,r){"use strict";function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,"a",(function(){return _getPrototypeOf}))},function(t,e,r){"use strict";function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}r.d(e,"a",(function(){return _inherits}))},function(t,e,r){"use strict";function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function _typeof(t){return _typeof2(t)}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var n=r(5);function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!==typeof e?Object(n.a)(t):e}r.d(e,"a",(function(){return _possibleConstructorReturn}))},function(t,e,r){t.exports=r(910)()},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createGenerateClassName",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(e,"createMuiTheme",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(e,"jssPreset",{enumerable:!0,get:function get(){return a.default}}),Object.defineProperty(e,"MuiThemeProvider",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(e,"createStyles",{enumerable:!0,get:function get(){return u.default}}),Object.defineProperty(e,"withStyles",{enumerable:!0,get:function get(){return l.default}}),Object.defineProperty(e,"withTheme",{enumerable:!0,get:function get(){return c.default}});var o=n(r(353)),i=n(r(250)),a=n(r(349)),s=n(r(896)),u=n(r(69)),l=n(r(8)),c=n(r(147))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";t.exports=function warning(){}},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(384));e.default=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}()},function(t,e,r){"use strict";function asyncGeneratorStep(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(l){return void r(l)}s.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function _next(t){asyncGeneratorStep(i,n,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(i,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}r.d(e,"a",(function(){return _asyncToGenerator}))},function(t,e){t.exports=function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){t.exports=r(551)()},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(362));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"===typeof e?"undefined":(0,n.default)(e))&&"function"!==typeof e?t:e}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(899))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toDate(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);var r=e||{},s=void 0===r.additionalDigits?i:Number(r.additionalDigits);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date)return new Date(t.getTime());if("string"!==typeof t)return new Date(t);var u=function splitDateString(t){var e,r={},n=t.split(a.dateTimeDelimeter);a.plainTime.test(n[0])?(r.date=null,e=n[0]):(r.date=n[0],e=n[1]);if(e){var o=a.timezone.exec(e);o?(r.time=e.replace(o[1],""),r.timezone=o[1]):r.time=e}return r}(t),l=function parseYear(t,e){var r,n=a.YYY[e],o=a.YYYYY[e];if(r=a.YYYY.exec(t)||o.exec(t)){var i=r[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(r=a.YY.exec(t)||n.exec(t)){var s=r[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}(u.date,s),c=l.year,p=function parseDate(t,e){if(null===e)return null;var r,n,o,i;if(0===t.length)return(n=new Date(0)).setUTCFullYear(e),n;if(r=a.MM.exec(t))return n=new Date(0),o=parseInt(r[1],10)-1,n.setUTCFullYear(e,o),n;if(r=a.DDD.exec(t)){n=new Date(0);var s=parseInt(r[1],10);return n.setUTCFullYear(e,0,s),n}if(r=a.MMDD.exec(t)){n=new Date(0),o=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return n.setUTCFullYear(e,o,u),n}if(r=a.Www.exec(t))return i=parseInt(r[1],10)-1,dayOfISOYear(e,i);if(r=a.WwwD.exec(t)){i=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return dayOfISOYear(e,i,l)}return null}(l.restDateString,c);if(p){var f,d=p.getTime(),h=0;return u.time&&(h=function parseTime(t){var e,r,i;if(e=a.HH.exec(t))return(r=parseFloat(e[1].replace(",",".")))%24*n;if(e=a.HHMM.exec(t))return r=parseInt(e[1],10),i=parseFloat(e[2].replace(",",".")),r%24*n+i*o;if(e=a.HHMMSS.exec(t)){r=parseInt(e[1],10),i=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return r%24*n+i*o+1e3*s}return null}(u.time)),u.timezone?f=function parseTimezone(t){var e,r;if(e=a.timezoneZ.exec(t))return 0;if(e=a.timezoneHH.exec(t))return r=60*parseInt(e[2],10),"+"===e[1]?-r:r;if(e=a.timezoneHHMM.exec(t))return r=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-r:r;return 0}(u.timezone):(f=new Date(d+h).getTimezoneOffset(),f=new Date(d+h+f*o).getTimezoneOffset()),new Date(d+h+f*o)}return new Date(t)};var n=36e5,o=6e4,i=2,a={dateTimeDelimeter:/[T ]/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function dayOfISOYear(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var o=7*e+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+o),n}t.exports=e.default},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r(86),i=r.n(o),a=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),s=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});function createProvider(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",r=arguments[1]||e+"Subscription",o=function(t){function Provider(r,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Provider);var o=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,r,n));return o[e]=r.store,o}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Provider,t),Provider.prototype.getChildContext=function getChildContext(){var t;return(t={})[e]=this[e],t[r]=null,t},Provider.prototype.render=function render(){return n.Children.only(this.props.children)},Provider}(n.Component);return o.propTypes={store:s.isRequired,children:i.a.element.isRequired},o.childContextTypes=((t={})[e]=s.isRequired,t[r]=a,t),o}var u=createProvider(),l=r(203),c=r.n(l),p=r(49),f=r.n(p);var d=null,h={notify:function notify(){}};var m=function(){function Subscription(t,e,r){!function Subscription_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Subscription),this.store=t,this.parentSub=e,this.onStateChange=r,this.unsubscribe=null,this.listeners=h}return Subscription.prototype.addNestedSub=function addNestedSub(t){return this.trySubscribe(),this.listeners.subscribe(t)},Subscription.prototype.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()},Subscription.prototype.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)},Subscription.prototype.trySubscribe=function trySubscribe(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function createListenerCollection(){var t=[],e=[];return{clear:function clear(){e=d,t=d},notify:function notify(){for(var r=t=e,n=0;n<r.length;n++)r[n]()},get:function get(){return e},subscribe:function subscribe(r){var n=!0;return e===t&&(e=t.slice()),e.push(r),function unsubscribe(){n&&t!==d&&(n=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(r),1))}}}}())},Subscription.prototype.tryUnsubscribe=function tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=h)},Subscription}(),y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var g=0,v={};function noop(){}function connectAdvanced(t){var e,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,u=void 0===i?function(t){return"ConnectAdvanced("+t+")"}:i,l=o.methodName,p=void 0===l?"connectAdvanced":l,d=o.renderCountProp,h=void 0===d?void 0:d,_=o.shouldHandleStateChanges,b=void 0===_||_,S=o.storeKey,x=void 0===S?"store":S,w=o.withRef,E=void 0!==w&&w,P=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),C=x+"Subscription",T=g++,D=((e={})[x]=s,e[C]=a,e),M=((r={})[C]=a,r);return function wrapWithConnect(e){f()("function"==typeof e,"You must pass a component to the function returned by "+p+". Instead received "+JSON.stringify(e));var r=e.displayName||e.name||"Component",o=u(r),i=y({},P,{getDisplayName:u,methodName:p,renderCountProp:h,shouldHandleStateChanges:b,storeKey:x,withRef:E,displayName:o,wrappedComponentName:r,WrappedComponent:e}),a=function(r){function Connect(t,e){!function connectAdvanced_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Connect);var n=function connectAdvanced_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,r.call(this,t,e));return n.version=T,n.state={},n.renderCount=0,n.store=t[x]||e[x],n.propsMode=Boolean(t[x]),n.setWrappedInstance=n.setWrappedInstance.bind(n),f()(n.store,'Could not find "'+x+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+x+'" as a prop to "'+o+'".'),n.initSelector(),n.initSubscription(),n}return function connectAdvanced_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Connect,r),Connect.prototype.getChildContext=function getChildContext(){var t,e=this.propsMode?null:this.subscription;return(t={})[C]=e||this.context[C],t},Connect.prototype.componentDidMount=function componentDidMount(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},Connect.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){this.selector.run(t)},Connect.prototype.shouldComponentUpdate=function shouldComponentUpdate(){return this.selector.shouldComponentUpdate},Connect.prototype.componentWillUnmount=function componentWillUnmount(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=noop,this.store=null,this.selector.run=noop,this.selector.shouldComponentUpdate=!1},Connect.prototype.getWrappedInstance=function getWrappedInstance(){return f()(E,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},Connect.prototype.setWrappedInstance=function setWrappedInstance(t){this.wrappedInstance=t},Connect.prototype.initSelector=function initSelector(){var e=t(this.store.dispatch,i);this.selector=function makeSelectorStateful(t,e){var r={run:function runComponentSelector(n){try{var o=t(e.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(i){r.shouldComponentUpdate=!0,r.error=i}}};return r}(e,this.store),this.selector.run(this.props)},Connect.prototype.initSubscription=function initSubscription(){if(b){var t=(this.propsMode?this.props:this.context)[C];this.subscription=new m(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},Connect.prototype.onStateChange=function onStateChange(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(v)):this.notifyNestedSubs()},Connect.prototype.notifyNestedSubsOnComponentDidUpdate=function notifyNestedSubsOnComponentDidUpdate(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},Connect.prototype.isSubscribed=function isSubscribed(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},Connect.prototype.addExtraProps=function addExtraProps(t){if(!E&&!h&&(!this.propsMode||!this.subscription))return t;var e=y({},t);return E&&(e.ref=this.setWrappedInstance),h&&(e[h]=this.renderCount++),this.propsMode&&this.subscription&&(e[C]=this.subscription),e},Connect.prototype.render=function render(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(n.createElement)(e,this.addExtraProps(t.props))},Connect}(n.Component);return a.WrappedComponent=e,a.displayName=o,a.childContextTypes=M,a.contextTypes=D,a.propTypes=D,c()(a,e)}}var _=Object.prototype.hasOwnProperty;function is(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function shallowEqual(t,e){if(is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!_.call(e,r[o])||!is(t[r[o]],e[r[o]]))return!1;return!0}var b=r(95),S=r(429),x="object"==typeof self&&self&&self.Object===Object&&self,w=(S.a||x||Function("return this")()).Symbol,E=Object.prototype;E.hasOwnProperty,E.toString,w&&w.toStringTag;Object.prototype.toString;w&&w.toStringTag;(function overArg(t,e){return function(r){return t(e(r))}})(Object.getPrototypeOf,Object);var P=Function.prototype,C=Object.prototype,T=P.toString;C.hasOwnProperty,T.call(Object);function wrapMapToPropsConstant(t){return function initConstantSelector(e,r){var n=t(e,r);function constantSelector(){return n}return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function wrapMapToPropsFunc(t,e){return function initProxySelector(e,r){r.displayName;var n=function mapToPropsProxy(t,e){return n.dependsOnOwnProps?n.mapToProps(t,e):n.mapToProps(t)};return n.dependsOnOwnProps=!0,n.mapToProps=function detectFactoryAndVerify(e,r){n.mapToProps=t,n.dependsOnOwnProps=getDependsOnOwnProps(t);var o=n(e,r);return"function"===typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=getDependsOnOwnProps(o),o=n(e,r)),o},n}}var D=[function whenMapDispatchToPropsIsFunction(t){return"function"===typeof t?wrapMapToPropsFunc(t):void 0},function whenMapDispatchToPropsIsMissing(t){return t?void 0:wrapMapToPropsConstant((function(t){return{dispatch:t}}))},function whenMapDispatchToPropsIsObject(t){return t&&"object"===typeof t?wrapMapToPropsConstant((function(e){return Object(b.b)(t,e)})):void 0}];var M=[function whenMapStateToPropsIsFunction(t){return"function"===typeof t?wrapMapToPropsFunc(t):void 0},function whenMapStateToPropsIsMissing(t){return t?void 0:wrapMapToPropsConstant((function(){return{}}))}],A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function defaultMergeProps(t,e,r){return A({},r,t,e)}var R=[function whenMergePropsIsFunction(t){return"function"===typeof t?function wrapMergePropsFunc(t){return function initMergePropsProxy(e,r){r.displayName;var n=r.pure,o=r.areMergedPropsEqual,i=!1,a=void 0;return function mergePropsProxy(e,r,s){var u=t(e,r,s);return i?n&&o(u,a)||(a=u):(i=!0,a=u),a}}}(t):void 0},function whenMergePropsIsOmitted(t){return t?void 0:function(){return defaultMergeProps}}];function impureFinalPropsSelectorFactory(t,e,r,n){return function impureFinalPropsSelector(o,i){return r(t(o,i),e(n,i),i)}}function pureFinalPropsSelectorFactory(t,e,r,n,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,s=o.areStatePropsEqual,u=!1,l=void 0,c=void 0,p=void 0,f=void 0,d=void 0;function handleSubsequentCalls(o,u){var h=!a(u,c),m=!i(o,l);return l=o,c=u,h&&m?function handleNewPropsAndNewState(){return p=t(l,c),e.dependsOnOwnProps&&(f=e(n,c)),d=r(p,f,c)}():h?function handleNewProps(){return t.dependsOnOwnProps&&(p=t(l,c)),e.dependsOnOwnProps&&(f=e(n,c)),d=r(p,f,c)}():m?function handleNewState(){var e=t(l,c),n=!s(e,p);return p=e,n&&(d=r(p,f,c)),d}():d}return function pureFinalPropsSelector(o,i){return u?handleSubsequentCalls(o,i):function handleFirstCall(o,i){return p=t(l=o,c=i),f=e(n,c),d=r(p,f,c),u=!0,d}(o,i)}}function finalPropsSelectorFactory(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,o=e.initMergeProps,i=function selectorFactory_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(t,i),s=n(t,i),u=o(t,i);return(i.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(a,s,u,t,i)}var L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function connect_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function match(t,e,r){for(var n=e.length-1;n>=0;n--){var o=e[n](t);if(o)return o}return function(e,n){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function strictEqual(t,e){return t===e}var I=function createConnect(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,r=void 0===e?connectAdvanced:e,n=t.mapStateToPropsFactories,o=void 0===n?M:n,i=t.mapDispatchToPropsFactories,a=void 0===i?D:i,s=t.mergePropsFactories,u=void 0===s?R:s,l=t.selectorFactory,c=void 0===l?finalPropsSelectorFactory:l;return function connect(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,l=void 0===s||s,p=i.areStatesEqual,f=void 0===p?strictEqual:p,d=i.areOwnPropsEqual,h=void 0===d?shallowEqual:d,m=i.areStatePropsEqual,y=void 0===m?shallowEqual:m,g=i.areMergedPropsEqual,v=void 0===g?shallowEqual:g,_=connect_objectWithoutProperties(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=match(t,o,"mapStateToProps"),S=match(e,a,"mapDispatchToProps"),x=match(n,u,"mergeProps");return r(c,L({methodName:"connect",getDisplayName:function getDisplayName(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:b,initMapDispatchToProps:S,initMergeProps:x,pure:l,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:v},_))}}();r.d(e,"Provider",(function(){return u})),r.d(e,"createProvider",(function(){return createProvider})),r.d(e,"connectAdvanced",(function(){return connectAdvanced})),r.d(e,"connect",(function(){return I}))},function(t,e){function ap(t,e){return function(){var r=[].slice.call(arguments),n=t.slice();return n.push.apply(n,r),e.apply(this,n)}}function pa(t,e){return function(){var r=[].slice.call(arguments);return r.push.apply(r,t),e.apply(this,r)}}function partial(t){return ap([].slice.call(arguments,1),t)}function partialRight(t){return pa([].slice.call(arguments,1),t)}(e=t.exports=ap).pa=pa,e.apa=function apa(t,e,r){return function(){return r.apply(this,t.concat.apply(t,arguments).concat(e))}},e.partial=partial,e.partialRight=partialRight,e.curry=function curry(t){return partial(partial,t)},e.curryRight=function curryRight(t){return partial(partialRight,t)}},function(t,e,r){var n=r(28);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){n(t,e,r[e])}))}return t}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){(function(n){function load(){var t;try{t=e.storage.debug}catch(r){}return!t&&"undefined"!==typeof n&&"env"in n&&(t=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).DEBUG),t}(e=t.exports=r(856)).log=function log(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function formatArgs(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,n)},e.save=function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(r){}},e.load=load,e.useColors=function useColors(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(load())}).call(this,r(114))},function(t,e,r){var n=r(245),o=r(184);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?o(t):e}},function(t,e,r){var n=r(700);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){"use strict";var n=r(183),o=r(678),i=r(679),a=r(680);n.optional=o,n.array=i,n.parent=a,t.exports=n},function(t,e,r){"use strict";e.__esModule=!0;var n=_interopRequireDefault(r(816)),o=_interopRequireDefault(r(820)),i=_interopRequireDefault(r(362));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,r){t.exports={default:r(945),__esModule:!0}},function(t,e,r){t.exports=r(952)()},function(t,e,r){"use strict";var n=_interopRequireWildcard(r(622)),o=_interopRequireWildcard(r(650)),i=_interopRequireWildcard(r(655)),a=_interopRequireWildcard(r(656)),s=_interopRequireWildcard(r(657)),u=_interopRequireDefault(r(660)),l=_interopRequireDefault(r(182)),c=_interopRequireWildcard(r(661)),p=_interopRequireWildcard(r(666)),f=_interopRequireWildcard(r(667)),d=_interopRequireWildcard(r(102)),h=_interopRequireWildcard(r(668)),m=_interopRequireDefault(r(669));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}t.exports={account:n,annotations:o,athena:i,auth:a,devices:s,derived:u.default,drives:c,errorHandler:l.default,leaderboard:p,raw:f,request:d,vehicles:h,video:m.default}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){"use strict";t.exports=function invariant(t,e,r,n,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(79),a=r(59),s=r(142),u=r(372),l=r(862),c=r(143),p=r(78),f=n.default("capnp:pointer");f("load");var d=function(){function Pointer(t,e,r){if(void 0===r&&(r=o.MAX_DEPTH),0===r)throw new Error(i.format(p.PTR_DEPTH_LIMIT_EXCEEDED,this));if(trackPointerAllocation(t.message,this),e<0||e>t.byteLength)throw new Error(i.format(p.PTR_OFFSET_OUT_OF_BOUNDS,e));this._capnp={compositeList:!1,depthLimit:r},this.segment=t,this.byteOffset=e,f("new %s",this)}return Pointer.prototype.toString=function(){return i.format("Pointer_%d@%a,%s,limit:%x",this.segment.id,this.byteOffset,dump(this),this._capnp.depthLimit)},Pointer.adopt=adopt,Pointer.copyFrom=copyFrom,Pointer.disown=disown,Pointer.dump=dump,Pointer.isNull=isNull,Pointer._capnp={displayName:"Pointer"},Pointer}();function adopt(t,e){t._moveTo(e)}function disown(t){return new u.Orphan(t)}function dump(t){return i.bufferToHex(t.segment.buffer.slice(t.byteOffset,t.byteOffset+8))}function getListElementByteLength(t){switch(t){case a.ListElementSize.BIT:return NaN;case a.ListElementSize.BYTE:return 1;case a.ListElementSize.BYTE_2:return 2;case a.ListElementSize.BYTE_4:return 4;case a.ListElementSize.BYTE_8:case a.ListElementSize.POINTER:return 8;case a.ListElementSize.COMPOSITE:return NaN;case a.ListElementSize.VOID:return 0;default:throw new Error(i.format(p.PTR_INVALID_LIST_SIZE,t))}}function add(t,e){return new d(e.segment,e.byteOffset+t,e._capnp.depthLimit)}function copyFrom(t,e){if(e.segment!==t.segment||e.byteOffset!==t.byteOffset){if(erase(e),!isNull(t))switch(getTargetPointerType(t)){case c.PointerType.STRUCT:copyFromStruct(t,e);break;case c.PointerType.LIST:copyFromList(t,e);break;default:throw new Error(i.format(p.PTR_INVALID_POINTER_TYPE,getTargetPointerType(e)))}}else f("ignoring copy operation from identical pointer %s",t)}function erase(t){if(!isNull(t)){var e;switch(getTargetPointerType(t)){case c.PointerType.STRUCT:var r=getTargetStructSize(t);(e=getContent(t)).segment.fillZeroWords(e.byteOffset,r.dataByteLength/8);for(var n=0;n<r.pointerLength;n++)erase(add(8*n,e));break;case c.PointerType.LIST:var o=getTargetListElementSize(t),u=getTargetListLength(t),l=i.padToWord(u*getListElementByteLength(o));if(e=getContent(t),o===a.ListElementSize.POINTER){for(n=0;n<u;n++)erase(new d(e.segment,e.byteOffset+8*n,t._capnp.depthLimit-1));break}if(o===a.ListElementSize.COMPOSITE){var f=add(-8,e),h=getStructSize(f),m=s.getByteLength(h);l=getOffsetWords(f),e.segment.setWordZero(e.byteOffset-8);for(n=0;n<u;n++)for(var y=0;y<h.pointerLength;y++)erase(new d(e.segment,e.byteOffset+n*m+8*y,t._capnp.depthLimit-1))}e.segment.fillZeroWords(e.byteOffset,l);break;case c.PointerType.OTHER:break;default:throw new Error(i.format(p.PTR_INVALID_POINTER_TYPE,getTargetPointerType(t)))}erasePointer(t)}}function erasePointer(t){if(getPointerType(t)===c.PointerType.FAR){var e=followFar(t);isDoubleFar(t)&&e.segment.setWordZero(e.byteOffset+8),e.segment.setWordZero(e.byteOffset)}t.segment.setWordZero(t.byteOffset)}function followFar(t){var e=t.segment.message.getSegment(t.segment.getUint32(t.byteOffset+4)),r=t.segment.getUint32(t.byteOffset)>>>3;return new d(e,8*r,t._capnp.depthLimit-1)}function followFars(t){if(getPointerType(t)===c.PointerType.FAR){var e=followFar(t);return isDoubleFar(t)&&(e.byteOffset+=8),e}return t}function getContent(t,e){var r;if(isDoubleFar(t)){var n=followFar(t);r=new d(t.segment.message.getSegment(getFarSegmentId(n)),8*getOffsetWords(n))}else{var o=followFars(t);r=new d(o.segment,o.byteOffset+8+8*getOffsetWords(o))}return function isCompositeList(t){return getTargetPointerType(t)===c.PointerType.LIST&&getTargetListElementSize(t)===a.ListElementSize.COMPOSITE}(t)&&(r.byteOffset+=8),e||void 0===t._capnp.compositeIndex||(r.byteOffset-=8,r.byteOffset+=8+t._capnp.compositeIndex*s.getByteLength(s.padToWord(getStructSize(r)))),r}function getFarSegmentId(t){return t.segment.getUint32(t.byteOffset+4)}function getListElementSize(t){return t.segment.getUint32(t.byteOffset+4)&o.LIST_SIZE_MASK}function getListLength(t){return t.segment.getUint32(t.byteOffset+4)>>>3}function getOffsetWords(t){var e=t.segment.getInt32(t.byteOffset);return 2&e?e>>3:e>>2}function getPointerType(t){return t.segment.getUint32(t.byteOffset)&o.POINTER_TYPE_MASK}function getStructDataWords(t){return t.segment.getUint16(t.byteOffset+4)}function getStructPointerLength(t){return t.segment.getUint16(t.byteOffset+6)}function getStructSize(t){return new s.ObjectSize(8*getStructDataWords(t),getStructPointerLength(t))}function getTargetCompositeListTag(t){var e=getContent(t);return e.byteOffset-=8,e}function getTargetCompositeListSize(t){return getStructSize(getTargetCompositeListTag(t))}function getTargetListElementSize(t){return getListElementSize(followFars(t))}function getTargetListLength(t){var e=followFars(t);return getListElementSize(e)===a.ListElementSize.COMPOSITE?getOffsetWords(getTargetCompositeListTag(t)):getListLength(e)}function getTargetPointerType(t){var e=getPointerType(followFars(t));if(e===c.PointerType.FAR)throw new Error(i.format(p.PTR_INVALID_FAR_TARGET,t));return e}function getTargetStructSize(t){return getStructSize(followFars(t))}function initPointer(t,e,r){if(r.segment!==t){if(f("Initializing far pointer %s -> %s.",r,t),!t.hasCapacity(8)){var n=r.segment.allocate(16);return f("GAH! Initializing double-far pointer in %s from %s -> %s.",r,t,n),setFarPointer(!0,n.byteOffset/8,n.segment.id,r),setFarPointer(!1,e/8,t.id,n),n.byteOffset+=8,new l.PointerAllocationResult(n,0)}var o=t.allocate(8);if(o.segment.id!==t.id)throw new Error(p.INVARIANT_UNREACHABLE_CODE);return setFarPointer(!1,o.byteOffset/8,o.segment.id,r),new l.PointerAllocationResult(o,(e-o.byteOffset-8)/8)}return f("Initializing intra-segment pointer %s -> %a.",r,e),new l.PointerAllocationResult(r,(e-r.byteOffset-8)/8)}function isDoubleFar(t){return getPointerType(t)===c.PointerType.FAR&&0!==(t.segment.getUint32(t.byteOffset)&o.POINTER_DOUBLE_FAR_MASK)}function isNull(t){return t.segment.isWordZero(t.byteOffset)}function setFarPointer(t,e,r,n){var o=c.PointerType.FAR,i=t?1:0,a=e,s=r;n.segment.setUint32(n.byteOffset,o|i<<2|a<<3),n.segment.setUint32(n.byteOffset+4,s)}function setListPointer(t,e,r,n,o){if(void 0===n)throw new Error(p.INVARIANT_UNREACHABLE_CODE);var i=c.PointerType.LIST,u=t,l=e,f=r;if(e===a.ListElementSize.COMPOSITE){if(void 0===o)throw new TypeError(p.TYPE_COMPOSITE_SIZE_UNDEFINED);f*=s.getWordLength(o)}n.segment.setUint32(n.byteOffset,i|u<<2),n.segment.setUint32(n.byteOffset+4,l|f<<3)}function setStructPointer(t,e,r){var n=c.PointerType.STRUCT,o=t,i=s.getDataWordLength(e),a=e.pointerLength;r.segment.setUint32(r.byteOffset,n|o<<2),r.segment.setUint16(r.byteOffset+4,i),r.segment.setUint16(r.byteOffset+6,a)}function copyFromList(t,e){if(e._capnp.depthLimit<=0)throw new Error(p.PTR_DEPTH_LIMIT_EXCEEDED);var r,n,o,u=getContent(t),l=getTargetListElementSize(t),c=getTargetListLength(t);if(l===a.ListElementSize.POINTER){o=e.segment.allocate(s.getByteLength(getTargetCompositeListSize(t))*c);for(var f=0;f<c;f++){copyFrom(new d(u.segment,u.byteOffset+(f<<3),t._capnp.depthLimit-1),new d(o.segment,o.byteOffset+(f<<3),e._capnp.depthLimit-1))}}else if(l===a.ListElementSize.COMPOSITE){if(r=s.padToWord(getTargetCompositeListSize(t)),n=s.getByteLength(r),(o=e.segment.allocate(s.getByteLength(r)*c+8)).segment.copyWord(o.byteOffset,u.segment,u.byteOffset-8),r.dataByteLength>0){var h=s.getWordLength(r)*c;o.segment.copyWords(o.byteOffset+8,u.segment,u.byteOffset,h)}for(f=0;f<c;f++)for(var m=0;m<r.pointerLength;m++){var y=f*n+r.dataByteLength+(m<<3);copyFrom(new d(u.segment,u.byteOffset+y,t._capnp.depthLimit-1),new d(o.segment,o.byteOffset+y+8,e._capnp.depthLimit-1))}}else{var g=i.padToWord(l===a.ListElementSize.BIT?c+7>>>3:getListElementByteLength(l)*c);h=g>>>3;(o=e.segment.allocate(g)).segment.copyWords(o.byteOffset,u.segment,u.byteOffset,h)}var v=initPointer(o.segment,o.byteOffset,e);setListPointer(v.offsetWords,l,c,v.pointer,r)}function copyFromStruct(t,e){if(e._capnp.depthLimit<=0)throw new Error(p.PTR_DEPTH_LIMIT_EXCEEDED);var r=getContent(t),n=getTargetStructSize(t),o=s.getDataWordLength(n),i=e.segment.allocate(s.getByteLength(n));i.segment.copyWords(i.byteOffset,r.segment,r.byteOffset,o);for(var a=0;a<n.pointerLength;a++){var u=n.dataByteLength+8*a;copyFrom(new d(r.segment,r.byteOffset+u,t._capnp.depthLimit-1),new d(i.segment,i.byteOffset+u,e._capnp.depthLimit-1))}if(!e._capnp.compositeList){var l=initPointer(i.segment,i.byteOffset,e);setStructPointer(l.offsetWords,n,l.pointer)}}function trackPointerAllocation(t,e){if(t._capnp.traversalLimit-=8,t._capnp.traversalLimit<=0)throw new Error(i.format(p.PTR_TRAVERSAL_LIMIT_EXCEEDED,e))}e.Pointer=d,e.adopt=adopt,e.disown=disown,e.dump=dump,e.getListByteLength=function getListByteLength(t,e,r){switch(t){case a.ListElementSize.BIT:return i.padToWord(e+7>>>3);case a.ListElementSize.BYTE:case a.ListElementSize.BYTE_2:case a.ListElementSize.BYTE_4:case a.ListElementSize.BYTE_8:case a.ListElementSize.POINTER:case a.ListElementSize.VOID:return i.padToWord(getListElementByteLength(t)*e);case a.ListElementSize.COMPOSITE:if(void 0===r)throw new Error(i.format(p.PTR_INVALID_LIST_SIZE,NaN));return e*i.padToWord(s.getByteLength(r));default:throw new Error(p.PTR_INVALID_LIST_SIZE)}},e.getListElementByteLength=getListElementByteLength,e.add=add,e.copyFrom=copyFrom,e.erase=erase,e.erasePointer=erasePointer,e.followFar=followFar,e.followFars=followFars,e.getCapabilityId=function getCapabilityId(t){return t.segment.getUint32(t.byteOffset+4)},e.getContent=getContent,e.getFarSegmentId=getFarSegmentId,e.getListElementSize=getListElementSize,e.getListLength=getListLength,e.getOffsetWords=getOffsetWords,e.getPointerType=getPointerType,e.getStructDataWords=getStructDataWords,e.getStructPointerLength=getStructPointerLength,e.getStructSize=getStructSize,e.getTargetCompositeListTag=getTargetCompositeListTag,e.getTargetCompositeListSize=getTargetCompositeListSize,e.getTargetListElementSize=getTargetListElementSize,e.getTargetListLength=getTargetListLength,e.getTargetPointerType=getTargetPointerType,e.getTargetStructSize=getTargetStructSize,e.initPointer=initPointer,e.isDoubleFar=isDoubleFar,e.isNull=isNull,e.relocateTo=function relocateTo(t,e){var r=followFars(e),n=3&r.segment.getUint8(r.byteOffset),o=r.segment.getUint32(r.byteOffset+4);erase(t);var i=initPointer(r.segment,r.byteOffset+8+8*getOffsetWords(r),t);i.pointer.segment.setUint32(i.pointer.byteOffset,n|i.offsetWords<<2),i.pointer.segment.setUint32(i.pointer.byteOffset+4,o),erasePointer(e)},e.setFarPointer=setFarPointer,e.setInterfacePointer=function setInterfacePointer(t,e){e.segment.setUint32(e.byteOffset,c.PointerType.OTHER),e.segment.setUint32(e.byteOffset+4,t)},e.setListPointer=setListPointer,e.setStructPointer=setStructPointer,e.validate=function validate(t,e,r){if(!isNull(e)){var n=followFars(e);if((n.segment.getUint32(n.byteOffset)&o.POINTER_TYPE_MASK)!==t)throw new Error(i.format(p.PTR_WRONG_POINTER_TYPE,e,t));if(void 0!==r)if((n.segment.getUint32(n.byteOffset+4)&o.LIST_SIZE_MASK)!==r)throw new Error(i.format(p.PTR_WRONG_LIST_TYPE,e,a.ListElementSize[r]))}},e.copyFromList=copyFromList,e.copyFromStruct=copyFromStruct,e.trackPointerAllocation=trackPointerAllocation},function(t,e){function _getRequireWildcardCache(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}t.exports=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var r={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=n?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}}return r.default=t,e&&e.set(t,r),r}},function(t,e,r){"use strict";!function checkDCE(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(t){console.error(t)}}}(),t.exports=r(547)},function(t,e){var r=t.exports={version:"2.5.6"};"number"==typeof __e&&(__e=r)},function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",(function(){return __extends})),r.d(e,"__assign",(function(){return o})),r.d(e,"__rest",(function(){return __rest})),r.d(e,"__decorate",(function(){return __decorate})),r.d(e,"__param",(function(){return __param})),r.d(e,"__metadata",(function(){return __metadata})),r.d(e,"__awaiter",(function(){return __awaiter})),r.d(e,"__generator",(function(){return __generator})),r.d(e,"__exportStar",(function(){return __exportStar})),r.d(e,"__values",(function(){return __values})),r.d(e,"__read",(function(){return __read})),r.d(e,"__spread",(function(){return __spread})),r.d(e,"__spreadArrays",(function(){return __spreadArrays})),r.d(e,"__await",(function(){return __await})),r.d(e,"__asyncGenerator",(function(){return __asyncGenerator})),r.d(e,"__asyncDelegator",(function(){return __asyncDelegator})),r.d(e,"__asyncValues",(function(){return __asyncValues})),r.d(e,"__makeTemplateObject",(function(){return __makeTemplateObject})),r.d(e,"__importStar",(function(){return __importStar})),r.d(e,"__importDefault",(function(){return __importDefault}));var n=function extendStatics(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var o=function __assign(){return(o=Object.assign||function __assign(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function __decorate(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function __param(t,e){return function(r,n){e(r,n,t)}}function __metadata(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,r,n){return new(r||(r=Promise))((function(o,i){function fulfilled(t){try{step(n.next(t))}catch(e){i(e)}}function rejected(t){try{step(n.throw(t))}catch(e){i(e)}}function step(t){t.done?o(t.value):new r((function(e){e(t.value)})).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())}))}function __generator(t,e){var r,n,o,i,a={label:0,sent:function sent(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function __exportStar(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function __values(t){var e="function"===typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function next(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function __read(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n;function verb(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||resume(t,e)}))})}function resume(t,e){try{!function step(t){t.value instanceof __await?Promise.resolve(t.value.v).then(fulfill,reject):settle(i[0][2],t)}(o[t](e))}catch(r){settle(i[0][3],r)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,e){t(e),i.shift(),i.length&&resume(i[0][0],i[0][1])}}function __asyncDelegator(t){var e,r;return e={},verb("next"),verb("throw",(function(t){throw t})),verb("return"),e[Symbol.iterator]=function(){return this},e;function verb(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:__await(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=__values(t),e={},verb("next"),verb("throw"),verb("return"),e[Symbol.asyncIterator]=function(){return this},e);function verb(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function settle(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){var n=r(981),o=r(56);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?o(t):e}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e,r){var n=r(982);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.VOID=0]="VOID",t[t.BIT=1]="BIT",t[t.BYTE=2]="BYTE",t[t.BYTE_2=3]="BYTE_2",t[t.BYTE_4=4]="BYTE_4",t[t.BYTE_8=5]="BYTE_8",t[t.POINTER=6]="POINTER",t[t.COMPOSITE=7]="COMPOSITE"}(e.ListElementSize||(e.ListElementSize={})),e.ListElementOffset=[0,.125,1,2,4,8,8,NaN]},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();e.__esModule=!0;var o=r(80),i=r(80),a=r(881);e._capnpFileId="f3b1f17e25a4285b";var s=function(t){function Map_Entry(){return null!==t&&t.apply(this,arguments)||this}return n(Map_Entry,t),Map_Entry.prototype.adoptKey=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Map_Entry.prototype.disownKey=function(){return i.Struct.disown(this.getKey())},Map_Entry.prototype.getKey=function(){return i.Struct.getPointer(0,this)},Map_Entry.prototype.hasKey=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Map_Entry.prototype.setKey=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Map_Entry.prototype.adoptValue=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},Map_Entry.prototype.disownValue=function(){return i.Struct.disown(this.getValue())},Map_Entry.prototype.getValue=function(){return i.Struct.getPointer(1,this)},Map_Entry.prototype.hasValue=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},Map_Entry.prototype.setValue=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},Map_Entry.prototype.toString=function(){return"Map_Entry_"+t.prototype.toString.call(this)},Map_Entry._capnp={displayName:"Entry",id:"a5dfdd084a6eea0e",size:new i.ObjectSize(0,2)},Map_Entry}(i.Struct);e.Map_Entry=s;var u,l=function(t){function Map(){return null!==t&&t.apply(this,arguments)||this}return n(Map,t),Map.prototype.adoptEntries=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Map.prototype.disownEntries=function(){return i.Struct.disown(this.getEntries())},Map.prototype.getEntries=function(){return i.Struct.getList(0,Map._Entries,this)},Map.prototype.hasEntries=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Map.prototype.initEntries=function(t){return i.Struct.initList(0,Map._Entries,t,this)},Map.prototype.setEntries=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Map.prototype.toString=function(){return"Map_"+t.prototype.toString.call(this)},Map.Entry=s,Map._capnp={displayName:"Map",id:"f8b13ce2183eb696",size:new i.ObjectSize(0,1)},Map}(i.Struct);e.Map=l,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NEO=1]="NEO",t[t.CHFFR_ANDROID=2]="CHFFR_ANDROID",t[t.CHFFR_IOS=3]="CHFFR_IOS"}(u=e.InitData_DeviceType||(e.InitData_DeviceType={}));var c=function(t){function InitData_AndroidBuildInfo(){return null!==t&&t.apply(this,arguments)||this}return n(InitData_AndroidBuildInfo,t),InitData_AndroidBuildInfo.prototype.getBoard=function(){return i.Struct.getText(0,this)},InitData_AndroidBuildInfo.prototype.setBoard=function(t){i.Struct.setText(0,t,this)},InitData_AndroidBuildInfo.prototype.getBootloader=function(){return i.Struct.getText(1,this)},InitData_AndroidBuildInfo.prototype.setBootloader=function(t){i.Struct.setText(1,t,this)},InitData_AndroidBuildInfo.prototype.getBrand=function(){return i.Struct.getText(2,this)},InitData_AndroidBuildInfo.prototype.setBrand=function(t){i.Struct.setText(2,t,this)},InitData_AndroidBuildInfo.prototype.getDevice=function(){return i.Struct.getText(3,this)},InitData_AndroidBuildInfo.prototype.setDevice=function(t){i.Struct.setText(3,t,this)},InitData_AndroidBuildInfo.prototype.getDisplay=function(){return i.Struct.getText(4,this)},InitData_AndroidBuildInfo.prototype.setDisplay=function(t){i.Struct.setText(4,t,this)},InitData_AndroidBuildInfo.prototype.getFingerprint=function(){return i.Struct.getText(5,this)},InitData_AndroidBuildInfo.prototype.setFingerprint=function(t){i.Struct.setText(5,t,this)},InitData_AndroidBuildInfo.prototype.getHardware=function(){return i.Struct.getText(6,this)},InitData_AndroidBuildInfo.prototype.setHardware=function(t){i.Struct.setText(6,t,this)},InitData_AndroidBuildInfo.prototype.getHost=function(){return i.Struct.getText(7,this)},InitData_AndroidBuildInfo.prototype.setHost=function(t){i.Struct.setText(7,t,this)},InitData_AndroidBuildInfo.prototype.getId=function(){return i.Struct.getText(8,this)},InitData_AndroidBuildInfo.prototype.setId=function(t){i.Struct.setText(8,t,this)},InitData_AndroidBuildInfo.prototype.getManufacturer=function(){return i.Struct.getText(9,this)},InitData_AndroidBuildInfo.prototype.setManufacturer=function(t){i.Struct.setText(9,t,this)},InitData_AndroidBuildInfo.prototype.getModel=function(){return i.Struct.getText(10,this)},InitData_AndroidBuildInfo.prototype.setModel=function(t){i.Struct.setText(10,t,this)},InitData_AndroidBuildInfo.prototype.getProduct=function(){return i.Struct.getText(11,this)},InitData_AndroidBuildInfo.prototype.setProduct=function(t){i.Struct.setText(11,t,this)},InitData_AndroidBuildInfo.prototype.getRadioVersion=function(){return i.Struct.getText(12,this)},InitData_AndroidBuildInfo.prototype.setRadioVersion=function(t){i.Struct.setText(12,t,this)},InitData_AndroidBuildInfo.prototype.getSerial=function(){return i.Struct.getText(13,this)},InitData_AndroidBuildInfo.prototype.setSerial=function(t){i.Struct.setText(13,t,this)},InitData_AndroidBuildInfo.prototype.adoptSupportedAbis=function(t){i.Struct.adopt(t,i.Struct.getPointer(14,this))},InitData_AndroidBuildInfo.prototype.disownSupportedAbis=function(){return i.Struct.disown(this.getSupportedAbis())},InitData_AndroidBuildInfo.prototype.getSupportedAbis=function(){return i.Struct.getList(14,o.TextList,this)},InitData_AndroidBuildInfo.prototype.hasSupportedAbis=function(){return!i.Struct.isNull(i.Struct.getPointer(14,this))},InitData_AndroidBuildInfo.prototype.initSupportedAbis=function(t){return i.Struct.initList(14,o.TextList,t,this)},InitData_AndroidBuildInfo.prototype.setSupportedAbis=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(14,this))},InitData_AndroidBuildInfo.prototype.getTags=function(){return i.Struct.getText(15,this)},InitData_AndroidBuildInfo.prototype.setTags=function(t){i.Struct.setText(15,t,this)},InitData_AndroidBuildInfo.prototype.getTime=function(){return i.Struct.getInt64(0,this)},InitData_AndroidBuildInfo.prototype.setTime=function(t){i.Struct.setInt64(0,t,this)},InitData_AndroidBuildInfo.prototype.getType=function(){return i.Struct.getText(16,this)},InitData_AndroidBuildInfo.prototype.setType=function(t){i.Struct.setText(16,t,this)},InitData_AndroidBuildInfo.prototype.getUser=function(){return i.Struct.getText(17,this)},InitData_AndroidBuildInfo.prototype.setUser=function(t){i.Struct.setText(17,t,this)},InitData_AndroidBuildInfo.prototype.getVersionCodename=function(){return i.Struct.getText(18,this)},InitData_AndroidBuildInfo.prototype.setVersionCodename=function(t){i.Struct.setText(18,t,this)},InitData_AndroidBuildInfo.prototype.getVersionRelease=function(){return i.Struct.getText(19,this)},InitData_AndroidBuildInfo.prototype.setVersionRelease=function(t){i.Struct.setText(19,t,this)},InitData_AndroidBuildInfo.prototype.getVersionSdk=function(){return i.Struct.getInt32(8,this)},InitData_AndroidBuildInfo.prototype.setVersionSdk=function(t){i.Struct.setInt32(8,t,this)},InitData_AndroidBuildInfo.prototype.getVersionSecurityPatch=function(){return i.Struct.getText(20,this)},InitData_AndroidBuildInfo.prototype.setVersionSecurityPatch=function(t){i.Struct.setText(20,t,this)},InitData_AndroidBuildInfo.prototype.toString=function(){return"InitData_AndroidBuildInfo_"+t.prototype.toString.call(this)},InitData_AndroidBuildInfo._capnp={displayName:"AndroidBuildInfo",id:"fe2919d5c21f426c",size:new i.ObjectSize(16,21)},InitData_AndroidBuildInfo}(i.Struct);e.InitData_AndroidBuildInfo=c;var p=function(t){function InitData_AndroidSensor(){return null!==t&&t.apply(this,arguments)||this}return n(InitData_AndroidSensor,t),InitData_AndroidSensor.prototype.getId=function(){return i.Struct.getInt32(0,this)},InitData_AndroidSensor.prototype.setId=function(t){i.Struct.setInt32(0,t,this)},InitData_AndroidSensor.prototype.getName=function(){return i.Struct.getText(0,this)},InitData_AndroidSensor.prototype.setName=function(t){i.Struct.setText(0,t,this)},InitData_AndroidSensor.prototype.getVendor=function(){return i.Struct.getText(1,this)},InitData_AndroidSensor.prototype.setVendor=function(t){i.Struct.setText(1,t,this)},InitData_AndroidSensor.prototype.getVersion=function(){return i.Struct.getInt32(4,this)},InitData_AndroidSensor.prototype.setVersion=function(t){i.Struct.setInt32(4,t,this)},InitData_AndroidSensor.prototype.getHandle=function(){return i.Struct.getInt32(8,this)},InitData_AndroidSensor.prototype.setHandle=function(t){i.Struct.setInt32(8,t,this)},InitData_AndroidSensor.prototype.getType=function(){return i.Struct.getInt32(12,this)},InitData_AndroidSensor.prototype.setType=function(t){i.Struct.setInt32(12,t,this)},InitData_AndroidSensor.prototype.getMaxRange=function(){return i.Struct.getFloat32(16,this)},InitData_AndroidSensor.prototype.setMaxRange=function(t){i.Struct.setFloat32(16,t,this)},InitData_AndroidSensor.prototype.getResolution=function(){return i.Struct.getFloat32(20,this)},InitData_AndroidSensor.prototype.setResolution=function(t){i.Struct.setFloat32(20,t,this)},InitData_AndroidSensor.prototype.getPower=function(){return i.Struct.getFloat32(24,this)},InitData_AndroidSensor.prototype.setPower=function(t){i.Struct.setFloat32(24,t,this)},InitData_AndroidSensor.prototype.getMinDelay=function(){return i.Struct.getInt32(28,this)},InitData_AndroidSensor.prototype.setMinDelay=function(t){i.Struct.setInt32(28,t,this)},InitData_AndroidSensor.prototype.getFifoReservedEventCount=function(){return i.Struct.getUint32(32,this)},InitData_AndroidSensor.prototype.setFifoReservedEventCount=function(t){i.Struct.setUint32(32,t,this)},InitData_AndroidSensor.prototype.getFifoMaxEventCount=function(){return i.Struct.getUint32(36,this)},InitData_AndroidSensor.prototype.setFifoMaxEventCount=function(t){i.Struct.setUint32(36,t,this)},InitData_AndroidSensor.prototype.getStringType=function(){return i.Struct.getText(2,this)},InitData_AndroidSensor.prototype.setStringType=function(t){i.Struct.setText(2,t,this)},InitData_AndroidSensor.prototype.getMaxDelay=function(){return i.Struct.getInt32(40,this)},InitData_AndroidSensor.prototype.setMaxDelay=function(t){i.Struct.setInt32(40,t,this)},InitData_AndroidSensor.prototype.toString=function(){return"InitData_AndroidSensor_"+t.prototype.toString.call(this)},InitData_AndroidSensor._capnp={displayName:"AndroidSensor",id:"9b513b93a887dbcd",size:new i.ObjectSize(48,3)},InitData_AndroidSensor}(i.Struct);e.InitData_AndroidSensor=p;var f=function(t){function InitData_ChffrAndroidExtra(){return null!==t&&t.apply(this,arguments)||this}return n(InitData_ChffrAndroidExtra,t),InitData_ChffrAndroidExtra.prototype.adoptAllCameraCharacteristics=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},InitData_ChffrAndroidExtra.prototype.disownAllCameraCharacteristics=function(){return i.Struct.disown(this.getAllCameraCharacteristics())},InitData_ChffrAndroidExtra.prototype.getAllCameraCharacteristics=function(){return i.Struct.getStruct(0,l,this)},InitData_ChffrAndroidExtra.prototype.hasAllCameraCharacteristics=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},InitData_ChffrAndroidExtra.prototype.initAllCameraCharacteristics=function(){return i.Struct.initStructAt(0,l,this)},InitData_ChffrAndroidExtra.prototype.setAllCameraCharacteristics=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},InitData_ChffrAndroidExtra.prototype.toString=function(){return"InitData_ChffrAndroidExtra_"+t.prototype.toString.call(this)},InitData_ChffrAndroidExtra._capnp={displayName:"ChffrAndroidExtra",id:"9cfb5d53a4f615a5",size:new i.ObjectSize(0,1)},InitData_ChffrAndroidExtra}(i.Struct);e.InitData_ChffrAndroidExtra=f;var d=function(t){function InitData_IosBuildInfo(){return null!==t&&t.apply(this,arguments)||this}return n(InitData_IosBuildInfo,t),InitData_IosBuildInfo.prototype.getAppVersion=function(){return i.Struct.getText(0,this)},InitData_IosBuildInfo.prototype.setAppVersion=function(t){i.Struct.setText(0,t,this)},InitData_IosBuildInfo.prototype.getAppBuild=function(){return i.Struct.getUint32(0,this)},InitData_IosBuildInfo.prototype.setAppBuild=function(t){i.Struct.setUint32(0,t,this)},InitData_IosBuildInfo.prototype.getOsVersion=function(){return i.Struct.getText(1,this)},InitData_IosBuildInfo.prototype.setOsVersion=function(t){i.Struct.setText(1,t,this)},InitData_IosBuildInfo.prototype.getDeviceModel=function(){return i.Struct.getText(2,this)},InitData_IosBuildInfo.prototype.setDeviceModel=function(t){i.Struct.setText(2,t,this)},InitData_IosBuildInfo.prototype.toString=function(){return"InitData_IosBuildInfo_"+t.prototype.toString.call(this)},InitData_IosBuildInfo._capnp={displayName:"IosBuildInfo",id:"d97e3b28239f5580",size:new i.ObjectSize(8,3)},InitData_IosBuildInfo}(i.Struct);e.InitData_IosBuildInfo=d;var h=function(t){function InitData_PandaInfo(){return null!==t&&t.apply(this,arguments)||this}return n(InitData_PandaInfo,t),InitData_PandaInfo.prototype.getHasPanda=function(){return i.Struct.getBit(0,this)},InitData_PandaInfo.prototype.setHasPanda=function(t){i.Struct.setBit(0,t,this)},InitData_PandaInfo.prototype.getDongleId=function(){return i.Struct.getText(0,this)},InitData_PandaInfo.prototype.setDongleId=function(t){i.Struct.setText(0,t,this)},InitData_PandaInfo.prototype.getStVersion=function(){return i.Struct.getText(1,this)},InitData_PandaInfo.prototype.setStVersion=function(t){i.Struct.setText(1,t,this)},InitData_PandaInfo.prototype.getEspVersion=function(){return i.Struct.getText(2,this)},InitData_PandaInfo.prototype.setEspVersion=function(t){i.Struct.setText(2,t,this)},InitData_PandaInfo.prototype.toString=function(){return"InitData_PandaInfo_"+t.prototype.toString.call(this)},InitData_PandaInfo._capnp={displayName:"PandaInfo",id:"e673e8725cdff0ad",size:new i.ObjectSize(8,3)},InitData_PandaInfo}(i.Struct);e.InitData_PandaInfo=h;var m,y=function(t){function InitData(){return null!==t&&t.apply(this,arguments)||this}return n(InitData,t),InitData.prototype.adoptKernelArgs=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},InitData.prototype.disownKernelArgs=function(){return i.Struct.disown(this.getKernelArgs())},InitData.prototype.getKernelArgs=function(){return i.Struct.getList(0,o.TextList,this)},InitData.prototype.hasKernelArgs=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},InitData.prototype.initKernelArgs=function(t){return i.Struct.initList(0,o.TextList,t,this)},InitData.prototype.setKernelArgs=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},InitData.prototype.getKernelVersion=function(){return i.Struct.getText(12,this)},InitData.prototype.setKernelVersion=function(t){i.Struct.setText(12,t,this)},InitData.prototype.getGctx=function(){return i.Struct.getText(1,this)},InitData.prototype.setGctx=function(t){i.Struct.setText(1,t,this)},InitData.prototype.getDongleId=function(){return i.Struct.getText(2,this)},InitData.prototype.setDongleId=function(t){i.Struct.setText(2,t,this)},InitData.prototype.getDeviceType=function(){return i.Struct.getUint16(0,this)},InitData.prototype.setDeviceType=function(t){i.Struct.setUint16(0,t,this)},InitData.prototype.getVersion=function(){return i.Struct.getText(3,this)},InitData.prototype.setVersion=function(t){i.Struct.setText(3,t,this)},InitData.prototype.getGitCommit=function(){return i.Struct.getText(8,this)},InitData.prototype.setGitCommit=function(t){i.Struct.setText(8,t,this)},InitData.prototype.getGitBranch=function(){return i.Struct.getText(9,this)},InitData.prototype.setGitBranch=function(t){i.Struct.setText(9,t,this)},InitData.prototype.getGitRemote=function(){return i.Struct.getText(10,this)},InitData.prototype.setGitRemote=function(t){i.Struct.setText(10,t,this)},InitData.prototype.adoptAndroidBuildInfo=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},InitData.prototype.disownAndroidBuildInfo=function(){return i.Struct.disown(this.getAndroidBuildInfo())},InitData.prototype.getAndroidBuildInfo=function(){return i.Struct.getStruct(4,c,this)},InitData.prototype.hasAndroidBuildInfo=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},InitData.prototype.initAndroidBuildInfo=function(){return i.Struct.initStructAt(4,c,this)},InitData.prototype.setAndroidBuildInfo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},InitData.prototype.adoptAndroidSensors=function(t){i.Struct.adopt(t,i.Struct.getPointer(5,this))},InitData.prototype.disownAndroidSensors=function(){return i.Struct.disown(this.getAndroidSensors())},InitData.prototype.getAndroidSensors=function(){return i.Struct.getList(5,InitData._AndroidSensors,this)},InitData.prototype.hasAndroidSensors=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},InitData.prototype.initAndroidSensors=function(t){return i.Struct.initList(5,InitData._AndroidSensors,t,this)},InitData.prototype.setAndroidSensors=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},InitData.prototype.adoptAndroidProperties=function(t){i.Struct.adopt(t,i.Struct.getPointer(13,this))},InitData.prototype.disownAndroidProperties=function(){return i.Struct.disown(this.getAndroidProperties())},InitData.prototype.getAndroidProperties=function(){return i.Struct.getStruct(13,l,this)},InitData.prototype.hasAndroidProperties=function(){return!i.Struct.isNull(i.Struct.getPointer(13,this))},InitData.prototype.initAndroidProperties=function(){return i.Struct.initStructAt(13,l,this)},InitData.prototype.setAndroidProperties=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(13,this))},InitData.prototype.adoptChffrAndroidExtra=function(t){i.Struct.adopt(t,i.Struct.getPointer(6,this))},InitData.prototype.disownChffrAndroidExtra=function(){return i.Struct.disown(this.getChffrAndroidExtra())},InitData.prototype.getChffrAndroidExtra=function(){return i.Struct.getStruct(6,f,this)},InitData.prototype.hasChffrAndroidExtra=function(){return!i.Struct.isNull(i.Struct.getPointer(6,this))},InitData.prototype.initChffrAndroidExtra=function(){return i.Struct.initStructAt(6,f,this)},InitData.prototype.setChffrAndroidExtra=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(6,this))},InitData.prototype.adoptIosBuildInfo=function(t){i.Struct.adopt(t,i.Struct.getPointer(11,this))},InitData.prototype.disownIosBuildInfo=function(){return i.Struct.disown(this.getIosBuildInfo())},InitData.prototype.getIosBuildInfo=function(){return i.Struct.getStruct(11,d,this)},InitData.prototype.hasIosBuildInfo=function(){return!i.Struct.isNull(i.Struct.getPointer(11,this))},InitData.prototype.initIosBuildInfo=function(){return i.Struct.initStructAt(11,d,this)},InitData.prototype.setIosBuildInfo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(11,this))},InitData.prototype.adoptPandaInfo=function(t){i.Struct.adopt(t,i.Struct.getPointer(7,this))},InitData.prototype.disownPandaInfo=function(){return i.Struct.disown(this.getPandaInfo())},InitData.prototype.getPandaInfo=function(){return i.Struct.getStruct(7,h,this)},InitData.prototype.hasPandaInfo=function(){return!i.Struct.isNull(i.Struct.getPointer(7,this))},InitData.prototype.initPandaInfo=function(){return i.Struct.initStructAt(7,h,this)},InitData.prototype.setPandaInfo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(7,this))},InitData.prototype.getDirty=function(){return i.Struct.getBit(16,this)},InitData.prototype.setDirty=function(t){i.Struct.setBit(16,t,this)},InitData.prototype.getPassive=function(){return i.Struct.getBit(17,this)},InitData.prototype.setPassive=function(t){i.Struct.setBit(17,t,this)},InitData.prototype.adoptParams=function(t){i.Struct.adopt(t,i.Struct.getPointer(14,this))},InitData.prototype.disownParams=function(){return i.Struct.disown(this.getParams())},InitData.prototype.getParams=function(){return i.Struct.getStruct(14,l,this)},InitData.prototype.hasParams=function(){return!i.Struct.isNull(i.Struct.getPointer(14,this))},InitData.prototype.initParams=function(){return i.Struct.initStructAt(14,l,this)},InitData.prototype.setParams=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(14,this))},InitData.prototype.toString=function(){return"InitData_"+t.prototype.toString.call(this)},InitData.DeviceType=u,InitData.AndroidBuildInfo=c,InitData.AndroidSensor=p,InitData.ChffrAndroidExtra=f,InitData.IosBuildInfo=d,InitData.PandaInfo=h,InitData._capnp={displayName:"InitData",id:"e71008caeb3fb65c",size:new i.ObjectSize(8,15)},InitData}(i.Struct);e.InitData=y,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NEO=1]="NEO",t[t.CHFFR_ANDROID=2]="CHFFR_ANDROID"}(m=e.FrameData_FrameType||(e.FrameData_FrameType={}));var g=function(t){function FrameData_AndroidCaptureResult(){return null!==t&&t.apply(this,arguments)||this}return n(FrameData_AndroidCaptureResult,t),FrameData_AndroidCaptureResult.prototype.getSensitivity=function(){return i.Struct.getInt32(0,this)},FrameData_AndroidCaptureResult.prototype.setSensitivity=function(t){i.Struct.setInt32(0,t,this)},FrameData_AndroidCaptureResult.prototype.getFrameDuration=function(){return i.Struct.getInt64(8,this)},FrameData_AndroidCaptureResult.prototype.setFrameDuration=function(t){i.Struct.setInt64(8,t,this)},FrameData_AndroidCaptureResult.prototype.getExposureTime=function(){return i.Struct.getInt64(16,this)},FrameData_AndroidCaptureResult.prototype.setExposureTime=function(t){i.Struct.setInt64(16,t,this)},FrameData_AndroidCaptureResult.prototype.getRollingShutterSkew=function(){return i.Struct.getUint64(24,this)},FrameData_AndroidCaptureResult.prototype.setRollingShutterSkew=function(t){i.Struct.setUint64(24,t,this)},FrameData_AndroidCaptureResult.prototype.adoptColorCorrectionTransform=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},FrameData_AndroidCaptureResult.prototype.disownColorCorrectionTransform=function(){return i.Struct.disown(this.getColorCorrectionTransform())},FrameData_AndroidCaptureResult.prototype.getColorCorrectionTransform=function(){return i.Struct.getList(0,o.Int32List,this)},FrameData_AndroidCaptureResult.prototype.hasColorCorrectionTransform=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},FrameData_AndroidCaptureResult.prototype.initColorCorrectionTransform=function(t){return i.Struct.initList(0,o.Int32List,t,this)},FrameData_AndroidCaptureResult.prototype.setColorCorrectionTransform=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},FrameData_AndroidCaptureResult.prototype.adoptColorCorrectionGains=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},FrameData_AndroidCaptureResult.prototype.disownColorCorrectionGains=function(){return i.Struct.disown(this.getColorCorrectionGains())},FrameData_AndroidCaptureResult.prototype.getColorCorrectionGains=function(){return i.Struct.getList(1,o.Float32List,this)},FrameData_AndroidCaptureResult.prototype.hasColorCorrectionGains=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},FrameData_AndroidCaptureResult.prototype.initColorCorrectionGains=function(t){return i.Struct.initList(1,o.Float32List,t,this)},FrameData_AndroidCaptureResult.prototype.setColorCorrectionGains=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},FrameData_AndroidCaptureResult.prototype.getDisplayRotation=function(){return i.Struct.getInt8(4,this)},FrameData_AndroidCaptureResult.prototype.setDisplayRotation=function(t){i.Struct.setInt8(4,t,this)},FrameData_AndroidCaptureResult.prototype.toString=function(){return"FrameData_AndroidCaptureResult_"+t.prototype.toString.call(this)},FrameData_AndroidCaptureResult._capnp={displayName:"AndroidCaptureResult",id:"bcc3efbac41d2048",size:new i.ObjectSize(32,2)},FrameData_AndroidCaptureResult}(i.Struct);e.FrameData_AndroidCaptureResult=g;var v=function(t){function FrameData(){return null!==t&&t.apply(this,arguments)||this}return n(FrameData,t),FrameData.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},FrameData.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},FrameData.prototype.getEncodeId=function(){return i.Struct.getUint32(4,this)},FrameData.prototype.setEncodeId=function(t){i.Struct.setUint32(4,t,this)},FrameData.prototype.getTimestampEof=function(){return i.Struct.getUint64(8,this)},FrameData.prototype.setTimestampEof=function(t){i.Struct.setUint64(8,t,this)},FrameData.prototype.getFrameLength=function(){return i.Struct.getInt32(16,this)},FrameData.prototype.setFrameLength=function(t){i.Struct.setInt32(16,t,this)},FrameData.prototype.getIntegLines=function(){return i.Struct.getInt32(20,this)},FrameData.prototype.setIntegLines=function(t){i.Struct.setInt32(20,t,this)},FrameData.prototype.getGlobalGain=function(){return i.Struct.getInt32(24,this)},FrameData.prototype.setGlobalGain=function(t){i.Struct.setInt32(24,t,this)},FrameData.prototype.getLensPos=function(){return i.Struct.getInt32(40,this)},FrameData.prototype.setLensPos=function(t){i.Struct.setInt32(40,t,this)},FrameData.prototype.getLensSag=function(){return i.Struct.getFloat32(44,this)},FrameData.prototype.setLensSag=function(t){i.Struct.setFloat32(44,t,this)},FrameData.prototype.getLensErr=function(){return i.Struct.getFloat32(48,this)},FrameData.prototype.setLensErr=function(t){i.Struct.setFloat32(48,t,this)},FrameData.prototype.getLensTruePos=function(){return i.Struct.getFloat32(52,this)},FrameData.prototype.setLensTruePos=function(t){i.Struct.setFloat32(52,t,this)},FrameData.prototype.adoptImage=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},FrameData.prototype.disownImage=function(){return i.Struct.disown(this.getImage())},FrameData.prototype.getImage=function(){return i.Struct.getData(0,this)},FrameData.prototype.hasImage=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},FrameData.prototype.initImage=function(t){return i.Struct.initData(0,t,this)},FrameData.prototype.setImage=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},FrameData.prototype.getFrameType=function(){return i.Struct.getUint16(28,this)},FrameData.prototype.setFrameType=function(t){i.Struct.setUint16(28,t,this)},FrameData.prototype.getTimestampSof=function(){return i.Struct.getUint64(32,this)},FrameData.prototype.setTimestampSof=function(t){i.Struct.setUint64(32,t,this)},FrameData.prototype.adoptTransform=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},FrameData.prototype.disownTransform=function(){return i.Struct.disown(this.getTransform())},FrameData.prototype.getTransform=function(){return i.Struct.getList(2,o.Float32List,this)},FrameData.prototype.hasTransform=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},FrameData.prototype.initTransform=function(t){return i.Struct.initList(2,o.Float32List,t,this)},FrameData.prototype.setTransform=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},FrameData.prototype.adoptAndroidCaptureResult=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},FrameData.prototype.disownAndroidCaptureResult=function(){return i.Struct.disown(this.getAndroidCaptureResult())},FrameData.prototype.getAndroidCaptureResult=function(){return i.Struct.getStruct(1,g,this)},FrameData.prototype.hasAndroidCaptureResult=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},FrameData.prototype.initAndroidCaptureResult=function(){return i.Struct.initStructAt(1,g,this)},FrameData.prototype.setAndroidCaptureResult=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},FrameData.prototype.toString=function(){return"FrameData_"+t.prototype.toString.call(this)},FrameData.FrameType=m,FrameData.AndroidCaptureResult=g,FrameData._capnp={displayName:"FrameData",id:"ea0245f695ae0a33",size:new i.ObjectSize(56,3)},FrameData}(i.Struct);e.FrameData=v;var _=function(t){function Thumbnail(){return null!==t&&t.apply(this,arguments)||this}return n(Thumbnail,t),Thumbnail.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},Thumbnail.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},Thumbnail.prototype.getTimestampEof=function(){return i.Struct.getUint64(8,this)},Thumbnail.prototype.setTimestampEof=function(t){i.Struct.setUint64(8,t,this)},Thumbnail.prototype.adoptThumbnail=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Thumbnail.prototype.disownThumbnail=function(){return i.Struct.disown(this.getThumbnail())},Thumbnail.prototype.getThumbnail=function(){return i.Struct.getData(0,this)},Thumbnail.prototype.hasThumbnail=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Thumbnail.prototype.initThumbnail=function(t){return i.Struct.initData(0,t,this)},Thumbnail.prototype.setThumbnail=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Thumbnail.prototype.toString=function(){return"Thumbnail_"+t.prototype.toString.call(this)},Thumbnail._capnp={displayName:"Thumbnail",id:"b65fce64120af7d3",size:new i.ObjectSize(16,1)},Thumbnail}(i.Struct);e.Thumbnail=_;var b=function(t){function GPSNMEAData(){return null!==t&&t.apply(this,arguments)||this}return n(GPSNMEAData,t),GPSNMEAData.prototype.getTimestamp=function(){return i.Struct.getInt64(0,this)},GPSNMEAData.prototype.setTimestamp=function(t){i.Struct.setInt64(0,t,this)},GPSNMEAData.prototype.getLocalWallTime=function(){return i.Struct.getUint64(8,this)},GPSNMEAData.prototype.setLocalWallTime=function(t){i.Struct.setUint64(8,t,this)},GPSNMEAData.prototype.getNmea=function(){return i.Struct.getText(0,this)},GPSNMEAData.prototype.setNmea=function(t){i.Struct.setText(0,t,this)},GPSNMEAData.prototype.toString=function(){return"GPSNMEAData_"+t.prototype.toString.call(this)},GPSNMEAData._capnp={displayName:"GPSNMEAData",id:"9d291d7813ba4a88",size:new i.ObjectSize(16,1)},GPSNMEAData}(i.Struct);e.GPSNMEAData=b;var S,x,w=function(t){function SensorEventData_SensorVec(){return null!==t&&t.apply(this,arguments)||this}return n(SensorEventData_SensorVec,t),SensorEventData_SensorVec.prototype.adoptV=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData_SensorVec.prototype.disownV=function(){return i.Struct.disown(this.getV())},SensorEventData_SensorVec.prototype.getV=function(){return i.Struct.getList(0,o.Float32List,this)},SensorEventData_SensorVec.prototype.hasV=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData_SensorVec.prototype.initV=function(t){return i.Struct.initList(0,o.Float32List,t,this)},SensorEventData_SensorVec.prototype.setV=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData_SensorVec.prototype.getStatus=function(){return i.Struct.getInt8(0,this)},SensorEventData_SensorVec.prototype.setStatus=function(t){i.Struct.setInt8(0,t,this)},SensorEventData_SensorVec.prototype.toString=function(){return"SensorEventData_SensorVec_"+t.prototype.toString.call(this)},SensorEventData_SensorVec._capnp={displayName:"SensorVec",id:"a43429bd2bfc24fc",size:new i.ObjectSize(8,1)},SensorEventData_SensorVec}(i.Struct);e.SensorEventData_SensorVec=w,function(t){t[t.ANDROID=0]="ANDROID",t[t.I_OS=1]="I_OS",t[t.FIBER=2]="FIBER",t[t.VELODYNE=3]="VELODYNE",t[t.BNO055=4]="BNO055",t[t.LSM6DS3=5]="LSM6DS3",t[t.BMP280=6]="BMP280",t[t.MMC3416X=7]="MMC3416X"}(S=e.SensorEventData_SensorSource||(e.SensorEventData_SensorSource={})),function(t){t[t.ACCELERATION=0]="ACCELERATION",t[t.MAGNETIC=1]="MAGNETIC",t[t.ORIENTATION=2]="ORIENTATION",t[t.GYRO=3]="GYRO",t[t.PRESSURE=4]="PRESSURE",t[t.MAGNETIC_UNCALIBRATED=5]="MAGNETIC_UNCALIBRATED",t[t.GYRO_UNCALIBRATED=6]="GYRO_UNCALIBRATED",t[t.PROXIMITY=7]="PROXIMITY",t[t.LIGHT=8]="LIGHT"}(x=e.SensorEventData_Which||(e.SensorEventData_Which={}));var E,P=function(t){function SensorEventData(){return null!==t&&t.apply(this,arguments)||this}return n(SensorEventData,t),SensorEventData.prototype.getVersion=function(){return i.Struct.getInt32(0,this)},SensorEventData.prototype.setVersion=function(t){i.Struct.setInt32(0,t,this)},SensorEventData.prototype.getSensor=function(){return i.Struct.getInt32(4,this)},SensorEventData.prototype.setSensor=function(t){i.Struct.setInt32(4,t,this)},SensorEventData.prototype.getType=function(){return i.Struct.getInt32(8,this)},SensorEventData.prototype.setType=function(t){i.Struct.setInt32(8,t,this)},SensorEventData.prototype.getTimestamp=function(){return i.Struct.getInt64(16,this)},SensorEventData.prototype.setTimestamp=function(t){i.Struct.setInt64(16,t,this)},SensorEventData.prototype.getUncalibratedDEPRECATED=function(){return i.Struct.getBit(192,this)},SensorEventData.prototype.setUncalibratedDEPRECATED=function(t){i.Struct.setBit(192,t,this)},SensorEventData.prototype.adoptAcceleration=function(t){i.Struct.setUint16(12,0,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownAcceleration=function(){return i.Struct.disown(this.getAcceleration())},SensorEventData.prototype.getAcceleration=function(){return i.Struct.testWhich("acceleration",i.Struct.getUint16(12,this),0,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasAcceleration=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initAcceleration=function(){return i.Struct.setUint16(12,0,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isAcceleration=function(){return 0===i.Struct.getUint16(12,this)},SensorEventData.prototype.setAcceleration=function(t){i.Struct.setUint16(12,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptMagnetic=function(t){i.Struct.setUint16(12,1,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownMagnetic=function(){return i.Struct.disown(this.getMagnetic())},SensorEventData.prototype.getMagnetic=function(){return i.Struct.testWhich("magnetic",i.Struct.getUint16(12,this),1,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasMagnetic=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initMagnetic=function(){return i.Struct.setUint16(12,1,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isMagnetic=function(){return 1===i.Struct.getUint16(12,this)},SensorEventData.prototype.setMagnetic=function(t){i.Struct.setUint16(12,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptOrientation=function(t){i.Struct.setUint16(12,2,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownOrientation=function(){return i.Struct.disown(this.getOrientation())},SensorEventData.prototype.getOrientation=function(){return i.Struct.testWhich("orientation",i.Struct.getUint16(12,this),2,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasOrientation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initOrientation=function(){return i.Struct.setUint16(12,2,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isOrientation=function(){return 2===i.Struct.getUint16(12,this)},SensorEventData.prototype.setOrientation=function(t){i.Struct.setUint16(12,2,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptGyro=function(t){i.Struct.setUint16(12,3,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownGyro=function(){return i.Struct.disown(this.getGyro())},SensorEventData.prototype.getGyro=function(){return i.Struct.testWhich("gyro",i.Struct.getUint16(12,this),3,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasGyro=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initGyro=function(){return i.Struct.setUint16(12,3,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isGyro=function(){return 3===i.Struct.getUint16(12,this)},SensorEventData.prototype.setGyro=function(t){i.Struct.setUint16(12,3,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptPressure=function(t){i.Struct.setUint16(12,4,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownPressure=function(){return i.Struct.disown(this.getPressure())},SensorEventData.prototype.getPressure=function(){return i.Struct.testWhich("pressure",i.Struct.getUint16(12,this),4,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasPressure=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initPressure=function(){return i.Struct.setUint16(12,4,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isPressure=function(){return 4===i.Struct.getUint16(12,this)},SensorEventData.prototype.setPressure=function(t){i.Struct.setUint16(12,4,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptMagneticUncalibrated=function(t){i.Struct.setUint16(12,5,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownMagneticUncalibrated=function(){return i.Struct.disown(this.getMagneticUncalibrated())},SensorEventData.prototype.getMagneticUncalibrated=function(){return i.Struct.testWhich("magneticUncalibrated",i.Struct.getUint16(12,this),5,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasMagneticUncalibrated=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initMagneticUncalibrated=function(){return i.Struct.setUint16(12,5,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isMagneticUncalibrated=function(){return 5===i.Struct.getUint16(12,this)},SensorEventData.prototype.setMagneticUncalibrated=function(t){i.Struct.setUint16(12,5,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.adoptGyroUncalibrated=function(t){i.Struct.setUint16(12,6,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.disownGyroUncalibrated=function(){return i.Struct.disown(this.getGyroUncalibrated())},SensorEventData.prototype.getGyroUncalibrated=function(){return i.Struct.testWhich("gyroUncalibrated",i.Struct.getUint16(12,this),6,this),i.Struct.getStruct(0,w,this)},SensorEventData.prototype.hasGyroUncalibrated=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},SensorEventData.prototype.initGyroUncalibrated=function(){return i.Struct.setUint16(12,6,this),i.Struct.initStructAt(0,w,this)},SensorEventData.prototype.isGyroUncalibrated=function(){return 6===i.Struct.getUint16(12,this)},SensorEventData.prototype.setGyroUncalibrated=function(t){i.Struct.setUint16(12,6,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},SensorEventData.prototype.getProximity=function(){return i.Struct.testWhich("proximity",i.Struct.getUint16(12,this),7,this),i.Struct.getFloat32(28,this)},SensorEventData.prototype.isProximity=function(){return 7===i.Struct.getUint16(12,this)},SensorEventData.prototype.setProximity=function(t){i.Struct.setUint16(12,7,this),i.Struct.setFloat32(28,t,this)},SensorEventData.prototype.getLight=function(){return i.Struct.testWhich("light",i.Struct.getUint16(12,this),8,this),i.Struct.getFloat32(28,this)},SensorEventData.prototype.isLight=function(){return 8===i.Struct.getUint16(12,this)},SensorEventData.prototype.setLight=function(t){i.Struct.setUint16(12,8,this),i.Struct.setFloat32(28,t,this)},SensorEventData.prototype.getSource=function(){return i.Struct.getUint16(14,this)},SensorEventData.prototype.setSource=function(t){i.Struct.setUint16(14,t,this)},SensorEventData.prototype.toString=function(){return"SensorEventData_"+t.prototype.toString.call(this)},SensorEventData.prototype.which=function(){return i.Struct.getUint16(12,this)},SensorEventData.ACCELERATION=x.ACCELERATION,SensorEventData.MAGNETIC=x.MAGNETIC,SensorEventData.ORIENTATION=x.ORIENTATION,SensorEventData.GYRO=x.GYRO,SensorEventData.PRESSURE=x.PRESSURE,SensorEventData.MAGNETIC_UNCALIBRATED=x.MAGNETIC_UNCALIBRATED,SensorEventData.GYRO_UNCALIBRATED=x.GYRO_UNCALIBRATED,SensorEventData.PROXIMITY=x.PROXIMITY,SensorEventData.LIGHT=x.LIGHT,SensorEventData.SensorVec=w,SensorEventData.SensorSource=S,SensorEventData._capnp={displayName:"SensorEventData",id:"a2b29a69d44529a1",size:new i.ObjectSize(32,1)},SensorEventData}(i.Struct);e.SensorEventData=P,function(t){t[t.ANDROID=0]="ANDROID",t[t.I_OS=1]="I_OS",t[t.CAR=2]="CAR",t[t.VELODYNE=3]="VELODYNE",t[t.FUSION=4]="FUSION",t[t.EXTERNAL=5]="EXTERNAL",t[t.UBLOX=6]="UBLOX",t[t.TRIMBLE=7]="TRIMBLE"}(E=e.GpsLocationData_SensorSource||(e.GpsLocationData_SensorSource={}));var C=function(t){function GpsLocationData(){return null!==t&&t.apply(this,arguments)||this}return n(GpsLocationData,t),GpsLocationData.prototype.getFlags=function(){return i.Struct.getUint16(0,this)},GpsLocationData.prototype.setFlags=function(t){i.Struct.setUint16(0,t,this)},GpsLocationData.prototype.getLatitude=function(){return i.Struct.getFloat64(8,this)},GpsLocationData.prototype.setLatitude=function(t){i.Struct.setFloat64(8,t,this)},GpsLocationData.prototype.getLongitude=function(){return i.Struct.getFloat64(16,this)},GpsLocationData.prototype.setLongitude=function(t){i.Struct.setFloat64(16,t,this)},GpsLocationData.prototype.getAltitude=function(){return i.Struct.getFloat64(24,this)},GpsLocationData.prototype.setAltitude=function(t){i.Struct.setFloat64(24,t,this)},GpsLocationData.prototype.getSpeed=function(){return i.Struct.getFloat32(4,this)},GpsLocationData.prototype.setSpeed=function(t){i.Struct.setFloat32(4,t,this)},GpsLocationData.prototype.getBearing=function(){return i.Struct.getFloat32(32,this)},GpsLocationData.prototype.setBearing=function(t){i.Struct.setFloat32(32,t,this)},GpsLocationData.prototype.getAccuracy=function(){return i.Struct.getFloat32(36,this)},GpsLocationData.prototype.setAccuracy=function(t){i.Struct.setFloat32(36,t,this)},GpsLocationData.prototype.getTimestamp=function(){return i.Struct.getInt64(40,this)},GpsLocationData.prototype.setTimestamp=function(t){i.Struct.setInt64(40,t,this)},GpsLocationData.prototype.getSource=function(){return i.Struct.getUint16(2,this)},GpsLocationData.prototype.setSource=function(t){i.Struct.setUint16(2,t,this)},GpsLocationData.prototype.adoptVNED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},GpsLocationData.prototype.disownVNED=function(){return i.Struct.disown(this.getVNED())},GpsLocationData.prototype.getVNED=function(){return i.Struct.getList(0,o.Float32List,this)},GpsLocationData.prototype.hasVNED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},GpsLocationData.prototype.initVNED=function(t){return i.Struct.initList(0,o.Float32List,t,this)},GpsLocationData.prototype.setVNED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},GpsLocationData.prototype.getVerticalAccuracy=function(){return i.Struct.getFloat32(48,this)},GpsLocationData.prototype.setVerticalAccuracy=function(t){i.Struct.setFloat32(48,t,this)},GpsLocationData.prototype.getBearingAccuracy=function(){return i.Struct.getFloat32(52,this)},GpsLocationData.prototype.setBearingAccuracy=function(t){i.Struct.setFloat32(52,t,this)},GpsLocationData.prototype.getSpeedAccuracy=function(){return i.Struct.getFloat32(56,this)},GpsLocationData.prototype.setSpeedAccuracy=function(t){i.Struct.setFloat32(56,t,this)},GpsLocationData.prototype.toString=function(){return"GpsLocationData_"+t.prototype.toString.call(this)},GpsLocationData.SensorSource=E,GpsLocationData._capnp={displayName:"GpsLocationData",id:"e946524859add50e",size:new i.ObjectSize(64,1)},GpsLocationData}(i.Struct);e.GpsLocationData=C;var T,D=function(t){function CanData(){return null!==t&&t.apply(this,arguments)||this}return n(CanData,t),CanData.prototype.getAddress=function(){return i.Struct.getUint32(0,this)},CanData.prototype.setAddress=function(t){i.Struct.setUint32(0,t,this)},CanData.prototype.getBusTime=function(){return i.Struct.getUint16(4,this)},CanData.prototype.setBusTime=function(t){i.Struct.setUint16(4,t,this)},CanData.prototype.adoptDat=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},CanData.prototype.disownDat=function(){return i.Struct.disown(this.getDat())},CanData.prototype.getDat=function(){return i.Struct.getData(0,this)},CanData.prototype.hasDat=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},CanData.prototype.initDat=function(t){return i.Struct.initData(0,t,this)},CanData.prototype.setDat=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},CanData.prototype.getSrc=function(){return i.Struct.getUint8(6,this)},CanData.prototype.setSrc=function(t){i.Struct.setUint8(6,t,this)},CanData.prototype.toString=function(){return"CanData_"+t.prototype.toString.call(this)},CanData._capnp={displayName:"CanData",id:"8785009a964c7c59",size:new i.ObjectSize(8,1)},CanData}(i.Struct);e.CanData=D,function(t){t[t.GREEN=0]="GREEN",t[t.YELLOW=1]="YELLOW",t[t.RED=2]="RED",t[t.DANGER=3]="DANGER"}(T=e.ThermalData_ThermalStatus||(e.ThermalData_ThermalStatus={}));var M,A=function(t){function ThermalData(){return null!==t&&t.apply(this,arguments)||this}return n(ThermalData,t),ThermalData.prototype.getCpu0=function(){return i.Struct.getUint16(0,this)},ThermalData.prototype.setCpu0=function(t){i.Struct.setUint16(0,t,this)},ThermalData.prototype.getCpu1=function(){return i.Struct.getUint16(2,this)},ThermalData.prototype.setCpu1=function(t){i.Struct.setUint16(2,t,this)},ThermalData.prototype.getCpu2=function(){return i.Struct.getUint16(4,this)},ThermalData.prototype.setCpu2=function(t){i.Struct.setUint16(4,t,this)},ThermalData.prototype.getCpu3=function(){return i.Struct.getUint16(6,this)},ThermalData.prototype.setCpu3=function(t){i.Struct.setUint16(6,t,this)},ThermalData.prototype.getMem=function(){return i.Struct.getUint16(8,this)},ThermalData.prototype.setMem=function(t){i.Struct.setUint16(8,t,this)},ThermalData.prototype.getGpu=function(){return i.Struct.getUint16(10,this)},ThermalData.prototype.setGpu=function(t){i.Struct.setUint16(10,t,this)},ThermalData.prototype.getBat=function(){return i.Struct.getUint32(12,this)},ThermalData.prototype.setBat=function(t){i.Struct.setUint32(12,t,this)},ThermalData.prototype.getFreeSpace=function(){return i.Struct.getFloat32(16,this)},ThermalData.prototype.setFreeSpace=function(t){i.Struct.setFloat32(16,t,this)},ThermalData.prototype.getBatteryPercent=function(){return i.Struct.getInt16(20,this)},ThermalData.prototype.setBatteryPercent=function(t){i.Struct.setInt16(20,t,this)},ThermalData.prototype.getBatteryStatus=function(){return i.Struct.getText(0,this)},ThermalData.prototype.setBatteryStatus=function(t){i.Struct.setText(0,t,this)},ThermalData.prototype.getBatteryCurrent=function(){return i.Struct.getInt32(28,this)},ThermalData.prototype.setBatteryCurrent=function(t){i.Struct.setInt32(28,t,this)},ThermalData.prototype.getBatteryVoltage=function(){return i.Struct.getInt32(40,this)},ThermalData.prototype.setBatteryVoltage=function(t){i.Struct.setInt32(40,t,this)},ThermalData.prototype.getUsbOnline=function(){return i.Struct.getBit(193,this)},ThermalData.prototype.setUsbOnline=function(t){i.Struct.setBit(193,t,this)},ThermalData.prototype.getFanSpeed=function(){return i.Struct.getUint16(22,this)},ThermalData.prototype.setFanSpeed=function(t){i.Struct.setUint16(22,t,this)},ThermalData.prototype.getStarted=function(){return i.Struct.getBit(192,this)},ThermalData.prototype.setStarted=function(t){i.Struct.setBit(192,t,this)},ThermalData.prototype.getStartedTs=function(){return i.Struct.getUint64(32,this)},ThermalData.prototype.setStartedTs=function(t){i.Struct.setUint64(32,t,this)},ThermalData.prototype.getThermalStatus=function(){return i.Struct.getUint16(26,this)},ThermalData.prototype.setThermalStatus=function(t){i.Struct.setUint16(26,t,this)},ThermalData.prototype.getChargingError=function(){return i.Struct.getBit(194,this)},ThermalData.prototype.setChargingError=function(t){i.Struct.setBit(194,t,this)},ThermalData.prototype.getChargingDisabled=function(){return i.Struct.getBit(195,this)},ThermalData.prototype.setChargingDisabled=function(t){i.Struct.setBit(195,t,this)},ThermalData.prototype.toString=function(){return"ThermalData_"+t.prototype.toString.call(this)},ThermalData.ThermalStatus=T,ThermalData._capnp={displayName:"ThermalData",id:"8d8231a40b7fe6e0",size:new i.ObjectSize(48,1)},ThermalData}(i.Struct);e.ThermalData=A,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WHITE_PANDA=1]="WHITE_PANDA",t[t.GREY_PANDA=2]="GREY_PANDA",t[t.BLACK_PANDA=3]="BLACK_PANDA",t[t.PEDAL=4]="PEDAL"}(M=e.HealthData_HwType||(e.HealthData_HwType={}));var R=function(t){function HealthData(){return null!==t&&t.apply(this,arguments)||this}return n(HealthData,t),HealthData.prototype.getVoltage=function(){return i.Struct.getUint32(0,this)},HealthData.prototype.setVoltage=function(t){i.Struct.setUint32(0,t,this)},HealthData.prototype.getCurrent=function(){return i.Struct.getUint32(4,this)},HealthData.prototype.setCurrent=function(t){i.Struct.setUint32(4,t,this)},HealthData.prototype.getStarted=function(){return i.Struct.getBit(64,this)},HealthData.prototype.setStarted=function(t){i.Struct.setBit(64,t,this)},HealthData.prototype.getControlsAllowed=function(){return i.Struct.getBit(65,this)},HealthData.prototype.setControlsAllowed=function(t){i.Struct.setBit(65,t,this)},HealthData.prototype.getGasInterceptorDetected=function(){return i.Struct.getBit(66,this)},HealthData.prototype.setGasInterceptorDetected=function(t){i.Struct.setBit(66,t,this)},HealthData.prototype.getStartedSignalDetectedDeprecated=function(){return i.Struct.getBit(67,this)},HealthData.prototype.setStartedSignalDetectedDeprecated=function(t){i.Struct.setBit(67,t,this)},HealthData.prototype.getHasGps=function(){return i.Struct.getBit(68,this)},HealthData.prototype.setHasGps=function(t){i.Struct.setBit(68,t,this)},HealthData.prototype.getCanSendErrs=function(){return i.Struct.getUint32(12,this)},HealthData.prototype.setCanSendErrs=function(t){i.Struct.setUint32(12,t,this)},HealthData.prototype.getCanFwdErrs=function(){return i.Struct.getUint32(16,this)},HealthData.prototype.setCanFwdErrs=function(t){i.Struct.setUint32(16,t,this)},HealthData.prototype.getGmlanSendErrs=function(){return i.Struct.getUint32(20,this)},HealthData.prototype.setGmlanSendErrs=function(t){i.Struct.setUint32(20,t,this)},HealthData.prototype.getHwType=function(){return i.Struct.getUint16(10,this)},HealthData.prototype.setHwType=function(t){i.Struct.setUint16(10,t,this)},HealthData.prototype.toString=function(){return"HealthData_"+t.prototype.toString.call(this)},HealthData.HwType=M,HealthData._capnp={displayName:"HealthData",id:"cfa2b0c2c82af1e4",size:new i.ObjectSize(24,0)},HealthData}(i.Struct);e.HealthData=R;var L=function(t){function LiveUI(){return null!==t&&t.apply(this,arguments)||this}return n(LiveUI,t),LiveUI.prototype.getRearViewCam=function(){return i.Struct.getBit(0,this)},LiveUI.prototype.setRearViewCam=function(t){i.Struct.setBit(0,t,this)},LiveUI.prototype.getAlertText1=function(){return i.Struct.getText(0,this)},LiveUI.prototype.setAlertText1=function(t){i.Struct.setText(0,t,this)},LiveUI.prototype.getAlertText2=function(){return i.Struct.getText(1,this)},LiveUI.prototype.setAlertText2=function(t){i.Struct.setText(1,t,this)},LiveUI.prototype.getAwarenessStatus=function(){return i.Struct.getFloat32(4,this)},LiveUI.prototype.setAwarenessStatus=function(t){i.Struct.setFloat32(4,t,this)},LiveUI.prototype.toString=function(){return"LiveUI_"+t.prototype.toString.call(this)},LiveUI._capnp={displayName:"LiveUI",id:"c08240f996aefced",size:new i.ObjectSize(8,2)},LiveUI}(i.Struct);e.LiveUI=L;var I=function(t){function RadarState_LeadData(){return null!==t&&t.apply(this,arguments)||this}return n(RadarState_LeadData,t),RadarState_LeadData.prototype.getDRel=function(){return i.Struct.getFloat32(0,this)},RadarState_LeadData.prototype.setDRel=function(t){i.Struct.setFloat32(0,t,this)},RadarState_LeadData.prototype.getYRel=function(){return i.Struct.getFloat32(4,this)},RadarState_LeadData.prototype.setYRel=function(t){i.Struct.setFloat32(4,t,this)},RadarState_LeadData.prototype.getVRel=function(){return i.Struct.getFloat32(8,this)},RadarState_LeadData.prototype.setVRel=function(t){i.Struct.setFloat32(8,t,this)},RadarState_LeadData.prototype.getARel=function(){return i.Struct.getFloat32(12,this)},RadarState_LeadData.prototype.setARel=function(t){i.Struct.setFloat32(12,t,this)},RadarState_LeadData.prototype.getVLead=function(){return i.Struct.getFloat32(16,this)},RadarState_LeadData.prototype.setVLead=function(t){i.Struct.setFloat32(16,t,this)},RadarState_LeadData.prototype.getALeadDEPRECATED=function(){return i.Struct.getFloat32(20,this)},RadarState_LeadData.prototype.setALeadDEPRECATED=function(t){i.Struct.setFloat32(20,t,this)},RadarState_LeadData.prototype.getDPath=function(){return i.Struct.getFloat32(24,this)},RadarState_LeadData.prototype.setDPath=function(t){i.Struct.setFloat32(24,t,this)},RadarState_LeadData.prototype.getVLat=function(){return i.Struct.getFloat32(28,this)},RadarState_LeadData.prototype.setVLat=function(t){i.Struct.setFloat32(28,t,this)},RadarState_LeadData.prototype.getVLeadK=function(){return i.Struct.getFloat32(32,this)},RadarState_LeadData.prototype.setVLeadK=function(t){i.Struct.setFloat32(32,t,this)},RadarState_LeadData.prototype.getALeadK=function(){return i.Struct.getFloat32(36,this)},RadarState_LeadData.prototype.setALeadK=function(t){i.Struct.setFloat32(36,t,this)},RadarState_LeadData.prototype.getFcw=function(){return i.Struct.getBit(320,this)},RadarState_LeadData.prototype.setFcw=function(t){i.Struct.setBit(320,t,this)},RadarState_LeadData.prototype.getStatus=function(){return i.Struct.getBit(321,this)},RadarState_LeadData.prototype.setStatus=function(t){i.Struct.setBit(321,t,this)},RadarState_LeadData.prototype.getALeadTau=function(){return i.Struct.getFloat32(44,this)},RadarState_LeadData.prototype.setALeadTau=function(t){i.Struct.setFloat32(44,t,this)},RadarState_LeadData.prototype.getModelProb=function(){return i.Struct.getFloat32(48,this)},RadarState_LeadData.prototype.setModelProb=function(t){i.Struct.setFloat32(48,t,this)},RadarState_LeadData.prototype.getRadar=function(){return i.Struct.getBit(322,this)},RadarState_LeadData.prototype.setRadar=function(t){i.Struct.setBit(322,t,this)},RadarState_LeadData.prototype.toString=function(){return"RadarState_LeadData_"+t.prototype.toString.call(this)},RadarState_LeadData._capnp={displayName:"LeadData",id:"b96f3ad9170cf085",size:new i.ObjectSize(56,0)},RadarState_LeadData}(i.Struct);e.RadarState_LeadData=I;var O=function(t){function RadarState(){return null!==t&&t.apply(this,arguments)||this}return n(RadarState,t),RadarState.prototype.adoptCanMonoTimes=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},RadarState.prototype.disownCanMonoTimes=function(){return i.Struct.disown(this.getCanMonoTimes())},RadarState.prototype.getCanMonoTimes=function(){return i.Struct.getList(3,o.Uint64List,this)},RadarState.prototype.hasCanMonoTimes=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},RadarState.prototype.initCanMonoTimes=function(t){return i.Struct.initList(3,o.Uint64List,t,this)},RadarState.prototype.setCanMonoTimes=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},RadarState.prototype.getMdMonoTime=function(){return i.Struct.getUint64(16,this)},RadarState.prototype.setMdMonoTime=function(t){i.Struct.setUint64(16,t,this)},RadarState.prototype.getFtMonoTimeDEPRECATED=function(){return i.Struct.getUint64(24,this)},RadarState.prototype.setFtMonoTimeDEPRECATED=function(t){i.Struct.setUint64(24,t,this)},RadarState.prototype.getControlsStateMonoTime=function(){return i.Struct.getUint64(32,this)},RadarState.prototype.setControlsStateMonoTime=function(t){i.Struct.setUint64(32,t,this)},RadarState.prototype.adoptRadarErrors=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},RadarState.prototype.disownRadarErrors=function(){return i.Struct.disown(this.getRadarErrors())},RadarState.prototype.getRadarErrors=function(){return i.Struct.getList(4,o.Uint16List,this)},RadarState.prototype.hasRadarErrors=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},RadarState.prototype.initRadarErrors=function(t){return i.Struct.initList(4,o.Uint16List,t,this)},RadarState.prototype.setRadarErrors=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},RadarState.prototype.adoptWarpMatrixDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},RadarState.prototype.disownWarpMatrixDEPRECATED=function(){return i.Struct.disown(this.getWarpMatrixDEPRECATED())},RadarState.prototype.getWarpMatrixDEPRECATED=function(){return i.Struct.getList(0,o.Float32List,this)},RadarState.prototype.hasWarpMatrixDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},RadarState.prototype.initWarpMatrixDEPRECATED=function(t){return i.Struct.initList(0,o.Float32List,t,this)},RadarState.prototype.setWarpMatrixDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},RadarState.prototype.getAngleOffsetDEPRECATED=function(){return i.Struct.getFloat32(0,this)},RadarState.prototype.setAngleOffsetDEPRECATED=function(t){i.Struct.setFloat32(0,t,this)},RadarState.prototype.getCalStatusDEPRECATED=function(){return i.Struct.getInt8(4,this)},RadarState.prototype.setCalStatusDEPRECATED=function(t){i.Struct.setInt8(4,t,this)},RadarState.prototype.getCalCycleDEPRECATED=function(){return i.Struct.getInt32(12,this)},RadarState.prototype.setCalCycleDEPRECATED=function(t){i.Struct.setInt32(12,t,this)},RadarState.prototype.getCalPercDEPRECATED=function(){return i.Struct.getInt8(5,this)},RadarState.prototype.setCalPercDEPRECATED=function(t){i.Struct.setInt8(5,t,this)},RadarState.prototype.adoptLeadOne=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},RadarState.prototype.disownLeadOne=function(){return i.Struct.disown(this.getLeadOne())},RadarState.prototype.getLeadOne=function(){return i.Struct.getStruct(1,I,this)},RadarState.prototype.hasLeadOne=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},RadarState.prototype.initLeadOne=function(){return i.Struct.initStructAt(1,I,this)},RadarState.prototype.setLeadOne=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},RadarState.prototype.adoptLeadTwo=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},RadarState.prototype.disownLeadTwo=function(){return i.Struct.disown(this.getLeadTwo())},RadarState.prototype.getLeadTwo=function(){return i.Struct.getStruct(2,I,this)},RadarState.prototype.hasLeadTwo=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},RadarState.prototype.initLeadTwo=function(){return i.Struct.initStructAt(2,I,this)},RadarState.prototype.setLeadTwo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},RadarState.prototype.getCumLagMs=function(){return i.Struct.getFloat32(8,this)},RadarState.prototype.setCumLagMs=function(t){i.Struct.setFloat32(8,t,this)},RadarState.prototype.toString=function(){return"RadarState_"+t.prototype.toString.call(this)},RadarState.LeadData=I,RadarState._capnp={displayName:"RadarState",id:"9a185389d6fdd05f",size:new i.ObjectSize(40,5)},RadarState}(i.Struct);e.RadarState=O;var k=function(t){function LiveCalibrationData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveCalibrationData,t),LiveCalibrationData.prototype.adoptWarpMatrix=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveCalibrationData.prototype.disownWarpMatrix=function(){return i.Struct.disown(this.getWarpMatrix())},LiveCalibrationData.prototype.getWarpMatrix=function(){return i.Struct.getList(0,o.Float32List,this)},LiveCalibrationData.prototype.hasWarpMatrix=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveCalibrationData.prototype.initWarpMatrix=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveCalibrationData.prototype.setWarpMatrix=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveCalibrationData.prototype.adoptWarpMatrix2=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LiveCalibrationData.prototype.disownWarpMatrix2=function(){return i.Struct.disown(this.getWarpMatrix2())},LiveCalibrationData.prototype.getWarpMatrix2=function(){return i.Struct.getList(2,o.Float32List,this)},LiveCalibrationData.prototype.hasWarpMatrix2=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LiveCalibrationData.prototype.initWarpMatrix2=function(t){return i.Struct.initList(2,o.Float32List,t,this)},LiveCalibrationData.prototype.setWarpMatrix2=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LiveCalibrationData.prototype.adoptWarpMatrixBig=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LiveCalibrationData.prototype.disownWarpMatrixBig=function(){return i.Struct.disown(this.getWarpMatrixBig())},LiveCalibrationData.prototype.getWarpMatrixBig=function(){return i.Struct.getList(3,o.Float32List,this)},LiveCalibrationData.prototype.hasWarpMatrixBig=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LiveCalibrationData.prototype.initWarpMatrixBig=function(t){return i.Struct.initList(3,o.Float32List,t,this)},LiveCalibrationData.prototype.setWarpMatrixBig=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LiveCalibrationData.prototype.getCalStatus=function(){return i.Struct.getInt8(0,this)},LiveCalibrationData.prototype.setCalStatus=function(t){i.Struct.setInt8(0,t,this)},LiveCalibrationData.prototype.getCalCycle=function(){return i.Struct.getInt32(4,this)},LiveCalibrationData.prototype.setCalCycle=function(t){i.Struct.setInt32(4,t,this)},LiveCalibrationData.prototype.getCalPerc=function(){return i.Struct.getInt8(1,this)},LiveCalibrationData.prototype.setCalPerc=function(t){i.Struct.setInt8(1,t,this)},LiveCalibrationData.prototype.adoptExtrinsicMatrix=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveCalibrationData.prototype.disownExtrinsicMatrix=function(){return i.Struct.disown(this.getExtrinsicMatrix())},LiveCalibrationData.prototype.getExtrinsicMatrix=function(){return i.Struct.getList(1,o.Float32List,this)},LiveCalibrationData.prototype.hasExtrinsicMatrix=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveCalibrationData.prototype.initExtrinsicMatrix=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveCalibrationData.prototype.setExtrinsicMatrix=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveCalibrationData.prototype.adoptRpyCalib=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},LiveCalibrationData.prototype.disownRpyCalib=function(){return i.Struct.disown(this.getRpyCalib())},LiveCalibrationData.prototype.getRpyCalib=function(){return i.Struct.getList(4,o.Float32List,this)},LiveCalibrationData.prototype.hasRpyCalib=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},LiveCalibrationData.prototype.initRpyCalib=function(t){return i.Struct.initList(4,o.Float32List,t,this)},LiveCalibrationData.prototype.setRpyCalib=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},LiveCalibrationData.prototype.toString=function(){return"LiveCalibrationData_"+t.prototype.toString.call(this)},LiveCalibrationData._capnp={displayName:"LiveCalibrationData",id:"96df70754d8390bc",size:new i.ObjectSize(8,5)},LiveCalibrationData}(i.Struct);e.LiveCalibrationData=k;var F,N,B,U,z=function(t){function LiveTracks(){return null!==t&&t.apply(this,arguments)||this}return n(LiveTracks,t),LiveTracks.prototype.getTrackId=function(){return i.Struct.getInt32(0,this)},LiveTracks.prototype.setTrackId=function(t){i.Struct.setInt32(0,t,this)},LiveTracks.prototype.getDRel=function(){return i.Struct.getFloat32(4,this)},LiveTracks.prototype.setDRel=function(t){i.Struct.setFloat32(4,t,this)},LiveTracks.prototype.getYRel=function(){return i.Struct.getFloat32(8,this)},LiveTracks.prototype.setYRel=function(t){i.Struct.setFloat32(8,t,this)},LiveTracks.prototype.getVRel=function(){return i.Struct.getFloat32(12,this)},LiveTracks.prototype.setVRel=function(t){i.Struct.setFloat32(12,t,this)},LiveTracks.prototype.getARel=function(){return i.Struct.getFloat32(16,this)},LiveTracks.prototype.setARel=function(t){i.Struct.setFloat32(16,t,this)},LiveTracks.prototype.getTimeStamp=function(){return i.Struct.getFloat32(20,this)},LiveTracks.prototype.setTimeStamp=function(t){i.Struct.setFloat32(20,t,this)},LiveTracks.prototype.getStatus=function(){return i.Struct.getFloat32(24,this)},LiveTracks.prototype.setStatus=function(t){i.Struct.setFloat32(24,t,this)},LiveTracks.prototype.getCurrentTime=function(){return i.Struct.getFloat32(28,this)},LiveTracks.prototype.setCurrentTime=function(t){i.Struct.setFloat32(28,t,this)},LiveTracks.prototype.getStationary=function(){return i.Struct.getBit(256,this)},LiveTracks.prototype.setStationary=function(t){i.Struct.setBit(256,t,this)},LiveTracks.prototype.getOncoming=function(){return i.Struct.getBit(257,this)},LiveTracks.prototype.setOncoming=function(t){i.Struct.setBit(257,t,this)},LiveTracks.prototype.toString=function(){return"LiveTracks_"+t.prototype.toString.call(this)},LiveTracks._capnp={displayName:"LiveTracks",id:"8faa644732dec251",size:new i.ObjectSize(40,0)},LiveTracks}(i.Struct);e.LiveTracks=z,function(t){t[t.DISABLED=0]="DISABLED",t[t.PRE_ENABLED=1]="PRE_ENABLED",t[t.ENABLED=2]="ENABLED",t[t.SOFT_DISABLING=3]="SOFT_DISABLING"}(F=e.ControlsState_OpenpilotState||(e.ControlsState_OpenpilotState={})),function(t){t[t.OFF=0]="OFF",t[t.PID=1]="PID",t[t.STOPPING=2]="STOPPING",t[t.STARTING=3]="STARTING"}(N=e.ControlsState_LongControlState||(e.ControlsState_LongControlState={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.USER_PROMPT=1]="USER_PROMPT",t[t.CRITICAL=2]="CRITICAL"}(B=e.ControlsState_AlertStatus||(e.ControlsState_AlertStatus={})),function(t){t[t.NONE=0]="NONE",t[t.SMALL=1]="SMALL",t[t.MID=2]="MID",t[t.FULL=3]="FULL"}(U=e.ControlsState_AlertSize||(e.ControlsState_AlertSize={}));var j=function(t){function ControlsState_LateralINDIState(){return null!==t&&t.apply(this,arguments)||this}return n(ControlsState_LateralINDIState,t),ControlsState_LateralINDIState.prototype.getActive=function(){return i.Struct.getBit(0,this)},ControlsState_LateralINDIState.prototype.setActive=function(t){i.Struct.setBit(0,t,this)},ControlsState_LateralINDIState.prototype.getSteerAngle=function(){return i.Struct.getFloat32(4,this)},ControlsState_LateralINDIState.prototype.setSteerAngle=function(t){i.Struct.setFloat32(4,t,this)},ControlsState_LateralINDIState.prototype.getSteerRate=function(){return i.Struct.getFloat32(8,this)},ControlsState_LateralINDIState.prototype.setSteerRate=function(t){i.Struct.setFloat32(8,t,this)},ControlsState_LateralINDIState.prototype.getSteerAccel=function(){return i.Struct.getFloat32(12,this)},ControlsState_LateralINDIState.prototype.setSteerAccel=function(t){i.Struct.setFloat32(12,t,this)},ControlsState_LateralINDIState.prototype.getRateSetPoint=function(){return i.Struct.getFloat32(16,this)},ControlsState_LateralINDIState.prototype.setRateSetPoint=function(t){i.Struct.setFloat32(16,t,this)},ControlsState_LateralINDIState.prototype.getAccelSetPoint=function(){return i.Struct.getFloat32(20,this)},ControlsState_LateralINDIState.prototype.setAccelSetPoint=function(t){i.Struct.setFloat32(20,t,this)},ControlsState_LateralINDIState.prototype.getAccelError=function(){return i.Struct.getFloat32(24,this)},ControlsState_LateralINDIState.prototype.setAccelError=function(t){i.Struct.setFloat32(24,t,this)},ControlsState_LateralINDIState.prototype.getDelayedOutput=function(){return i.Struct.getFloat32(28,this)},ControlsState_LateralINDIState.prototype.setDelayedOutput=function(t){i.Struct.setFloat32(28,t,this)},ControlsState_LateralINDIState.prototype.getDelta=function(){return i.Struct.getFloat32(32,this)},ControlsState_LateralINDIState.prototype.setDelta=function(t){i.Struct.setFloat32(32,t,this)},ControlsState_LateralINDIState.prototype.getOutput=function(){return i.Struct.getFloat32(36,this)},ControlsState_LateralINDIState.prototype.setOutput=function(t){i.Struct.setFloat32(36,t,this)},ControlsState_LateralINDIState.prototype.toString=function(){return"ControlsState_LateralINDIState_"+t.prototype.toString.call(this)},ControlsState_LateralINDIState._capnp={displayName:"LateralINDIState",id:"939463348632375e",size:new i.ObjectSize(40,0)},ControlsState_LateralINDIState}(i.Struct);e.ControlsState_LateralINDIState=j;var G=function(t){function ControlsState_LateralPIDState(){return null!==t&&t.apply(this,arguments)||this}return n(ControlsState_LateralPIDState,t),ControlsState_LateralPIDState.prototype.getActive=function(){return i.Struct.getBit(0,this)},ControlsState_LateralPIDState.prototype.setActive=function(t){i.Struct.setBit(0,t,this)},ControlsState_LateralPIDState.prototype.getSteerAngle=function(){return i.Struct.getFloat32(4,this)},ControlsState_LateralPIDState.prototype.setSteerAngle=function(t){i.Struct.setFloat32(4,t,this)},ControlsState_LateralPIDState.prototype.getSteerRate=function(){return i.Struct.getFloat32(8,this)},ControlsState_LateralPIDState.prototype.setSteerRate=function(t){i.Struct.setFloat32(8,t,this)},ControlsState_LateralPIDState.prototype.getAngleError=function(){return i.Struct.getFloat32(12,this)},ControlsState_LateralPIDState.prototype.setAngleError=function(t){i.Struct.setFloat32(12,t,this)},ControlsState_LateralPIDState.prototype.getP=function(){return i.Struct.getFloat32(16,this)},ControlsState_LateralPIDState.prototype.setP=function(t){i.Struct.setFloat32(16,t,this)},ControlsState_LateralPIDState.prototype.getI=function(){return i.Struct.getFloat32(20,this)},ControlsState_LateralPIDState.prototype.setI=function(t){i.Struct.setFloat32(20,t,this)},ControlsState_LateralPIDState.prototype.getF=function(){return i.Struct.getFloat32(24,this)},ControlsState_LateralPIDState.prototype.setF=function(t){i.Struct.setFloat32(24,t,this)},ControlsState_LateralPIDState.prototype.getOutput=function(){return i.Struct.getFloat32(28,this)},ControlsState_LateralPIDState.prototype.setOutput=function(t){i.Struct.setFloat32(28,t,this)},ControlsState_LateralPIDState.prototype.getSaturated=function(){return i.Struct.getBit(1,this)},ControlsState_LateralPIDState.prototype.setSaturated=function(t){i.Struct.setBit(1,t,this)},ControlsState_LateralPIDState.prototype.toString=function(){return"ControlsState_LateralPIDState_"+t.prototype.toString.call(this)},ControlsState_LateralPIDState._capnp={displayName:"LateralPIDState",id:"f28c5dc9e09375e3",size:new i.ObjectSize(32,0)},ControlsState_LateralPIDState}(i.Struct);e.ControlsState_LateralPIDState=G;var V,W=function(t){function ControlsState_LateralLQRState(){return null!==t&&t.apply(this,arguments)||this}return n(ControlsState_LateralLQRState,t),ControlsState_LateralLQRState.prototype.getActive=function(){return i.Struct.getBit(0,this)},ControlsState_LateralLQRState.prototype.setActive=function(t){i.Struct.setBit(0,t,this)},ControlsState_LateralLQRState.prototype.getSteerAngle=function(){return i.Struct.getFloat32(4,this)},ControlsState_LateralLQRState.prototype.setSteerAngle=function(t){i.Struct.setFloat32(4,t,this)},ControlsState_LateralLQRState.prototype.getI=function(){return i.Struct.getFloat32(8,this)},ControlsState_LateralLQRState.prototype.setI=function(t){i.Struct.setFloat32(8,t,this)},ControlsState_LateralLQRState.prototype.getOutput=function(){return i.Struct.getFloat32(12,this)},ControlsState_LateralLQRState.prototype.setOutput=function(t){i.Struct.setFloat32(12,t,this)},ControlsState_LateralLQRState.prototype.toString=function(){return"ControlsState_LateralLQRState_"+t.prototype.toString.call(this)},ControlsState_LateralLQRState._capnp={displayName:"LateralLQRState",id:"9024e2d790c82ade",size:new i.ObjectSize(16,0)},ControlsState_LateralLQRState}(i.Struct);e.ControlsState_LateralLQRState=W,function(t){t[t.INDI_STATE=0]="INDI_STATE",t[t.PID_STATE=1]="PID_STATE",t[t.LQR_STATE=2]="LQR_STATE"}(V=e.ControlsState_LateralControlState_Which||(e.ControlsState_LateralControlState_Which={}));var q=function(t){function ControlsState_LateralControlState(){return null!==t&&t.apply(this,arguments)||this}return n(ControlsState_LateralControlState,t),ControlsState_LateralControlState.prototype.adoptIndiState=function(t){i.Struct.setUint16(142,0,this),i.Struct.adopt(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.disownIndiState=function(){return i.Struct.disown(this.getIndiState())},ControlsState_LateralControlState.prototype.getIndiState=function(){return i.Struct.testWhich("indiState",i.Struct.getUint16(142,this),0,this),i.Struct.getStruct(5,j,this)},ControlsState_LateralControlState.prototype.hasIndiState=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.initIndiState=function(){return i.Struct.setUint16(142,0,this),i.Struct.initStructAt(5,j,this)},ControlsState_LateralControlState.prototype.isIndiState=function(){return 0===i.Struct.getUint16(142,this)},ControlsState_LateralControlState.prototype.setIndiState=function(t){i.Struct.setUint16(142,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.adoptPidState=function(t){i.Struct.setUint16(142,1,this),i.Struct.adopt(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.disownPidState=function(){return i.Struct.disown(this.getPidState())},ControlsState_LateralControlState.prototype.getPidState=function(){return i.Struct.testWhich("pidState",i.Struct.getUint16(142,this),1,this),i.Struct.getStruct(5,G,this)},ControlsState_LateralControlState.prototype.hasPidState=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.initPidState=function(){return i.Struct.setUint16(142,1,this),i.Struct.initStructAt(5,G,this)},ControlsState_LateralControlState.prototype.isPidState=function(){return 1===i.Struct.getUint16(142,this)},ControlsState_LateralControlState.prototype.setPidState=function(t){i.Struct.setUint16(142,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.adoptLqrState=function(t){i.Struct.setUint16(142,2,this),i.Struct.adopt(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.disownLqrState=function(){return i.Struct.disown(this.getLqrState())},ControlsState_LateralControlState.prototype.getLqrState=function(){return i.Struct.testWhich("lqrState",i.Struct.getUint16(142,this),2,this),i.Struct.getStruct(5,W,this)},ControlsState_LateralControlState.prototype.hasLqrState=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.initLqrState=function(){return i.Struct.setUint16(142,2,this),i.Struct.initStructAt(5,W,this)},ControlsState_LateralControlState.prototype.isLqrState=function(){return 2===i.Struct.getUint16(142,this)},ControlsState_LateralControlState.prototype.setLqrState=function(t){i.Struct.setUint16(142,2,this),i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},ControlsState_LateralControlState.prototype.toString=function(){return"ControlsState_LateralControlState_"+t.prototype.toString.call(this)},ControlsState_LateralControlState.prototype.which=function(){return i.Struct.getUint16(142,this)},ControlsState_LateralControlState.INDI_STATE=V.INDI_STATE,ControlsState_LateralControlState.PID_STATE=V.PID_STATE,ControlsState_LateralControlState.LQR_STATE=V.LQR_STATE,ControlsState_LateralControlState._capnp={displayName:"lateralControlState",id:"fd5b914d6b444695",size:new i.ObjectSize(176,6)},ControlsState_LateralControlState}(i.Struct);e.ControlsState_LateralControlState=q;var H=function(t){function ControlsState(){return null!==t&&t.apply(this,arguments)||this}return n(ControlsState,t),ControlsState.prototype.getCanMonoTimeDEPRECATED=function(){return i.Struct.getUint64(64,this)},ControlsState.prototype.setCanMonoTimeDEPRECATED=function(t){i.Struct.setUint64(64,t,this)},ControlsState.prototype.adoptCanMonoTimes=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},ControlsState.prototype.disownCanMonoTimes=function(){return i.Struct.disown(this.getCanMonoTimes())},ControlsState.prototype.getCanMonoTimes=function(){return i.Struct.getList(0,o.Uint64List,this)},ControlsState.prototype.hasCanMonoTimes=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},ControlsState.prototype.initCanMonoTimes=function(t){return i.Struct.initList(0,o.Uint64List,t,this)},ControlsState.prototype.setCanMonoTimes=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},ControlsState.prototype.getRadarStateMonoTimeDEPRECATED=function(){return i.Struct.getUint64(72,this)},ControlsState.prototype.setRadarStateMonoTimeDEPRECATED=function(t){i.Struct.setUint64(72,t,this)},ControlsState.prototype.getMdMonoTimeDEPRECATED=function(){return i.Struct.getUint64(80,this)},ControlsState.prototype.setMdMonoTimeDEPRECATED=function(t){i.Struct.setUint64(80,t,this)},ControlsState.prototype.getPlanMonoTime=function(){return i.Struct.getUint64(104,this)},ControlsState.prototype.setPlanMonoTime=function(t){i.Struct.setUint64(104,t,this)},ControlsState.prototype.getPathPlanMonoTime=function(){return i.Struct.getUint64(160,this)},ControlsState.prototype.setPathPlanMonoTime=function(t){i.Struct.setUint64(160,t,this)},ControlsState.prototype.getState=function(){return i.Struct.getUint16(116,this)},ControlsState.prototype.setState=function(t){i.Struct.setUint16(116,t,this)},ControlsState.prototype.getVEgo=function(){return i.Struct.getFloat32(0,this)},ControlsState.prototype.setVEgo=function(t){i.Struct.setFloat32(0,t,this)},ControlsState.prototype.getVEgoRaw=function(){return i.Struct.getFloat32(120,this)},ControlsState.prototype.setVEgoRaw=function(t){i.Struct.setFloat32(120,t,this)},ControlsState.prototype.getAEgoDEPRECATED=function(){return i.Struct.getFloat32(4,this)},ControlsState.prototype.setAEgoDEPRECATED=function(t){i.Struct.setFloat32(4,t,this)},ControlsState.prototype.getLongControlState=function(){return i.Struct.getUint16(90,this)},ControlsState.prototype.setLongControlState=function(t){i.Struct.setUint16(90,t,this)},ControlsState.prototype.getVPid=function(){return i.Struct.getFloat32(8,this)},ControlsState.prototype.setVPid=function(t){i.Struct.setFloat32(8,t,this)},ControlsState.prototype.getVTargetLead=function(){return i.Struct.getFloat32(12,this)},ControlsState.prototype.setVTargetLead=function(t){i.Struct.setFloat32(12,t,this)},ControlsState.prototype.getUpAccelCmd=function(){return i.Struct.getFloat32(16,this)},ControlsState.prototype.setUpAccelCmd=function(t){i.Struct.setFloat32(16,t,this)},ControlsState.prototype.getUiAccelCmd=function(){return i.Struct.getFloat32(20,this)},ControlsState.prototype.setUiAccelCmd=function(t){i.Struct.setFloat32(20,t,this)},ControlsState.prototype.getUfAccelCmd=function(){return i.Struct.getFloat32(124,this)},ControlsState.prototype.setUfAccelCmd=function(t){i.Struct.setFloat32(124,t,this)},ControlsState.prototype.getYActualDEPRECATED=function(){return i.Struct.getFloat32(24,this)},ControlsState.prototype.setYActualDEPRECATED=function(t){i.Struct.setFloat32(24,t,this)},ControlsState.prototype.getYDesDEPRECATED=function(){return i.Struct.getFloat32(28,this)},ControlsState.prototype.setYDesDEPRECATED=function(t){i.Struct.setFloat32(28,t,this)},ControlsState.prototype.getUpSteerDEPRECATED=function(){return i.Struct.getFloat32(32,this)},ControlsState.prototype.setUpSteerDEPRECATED=function(t){i.Struct.setFloat32(32,t,this)},ControlsState.prototype.getUiSteerDEPRECATED=function(){return i.Struct.getFloat32(36,this)},ControlsState.prototype.setUiSteerDEPRECATED=function(t){i.Struct.setFloat32(36,t,this)},ControlsState.prototype.getUfSteerDEPRECATED=function(){return i.Struct.getFloat32(128,this)},ControlsState.prototype.setUfSteerDEPRECATED=function(t){i.Struct.setFloat32(128,t,this)},ControlsState.prototype.getATargetMinDEPRECATED=function(){return i.Struct.getFloat32(40,this)},ControlsState.prototype.setATargetMinDEPRECATED=function(t){i.Struct.setFloat32(40,t,this)},ControlsState.prototype.getATargetMaxDEPRECATED=function(){return i.Struct.getFloat32(44,this)},ControlsState.prototype.setATargetMaxDEPRECATED=function(t){i.Struct.setFloat32(44,t,this)},ControlsState.prototype.getATarget=function(){return i.Struct.getFloat32(132,this)},ControlsState.prototype.setATarget=function(t){i.Struct.setFloat32(132,t,this)},ControlsState.prototype.getJerkFactor=function(){return i.Struct.getFloat32(48,this)},ControlsState.prototype.setJerkFactor=function(t){i.Struct.setFloat32(48,t,this)},ControlsState.prototype.getAngleSteers=function(){return i.Struct.getFloat32(52,this)},ControlsState.prototype.setAngleSteers=function(t){i.Struct.setFloat32(52,t,this)},ControlsState.prototype.getAngleSteersDes=function(){return i.Struct.getFloat32(112,this)},ControlsState.prototype.setAngleSteersDes=function(t){i.Struct.setFloat32(112,t,this)},ControlsState.prototype.getCurvature=function(){return i.Struct.getFloat32(136,this)},ControlsState.prototype.setCurvature=function(t){i.Struct.setFloat32(136,t,this)},ControlsState.prototype.getHudLeadDEPRECATED=function(){return i.Struct.getInt32(56,this)},ControlsState.prototype.setHudLeadDEPRECATED=function(t){i.Struct.setInt32(56,t,this)},ControlsState.prototype.getCumLagMs=function(){return i.Struct.getFloat32(60,this)},ControlsState.prototype.setCumLagMs=function(t){i.Struct.setFloat32(60,t,this)},ControlsState.prototype.getStartMonoTime=function(){return i.Struct.getUint64(152,this)},ControlsState.prototype.setStartMonoTime=function(t){i.Struct.setUint64(152,t,this)},ControlsState.prototype.getMapValid=function(){return i.Struct.getBit(712,this)},ControlsState.prototype.setMapValid=function(t){i.Struct.setBit(712,t,this)},ControlsState.prototype.getForceDecel=function(){return i.Struct.getBit(713,this)},ControlsState.prototype.setForceDecel=function(t){i.Struct.setBit(713,t,this)},ControlsState.prototype.getEnabled=function(){return i.Struct.getBit(704,this)},ControlsState.prototype.setEnabled=function(t){i.Struct.setBit(704,t,this)},ControlsState.prototype.getActive=function(){return i.Struct.getBit(707,this)},ControlsState.prototype.setActive=function(t){i.Struct.setBit(707,t,this)},ControlsState.prototype.getSteerOverride=function(){return i.Struct.getBit(705,this)},ControlsState.prototype.setSteerOverride=function(t){i.Struct.setBit(705,t,this)},ControlsState.prototype.getVCruise=function(){return i.Struct.getFloat32(92,this)},ControlsState.prototype.setVCruise=function(t){i.Struct.setFloat32(92,t,this)},ControlsState.prototype.getRearViewCam=function(){return i.Struct.getBit(706,this)},ControlsState.prototype.setRearViewCam=function(t){i.Struct.setBit(706,t,this)},ControlsState.prototype.getAlertText1=function(){return i.Struct.getText(1,this)},ControlsState.prototype.setAlertText1=function(t){i.Struct.setText(1,t,this)},ControlsState.prototype.getAlertText2=function(){return i.Struct.getText(2,this)},ControlsState.prototype.setAlertText2=function(t){i.Struct.setText(2,t,this)},ControlsState.prototype.getAlertStatus=function(){return i.Struct.getUint16(118,this)},ControlsState.prototype.setAlertStatus=function(t){i.Struct.setUint16(118,t,this)},ControlsState.prototype.getAlertSize=function(){return i.Struct.getUint16(140,this)},ControlsState.prototype.setAlertSize=function(t){i.Struct.setUint16(140,t,this)},ControlsState.prototype.getAlertBlinkingRate=function(){return i.Struct.getFloat32(144,this)},ControlsState.prototype.setAlertBlinkingRate=function(t){i.Struct.setFloat32(144,t,this)},ControlsState.prototype.getAlertType=function(){return i.Struct.getText(3,this)},ControlsState.prototype.setAlertType=function(t){i.Struct.setText(3,t,this)},ControlsState.prototype.getAlertSoundDEPRECATED=function(){return i.Struct.getText(4,this)},ControlsState.prototype.setAlertSoundDEPRECATED=function(t){i.Struct.setText(4,t,this)},ControlsState.prototype.getAlertSound=function(){return i.Struct.getUint16(168,this)},ControlsState.prototype.setAlertSound=function(t){i.Struct.setUint16(168,t,this)},ControlsState.prototype.getAwarenessStatus=function(){return i.Struct.getFloat32(96,this)},ControlsState.prototype.setAwarenessStatus=function(t){i.Struct.setFloat32(96,t,this)},ControlsState.prototype.getAngleModelBias=function(){return i.Struct.getFloat32(100,this)},ControlsState.prototype.setAngleModelBias=function(t){i.Struct.setFloat32(100,t,this)},ControlsState.prototype.getGpsPlannerActive=function(){return i.Struct.getBit(708,this)},ControlsState.prototype.setGpsPlannerActive=function(t){i.Struct.setBit(708,t,this)},ControlsState.prototype.getEngageable=function(){return i.Struct.getBit(709,this)},ControlsState.prototype.setEngageable=function(t){i.Struct.setBit(709,t,this)},ControlsState.prototype.getDriverMonitoringOn=function(){return i.Struct.getBit(710,this)},ControlsState.prototype.setDriverMonitoringOn=function(t){i.Struct.setBit(710,t,this)},ControlsState.prototype.getVCurvature=function(){return i.Struct.getFloat32(148,this)},ControlsState.prototype.setVCurvature=function(t){i.Struct.setFloat32(148,t,this)},ControlsState.prototype.getDecelForTurn=function(){return i.Struct.getBit(711,this)},ControlsState.prototype.setDecelForTurn=function(t){i.Struct.setBit(711,t,this)},ControlsState.prototype.getDecelForModel=function(){return i.Struct.getBit(714,this)},ControlsState.prototype.setDecelForModel=function(t){i.Struct.setBit(714,t,this)},ControlsState.prototype.getLateralControlState=function(){return i.Struct.getAs(q,this)},ControlsState.prototype.initLateralControlState=function(){return i.Struct.getAs(q,this)},ControlsState.prototype.toString=function(){return"ControlsState_"+t.prototype.toString.call(this)},ControlsState.OpenpilotState=F,ControlsState.LongControlState=N,ControlsState.AlertStatus=B,ControlsState.AlertSize=U,ControlsState.LateralINDIState=j,ControlsState.LateralPIDState=G,ControlsState.LateralLQRState=W,ControlsState._capnp={displayName:"ControlsState",id:"97ff69c53601abf1",size:new i.ObjectSize(176,6)},ControlsState}(i.Struct);e.ControlsState=H;var K=function(t){function LiveEventData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveEventData,t),LiveEventData.prototype.getName=function(){return i.Struct.getText(0,this)},LiveEventData.prototype.setName=function(t){i.Struct.setText(0,t,this)},LiveEventData.prototype.getValue=function(){return i.Struct.getInt32(0,this)},LiveEventData.prototype.setValue=function(t){i.Struct.setInt32(0,t,this)},LiveEventData.prototype.toString=function(){return"LiveEventData_"+t.prototype.toString.call(this)},LiveEventData._capnp={displayName:"LiveEventData",id:"94b7baa90c5c321e",size:new i.ObjectSize(8,1)},LiveEventData}(i.Struct);e.LiveEventData=K;var Y=function(t){function ModelData_PathData(){return null!==t&&t.apply(this,arguments)||this}return n(ModelData_PathData,t),ModelData_PathData.prototype.adoptPoints=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},ModelData_PathData.prototype.disownPoints=function(){return i.Struct.disown(this.getPoints())},ModelData_PathData.prototype.getPoints=function(){return i.Struct.getList(0,o.Float32List,this)},ModelData_PathData.prototype.hasPoints=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},ModelData_PathData.prototype.initPoints=function(t){return i.Struct.initList(0,o.Float32List,t,this)},ModelData_PathData.prototype.setPoints=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},ModelData_PathData.prototype.getProb=function(){return i.Struct.getFloat32(0,this)},ModelData_PathData.prototype.setProb=function(t){i.Struct.setFloat32(0,t,this)},ModelData_PathData.prototype.getStd=function(){return i.Struct.getFloat32(4,this)},ModelData_PathData.prototype.setStd=function(t){i.Struct.setFloat32(4,t,this)},ModelData_PathData.prototype.adoptStds=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},ModelData_PathData.prototype.disownStds=function(){return i.Struct.disown(this.getStds())},ModelData_PathData.prototype.getStds=function(){return i.Struct.getList(1,o.Float32List,this)},ModelData_PathData.prototype.hasStds=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},ModelData_PathData.prototype.initStds=function(t){return i.Struct.initList(1,o.Float32List,t,this)},ModelData_PathData.prototype.setStds=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},ModelData_PathData.prototype.adoptPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},ModelData_PathData.prototype.disownPoly=function(){return i.Struct.disown(this.getPoly())},ModelData_PathData.prototype.getPoly=function(){return i.Struct.getList(2,o.Float32List,this)},ModelData_PathData.prototype.hasPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},ModelData_PathData.prototype.initPoly=function(t){return i.Struct.initList(2,o.Float32List,t,this)},ModelData_PathData.prototype.setPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},ModelData_PathData.prototype.toString=function(){return"ModelData_PathData_"+t.prototype.toString.call(this)},ModelData_PathData._capnp={displayName:"PathData",id:"8817eeea389e9f08",size:new i.ObjectSize(8,3)},ModelData_PathData}(i.Struct);e.ModelData_PathData=Y;var Z=function(t){function ModelData_LeadData(){return null!==t&&t.apply(this,arguments)||this}return n(ModelData_LeadData,t),ModelData_LeadData.prototype.getDist=function(){return i.Struct.getFloat32(0,this)},ModelData_LeadData.prototype.setDist=function(t){i.Struct.setFloat32(0,t,this)},ModelData_LeadData.prototype.getProb=function(){return i.Struct.getFloat32(4,this)},ModelData_LeadData.prototype.setProb=function(t){i.Struct.setFloat32(4,t,this)},ModelData_LeadData.prototype.getStd=function(){return i.Struct.getFloat32(8,this)},ModelData_LeadData.prototype.setStd=function(t){i.Struct.setFloat32(8,t,this)},ModelData_LeadData.prototype.getRelVel=function(){return i.Struct.getFloat32(12,this)},ModelData_LeadData.prototype.setRelVel=function(t){i.Struct.setFloat32(12,t,this)},ModelData_LeadData.prototype.getRelVelStd=function(){return i.Struct.getFloat32(16,this)},ModelData_LeadData.prototype.setRelVelStd=function(t){i.Struct.setFloat32(16,t,this)},ModelData_LeadData.prototype.getRelY=function(){return i.Struct.getFloat32(20,this)},ModelData_LeadData.prototype.setRelY=function(t){i.Struct.setFloat32(20,t,this)},ModelData_LeadData.prototype.getRelYStd=function(){return i.Struct.getFloat32(24,this)},ModelData_LeadData.prototype.setRelYStd=function(t){i.Struct.setFloat32(24,t,this)},ModelData_LeadData.prototype.getRelA=function(){return i.Struct.getFloat32(28,this)},ModelData_LeadData.prototype.setRelA=function(t){i.Struct.setFloat32(28,t,this)},ModelData_LeadData.prototype.getRelAStd=function(){return i.Struct.getFloat32(32,this)},ModelData_LeadData.prototype.setRelAStd=function(t){i.Struct.setFloat32(32,t,this)},ModelData_LeadData.prototype.toString=function(){return"ModelData_LeadData_"+t.prototype.toString.call(this)},ModelData_LeadData._capnp={displayName:"LeadData",id:"d1c9bef96d26fa91",size:new i.ObjectSize(40,0)},ModelData_LeadData}(i.Struct);e.ModelData_LeadData=Z;var X=function(t){function ModelData_ModelSettings(){return null!==t&&t.apply(this,arguments)||this}return n(ModelData_ModelSettings,t),ModelData_ModelSettings.prototype.getBigBoxX=function(){return i.Struct.getUint16(0,this)},ModelData_ModelSettings.prototype.setBigBoxX=function(t){i.Struct.setUint16(0,t,this)},ModelData_ModelSettings.prototype.getBigBoxY=function(){return i.Struct.getUint16(2,this)},ModelData_ModelSettings.prototype.setBigBoxY=function(t){i.Struct.setUint16(2,t,this)},ModelData_ModelSettings.prototype.getBigBoxWidth=function(){return i.Struct.getUint16(4,this)},ModelData_ModelSettings.prototype.setBigBoxWidth=function(t){i.Struct.setUint16(4,t,this)},ModelData_ModelSettings.prototype.getBigBoxHeight=function(){return i.Struct.getUint16(6,this)},ModelData_ModelSettings.prototype.setBigBoxHeight=function(t){i.Struct.setUint16(6,t,this)},ModelData_ModelSettings.prototype.adoptBoxProjection=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},ModelData_ModelSettings.prototype.disownBoxProjection=function(){return i.Struct.disown(this.getBoxProjection())},ModelData_ModelSettings.prototype.getBoxProjection=function(){return i.Struct.getList(0,o.Float32List,this)},ModelData_ModelSettings.prototype.hasBoxProjection=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},ModelData_ModelSettings.prototype.initBoxProjection=function(t){return i.Struct.initList(0,o.Float32List,t,this)},ModelData_ModelSettings.prototype.setBoxProjection=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},ModelData_ModelSettings.prototype.adoptYuvCorrection=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},ModelData_ModelSettings.prototype.disownYuvCorrection=function(){return i.Struct.disown(this.getYuvCorrection())},ModelData_ModelSettings.prototype.getYuvCorrection=function(){return i.Struct.getList(1,o.Float32List,this)},ModelData_ModelSettings.prototype.hasYuvCorrection=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},ModelData_ModelSettings.prototype.initYuvCorrection=function(t){return i.Struct.initList(1,o.Float32List,t,this)},ModelData_ModelSettings.prototype.setYuvCorrection=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},ModelData_ModelSettings.prototype.adoptInputTransform=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},ModelData_ModelSettings.prototype.disownInputTransform=function(){return i.Struct.disown(this.getInputTransform())},ModelData_ModelSettings.prototype.getInputTransform=function(){return i.Struct.getList(2,o.Float32List,this)},ModelData_ModelSettings.prototype.hasInputTransform=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},ModelData_ModelSettings.prototype.initInputTransform=function(t){return i.Struct.initList(2,o.Float32List,t,this)},ModelData_ModelSettings.prototype.setInputTransform=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},ModelData_ModelSettings.prototype.toString=function(){return"ModelData_ModelSettings_"+t.prototype.toString.call(this)},ModelData_ModelSettings._capnp={displayName:"ModelSettings",id:"a26e3710efd3e914",size:new i.ObjectSize(8,3)},ModelData_ModelSettings}(i.Struct);e.ModelData_ModelSettings=X;var Q=function(t){function ModelData(){return null!==t&&t.apply(this,arguments)||this}return n(ModelData,t),ModelData.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},ModelData.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},ModelData.prototype.adoptPath=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},ModelData.prototype.disownPath=function(){return i.Struct.disown(this.getPath())},ModelData.prototype.getPath=function(){return i.Struct.getStruct(0,Y,this)},ModelData.prototype.hasPath=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},ModelData.prototype.initPath=function(){return i.Struct.initStructAt(0,Y,this)},ModelData.prototype.setPath=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},ModelData.prototype.adoptLeftLane=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},ModelData.prototype.disownLeftLane=function(){return i.Struct.disown(this.getLeftLane())},ModelData.prototype.getLeftLane=function(){return i.Struct.getStruct(1,Y,this)},ModelData.prototype.hasLeftLane=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},ModelData.prototype.initLeftLane=function(){return i.Struct.initStructAt(1,Y,this)},ModelData.prototype.setLeftLane=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},ModelData.prototype.adoptRightLane=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},ModelData.prototype.disownRightLane=function(){return i.Struct.disown(this.getRightLane())},ModelData.prototype.getRightLane=function(){return i.Struct.getStruct(2,Y,this)},ModelData.prototype.hasRightLane=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},ModelData.prototype.initRightLane=function(){return i.Struct.initStructAt(2,Y,this)},ModelData.prototype.setRightLane=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},ModelData.prototype.adoptLead=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},ModelData.prototype.disownLead=function(){return i.Struct.disown(this.getLead())},ModelData.prototype.getLead=function(){return i.Struct.getStruct(3,Z,this)},ModelData.prototype.hasLead=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},ModelData.prototype.initLead=function(){return i.Struct.initStructAt(3,Z,this)},ModelData.prototype.setLead=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},ModelData.prototype.adoptFreePath=function(t){i.Struct.adopt(t,i.Struct.getPointer(5,this))},ModelData.prototype.disownFreePath=function(){return i.Struct.disown(this.getFreePath())},ModelData.prototype.getFreePath=function(){return i.Struct.getList(5,o.Float32List,this)},ModelData.prototype.hasFreePath=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},ModelData.prototype.initFreePath=function(t){return i.Struct.initList(5,o.Float32List,t,this)},ModelData.prototype.setFreePath=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},ModelData.prototype.adoptSettings=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},ModelData.prototype.disownSettings=function(){return i.Struct.disown(this.getSettings())},ModelData.prototype.getSettings=function(){return i.Struct.getStruct(4,X,this)},ModelData.prototype.hasSettings=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},ModelData.prototype.initSettings=function(){return i.Struct.initStructAt(4,X,this)},ModelData.prototype.setSettings=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},ModelData.prototype.adoptLeadFuture=function(t){i.Struct.adopt(t,i.Struct.getPointer(6,this))},ModelData.prototype.disownLeadFuture=function(){return i.Struct.disown(this.getLeadFuture())},ModelData.prototype.getLeadFuture=function(){return i.Struct.getStruct(6,Z,this)},ModelData.prototype.hasLeadFuture=function(){return!i.Struct.isNull(i.Struct.getPointer(6,this))},ModelData.prototype.initLeadFuture=function(){return i.Struct.initStructAt(6,Z,this)},ModelData.prototype.setLeadFuture=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(6,this))},ModelData.prototype.adoptSpeed=function(t){i.Struct.adopt(t,i.Struct.getPointer(7,this))},ModelData.prototype.disownSpeed=function(){return i.Struct.disown(this.getSpeed())},ModelData.prototype.getSpeed=function(){return i.Struct.getList(7,o.Float32List,this)},ModelData.prototype.hasSpeed=function(){return!i.Struct.isNull(i.Struct.getPointer(7,this))},ModelData.prototype.initSpeed=function(t){return i.Struct.initList(7,o.Float32List,t,this)},ModelData.prototype.setSpeed=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(7,this))},ModelData.prototype.toString=function(){return"ModelData_"+t.prototype.toString.call(this)},ModelData.PathData=Y,ModelData.LeadData=Z,ModelData.ModelSettings=X,ModelData._capnp={displayName:"ModelData",id:"b8aad62cffef28a9",size:new i.ObjectSize(8,8)},ModelData}(i.Struct);e.ModelData=Q;var $,J=function(t){function CalibrationFeatures(){return null!==t&&t.apply(this,arguments)||this}return n(CalibrationFeatures,t),CalibrationFeatures.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},CalibrationFeatures.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},CalibrationFeatures.prototype.adoptP0=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},CalibrationFeatures.prototype.disownP0=function(){return i.Struct.disown(this.getP0())},CalibrationFeatures.prototype.getP0=function(){return i.Struct.getList(0,o.Float32List,this)},CalibrationFeatures.prototype.hasP0=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},CalibrationFeatures.prototype.initP0=function(t){return i.Struct.initList(0,o.Float32List,t,this)},CalibrationFeatures.prototype.setP0=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},CalibrationFeatures.prototype.adoptP1=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},CalibrationFeatures.prototype.disownP1=function(){return i.Struct.disown(this.getP1())},CalibrationFeatures.prototype.getP1=function(){return i.Struct.getList(1,o.Float32List,this)},CalibrationFeatures.prototype.hasP1=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},CalibrationFeatures.prototype.initP1=function(t){return i.Struct.initList(1,o.Float32List,t,this)},CalibrationFeatures.prototype.setP1=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},CalibrationFeatures.prototype.adoptStatus=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},CalibrationFeatures.prototype.disownStatus=function(){return i.Struct.disown(this.getStatus())},CalibrationFeatures.prototype.getStatus=function(){return i.Struct.getList(2,o.Int8List,this)},CalibrationFeatures.prototype.hasStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},CalibrationFeatures.prototype.initStatus=function(t){return i.Struct.initList(2,o.Int8List,t,this)},CalibrationFeatures.prototype.setStatus=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},CalibrationFeatures.prototype.toString=function(){return"CalibrationFeatures_"+t.prototype.toString.call(this)},CalibrationFeatures._capnp={displayName:"CalibrationFeatures",id:"8fdfadb254ea867a",size:new i.ObjectSize(8,3)},CalibrationFeatures}(i.Struct);e.CalibrationFeatures=J,function(t){t[t.BIG_BOX_LOSSLESS=0]="BIG_BOX_LOSSLESS",t[t.FULL_HEVC=1]="FULL_HEVC",t[t.BIG_BOX_HEVC=2]="BIG_BOX_HEVC",t[t.CHFFR_ANDROID_H264=3]="CHFFR_ANDROID_H264",t[t.FULL_LOSSLESS_CLIP=4]="FULL_LOSSLESS_CLIP",t[t.FRONT=5]="FRONT"}($=e.EncodeIndex_Type||(e.EncodeIndex_Type={}));var tt=function(t){function EncodeIndex(){return null!==t&&t.apply(this,arguments)||this}return n(EncodeIndex,t),EncodeIndex.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},EncodeIndex.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},EncodeIndex.prototype.getType=function(){return i.Struct.getUint16(4,this)},EncodeIndex.prototype.setType=function(t){i.Struct.setUint16(4,t,this)},EncodeIndex.prototype.getEncodeId=function(){return i.Struct.getUint32(8,this)},EncodeIndex.prototype.setEncodeId=function(t){i.Struct.setUint32(8,t,this)},EncodeIndex.prototype.getSegmentNum=function(){return i.Struct.getInt32(12,this)},EncodeIndex.prototype.setSegmentNum=function(t){i.Struct.setInt32(12,t,this)},EncodeIndex.prototype.getSegmentId=function(){return i.Struct.getUint32(16,this)},EncodeIndex.prototype.setSegmentId=function(t){i.Struct.setUint32(16,t,this)},EncodeIndex.prototype.getSegmentIdEncode=function(){return i.Struct.getUint32(20,this)},EncodeIndex.prototype.setSegmentIdEncode=function(t){i.Struct.setUint32(20,t,this)},EncodeIndex.prototype.toString=function(){return"EncodeIndex_"+t.prototype.toString.call(this)},EncodeIndex.Type=$,EncodeIndex._capnp={displayName:"EncodeIndex",id:"89d394e3541735fc",size:new i.ObjectSize(24,0)},EncodeIndex}(i.Struct);e.EncodeIndex=tt;var et=function(t){function AndroidLogEntry(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidLogEntry,t),AndroidLogEntry.prototype.getId=function(){return i.Struct.getUint8(0,this)},AndroidLogEntry.prototype.setId=function(t){i.Struct.setUint8(0,t,this)},AndroidLogEntry.prototype.getTs=function(){return i.Struct.getUint64(8,this)},AndroidLogEntry.prototype.setTs=function(t){i.Struct.setUint64(8,t,this)},AndroidLogEntry.prototype.getPriority=function(){return i.Struct.getUint8(1,this)},AndroidLogEntry.prototype.setPriority=function(t){i.Struct.setUint8(1,t,this)},AndroidLogEntry.prototype.getPid=function(){return i.Struct.getInt32(4,this)},AndroidLogEntry.prototype.setPid=function(t){i.Struct.setInt32(4,t,this)},AndroidLogEntry.prototype.getTid=function(){return i.Struct.getInt32(16,this)},AndroidLogEntry.prototype.setTid=function(t){i.Struct.setInt32(16,t,this)},AndroidLogEntry.prototype.getTag=function(){return i.Struct.getText(0,this)},AndroidLogEntry.prototype.setTag=function(t){i.Struct.setText(0,t,this)},AndroidLogEntry.prototype.getMessage=function(){return i.Struct.getText(1,this)},AndroidLogEntry.prototype.setMessage=function(t){i.Struct.setText(1,t,this)},AndroidLogEntry.prototype.toString=function(){return"AndroidLogEntry_"+t.prototype.toString.call(this)},AndroidLogEntry._capnp={displayName:"AndroidLogEntry",id:"ea095da1894f7d85",size:new i.ObjectSize(24,2)},AndroidLogEntry}(i.Struct);e.AndroidLogEntry=et;var rt=function(t){function LogRotate(){return null!==t&&t.apply(this,arguments)||this}return n(LogRotate,t),LogRotate.prototype.getSegmentNum=function(){return i.Struct.getInt32(0,this)},LogRotate.prototype.setSegmentNum=function(t){i.Struct.setInt32(0,t,this)},LogRotate.prototype.getPath=function(){return i.Struct.getText(0,this)},LogRotate.prototype.setPath=function(t){i.Struct.setText(0,t,this)},LogRotate.prototype.toString=function(){return"LogRotate_"+t.prototype.toString.call(this)},LogRotate._capnp={displayName:"LogRotate",id:"9811e1f38f62f2d1",size:new i.ObjectSize(8,1)},LogRotate}(i.Struct);e.LogRotate=rt;var nt,ot=function(t){function Plan_GpsTrajectory(){return null!==t&&t.apply(this,arguments)||this}return n(Plan_GpsTrajectory,t),Plan_GpsTrajectory.prototype.adoptX=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Plan_GpsTrajectory.prototype.disownX=function(){return i.Struct.disown(this.getX())},Plan_GpsTrajectory.prototype.getX=function(){return i.Struct.getList(0,o.Float32List,this)},Plan_GpsTrajectory.prototype.hasX=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Plan_GpsTrajectory.prototype.initX=function(t){return i.Struct.initList(0,o.Float32List,t,this)},Plan_GpsTrajectory.prototype.setX=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Plan_GpsTrajectory.prototype.adoptY=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},Plan_GpsTrajectory.prototype.disownY=function(){return i.Struct.disown(this.getY())},Plan_GpsTrajectory.prototype.getY=function(){return i.Struct.getList(1,o.Float32List,this)},Plan_GpsTrajectory.prototype.hasY=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},Plan_GpsTrajectory.prototype.initY=function(t){return i.Struct.initList(1,o.Float32List,t,this)},Plan_GpsTrajectory.prototype.setY=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},Plan_GpsTrajectory.prototype.toString=function(){return"Plan_GpsTrajectory_"+t.prototype.toString.call(this)},Plan_GpsTrajectory._capnp={displayName:"GpsTrajectory",id:"8cfeb072f5301000",size:new i.ObjectSize(0,2)},Plan_GpsTrajectory}(i.Struct);e.Plan_GpsTrajectory=ot,function(t){t[t.CRUISE=0]="CRUISE",t[t.MPC1=1]="MPC1",t[t.MPC2=2]="MPC2",t[t.MPC3=3]="MPC3",t[t.MODEL=4]="MODEL"}(nt=e.Plan_LongitudinalPlanSource||(e.Plan_LongitudinalPlanSource={}));var it=function(t){function Plan(){return null!==t&&t.apply(this,arguments)||this}return n(Plan,t),Plan.prototype.getMdMonoTime=function(){return i.Struct.getUint64(24,this)},Plan.prototype.setMdMonoTime=function(t){i.Struct.setUint64(24,t,this)},Plan.prototype.getRadarStateMonoTime=function(){return i.Struct.getUint64(32,this)},Plan.prototype.setRadarStateMonoTime=function(t){i.Struct.setUint64(32,t,this)},Plan.prototype.getCommIssue=function(){return i.Struct.getBit(11,this)},Plan.prototype.setCommIssue=function(t){i.Struct.setBit(11,t,this)},Plan.prototype.adoptEventsDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},Plan.prototype.disownEventsDEPRECATED=function(){return i.Struct.disown(this.getEventsDEPRECATED())},Plan.prototype.getEventsDEPRECATED=function(){return i.Struct.getList(2,Plan._EventsDEPRECATED,this)},Plan.prototype.hasEventsDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},Plan.prototype.initEventsDEPRECATED=function(t){return i.Struct.initList(2,Plan._EventsDEPRECATED,t,this)},Plan.prototype.setEventsDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},Plan.prototype.getLateralValidDEPRECATED=function(){return i.Struct.getBit(0,this)},Plan.prototype.setLateralValidDEPRECATED=function(t){i.Struct.setBit(0,t,this)},Plan.prototype.adoptDPolyDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Plan.prototype.disownDPolyDEPRECATED=function(){return i.Struct.disown(this.getDPolyDEPRECATED())},Plan.prototype.getDPolyDEPRECATED=function(){return i.Struct.getList(0,o.Float32List,this)},Plan.prototype.hasDPolyDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Plan.prototype.initDPolyDEPRECATED=function(t){return i.Struct.initList(0,o.Float32List,t,this)},Plan.prototype.setDPolyDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Plan.prototype.getLaneWidthDEPRECATED=function(){return i.Struct.getFloat32(20,this)},Plan.prototype.setLaneWidthDEPRECATED=function(t){i.Struct.setFloat32(20,t,this)},Plan.prototype.getLongitudinalValidDEPRECATED=function(){return i.Struct.getBit(1,this)},Plan.prototype.setLongitudinalValidDEPRECATED=function(t){i.Struct.setBit(1,t,this)},Plan.prototype.getVCruise=function(){return i.Struct.getFloat32(44,this)},Plan.prototype.setVCruise=function(t){i.Struct.setFloat32(44,t,this)},Plan.prototype.getACruise=function(){return i.Struct.getFloat32(48,this)},Plan.prototype.setACruise=function(t){i.Struct.setFloat32(48,t,this)},Plan.prototype.getVTarget=function(){return i.Struct.getFloat32(4,this)},Plan.prototype.setVTarget=function(t){i.Struct.setFloat32(4,t,this)},Plan.prototype.getVTargetFuture=function(){return i.Struct.getFloat32(40,this)},Plan.prototype.setVTargetFuture=function(t){i.Struct.setFloat32(40,t,this)},Plan.prototype.getVMax=function(){return i.Struct.getFloat32(56,this)},Plan.prototype.setVMax=function(t){i.Struct.setFloat32(56,t,this)},Plan.prototype.getATargetMinDEPRECATED=function(){return i.Struct.getFloat32(8,this)},Plan.prototype.setATargetMinDEPRECATED=function(t){i.Struct.setFloat32(8,t,this)},Plan.prototype.getATargetMaxDEPRECATED=function(){return i.Struct.getFloat32(12,this)},Plan.prototype.setATargetMaxDEPRECATED=function(t){i.Struct.setFloat32(12,t,this)},Plan.prototype.getATarget=function(){return i.Struct.getFloat32(52,this)},Plan.prototype.setATarget=function(t){i.Struct.setFloat32(52,t,this)},Plan.prototype.getVStart=function(){return i.Struct.getFloat32(64,this)},Plan.prototype.setVStart=function(t){i.Struct.setFloat32(64,t,this)},Plan.prototype.getAStart=function(){return i.Struct.getFloat32(68,this)},Plan.prototype.setAStart=function(t){i.Struct.setFloat32(68,t,this)},Plan.prototype.getJerkFactor=function(){return i.Struct.getFloat32(16,this)},Plan.prototype.setJerkFactor=function(t){i.Struct.setFloat32(16,t,this)},Plan.prototype.getHasLead=function(){return i.Struct.getBit(2,this)},Plan.prototype.setHasLead=function(t){i.Struct.setBit(2,t,this)},Plan.prototype.getHasLeftLaneDEPRECATED=function(){return i.Struct.getBit(6,this)},Plan.prototype.setHasLeftLaneDEPRECATED=function(t){i.Struct.setBit(6,t,this)},Plan.prototype.getHasRightLaneDEPRECATED=function(){return i.Struct.getBit(7,this)},Plan.prototype.setHasRightLaneDEPRECATED=function(t){i.Struct.setBit(7,t,this)},Plan.prototype.getFcw=function(){return i.Struct.getBit(3,this)},Plan.prototype.setFcw=function(t){i.Struct.setBit(3,t,this)},Plan.prototype.getLongitudinalPlanSource=function(){return i.Struct.getUint16(2,this)},Plan.prototype.setLongitudinalPlanSource=function(t){i.Struct.setUint16(2,t,this)},Plan.prototype.adoptGpsTrajectory=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},Plan.prototype.disownGpsTrajectory=function(){return i.Struct.disown(this.getGpsTrajectory())},Plan.prototype.getGpsTrajectory=function(){return i.Struct.getStruct(1,ot,this)},Plan.prototype.hasGpsTrajectory=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},Plan.prototype.initGpsTrajectory=function(){return i.Struct.initStructAt(1,ot,this)},Plan.prototype.setGpsTrajectory=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},Plan.prototype.getGpsPlannerActive=function(){return i.Struct.getBit(4,this)},Plan.prototype.setGpsPlannerActive=function(t){i.Struct.setBit(4,t,this)},Plan.prototype.getVCurvature=function(){return i.Struct.getFloat32(60,this)},Plan.prototype.setVCurvature=function(t){i.Struct.setFloat32(60,t,this)},Plan.prototype.getDecelForTurn=function(){return i.Struct.getBit(5,this)},Plan.prototype.setDecelForTurn=function(t){i.Struct.setBit(5,t,this)},Plan.prototype.getMapValid=function(){return i.Struct.getBit(8,this)},Plan.prototype.setMapValid=function(t){i.Struct.setBit(8,t,this)},Plan.prototype.getRadarValid=function(){return i.Struct.getBit(9,this)},Plan.prototype.setRadarValid=function(t){i.Struct.setBit(9,t,this)},Plan.prototype.getRadarCanError=function(){return i.Struct.getBit(10,this)},Plan.prototype.setRadarCanError=function(t){i.Struct.setBit(10,t,this)},Plan.prototype.getProcessingDelay=function(){return i.Struct.getFloat32(72,this)},Plan.prototype.setProcessingDelay=function(t){i.Struct.setFloat32(72,t,this)},Plan.prototype.toString=function(){return"Plan_"+t.prototype.toString.call(this)},Plan.GpsTrajectory=ot,Plan.LongitudinalPlanSource=nt,Plan._capnp={displayName:"Plan",id:"e00b5b3eba12876c",size:new i.ObjectSize(80,3)},Plan}(i.Struct);e.Plan=it;var at=function(t){function PathPlan(){return null!==t&&t.apply(this,arguments)||this}return n(PathPlan,t),PathPlan.prototype.getLaneWidth=function(){return i.Struct.getFloat32(0,this)},PathPlan.prototype.setLaneWidth=function(t){i.Struct.setFloat32(0,t,this)},PathPlan.prototype.adoptDPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},PathPlan.prototype.disownDPoly=function(){return i.Struct.disown(this.getDPoly())},PathPlan.prototype.getDPoly=function(){return i.Struct.getList(0,o.Float32List,this)},PathPlan.prototype.hasDPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},PathPlan.prototype.initDPoly=function(t){return i.Struct.initList(0,o.Float32List,t,this)},PathPlan.prototype.setDPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},PathPlan.prototype.adoptCPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},PathPlan.prototype.disownCPoly=function(){return i.Struct.disown(this.getCPoly())},PathPlan.prototype.getCPoly=function(){return i.Struct.getList(1,o.Float32List,this)},PathPlan.prototype.hasCPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},PathPlan.prototype.initCPoly=function(t){return i.Struct.initList(1,o.Float32List,t,this)},PathPlan.prototype.setCPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},PathPlan.prototype.getCProb=function(){return i.Struct.getFloat32(4,this)},PathPlan.prototype.setCProb=function(t){i.Struct.setFloat32(4,t,this)},PathPlan.prototype.adoptLPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},PathPlan.prototype.disownLPoly=function(){return i.Struct.disown(this.getLPoly())},PathPlan.prototype.getLPoly=function(){return i.Struct.getList(2,o.Float32List,this)},PathPlan.prototype.hasLPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},PathPlan.prototype.initLPoly=function(t){return i.Struct.initList(2,o.Float32List,t,this)},PathPlan.prototype.setLPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},PathPlan.prototype.getLProb=function(){return i.Struct.getFloat32(8,this)},PathPlan.prototype.setLProb=function(t){i.Struct.setFloat32(8,t,this)},PathPlan.prototype.adoptRPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},PathPlan.prototype.disownRPoly=function(){return i.Struct.disown(this.getRPoly())},PathPlan.prototype.getRPoly=function(){return i.Struct.getList(3,o.Float32List,this)},PathPlan.prototype.hasRPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},PathPlan.prototype.initRPoly=function(t){return i.Struct.initList(3,o.Float32List,t,this)},PathPlan.prototype.setRPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},PathPlan.prototype.getRProb=function(){return i.Struct.getFloat32(12,this)},PathPlan.prototype.setRProb=function(t){i.Struct.setFloat32(12,t,this)},PathPlan.prototype.getAngleSteers=function(){return i.Struct.getFloat32(16,this)},PathPlan.prototype.setAngleSteers=function(t){i.Struct.setFloat32(16,t,this)},PathPlan.prototype.getRateSteers=function(){return i.Struct.getFloat32(28,this)},PathPlan.prototype.setRateSteers=function(t){i.Struct.setFloat32(28,t,this)},PathPlan.prototype.getMpcSolutionValid=function(){return i.Struct.getBit(160,this)},PathPlan.prototype.setMpcSolutionValid=function(t){i.Struct.setBit(160,t,this)},PathPlan.prototype.getParamsValid=function(){return i.Struct.getBit(161,this)},PathPlan.prototype.setParamsValid=function(t){i.Struct.setBit(161,t,this)},PathPlan.prototype.getModelValidDEPRECATED=function(){return i.Struct.getBit(162,this)},PathPlan.prototype.setModelValidDEPRECATED=function(t){i.Struct.setBit(162,t,this)},PathPlan.prototype.getAngleOffset=function(){return i.Struct.getFloat32(24,this)},PathPlan.prototype.setAngleOffset=function(t){i.Struct.setFloat32(24,t,this)},PathPlan.prototype.getSensorValid=function(){return i.Struct.getBit(163,this)},PathPlan.prototype.setSensorValid=function(t){i.Struct.setBit(163,t,this)},PathPlan.prototype.getCommIssue=function(){return i.Struct.getBit(164,this)},PathPlan.prototype.setCommIssue=function(t){i.Struct.setBit(164,t,this)},PathPlan.prototype.getPosenetValid=function(){return i.Struct.getBit(165,this)},PathPlan.prototype.setPosenetValid=function(t){i.Struct.setBit(165,t,this)},PathPlan.prototype.toString=function(){return"PathPlan_"+t.prototype.toString.call(this)},PathPlan._capnp={displayName:"PathPlan",id:"e1e9318e2ae8b51e",size:new i.ObjectSize(32,4)},PathPlan}(i.Struct);e.PathPlan=at;var st,ut=function(t){function LiveLocationData_Accuracy(){return null!==t&&t.apply(this,arguments)||this}return n(LiveLocationData_Accuracy,t),LiveLocationData_Accuracy.prototype.adoptPNEDError=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveLocationData_Accuracy.prototype.disownPNEDError=function(){return i.Struct.disown(this.getPNEDError())},LiveLocationData_Accuracy.prototype.getPNEDError=function(){return i.Struct.getList(0,o.Float32List,this)},LiveLocationData_Accuracy.prototype.hasPNEDError=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveLocationData_Accuracy.prototype.initPNEDError=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveLocationData_Accuracy.prototype.setPNEDError=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveLocationData_Accuracy.prototype.adoptVNEDError=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveLocationData_Accuracy.prototype.disownVNEDError=function(){return i.Struct.disown(this.getVNEDError())},LiveLocationData_Accuracy.prototype.getVNEDError=function(){return i.Struct.getList(1,o.Float32List,this)},LiveLocationData_Accuracy.prototype.hasVNEDError=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveLocationData_Accuracy.prototype.initVNEDError=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveLocationData_Accuracy.prototype.setVNEDError=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveLocationData_Accuracy.prototype.getRollError=function(){return i.Struct.getFloat32(0,this)},LiveLocationData_Accuracy.prototype.setRollError=function(t){i.Struct.setFloat32(0,t,this)},LiveLocationData_Accuracy.prototype.getPitchError=function(){return i.Struct.getFloat32(4,this)},LiveLocationData_Accuracy.prototype.setPitchError=function(t){i.Struct.setFloat32(4,t,this)},LiveLocationData_Accuracy.prototype.getHeadingError=function(){return i.Struct.getFloat32(8,this)},LiveLocationData_Accuracy.prototype.setHeadingError=function(t){i.Struct.setFloat32(8,t,this)},LiveLocationData_Accuracy.prototype.getEllipsoidSemiMajorError=function(){return i.Struct.getFloat32(12,this)},LiveLocationData_Accuracy.prototype.setEllipsoidSemiMajorError=function(t){i.Struct.setFloat32(12,t,this)},LiveLocationData_Accuracy.prototype.getEllipsoidSemiMinorError=function(){return i.Struct.getFloat32(16,this)},LiveLocationData_Accuracy.prototype.setEllipsoidSemiMinorError=function(t){i.Struct.setFloat32(16,t,this)},LiveLocationData_Accuracy.prototype.getEllipsoidOrientationError=function(){return i.Struct.getFloat32(20,this)},LiveLocationData_Accuracy.prototype.setEllipsoidOrientationError=function(t){i.Struct.setFloat32(20,t,this)},LiveLocationData_Accuracy.prototype.toString=function(){return"LiveLocationData_Accuracy_"+t.prototype.toString.call(this)},LiveLocationData_Accuracy._capnp={displayName:"Accuracy",id:"943dc4625473b03f",size:new i.ObjectSize(24,2)},LiveLocationData_Accuracy}(i.Struct);e.LiveLocationData_Accuracy=ut,function(t){t[t.APPLANIX=0]="APPLANIX",t[t.KALMAN=1]="KALMAN",t[t.ORBSLAM=2]="ORBSLAM",t[t.TIMING=3]="TIMING",t[t.DUMMY=4]="DUMMY"}(st=e.LiveLocationData_SensorSource||(e.LiveLocationData_SensorSource={}));var lt=function(t){function LiveLocationData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveLocationData,t),LiveLocationData.prototype.getStatus=function(){return i.Struct.getUint8(0,this)},LiveLocationData.prototype.setStatus=function(t){i.Struct.setUint8(0,t,this)},LiveLocationData.prototype.getLat=function(){return i.Struct.getFloat64(8,this)},LiveLocationData.prototype.setLat=function(t){i.Struct.setFloat64(8,t,this)},LiveLocationData.prototype.getLon=function(){return i.Struct.getFloat64(16,this)},LiveLocationData.prototype.setLon=function(t){i.Struct.setFloat64(16,t,this)},LiveLocationData.prototype.getAlt=function(){return i.Struct.getFloat32(4,this)},LiveLocationData.prototype.setAlt=function(t){i.Struct.setFloat32(4,t,this)},LiveLocationData.prototype.getSpeed=function(){return i.Struct.getFloat32(24,this)},LiveLocationData.prototype.setSpeed=function(t){i.Struct.setFloat32(24,t,this)},LiveLocationData.prototype.adoptVNED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveLocationData.prototype.disownVNED=function(){return i.Struct.disown(this.getVNED())},LiveLocationData.prototype.getVNED=function(){return i.Struct.getList(0,o.Float32List,this)},LiveLocationData.prototype.hasVNED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveLocationData.prototype.initVNED=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveLocationData.prototype.setVNED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveLocationData.prototype.getRoll=function(){return i.Struct.getFloat32(28,this)},LiveLocationData.prototype.setRoll=function(t){i.Struct.setFloat32(28,t,this)},LiveLocationData.prototype.getPitch=function(){return i.Struct.getFloat32(32,this)},LiveLocationData.prototype.setPitch=function(t){i.Struct.setFloat32(32,t,this)},LiveLocationData.prototype.getHeading=function(){return i.Struct.getFloat32(36,this)},LiveLocationData.prototype.setHeading=function(t){i.Struct.setFloat32(36,t,this)},LiveLocationData.prototype.getWanderAngle=function(){return i.Struct.getFloat32(40,this)},LiveLocationData.prototype.setWanderAngle=function(t){i.Struct.setFloat32(40,t,this)},LiveLocationData.prototype.getTrackAngle=function(){return i.Struct.getFloat32(44,this)},LiveLocationData.prototype.setTrackAngle=function(t){i.Struct.setFloat32(44,t,this)},LiveLocationData.prototype.adoptGyro=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveLocationData.prototype.disownGyro=function(){return i.Struct.disown(this.getGyro())},LiveLocationData.prototype.getGyro=function(){return i.Struct.getList(1,o.Float32List,this)},LiveLocationData.prototype.hasGyro=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveLocationData.prototype.initGyro=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveLocationData.prototype.setGyro=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveLocationData.prototype.adoptAccel=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LiveLocationData.prototype.disownAccel=function(){return i.Struct.disown(this.getAccel())},LiveLocationData.prototype.getAccel=function(){return i.Struct.getList(2,o.Float32List,this)},LiveLocationData.prototype.hasAccel=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LiveLocationData.prototype.initAccel=function(t){return i.Struct.initList(2,o.Float32List,t,this)},LiveLocationData.prototype.setAccel=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LiveLocationData.prototype.adoptAccuracy=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LiveLocationData.prototype.disownAccuracy=function(){return i.Struct.disown(this.getAccuracy())},LiveLocationData.prototype.getAccuracy=function(){return i.Struct.getStruct(3,ut,this)},LiveLocationData.prototype.hasAccuracy=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LiveLocationData.prototype.initAccuracy=function(){return i.Struct.initStructAt(3,ut,this)},LiveLocationData.prototype.setAccuracy=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LiveLocationData.prototype.getSource=function(){return i.Struct.getUint16(2,this)},LiveLocationData.prototype.setSource=function(t){i.Struct.setUint16(2,t,this)},LiveLocationData.prototype.getFixMonoTime=function(){return i.Struct.getUint64(48,this)},LiveLocationData.prototype.setFixMonoTime=function(t){i.Struct.setUint64(48,t,this)},LiveLocationData.prototype.getGpsWeek=function(){return i.Struct.getInt32(56,this)},LiveLocationData.prototype.setGpsWeek=function(t){i.Struct.setInt32(56,t,this)},LiveLocationData.prototype.getTimeOfWeek=function(){return i.Struct.getFloat64(64,this)},LiveLocationData.prototype.setTimeOfWeek=function(t){i.Struct.setFloat64(64,t,this)},LiveLocationData.prototype.adoptPositionECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},LiveLocationData.prototype.disownPositionECEF=function(){return i.Struct.disown(this.getPositionECEF())},LiveLocationData.prototype.getPositionECEF=function(){return i.Struct.getList(4,o.Float64List,this)},LiveLocationData.prototype.hasPositionECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},LiveLocationData.prototype.initPositionECEF=function(t){return i.Struct.initList(4,o.Float64List,t,this)},LiveLocationData.prototype.setPositionECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},LiveLocationData.prototype.adoptPoseQuatECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(5,this))},LiveLocationData.prototype.disownPoseQuatECEF=function(){return i.Struct.disown(this.getPoseQuatECEF())},LiveLocationData.prototype.getPoseQuatECEF=function(){return i.Struct.getList(5,o.Float32List,this)},LiveLocationData.prototype.hasPoseQuatECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},LiveLocationData.prototype.initPoseQuatECEF=function(t){return i.Struct.initList(5,o.Float32List,t,this)},LiveLocationData.prototype.setPoseQuatECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},LiveLocationData.prototype.getPitchCalibration=function(){return i.Struct.getFloat32(60,this)},LiveLocationData.prototype.setPitchCalibration=function(t){i.Struct.setFloat32(60,t,this)},LiveLocationData.prototype.getYawCalibration=function(){return i.Struct.getFloat32(72,this)},LiveLocationData.prototype.setYawCalibration=function(t){i.Struct.setFloat32(72,t,this)},LiveLocationData.prototype.adoptImuFrame=function(t){i.Struct.adopt(t,i.Struct.getPointer(6,this))},LiveLocationData.prototype.disownImuFrame=function(){return i.Struct.disown(this.getImuFrame())},LiveLocationData.prototype.getImuFrame=function(){return i.Struct.getList(6,o.Float32List,this)},LiveLocationData.prototype.hasImuFrame=function(){return!i.Struct.isNull(i.Struct.getPointer(6,this))},LiveLocationData.prototype.initImuFrame=function(t){return i.Struct.initList(6,o.Float32List,t,this)},LiveLocationData.prototype.setImuFrame=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(6,this))},LiveLocationData.prototype.toString=function(){return"LiveLocationData_"+t.prototype.toString.call(this)},LiveLocationData.Accuracy=ut,LiveLocationData.SensorSource=st,LiveLocationData._capnp={displayName:"LiveLocationData",id:"b99b2bc7a57e8128",size:new i.ObjectSize(80,7)},LiveLocationData}(i.Struct);e.LiveLocationData=lt;var ct=function(t){function EthernetPacket(){return null!==t&&t.apply(this,arguments)||this}return n(EthernetPacket,t),EthernetPacket.prototype.adoptPkt=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},EthernetPacket.prototype.disownPkt=function(){return i.Struct.disown(this.getPkt())},EthernetPacket.prototype.getPkt=function(){return i.Struct.getData(0,this)},EthernetPacket.prototype.hasPkt=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},EthernetPacket.prototype.initPkt=function(t){return i.Struct.initData(0,t,this)},EthernetPacket.prototype.setPkt=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},EthernetPacket.prototype.getTs=function(){return i.Struct.getFloat32(0,this)},EthernetPacket.prototype.setTs=function(t){i.Struct.setFloat32(0,t,this)},EthernetPacket.prototype.toString=function(){return"EthernetPacket_"+t.prototype.toString.call(this)},EthernetPacket._capnp={displayName:"EthernetPacket",id:"a99a9d5b33cf5859",size:new i.ObjectSize(8,1)},EthernetPacket}(i.Struct);e.EthernetPacket=ct;var pt,ft=function(t){function NavUpdate_LatLng(){return null!==t&&t.apply(this,arguments)||this}return n(NavUpdate_LatLng,t),NavUpdate_LatLng.prototype.getLat=function(){return i.Struct.getFloat64(0,this)},NavUpdate_LatLng.prototype.setLat=function(t){i.Struct.setFloat64(0,t,this)},NavUpdate_LatLng.prototype.getLng=function(){return i.Struct.getFloat64(8,this)},NavUpdate_LatLng.prototype.setLng=function(t){i.Struct.setFloat64(8,t,this)},NavUpdate_LatLng.prototype.toString=function(){return"NavUpdate_LatLng_"+t.prototype.toString.call(this)},NavUpdate_LatLng._capnp={displayName:"LatLng",id:"9eaef9187cadbb9b",size:new i.ObjectSize(16,0)},NavUpdate_LatLng}(i.Struct);e.NavUpdate_LatLng=ft,function(t){t[t.TURN_LEFT=0]="TURN_LEFT",t[t.TURN_RIGHT=1]="TURN_RIGHT",t[t.KEEP_LEFT=2]="KEEP_LEFT",t[t.KEEP_RIGHT=3]="KEEP_RIGHT",t[t.STRAIGHT=4]="STRAIGHT",t[t.ROUNDABOUT_EXIT_NUMBER=5]="ROUNDABOUT_EXIT_NUMBER",t[t.ROUNDABOUT_EXIT=6]="ROUNDABOUT_EXIT",t[t.ROUNDABOUT_TURN_LEFT=7]="ROUNDABOUT_TURN_LEFT",t[t.UNKN8=8]="UNKN8",t[t.ROUNDABOUT_STRAIGHT=9]="ROUNDABOUT_STRAIGHT",t[t.UNKN10=10]="UNKN10",t[t.ROUNDABOUT_TURN_RIGHT=11]="ROUNDABOUT_TURN_RIGHT",t[t.UNKN12=12]="UNKN12",t[t.ROUNDABOUT_UTURN=13]="ROUNDABOUT_UTURN",t[t.UNKN14=14]="UNKN14",t[t.ARRIVE=15]="ARRIVE",t[t.EXIT_LEFT=16]="EXIT_LEFT",t[t.EXIT_RIGHT=17]="EXIT_RIGHT",t[t.UNKN18=18]="UNKN18",t[t.UTURN=19]="UTURN"}(pt=e.NavUpdate_Segment_Instruction||(e.NavUpdate_Segment_Instruction={}));var dt=function(t){function NavUpdate_Segment(){return null!==t&&t.apply(this,arguments)||this}return n(NavUpdate_Segment,t),NavUpdate_Segment.prototype.adoptFrom=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},NavUpdate_Segment.prototype.disownFrom=function(){return i.Struct.disown(this.getFrom())},NavUpdate_Segment.prototype.getFrom=function(){return i.Struct.getStruct(0,ft,this)},NavUpdate_Segment.prototype.hasFrom=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},NavUpdate_Segment.prototype.initFrom=function(){return i.Struct.initStructAt(0,ft,this)},NavUpdate_Segment.prototype.setFrom=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},NavUpdate_Segment.prototype.adoptTo=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},NavUpdate_Segment.prototype.disownTo=function(){return i.Struct.disown(this.getTo())},NavUpdate_Segment.prototype.getTo=function(){return i.Struct.getStruct(1,ft,this)},NavUpdate_Segment.prototype.hasTo=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},NavUpdate_Segment.prototype.initTo=function(){return i.Struct.initStructAt(1,ft,this)},NavUpdate_Segment.prototype.setTo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},NavUpdate_Segment.prototype.getUpdateTime=function(){return i.Struct.getInt32(0,this)},NavUpdate_Segment.prototype.setUpdateTime=function(t){i.Struct.setInt32(0,t,this)},NavUpdate_Segment.prototype.getDistance=function(){return i.Struct.getInt32(4,this)},NavUpdate_Segment.prototype.setDistance=function(t){i.Struct.setInt32(4,t,this)},NavUpdate_Segment.prototype.getCrossTime=function(){return i.Struct.getInt32(8,this)},NavUpdate_Segment.prototype.setCrossTime=function(t){i.Struct.setInt32(8,t,this)},NavUpdate_Segment.prototype.getExitNo=function(){return i.Struct.getInt32(12,this)},NavUpdate_Segment.prototype.setExitNo=function(t){i.Struct.setInt32(12,t,this)},NavUpdate_Segment.prototype.getInstruction=function(){return i.Struct.getUint16(16,this)},NavUpdate_Segment.prototype.setInstruction=function(t){i.Struct.setUint16(16,t,this)},NavUpdate_Segment.prototype.adoptParts=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},NavUpdate_Segment.prototype.disownParts=function(){return i.Struct.disown(this.getParts())},NavUpdate_Segment.prototype.getParts=function(){return i.Struct.getList(2,NavUpdate_Segment._Parts,this)},NavUpdate_Segment.prototype.hasParts=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},NavUpdate_Segment.prototype.initParts=function(t){return i.Struct.initList(2,NavUpdate_Segment._Parts,t,this)},NavUpdate_Segment.prototype.setParts=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},NavUpdate_Segment.prototype.toString=function(){return"NavUpdate_Segment_"+t.prototype.toString.call(this)},NavUpdate_Segment.Instruction=pt,NavUpdate_Segment._capnp={displayName:"Segment",id:"a5b39b4fc4d7da3f",size:new i.ObjectSize(24,3)},NavUpdate_Segment}(i.Struct);e.NavUpdate_Segment=dt;var ht=function(t){function NavUpdate(){return null!==t&&t.apply(this,arguments)||this}return n(NavUpdate,t),NavUpdate.prototype.getIsNavigating=function(){return i.Struct.getBit(0,this)},NavUpdate.prototype.setIsNavigating=function(t){i.Struct.setBit(0,t,this)},NavUpdate.prototype.getCurSegment=function(){return i.Struct.getInt32(4,this)},NavUpdate.prototype.setCurSegment=function(t){i.Struct.setInt32(4,t,this)},NavUpdate.prototype.adoptSegments=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},NavUpdate.prototype.disownSegments=function(){return i.Struct.disown(this.getSegments())},NavUpdate.prototype.getSegments=function(){return i.Struct.getList(0,NavUpdate._Segments,this)},NavUpdate.prototype.hasSegments=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},NavUpdate.prototype.initSegments=function(t){return i.Struct.initList(0,NavUpdate._Segments,t,this)},NavUpdate.prototype.setSegments=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},NavUpdate.prototype.toString=function(){return"NavUpdate_"+t.prototype.toString.call(this)},NavUpdate.LatLng=ft,NavUpdate.Segment=dt,NavUpdate._capnp={displayName:"NavUpdate",id:"db98be6565516acb",size:new i.ObjectSize(8,1)},NavUpdate}(i.Struct);e.NavUpdate=ht;var mt=function(t){function NavStatus_Address(){return null!==t&&t.apply(this,arguments)||this}return n(NavStatus_Address,t),NavStatus_Address.prototype.getTitle=function(){return i.Struct.getText(0,this)},NavStatus_Address.prototype.setTitle=function(t){i.Struct.setText(0,t,this)},NavStatus_Address.prototype.getLat=function(){return i.Struct.getFloat64(0,this)},NavStatus_Address.prototype.setLat=function(t){i.Struct.setFloat64(0,t,this)},NavStatus_Address.prototype.getLng=function(){return i.Struct.getFloat64(8,this)},NavStatus_Address.prototype.setLng=function(t){i.Struct.setFloat64(8,t,this)},NavStatus_Address.prototype.getHouse=function(){return i.Struct.getText(1,this)},NavStatus_Address.prototype.setHouse=function(t){i.Struct.setText(1,t,this)},NavStatus_Address.prototype.getAddress=function(){return i.Struct.getText(2,this)},NavStatus_Address.prototype.setAddress=function(t){i.Struct.setText(2,t,this)},NavStatus_Address.prototype.getStreet=function(){return i.Struct.getText(3,this)},NavStatus_Address.prototype.setStreet=function(t){i.Struct.setText(3,t,this)},NavStatus_Address.prototype.getCity=function(){return i.Struct.getText(4,this)},NavStatus_Address.prototype.setCity=function(t){i.Struct.setText(4,t,this)},NavStatus_Address.prototype.getState=function(){return i.Struct.getText(5,this)},NavStatus_Address.prototype.setState=function(t){i.Struct.setText(5,t,this)},NavStatus_Address.prototype.getCountry=function(){return i.Struct.getText(6,this)},NavStatus_Address.prototype.setCountry=function(t){i.Struct.setText(6,t,this)},NavStatus_Address.prototype.toString=function(){return"NavStatus_Address_"+t.prototype.toString.call(this)},NavStatus_Address._capnp={displayName:"Address",id:"ce7cd672cacc7814",size:new i.ObjectSize(16,7)},NavStatus_Address}(i.Struct);e.NavStatus_Address=mt;var yt=function(t){function NavStatus(){return null!==t&&t.apply(this,arguments)||this}return n(NavStatus,t),NavStatus.prototype.getIsNavigating=function(){return i.Struct.getBit(0,this)},NavStatus.prototype.setIsNavigating=function(t){i.Struct.setBit(0,t,this)},NavStatus.prototype.adoptCurrentAddress=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},NavStatus.prototype.disownCurrentAddress=function(){return i.Struct.disown(this.getCurrentAddress())},NavStatus.prototype.getCurrentAddress=function(){return i.Struct.getStruct(0,mt,this)},NavStatus.prototype.hasCurrentAddress=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},NavStatus.prototype.initCurrentAddress=function(){return i.Struct.initStructAt(0,mt,this)},NavStatus.prototype.setCurrentAddress=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},NavStatus.prototype.toString=function(){return"NavStatus_"+t.prototype.toString.call(this)},NavStatus.Address=mt,NavStatus._capnp={displayName:"NavStatus",id:"bd8822120928120c",size:new i.ObjectSize(8,1)},NavStatus}(i.Struct);e.NavStatus=yt;var gt,vt=function(t){function CellInfo(){return null!==t&&t.apply(this,arguments)||this}return n(CellInfo,t),CellInfo.prototype.getTimestamp=function(){return i.Struct.getUint64(0,this)},CellInfo.prototype.setTimestamp=function(t){i.Struct.setUint64(0,t,this)},CellInfo.prototype.getRepr=function(){return i.Struct.getText(0,this)},CellInfo.prototype.setRepr=function(t){i.Struct.setText(0,t,this)},CellInfo.prototype.toString=function(){return"CellInfo_"+t.prototype.toString.call(this)},CellInfo._capnp={displayName:"CellInfo",id:"cff7566681c277ce",size:new i.ObjectSize(8,1)},CellInfo}(i.Struct);e.CellInfo=vt,function(t){t[t.W20MHZ=0]="W20MHZ",t[t.W40MHZ=1]="W40MHZ",t[t.W80MHZ=2]="W80MHZ",t[t.W160MHZ=3]="W160MHZ",t[t.W80PLUS80MHZ=4]="W80PLUS80MHZ"}(gt=e.WifiScan_ChannelWidth||(e.WifiScan_ChannelWidth={}));var _t=function(t){function WifiScan(){return null!==t&&t.apply(this,arguments)||this}return n(WifiScan,t),WifiScan.prototype.getBssid=function(){return i.Struct.getText(0,this)},WifiScan.prototype.setBssid=function(t){i.Struct.setText(0,t,this)},WifiScan.prototype.getSsid=function(){return i.Struct.getText(1,this)},WifiScan.prototype.setSsid=function(t){i.Struct.setText(1,t,this)},WifiScan.prototype.getCapabilities=function(){return i.Struct.getText(2,this)},WifiScan.prototype.setCapabilities=function(t){i.Struct.setText(2,t,this)},WifiScan.prototype.getFrequency=function(){return i.Struct.getInt32(0,this)},WifiScan.prototype.setFrequency=function(t){i.Struct.setInt32(0,t,this)},WifiScan.prototype.getLevel=function(){return i.Struct.getInt32(4,this)},WifiScan.prototype.setLevel=function(t){i.Struct.setInt32(4,t,this)},WifiScan.prototype.getTimestamp=function(){return i.Struct.getInt64(8,this)},WifiScan.prototype.setTimestamp=function(t){i.Struct.setInt64(8,t,this)},WifiScan.prototype.getCenterFreq0=function(){return i.Struct.getInt32(16,this)},WifiScan.prototype.setCenterFreq0=function(t){i.Struct.setInt32(16,t,this)},WifiScan.prototype.getCenterFreq1=function(){return i.Struct.getInt32(20,this)},WifiScan.prototype.setCenterFreq1=function(t){i.Struct.setInt32(20,t,this)},WifiScan.prototype.getChannelWidth=function(){return i.Struct.getUint16(24,this)},WifiScan.prototype.setChannelWidth=function(t){i.Struct.setUint16(24,t,this)},WifiScan.prototype.getOperatorFriendlyName=function(){return i.Struct.getText(3,this)},WifiScan.prototype.setOperatorFriendlyName=function(t){i.Struct.setText(3,t,this)},WifiScan.prototype.getVenueName=function(){return i.Struct.getText(4,this)},WifiScan.prototype.setVenueName=function(t){i.Struct.setText(4,t,this)},WifiScan.prototype.getIs80211mcResponder=function(){return i.Struct.getBit(208,this)},WifiScan.prototype.setIs80211mcResponder=function(t){i.Struct.setBit(208,t,this)},WifiScan.prototype.getPasspoint=function(){return i.Struct.getBit(209,this)},WifiScan.prototype.setPasspoint=function(t){i.Struct.setBit(209,t,this)},WifiScan.prototype.getDistanceCm=function(){return i.Struct.getInt32(28,this)},WifiScan.prototype.setDistanceCm=function(t){i.Struct.setInt32(28,t,this)},WifiScan.prototype.getDistanceSdCm=function(){return i.Struct.getInt32(32,this)},WifiScan.prototype.setDistanceSdCm=function(t){i.Struct.setInt32(32,t,this)},WifiScan.prototype.toString=function(){return"WifiScan_"+t.prototype.toString.call(this)},WifiScan.ChannelWidth=gt,WifiScan._capnp={displayName:"WifiScan",id:"d4df5a192382ba0b",size:new i.ObjectSize(40,5)},WifiScan}(i.Struct);e.WifiScan=_t;var bt,St,xt,wt=function(t){function AndroidGnss_Measurements_Clock(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidGnss_Measurements_Clock,t),AndroidGnss_Measurements_Clock.prototype.getTimeNanos=function(){return i.Struct.getInt64(0,this)},AndroidGnss_Measurements_Clock.prototype.setTimeNanos=function(t){i.Struct.setInt64(0,t,this)},AndroidGnss_Measurements_Clock.prototype.getHardwareClockDiscontinuityCount=function(){return i.Struct.getInt32(8,this)},AndroidGnss_Measurements_Clock.prototype.setHardwareClockDiscontinuityCount=function(t){i.Struct.setInt32(8,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasTimeUncertaintyNanos=function(){return i.Struct.getBit(96,this)},AndroidGnss_Measurements_Clock.prototype.setHasTimeUncertaintyNanos=function(t){i.Struct.setBit(96,t,this)},AndroidGnss_Measurements_Clock.prototype.getTimeUncertaintyNanos=function(){return i.Struct.getFloat64(16,this)},AndroidGnss_Measurements_Clock.prototype.setTimeUncertaintyNanos=function(t){i.Struct.setFloat64(16,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasLeapSecond=function(){return i.Struct.getBit(97,this)},AndroidGnss_Measurements_Clock.prototype.setHasLeapSecond=function(t){i.Struct.setBit(97,t,this)},AndroidGnss_Measurements_Clock.prototype.getLeapSecond=function(){return i.Struct.getInt32(24,this)},AndroidGnss_Measurements_Clock.prototype.setLeapSecond=function(t){i.Struct.setInt32(24,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasFullBiasNanos=function(){return i.Struct.getBit(98,this)},AndroidGnss_Measurements_Clock.prototype.setHasFullBiasNanos=function(t){i.Struct.setBit(98,t,this)},AndroidGnss_Measurements_Clock.prototype.getFullBiasNanos=function(){return i.Struct.getInt64(32,this)},AndroidGnss_Measurements_Clock.prototype.setFullBiasNanos=function(t){i.Struct.setInt64(32,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasBiasNanos=function(){return i.Struct.getBit(99,this)},AndroidGnss_Measurements_Clock.prototype.setHasBiasNanos=function(t){i.Struct.setBit(99,t,this)},AndroidGnss_Measurements_Clock.prototype.getBiasNanos=function(){return i.Struct.getFloat64(40,this)},AndroidGnss_Measurements_Clock.prototype.setBiasNanos=function(t){i.Struct.setFloat64(40,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasBiasUncertaintyNanos=function(){return i.Struct.getBit(100,this)},AndroidGnss_Measurements_Clock.prototype.setHasBiasUncertaintyNanos=function(t){i.Struct.setBit(100,t,this)},AndroidGnss_Measurements_Clock.prototype.getBiasUncertaintyNanos=function(){return i.Struct.getFloat64(48,this)},AndroidGnss_Measurements_Clock.prototype.setBiasUncertaintyNanos=function(t){i.Struct.setFloat64(48,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasDriftNanosPerSecond=function(){return i.Struct.getBit(101,this)},AndroidGnss_Measurements_Clock.prototype.setHasDriftNanosPerSecond=function(t){i.Struct.setBit(101,t,this)},AndroidGnss_Measurements_Clock.prototype.getDriftNanosPerSecond=function(){return i.Struct.getFloat64(56,this)},AndroidGnss_Measurements_Clock.prototype.setDriftNanosPerSecond=function(t){i.Struct.setFloat64(56,t,this)},AndroidGnss_Measurements_Clock.prototype.getHasDriftUncertaintyNanosPerSecond=function(){return i.Struct.getBit(102,this)},AndroidGnss_Measurements_Clock.prototype.setHasDriftUncertaintyNanosPerSecond=function(t){i.Struct.setBit(102,t,this)},AndroidGnss_Measurements_Clock.prototype.getDriftUncertaintyNanosPerSecond=function(){return i.Struct.getFloat64(64,this)},AndroidGnss_Measurements_Clock.prototype.setDriftUncertaintyNanosPerSecond=function(t){i.Struct.setFloat64(64,t,this)},AndroidGnss_Measurements_Clock.prototype.toString=function(){return"AndroidGnss_Measurements_Clock_"+t.prototype.toString.call(this)},AndroidGnss_Measurements_Clock._capnp={displayName:"Clock",id:"a0e27b453a38f450",size:new i.ObjectSize(72,0)},AndroidGnss_Measurements_Clock}(i.Struct);e.AndroidGnss_Measurements_Clock=wt,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.GPS=1]="GPS",t[t.SBAS=2]="SBAS",t[t.GLONASS=3]="GLONASS",t[t.QZSS=4]="QZSS",t[t.BEIDOU=5]="BEIDOU",t[t.GALILEO=6]="GALILEO"}(bt=e.AndroidGnss_Measurements_Measurement_Constellation||(e.AndroidGnss_Measurements_Measurement_Constellation={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CODE_LOCK=1]="CODE_LOCK",t[t.BIT_SYNC=2]="BIT_SYNC",t[t.SUBFRAME_SYNC=3]="SUBFRAME_SYNC",t[t.TOW_DECODED=4]="TOW_DECODED",t[t.MSEC_AMBIGUOUS=5]="MSEC_AMBIGUOUS",t[t.SYMBOL_SYNC=6]="SYMBOL_SYNC",t[t.GLO_STRING_SYNC=7]="GLO_STRING_SYNC",t[t.GLO_TOD_DECODED=8]="GLO_TOD_DECODED",t[t.BDS_D2BIT_SYNC=9]="BDS_D2BIT_SYNC",t[t.BDS_D2SUBFRAME_SYNC=10]="BDS_D2SUBFRAME_SYNC",t[t.GAL_E1BC_CODE_LOCK=11]="GAL_E1BC_CODE_LOCK",t[t.GAL_E1C2ND_CODE_LOCK=12]="GAL_E1C2ND_CODE_LOCK",t[t.GAL_E1B_PAGE_SYNC=13]="GAL_E1B_PAGE_SYNC",t[t.SBAS_SYNC=14]="SBAS_SYNC"}(St=e.AndroidGnss_Measurements_Measurement_State||(e.AndroidGnss_Measurements_Measurement_State={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.DETECTED=1]="DETECTED",t[t.NOT_DETECTED=2]="NOT_DETECTED"}(xt=e.AndroidGnss_Measurements_Measurement_MultipathIndicator||(e.AndroidGnss_Measurements_Measurement_MultipathIndicator={}));var Et=function(t){function AndroidGnss_Measurements_Measurement(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidGnss_Measurements_Measurement,t),AndroidGnss_Measurements_Measurement.prototype.getSvId=function(){return i.Struct.getInt32(0,this)},AndroidGnss_Measurements_Measurement.prototype.setSvId=function(t){i.Struct.setInt32(0,t,this)},AndroidGnss_Measurements_Measurement.prototype.getConstellation=function(){return i.Struct.getUint16(4,this)},AndroidGnss_Measurements_Measurement.prototype.setConstellation=function(t){i.Struct.setUint16(4,t,this)},AndroidGnss_Measurements_Measurement.prototype.getTimeOffsetNanos=function(){return i.Struct.getFloat64(8,this)},AndroidGnss_Measurements_Measurement.prototype.setTimeOffsetNanos=function(t){i.Struct.setFloat64(8,t,this)},AndroidGnss_Measurements_Measurement.prototype.getState=function(){return i.Struct.getInt32(16,this)},AndroidGnss_Measurements_Measurement.prototype.setState=function(t){i.Struct.setInt32(16,t,this)},AndroidGnss_Measurements_Measurement.prototype.getReceivedSvTimeNanos=function(){return i.Struct.getInt64(24,this)},AndroidGnss_Measurements_Measurement.prototype.setReceivedSvTimeNanos=function(t){i.Struct.setInt64(24,t,this)},AndroidGnss_Measurements_Measurement.prototype.getReceivedSvTimeUncertaintyNanos=function(){return i.Struct.getInt64(32,this)},AndroidGnss_Measurements_Measurement.prototype.setReceivedSvTimeUncertaintyNanos=function(t){i.Struct.setInt64(32,t,this)},AndroidGnss_Measurements_Measurement.prototype.getCn0DbHz=function(){return i.Struct.getFloat64(40,this)},AndroidGnss_Measurements_Measurement.prototype.setCn0DbHz=function(t){i.Struct.setFloat64(40,t,this)},AndroidGnss_Measurements_Measurement.prototype.getPseudorangeRateMetersPerSecond=function(){return i.Struct.getFloat64(48,this)},AndroidGnss_Measurements_Measurement.prototype.setPseudorangeRateMetersPerSecond=function(t){i.Struct.setFloat64(48,t,this)},AndroidGnss_Measurements_Measurement.prototype.getPseudorangeRateUncertaintyMetersPerSecond=function(){return i.Struct.getFloat64(56,this)},AndroidGnss_Measurements_Measurement.prototype.setPseudorangeRateUncertaintyMetersPerSecond=function(t){i.Struct.setFloat64(56,t,this)},AndroidGnss_Measurements_Measurement.prototype.getAccumulatedDeltaRangeState=function(){return i.Struct.getInt32(20,this)},AndroidGnss_Measurements_Measurement.prototype.setAccumulatedDeltaRangeState=function(t){i.Struct.setInt32(20,t,this)},AndroidGnss_Measurements_Measurement.prototype.getAccumulatedDeltaRangeMeters=function(){return i.Struct.getFloat64(64,this)},AndroidGnss_Measurements_Measurement.prototype.setAccumulatedDeltaRangeMeters=function(t){i.Struct.setFloat64(64,t,this)},AndroidGnss_Measurements_Measurement.prototype.getAccumulatedDeltaRangeUncertaintyMeters=function(){return i.Struct.getFloat64(72,this)},AndroidGnss_Measurements_Measurement.prototype.setAccumulatedDeltaRangeUncertaintyMeters=function(t){i.Struct.setFloat64(72,t,this)},AndroidGnss_Measurements_Measurement.prototype.getHasCarrierFrequencyHz=function(){return i.Struct.getBit(48,this)},AndroidGnss_Measurements_Measurement.prototype.setHasCarrierFrequencyHz=function(t){i.Struct.setBit(48,t,this)},AndroidGnss_Measurements_Measurement.prototype.getCarrierFrequencyHz=function(){return i.Struct.getFloat32(80,this)},AndroidGnss_Measurements_Measurement.prototype.setCarrierFrequencyHz=function(t){i.Struct.setFloat32(80,t,this)},AndroidGnss_Measurements_Measurement.prototype.getHasCarrierCycles=function(){return i.Struct.getBit(49,this)},AndroidGnss_Measurements_Measurement.prototype.setHasCarrierCycles=function(t){i.Struct.setBit(49,t,this)},AndroidGnss_Measurements_Measurement.prototype.getCarrierCycles=function(){return i.Struct.getInt64(88,this)},AndroidGnss_Measurements_Measurement.prototype.setCarrierCycles=function(t){i.Struct.setInt64(88,t,this)},AndroidGnss_Measurements_Measurement.prototype.getHasCarrierPhase=function(){return i.Struct.getBit(50,this)},AndroidGnss_Measurements_Measurement.prototype.setHasCarrierPhase=function(t){i.Struct.setBit(50,t,this)},AndroidGnss_Measurements_Measurement.prototype.getCarrierPhase=function(){return i.Struct.getFloat64(96,this)},AndroidGnss_Measurements_Measurement.prototype.setCarrierPhase=function(t){i.Struct.setFloat64(96,t,this)},AndroidGnss_Measurements_Measurement.prototype.getHasCarrierPhaseUncertainty=function(){return i.Struct.getBit(51,this)},AndroidGnss_Measurements_Measurement.prototype.setHasCarrierPhaseUncertainty=function(t){i.Struct.setBit(51,t,this)},AndroidGnss_Measurements_Measurement.prototype.getCarrierPhaseUncertainty=function(){return i.Struct.getFloat64(104,this)},AndroidGnss_Measurements_Measurement.prototype.setCarrierPhaseUncertainty=function(t){i.Struct.setFloat64(104,t,this)},AndroidGnss_Measurements_Measurement.prototype.getHasSnrInDb=function(){return i.Struct.getBit(52,this)},AndroidGnss_Measurements_Measurement.prototype.setHasSnrInDb=function(t){i.Struct.setBit(52,t,this)},AndroidGnss_Measurements_Measurement.prototype.getSnrInDb=function(){return i.Struct.getFloat64(112,this)},AndroidGnss_Measurements_Measurement.prototype.setSnrInDb=function(t){i.Struct.setFloat64(112,t,this)},AndroidGnss_Measurements_Measurement.prototype.getMultipathIndicator=function(){return i.Struct.getUint16(84,this)},AndroidGnss_Measurements_Measurement.prototype.setMultipathIndicator=function(t){i.Struct.setUint16(84,t,this)},AndroidGnss_Measurements_Measurement.prototype.toString=function(){return"AndroidGnss_Measurements_Measurement_"+t.prototype.toString.call(this)},AndroidGnss_Measurements_Measurement.Constellation=bt,AndroidGnss_Measurements_Measurement.State=St,AndroidGnss_Measurements_Measurement.MultipathIndicator=xt,AndroidGnss_Measurements_Measurement._capnp={displayName:"Measurement",id:"d949bf717d77614d",size:new i.ObjectSize(120,0)},AndroidGnss_Measurements_Measurement}(i.Struct);e.AndroidGnss_Measurements_Measurement=Et;var Pt,Ct=function(t){function AndroidGnss_Measurements(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidGnss_Measurements,t),AndroidGnss_Measurements.prototype.adoptClock=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},AndroidGnss_Measurements.prototype.disownClock=function(){return i.Struct.disown(this.getClock())},AndroidGnss_Measurements.prototype.getClock=function(){return i.Struct.getStruct(0,wt,this)},AndroidGnss_Measurements.prototype.hasClock=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},AndroidGnss_Measurements.prototype.initClock=function(){return i.Struct.initStructAt(0,wt,this)},AndroidGnss_Measurements.prototype.setClock=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},AndroidGnss_Measurements.prototype.adoptMeasurements=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},AndroidGnss_Measurements.prototype.disownMeasurements=function(){return i.Struct.disown(this.getMeasurements())},AndroidGnss_Measurements.prototype.getMeasurements=function(){return i.Struct.getList(1,AndroidGnss_Measurements._Measurements,this)},AndroidGnss_Measurements.prototype.hasMeasurements=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},AndroidGnss_Measurements.prototype.initMeasurements=function(t){return i.Struct.initList(1,AndroidGnss_Measurements._Measurements,t,this)},AndroidGnss_Measurements.prototype.setMeasurements=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},AndroidGnss_Measurements.prototype.toString=function(){return"AndroidGnss_Measurements_"+t.prototype.toString.call(this)},AndroidGnss_Measurements.Clock=wt,AndroidGnss_Measurements.Measurement=Et,AndroidGnss_Measurements._capnp={displayName:"Measurements",id:"a20710d4f428d6cd",size:new i.ObjectSize(0,2)},AndroidGnss_Measurements}(i.Struct);e.AndroidGnss_Measurements=Ct,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.PARITY_PASSED=1]="PARITY_PASSED",t[t.PARITY_REBUILT=2]="PARITY_REBUILT"}(Pt=e.AndroidGnss_NavigationMessage_Status||(e.AndroidGnss_NavigationMessage_Status={}));var Tt,Dt=function(t){function AndroidGnss_NavigationMessage(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidGnss_NavigationMessage,t),AndroidGnss_NavigationMessage.prototype.getType=function(){return i.Struct.getInt32(0,this)},AndroidGnss_NavigationMessage.prototype.setType=function(t){i.Struct.setInt32(0,t,this)},AndroidGnss_NavigationMessage.prototype.getSvId=function(){return i.Struct.getInt32(4,this)},AndroidGnss_NavigationMessage.prototype.setSvId=function(t){i.Struct.setInt32(4,t,this)},AndroidGnss_NavigationMessage.prototype.getMessageId=function(){return i.Struct.getInt32(8,this)},AndroidGnss_NavigationMessage.prototype.setMessageId=function(t){i.Struct.setInt32(8,t,this)},AndroidGnss_NavigationMessage.prototype.getSubmessageId=function(){return i.Struct.getInt32(12,this)},AndroidGnss_NavigationMessage.prototype.setSubmessageId=function(t){i.Struct.setInt32(12,t,this)},AndroidGnss_NavigationMessage.prototype.adoptData=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},AndroidGnss_NavigationMessage.prototype.disownData=function(){return i.Struct.disown(this.getData())},AndroidGnss_NavigationMessage.prototype.getData=function(){return i.Struct.getData(0,this)},AndroidGnss_NavigationMessage.prototype.hasData=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},AndroidGnss_NavigationMessage.prototype.initData=function(t){return i.Struct.initData(0,t,this)},AndroidGnss_NavigationMessage.prototype.setData=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},AndroidGnss_NavigationMessage.prototype.getStatus=function(){return i.Struct.getUint16(16,this)},AndroidGnss_NavigationMessage.prototype.setStatus=function(t){i.Struct.setUint16(16,t,this)},AndroidGnss_NavigationMessage.prototype.toString=function(){return"AndroidGnss_NavigationMessage_"+t.prototype.toString.call(this)},AndroidGnss_NavigationMessage.Status=Pt,AndroidGnss_NavigationMessage._capnp={displayName:"NavigationMessage",id:"e2517b083095fd4e",size:new i.ObjectSize(24,1)},AndroidGnss_NavigationMessage}(i.Struct);e.AndroidGnss_NavigationMessage=Dt,function(t){t[t.MEASUREMENTS=0]="MEASUREMENTS",t[t.NAVIGATION_MESSAGE=1]="NAVIGATION_MESSAGE"}(Tt=e.AndroidGnss_Which||(e.AndroidGnss_Which={}));var Mt,At,Rt=function(t){function AndroidGnss(){return null!==t&&t.apply(this,arguments)||this}return n(AndroidGnss,t),AndroidGnss.prototype.adoptMeasurements=function(t){i.Struct.setUint16(0,0,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},AndroidGnss.prototype.disownMeasurements=function(){return i.Struct.disown(this.getMeasurements())},AndroidGnss.prototype.getMeasurements=function(){return i.Struct.testWhich("measurements",i.Struct.getUint16(0,this),0,this),i.Struct.getStruct(0,Ct,this)},AndroidGnss.prototype.hasMeasurements=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},AndroidGnss.prototype.initMeasurements=function(){return i.Struct.setUint16(0,0,this),i.Struct.initStructAt(0,Ct,this)},AndroidGnss.prototype.isMeasurements=function(){return 0===i.Struct.getUint16(0,this)},AndroidGnss.prototype.setMeasurements=function(t){i.Struct.setUint16(0,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},AndroidGnss.prototype.adoptNavigationMessage=function(t){i.Struct.setUint16(0,1,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},AndroidGnss.prototype.disownNavigationMessage=function(){return i.Struct.disown(this.getNavigationMessage())},AndroidGnss.prototype.getNavigationMessage=function(){return i.Struct.testWhich("navigationMessage",i.Struct.getUint16(0,this),1,this),i.Struct.getStruct(0,Dt,this)},AndroidGnss.prototype.hasNavigationMessage=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},AndroidGnss.prototype.initNavigationMessage=function(){return i.Struct.setUint16(0,1,this),i.Struct.initStructAt(0,Dt,this)},AndroidGnss.prototype.isNavigationMessage=function(){return 1===i.Struct.getUint16(0,this)},AndroidGnss.prototype.setNavigationMessage=function(t){i.Struct.setUint16(0,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},AndroidGnss.prototype.toString=function(){return"AndroidGnss_"+t.prototype.toString.call(this)},AndroidGnss.prototype.which=function(){return i.Struct.getUint16(0,this)},AndroidGnss.MEASUREMENTS=Tt.MEASUREMENTS,AndroidGnss.NAVIGATION_MESSAGE=Tt.NAVIGATION_MESSAGE,AndroidGnss.Measurements=Ct,AndroidGnss.NavigationMessage=Dt,AndroidGnss._capnp={displayName:"AndroidGnss",id:"dfdf30d03fc485bd",size:new i.ObjectSize(8,1)},AndroidGnss}(i.Struct);e.AndroidGnss=Rt,function(t){t[t.GPS=0]="GPS",t[t.GLONASS=1]="GLONASS",t[t.BEIDOU=2]="BEIDOU"}(Mt=e.QcomGnss_MeasurementSource||(e.QcomGnss_MeasurementSource={})),function(t){t[t.IDLE=0]="IDLE",t[t.SEARCH=1]="SEARCH",t[t.SEARCH_VERIFY=2]="SEARCH_VERIFY",t[t.BIT_EDGE=3]="BIT_EDGE",t[t.TRACK_VERIFY=4]="TRACK_VERIFY",t[t.TRACK=5]="TRACK",t[t.RESTART=6]="RESTART",t[t.DPO=7]="DPO",t[t.GLO10MS_BE=8]="GLO10MS_BE",t[t.GLO10MS_AT=9]="GLO10MS_AT"}(At=e.QcomGnss_SVObservationState||(e.QcomGnss_SVObservationState={}));var Lt=function(t){function QcomGnss_MeasurementStatus(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_MeasurementStatus,t),QcomGnss_MeasurementStatus.prototype.getSubMillisecondIsValid=function(){return i.Struct.getBit(0,this)},QcomGnss_MeasurementStatus.prototype.setSubMillisecondIsValid=function(t){i.Struct.setBit(0,t,this)},QcomGnss_MeasurementStatus.prototype.getSubBitTimeIsKnown=function(){return i.Struct.getBit(1,this)},QcomGnss_MeasurementStatus.prototype.setSubBitTimeIsKnown=function(t){i.Struct.setBit(1,t,this)},QcomGnss_MeasurementStatus.prototype.getSatelliteTimeIsKnown=function(){return i.Struct.getBit(2,this)},QcomGnss_MeasurementStatus.prototype.setSatelliteTimeIsKnown=function(t){i.Struct.setBit(2,t,this)},QcomGnss_MeasurementStatus.prototype.getBitEdgeConfirmedFromSignal=function(){return i.Struct.getBit(3,this)},QcomGnss_MeasurementStatus.prototype.setBitEdgeConfirmedFromSignal=function(t){i.Struct.setBit(3,t,this)},QcomGnss_MeasurementStatus.prototype.getMeasuredVelocity=function(){return i.Struct.getBit(4,this)},QcomGnss_MeasurementStatus.prototype.setMeasuredVelocity=function(t){i.Struct.setBit(4,t,this)},QcomGnss_MeasurementStatus.prototype.getFineOrCoarseVelocity=function(){return i.Struct.getBit(5,this)},QcomGnss_MeasurementStatus.prototype.setFineOrCoarseVelocity=function(t){i.Struct.setBit(5,t,this)},QcomGnss_MeasurementStatus.prototype.getLockPointValid=function(){return i.Struct.getBit(6,this)},QcomGnss_MeasurementStatus.prototype.setLockPointValid=function(t){i.Struct.setBit(6,t,this)},QcomGnss_MeasurementStatus.prototype.getLockPointPositive=function(){return i.Struct.getBit(7,this)},QcomGnss_MeasurementStatus.prototype.setLockPointPositive=function(t){i.Struct.setBit(7,t,this)},QcomGnss_MeasurementStatus.prototype.getLastUpdateFromDifference=function(){return i.Struct.getBit(8,this)},QcomGnss_MeasurementStatus.prototype.setLastUpdateFromDifference=function(t){i.Struct.setBit(8,t,this)},QcomGnss_MeasurementStatus.prototype.getLastUpdateFromVelocityDifference=function(){return i.Struct.getBit(9,this)},QcomGnss_MeasurementStatus.prototype.setLastUpdateFromVelocityDifference=function(t){i.Struct.setBit(9,t,this)},QcomGnss_MeasurementStatus.prototype.getStrongIndicationOfCrossCorelation=function(){return i.Struct.getBit(10,this)},QcomGnss_MeasurementStatus.prototype.setStrongIndicationOfCrossCorelation=function(t){i.Struct.setBit(10,t,this)},QcomGnss_MeasurementStatus.prototype.getTentativeMeasurement=function(){return i.Struct.getBit(11,this)},QcomGnss_MeasurementStatus.prototype.setTentativeMeasurement=function(t){i.Struct.setBit(11,t,this)},QcomGnss_MeasurementStatus.prototype.getMeasurementNotUsable=function(){return i.Struct.getBit(12,this)},QcomGnss_MeasurementStatus.prototype.setMeasurementNotUsable=function(t){i.Struct.setBit(12,t,this)},QcomGnss_MeasurementStatus.prototype.getSirCheckIsNeeded=function(){return i.Struct.getBit(13,this)},QcomGnss_MeasurementStatus.prototype.setSirCheckIsNeeded=function(t){i.Struct.setBit(13,t,this)},QcomGnss_MeasurementStatus.prototype.getProbationMode=function(){return i.Struct.getBit(14,this)},QcomGnss_MeasurementStatus.prototype.setProbationMode=function(t){i.Struct.setBit(14,t,this)},QcomGnss_MeasurementStatus.prototype.getGlonassMeanderBitEdgeValid=function(){return i.Struct.getBit(15,this)},QcomGnss_MeasurementStatus.prototype.setGlonassMeanderBitEdgeValid=function(t){i.Struct.setBit(15,t,this)},QcomGnss_MeasurementStatus.prototype.getGlonassTimeMarkValid=function(){return i.Struct.getBit(16,this)},QcomGnss_MeasurementStatus.prototype.setGlonassTimeMarkValid=function(t){i.Struct.setBit(16,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsRoundRobinRxDiversity=function(){return i.Struct.getBit(17,this)},QcomGnss_MeasurementStatus.prototype.setGpsRoundRobinRxDiversity=function(t){i.Struct.setBit(17,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsRxDiversity=function(){return i.Struct.getBit(18,this)},QcomGnss_MeasurementStatus.prototype.setGpsRxDiversity=function(t){i.Struct.setBit(18,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsLowBandwidthRxDiversityCombined=function(){return i.Struct.getBit(19,this)},QcomGnss_MeasurementStatus.prototype.setGpsLowBandwidthRxDiversityCombined=function(t){i.Struct.setBit(19,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsHighBandwidthNu4=function(){return i.Struct.getBit(20,this)},QcomGnss_MeasurementStatus.prototype.setGpsHighBandwidthNu4=function(t){i.Struct.setBit(20,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsHighBandwidthNu8=function(){return i.Struct.getBit(21,this)},QcomGnss_MeasurementStatus.prototype.setGpsHighBandwidthNu8=function(t){i.Struct.setBit(21,t,this)},QcomGnss_MeasurementStatus.prototype.getGpsHighBandwidthUniform=function(){return i.Struct.getBit(22,this)},QcomGnss_MeasurementStatus.prototype.setGpsHighBandwidthUniform=function(t){i.Struct.setBit(22,t,this)},QcomGnss_MeasurementStatus.prototype.getMultipathIndicator=function(){return i.Struct.getBit(23,this)},QcomGnss_MeasurementStatus.prototype.setMultipathIndicator=function(t){i.Struct.setBit(23,t,this)},QcomGnss_MeasurementStatus.prototype.getImdJammingIndicator=function(){return i.Struct.getBit(24,this)},QcomGnss_MeasurementStatus.prototype.setImdJammingIndicator=function(t){i.Struct.setBit(24,t,this)},QcomGnss_MeasurementStatus.prototype.getLteB13TxJammingIndicator=function(){return i.Struct.getBit(25,this)},QcomGnss_MeasurementStatus.prototype.setLteB13TxJammingIndicator=function(t){i.Struct.setBit(25,t,this)},QcomGnss_MeasurementStatus.prototype.getFreshMeasurementIndicator=function(){return i.Struct.getBit(26,this)},QcomGnss_MeasurementStatus.prototype.setFreshMeasurementIndicator=function(t){i.Struct.setBit(26,t,this)},QcomGnss_MeasurementStatus.prototype.getMultipathEstimateIsValid=function(){return i.Struct.getBit(27,this)},QcomGnss_MeasurementStatus.prototype.setMultipathEstimateIsValid=function(t){i.Struct.setBit(27,t,this)},QcomGnss_MeasurementStatus.prototype.getDirectionIsValid=function(){return i.Struct.getBit(28,this)},QcomGnss_MeasurementStatus.prototype.setDirectionIsValid=function(t){i.Struct.setBit(28,t,this)},QcomGnss_MeasurementStatus.prototype.toString=function(){return"QcomGnss_MeasurementStatus_"+t.prototype.toString.call(this)},QcomGnss_MeasurementStatus._capnp={displayName:"MeasurementStatus",id:"e501010e1bcae83b",size:new i.ObjectSize(8,0)},QcomGnss_MeasurementStatus}(i.Struct);e.QcomGnss_MeasurementStatus=Lt;var It=function(t){function QcomGnss_MeasurementReport_SV(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_MeasurementReport_SV,t),QcomGnss_MeasurementReport_SV.prototype.getSvId=function(){return i.Struct.getUint8(0,this)},QcomGnss_MeasurementReport_SV.prototype.setSvId=function(t){i.Struct.setUint8(0,t,this)},QcomGnss_MeasurementReport_SV.prototype.getObservationState=function(){return i.Struct.getUint16(2,this)},QcomGnss_MeasurementReport_SV.prototype.setObservationState=function(t){i.Struct.setUint16(2,t,this)},QcomGnss_MeasurementReport_SV.prototype.getObservations=function(){return i.Struct.getUint8(4,this)},QcomGnss_MeasurementReport_SV.prototype.setObservations=function(t){i.Struct.setUint8(4,t,this)},QcomGnss_MeasurementReport_SV.prototype.getGoodObservations=function(){return i.Struct.getUint8(5,this)},QcomGnss_MeasurementReport_SV.prototype.setGoodObservations=function(t){i.Struct.setUint8(5,t,this)},QcomGnss_MeasurementReport_SV.prototype.getGpsParityErrorCount=function(){return i.Struct.getUint16(6,this)},QcomGnss_MeasurementReport_SV.prototype.setGpsParityErrorCount=function(t){i.Struct.setUint16(6,t,this)},QcomGnss_MeasurementReport_SV.prototype.getGlonassFrequencyIndex=function(){return i.Struct.getInt8(1,this)},QcomGnss_MeasurementReport_SV.prototype.setGlonassFrequencyIndex=function(t){i.Struct.setInt8(1,t,this)},QcomGnss_MeasurementReport_SV.prototype.getGlonassHemmingErrorCount=function(){return i.Struct.getUint8(8,this)},QcomGnss_MeasurementReport_SV.prototype.setGlonassHemmingErrorCount=function(t){i.Struct.setUint8(8,t,this)},QcomGnss_MeasurementReport_SV.prototype.getFilterStages=function(){return i.Struct.getUint8(9,this)},QcomGnss_MeasurementReport_SV.prototype.setFilterStages=function(t){i.Struct.setUint8(9,t,this)},QcomGnss_MeasurementReport_SV.prototype.getCarrierNoise=function(){return i.Struct.getUint16(10,this)},QcomGnss_MeasurementReport_SV.prototype.setCarrierNoise=function(t){i.Struct.setUint16(10,t,this)},QcomGnss_MeasurementReport_SV.prototype.getLatency=function(){return i.Struct.getInt16(12,this)},QcomGnss_MeasurementReport_SV.prototype.setLatency=function(t){i.Struct.setInt16(12,t,this)},QcomGnss_MeasurementReport_SV.prototype.getPredetectInterval=function(){return i.Struct.getUint8(14,this)},QcomGnss_MeasurementReport_SV.prototype.setPredetectInterval=function(t){i.Struct.setUint8(14,t,this)},QcomGnss_MeasurementReport_SV.prototype.getPostdetections=function(){return i.Struct.getUint16(16,this)},QcomGnss_MeasurementReport_SV.prototype.setPostdetections=function(t){i.Struct.setUint16(16,t,this)},QcomGnss_MeasurementReport_SV.prototype.getUnfilteredMeasurementIntegral=function(){return i.Struct.getUint32(20,this)},QcomGnss_MeasurementReport_SV.prototype.setUnfilteredMeasurementIntegral=function(t){i.Struct.setUint32(20,t,this)},QcomGnss_MeasurementReport_SV.prototype.getUnfilteredMeasurementFraction=function(){return i.Struct.getFloat32(24,this)},QcomGnss_MeasurementReport_SV.prototype.setUnfilteredMeasurementFraction=function(t){i.Struct.setFloat32(24,t,this)},QcomGnss_MeasurementReport_SV.prototype.getUnfilteredTimeUncertainty=function(){return i.Struct.getFloat32(28,this)},QcomGnss_MeasurementReport_SV.prototype.setUnfilteredTimeUncertainty=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_MeasurementReport_SV.prototype.getUnfilteredSpeed=function(){return i.Struct.getFloat32(32,this)},QcomGnss_MeasurementReport_SV.prototype.setUnfilteredSpeed=function(t){i.Struct.setFloat32(32,t,this)},QcomGnss_MeasurementReport_SV.prototype.getUnfilteredSpeedUncertainty=function(){return i.Struct.getFloat32(36,this)},QcomGnss_MeasurementReport_SV.prototype.setUnfilteredSpeedUncertainty=function(t){i.Struct.setFloat32(36,t,this)},QcomGnss_MeasurementReport_SV.prototype.adoptMeasurementStatus=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport_SV.prototype.disownMeasurementStatus=function(){return i.Struct.disown(this.getMeasurementStatus())},QcomGnss_MeasurementReport_SV.prototype.getMeasurementStatus=function(){return i.Struct.getStruct(0,Lt,this)},QcomGnss_MeasurementReport_SV.prototype.hasMeasurementStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport_SV.prototype.initMeasurementStatus=function(){return i.Struct.initStructAt(0,Lt,this)},QcomGnss_MeasurementReport_SV.prototype.setMeasurementStatus=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport_SV.prototype.getMultipathEstimate=function(){return i.Struct.getUint32(40,this)},QcomGnss_MeasurementReport_SV.prototype.setMultipathEstimate=function(t){i.Struct.setUint32(40,t,this)},QcomGnss_MeasurementReport_SV.prototype.getAzimuth=function(){return i.Struct.getFloat32(44,this)},QcomGnss_MeasurementReport_SV.prototype.setAzimuth=function(t){i.Struct.setFloat32(44,t,this)},QcomGnss_MeasurementReport_SV.prototype.getElevation=function(){return i.Struct.getFloat32(48,this)},QcomGnss_MeasurementReport_SV.prototype.setElevation=function(t){i.Struct.setFloat32(48,t,this)},QcomGnss_MeasurementReport_SV.prototype.getCarrierPhaseCyclesIntegral=function(){return i.Struct.getInt32(52,this)},QcomGnss_MeasurementReport_SV.prototype.setCarrierPhaseCyclesIntegral=function(t){i.Struct.setInt32(52,t,this)},QcomGnss_MeasurementReport_SV.prototype.getCarrierPhaseCyclesFraction=function(){return i.Struct.getUint16(18,this)},QcomGnss_MeasurementReport_SV.prototype.setCarrierPhaseCyclesFraction=function(t){i.Struct.setUint16(18,t,this)},QcomGnss_MeasurementReport_SV.prototype.getFineSpeed=function(){return i.Struct.getFloat32(56,this)},QcomGnss_MeasurementReport_SV.prototype.setFineSpeed=function(t){i.Struct.setFloat32(56,t,this)},QcomGnss_MeasurementReport_SV.prototype.getFineSpeedUncertainty=function(){return i.Struct.getFloat32(60,this)},QcomGnss_MeasurementReport_SV.prototype.setFineSpeedUncertainty=function(t){i.Struct.setFloat32(60,t,this)},QcomGnss_MeasurementReport_SV.prototype.getCycleSlipCount=function(){return i.Struct.getUint8(15,this)},QcomGnss_MeasurementReport_SV.prototype.setCycleSlipCount=function(t){i.Struct.setUint8(15,t,this)},QcomGnss_MeasurementReport_SV.prototype.toString=function(){return"QcomGnss_MeasurementReport_SV_"+t.prototype.toString.call(this)},QcomGnss_MeasurementReport_SV._capnp={displayName:"SV",id:"f10c595ae7bb2c27",size:new i.ObjectSize(64,1)},QcomGnss_MeasurementReport_SV}(i.Struct);e.QcomGnss_MeasurementReport_SV=It;var Ot=function(t){function QcomGnss_MeasurementReport(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_MeasurementReport,t),QcomGnss_MeasurementReport.prototype.getSource=function(){return i.Struct.getUint16(0,this)},QcomGnss_MeasurementReport.prototype.setSource=function(t){i.Struct.setUint16(0,t,this)},QcomGnss_MeasurementReport.prototype.getFCount=function(){return i.Struct.getUint32(4,this)},QcomGnss_MeasurementReport.prototype.setFCount=function(t){i.Struct.setUint32(4,t,this)},QcomGnss_MeasurementReport.prototype.getGpsWeek=function(){return i.Struct.getUint16(2,this)},QcomGnss_MeasurementReport.prototype.setGpsWeek=function(t){i.Struct.setUint16(2,t,this)},QcomGnss_MeasurementReport.prototype.getGlonassCycleNumber=function(){return i.Struct.getUint8(8,this)},QcomGnss_MeasurementReport.prototype.setGlonassCycleNumber=function(t){i.Struct.setUint8(8,t,this)},QcomGnss_MeasurementReport.prototype.getGlonassNumberOfDays=function(){return i.Struct.getUint16(10,this)},QcomGnss_MeasurementReport.prototype.setGlonassNumberOfDays=function(t){i.Struct.setUint16(10,t,this)},QcomGnss_MeasurementReport.prototype.getMilliseconds=function(){return i.Struct.getUint32(12,this)},QcomGnss_MeasurementReport.prototype.setMilliseconds=function(t){i.Struct.setUint32(12,t,this)},QcomGnss_MeasurementReport.prototype.getTimeBias=function(){return i.Struct.getFloat32(16,this)},QcomGnss_MeasurementReport.prototype.setTimeBias=function(t){i.Struct.setFloat32(16,t,this)},QcomGnss_MeasurementReport.prototype.getClockTimeUncertainty=function(){return i.Struct.getFloat32(20,this)},QcomGnss_MeasurementReport.prototype.setClockTimeUncertainty=function(t){i.Struct.setFloat32(20,t,this)},QcomGnss_MeasurementReport.prototype.getClockFrequencyBias=function(){return i.Struct.getFloat32(24,this)},QcomGnss_MeasurementReport.prototype.setClockFrequencyBias=function(t){i.Struct.setFloat32(24,t,this)},QcomGnss_MeasurementReport.prototype.getClockFrequencyUncertainty=function(){return i.Struct.getFloat32(28,this)},QcomGnss_MeasurementReport.prototype.setClockFrequencyUncertainty=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_MeasurementReport.prototype.adoptSv=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport.prototype.disownSv=function(){return i.Struct.disown(this.getSv())},QcomGnss_MeasurementReport.prototype.getSv=function(){return i.Struct.getList(0,QcomGnss_MeasurementReport._Sv,this)},QcomGnss_MeasurementReport.prototype.hasSv=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport.prototype.initSv=function(t){return i.Struct.initList(0,QcomGnss_MeasurementReport._Sv,t,this)},QcomGnss_MeasurementReport.prototype.setSv=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss_MeasurementReport.prototype.toString=function(){return"QcomGnss_MeasurementReport_"+t.prototype.toString.call(this)},QcomGnss_MeasurementReport.SV=It,QcomGnss_MeasurementReport._capnp={displayName:"MeasurementReport",id:"f580d7d86b7b8692",size:new i.ObjectSize(32,1)},QcomGnss_MeasurementReport}(i.Struct);e.QcomGnss_MeasurementReport=Ot;var kt=function(t){function QcomGnss_ClockReport(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_ClockReport,t),QcomGnss_ClockReport.prototype.getHasFCount=function(){return i.Struct.getBit(0,this)},QcomGnss_ClockReport.prototype.setHasFCount=function(t){i.Struct.setBit(0,t,this)},QcomGnss_ClockReport.prototype.getFCount=function(){return i.Struct.getUint32(4,this)},QcomGnss_ClockReport.prototype.setFCount=function(t){i.Struct.setUint32(4,t,this)},QcomGnss_ClockReport.prototype.getHasGpsWeek=function(){return i.Struct.getBit(1,this)},QcomGnss_ClockReport.prototype.setHasGpsWeek=function(t){i.Struct.setBit(1,t,this)},QcomGnss_ClockReport.prototype.getGpsWeek=function(){return i.Struct.getUint16(2,this)},QcomGnss_ClockReport.prototype.setGpsWeek=function(t){i.Struct.setUint16(2,t,this)},QcomGnss_ClockReport.prototype.getHasGpsMilliseconds=function(){return i.Struct.getBit(2,this)},QcomGnss_ClockReport.prototype.setHasGpsMilliseconds=function(t){i.Struct.setBit(2,t,this)},QcomGnss_ClockReport.prototype.getGpsMilliseconds=function(){return i.Struct.getUint32(8,this)},QcomGnss_ClockReport.prototype.setGpsMilliseconds=function(t){i.Struct.setUint32(8,t,this)},QcomGnss_ClockReport.prototype.getGpsTimeBias=function(){return i.Struct.getFloat32(12,this)},QcomGnss_ClockReport.prototype.setGpsTimeBias=function(t){i.Struct.setFloat32(12,t,this)},QcomGnss_ClockReport.prototype.getGpsClockTimeUncertainty=function(){return i.Struct.getFloat32(16,this)},QcomGnss_ClockReport.prototype.setGpsClockTimeUncertainty=function(t){i.Struct.setFloat32(16,t,this)},QcomGnss_ClockReport.prototype.getGpsClockSource=function(){return i.Struct.getUint8(1,this)},QcomGnss_ClockReport.prototype.setGpsClockSource=function(t){i.Struct.setUint8(1,t,this)},QcomGnss_ClockReport.prototype.getHasGlonassYear=function(){return i.Struct.getBit(3,this)},QcomGnss_ClockReport.prototype.setHasGlonassYear=function(t){i.Struct.setBit(3,t,this)},QcomGnss_ClockReport.prototype.getGlonassYear=function(){return i.Struct.getUint8(20,this)},QcomGnss_ClockReport.prototype.setGlonassYear=function(t){i.Struct.setUint8(20,t,this)},QcomGnss_ClockReport.prototype.getHasGlonassDay=function(){return i.Struct.getBit(4,this)},QcomGnss_ClockReport.prototype.setHasGlonassDay=function(t){i.Struct.setBit(4,t,this)},QcomGnss_ClockReport.prototype.getGlonassDay=function(){return i.Struct.getUint16(22,this)},QcomGnss_ClockReport.prototype.setGlonassDay=function(t){i.Struct.setUint16(22,t,this)},QcomGnss_ClockReport.prototype.getHasGlonassMilliseconds=function(){return i.Struct.getBit(5,this)},QcomGnss_ClockReport.prototype.setHasGlonassMilliseconds=function(t){i.Struct.setBit(5,t,this)},QcomGnss_ClockReport.prototype.getGlonassMilliseconds=function(){return i.Struct.getUint32(24,this)},QcomGnss_ClockReport.prototype.setGlonassMilliseconds=function(t){i.Struct.setUint32(24,t,this)},QcomGnss_ClockReport.prototype.getGlonassTimeBias=function(){return i.Struct.getFloat32(28,this)},QcomGnss_ClockReport.prototype.setGlonassTimeBias=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_ClockReport.prototype.getGlonassClockTimeUncertainty=function(){return i.Struct.getFloat32(32,this)},QcomGnss_ClockReport.prototype.setGlonassClockTimeUncertainty=function(t){i.Struct.setFloat32(32,t,this)},QcomGnss_ClockReport.prototype.getGlonassClockSource=function(){return i.Struct.getUint8(21,this)},QcomGnss_ClockReport.prototype.setGlonassClockSource=function(t){i.Struct.setUint8(21,t,this)},QcomGnss_ClockReport.prototype.getBdsWeek=function(){return i.Struct.getUint16(36,this)},QcomGnss_ClockReport.prototype.setBdsWeek=function(t){i.Struct.setUint16(36,t,this)},QcomGnss_ClockReport.prototype.getBdsMilliseconds=function(){return i.Struct.getUint32(40,this)},QcomGnss_ClockReport.prototype.setBdsMilliseconds=function(t){i.Struct.setUint32(40,t,this)},QcomGnss_ClockReport.prototype.getBdsTimeBias=function(){return i.Struct.getFloat32(44,this)},QcomGnss_ClockReport.prototype.setBdsTimeBias=function(t){i.Struct.setFloat32(44,t,this)},QcomGnss_ClockReport.prototype.getBdsClockTimeUncertainty=function(){return i.Struct.getFloat32(48,this)},QcomGnss_ClockReport.prototype.setBdsClockTimeUncertainty=function(t){i.Struct.setFloat32(48,t,this)},QcomGnss_ClockReport.prototype.getBdsClockSource=function(){return i.Struct.getUint8(38,this)},QcomGnss_ClockReport.prototype.setBdsClockSource=function(t){i.Struct.setUint8(38,t,this)},QcomGnss_ClockReport.prototype.getGalWeek=function(){return i.Struct.getUint16(52,this)},QcomGnss_ClockReport.prototype.setGalWeek=function(t){i.Struct.setUint16(52,t,this)},QcomGnss_ClockReport.prototype.getGalMilliseconds=function(){return i.Struct.getUint32(56,this)},QcomGnss_ClockReport.prototype.setGalMilliseconds=function(t){i.Struct.setUint32(56,t,this)},QcomGnss_ClockReport.prototype.getGalTimeBias=function(){return i.Struct.getFloat32(60,this)},QcomGnss_ClockReport.prototype.setGalTimeBias=function(t){i.Struct.setFloat32(60,t,this)},QcomGnss_ClockReport.prototype.getGalClockTimeUncertainty=function(){return i.Struct.getFloat32(64,this)},QcomGnss_ClockReport.prototype.setGalClockTimeUncertainty=function(t){i.Struct.setFloat32(64,t,this)},QcomGnss_ClockReport.prototype.getGalClockSource=function(){return i.Struct.getUint8(39,this)},QcomGnss_ClockReport.prototype.setGalClockSource=function(t){i.Struct.setUint8(39,t,this)},QcomGnss_ClockReport.prototype.getClockFrequencyBias=function(){return i.Struct.getFloat32(68,this)},QcomGnss_ClockReport.prototype.setClockFrequencyBias=function(t){i.Struct.setFloat32(68,t,this)},QcomGnss_ClockReport.prototype.getClockFrequencyUncertainty=function(){return i.Struct.getFloat32(72,this)},QcomGnss_ClockReport.prototype.setClockFrequencyUncertainty=function(t){i.Struct.setFloat32(72,t,this)},QcomGnss_ClockReport.prototype.getFrequencySource=function(){return i.Struct.getUint8(54,this)},QcomGnss_ClockReport.prototype.setFrequencySource=function(t){i.Struct.setUint8(54,t,this)},QcomGnss_ClockReport.prototype.getGpsLeapSeconds=function(){return i.Struct.getUint8(55,this)},QcomGnss_ClockReport.prototype.setGpsLeapSeconds=function(t){i.Struct.setUint8(55,t,this)},QcomGnss_ClockReport.prototype.getGpsLeapSecondsUncertainty=function(){return i.Struct.getUint8(76,this)},QcomGnss_ClockReport.prototype.setGpsLeapSecondsUncertainty=function(t){i.Struct.setUint8(76,t,this)},QcomGnss_ClockReport.prototype.getGpsLeapSecondsSource=function(){return i.Struct.getUint8(77,this)},QcomGnss_ClockReport.prototype.setGpsLeapSecondsSource=function(t){i.Struct.setUint8(77,t,this)},QcomGnss_ClockReport.prototype.getGpsToGlonassTimeBiasMilliseconds=function(){return i.Struct.getFloat32(80,this)},QcomGnss_ClockReport.prototype.setGpsToGlonassTimeBiasMilliseconds=function(t){i.Struct.setFloat32(80,t,this)},QcomGnss_ClockReport.prototype.getGpsToGlonassTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(84,this)},QcomGnss_ClockReport.prototype.setGpsToGlonassTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(84,t,this)},QcomGnss_ClockReport.prototype.getGpsToBdsTimeBiasMilliseconds=function(){return i.Struct.getFloat32(88,this)},QcomGnss_ClockReport.prototype.setGpsToBdsTimeBiasMilliseconds=function(t){i.Struct.setFloat32(88,t,this)},QcomGnss_ClockReport.prototype.getGpsToBdsTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(92,this)},QcomGnss_ClockReport.prototype.setGpsToBdsTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(92,t,this)},QcomGnss_ClockReport.prototype.getBdsToGloTimeBiasMilliseconds=function(){return i.Struct.getFloat32(96,this)},QcomGnss_ClockReport.prototype.setBdsToGloTimeBiasMilliseconds=function(t){i.Struct.setFloat32(96,t,this)},QcomGnss_ClockReport.prototype.getBdsToGloTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(100,this)},QcomGnss_ClockReport.prototype.setBdsToGloTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(100,t,this)},QcomGnss_ClockReport.prototype.getGpsToGalTimeBiasMilliseconds=function(){return i.Struct.getFloat32(104,this)},QcomGnss_ClockReport.prototype.setGpsToGalTimeBiasMilliseconds=function(t){i.Struct.setFloat32(104,t,this)},QcomGnss_ClockReport.prototype.getGpsToGalTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(108,this)},QcomGnss_ClockReport.prototype.setGpsToGalTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(108,t,this)},QcomGnss_ClockReport.prototype.getGalToGloTimeBiasMilliseconds=function(){return i.Struct.getFloat32(112,this)},QcomGnss_ClockReport.prototype.setGalToGloTimeBiasMilliseconds=function(t){i.Struct.setFloat32(112,t,this)},QcomGnss_ClockReport.prototype.getGalToGloTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(116,this)},QcomGnss_ClockReport.prototype.setGalToGloTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(116,t,this)},QcomGnss_ClockReport.prototype.getGalToBdsTimeBiasMilliseconds=function(){return i.Struct.getFloat32(120,this)},QcomGnss_ClockReport.prototype.setGalToBdsTimeBiasMilliseconds=function(t){i.Struct.setFloat32(120,t,this)},QcomGnss_ClockReport.prototype.getGalToBdsTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(124,this)},QcomGnss_ClockReport.prototype.setGalToBdsTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(124,t,this)},QcomGnss_ClockReport.prototype.getHasRtcTime=function(){return i.Struct.getBit(6,this)},QcomGnss_ClockReport.prototype.setHasRtcTime=function(t){i.Struct.setBit(6,t,this)},QcomGnss_ClockReport.prototype.getSystemRtcTime=function(){return i.Struct.getUint32(128,this)},QcomGnss_ClockReport.prototype.setSystemRtcTime=function(t){i.Struct.setUint32(128,t,this)},QcomGnss_ClockReport.prototype.getFCountOffset=function(){return i.Struct.getUint32(132,this)},QcomGnss_ClockReport.prototype.setFCountOffset=function(t){i.Struct.setUint32(132,t,this)},QcomGnss_ClockReport.prototype.getLpmRtcCount=function(){return i.Struct.getUint32(136,this)},QcomGnss_ClockReport.prototype.setLpmRtcCount=function(t){i.Struct.setUint32(136,t,this)},QcomGnss_ClockReport.prototype.getClockResets=function(){return i.Struct.getUint32(140,this)},QcomGnss_ClockReport.prototype.setClockResets=function(t){i.Struct.setUint32(140,t,this)},QcomGnss_ClockReport.prototype.toString=function(){return"QcomGnss_ClockReport_"+t.prototype.toString.call(this)},QcomGnss_ClockReport._capnp={displayName:"ClockReport",id:"ca965e4add8f4f0b",size:new i.ObjectSize(144,0)},QcomGnss_ClockReport}(i.Struct);e.QcomGnss_ClockReport=kt;var Ft=function(t){function QcomGnss_DrMeasurementReport_SV(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_DrMeasurementReport_SV,t),QcomGnss_DrMeasurementReport_SV.prototype.getSvId=function(){return i.Struct.getUint8(0,this)},QcomGnss_DrMeasurementReport_SV.prototype.setSvId=function(t){i.Struct.setUint8(0,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getGlonassFrequencyIndex=function(){return i.Struct.getInt8(1,this)},QcomGnss_DrMeasurementReport_SV.prototype.setGlonassFrequencyIndex=function(t){i.Struct.setInt8(1,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getObservationState=function(){return i.Struct.getUint16(2,this)},QcomGnss_DrMeasurementReport_SV.prototype.setObservationState=function(t){i.Struct.setUint16(2,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getObservations=function(){return i.Struct.getUint8(4,this)},QcomGnss_DrMeasurementReport_SV.prototype.setObservations=function(t){i.Struct.setUint8(4,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getGoodObservations=function(){return i.Struct.getUint8(5,this)},QcomGnss_DrMeasurementReport_SV.prototype.setGoodObservations=function(t){i.Struct.setUint8(5,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilterStages=function(){return i.Struct.getUint8(6,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilterStages=function(t){i.Struct.setUint8(6,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getPredetectInterval=function(){return i.Struct.getUint8(7,this)},QcomGnss_DrMeasurementReport_SV.prototype.setPredetectInterval=function(t){i.Struct.setUint8(7,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getCycleSlipCount=function(){return i.Struct.getUint8(8,this)},QcomGnss_DrMeasurementReport_SV.prototype.setCycleSlipCount=function(t){i.Struct.setUint8(8,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getPostdetections=function(){return i.Struct.getUint16(10,this)},QcomGnss_DrMeasurementReport_SV.prototype.setPostdetections=function(t){i.Struct.setUint16(10,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.adoptMeasurementStatus=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport_SV.prototype.disownMeasurementStatus=function(){return i.Struct.disown(this.getMeasurementStatus())},QcomGnss_DrMeasurementReport_SV.prototype.getMeasurementStatus=function(){return i.Struct.getStruct(0,Lt,this)},QcomGnss_DrMeasurementReport_SV.prototype.hasMeasurementStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport_SV.prototype.initMeasurementStatus=function(){return i.Struct.initStructAt(0,Lt,this)},QcomGnss_DrMeasurementReport_SV.prototype.setMeasurementStatus=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport_SV.prototype.getCarrierNoise=function(){return i.Struct.getUint16(12,this)},QcomGnss_DrMeasurementReport_SV.prototype.setCarrierNoise=function(t){i.Struct.setUint16(12,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getRfLoss=function(){return i.Struct.getUint16(14,this)},QcomGnss_DrMeasurementReport_SV.prototype.setRfLoss=function(t){i.Struct.setUint16(14,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getLatency=function(){return i.Struct.getInt16(16,this)},QcomGnss_DrMeasurementReport_SV.prototype.setLatency=function(t){i.Struct.setInt16(16,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilteredMeasurementFraction=function(){return i.Struct.getFloat32(20,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilteredMeasurementFraction=function(t){i.Struct.setFloat32(20,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilteredMeasurementIntegral=function(){return i.Struct.getUint32(24,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilteredMeasurementIntegral=function(t){i.Struct.setUint32(24,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilteredTimeUncertainty=function(){return i.Struct.getFloat32(28,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilteredTimeUncertainty=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilteredSpeed=function(){return i.Struct.getFloat32(32,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilteredSpeed=function(t){i.Struct.setFloat32(32,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFilteredSpeedUncertainty=function(){return i.Struct.getFloat32(36,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFilteredSpeedUncertainty=function(t){i.Struct.setFloat32(36,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getUnfilteredMeasurementFraction=function(){return i.Struct.getFloat32(40,this)},QcomGnss_DrMeasurementReport_SV.prototype.setUnfilteredMeasurementFraction=function(t){i.Struct.setFloat32(40,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getUnfilteredMeasurementIntegral=function(){return i.Struct.getUint32(44,this)},QcomGnss_DrMeasurementReport_SV.prototype.setUnfilteredMeasurementIntegral=function(t){i.Struct.setUint32(44,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getUnfilteredTimeUncertainty=function(){return i.Struct.getFloat32(48,this)},QcomGnss_DrMeasurementReport_SV.prototype.setUnfilteredTimeUncertainty=function(t){i.Struct.setFloat32(48,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getUnfilteredSpeed=function(){return i.Struct.getFloat32(52,this)},QcomGnss_DrMeasurementReport_SV.prototype.setUnfilteredSpeed=function(t){i.Struct.setFloat32(52,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getUnfilteredSpeedUncertainty=function(){return i.Struct.getFloat32(56,this)},QcomGnss_DrMeasurementReport_SV.prototype.setUnfilteredSpeedUncertainty=function(t){i.Struct.setFloat32(56,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getMultipathEstimate=function(){return i.Struct.getUint32(60,this)},QcomGnss_DrMeasurementReport_SV.prototype.setMultipathEstimate=function(t){i.Struct.setUint32(60,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getAzimuth=function(){return i.Struct.getFloat32(64,this)},QcomGnss_DrMeasurementReport_SV.prototype.setAzimuth=function(t){i.Struct.setFloat32(64,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getElevation=function(){return i.Struct.getFloat32(68,this)},QcomGnss_DrMeasurementReport_SV.prototype.setElevation=function(t){i.Struct.setFloat32(68,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getDopplerAcceleration=function(){return i.Struct.getFloat32(72,this)},QcomGnss_DrMeasurementReport_SV.prototype.setDopplerAcceleration=function(t){i.Struct.setFloat32(72,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFineSpeed=function(){return i.Struct.getFloat32(76,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFineSpeed=function(t){i.Struct.setFloat32(76,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFineSpeedUncertainty=function(){return i.Struct.getFloat32(80,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFineSpeedUncertainty=function(t){i.Struct.setFloat32(80,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getCarrierPhase=function(){return i.Struct.getFloat64(88,this)},QcomGnss_DrMeasurementReport_SV.prototype.setCarrierPhase=function(t){i.Struct.setFloat64(88,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getFCount=function(){return i.Struct.getUint32(84,this)},QcomGnss_DrMeasurementReport_SV.prototype.setFCount=function(t){i.Struct.setUint32(84,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getParityErrorCount=function(){return i.Struct.getUint16(18,this)},QcomGnss_DrMeasurementReport_SV.prototype.setParityErrorCount=function(t){i.Struct.setUint16(18,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.getGoodParity=function(){return i.Struct.getBit(72,this)},QcomGnss_DrMeasurementReport_SV.prototype.setGoodParity=function(t){i.Struct.setBit(72,t,this)},QcomGnss_DrMeasurementReport_SV.prototype.toString=function(){return"QcomGnss_DrMeasurementReport_SV_"+t.prototype.toString.call(this)},QcomGnss_DrMeasurementReport_SV._capnp={displayName:"SV",id:"f08b81df8cbf459c",size:new i.ObjectSize(96,1)},QcomGnss_DrMeasurementReport_SV}(i.Struct);e.QcomGnss_DrMeasurementReport_SV=Ft;var Nt=function(t){function QcomGnss_DrMeasurementReport(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_DrMeasurementReport,t),QcomGnss_DrMeasurementReport.prototype.getReason=function(){return i.Struct.getUint8(0,this)},QcomGnss_DrMeasurementReport.prototype.setReason=function(t){i.Struct.setUint8(0,t,this)},QcomGnss_DrMeasurementReport.prototype.getSeqNum=function(){return i.Struct.getUint8(1,this)},QcomGnss_DrMeasurementReport.prototype.setSeqNum=function(t){i.Struct.setUint8(1,t,this)},QcomGnss_DrMeasurementReport.prototype.getSeqMax=function(){return i.Struct.getUint8(2,this)},QcomGnss_DrMeasurementReport.prototype.setSeqMax=function(t){i.Struct.setUint8(2,t,this)},QcomGnss_DrMeasurementReport.prototype.getRfLoss=function(){return i.Struct.getUint16(4,this)},QcomGnss_DrMeasurementReport.prototype.setRfLoss=function(t){i.Struct.setUint16(4,t,this)},QcomGnss_DrMeasurementReport.prototype.getSystemRtcValid=function(){return i.Struct.getBit(24,this)},QcomGnss_DrMeasurementReport.prototype.setSystemRtcValid=function(t){i.Struct.setBit(24,t,this)},QcomGnss_DrMeasurementReport.prototype.getFCount=function(){return i.Struct.getUint32(8,this)},QcomGnss_DrMeasurementReport.prototype.setFCount=function(t){i.Struct.setUint32(8,t,this)},QcomGnss_DrMeasurementReport.prototype.getClockResets=function(){return i.Struct.getUint32(12,this)},QcomGnss_DrMeasurementReport.prototype.setClockResets=function(t){i.Struct.setUint32(12,t,this)},QcomGnss_DrMeasurementReport.prototype.getSystemRtcTime=function(){return i.Struct.getUint64(16,this)},QcomGnss_DrMeasurementReport.prototype.setSystemRtcTime=function(t){i.Struct.setUint64(16,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsLeapSeconds=function(){return i.Struct.getUint8(6,this)},QcomGnss_DrMeasurementReport.prototype.setGpsLeapSeconds=function(t){i.Struct.setUint8(6,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsLeapSecondsUncertainty=function(){return i.Struct.getUint8(7,this)},QcomGnss_DrMeasurementReport.prototype.setGpsLeapSecondsUncertainty=function(t){i.Struct.setUint8(7,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsToGlonassTimeBiasMilliseconds=function(){return i.Struct.getFloat32(24,this)},QcomGnss_DrMeasurementReport.prototype.setGpsToGlonassTimeBiasMilliseconds=function(t){i.Struct.setFloat32(24,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsToGlonassTimeBiasMillisecondsUncertainty=function(){return i.Struct.getFloat32(28,this)},QcomGnss_DrMeasurementReport.prototype.setGpsToGlonassTimeBiasMillisecondsUncertainty=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsWeek=function(){return i.Struct.getUint16(32,this)},QcomGnss_DrMeasurementReport.prototype.setGpsWeek=function(t){i.Struct.setUint16(32,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsMilliseconds=function(){return i.Struct.getUint32(36,this)},QcomGnss_DrMeasurementReport.prototype.setGpsMilliseconds=function(t){i.Struct.setUint32(36,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsTimeBiasMs=function(){return i.Struct.getUint32(40,this)},QcomGnss_DrMeasurementReport.prototype.setGpsTimeBiasMs=function(t){i.Struct.setUint32(40,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsClockTimeUncertaintyMs=function(){return i.Struct.getUint32(44,this)},QcomGnss_DrMeasurementReport.prototype.setGpsClockTimeUncertaintyMs=function(t){i.Struct.setUint32(44,t,this)},QcomGnss_DrMeasurementReport.prototype.getGpsClockSource=function(){return i.Struct.getUint8(34,this)},QcomGnss_DrMeasurementReport.prototype.setGpsClockSource=function(t){i.Struct.setUint8(34,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassClockSource=function(){return i.Struct.getUint8(35,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassClockSource=function(t){i.Struct.setUint8(35,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassYear=function(){return i.Struct.getUint8(48,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassYear=function(t){i.Struct.setUint8(48,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassDay=function(){return i.Struct.getUint16(50,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassDay=function(t){i.Struct.setUint16(50,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassMilliseconds=function(){return i.Struct.getUint32(52,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassMilliseconds=function(t){i.Struct.setUint32(52,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassTimeBias=function(){return i.Struct.getFloat32(56,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassTimeBias=function(t){i.Struct.setFloat32(56,t,this)},QcomGnss_DrMeasurementReport.prototype.getGlonassClockTimeUncertainty=function(){return i.Struct.getFloat32(60,this)},QcomGnss_DrMeasurementReport.prototype.setGlonassClockTimeUncertainty=function(t){i.Struct.setFloat32(60,t,this)},QcomGnss_DrMeasurementReport.prototype.getClockFrequencyBias=function(){return i.Struct.getFloat32(64,this)},QcomGnss_DrMeasurementReport.prototype.setClockFrequencyBias=function(t){i.Struct.setFloat32(64,t,this)},QcomGnss_DrMeasurementReport.prototype.getClockFrequencyUncertainty=function(){return i.Struct.getFloat32(68,this)},QcomGnss_DrMeasurementReport.prototype.setClockFrequencyUncertainty=function(t){i.Struct.setFloat32(68,t,this)},QcomGnss_DrMeasurementReport.prototype.getFrequencySource=function(){return i.Struct.getUint8(49,this)},QcomGnss_DrMeasurementReport.prototype.setFrequencySource=function(t){i.Struct.setUint8(49,t,this)},QcomGnss_DrMeasurementReport.prototype.getSource=function(){return i.Struct.getUint16(72,this)},QcomGnss_DrMeasurementReport.prototype.setSource=function(t){i.Struct.setUint16(72,t,this)},QcomGnss_DrMeasurementReport.prototype.adoptSv=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport.prototype.disownSv=function(){return i.Struct.disown(this.getSv())},QcomGnss_DrMeasurementReport.prototype.getSv=function(){return i.Struct.getList(0,QcomGnss_DrMeasurementReport._Sv,this)},QcomGnss_DrMeasurementReport.prototype.hasSv=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport.prototype.initSv=function(t){return i.Struct.initList(0,QcomGnss_DrMeasurementReport._Sv,t,this)},QcomGnss_DrMeasurementReport.prototype.setSv=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss_DrMeasurementReport.prototype.toString=function(){return"QcomGnss_DrMeasurementReport_"+t.prototype.toString.call(this)},QcomGnss_DrMeasurementReport.SV=Ft,QcomGnss_DrMeasurementReport._capnp={displayName:"DrMeasurementReport",id:"8053c39445c6c75c",size:new i.ObjectSize(80,1)},QcomGnss_DrMeasurementReport}(i.Struct);e.QcomGnss_DrMeasurementReport=Nt;var Bt,Ut=function(t){function QcomGnss_DrSvPolyReport(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss_DrSvPolyReport,t),QcomGnss_DrSvPolyReport.prototype.getSvId=function(){return i.Struct.getUint16(0,this)},QcomGnss_DrSvPolyReport.prototype.setSvId=function(t){i.Struct.setUint16(0,t,this)},QcomGnss_DrSvPolyReport.prototype.getFrequencyIndex=function(){return i.Struct.getInt8(2,this)},QcomGnss_DrSvPolyReport.prototype.setFrequencyIndex=function(t){i.Struct.setInt8(2,t,this)},QcomGnss_DrSvPolyReport.prototype.getHasPosition=function(){return i.Struct.getBit(24,this)},QcomGnss_DrSvPolyReport.prototype.setHasPosition=function(t){i.Struct.setBit(24,t,this)},QcomGnss_DrSvPolyReport.prototype.getHasIono=function(){return i.Struct.getBit(25,this)},QcomGnss_DrSvPolyReport.prototype.setHasIono=function(t){i.Struct.setBit(25,t,this)},QcomGnss_DrSvPolyReport.prototype.getHasTropo=function(){return i.Struct.getBit(26,this)},QcomGnss_DrSvPolyReport.prototype.setHasTropo=function(t){i.Struct.setBit(26,t,this)},QcomGnss_DrSvPolyReport.prototype.getHasElevation=function(){return i.Struct.getBit(27,this)},QcomGnss_DrSvPolyReport.prototype.setHasElevation=function(t){i.Struct.setBit(27,t,this)},QcomGnss_DrSvPolyReport.prototype.getPolyFromXtra=function(){return i.Struct.getBit(28,this)},QcomGnss_DrSvPolyReport.prototype.setPolyFromXtra=function(t){i.Struct.setBit(28,t,this)},QcomGnss_DrSvPolyReport.prototype.getHasSbasIono=function(){return i.Struct.getBit(29,this)},QcomGnss_DrSvPolyReport.prototype.setHasSbasIono=function(t){i.Struct.setBit(29,t,this)},QcomGnss_DrSvPolyReport.prototype.getIode=function(){return i.Struct.getUint16(4,this)},QcomGnss_DrSvPolyReport.prototype.setIode=function(t){i.Struct.setUint16(4,t,this)},QcomGnss_DrSvPolyReport.prototype.getT0=function(){return i.Struct.getFloat64(8,this)},QcomGnss_DrSvPolyReport.prototype.setT0=function(t){i.Struct.setFloat64(8,t,this)},QcomGnss_DrSvPolyReport.prototype.adoptXyz0=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss_DrSvPolyReport.prototype.disownXyz0=function(){return i.Struct.disown(this.getXyz0())},QcomGnss_DrSvPolyReport.prototype.getXyz0=function(){return i.Struct.getList(0,o.Float64List,this)},QcomGnss_DrSvPolyReport.prototype.hasXyz0=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss_DrSvPolyReport.prototype.initXyz0=function(t){return i.Struct.initList(0,o.Float64List,t,this)},QcomGnss_DrSvPolyReport.prototype.setXyz0=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss_DrSvPolyReport.prototype.adoptXyzN=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},QcomGnss_DrSvPolyReport.prototype.disownXyzN=function(){return i.Struct.disown(this.getXyzN())},QcomGnss_DrSvPolyReport.prototype.getXyzN=function(){return i.Struct.getList(1,o.Float64List,this)},QcomGnss_DrSvPolyReport.prototype.hasXyzN=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},QcomGnss_DrSvPolyReport.prototype.initXyzN=function(t){return i.Struct.initList(1,o.Float64List,t,this)},QcomGnss_DrSvPolyReport.prototype.setXyzN=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},QcomGnss_DrSvPolyReport.prototype.adoptOther=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},QcomGnss_DrSvPolyReport.prototype.disownOther=function(){return i.Struct.disown(this.getOther())},QcomGnss_DrSvPolyReport.prototype.getOther=function(){return i.Struct.getList(2,o.Float32List,this)},QcomGnss_DrSvPolyReport.prototype.hasOther=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},QcomGnss_DrSvPolyReport.prototype.initOther=function(t){return i.Struct.initList(2,o.Float32List,t,this)},QcomGnss_DrSvPolyReport.prototype.setOther=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},QcomGnss_DrSvPolyReport.prototype.getPositionUncertainty=function(){return i.Struct.getFloat32(16,this)},QcomGnss_DrSvPolyReport.prototype.setPositionUncertainty=function(t){i.Struct.setFloat32(16,t,this)},QcomGnss_DrSvPolyReport.prototype.getIonoDelay=function(){return i.Struct.getFloat32(20,this)},QcomGnss_DrSvPolyReport.prototype.setIonoDelay=function(t){i.Struct.setFloat32(20,t,this)},QcomGnss_DrSvPolyReport.prototype.getIonoDot=function(){return i.Struct.getFloat32(24,this)},QcomGnss_DrSvPolyReport.prototype.setIonoDot=function(t){i.Struct.setFloat32(24,t,this)},QcomGnss_DrSvPolyReport.prototype.getSbasIonoDelay=function(){return i.Struct.getFloat32(28,this)},QcomGnss_DrSvPolyReport.prototype.setSbasIonoDelay=function(t){i.Struct.setFloat32(28,t,this)},QcomGnss_DrSvPolyReport.prototype.getSbasIonoDot=function(){return i.Struct.getFloat32(32,this)},QcomGnss_DrSvPolyReport.prototype.setSbasIonoDot=function(t){i.Struct.setFloat32(32,t,this)},QcomGnss_DrSvPolyReport.prototype.getTropoDelay=function(){return i.Struct.getFloat32(36,this)},QcomGnss_DrSvPolyReport.prototype.setTropoDelay=function(t){i.Struct.setFloat32(36,t,this)},QcomGnss_DrSvPolyReport.prototype.getElevation=function(){return i.Struct.getFloat32(40,this)},QcomGnss_DrSvPolyReport.prototype.setElevation=function(t){i.Struct.setFloat32(40,t,this)},QcomGnss_DrSvPolyReport.prototype.getElevationDot=function(){return i.Struct.getFloat32(44,this)},QcomGnss_DrSvPolyReport.prototype.setElevationDot=function(t){i.Struct.setFloat32(44,t,this)},QcomGnss_DrSvPolyReport.prototype.getElevationUncertainty=function(){return i.Struct.getFloat32(48,this)},QcomGnss_DrSvPolyReport.prototype.setElevationUncertainty=function(t){i.Struct.setFloat32(48,t,this)},QcomGnss_DrSvPolyReport.prototype.adoptVelocityCoeff=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},QcomGnss_DrSvPolyReport.prototype.disownVelocityCoeff=function(){return i.Struct.disown(this.getVelocityCoeff())},QcomGnss_DrSvPolyReport.prototype.getVelocityCoeff=function(){return i.Struct.getList(3,o.Float64List,this)},QcomGnss_DrSvPolyReport.prototype.hasVelocityCoeff=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},QcomGnss_DrSvPolyReport.prototype.initVelocityCoeff=function(t){return i.Struct.initList(3,o.Float64List,t,this)},QcomGnss_DrSvPolyReport.prototype.setVelocityCoeff=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},QcomGnss_DrSvPolyReport.prototype.toString=function(){return"QcomGnss_DrSvPolyReport_"+t.prototype.toString.call(this)},QcomGnss_DrSvPolyReport._capnp={displayName:"DrSvPolyReport",id:"b1fb80811a673270",size:new i.ObjectSize(56,4)},QcomGnss_DrSvPolyReport}(i.Struct);e.QcomGnss_DrSvPolyReport=Ut,function(t){t[t.MEASUREMENT_REPORT=0]="MEASUREMENT_REPORT",t[t.CLOCK_REPORT=1]="CLOCK_REPORT",t[t.DR_MEASUREMENT_REPORT=2]="DR_MEASUREMENT_REPORT",t[t.DR_SV_POLY=3]="DR_SV_POLY",t[t.RAW_LOG=4]="RAW_LOG"}(Bt=e.QcomGnss_Which||(e.QcomGnss_Which={}));var zt=function(t){function QcomGnss(){return null!==t&&t.apply(this,arguments)||this}return n(QcomGnss,t),QcomGnss.prototype.getLogTs=function(){return i.Struct.getUint64(0,this)},QcomGnss.prototype.setLogTs=function(t){i.Struct.setUint64(0,t,this)},QcomGnss.prototype.adoptMeasurementReport=function(t){i.Struct.setUint16(8,0,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.disownMeasurementReport=function(){return i.Struct.disown(this.getMeasurementReport())},QcomGnss.prototype.getMeasurementReport=function(){return i.Struct.testWhich("measurementReport",i.Struct.getUint16(8,this),0,this),i.Struct.getStruct(0,Ot,this)},QcomGnss.prototype.hasMeasurementReport=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss.prototype.initMeasurementReport=function(){return i.Struct.setUint16(8,0,this),i.Struct.initStructAt(0,Ot,this)},QcomGnss.prototype.isMeasurementReport=function(){return 0===i.Struct.getUint16(8,this)},QcomGnss.prototype.setMeasurementReport=function(t){i.Struct.setUint16(8,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.adoptClockReport=function(t){i.Struct.setUint16(8,1,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.disownClockReport=function(){return i.Struct.disown(this.getClockReport())},QcomGnss.prototype.getClockReport=function(){return i.Struct.testWhich("clockReport",i.Struct.getUint16(8,this),1,this),i.Struct.getStruct(0,kt,this)},QcomGnss.prototype.hasClockReport=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss.prototype.initClockReport=function(){return i.Struct.setUint16(8,1,this),i.Struct.initStructAt(0,kt,this)},QcomGnss.prototype.isClockReport=function(){return 1===i.Struct.getUint16(8,this)},QcomGnss.prototype.setClockReport=function(t){i.Struct.setUint16(8,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.adoptDrMeasurementReport=function(t){i.Struct.setUint16(8,2,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.disownDrMeasurementReport=function(){return i.Struct.disown(this.getDrMeasurementReport())},QcomGnss.prototype.getDrMeasurementReport=function(){return i.Struct.testWhich("drMeasurementReport",i.Struct.getUint16(8,this),2,this),i.Struct.getStruct(0,Nt,this)},QcomGnss.prototype.hasDrMeasurementReport=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss.prototype.initDrMeasurementReport=function(){return i.Struct.setUint16(8,2,this),i.Struct.initStructAt(0,Nt,this)},QcomGnss.prototype.isDrMeasurementReport=function(){return 2===i.Struct.getUint16(8,this)},QcomGnss.prototype.setDrMeasurementReport=function(t){i.Struct.setUint16(8,2,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.adoptDrSvPoly=function(t){i.Struct.setUint16(8,3,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.disownDrSvPoly=function(){return i.Struct.disown(this.getDrSvPoly())},QcomGnss.prototype.getDrSvPoly=function(){return i.Struct.testWhich("drSvPoly",i.Struct.getUint16(8,this),3,this),i.Struct.getStruct(0,Ut,this)},QcomGnss.prototype.hasDrSvPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss.prototype.initDrSvPoly=function(){return i.Struct.setUint16(8,3,this),i.Struct.initStructAt(0,Ut,this)},QcomGnss.prototype.isDrSvPoly=function(){return 3===i.Struct.getUint16(8,this)},QcomGnss.prototype.setDrSvPoly=function(t){i.Struct.setUint16(8,3,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.adoptRawLog=function(t){i.Struct.setUint16(8,4,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.disownRawLog=function(){return i.Struct.disown(this.getRawLog())},QcomGnss.prototype.getRawLog=function(){return i.Struct.testWhich("rawLog",i.Struct.getUint16(8,this),4,this),i.Struct.getData(0,this)},QcomGnss.prototype.hasRawLog=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},QcomGnss.prototype.initRawLog=function(t){return i.Struct.setUint16(8,4,this),i.Struct.initData(0,t,this)},QcomGnss.prototype.isRawLog=function(){return 4===i.Struct.getUint16(8,this)},QcomGnss.prototype.setRawLog=function(t){i.Struct.setUint16(8,4,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},QcomGnss.prototype.toString=function(){return"QcomGnss_"+t.prototype.toString.call(this)},QcomGnss.prototype.which=function(){return i.Struct.getUint16(8,this)},QcomGnss.MEASUREMENT_REPORT=Bt.MEASUREMENT_REPORT,QcomGnss.CLOCK_REPORT=Bt.CLOCK_REPORT,QcomGnss.DR_MEASUREMENT_REPORT=Bt.DR_MEASUREMENT_REPORT,QcomGnss.DR_SV_POLY=Bt.DR_SV_POLY,QcomGnss.RAW_LOG=Bt.RAW_LOG,QcomGnss.MeasurementSource=Mt,QcomGnss.SVObservationState=At,QcomGnss.MeasurementStatus=Lt,QcomGnss.MeasurementReport=Ot,QcomGnss.ClockReport=kt,QcomGnss.DrMeasurementReport=Nt,QcomGnss.DrSvPolyReport=Ut,QcomGnss._capnp={displayName:"QcomGnss",id:"de94674b07ae51c1",size:new i.ObjectSize(16,1)},QcomGnss}(i.Struct);e.QcomGnss=zt;var jt=function(t){function LidarPts(){return null!==t&&t.apply(this,arguments)||this}return n(LidarPts,t),LidarPts.prototype.adoptR=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LidarPts.prototype.disownR=function(){return i.Struct.disown(this.getR())},LidarPts.prototype.getR=function(){return i.Struct.getList(0,o.Uint16List,this)},LidarPts.prototype.hasR=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LidarPts.prototype.initR=function(t){return i.Struct.initList(0,o.Uint16List,t,this)},LidarPts.prototype.setR=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LidarPts.prototype.adoptTheta=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LidarPts.prototype.disownTheta=function(){return i.Struct.disown(this.getTheta())},LidarPts.prototype.getTheta=function(){return i.Struct.getList(1,o.Uint16List,this)},LidarPts.prototype.hasTheta=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LidarPts.prototype.initTheta=function(t){return i.Struct.initList(1,o.Uint16List,t,this)},LidarPts.prototype.setTheta=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LidarPts.prototype.adoptReflect=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LidarPts.prototype.disownReflect=function(){return i.Struct.disown(this.getReflect())},LidarPts.prototype.getReflect=function(){return i.Struct.getList(2,o.Uint8List,this)},LidarPts.prototype.hasReflect=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LidarPts.prototype.initReflect=function(t){return i.Struct.initList(2,o.Uint8List,t,this)},LidarPts.prototype.setReflect=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LidarPts.prototype.getIdx=function(){return i.Struct.getUint64(0,this)},LidarPts.prototype.setIdx=function(t){i.Struct.setUint64(0,t,this)},LidarPts.prototype.adoptPkt=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LidarPts.prototype.disownPkt=function(){return i.Struct.disown(this.getPkt())},LidarPts.prototype.getPkt=function(){return i.Struct.getData(3,this)},LidarPts.prototype.hasPkt=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LidarPts.prototype.initPkt=function(t){return i.Struct.initData(3,t,this)},LidarPts.prototype.setPkt=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LidarPts.prototype.toString=function(){return"LidarPts_"+t.prototype.toString.call(this)},LidarPts._capnp={displayName:"LidarPts",id:"e3d6685d4e9d8f7a",size:new i.ObjectSize(8,4)},LidarPts}(i.Struct);e.LidarPts=jt;var Gt=function(t){function ProcLog_Process(){return null!==t&&t.apply(this,arguments)||this}return n(ProcLog_Process,t),ProcLog_Process.prototype.getPid=function(){return i.Struct.getInt32(0,this)},ProcLog_Process.prototype.setPid=function(t){i.Struct.setInt32(0,t,this)},ProcLog_Process.prototype.getName=function(){return i.Struct.getText(0,this)},ProcLog_Process.prototype.setName=function(t){i.Struct.setText(0,t,this)},ProcLog_Process.prototype.getState=function(){return i.Struct.getUint8(4,this)},ProcLog_Process.prototype.setState=function(t){i.Struct.setUint8(4,t,this)},ProcLog_Process.prototype.getPpid=function(){return i.Struct.getInt32(8,this)},ProcLog_Process.prototype.setPpid=function(t){i.Struct.setInt32(8,t,this)},ProcLog_Process.prototype.getCpuUser=function(){return i.Struct.getFloat32(12,this)},ProcLog_Process.prototype.setCpuUser=function(t){i.Struct.setFloat32(12,t,this)},ProcLog_Process.prototype.getCpuSystem=function(){return i.Struct.getFloat32(16,this)},ProcLog_Process.prototype.setCpuSystem=function(t){i.Struct.setFloat32(16,t,this)},ProcLog_Process.prototype.getCpuChildrenUser=function(){return i.Struct.getFloat32(20,this)},ProcLog_Process.prototype.setCpuChildrenUser=function(t){i.Struct.setFloat32(20,t,this)},ProcLog_Process.prototype.getCpuChildrenSystem=function(){return i.Struct.getFloat32(24,this)},ProcLog_Process.prototype.setCpuChildrenSystem=function(t){i.Struct.setFloat32(24,t,this)},ProcLog_Process.prototype.getPriority=function(){return i.Struct.getInt64(32,this)},ProcLog_Process.prototype.setPriority=function(t){i.Struct.setInt64(32,t,this)},ProcLog_Process.prototype.getNice=function(){return i.Struct.getInt32(28,this)},ProcLog_Process.prototype.setNice=function(t){i.Struct.setInt32(28,t,this)},ProcLog_Process.prototype.getNumThreads=function(){return i.Struct.getInt32(40,this)},ProcLog_Process.prototype.setNumThreads=function(t){i.Struct.setInt32(40,t,this)},ProcLog_Process.prototype.getStartTime=function(){return i.Struct.getFloat64(48,this)},ProcLog_Process.prototype.setStartTime=function(t){i.Struct.setFloat64(48,t,this)},ProcLog_Process.prototype.getMemVms=function(){return i.Struct.getUint64(56,this)},ProcLog_Process.prototype.setMemVms=function(t){i.Struct.setUint64(56,t,this)},ProcLog_Process.prototype.getMemRss=function(){return i.Struct.getUint64(64,this)},ProcLog_Process.prototype.setMemRss=function(t){i.Struct.setUint64(64,t,this)},ProcLog_Process.prototype.getProcessor=function(){return i.Struct.getInt32(44,this)},ProcLog_Process.prototype.setProcessor=function(t){i.Struct.setInt32(44,t,this)},ProcLog_Process.prototype.adoptCmdline=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},ProcLog_Process.prototype.disownCmdline=function(){return i.Struct.disown(this.getCmdline())},ProcLog_Process.prototype.getCmdline=function(){return i.Struct.getList(1,o.TextList,this)},ProcLog_Process.prototype.hasCmdline=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},ProcLog_Process.prototype.initCmdline=function(t){return i.Struct.initList(1,o.TextList,t,this)},ProcLog_Process.prototype.setCmdline=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},ProcLog_Process.prototype.getExe=function(){return i.Struct.getText(2,this)},ProcLog_Process.prototype.setExe=function(t){i.Struct.setText(2,t,this)},ProcLog_Process.prototype.toString=function(){return"ProcLog_Process_"+t.prototype.toString.call(this)},ProcLog_Process._capnp={displayName:"Process",id:"b0b85613f19e6d28",size:new i.ObjectSize(72,3)},ProcLog_Process}(i.Struct);e.ProcLog_Process=Gt;var Vt=function(t){function ProcLog_CPUTimes(){return null!==t&&t.apply(this,arguments)||this}return n(ProcLog_CPUTimes,t),ProcLog_CPUTimes.prototype.getCpuNum=function(){return i.Struct.getInt64(0,this)},ProcLog_CPUTimes.prototype.setCpuNum=function(t){i.Struct.setInt64(0,t,this)},ProcLog_CPUTimes.prototype.getUser=function(){return i.Struct.getFloat32(8,this)},ProcLog_CPUTimes.prototype.setUser=function(t){i.Struct.setFloat32(8,t,this)},ProcLog_CPUTimes.prototype.getNice=function(){return i.Struct.getFloat32(12,this)},ProcLog_CPUTimes.prototype.setNice=function(t){i.Struct.setFloat32(12,t,this)},ProcLog_CPUTimes.prototype.getSystem=function(){return i.Struct.getFloat32(16,this)},ProcLog_CPUTimes.prototype.setSystem=function(t){i.Struct.setFloat32(16,t,this)},ProcLog_CPUTimes.prototype.getIdle=function(){return i.Struct.getFloat32(20,this)},ProcLog_CPUTimes.prototype.setIdle=function(t){i.Struct.setFloat32(20,t,this)},ProcLog_CPUTimes.prototype.getIowait=function(){return i.Struct.getFloat32(24,this)},ProcLog_CPUTimes.prototype.setIowait=function(t){i.Struct.setFloat32(24,t,this)},ProcLog_CPUTimes.prototype.getIrq=function(){return i.Struct.getFloat32(28,this)},ProcLog_CPUTimes.prototype.setIrq=function(t){i.Struct.setFloat32(28,t,this)},ProcLog_CPUTimes.prototype.getSoftirq=function(){return i.Struct.getFloat32(32,this)},ProcLog_CPUTimes.prototype.setSoftirq=function(t){i.Struct.setFloat32(32,t,this)},ProcLog_CPUTimes.prototype.toString=function(){return"ProcLog_CPUTimes_"+t.prototype.toString.call(this)},ProcLog_CPUTimes._capnp={displayName:"CPUTimes",id:"f189c8c5bf2ce087",size:new i.ObjectSize(40,0)},ProcLog_CPUTimes}(i.Struct);e.ProcLog_CPUTimes=Vt;var Wt=function(t){function ProcLog_Mem(){return null!==t&&t.apply(this,arguments)||this}return n(ProcLog_Mem,t),ProcLog_Mem.prototype.getTotal=function(){return i.Struct.getUint64(0,this)},ProcLog_Mem.prototype.setTotal=function(t){i.Struct.setUint64(0,t,this)},ProcLog_Mem.prototype.getFree=function(){return i.Struct.getUint64(8,this)},ProcLog_Mem.prototype.setFree=function(t){i.Struct.setUint64(8,t,this)},ProcLog_Mem.prototype.getAvailable=function(){return i.Struct.getUint64(16,this)},ProcLog_Mem.prototype.setAvailable=function(t){i.Struct.setUint64(16,t,this)},ProcLog_Mem.prototype.getBuffers=function(){return i.Struct.getUint64(24,this)},ProcLog_Mem.prototype.setBuffers=function(t){i.Struct.setUint64(24,t,this)},ProcLog_Mem.prototype.getCached=function(){return i.Struct.getUint64(32,this)},ProcLog_Mem.prototype.setCached=function(t){i.Struct.setUint64(32,t,this)},ProcLog_Mem.prototype.getActive=function(){return i.Struct.getUint64(40,this)},ProcLog_Mem.prototype.setActive=function(t){i.Struct.setUint64(40,t,this)},ProcLog_Mem.prototype.getInactive=function(){return i.Struct.getUint64(48,this)},ProcLog_Mem.prototype.setInactive=function(t){i.Struct.setUint64(48,t,this)},ProcLog_Mem.prototype.getShared=function(){return i.Struct.getUint64(56,this)},ProcLog_Mem.prototype.setShared=function(t){i.Struct.setUint64(56,t,this)},ProcLog_Mem.prototype.toString=function(){return"ProcLog_Mem_"+t.prototype.toString.call(this)},ProcLog_Mem._capnp={displayName:"Mem",id:"fd095f94f08b3fd4",size:new i.ObjectSize(64,0)},ProcLog_Mem}(i.Struct);e.ProcLog_Mem=Wt;var qt=function(t){function ProcLog(){return null!==t&&t.apply(this,arguments)||this}return n(ProcLog,t),ProcLog.prototype.adoptCpuTimes=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},ProcLog.prototype.disownCpuTimes=function(){return i.Struct.disown(this.getCpuTimes())},ProcLog.prototype.getCpuTimes=function(){return i.Struct.getList(0,ProcLog._CpuTimes,this)},ProcLog.prototype.hasCpuTimes=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},ProcLog.prototype.initCpuTimes=function(t){return i.Struct.initList(0,ProcLog._CpuTimes,t,this)},ProcLog.prototype.setCpuTimes=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},ProcLog.prototype.adoptMem=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},ProcLog.prototype.disownMem=function(){return i.Struct.disown(this.getMem())},ProcLog.prototype.getMem=function(){return i.Struct.getStruct(1,Wt,this)},ProcLog.prototype.hasMem=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},ProcLog.prototype.initMem=function(){return i.Struct.initStructAt(1,Wt,this)},ProcLog.prototype.setMem=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},ProcLog.prototype.adoptProcs=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},ProcLog.prototype.disownProcs=function(){return i.Struct.disown(this.getProcs())},ProcLog.prototype.getProcs=function(){return i.Struct.getList(2,ProcLog._Procs,this)},ProcLog.prototype.hasProcs=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},ProcLog.prototype.initProcs=function(t){return i.Struct.initList(2,ProcLog._Procs,t,this)},ProcLog.prototype.setProcs=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},ProcLog.prototype.toString=function(){return"ProcLog_"+t.prototype.toString.call(this)},ProcLog.Process=Gt,ProcLog.CPUTimes=Vt,ProcLog.Mem=Wt,ProcLog._capnp={displayName:"ProcLog",id:"af85387b3f681406",size:new i.ObjectSize(0,3)},ProcLog}(i.Struct);e.ProcLog=qt;var Ht=function(t){function UbloxGnss_MeasurementReport_ReceiverStatus(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_MeasurementReport_ReceiverStatus,t),UbloxGnss_MeasurementReport_ReceiverStatus.prototype.getLeapSecValid=function(){return i.Struct.getBit(0,this)},UbloxGnss_MeasurementReport_ReceiverStatus.prototype.setLeapSecValid=function(t){i.Struct.setBit(0,t,this)},UbloxGnss_MeasurementReport_ReceiverStatus.prototype.getClkReset=function(){return i.Struct.getBit(1,this)},UbloxGnss_MeasurementReport_ReceiverStatus.prototype.setClkReset=function(t){i.Struct.setBit(1,t,this)},UbloxGnss_MeasurementReport_ReceiverStatus.prototype.toString=function(){return"UbloxGnss_MeasurementReport_ReceiverStatus_"+t.prototype.toString.call(this)},UbloxGnss_MeasurementReport_ReceiverStatus._capnp={displayName:"ReceiverStatus",id:"fbb838d65160aab6",size:new i.ObjectSize(8,0)},UbloxGnss_MeasurementReport_ReceiverStatus}(i.Struct);e.UbloxGnss_MeasurementReport_ReceiverStatus=Ht;var Kt=function(t){function UbloxGnss_MeasurementReport_Measurement_TrackingStatus(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_MeasurementReport_Measurement_TrackingStatus,t),UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.getPseudorangeValid=function(){return i.Struct.getBit(0,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.setPseudorangeValid=function(t){i.Struct.setBit(0,t,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.getCarrierPhaseValid=function(){return i.Struct.getBit(1,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.setCarrierPhaseValid=function(t){i.Struct.setBit(1,t,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.getHalfCycleValid=function(){return i.Struct.getBit(2,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.setHalfCycleValid=function(t){i.Struct.setBit(2,t,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.getHalfCycleSubtracted=function(){return i.Struct.getBit(3,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.setHalfCycleSubtracted=function(t){i.Struct.setBit(3,t,this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus.prototype.toString=function(){return"UbloxGnss_MeasurementReport_Measurement_TrackingStatus_"+t.prototype.toString.call(this)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus._capnp={displayName:"TrackingStatus",id:"e8efb3a802b299b2",size:new i.ObjectSize(8,0)},UbloxGnss_MeasurementReport_Measurement_TrackingStatus}(i.Struct);e.UbloxGnss_MeasurementReport_Measurement_TrackingStatus=Kt;var Yt=function(t){function UbloxGnss_MeasurementReport_Measurement(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_MeasurementReport_Measurement,t),UbloxGnss_MeasurementReport_Measurement.prototype.getSvId=function(){return i.Struct.getUint8(0,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setSvId=function(t){i.Struct.setUint8(0,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.adoptTrackingStatus=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport_Measurement.prototype.disownTrackingStatus=function(){return i.Struct.disown(this.getTrackingStatus())},UbloxGnss_MeasurementReport_Measurement.prototype.getTrackingStatus=function(){return i.Struct.getStruct(0,Kt,this)},UbloxGnss_MeasurementReport_Measurement.prototype.hasTrackingStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport_Measurement.prototype.initTrackingStatus=function(){return i.Struct.initStructAt(0,Kt,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setTrackingStatus=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport_Measurement.prototype.getPseudorange=function(){return i.Struct.getFloat64(8,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setPseudorange=function(t){i.Struct.setFloat64(8,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getCarrierCycles=function(){return i.Struct.getFloat64(16,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setCarrierCycles=function(t){i.Struct.setFloat64(16,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getDoppler=function(){return i.Struct.getFloat32(4,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setDoppler=function(t){i.Struct.setFloat32(4,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getGnssId=function(){return i.Struct.getUint8(1,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setGnssId=function(t){i.Struct.setUint8(1,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getGlonassFrequencyIndex=function(){return i.Struct.getUint8(2,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setGlonassFrequencyIndex=function(t){i.Struct.setUint8(2,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getLocktime=function(){return i.Struct.getUint16(24,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setLocktime=function(t){i.Struct.setUint16(24,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getCno=function(){return i.Struct.getUint8(3,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setCno=function(t){i.Struct.setUint8(3,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getPseudorangeStdev=function(){return i.Struct.getFloat32(28,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setPseudorangeStdev=function(t){i.Struct.setFloat32(28,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getCarrierPhaseStdev=function(){return i.Struct.getFloat32(32,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setCarrierPhaseStdev=function(t){i.Struct.setFloat32(32,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getDopplerStdev=function(){return i.Struct.getFloat32(36,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setDopplerStdev=function(t){i.Struct.setFloat32(36,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.getSigId=function(){return i.Struct.getUint8(26,this)},UbloxGnss_MeasurementReport_Measurement.prototype.setSigId=function(t){i.Struct.setUint8(26,t,this)},UbloxGnss_MeasurementReport_Measurement.prototype.toString=function(){return"UbloxGnss_MeasurementReport_Measurement_"+t.prototype.toString.call(this)},UbloxGnss_MeasurementReport_Measurement.TrackingStatus=Kt,UbloxGnss_MeasurementReport_Measurement._capnp={displayName:"Measurement",id:"8f8a655f5e326401",size:new i.ObjectSize(40,1)},UbloxGnss_MeasurementReport_Measurement}(i.Struct);e.UbloxGnss_MeasurementReport_Measurement=Yt;var Zt=function(t){function UbloxGnss_MeasurementReport(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_MeasurementReport,t),UbloxGnss_MeasurementReport.prototype.getRcvTow=function(){return i.Struct.getFloat64(0,this)},UbloxGnss_MeasurementReport.prototype.setRcvTow=function(t){i.Struct.setFloat64(0,t,this)},UbloxGnss_MeasurementReport.prototype.getGpsWeek=function(){return i.Struct.getUint16(8,this)},UbloxGnss_MeasurementReport.prototype.setGpsWeek=function(t){i.Struct.setUint16(8,t,this)},UbloxGnss_MeasurementReport.prototype.getLeapSeconds=function(){return i.Struct.getUint16(10,this)},UbloxGnss_MeasurementReport.prototype.setLeapSeconds=function(t){i.Struct.setUint16(10,t,this)},UbloxGnss_MeasurementReport.prototype.adoptReceiverStatus=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport.prototype.disownReceiverStatus=function(){return i.Struct.disown(this.getReceiverStatus())},UbloxGnss_MeasurementReport.prototype.getReceiverStatus=function(){return i.Struct.getStruct(0,Ht,this)},UbloxGnss_MeasurementReport.prototype.hasReceiverStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport.prototype.initReceiverStatus=function(){return i.Struct.initStructAt(0,Ht,this)},UbloxGnss_MeasurementReport.prototype.setReceiverStatus=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss_MeasurementReport.prototype.getNumMeas=function(){return i.Struct.getUint8(12,this)},UbloxGnss_MeasurementReport.prototype.setNumMeas=function(t){i.Struct.setUint8(12,t,this)},UbloxGnss_MeasurementReport.prototype.adoptMeasurements=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},UbloxGnss_MeasurementReport.prototype.disownMeasurements=function(){return i.Struct.disown(this.getMeasurements())},UbloxGnss_MeasurementReport.prototype.getMeasurements=function(){return i.Struct.getList(1,UbloxGnss_MeasurementReport._Measurements,this)},UbloxGnss_MeasurementReport.prototype.hasMeasurements=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},UbloxGnss_MeasurementReport.prototype.initMeasurements=function(t){return i.Struct.initList(1,UbloxGnss_MeasurementReport._Measurements,t,this)},UbloxGnss_MeasurementReport.prototype.setMeasurements=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},UbloxGnss_MeasurementReport.prototype.toString=function(){return"UbloxGnss_MeasurementReport_"+t.prototype.toString.call(this)},UbloxGnss_MeasurementReport.ReceiverStatus=Ht,UbloxGnss_MeasurementReport.Measurement=Yt,UbloxGnss_MeasurementReport._capnp={displayName:"MeasurementReport",id:"a73ba546a29820f4",size:new i.ObjectSize(16,2)},UbloxGnss_MeasurementReport}(i.Struct);e.UbloxGnss_MeasurementReport=Zt;var Xt=function(t){function UbloxGnss_Ephemeris(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_Ephemeris,t),UbloxGnss_Ephemeris.prototype.getSvId=function(){return i.Struct.getUint16(0,this)},UbloxGnss_Ephemeris.prototype.setSvId=function(t){i.Struct.setUint16(0,t,this)},UbloxGnss_Ephemeris.prototype.getYear=function(){return i.Struct.getUint16(2,this)},UbloxGnss_Ephemeris.prototype.setYear=function(t){i.Struct.setUint16(2,t,this)},UbloxGnss_Ephemeris.prototype.getMonth=function(){return i.Struct.getUint16(4,this)},UbloxGnss_Ephemeris.prototype.setMonth=function(t){i.Struct.setUint16(4,t,this)},UbloxGnss_Ephemeris.prototype.getDay=function(){return i.Struct.getUint16(6,this)},UbloxGnss_Ephemeris.prototype.setDay=function(t){i.Struct.setUint16(6,t,this)},UbloxGnss_Ephemeris.prototype.getHour=function(){return i.Struct.getUint16(8,this)},UbloxGnss_Ephemeris.prototype.setHour=function(t){i.Struct.setUint16(8,t,this)},UbloxGnss_Ephemeris.prototype.getMinute=function(){return i.Struct.getUint16(10,this)},UbloxGnss_Ephemeris.prototype.setMinute=function(t){i.Struct.setUint16(10,t,this)},UbloxGnss_Ephemeris.prototype.getSecond=function(){return i.Struct.getFloat32(12,this)},UbloxGnss_Ephemeris.prototype.setSecond=function(t){i.Struct.setFloat32(12,t,this)},UbloxGnss_Ephemeris.prototype.getAf0=function(){return i.Struct.getFloat64(16,this)},UbloxGnss_Ephemeris.prototype.setAf0=function(t){i.Struct.setFloat64(16,t,this)},UbloxGnss_Ephemeris.prototype.getAf1=function(){return i.Struct.getFloat64(24,this)},UbloxGnss_Ephemeris.prototype.setAf1=function(t){i.Struct.setFloat64(24,t,this)},UbloxGnss_Ephemeris.prototype.getAf2=function(){return i.Struct.getFloat64(32,this)},UbloxGnss_Ephemeris.prototype.setAf2=function(t){i.Struct.setFloat64(32,t,this)},UbloxGnss_Ephemeris.prototype.getIode=function(){return i.Struct.getFloat64(40,this)},UbloxGnss_Ephemeris.prototype.setIode=function(t){i.Struct.setFloat64(40,t,this)},UbloxGnss_Ephemeris.prototype.getCrs=function(){return i.Struct.getFloat64(48,this)},UbloxGnss_Ephemeris.prototype.setCrs=function(t){i.Struct.setFloat64(48,t,this)},UbloxGnss_Ephemeris.prototype.getDeltaN=function(){return i.Struct.getFloat64(56,this)},UbloxGnss_Ephemeris.prototype.setDeltaN=function(t){i.Struct.setFloat64(56,t,this)},UbloxGnss_Ephemeris.prototype.getM0=function(){return i.Struct.getFloat64(64,this)},UbloxGnss_Ephemeris.prototype.setM0=function(t){i.Struct.setFloat64(64,t,this)},UbloxGnss_Ephemeris.prototype.getCuc=function(){return i.Struct.getFloat64(72,this)},UbloxGnss_Ephemeris.prototype.setCuc=function(t){i.Struct.setFloat64(72,t,this)},UbloxGnss_Ephemeris.prototype.getEcc=function(){return i.Struct.getFloat64(80,this)},UbloxGnss_Ephemeris.prototype.setEcc=function(t){i.Struct.setFloat64(80,t,this)},UbloxGnss_Ephemeris.prototype.getCus=function(){return i.Struct.getFloat64(88,this)},UbloxGnss_Ephemeris.prototype.setCus=function(t){i.Struct.setFloat64(88,t,this)},UbloxGnss_Ephemeris.prototype.getA=function(){return i.Struct.getFloat64(96,this)},UbloxGnss_Ephemeris.prototype.setA=function(t){i.Struct.setFloat64(96,t,this)},UbloxGnss_Ephemeris.prototype.getToe=function(){return i.Struct.getFloat64(104,this)},UbloxGnss_Ephemeris.prototype.setToe=function(t){i.Struct.setFloat64(104,t,this)},UbloxGnss_Ephemeris.prototype.getCic=function(){return i.Struct.getFloat64(112,this)},UbloxGnss_Ephemeris.prototype.setCic=function(t){i.Struct.setFloat64(112,t,this)},UbloxGnss_Ephemeris.prototype.getOmega0=function(){return i.Struct.getFloat64(120,this)},UbloxGnss_Ephemeris.prototype.setOmega0=function(t){i.Struct.setFloat64(120,t,this)},UbloxGnss_Ephemeris.prototype.getCis=function(){return i.Struct.getFloat64(128,this)},UbloxGnss_Ephemeris.prototype.setCis=function(t){i.Struct.setFloat64(128,t,this)},UbloxGnss_Ephemeris.prototype.getI0=function(){return i.Struct.getFloat64(136,this)},UbloxGnss_Ephemeris.prototype.setI0=function(t){i.Struct.setFloat64(136,t,this)},UbloxGnss_Ephemeris.prototype.getCrc=function(){return i.Struct.getFloat64(144,this)},UbloxGnss_Ephemeris.prototype.setCrc=function(t){i.Struct.setFloat64(144,t,this)},UbloxGnss_Ephemeris.prototype.getOmega=function(){return i.Struct.getFloat64(152,this)},UbloxGnss_Ephemeris.prototype.setOmega=function(t){i.Struct.setFloat64(152,t,this)},UbloxGnss_Ephemeris.prototype.getOmegaDot=function(){return i.Struct.getFloat64(160,this)},UbloxGnss_Ephemeris.prototype.setOmegaDot=function(t){i.Struct.setFloat64(160,t,this)},UbloxGnss_Ephemeris.prototype.getIDot=function(){return i.Struct.getFloat64(168,this)},UbloxGnss_Ephemeris.prototype.setIDot=function(t){i.Struct.setFloat64(168,t,this)},UbloxGnss_Ephemeris.prototype.getCodesL2=function(){return i.Struct.getFloat64(176,this)},UbloxGnss_Ephemeris.prototype.setCodesL2=function(t){i.Struct.setFloat64(176,t,this)},UbloxGnss_Ephemeris.prototype.getGpsWeek=function(){return i.Struct.getFloat64(184,this)},UbloxGnss_Ephemeris.prototype.setGpsWeek=function(t){i.Struct.setFloat64(184,t,this)},UbloxGnss_Ephemeris.prototype.getL2=function(){return i.Struct.getFloat64(192,this)},UbloxGnss_Ephemeris.prototype.setL2=function(t){i.Struct.setFloat64(192,t,this)},UbloxGnss_Ephemeris.prototype.getSvAcc=function(){return i.Struct.getFloat64(200,this)},UbloxGnss_Ephemeris.prototype.setSvAcc=function(t){i.Struct.setFloat64(200,t,this)},UbloxGnss_Ephemeris.prototype.getSvHealth=function(){return i.Struct.getFloat64(208,this)},UbloxGnss_Ephemeris.prototype.setSvHealth=function(t){i.Struct.setFloat64(208,t,this)},UbloxGnss_Ephemeris.prototype.getTgd=function(){return i.Struct.getFloat64(216,this)},UbloxGnss_Ephemeris.prototype.setTgd=function(t){i.Struct.setFloat64(216,t,this)},UbloxGnss_Ephemeris.prototype.getIodc=function(){return i.Struct.getFloat64(224,this)},UbloxGnss_Ephemeris.prototype.setIodc=function(t){i.Struct.setFloat64(224,t,this)},UbloxGnss_Ephemeris.prototype.getTransmissionTime=function(){return i.Struct.getFloat64(232,this)},UbloxGnss_Ephemeris.prototype.setTransmissionTime=function(t){i.Struct.setFloat64(232,t,this)},UbloxGnss_Ephemeris.prototype.getFitInterval=function(){return i.Struct.getFloat64(240,this)},UbloxGnss_Ephemeris.prototype.setFitInterval=function(t){i.Struct.setFloat64(240,t,this)},UbloxGnss_Ephemeris.prototype.getToc=function(){return i.Struct.getFloat64(248,this)},UbloxGnss_Ephemeris.prototype.setToc=function(t){i.Struct.setFloat64(248,t,this)},UbloxGnss_Ephemeris.prototype.getIonoCoeffsValid=function(){return i.Struct.getBit(2048,this)},UbloxGnss_Ephemeris.prototype.setIonoCoeffsValid=function(t){i.Struct.setBit(2048,t,this)},UbloxGnss_Ephemeris.prototype.adoptIonoAlpha=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss_Ephemeris.prototype.disownIonoAlpha=function(){return i.Struct.disown(this.getIonoAlpha())},UbloxGnss_Ephemeris.prototype.getIonoAlpha=function(){return i.Struct.getList(0,o.Float64List,this)},UbloxGnss_Ephemeris.prototype.hasIonoAlpha=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss_Ephemeris.prototype.initIonoAlpha=function(t){return i.Struct.initList(0,o.Float64List,t,this)},UbloxGnss_Ephemeris.prototype.setIonoAlpha=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss_Ephemeris.prototype.adoptIonoBeta=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},UbloxGnss_Ephemeris.prototype.disownIonoBeta=function(){return i.Struct.disown(this.getIonoBeta())},UbloxGnss_Ephemeris.prototype.getIonoBeta=function(){return i.Struct.getList(1,o.Float64List,this)},UbloxGnss_Ephemeris.prototype.hasIonoBeta=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},UbloxGnss_Ephemeris.prototype.initIonoBeta=function(t){return i.Struct.initList(1,o.Float64List,t,this)},UbloxGnss_Ephemeris.prototype.setIonoBeta=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},UbloxGnss_Ephemeris.prototype.toString=function(){return"UbloxGnss_Ephemeris_"+t.prototype.toString.call(this)},UbloxGnss_Ephemeris._capnp={displayName:"Ephemeris",id:"d8418c788118f85c",size:new i.ObjectSize(264,2)},UbloxGnss_Ephemeris}(i.Struct);e.UbloxGnss_Ephemeris=Xt;var Qt,$t=function(t){function UbloxGnss_IonoData(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss_IonoData,t),UbloxGnss_IonoData.prototype.getSvHealth=function(){return i.Struct.getUint32(0,this)},UbloxGnss_IonoData.prototype.setSvHealth=function(t){i.Struct.setUint32(0,t,this)},UbloxGnss_IonoData.prototype.getTow=function(){return i.Struct.getFloat64(8,this)},UbloxGnss_IonoData.prototype.setTow=function(t){i.Struct.setFloat64(8,t,this)},UbloxGnss_IonoData.prototype.getGpsWeek=function(){return i.Struct.getFloat64(16,this)},UbloxGnss_IonoData.prototype.setGpsWeek=function(t){i.Struct.setFloat64(16,t,this)},UbloxGnss_IonoData.prototype.adoptIonoAlpha=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss_IonoData.prototype.disownIonoAlpha=function(){return i.Struct.disown(this.getIonoAlpha())},UbloxGnss_IonoData.prototype.getIonoAlpha=function(){return i.Struct.getList(0,o.Float64List,this)},UbloxGnss_IonoData.prototype.hasIonoAlpha=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss_IonoData.prototype.initIonoAlpha=function(t){return i.Struct.initList(0,o.Float64List,t,this)},UbloxGnss_IonoData.prototype.setIonoAlpha=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss_IonoData.prototype.adoptIonoBeta=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},UbloxGnss_IonoData.prototype.disownIonoBeta=function(){return i.Struct.disown(this.getIonoBeta())},UbloxGnss_IonoData.prototype.getIonoBeta=function(){return i.Struct.getList(1,o.Float64List,this)},UbloxGnss_IonoData.prototype.hasIonoBeta=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},UbloxGnss_IonoData.prototype.initIonoBeta=function(t){return i.Struct.initList(1,o.Float64List,t,this)},UbloxGnss_IonoData.prototype.setIonoBeta=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},UbloxGnss_IonoData.prototype.getHealthValid=function(){return i.Struct.getBit(32,this)},UbloxGnss_IonoData.prototype.setHealthValid=function(t){i.Struct.setBit(32,t,this)},UbloxGnss_IonoData.prototype.getIonoCoeffsValid=function(){return i.Struct.getBit(33,this)},UbloxGnss_IonoData.prototype.setIonoCoeffsValid=function(t){i.Struct.setBit(33,t,this)},UbloxGnss_IonoData.prototype.toString=function(){return"UbloxGnss_IonoData_"+t.prototype.toString.call(this)},UbloxGnss_IonoData._capnp={displayName:"IonoData",id:"c3a3a8de519a4a26",size:new i.ObjectSize(24,2)},UbloxGnss_IonoData}(i.Struct);e.UbloxGnss_IonoData=$t,function(t){t[t.MEASUREMENT_REPORT=0]="MEASUREMENT_REPORT",t[t.EPHEMERIS=1]="EPHEMERIS",t[t.IONO_DATA=2]="IONO_DATA"}(Qt=e.UbloxGnss_Which||(e.UbloxGnss_Which={}));var Jt=function(t){function UbloxGnss(){return null!==t&&t.apply(this,arguments)||this}return n(UbloxGnss,t),UbloxGnss.prototype.adoptMeasurementReport=function(t){i.Struct.setUint16(0,0,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.disownMeasurementReport=function(){return i.Struct.disown(this.getMeasurementReport())},UbloxGnss.prototype.getMeasurementReport=function(){return i.Struct.testWhich("measurementReport",i.Struct.getUint16(0,this),0,this),i.Struct.getStruct(0,Zt,this)},UbloxGnss.prototype.hasMeasurementReport=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss.prototype.initMeasurementReport=function(){return i.Struct.setUint16(0,0,this),i.Struct.initStructAt(0,Zt,this)},UbloxGnss.prototype.isMeasurementReport=function(){return 0===i.Struct.getUint16(0,this)},UbloxGnss.prototype.setMeasurementReport=function(t){i.Struct.setUint16(0,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.adoptEphemeris=function(t){i.Struct.setUint16(0,1,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.disownEphemeris=function(){return i.Struct.disown(this.getEphemeris())},UbloxGnss.prototype.getEphemeris=function(){return i.Struct.testWhich("ephemeris",i.Struct.getUint16(0,this),1,this),i.Struct.getStruct(0,Xt,this)},UbloxGnss.prototype.hasEphemeris=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss.prototype.initEphemeris=function(){return i.Struct.setUint16(0,1,this),i.Struct.initStructAt(0,Xt,this)},UbloxGnss.prototype.isEphemeris=function(){return 1===i.Struct.getUint16(0,this)},UbloxGnss.prototype.setEphemeris=function(t){i.Struct.setUint16(0,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.adoptIonoData=function(t){i.Struct.setUint16(0,2,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.disownIonoData=function(){return i.Struct.disown(this.getIonoData())},UbloxGnss.prototype.getIonoData=function(){return i.Struct.testWhich("ionoData",i.Struct.getUint16(0,this),2,this),i.Struct.getStruct(0,$t,this)},UbloxGnss.prototype.hasIonoData=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UbloxGnss.prototype.initIonoData=function(){return i.Struct.setUint16(0,2,this),i.Struct.initStructAt(0,$t,this)},UbloxGnss.prototype.isIonoData=function(){return 2===i.Struct.getUint16(0,this)},UbloxGnss.prototype.setIonoData=function(t){i.Struct.setUint16(0,2,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UbloxGnss.prototype.toString=function(){return"UbloxGnss_"+t.prototype.toString.call(this)},UbloxGnss.prototype.which=function(){return i.Struct.getUint16(0,this)},UbloxGnss.MEASUREMENT_REPORT=Qt.MEASUREMENT_REPORT,UbloxGnss.EPHEMERIS=Qt.EPHEMERIS,UbloxGnss.IONO_DATA=Qt.IONO_DATA,UbloxGnss.MeasurementReport=Zt,UbloxGnss.Ephemeris=Xt,UbloxGnss.IonoData=$t,UbloxGnss._capnp={displayName:"UbloxGnss",id:"85dddd7ce6cefa5d",size:new i.ObjectSize(8,1)},UbloxGnss}(i.Struct);e.UbloxGnss=Jt;var te=function(t){function Clocks(){return null!==t&&t.apply(this,arguments)||this}return n(Clocks,t),Clocks.prototype.getBootTimeNanos=function(){return i.Struct.getUint64(0,this)},Clocks.prototype.setBootTimeNanos=function(t){i.Struct.setUint64(0,t,this)},Clocks.prototype.getMonotonicNanos=function(){return i.Struct.getUint64(8,this)},Clocks.prototype.setMonotonicNanos=function(t){i.Struct.setUint64(8,t,this)},Clocks.prototype.getMonotonicRawNanos=function(){return i.Struct.getUint64(16,this)},Clocks.prototype.setMonotonicRawNanos=function(t){i.Struct.setUint64(16,t,this)},Clocks.prototype.getWallTimeNanos=function(){return i.Struct.getUint64(24,this)},Clocks.prototype.setWallTimeNanos=function(t){i.Struct.setUint64(24,t,this)},Clocks.prototype.getModemUptimeMillis=function(){return i.Struct.getUint64(32,this)},Clocks.prototype.setModemUptimeMillis=function(t){i.Struct.setUint64(32,t,this)},Clocks.prototype.toString=function(){return"Clocks_"+t.prototype.toString.call(this)},Clocks._capnp={displayName:"Clocks",id:"c95fb49a7bdc4618",size:new i.ObjectSize(40,0)},Clocks}(i.Struct);e.Clocks=te;var ee=function(t){function LiveMpcData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveMpcData,t),LiveMpcData.prototype.adoptX=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveMpcData.prototype.disownX=function(){return i.Struct.disown(this.getX())},LiveMpcData.prototype.getX=function(){return i.Struct.getList(0,o.Float32List,this)},LiveMpcData.prototype.hasX=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveMpcData.prototype.initX=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveMpcData.prototype.setX=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveMpcData.prototype.adoptY=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveMpcData.prototype.disownY=function(){return i.Struct.disown(this.getY())},LiveMpcData.prototype.getY=function(){return i.Struct.getList(1,o.Float32List,this)},LiveMpcData.prototype.hasY=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveMpcData.prototype.initY=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveMpcData.prototype.setY=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveMpcData.prototype.adoptPsi=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LiveMpcData.prototype.disownPsi=function(){return i.Struct.disown(this.getPsi())},LiveMpcData.prototype.getPsi=function(){return i.Struct.getList(2,o.Float32List,this)},LiveMpcData.prototype.hasPsi=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LiveMpcData.prototype.initPsi=function(t){return i.Struct.initList(2,o.Float32List,t,this)},LiveMpcData.prototype.setPsi=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LiveMpcData.prototype.adoptDelta=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LiveMpcData.prototype.disownDelta=function(){return i.Struct.disown(this.getDelta())},LiveMpcData.prototype.getDelta=function(){return i.Struct.getList(3,o.Float32List,this)},LiveMpcData.prototype.hasDelta=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LiveMpcData.prototype.initDelta=function(t){return i.Struct.initList(3,o.Float32List,t,this)},LiveMpcData.prototype.setDelta=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LiveMpcData.prototype.getQpIterations=function(){return i.Struct.getUint32(0,this)},LiveMpcData.prototype.setQpIterations=function(t){i.Struct.setUint32(0,t,this)},LiveMpcData.prototype.getCalculationTime=function(){return i.Struct.getUint64(8,this)},LiveMpcData.prototype.setCalculationTime=function(t){i.Struct.setUint64(8,t,this)},LiveMpcData.prototype.getCost=function(){return i.Struct.getFloat64(16,this)},LiveMpcData.prototype.setCost=function(t){i.Struct.setFloat64(16,t,this)},LiveMpcData.prototype.toString=function(){return"LiveMpcData_"+t.prototype.toString.call(this)},LiveMpcData._capnp={displayName:"LiveMpcData",id:"92a5e332a85f32a0",size:new i.ObjectSize(24,4)},LiveMpcData}(i.Struct);e.LiveMpcData=ee;var re=function(t){function LiveLongitudinalMpcData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveLongitudinalMpcData,t),LiveLongitudinalMpcData.prototype.adoptXEgo=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveLongitudinalMpcData.prototype.disownXEgo=function(){return i.Struct.disown(this.getXEgo())},LiveLongitudinalMpcData.prototype.getXEgo=function(){return i.Struct.getList(0,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasXEgo=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveLongitudinalMpcData.prototype.initXEgo=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setXEgo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveLongitudinalMpcData.prototype.adoptVEgo=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveLongitudinalMpcData.prototype.disownVEgo=function(){return i.Struct.disown(this.getVEgo())},LiveLongitudinalMpcData.prototype.getVEgo=function(){return i.Struct.getList(1,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasVEgo=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveLongitudinalMpcData.prototype.initVEgo=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setVEgo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveLongitudinalMpcData.prototype.adoptAEgo=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LiveLongitudinalMpcData.prototype.disownAEgo=function(){return i.Struct.disown(this.getAEgo())},LiveLongitudinalMpcData.prototype.getAEgo=function(){return i.Struct.getList(2,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasAEgo=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LiveLongitudinalMpcData.prototype.initAEgo=function(t){return i.Struct.initList(2,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setAEgo=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LiveLongitudinalMpcData.prototype.adoptXLead=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LiveLongitudinalMpcData.prototype.disownXLead=function(){return i.Struct.disown(this.getXLead())},LiveLongitudinalMpcData.prototype.getXLead=function(){return i.Struct.getList(3,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasXLead=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LiveLongitudinalMpcData.prototype.initXLead=function(t){return i.Struct.initList(3,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setXLead=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LiveLongitudinalMpcData.prototype.adoptVLead=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},LiveLongitudinalMpcData.prototype.disownVLead=function(){return i.Struct.disown(this.getVLead())},LiveLongitudinalMpcData.prototype.getVLead=function(){return i.Struct.getList(4,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasVLead=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},LiveLongitudinalMpcData.prototype.initVLead=function(t){return i.Struct.initList(4,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setVLead=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},LiveLongitudinalMpcData.prototype.adoptALead=function(t){i.Struct.adopt(t,i.Struct.getPointer(5,this))},LiveLongitudinalMpcData.prototype.disownALead=function(){return i.Struct.disown(this.getALead())},LiveLongitudinalMpcData.prototype.getALead=function(){return i.Struct.getList(5,o.Float32List,this)},LiveLongitudinalMpcData.prototype.hasALead=function(){return!i.Struct.isNull(i.Struct.getPointer(5,this))},LiveLongitudinalMpcData.prototype.initALead=function(t){return i.Struct.initList(5,o.Float32List,t,this)},LiveLongitudinalMpcData.prototype.setALead=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(5,this))},LiveLongitudinalMpcData.prototype.getALeadTau=function(){return i.Struct.getFloat32(0,this)},LiveLongitudinalMpcData.prototype.setALeadTau=function(t){i.Struct.setFloat32(0,t,this)},LiveLongitudinalMpcData.prototype.getQpIterations=function(){return i.Struct.getUint32(4,this)},LiveLongitudinalMpcData.prototype.setQpIterations=function(t){i.Struct.setUint32(4,t,this)},LiveLongitudinalMpcData.prototype.getMpcId=function(){return i.Struct.getUint32(8,this)},LiveLongitudinalMpcData.prototype.setMpcId=function(t){i.Struct.setUint32(8,t,this)},LiveLongitudinalMpcData.prototype.getCalculationTime=function(){return i.Struct.getUint64(16,this)},LiveLongitudinalMpcData.prototype.setCalculationTime=function(t){i.Struct.setUint64(16,t,this)},LiveLongitudinalMpcData.prototype.getCost=function(){return i.Struct.getFloat64(24,this)},LiveLongitudinalMpcData.prototype.setCost=function(t){i.Struct.setFloat64(24,t,this)},LiveLongitudinalMpcData.prototype.toString=function(){return"LiveLongitudinalMpcData_"+t.prototype.toString.call(this)},LiveLongitudinalMpcData._capnp={displayName:"LiveLongitudinalMpcData",id:"e7e17c434f865ae2",size:new i.ObjectSize(32,6)},LiveLongitudinalMpcData}(i.Struct);e.LiveLongitudinalMpcData=re;var ne=function(t){function ECEFPointDEPRECATED(){return null!==t&&t.apply(this,arguments)||this}return n(ECEFPointDEPRECATED,t),ECEFPointDEPRECATED.prototype.getX=function(){return i.Struct.getFloat32(0,this)},ECEFPointDEPRECATED.prototype.setX=function(t){i.Struct.setFloat32(0,t,this)},ECEFPointDEPRECATED.prototype.getY=function(){return i.Struct.getFloat32(4,this)},ECEFPointDEPRECATED.prototype.setY=function(t){i.Struct.setFloat32(4,t,this)},ECEFPointDEPRECATED.prototype.getZ=function(){return i.Struct.getFloat32(8,this)},ECEFPointDEPRECATED.prototype.setZ=function(t){i.Struct.setFloat32(8,t,this)},ECEFPointDEPRECATED.prototype.toString=function(){return"ECEFPointDEPRECATED_"+t.prototype.toString.call(this)},ECEFPointDEPRECATED._capnp={displayName:"ECEFPointDEPRECATED",id:"e10e21168db0c7f7",size:new i.ObjectSize(16,0)},ECEFPointDEPRECATED}(i.Struct);e.ECEFPointDEPRECATED=ne;var oe=function(t){function ECEFPoint(){return null!==t&&t.apply(this,arguments)||this}return n(ECEFPoint,t),ECEFPoint.prototype.getX=function(){return i.Struct.getFloat64(0,this)},ECEFPoint.prototype.setX=function(t){i.Struct.setFloat64(0,t,this)},ECEFPoint.prototype.getY=function(){return i.Struct.getFloat64(8,this)},ECEFPoint.prototype.setY=function(t){i.Struct.setFloat64(8,t,this)},ECEFPoint.prototype.getZ=function(){return i.Struct.getFloat64(16,this)},ECEFPoint.prototype.setZ=function(t){i.Struct.setFloat64(16,t,this)},ECEFPoint.prototype.toString=function(){return"ECEFPoint_"+t.prototype.toString.call(this)},ECEFPoint._capnp={displayName:"ECEFPoint",id:"c25bbbd524983447",size:new i.ObjectSize(24,0)},ECEFPoint}(i.Struct);e.ECEFPoint=oe;var ie=function(t){function GPSPlannerPoints(){return null!==t&&t.apply(this,arguments)||this}return n(GPSPlannerPoints,t),GPSPlannerPoints.prototype.adoptCurPosDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},GPSPlannerPoints.prototype.disownCurPosDEPRECATED=function(){return i.Struct.disown(this.getCurPosDEPRECATED())},GPSPlannerPoints.prototype.getCurPosDEPRECATED=function(){return i.Struct.getStruct(0,ne,this)},GPSPlannerPoints.prototype.hasCurPosDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},GPSPlannerPoints.prototype.initCurPosDEPRECATED=function(){return i.Struct.initStructAt(0,ne,this)},GPSPlannerPoints.prototype.setCurPosDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},GPSPlannerPoints.prototype.adoptPointsDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},GPSPlannerPoints.prototype.disownPointsDEPRECATED=function(){return i.Struct.disown(this.getPointsDEPRECATED())},GPSPlannerPoints.prototype.getPointsDEPRECATED=function(){return i.Struct.getList(1,GPSPlannerPoints._PointsDEPRECATED,this)},GPSPlannerPoints.prototype.hasPointsDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},GPSPlannerPoints.prototype.initPointsDEPRECATED=function(t){return i.Struct.initList(1,GPSPlannerPoints._PointsDEPRECATED,t,this)},GPSPlannerPoints.prototype.setPointsDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},GPSPlannerPoints.prototype.adoptCurPos=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},GPSPlannerPoints.prototype.disownCurPos=function(){return i.Struct.disown(this.getCurPos())},GPSPlannerPoints.prototype.getCurPos=function(){return i.Struct.getStruct(3,oe,this)},GPSPlannerPoints.prototype.hasCurPos=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},GPSPlannerPoints.prototype.initCurPos=function(){return i.Struct.initStructAt(3,oe,this)},GPSPlannerPoints.prototype.setCurPos=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},GPSPlannerPoints.prototype.adoptPoints=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},GPSPlannerPoints.prototype.disownPoints=function(){return i.Struct.disown(this.getPoints())},GPSPlannerPoints.prototype.getPoints=function(){return i.Struct.getList(4,GPSPlannerPoints._Points,this)},GPSPlannerPoints.prototype.hasPoints=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},GPSPlannerPoints.prototype.initPoints=function(t){return i.Struct.initList(4,GPSPlannerPoints._Points,t,this)},GPSPlannerPoints.prototype.setPoints=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},GPSPlannerPoints.prototype.getValid=function(){return i.Struct.getBit(0,this)},GPSPlannerPoints.prototype.setValid=function(t){i.Struct.setBit(0,t,this)},GPSPlannerPoints.prototype.getTrackName=function(){return i.Struct.getText(2,this)},GPSPlannerPoints.prototype.setTrackName=function(t){i.Struct.setText(2,t,this)},GPSPlannerPoints.prototype.getSpeedLimit=function(){return i.Struct.getFloat32(4,this)},GPSPlannerPoints.prototype.setSpeedLimit=function(t){i.Struct.setFloat32(4,t,this)},GPSPlannerPoints.prototype.getAccelTarget=function(){return i.Struct.getFloat32(8,this)},GPSPlannerPoints.prototype.setAccelTarget=function(t){i.Struct.setFloat32(8,t,this)},GPSPlannerPoints.prototype.toString=function(){return"GPSPlannerPoints_"+t.prototype.toString.call(this)},GPSPlannerPoints._capnp={displayName:"GPSPlannerPoints",id:"ab54c59699f8f9f3",size:new i.ObjectSize(16,5)},GPSPlannerPoints}(i.Struct);e.GPSPlannerPoints=ie;var ae,se,ue=function(t){function GPSPlannerPlan(){return null!==t&&t.apply(this,arguments)||this}return n(GPSPlannerPlan,t),GPSPlannerPlan.prototype.getValid=function(){return i.Struct.getBit(0,this)},GPSPlannerPlan.prototype.setValid=function(t){i.Struct.setBit(0,t,this)},GPSPlannerPlan.prototype.adoptPoly=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},GPSPlannerPlan.prototype.disownPoly=function(){return i.Struct.disown(this.getPoly())},GPSPlannerPlan.prototype.getPoly=function(){return i.Struct.getList(0,o.Float32List,this)},GPSPlannerPlan.prototype.hasPoly=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},GPSPlannerPlan.prototype.initPoly=function(t){return i.Struct.initList(0,o.Float32List,t,this)},GPSPlannerPlan.prototype.setPoly=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},GPSPlannerPlan.prototype.getTrackName=function(){return i.Struct.getText(1,this)},GPSPlannerPlan.prototype.setTrackName=function(t){i.Struct.setText(1,t,this)},GPSPlannerPlan.prototype.getSpeed=function(){return i.Struct.getFloat32(4,this)},GPSPlannerPlan.prototype.setSpeed=function(t){i.Struct.setFloat32(4,t,this)},GPSPlannerPlan.prototype.getAcceleration=function(){return i.Struct.getFloat32(8,this)},GPSPlannerPlan.prototype.setAcceleration=function(t){i.Struct.setFloat32(8,t,this)},GPSPlannerPlan.prototype.adoptPointsDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},GPSPlannerPlan.prototype.disownPointsDEPRECATED=function(){return i.Struct.disown(this.getPointsDEPRECATED())},GPSPlannerPlan.prototype.getPointsDEPRECATED=function(){return i.Struct.getList(2,GPSPlannerPlan._PointsDEPRECATED,this)},GPSPlannerPlan.prototype.hasPointsDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},GPSPlannerPlan.prototype.initPointsDEPRECATED=function(t){return i.Struct.initList(2,GPSPlannerPlan._PointsDEPRECATED,t,this)},GPSPlannerPlan.prototype.setPointsDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},GPSPlannerPlan.prototype.adoptPoints=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},GPSPlannerPlan.prototype.disownPoints=function(){return i.Struct.disown(this.getPoints())},GPSPlannerPlan.prototype.getPoints=function(){return i.Struct.getList(3,GPSPlannerPlan._Points,this)},GPSPlannerPlan.prototype.hasPoints=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},GPSPlannerPlan.prototype.initPoints=function(t){return i.Struct.initList(3,GPSPlannerPlan._Points,t,this)},GPSPlannerPlan.prototype.setPoints=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},GPSPlannerPlan.prototype.getXLookahead=function(){return i.Struct.getFloat32(12,this)},GPSPlannerPlan.prototype.setXLookahead=function(t){i.Struct.setFloat32(12,t,this)},GPSPlannerPlan.prototype.toString=function(){return"GPSPlannerPlan_"+t.prototype.toString.call(this)},GPSPlannerPlan._capnp={displayName:"GPSPlannerPlan",id:"f5ad1d90cdc1dd6b",size:new i.ObjectSize(16,4)},GPSPlannerPlan}(i.Struct);e.GPSPlannerPlan=ue,function(t){t[t.STOP_SIGN=0]="STOP_SIGN",t[t.LIGHT_RED=1]="LIGHT_RED",t[t.LIGHT_YELLOW=2]="LIGHT_YELLOW",t[t.LIGHT_GREEN=3]="LIGHT_GREEN",t[t.STOP_LIGHT=4]="STOP_LIGHT"}(ae=e.TrafficEvent_Type||(e.TrafficEvent_Type={})),function(t){t[t.NONE=0]="NONE",t[t.YIELD=1]="YIELD",t[t.STOP=2]="STOP",t[t.RESUME_READY=3]="RESUME_READY"}(se=e.TrafficEvent_Action||(e.TrafficEvent_Action={}));var le=function(t){function TrafficEvent(){return null!==t&&t.apply(this,arguments)||this}return n(TrafficEvent,t),TrafficEvent.prototype.getType=function(){return i.Struct.getUint16(0,this)},TrafficEvent.prototype.setType=function(t){i.Struct.setUint16(0,t,this)},TrafficEvent.prototype.getDistance=function(){return i.Struct.getFloat32(4,this)},TrafficEvent.prototype.setDistance=function(t){i.Struct.setFloat32(4,t,this)},TrafficEvent.prototype.getAction=function(){return i.Struct.getUint16(2,this)},TrafficEvent.prototype.setAction=function(t){i.Struct.setUint16(2,t,this)},TrafficEvent.prototype.getResuming=function(){return i.Struct.getBit(64,this)},TrafficEvent.prototype.setResuming=function(t){i.Struct.setBit(64,t,this)},TrafficEvent.prototype.toString=function(){return"TrafficEvent_"+t.prototype.toString.call(this)},TrafficEvent.Type=ae,TrafficEvent.Action=se,TrafficEvent._capnp={displayName:"TrafficEvent",id:"acfa74a094e62626",size:new i.ObjectSize(16,0)},TrafficEvent}(i.Struct);e.TrafficEvent=le;var ce=function(t){function OrbslamCorrection(){return null!==t&&t.apply(this,arguments)||this}return n(OrbslamCorrection,t),OrbslamCorrection.prototype.getCorrectionMonoTime=function(){return i.Struct.getUint64(0,this)},OrbslamCorrection.prototype.setCorrectionMonoTime=function(t){i.Struct.setUint64(0,t,this)},OrbslamCorrection.prototype.adoptPrePositionECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},OrbslamCorrection.prototype.disownPrePositionECEF=function(){return i.Struct.disown(this.getPrePositionECEF())},OrbslamCorrection.prototype.getPrePositionECEF=function(){return i.Struct.getList(0,o.Float64List,this)},OrbslamCorrection.prototype.hasPrePositionECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},OrbslamCorrection.prototype.initPrePositionECEF=function(t){return i.Struct.initList(0,o.Float64List,t,this)},OrbslamCorrection.prototype.setPrePositionECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},OrbslamCorrection.prototype.adoptPostPositionECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},OrbslamCorrection.prototype.disownPostPositionECEF=function(){return i.Struct.disown(this.getPostPositionECEF())},OrbslamCorrection.prototype.getPostPositionECEF=function(){return i.Struct.getList(1,o.Float64List,this)},OrbslamCorrection.prototype.hasPostPositionECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},OrbslamCorrection.prototype.initPostPositionECEF=function(t){return i.Struct.initList(1,o.Float64List,t,this)},OrbslamCorrection.prototype.setPostPositionECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},OrbslamCorrection.prototype.adoptPrePoseQuatECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},OrbslamCorrection.prototype.disownPrePoseQuatECEF=function(){return i.Struct.disown(this.getPrePoseQuatECEF())},OrbslamCorrection.prototype.getPrePoseQuatECEF=function(){return i.Struct.getList(2,o.Float32List,this)},OrbslamCorrection.prototype.hasPrePoseQuatECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},OrbslamCorrection.prototype.initPrePoseQuatECEF=function(t){return i.Struct.initList(2,o.Float32List,t,this)},OrbslamCorrection.prototype.setPrePoseQuatECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},OrbslamCorrection.prototype.adoptPostPoseQuatECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},OrbslamCorrection.prototype.disownPostPoseQuatECEF=function(){return i.Struct.disown(this.getPostPoseQuatECEF())},OrbslamCorrection.prototype.getPostPoseQuatECEF=function(){return i.Struct.getList(3,o.Float32List,this)},OrbslamCorrection.prototype.hasPostPoseQuatECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},OrbslamCorrection.prototype.initPostPoseQuatECEF=function(t){return i.Struct.initList(3,o.Float32List,t,this)},OrbslamCorrection.prototype.setPostPoseQuatECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},OrbslamCorrection.prototype.getNumInliers=function(){return i.Struct.getUint32(8,this)},OrbslamCorrection.prototype.setNumInliers=function(t){i.Struct.setUint32(8,t,this)},OrbslamCorrection.prototype.toString=function(){return"OrbslamCorrection_"+t.prototype.toString.call(this)},OrbslamCorrection._capnp={displayName:"OrbslamCorrection",id:"8afd33dc9b35e1aa",size:new i.ObjectSize(16,4)},OrbslamCorrection}(i.Struct);e.OrbslamCorrection=ce;var pe,fe,de=function(t){function OrbObservation(){return null!==t&&t.apply(this,arguments)||this}return n(OrbObservation,t),OrbObservation.prototype.getObservationMonoTime=function(){return i.Struct.getUint64(0,this)},OrbObservation.prototype.setObservationMonoTime=function(t){i.Struct.setUint64(0,t,this)},OrbObservation.prototype.adoptNormalizedCoordinates=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},OrbObservation.prototype.disownNormalizedCoordinates=function(){return i.Struct.disown(this.getNormalizedCoordinates())},OrbObservation.prototype.getNormalizedCoordinates=function(){return i.Struct.getList(0,o.Float32List,this)},OrbObservation.prototype.hasNormalizedCoordinates=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},OrbObservation.prototype.initNormalizedCoordinates=function(t){return i.Struct.initList(0,o.Float32List,t,this)},OrbObservation.prototype.setNormalizedCoordinates=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},OrbObservation.prototype.adoptLocationECEF=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},OrbObservation.prototype.disownLocationECEF=function(){return i.Struct.disown(this.getLocationECEF())},OrbObservation.prototype.getLocationECEF=function(){return i.Struct.getList(1,o.Float64List,this)},OrbObservation.prototype.hasLocationECEF=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},OrbObservation.prototype.initLocationECEF=function(t){return i.Struct.initList(1,o.Float64List,t,this)},OrbObservation.prototype.setLocationECEF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},OrbObservation.prototype.getMatchDistance=function(){return i.Struct.getUint32(8,this)},OrbObservation.prototype.setMatchDistance=function(t){i.Struct.setUint32(8,t,this)},OrbObservation.prototype.toString=function(){return"OrbObservation_"+t.prototype.toString.call(this)},OrbObservation._capnp={displayName:"OrbObservation",id:"9b326d4e436afec7",size:new i.ObjectSize(16,2)},OrbObservation}(i.Struct);e.OrbObservation=de,function(t){t[t.NONE=0]="NONE",t[t.LANE_CHANGE_LEFT=1]="LANE_CHANGE_LEFT",t[t.LANE_CHANGE_RIGHT=2]="LANE_CHANGE_RIGHT",t[t.MERGE_LEFT=3]="MERGE_LEFT",t[t.MERGE_RIGHT=4]="MERGE_RIGHT",t[t.TURN_LEFT=5]="TURN_LEFT",t[t.TURN_RIGHT=6]="TURN_RIGHT"}(pe=e.UiNavigationEvent_Type||(e.UiNavigationEvent_Type={})),function(t){t[t.NONE=0]="NONE",t[t.PASSIVE=1]="PASSIVE",t[t.APPROACHING=2]="APPROACHING",t[t.ACTIVE=3]="ACTIVE"}(fe=e.UiNavigationEvent_Status||(e.UiNavigationEvent_Status={}));var he,me=function(t){function UiNavigationEvent(){return null!==t&&t.apply(this,arguments)||this}return n(UiNavigationEvent,t),UiNavigationEvent.prototype.getType=function(){return i.Struct.getUint16(0,this)},UiNavigationEvent.prototype.setType=function(t){i.Struct.setUint16(0,t,this)},UiNavigationEvent.prototype.getStatus=function(){return i.Struct.getUint16(2,this)},UiNavigationEvent.prototype.setStatus=function(t){i.Struct.setUint16(2,t,this)},UiNavigationEvent.prototype.getDistanceTo=function(){return i.Struct.getFloat32(4,this)},UiNavigationEvent.prototype.setDistanceTo=function(t){i.Struct.setFloat32(4,t,this)},UiNavigationEvent.prototype.adoptEndRoadPointDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},UiNavigationEvent.prototype.disownEndRoadPointDEPRECATED=function(){return i.Struct.disown(this.getEndRoadPointDEPRECATED())},UiNavigationEvent.prototype.getEndRoadPointDEPRECATED=function(){return i.Struct.getStruct(0,ne,this)},UiNavigationEvent.prototype.hasEndRoadPointDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},UiNavigationEvent.prototype.initEndRoadPointDEPRECATED=function(){return i.Struct.initStructAt(0,ne,this)},UiNavigationEvent.prototype.setEndRoadPointDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},UiNavigationEvent.prototype.adoptEndRoadPoint=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},UiNavigationEvent.prototype.disownEndRoadPoint=function(){return i.Struct.disown(this.getEndRoadPoint())},UiNavigationEvent.prototype.getEndRoadPoint=function(){return i.Struct.getStruct(1,oe,this)},UiNavigationEvent.prototype.hasEndRoadPoint=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},UiNavigationEvent.prototype.initEndRoadPoint=function(){return i.Struct.initStructAt(1,oe,this)},UiNavigationEvent.prototype.setEndRoadPoint=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},UiNavigationEvent.prototype.toString=function(){return"UiNavigationEvent_"+t.prototype.toString.call(this)},UiNavigationEvent.Type=pe,UiNavigationEvent.Status=fe,UiNavigationEvent._capnp={displayName:"UiNavigationEvent",id:"90c8426c3eaddd3b",size:new i.ObjectSize(8,2)},UiNavigationEvent}(i.Struct);e.UiNavigationEvent=me,function(t){t[t.HOME=0]="HOME",t[t.MUSIC=1]="MUSIC",t[t.NAV=2]="NAV"}(he=e.UiLayoutState_App||(e.UiLayoutState_App={}));var ye=function(t){function UiLayoutState(){return null!==t&&t.apply(this,arguments)||this}return n(UiLayoutState,t),UiLayoutState.prototype.getActiveApp=function(){return i.Struct.getUint16(0,this)},UiLayoutState.prototype.setActiveApp=function(t){i.Struct.setUint16(0,t,this)},UiLayoutState.prototype.getSidebarCollapsed=function(){return i.Struct.getBit(16,this)},UiLayoutState.prototype.setSidebarCollapsed=function(t){i.Struct.setBit(16,t,this)},UiLayoutState.prototype.getMapEnabled=function(){return i.Struct.getBit(17,this)},UiLayoutState.prototype.setMapEnabled=function(t){i.Struct.setBit(17,t,this)},UiLayoutState.prototype.toString=function(){return"UiLayoutState_"+t.prototype.toString.call(this)},UiLayoutState.App=he,UiLayoutState._capnp={displayName:"UiLayoutState",id:"88dcce08ad29dda0",size:new i.ObjectSize(8,0)},UiLayoutState}(i.Struct);e.UiLayoutState=ye;var ge=function(t){function Joystick(){return null!==t&&t.apply(this,arguments)||this}return n(Joystick,t),Joystick.prototype.adoptAxes=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Joystick.prototype.disownAxes=function(){return i.Struct.disown(this.getAxes())},Joystick.prototype.getAxes=function(){return i.Struct.getList(0,o.Float32List,this)},Joystick.prototype.hasAxes=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Joystick.prototype.initAxes=function(t){return i.Struct.initList(0,o.Float32List,t,this)},Joystick.prototype.setAxes=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Joystick.prototype.adoptButtons=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},Joystick.prototype.disownButtons=function(){return i.Struct.disown(this.getButtons())},Joystick.prototype.getButtons=function(){return i.Struct.getList(1,o.BoolList,this)},Joystick.prototype.hasButtons=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},Joystick.prototype.initButtons=function(t){return i.Struct.initList(1,o.BoolList,t,this)},Joystick.prototype.setButtons=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},Joystick.prototype.toString=function(){return"Joystick_"+t.prototype.toString.call(this)},Joystick._capnp={displayName:"Joystick",id:"e42401658e2715e2",size:new i.ObjectSize(0,2)},Joystick}(i.Struct);e.Joystick=ge;var ve=function(t){function OrbOdometry(){return null!==t&&t.apply(this,arguments)||this}return n(OrbOdometry,t),OrbOdometry.prototype.getStartMonoTime=function(){return i.Struct.getUint64(0,this)},OrbOdometry.prototype.setStartMonoTime=function(t){i.Struct.setUint64(0,t,this)},OrbOdometry.prototype.getEndMonoTime=function(){return i.Struct.getUint64(8,this)},OrbOdometry.prototype.setEndMonoTime=function(t){i.Struct.setUint64(8,t,this)},OrbOdometry.prototype.adoptF=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},OrbOdometry.prototype.disownF=function(){return i.Struct.disown(this.getF())},OrbOdometry.prototype.getF=function(){return i.Struct.getList(0,o.Float64List,this)},OrbOdometry.prototype.hasF=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},OrbOdometry.prototype.initF=function(t){return i.Struct.initList(0,o.Float64List,t,this)},OrbOdometry.prototype.setF=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},OrbOdometry.prototype.getErr=function(){return i.Struct.getFloat64(16,this)},OrbOdometry.prototype.setErr=function(t){i.Struct.setFloat64(16,t,this)},OrbOdometry.prototype.getInliers=function(){return i.Struct.getInt32(24,this)},OrbOdometry.prototype.setInliers=function(t){i.Struct.setInt32(24,t,this)},OrbOdometry.prototype.adoptMatches=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},OrbOdometry.prototype.disownMatches=function(){return i.Struct.disown(this.getMatches())},OrbOdometry.prototype.getMatches=function(){return i.Struct.getList(1,o.Int16List,this)},OrbOdometry.prototype.hasMatches=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},OrbOdometry.prototype.initMatches=function(t){return i.Struct.initList(1,o.Int16List,t,this)},OrbOdometry.prototype.setMatches=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},OrbOdometry.prototype.toString=function(){return"OrbOdometry_"+t.prototype.toString.call(this)},OrbOdometry._capnp={displayName:"OrbOdometry",id:"d7700859ed1f5b76",size:new i.ObjectSize(32,2)},OrbOdometry}(i.Struct);e.OrbOdometry=ve;var _e=function(t){function OrbFeatures(){return null!==t&&t.apply(this,arguments)||this}return n(OrbFeatures,t),OrbFeatures.prototype.getTimestampEof=function(){return i.Struct.getUint64(0,this)},OrbFeatures.prototype.setTimestampEof=function(t){i.Struct.setUint64(0,t,this)},OrbFeatures.prototype.adoptXs=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},OrbFeatures.prototype.disownXs=function(){return i.Struct.disown(this.getXs())},OrbFeatures.prototype.getXs=function(){return i.Struct.getList(0,o.Float32List,this)},OrbFeatures.prototype.hasXs=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},OrbFeatures.prototype.initXs=function(t){return i.Struct.initList(0,o.Float32List,t,this)},OrbFeatures.prototype.setXs=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},OrbFeatures.prototype.adoptYs=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},OrbFeatures.prototype.disownYs=function(){return i.Struct.disown(this.getYs())},OrbFeatures.prototype.getYs=function(){return i.Struct.getList(1,o.Float32List,this)},OrbFeatures.prototype.hasYs=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},OrbFeatures.prototype.initYs=function(t){return i.Struct.initList(1,o.Float32List,t,this)},OrbFeatures.prototype.setYs=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},OrbFeatures.prototype.adoptDescriptors=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},OrbFeatures.prototype.disownDescriptors=function(){return i.Struct.disown(this.getDescriptors())},OrbFeatures.prototype.getDescriptors=function(){return i.Struct.getData(2,this)},OrbFeatures.prototype.hasDescriptors=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},OrbFeatures.prototype.initDescriptors=function(t){return i.Struct.initData(2,t,this)},OrbFeatures.prototype.setDescriptors=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},OrbFeatures.prototype.adoptOctaves=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},OrbFeatures.prototype.disownOctaves=function(){return i.Struct.disown(this.getOctaves())},OrbFeatures.prototype.getOctaves=function(){return i.Struct.getList(3,o.Int8List,this)},OrbFeatures.prototype.hasOctaves=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},OrbFeatures.prototype.initOctaves=function(t){return i.Struct.initList(3,o.Int8List,t,this)},OrbFeatures.prototype.setOctaves=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},OrbFeatures.prototype.getTimestampLastEof=function(){return i.Struct.getUint64(8,this)},OrbFeatures.prototype.setTimestampLastEof=function(t){i.Struct.setUint64(8,t,this)},OrbFeatures.prototype.adoptMatches=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},OrbFeatures.prototype.disownMatches=function(){return i.Struct.disown(this.getMatches())},OrbFeatures.prototype.getMatches=function(){return i.Struct.getList(4,o.Int16List,this)},OrbFeatures.prototype.hasMatches=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},OrbFeatures.prototype.initMatches=function(t){return i.Struct.initList(4,o.Int16List,t,this)},OrbFeatures.prototype.setMatches=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},OrbFeatures.prototype.toString=function(){return"OrbFeatures_"+t.prototype.toString.call(this)},OrbFeatures._capnp={displayName:"OrbFeatures",id:"cd60164a8a0159ef",size:new i.ObjectSize(16,5)},OrbFeatures}(i.Struct);e.OrbFeatures=_e;var be=function(t){function OrbFeaturesSummary(){return null!==t&&t.apply(this,arguments)||this}return n(OrbFeaturesSummary,t),OrbFeaturesSummary.prototype.getTimestampEof=function(){return i.Struct.getUint64(0,this)},OrbFeaturesSummary.prototype.setTimestampEof=function(t){i.Struct.setUint64(0,t,this)},OrbFeaturesSummary.prototype.getTimestampLastEof=function(){return i.Struct.getUint64(8,this)},OrbFeaturesSummary.prototype.setTimestampLastEof=function(t){i.Struct.setUint64(8,t,this)},OrbFeaturesSummary.prototype.getFeatureCount=function(){return i.Struct.getUint16(16,this)},OrbFeaturesSummary.prototype.setFeatureCount=function(t){i.Struct.setUint16(16,t,this)},OrbFeaturesSummary.prototype.getMatchCount=function(){return i.Struct.getUint16(18,this)},OrbFeaturesSummary.prototype.setMatchCount=function(t){i.Struct.setUint16(18,t,this)},OrbFeaturesSummary.prototype.getComputeNs=function(){return i.Struct.getUint64(24,this)},OrbFeaturesSummary.prototype.setComputeNs=function(t){i.Struct.setUint64(24,t,this)},OrbFeaturesSummary.prototype.toString=function(){return"OrbFeaturesSummary_"+t.prototype.toString.call(this)},OrbFeaturesSummary._capnp={displayName:"OrbFeaturesSummary",id:"d500d30c5803fa4f",size:new i.ObjectSize(32,0)},OrbFeaturesSummary}(i.Struct);e.OrbFeaturesSummary=be;var Se=function(t){function OrbKeyFrame(){return null!==t&&t.apply(this,arguments)||this}return n(OrbKeyFrame,t),OrbKeyFrame.prototype.getId=function(){return i.Struct.getUint64(0,this)},OrbKeyFrame.prototype.setId=function(t){i.Struct.setUint64(0,t,this)},OrbKeyFrame.prototype.adoptPos=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},OrbKeyFrame.prototype.disownPos=function(){return i.Struct.disown(this.getPos())},OrbKeyFrame.prototype.getPos=function(){return i.Struct.getStruct(0,oe,this)},OrbKeyFrame.prototype.hasPos=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},OrbKeyFrame.prototype.initPos=function(){return i.Struct.initStructAt(0,oe,this)},OrbKeyFrame.prototype.setPos=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},OrbKeyFrame.prototype.adoptDpos=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},OrbKeyFrame.prototype.disownDpos=function(){return i.Struct.disown(this.getDpos())},OrbKeyFrame.prototype.getDpos=function(){return i.Struct.getList(1,OrbKeyFrame._Dpos,this)},OrbKeyFrame.prototype.hasDpos=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},OrbKeyFrame.prototype.initDpos=function(t){return i.Struct.initList(1,OrbKeyFrame._Dpos,t,this)},OrbKeyFrame.prototype.setDpos=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},OrbKeyFrame.prototype.adoptDescriptors=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},OrbKeyFrame.prototype.disownDescriptors=function(){return i.Struct.disown(this.getDescriptors())},OrbKeyFrame.prototype.getDescriptors=function(){return i.Struct.getData(2,this)},OrbKeyFrame.prototype.hasDescriptors=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},OrbKeyFrame.prototype.initDescriptors=function(t){return i.Struct.initData(2,t,this)},OrbKeyFrame.prototype.setDescriptors=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},OrbKeyFrame.prototype.toString=function(){return"OrbKeyFrame_"+t.prototype.toString.call(this)},OrbKeyFrame._capnp={displayName:"OrbKeyFrame",id:"c8233c0345e27e24",size:new i.ObjectSize(8,3)},OrbKeyFrame}(i.Struct);e.OrbKeyFrame=Se;var xe=function(t){function DriverMonitoring(){return null!==t&&t.apply(this,arguments)||this}return n(DriverMonitoring,t),DriverMonitoring.prototype.getFrameId=function(){return i.Struct.getUint32(0,this)},DriverMonitoring.prototype.setFrameId=function(t){i.Struct.setUint32(0,t,this)},DriverMonitoring.prototype.adoptDescriptorDEPRECATED=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},DriverMonitoring.prototype.disownDescriptorDEPRECATED=function(){return i.Struct.disown(this.getDescriptorDEPRECATED())},DriverMonitoring.prototype.getDescriptorDEPRECATED=function(){return i.Struct.getList(0,o.Float32List,this)},DriverMonitoring.prototype.hasDescriptorDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},DriverMonitoring.prototype.initDescriptorDEPRECATED=function(t){return i.Struct.initList(0,o.Float32List,t,this)},DriverMonitoring.prototype.setDescriptorDEPRECATED=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},DriverMonitoring.prototype.getStdDEPRECATED=function(){return i.Struct.getFloat32(4,this)},DriverMonitoring.prototype.setStdDEPRECATED=function(t){i.Struct.setFloat32(4,t,this)},DriverMonitoring.prototype.adoptFaceOrientation=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},DriverMonitoring.prototype.disownFaceOrientation=function(){return i.Struct.disown(this.getFaceOrientation())},DriverMonitoring.prototype.getFaceOrientation=function(){return i.Struct.getList(1,o.Float32List,this)},DriverMonitoring.prototype.hasFaceOrientation=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},DriverMonitoring.prototype.initFaceOrientation=function(t){return i.Struct.initList(1,o.Float32List,t,this)},DriverMonitoring.prototype.setFaceOrientation=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},DriverMonitoring.prototype.adoptFacePosition=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},DriverMonitoring.prototype.disownFacePosition=function(){return i.Struct.disown(this.getFacePosition())},DriverMonitoring.prototype.getFacePosition=function(){return i.Struct.getList(2,o.Float32List,this)},DriverMonitoring.prototype.hasFacePosition=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},DriverMonitoring.prototype.initFacePosition=function(t){return i.Struct.initList(2,o.Float32List,t,this)},DriverMonitoring.prototype.setFacePosition=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},DriverMonitoring.prototype.getFaceProb=function(){return i.Struct.getFloat32(8,this)},DriverMonitoring.prototype.setFaceProb=function(t){i.Struct.setFloat32(8,t,this)},DriverMonitoring.prototype.getLeftEyeProb=function(){return i.Struct.getFloat32(12,this)},DriverMonitoring.prototype.setLeftEyeProb=function(t){i.Struct.setFloat32(12,t,this)},DriverMonitoring.prototype.getRightEyeProb=function(){return i.Struct.getFloat32(16,this)},DriverMonitoring.prototype.setRightEyeProb=function(t){i.Struct.setFloat32(16,t,this)},DriverMonitoring.prototype.getLeftBlinkProb=function(){return i.Struct.getFloat32(20,this)},DriverMonitoring.prototype.setLeftBlinkProb=function(t){i.Struct.setFloat32(20,t,this)},DriverMonitoring.prototype.getRightBlinkProb=function(){return i.Struct.getFloat32(24,this)},DriverMonitoring.prototype.setRightBlinkProb=function(t){i.Struct.setFloat32(24,t,this)},DriverMonitoring.prototype.toString=function(){return"DriverMonitoring_"+t.prototype.toString.call(this)},DriverMonitoring._capnp={displayName:"DriverMonitoring",id:"debcb913d14cfb94",size:new i.ObjectSize(32,3)},DriverMonitoring}(i.Struct);e.DriverMonitoring=xe;var we=function(t){function Boot(){return null!==t&&t.apply(this,arguments)||this}return n(Boot,t),Boot.prototype.getWallTimeNanos=function(){return i.Struct.getUint64(0,this)},Boot.prototype.setWallTimeNanos=function(t){i.Struct.setUint64(0,t,this)},Boot.prototype.adoptLastKmsg=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},Boot.prototype.disownLastKmsg=function(){return i.Struct.disown(this.getLastKmsg())},Boot.prototype.getLastKmsg=function(){return i.Struct.getData(0,this)},Boot.prototype.hasLastKmsg=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Boot.prototype.initLastKmsg=function(t){return i.Struct.initData(0,t,this)},Boot.prototype.setLastKmsg=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Boot.prototype.adoptLastPmsg=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},Boot.prototype.disownLastPmsg=function(){return i.Struct.disown(this.getLastPmsg())},Boot.prototype.getLastPmsg=function(){return i.Struct.getData(1,this)},Boot.prototype.hasLastPmsg=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},Boot.prototype.initLastPmsg=function(t){return i.Struct.initData(1,t,this)},Boot.prototype.setLastPmsg=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},Boot.prototype.toString=function(){return"Boot_"+t.prototype.toString.call(this)},Boot._capnp={displayName:"Boot",id:"a12e8670927a2549",size:new i.ObjectSize(8,2)},Boot}(i.Struct);e.Boot=we;var Ee=function(t){function LiveParametersData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveParametersData,t),LiveParametersData.prototype.getValid=function(){return i.Struct.getBit(0,this)},LiveParametersData.prototype.setValid=function(t){i.Struct.setBit(0,t,this)},LiveParametersData.prototype.getGyroBias=function(){return i.Struct.getFloat32(4,this)},LiveParametersData.prototype.setGyroBias=function(t){i.Struct.setFloat32(4,t,this)},LiveParametersData.prototype.getAngleOffset=function(){return i.Struct.getFloat32(8,this)},LiveParametersData.prototype.setAngleOffset=function(t){i.Struct.setFloat32(8,t,this)},LiveParametersData.prototype.getAngleOffsetAverage=function(){return i.Struct.getFloat32(12,this)},LiveParametersData.prototype.setAngleOffsetAverage=function(t){i.Struct.setFloat32(12,t,this)},LiveParametersData.prototype.getStiffnessFactor=function(){return i.Struct.getFloat32(16,this)},LiveParametersData.prototype.setStiffnessFactor=function(t){i.Struct.setFloat32(16,t,this)},LiveParametersData.prototype.getSteerRatio=function(){return i.Struct.getFloat32(20,this)},LiveParametersData.prototype.setSteerRatio=function(t){i.Struct.setFloat32(20,t,this)},LiveParametersData.prototype.getSensorValid=function(){return i.Struct.getBit(1,this)},LiveParametersData.prototype.setSensorValid=function(t){i.Struct.setBit(1,t,this)},LiveParametersData.prototype.getYawRate=function(){return i.Struct.getFloat32(24,this)},LiveParametersData.prototype.setYawRate=function(t){i.Struct.setFloat32(24,t,this)},LiveParametersData.prototype.getPosenetSpeed=function(){return i.Struct.getFloat32(28,this)},LiveParametersData.prototype.setPosenetSpeed=function(t){i.Struct.setFloat32(28,t,this)},LiveParametersData.prototype.getPosenetValid=function(){return i.Struct.getBit(2,this)},LiveParametersData.prototype.setPosenetValid=function(t){i.Struct.setBit(2,t,this)},LiveParametersData.prototype.toString=function(){return"LiveParametersData_"+t.prototype.toString.call(this)},LiveParametersData._capnp={displayName:"LiveParametersData",id:"d9058dcb967c2753",size:new i.ObjectSize(32,0)},LiveParametersData}(i.Struct);e.LiveParametersData=Ee;var Pe=function(t){function LiveMapData(){return null!==t&&t.apply(this,arguments)||this}return n(LiveMapData,t),LiveMapData.prototype.getSpeedLimitValid=function(){return i.Struct.getBit(0,this)},LiveMapData.prototype.setSpeedLimitValid=function(t){i.Struct.setBit(0,t,this)},LiveMapData.prototype.getSpeedLimit=function(){return i.Struct.getFloat32(4,this)},LiveMapData.prototype.setSpeedLimit=function(t){i.Struct.setFloat32(4,t,this)},LiveMapData.prototype.getSpeedAdvisoryValid=function(){return i.Struct.getBit(3,this)},LiveMapData.prototype.setSpeedAdvisoryValid=function(t){i.Struct.setBit(3,t,this)},LiveMapData.prototype.getSpeedAdvisory=function(){return i.Struct.getFloat32(24,this)},LiveMapData.prototype.setSpeedAdvisory=function(t){i.Struct.setFloat32(24,t,this)},LiveMapData.prototype.getSpeedLimitAheadValid=function(){return i.Struct.getBit(4,this)},LiveMapData.prototype.setSpeedLimitAheadValid=function(t){i.Struct.setBit(4,t,this)},LiveMapData.prototype.getSpeedLimitAhead=function(){return i.Struct.getFloat32(28,this)},LiveMapData.prototype.setSpeedLimitAhead=function(t){i.Struct.setFloat32(28,t,this)},LiveMapData.prototype.getSpeedLimitAheadDistance=function(){return i.Struct.getFloat32(32,this)},LiveMapData.prototype.setSpeedLimitAheadDistance=function(t){i.Struct.setFloat32(32,t,this)},LiveMapData.prototype.getCurvatureValid=function(){return i.Struct.getBit(1,this)},LiveMapData.prototype.setCurvatureValid=function(t){i.Struct.setBit(1,t,this)},LiveMapData.prototype.getCurvature=function(){return i.Struct.getFloat32(8,this)},LiveMapData.prototype.setCurvature=function(t){i.Struct.setFloat32(8,t,this)},LiveMapData.prototype.getWayId=function(){return i.Struct.getUint64(16,this)},LiveMapData.prototype.setWayId=function(t){i.Struct.setUint64(16,t,this)},LiveMapData.prototype.adoptRoadX=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},LiveMapData.prototype.disownRoadX=function(){return i.Struct.disown(this.getRoadX())},LiveMapData.prototype.getRoadX=function(){return i.Struct.getList(0,o.Float32List,this)},LiveMapData.prototype.hasRoadX=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},LiveMapData.prototype.initRoadX=function(t){return i.Struct.initList(0,o.Float32List,t,this)},LiveMapData.prototype.setRoadX=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},LiveMapData.prototype.adoptRoadY=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},LiveMapData.prototype.disownRoadY=function(){return i.Struct.disown(this.getRoadY())},LiveMapData.prototype.getRoadY=function(){return i.Struct.getList(1,o.Float32List,this)},LiveMapData.prototype.hasRoadY=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},LiveMapData.prototype.initRoadY=function(t){return i.Struct.initList(1,o.Float32List,t,this)},LiveMapData.prototype.setRoadY=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},LiveMapData.prototype.adoptLastGps=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},LiveMapData.prototype.disownLastGps=function(){return i.Struct.disown(this.getLastGps())},LiveMapData.prototype.getLastGps=function(){return i.Struct.getStruct(2,C,this)},LiveMapData.prototype.hasLastGps=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},LiveMapData.prototype.initLastGps=function(){return i.Struct.initStructAt(2,C,this)},LiveMapData.prototype.setLastGps=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},LiveMapData.prototype.adoptRoadCurvatureX=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},LiveMapData.prototype.disownRoadCurvatureX=function(){return i.Struct.disown(this.getRoadCurvatureX())},LiveMapData.prototype.getRoadCurvatureX=function(){return i.Struct.getList(3,o.Float32List,this)},LiveMapData.prototype.hasRoadCurvatureX=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},LiveMapData.prototype.initRoadCurvatureX=function(t){return i.Struct.initList(3,o.Float32List,t,this)},LiveMapData.prototype.setRoadCurvatureX=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},LiveMapData.prototype.adoptRoadCurvature=function(t){i.Struct.adopt(t,i.Struct.getPointer(4,this))},LiveMapData.prototype.disownRoadCurvature=function(){return i.Struct.disown(this.getRoadCurvature())},LiveMapData.prototype.getRoadCurvature=function(){return i.Struct.getList(4,o.Float32List,this)},LiveMapData.prototype.hasRoadCurvature=function(){return!i.Struct.isNull(i.Struct.getPointer(4,this))},LiveMapData.prototype.initRoadCurvature=function(t){return i.Struct.initList(4,o.Float32List,t,this)},LiveMapData.prototype.setRoadCurvature=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(4,this))},LiveMapData.prototype.getDistToTurn=function(){return i.Struct.getFloat32(12,this)},LiveMapData.prototype.setDistToTurn=function(t){i.Struct.setFloat32(12,t,this)},LiveMapData.prototype.getMapValid=function(){return i.Struct.getBit(2,this)},LiveMapData.prototype.setMapValid=function(t){i.Struct.setBit(2,t,this)},LiveMapData.prototype.toString=function(){return"LiveMapData_"+t.prototype.toString.call(this)},LiveMapData._capnp={displayName:"LiveMapData",id:"9854f620f0d3b9cc",size:new i.ObjectSize(40,5)},LiveMapData}(i.Struct);e.LiveMapData=Pe;var Ce=function(t){function CameraOdometry(){return null!==t&&t.apply(this,arguments)||this}return n(CameraOdometry,t),CameraOdometry.prototype.adoptTrans=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},CameraOdometry.prototype.disownTrans=function(){return i.Struct.disown(this.getTrans())},CameraOdometry.prototype.getTrans=function(){return i.Struct.getList(0,o.Float32List,this)},CameraOdometry.prototype.hasTrans=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},CameraOdometry.prototype.initTrans=function(t){return i.Struct.initList(0,o.Float32List,t,this)},CameraOdometry.prototype.setTrans=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},CameraOdometry.prototype.adoptRot=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},CameraOdometry.prototype.disownRot=function(){return i.Struct.disown(this.getRot())},CameraOdometry.prototype.getRot=function(){return i.Struct.getList(1,o.Float32List,this)},CameraOdometry.prototype.hasRot=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},CameraOdometry.prototype.initRot=function(t){return i.Struct.initList(1,o.Float32List,t,this)},CameraOdometry.prototype.setRot=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},CameraOdometry.prototype.adoptTransStd=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},CameraOdometry.prototype.disownTransStd=function(){return i.Struct.disown(this.getTransStd())},CameraOdometry.prototype.getTransStd=function(){return i.Struct.getList(2,o.Float32List,this)},CameraOdometry.prototype.hasTransStd=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},CameraOdometry.prototype.initTransStd=function(t){return i.Struct.initList(2,o.Float32List,t,this)},CameraOdometry.prototype.setTransStd=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},CameraOdometry.prototype.adoptRotStd=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},CameraOdometry.prototype.disownRotStd=function(){return i.Struct.disown(this.getRotStd())},CameraOdometry.prototype.getRotStd=function(){return i.Struct.getList(3,o.Float32List,this)},CameraOdometry.prototype.hasRotStd=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},CameraOdometry.prototype.initRotStd=function(t){return i.Struct.initList(3,o.Float32List,t,this)},CameraOdometry.prototype.setRotStd=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},CameraOdometry.prototype.toString=function(){return"CameraOdometry_"+t.prototype.toString.call(this)},CameraOdometry._capnp={displayName:"CameraOdometry",id:"fa9a296b9fd41a96",size:new i.ObjectSize(0,4)},CameraOdometry}(i.Struct);e.CameraOdometry=Ce;var Te,De=function(t){function KalmanOdometry(){return null!==t&&t.apply(this,arguments)||this}return n(KalmanOdometry,t),KalmanOdometry.prototype.adoptTrans=function(t){i.Struct.adopt(t,i.Struct.getPointer(0,this))},KalmanOdometry.prototype.disownTrans=function(){return i.Struct.disown(this.getTrans())},KalmanOdometry.prototype.getTrans=function(){return i.Struct.getList(0,o.Float32List,this)},KalmanOdometry.prototype.hasTrans=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},KalmanOdometry.prototype.initTrans=function(t){return i.Struct.initList(0,o.Float32List,t,this)},KalmanOdometry.prototype.setTrans=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},KalmanOdometry.prototype.adoptRot=function(t){i.Struct.adopt(t,i.Struct.getPointer(1,this))},KalmanOdometry.prototype.disownRot=function(){return i.Struct.disown(this.getRot())},KalmanOdometry.prototype.getRot=function(){return i.Struct.getList(1,o.Float32List,this)},KalmanOdometry.prototype.hasRot=function(){return!i.Struct.isNull(i.Struct.getPointer(1,this))},KalmanOdometry.prototype.initRot=function(t){return i.Struct.initList(1,o.Float32List,t,this)},KalmanOdometry.prototype.setRot=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(1,this))},KalmanOdometry.prototype.adoptTransStd=function(t){i.Struct.adopt(t,i.Struct.getPointer(2,this))},KalmanOdometry.prototype.disownTransStd=function(){return i.Struct.disown(this.getTransStd())},KalmanOdometry.prototype.getTransStd=function(){return i.Struct.getList(2,o.Float32List,this)},KalmanOdometry.prototype.hasTransStd=function(){return!i.Struct.isNull(i.Struct.getPointer(2,this))},KalmanOdometry.prototype.initTransStd=function(t){return i.Struct.initList(2,o.Float32List,t,this)},KalmanOdometry.prototype.setTransStd=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(2,this))},KalmanOdometry.prototype.adoptRotStd=function(t){i.Struct.adopt(t,i.Struct.getPointer(3,this))},KalmanOdometry.prototype.disownRotStd=function(){return i.Struct.disown(this.getRotStd())},KalmanOdometry.prototype.getRotStd=function(){return i.Struct.getList(3,o.Float32List,this)},KalmanOdometry.prototype.hasRotStd=function(){return!i.Struct.isNull(i.Struct.getPointer(3,this))},KalmanOdometry.prototype.initRotStd=function(t){return i.Struct.initList(3,o.Float32List,t,this)},KalmanOdometry.prototype.setRotStd=function(t){i.Struct.copyFrom(t,i.Struct.getPointer(3,this))},KalmanOdometry.prototype.toString=function(){return"KalmanOdometry_"+t.prototype.toString.call(this)},KalmanOdometry._capnp={displayName:"KalmanOdometry",id:"92e21bb7ea38793a",size:new i.ObjectSize(0,4)},KalmanOdometry}(i.Struct);e.KalmanOdometry=De,function(t){t[t.INIT_DATA=0]="INIT_DATA",t[t.FRAME=1]="FRAME",t[t.GPS_NMEA=2]="GPS_NMEA",t[t.SENSOR_EVENT_DEPRECATED=3]="SENSOR_EVENT_DEPRECATED",t[t.CAN=4]="CAN",t[t.THERMAL=5]="THERMAL",t[t.CONTROLS_STATE=6]="CONTROLS_STATE",t[t.LIVE_EVENT_DEPRECATED=7]="LIVE_EVENT_DEPRECATED",t[t.MODEL=8]="MODEL",t[t.FEATURES=9]="FEATURES",t[t.SENSOR_EVENTS=10]="SENSOR_EVENTS",t[t.HEALTH=11]="HEALTH",t[t.RADAR_STATE=12]="RADAR_STATE",t[t.LIVE_UIDEPRECATED=13]="LIVE_UIDEPRECATED",t[t.ENCODE_IDX=14]="ENCODE_IDX",t[t.LIVE_TRACKS=15]="LIVE_TRACKS",t[t.SENDCAN=16]="SENDCAN",t[t.LOG_MESSAGE=17]="LOG_MESSAGE",t[t.LIVE_CALIBRATION=18]="LIVE_CALIBRATION",t[t.ANDROID_LOG_ENTRY=19]="ANDROID_LOG_ENTRY",t[t.GPS_LOCATION=20]="GPS_LOCATION",t[t.CAR_STATE=21]="CAR_STATE",t[t.CAR_CONTROL=22]="CAR_CONTROL",t[t.PLAN=23]="PLAN",t[t.LIVE_LOCATION=24]="LIVE_LOCATION",t[t.ETHERNET_DATA=25]="ETHERNET_DATA",t[t.NAV_UPDATE=26]="NAV_UPDATE",t[t.CELL_INFO=27]="CELL_INFO",t[t.WIFI_SCAN=28]="WIFI_SCAN",t[t.ANDROID_GNSS=29]="ANDROID_GNSS",t[t.QCOM_GNSS=30]="QCOM_GNSS",t[t.LIDAR_PTS=31]="LIDAR_PTS",t[t.PROC_LOG=32]="PROC_LOG",t[t.UBLOX_GNSS=33]="UBLOX_GNSS",t[t.CLOCKS=34]="CLOCKS",t[t.LIVE_MPC=35]="LIVE_MPC",t[t.LIVE_LONGITUDINAL_MPC=36]="LIVE_LONGITUDINAL_MPC",t[t.NAV_STATUS=37]="NAV_STATUS",t[t.UBLOX_RAW=38]="UBLOX_RAW",t[t.GPS_PLANNER_POINTS=39]="GPS_PLANNER_POINTS",t[t.GPS_PLANNER_PLAN=40]="GPS_PLANNER_PLAN",t[t.APPLANIX_RAW=41]="APPLANIX_RAW",t[t.TRAFFIC_EVENTS=42]="TRAFFIC_EVENTS",t[t.LIVE_LOCATION_TIMING=43]="LIVE_LOCATION_TIMING",t[t.ORBSLAM_CORRECTION_DEPRECATED=44]="ORBSLAM_CORRECTION_DEPRECATED",t[t.LIVE_LOCATION_CORRECTED=45]="LIVE_LOCATION_CORRECTED",t[t.ORB_OBSERVATION=46]="ORB_OBSERVATION",t[t.GPS_LOCATION_EXTERNAL=47]="GPS_LOCATION_EXTERNAL",t[t.LOCATION=48]="LOCATION",t[t.UI_NAVIGATION_EVENT=49]="UI_NAVIGATION_EVENT",t[t.LIVE_LOCATION_KALMAN=50]="LIVE_LOCATION_KALMAN",t[t.TEST_JOYSTICK=51]="TEST_JOYSTICK",t[t.ORB_ODOMETRY=52]="ORB_ODOMETRY",t[t.ORB_FEATURES=53]="ORB_FEATURES",t[t.APPLANIX_LOCATION=54]="APPLANIX_LOCATION",t[t.ORB_KEY_FRAME=55]="ORB_KEY_FRAME",t[t.UI_LAYOUT_STATE=56]="UI_LAYOUT_STATE",t[t.ORB_FEATURES_SUMMARY=57]="ORB_FEATURES_SUMMARY",t[t.DRIVER_MONITORING=58]="DRIVER_MONITORING",t[t.BOOT=59]="BOOT",t[t.LIVE_PARAMETERS=60]="LIVE_PARAMETERS",t[t.LIVE_MAP_DATA=61]="LIVE_MAP_DATA",t[t.CAMERA_ODOMETRY=62]="CAMERA_ODOMETRY",t[t.PATH_PLAN=63]="PATH_PLAN",t[t.KALMAN_ODOMETRY=64]="KALMAN_ODOMETRY",t[t.THUMBNAIL=65]="THUMBNAIL",t[t.CAR_EVENTS=66]="CAR_EVENTS",t[t.CAR_PARAMS=67]="CAR_PARAMS"}(Te=e.Event_Which||(e.Event_Which={}));var Me=function(t){function Event(){return null!==t&&t.apply(this,arguments)||this}return n(Event,t),Event.prototype.getLogMonoTime=function(){return i.Struct.getUint64(0,this)},Event.prototype.setLogMonoTime=function(t){i.Struct.setUint64(0,t,this)},Event.prototype.getValid=function(){return i.Struct.getBit(80,this,Event._capnp.defaultValid)},Event.prototype.setValid=function(t){i.Struct.setBit(80,t,this)},Event.prototype.adoptInitData=function(t){i.Struct.setUint16(8,0,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownInitData=function(){return i.Struct.disown(this.getInitData())},Event.prototype.getInitData=function(){return i.Struct.testWhich("initData",i.Struct.getUint16(8,this),0,this),i.Struct.getStruct(0,y,this)},Event.prototype.hasInitData=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initInitData=function(){return i.Struct.setUint16(8,0,this),i.Struct.initStructAt(0,y,this)},Event.prototype.isInitData=function(){return 0===i.Struct.getUint16(8,this)},Event.prototype.setInitData=function(t){i.Struct.setUint16(8,0,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptFrame=function(t){i.Struct.setUint16(8,1,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownFrame=function(){return i.Struct.disown(this.getFrame())},Event.prototype.getFrame=function(){return i.Struct.testWhich("frame",i.Struct.getUint16(8,this),1,this),i.Struct.getStruct(0,v,this)},Event.prototype.hasFrame=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initFrame=function(){return i.Struct.setUint16(8,1,this),i.Struct.initStructAt(0,v,this)},Event.prototype.isFrame=function(){return 1===i.Struct.getUint16(8,this)},Event.prototype.setFrame=function(t){i.Struct.setUint16(8,1,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptGpsNMEA=function(t){i.Struct.setUint16(8,2,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownGpsNMEA=function(){return i.Struct.disown(this.getGpsNMEA())},Event.prototype.getGpsNMEA=function(){return i.Struct.testWhich("gpsNMEA",i.Struct.getUint16(8,this),2,this),i.Struct.getStruct(0,b,this)},Event.prototype.hasGpsNMEA=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initGpsNMEA=function(){return i.Struct.setUint16(8,2,this),i.Struct.initStructAt(0,b,this)},Event.prototype.isGpsNMEA=function(){return 2===i.Struct.getUint16(8,this)},Event.prototype.setGpsNMEA=function(t){i.Struct.setUint16(8,2,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptSensorEventDEPRECATED=function(t){i.Struct.setUint16(8,3,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownSensorEventDEPRECATED=function(){return i.Struct.disown(this.getSensorEventDEPRECATED())},Event.prototype.getSensorEventDEPRECATED=function(){return i.Struct.testWhich("sensorEventDEPRECATED",i.Struct.getUint16(8,this),3,this),i.Struct.getStruct(0,P,this)},Event.prototype.hasSensorEventDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initSensorEventDEPRECATED=function(){return i.Struct.setUint16(8,3,this),i.Struct.initStructAt(0,P,this)},Event.prototype.isSensorEventDEPRECATED=function(){return 3===i.Struct.getUint16(8,this)},Event.prototype.setSensorEventDEPRECATED=function(t){i.Struct.setUint16(8,3,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCan=function(t){i.Struct.setUint16(8,4,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCan=function(){return i.Struct.disown(this.getCan())},Event.prototype.getCan=function(){return i.Struct.testWhich("can",i.Struct.getUint16(8,this),4,this),i.Struct.getList(0,Event._Can,this)},Event.prototype.hasCan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCan=function(t){return i.Struct.setUint16(8,4,this),i.Struct.initList(0,Event._Can,t,this)},Event.prototype.isCan=function(){return 4===i.Struct.getUint16(8,this)},Event.prototype.setCan=function(t){i.Struct.setUint16(8,4,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptThermal=function(t){i.Struct.setUint16(8,5,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownThermal=function(){return i.Struct.disown(this.getThermal())},Event.prototype.getThermal=function(){return i.Struct.testWhich("thermal",i.Struct.getUint16(8,this),5,this),i.Struct.getStruct(0,A,this)},Event.prototype.hasThermal=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initThermal=function(){return i.Struct.setUint16(8,5,this),i.Struct.initStructAt(0,A,this)},Event.prototype.isThermal=function(){return 5===i.Struct.getUint16(8,this)},Event.prototype.setThermal=function(t){i.Struct.setUint16(8,5,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptControlsState=function(t){i.Struct.setUint16(8,6,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownControlsState=function(){return i.Struct.disown(this.getControlsState())},Event.prototype.getControlsState=function(){return i.Struct.testWhich("controlsState",i.Struct.getUint16(8,this),6,this),i.Struct.getStruct(0,H,this)},Event.prototype.hasControlsState=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initControlsState=function(){return i.Struct.setUint16(8,6,this),i.Struct.initStructAt(0,H,this)},Event.prototype.isControlsState=function(){return 6===i.Struct.getUint16(8,this)},Event.prototype.setControlsState=function(t){i.Struct.setUint16(8,6,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveEventDEPRECATED=function(t){i.Struct.setUint16(8,7,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveEventDEPRECATED=function(){return i.Struct.disown(this.getLiveEventDEPRECATED())},Event.prototype.getLiveEventDEPRECATED=function(){return i.Struct.testWhich("liveEventDEPRECATED",i.Struct.getUint16(8,this),7,this),i.Struct.getList(0,Event._LiveEventDEPRECATED,this)},Event.prototype.hasLiveEventDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveEventDEPRECATED=function(t){return i.Struct.setUint16(8,7,this),i.Struct.initList(0,Event._LiveEventDEPRECATED,t,this)},Event.prototype.isLiveEventDEPRECATED=function(){return 7===i.Struct.getUint16(8,this)},Event.prototype.setLiveEventDEPRECATED=function(t){i.Struct.setUint16(8,7,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptModel=function(t){i.Struct.setUint16(8,8,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownModel=function(){return i.Struct.disown(this.getModel())},Event.prototype.getModel=function(){return i.Struct.testWhich("model",i.Struct.getUint16(8,this),8,this),i.Struct.getStruct(0,Q,this)},Event.prototype.hasModel=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initModel=function(){return i.Struct.setUint16(8,8,this),i.Struct.initStructAt(0,Q,this)},Event.prototype.isModel=function(){return 8===i.Struct.getUint16(8,this)},Event.prototype.setModel=function(t){i.Struct.setUint16(8,8,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptFeatures=function(t){i.Struct.setUint16(8,9,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownFeatures=function(){return i.Struct.disown(this.getFeatures())},Event.prototype.getFeatures=function(){return i.Struct.testWhich("features",i.Struct.getUint16(8,this),9,this),i.Struct.getStruct(0,J,this)},Event.prototype.hasFeatures=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initFeatures=function(){return i.Struct.setUint16(8,9,this),i.Struct.initStructAt(0,J,this)},Event.prototype.isFeatures=function(){return 9===i.Struct.getUint16(8,this)},Event.prototype.setFeatures=function(t){i.Struct.setUint16(8,9,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptSensorEvents=function(t){i.Struct.setUint16(8,10,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownSensorEvents=function(){return i.Struct.disown(this.getSensorEvents())},Event.prototype.getSensorEvents=function(){return i.Struct.testWhich("sensorEvents",i.Struct.getUint16(8,this),10,this),i.Struct.getList(0,Event._SensorEvents,this)},Event.prototype.hasSensorEvents=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initSensorEvents=function(t){return i.Struct.setUint16(8,10,this),i.Struct.initList(0,Event._SensorEvents,t,this)},Event.prototype.isSensorEvents=function(){return 10===i.Struct.getUint16(8,this)},Event.prototype.setSensorEvents=function(t){i.Struct.setUint16(8,10,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptHealth=function(t){i.Struct.setUint16(8,11,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownHealth=function(){return i.Struct.disown(this.getHealth())},Event.prototype.getHealth=function(){return i.Struct.testWhich("health",i.Struct.getUint16(8,this),11,this),i.Struct.getStruct(0,R,this)},Event.prototype.hasHealth=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initHealth=function(){return i.Struct.setUint16(8,11,this),i.Struct.initStructAt(0,R,this)},Event.prototype.isHealth=function(){return 11===i.Struct.getUint16(8,this)},Event.prototype.setHealth=function(t){i.Struct.setUint16(8,11,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptRadarState=function(t){i.Struct.setUint16(8,12,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownRadarState=function(){return i.Struct.disown(this.getRadarState())},Event.prototype.getRadarState=function(){return i.Struct.testWhich("radarState",i.Struct.getUint16(8,this),12,this),i.Struct.getStruct(0,O,this)},Event.prototype.hasRadarState=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initRadarState=function(){return i.Struct.setUint16(8,12,this),i.Struct.initStructAt(0,O,this)},Event.prototype.isRadarState=function(){return 12===i.Struct.getUint16(8,this)},Event.prototype.setRadarState=function(t){i.Struct.setUint16(8,12,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveUIDEPRECATED=function(t){i.Struct.setUint16(8,13,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveUIDEPRECATED=function(){return i.Struct.disown(this.getLiveUIDEPRECATED())},Event.prototype.getLiveUIDEPRECATED=function(){return i.Struct.testWhich("liveUIDEPRECATED",i.Struct.getUint16(8,this),13,this),i.Struct.getStruct(0,L,this)},Event.prototype.hasLiveUIDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveUIDEPRECATED=function(){return i.Struct.setUint16(8,13,this),i.Struct.initStructAt(0,L,this)},Event.prototype.isLiveUIDEPRECATED=function(){return 13===i.Struct.getUint16(8,this)},Event.prototype.setLiveUIDEPRECATED=function(t){i.Struct.setUint16(8,13,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptEncodeIdx=function(t){i.Struct.setUint16(8,14,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownEncodeIdx=function(){return i.Struct.disown(this.getEncodeIdx())},Event.prototype.getEncodeIdx=function(){return i.Struct.testWhich("encodeIdx",i.Struct.getUint16(8,this),14,this),i.Struct.getStruct(0,tt,this)},Event.prototype.hasEncodeIdx=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initEncodeIdx=function(){return i.Struct.setUint16(8,14,this),i.Struct.initStructAt(0,tt,this)},Event.prototype.isEncodeIdx=function(){return 14===i.Struct.getUint16(8,this)},Event.prototype.setEncodeIdx=function(t){i.Struct.setUint16(8,14,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveTracks=function(t){i.Struct.setUint16(8,15,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveTracks=function(){return i.Struct.disown(this.getLiveTracks())},Event.prototype.getLiveTracks=function(){return i.Struct.testWhich("liveTracks",i.Struct.getUint16(8,this),15,this),i.Struct.getList(0,Event._LiveTracks,this)},Event.prototype.hasLiveTracks=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveTracks=function(t){return i.Struct.setUint16(8,15,this),i.Struct.initList(0,Event._LiveTracks,t,this)},Event.prototype.isLiveTracks=function(){return 15===i.Struct.getUint16(8,this)},Event.prototype.setLiveTracks=function(t){i.Struct.setUint16(8,15,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptSendcan=function(t){i.Struct.setUint16(8,16,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownSendcan=function(){return i.Struct.disown(this.getSendcan())},Event.prototype.getSendcan=function(){return i.Struct.testWhich("sendcan",i.Struct.getUint16(8,this),16,this),i.Struct.getList(0,Event._Sendcan,this)},Event.prototype.hasSendcan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initSendcan=function(t){return i.Struct.setUint16(8,16,this),i.Struct.initList(0,Event._Sendcan,t,this)},Event.prototype.isSendcan=function(){return 16===i.Struct.getUint16(8,this)},Event.prototype.setSendcan=function(t){i.Struct.setUint16(8,16,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.getLogMessage=function(){return i.Struct.testWhich("logMessage",i.Struct.getUint16(8,this),17,this),i.Struct.getText(0,this)},Event.prototype.isLogMessage=function(){return 17===i.Struct.getUint16(8,this)},Event.prototype.setLogMessage=function(t){i.Struct.setUint16(8,17,this),i.Struct.setText(0,t,this)},Event.prototype.adoptLiveCalibration=function(t){i.Struct.setUint16(8,18,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveCalibration=function(){return i.Struct.disown(this.getLiveCalibration())},Event.prototype.getLiveCalibration=function(){return i.Struct.testWhich("liveCalibration",i.Struct.getUint16(8,this),18,this),i.Struct.getStruct(0,k,this)},Event.prototype.hasLiveCalibration=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveCalibration=function(){return i.Struct.setUint16(8,18,this),i.Struct.initStructAt(0,k,this)},Event.prototype.isLiveCalibration=function(){return 18===i.Struct.getUint16(8,this)},Event.prototype.setLiveCalibration=function(t){i.Struct.setUint16(8,18,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptAndroidLogEntry=function(t){i.Struct.setUint16(8,19,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownAndroidLogEntry=function(){return i.Struct.disown(this.getAndroidLogEntry())},Event.prototype.getAndroidLogEntry=function(){return i.Struct.testWhich("androidLogEntry",i.Struct.getUint16(8,this),19,this),i.Struct.getStruct(0,et,this)},Event.prototype.hasAndroidLogEntry=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initAndroidLogEntry=function(){return i.Struct.setUint16(8,19,this),i.Struct.initStructAt(0,et,this)},Event.prototype.isAndroidLogEntry=function(){return 19===i.Struct.getUint16(8,this)},Event.prototype.setAndroidLogEntry=function(t){i.Struct.setUint16(8,19,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptGpsLocation=function(t){i.Struct.setUint16(8,20,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownGpsLocation=function(){return i.Struct.disown(this.getGpsLocation())},Event.prototype.getGpsLocation=function(){return i.Struct.testWhich("gpsLocation",i.Struct.getUint16(8,this),20,this),i.Struct.getStruct(0,C,this)},Event.prototype.hasGpsLocation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initGpsLocation=function(){return i.Struct.setUint16(8,20,this),i.Struct.initStructAt(0,C,this)},Event.prototype.isGpsLocation=function(){return 20===i.Struct.getUint16(8,this)},Event.prototype.setGpsLocation=function(t){i.Struct.setUint16(8,20,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCarState=function(t){i.Struct.setUint16(8,21,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCarState=function(){return i.Struct.disown(this.getCarState())},Event.prototype.getCarState=function(){return i.Struct.testWhich("carState",i.Struct.getUint16(8,this),21,this),i.Struct.getStruct(0,a.CarState,this)},Event.prototype.hasCarState=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCarState=function(){return i.Struct.setUint16(8,21,this),i.Struct.initStructAt(0,a.CarState,this)},Event.prototype.isCarState=function(){return 21===i.Struct.getUint16(8,this)},Event.prototype.setCarState=function(t){i.Struct.setUint16(8,21,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCarControl=function(t){i.Struct.setUint16(8,22,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCarControl=function(){return i.Struct.disown(this.getCarControl())},Event.prototype.getCarControl=function(){return i.Struct.testWhich("carControl",i.Struct.getUint16(8,this),22,this),i.Struct.getStruct(0,a.CarControl,this)},Event.prototype.hasCarControl=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCarControl=function(){return i.Struct.setUint16(8,22,this),i.Struct.initStructAt(0,a.CarControl,this)},Event.prototype.isCarControl=function(){return 22===i.Struct.getUint16(8,this)},Event.prototype.setCarControl=function(t){i.Struct.setUint16(8,22,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptPlan=function(t){i.Struct.setUint16(8,23,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownPlan=function(){return i.Struct.disown(this.getPlan())},Event.prototype.getPlan=function(){return i.Struct.testWhich("plan",i.Struct.getUint16(8,this),23,this),i.Struct.getStruct(0,it,this)},Event.prototype.hasPlan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initPlan=function(){return i.Struct.setUint16(8,23,this),i.Struct.initStructAt(0,it,this)},Event.prototype.isPlan=function(){return 23===i.Struct.getUint16(8,this)},Event.prototype.setPlan=function(t){i.Struct.setUint16(8,23,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveLocation=function(t){i.Struct.setUint16(8,24,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveLocation=function(){return i.Struct.disown(this.getLiveLocation())},Event.prototype.getLiveLocation=function(){return i.Struct.testWhich("liveLocation",i.Struct.getUint16(8,this),24,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasLiveLocation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveLocation=function(){return i.Struct.setUint16(8,24,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isLiveLocation=function(){return 24===i.Struct.getUint16(8,this)},Event.prototype.setLiveLocation=function(t){i.Struct.setUint16(8,24,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptEthernetData=function(t){i.Struct.setUint16(8,25,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownEthernetData=function(){return i.Struct.disown(this.getEthernetData())},Event.prototype.getEthernetData=function(){return i.Struct.testWhich("ethernetData",i.Struct.getUint16(8,this),25,this),i.Struct.getList(0,Event._EthernetData,this)},Event.prototype.hasEthernetData=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initEthernetData=function(t){return i.Struct.setUint16(8,25,this),i.Struct.initList(0,Event._EthernetData,t,this)},Event.prototype.isEthernetData=function(){return 25===i.Struct.getUint16(8,this)},Event.prototype.setEthernetData=function(t){i.Struct.setUint16(8,25,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptNavUpdate=function(t){i.Struct.setUint16(8,26,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownNavUpdate=function(){return i.Struct.disown(this.getNavUpdate())},Event.prototype.getNavUpdate=function(){return i.Struct.testWhich("navUpdate",i.Struct.getUint16(8,this),26,this),i.Struct.getStruct(0,ht,this)},Event.prototype.hasNavUpdate=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initNavUpdate=function(){return i.Struct.setUint16(8,26,this),i.Struct.initStructAt(0,ht,this)},Event.prototype.isNavUpdate=function(){return 26===i.Struct.getUint16(8,this)},Event.prototype.setNavUpdate=function(t){i.Struct.setUint16(8,26,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCellInfo=function(t){i.Struct.setUint16(8,27,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCellInfo=function(){return i.Struct.disown(this.getCellInfo())},Event.prototype.getCellInfo=function(){return i.Struct.testWhich("cellInfo",i.Struct.getUint16(8,this),27,this),i.Struct.getList(0,Event._CellInfo,this)},Event.prototype.hasCellInfo=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCellInfo=function(t){return i.Struct.setUint16(8,27,this),i.Struct.initList(0,Event._CellInfo,t,this)},Event.prototype.isCellInfo=function(){return 27===i.Struct.getUint16(8,this)},Event.prototype.setCellInfo=function(t){i.Struct.setUint16(8,27,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptWifiScan=function(t){i.Struct.setUint16(8,28,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownWifiScan=function(){return i.Struct.disown(this.getWifiScan())},Event.prototype.getWifiScan=function(){return i.Struct.testWhich("wifiScan",i.Struct.getUint16(8,this),28,this),i.Struct.getList(0,Event._WifiScan,this)},Event.prototype.hasWifiScan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initWifiScan=function(t){return i.Struct.setUint16(8,28,this),i.Struct.initList(0,Event._WifiScan,t,this)},Event.prototype.isWifiScan=function(){return 28===i.Struct.getUint16(8,this)},Event.prototype.setWifiScan=function(t){i.Struct.setUint16(8,28,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptAndroidGnss=function(t){i.Struct.setUint16(8,29,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownAndroidGnss=function(){return i.Struct.disown(this.getAndroidGnss())},Event.prototype.getAndroidGnss=function(){return i.Struct.testWhich("androidGnss",i.Struct.getUint16(8,this),29,this),i.Struct.getStruct(0,Rt,this)},Event.prototype.hasAndroidGnss=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initAndroidGnss=function(){return i.Struct.setUint16(8,29,this),i.Struct.initStructAt(0,Rt,this)},Event.prototype.isAndroidGnss=function(){return 29===i.Struct.getUint16(8,this)},Event.prototype.setAndroidGnss=function(t){i.Struct.setUint16(8,29,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptQcomGnss=function(t){i.Struct.setUint16(8,30,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownQcomGnss=function(){return i.Struct.disown(this.getQcomGnss())},Event.prototype.getQcomGnss=function(){return i.Struct.testWhich("qcomGnss",i.Struct.getUint16(8,this),30,this),i.Struct.getStruct(0,zt,this)},Event.prototype.hasQcomGnss=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initQcomGnss=function(){return i.Struct.setUint16(8,30,this),i.Struct.initStructAt(0,zt,this)},Event.prototype.isQcomGnss=function(){return 30===i.Struct.getUint16(8,this)},Event.prototype.setQcomGnss=function(t){i.Struct.setUint16(8,30,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLidarPts=function(t){i.Struct.setUint16(8,31,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLidarPts=function(){return i.Struct.disown(this.getLidarPts())},Event.prototype.getLidarPts=function(){return i.Struct.testWhich("lidarPts",i.Struct.getUint16(8,this),31,this),i.Struct.getStruct(0,jt,this)},Event.prototype.hasLidarPts=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLidarPts=function(){return i.Struct.setUint16(8,31,this),i.Struct.initStructAt(0,jt,this)},Event.prototype.isLidarPts=function(){return 31===i.Struct.getUint16(8,this)},Event.prototype.setLidarPts=function(t){i.Struct.setUint16(8,31,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptProcLog=function(t){i.Struct.setUint16(8,32,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownProcLog=function(){return i.Struct.disown(this.getProcLog())},Event.prototype.getProcLog=function(){return i.Struct.testWhich("procLog",i.Struct.getUint16(8,this),32,this),i.Struct.getStruct(0,qt,this)},Event.prototype.hasProcLog=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initProcLog=function(){return i.Struct.setUint16(8,32,this),i.Struct.initStructAt(0,qt,this)},Event.prototype.isProcLog=function(){return 32===i.Struct.getUint16(8,this)},Event.prototype.setProcLog=function(t){i.Struct.setUint16(8,32,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptUbloxGnss=function(t){i.Struct.setUint16(8,33,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownUbloxGnss=function(){return i.Struct.disown(this.getUbloxGnss())},Event.prototype.getUbloxGnss=function(){return i.Struct.testWhich("ubloxGnss",i.Struct.getUint16(8,this),33,this),i.Struct.getStruct(0,Jt,this)},Event.prototype.hasUbloxGnss=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initUbloxGnss=function(){return i.Struct.setUint16(8,33,this),i.Struct.initStructAt(0,Jt,this)},Event.prototype.isUbloxGnss=function(){return 33===i.Struct.getUint16(8,this)},Event.prototype.setUbloxGnss=function(t){i.Struct.setUint16(8,33,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptClocks=function(t){i.Struct.setUint16(8,34,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownClocks=function(){return i.Struct.disown(this.getClocks())},Event.prototype.getClocks=function(){return i.Struct.testWhich("clocks",i.Struct.getUint16(8,this),34,this),i.Struct.getStruct(0,te,this)},Event.prototype.hasClocks=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initClocks=function(){return i.Struct.setUint16(8,34,this),i.Struct.initStructAt(0,te,this)},Event.prototype.isClocks=function(){return 34===i.Struct.getUint16(8,this)},Event.prototype.setClocks=function(t){i.Struct.setUint16(8,34,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveMpc=function(t){i.Struct.setUint16(8,35,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveMpc=function(){return i.Struct.disown(this.getLiveMpc())},Event.prototype.getLiveMpc=function(){return i.Struct.testWhich("liveMpc",i.Struct.getUint16(8,this),35,this),i.Struct.getStruct(0,ee,this)},Event.prototype.hasLiveMpc=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveMpc=function(){return i.Struct.setUint16(8,35,this),i.Struct.initStructAt(0,ee,this)},Event.prototype.isLiveMpc=function(){return 35===i.Struct.getUint16(8,this)},Event.prototype.setLiveMpc=function(t){i.Struct.setUint16(8,35,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveLongitudinalMpc=function(t){i.Struct.setUint16(8,36,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveLongitudinalMpc=function(){return i.Struct.disown(this.getLiveLongitudinalMpc())},Event.prototype.getLiveLongitudinalMpc=function(){return i.Struct.testWhich("liveLongitudinalMpc",i.Struct.getUint16(8,this),36,this),i.Struct.getStruct(0,re,this)},Event.prototype.hasLiveLongitudinalMpc=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveLongitudinalMpc=function(){return i.Struct.setUint16(8,36,this),i.Struct.initStructAt(0,re,this)},Event.prototype.isLiveLongitudinalMpc=function(){return 36===i.Struct.getUint16(8,this)},Event.prototype.setLiveLongitudinalMpc=function(t){i.Struct.setUint16(8,36,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptNavStatus=function(t){i.Struct.setUint16(8,37,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownNavStatus=function(){return i.Struct.disown(this.getNavStatus())},Event.prototype.getNavStatus=function(){return i.Struct.testWhich("navStatus",i.Struct.getUint16(8,this),37,this),i.Struct.getStruct(0,yt,this)},Event.prototype.hasNavStatus=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initNavStatus=function(){return i.Struct.setUint16(8,37,this),i.Struct.initStructAt(0,yt,this)},Event.prototype.isNavStatus=function(){return 37===i.Struct.getUint16(8,this)},Event.prototype.setNavStatus=function(t){i.Struct.setUint16(8,37,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptUbloxRaw=function(t){i.Struct.setUint16(8,38,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownUbloxRaw=function(){return i.Struct.disown(this.getUbloxRaw())},Event.prototype.getUbloxRaw=function(){return i.Struct.testWhich("ubloxRaw",i.Struct.getUint16(8,this),38,this),i.Struct.getData(0,this)},Event.prototype.hasUbloxRaw=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initUbloxRaw=function(t){return i.Struct.setUint16(8,38,this),i.Struct.initData(0,t,this)},Event.prototype.isUbloxRaw=function(){return 38===i.Struct.getUint16(8,this)},Event.prototype.setUbloxRaw=function(t){i.Struct.setUint16(8,38,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptGpsPlannerPoints=function(t){i.Struct.setUint16(8,39,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownGpsPlannerPoints=function(){return i.Struct.disown(this.getGpsPlannerPoints())},Event.prototype.getGpsPlannerPoints=function(){return i.Struct.testWhich("gpsPlannerPoints",i.Struct.getUint16(8,this),39,this),i.Struct.getStruct(0,ie,this)},Event.prototype.hasGpsPlannerPoints=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initGpsPlannerPoints=function(){return i.Struct.setUint16(8,39,this),i.Struct.initStructAt(0,ie,this)},Event.prototype.isGpsPlannerPoints=function(){return 39===i.Struct.getUint16(8,this)},Event.prototype.setGpsPlannerPoints=function(t){i.Struct.setUint16(8,39,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptGpsPlannerPlan=function(t){i.Struct.setUint16(8,40,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownGpsPlannerPlan=function(){return i.Struct.disown(this.getGpsPlannerPlan())},Event.prototype.getGpsPlannerPlan=function(){return i.Struct.testWhich("gpsPlannerPlan",i.Struct.getUint16(8,this),40,this),i.Struct.getStruct(0,ue,this)},Event.prototype.hasGpsPlannerPlan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initGpsPlannerPlan=function(){return i.Struct.setUint16(8,40,this),i.Struct.initStructAt(0,ue,this)},Event.prototype.isGpsPlannerPlan=function(){return 40===i.Struct.getUint16(8,this)},Event.prototype.setGpsPlannerPlan=function(t){i.Struct.setUint16(8,40,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptApplanixRaw=function(t){i.Struct.setUint16(8,41,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownApplanixRaw=function(){return i.Struct.disown(this.getApplanixRaw())},Event.prototype.getApplanixRaw=function(){return i.Struct.testWhich("applanixRaw",i.Struct.getUint16(8,this),41,this),i.Struct.getData(0,this)},Event.prototype.hasApplanixRaw=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initApplanixRaw=function(t){return i.Struct.setUint16(8,41,this),i.Struct.initData(0,t,this)},Event.prototype.isApplanixRaw=function(){return 41===i.Struct.getUint16(8,this)},Event.prototype.setApplanixRaw=function(t){i.Struct.setUint16(8,41,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptTrafficEvents=function(t){i.Struct.setUint16(8,42,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownTrafficEvents=function(){return i.Struct.disown(this.getTrafficEvents())},Event.prototype.getTrafficEvents=function(){return i.Struct.testWhich("trafficEvents",i.Struct.getUint16(8,this),42,this),i.Struct.getList(0,Event._TrafficEvents,this)},Event.prototype.hasTrafficEvents=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initTrafficEvents=function(t){return i.Struct.setUint16(8,42,this),i.Struct.initList(0,Event._TrafficEvents,t,this)},Event.prototype.isTrafficEvents=function(){return 42===i.Struct.getUint16(8,this)},Event.prototype.setTrafficEvents=function(t){i.Struct.setUint16(8,42,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveLocationTiming=function(t){i.Struct.setUint16(8,43,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveLocationTiming=function(){return i.Struct.disown(this.getLiveLocationTiming())},Event.prototype.getLiveLocationTiming=function(){return i.Struct.testWhich("liveLocationTiming",i.Struct.getUint16(8,this),43,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasLiveLocationTiming=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveLocationTiming=function(){return i.Struct.setUint16(8,43,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isLiveLocationTiming=function(){return 43===i.Struct.getUint16(8,this)},Event.prototype.setLiveLocationTiming=function(t){i.Struct.setUint16(8,43,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbslamCorrectionDEPRECATED=function(t){i.Struct.setUint16(8,44,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbslamCorrectionDEPRECATED=function(){return i.Struct.disown(this.getOrbslamCorrectionDEPRECATED())},Event.prototype.getOrbslamCorrectionDEPRECATED=function(){return i.Struct.testWhich("orbslamCorrectionDEPRECATED",i.Struct.getUint16(8,this),44,this),i.Struct.getStruct(0,ce,this)},Event.prototype.hasOrbslamCorrectionDEPRECATED=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbslamCorrectionDEPRECATED=function(){return i.Struct.setUint16(8,44,this),i.Struct.initStructAt(0,ce,this)},Event.prototype.isOrbslamCorrectionDEPRECATED=function(){return 44===i.Struct.getUint16(8,this)},Event.prototype.setOrbslamCorrectionDEPRECATED=function(t){i.Struct.setUint16(8,44,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveLocationCorrected=function(t){i.Struct.setUint16(8,45,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveLocationCorrected=function(){return i.Struct.disown(this.getLiveLocationCorrected())},Event.prototype.getLiveLocationCorrected=function(){return i.Struct.testWhich("liveLocationCorrected",i.Struct.getUint16(8,this),45,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasLiveLocationCorrected=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveLocationCorrected=function(){return i.Struct.setUint16(8,45,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isLiveLocationCorrected=function(){return 45===i.Struct.getUint16(8,this)},Event.prototype.setLiveLocationCorrected=function(t){i.Struct.setUint16(8,45,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbObservation=function(t){i.Struct.setUint16(8,46,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbObservation=function(){return i.Struct.disown(this.getOrbObservation())},Event.prototype.getOrbObservation=function(){return i.Struct.testWhich("orbObservation",i.Struct.getUint16(8,this),46,this),i.Struct.getList(0,Event._OrbObservation,this)},Event.prototype.hasOrbObservation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbObservation=function(t){return i.Struct.setUint16(8,46,this),i.Struct.initList(0,Event._OrbObservation,t,this)},Event.prototype.isOrbObservation=function(){return 46===i.Struct.getUint16(8,this)},Event.prototype.setOrbObservation=function(t){i.Struct.setUint16(8,46,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptGpsLocationExternal=function(t){i.Struct.setUint16(8,47,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownGpsLocationExternal=function(){return i.Struct.disown(this.getGpsLocationExternal())},Event.prototype.getGpsLocationExternal=function(){return i.Struct.testWhich("gpsLocationExternal",i.Struct.getUint16(8,this),47,this),i.Struct.getStruct(0,C,this)},Event.prototype.hasGpsLocationExternal=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initGpsLocationExternal=function(){return i.Struct.setUint16(8,47,this),i.Struct.initStructAt(0,C,this)},Event.prototype.isGpsLocationExternal=function(){return 47===i.Struct.getUint16(8,this)},Event.prototype.setGpsLocationExternal=function(t){i.Struct.setUint16(8,47,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLocation=function(t){i.Struct.setUint16(8,48,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLocation=function(){return i.Struct.disown(this.getLocation())},Event.prototype.getLocation=function(){return i.Struct.testWhich("location",i.Struct.getUint16(8,this),48,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasLocation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLocation=function(){return i.Struct.setUint16(8,48,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isLocation=function(){return 48===i.Struct.getUint16(8,this)},Event.prototype.setLocation=function(t){i.Struct.setUint16(8,48,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptUiNavigationEvent=function(t){i.Struct.setUint16(8,49,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownUiNavigationEvent=function(){return i.Struct.disown(this.getUiNavigationEvent())},Event.prototype.getUiNavigationEvent=function(){return i.Struct.testWhich("uiNavigationEvent",i.Struct.getUint16(8,this),49,this),i.Struct.getStruct(0,me,this)},Event.prototype.hasUiNavigationEvent=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initUiNavigationEvent=function(){return i.Struct.setUint16(8,49,this),i.Struct.initStructAt(0,me,this)},Event.prototype.isUiNavigationEvent=function(){return 49===i.Struct.getUint16(8,this)},Event.prototype.setUiNavigationEvent=function(t){i.Struct.setUint16(8,49,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveLocationKalman=function(t){i.Struct.setUint16(8,50,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveLocationKalman=function(){return i.Struct.disown(this.getLiveLocationKalman())},Event.prototype.getLiveLocationKalman=function(){return i.Struct.testWhich("liveLocationKalman",i.Struct.getUint16(8,this),50,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasLiveLocationKalman=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveLocationKalman=function(){return i.Struct.setUint16(8,50,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isLiveLocationKalman=function(){return 50===i.Struct.getUint16(8,this)},Event.prototype.setLiveLocationKalman=function(t){i.Struct.setUint16(8,50,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptTestJoystick=function(t){i.Struct.setUint16(8,51,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownTestJoystick=function(){return i.Struct.disown(this.getTestJoystick())},Event.prototype.getTestJoystick=function(){return i.Struct.testWhich("testJoystick",i.Struct.getUint16(8,this),51,this),i.Struct.getStruct(0,ge,this)},Event.prototype.hasTestJoystick=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initTestJoystick=function(){return i.Struct.setUint16(8,51,this),i.Struct.initStructAt(0,ge,this)},Event.prototype.isTestJoystick=function(){return 51===i.Struct.getUint16(8,this)},Event.prototype.setTestJoystick=function(t){i.Struct.setUint16(8,51,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbOdometry=function(t){i.Struct.setUint16(8,52,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbOdometry=function(){return i.Struct.disown(this.getOrbOdometry())},Event.prototype.getOrbOdometry=function(){return i.Struct.testWhich("orbOdometry",i.Struct.getUint16(8,this),52,this),i.Struct.getStruct(0,ve,this)},Event.prototype.hasOrbOdometry=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbOdometry=function(){return i.Struct.setUint16(8,52,this),i.Struct.initStructAt(0,ve,this)},Event.prototype.isOrbOdometry=function(){return 52===i.Struct.getUint16(8,this)},Event.prototype.setOrbOdometry=function(t){i.Struct.setUint16(8,52,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbFeatures=function(t){i.Struct.setUint16(8,53,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbFeatures=function(){return i.Struct.disown(this.getOrbFeatures())},Event.prototype.getOrbFeatures=function(){return i.Struct.testWhich("orbFeatures",i.Struct.getUint16(8,this),53,this),i.Struct.getStruct(0,_e,this)},Event.prototype.hasOrbFeatures=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbFeatures=function(){return i.Struct.setUint16(8,53,this),i.Struct.initStructAt(0,_e,this)},Event.prototype.isOrbFeatures=function(){return 53===i.Struct.getUint16(8,this)},Event.prototype.setOrbFeatures=function(t){i.Struct.setUint16(8,53,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptApplanixLocation=function(t){i.Struct.setUint16(8,54,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownApplanixLocation=function(){return i.Struct.disown(this.getApplanixLocation())},Event.prototype.getApplanixLocation=function(){return i.Struct.testWhich("applanixLocation",i.Struct.getUint16(8,this),54,this),i.Struct.getStruct(0,lt,this)},Event.prototype.hasApplanixLocation=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initApplanixLocation=function(){return i.Struct.setUint16(8,54,this),i.Struct.initStructAt(0,lt,this)},Event.prototype.isApplanixLocation=function(){return 54===i.Struct.getUint16(8,this)},Event.prototype.setApplanixLocation=function(t){i.Struct.setUint16(8,54,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbKeyFrame=function(t){i.Struct.setUint16(8,55,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbKeyFrame=function(){return i.Struct.disown(this.getOrbKeyFrame())},Event.prototype.getOrbKeyFrame=function(){return i.Struct.testWhich("orbKeyFrame",i.Struct.getUint16(8,this),55,this),i.Struct.getStruct(0,Se,this)},Event.prototype.hasOrbKeyFrame=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbKeyFrame=function(){return i.Struct.setUint16(8,55,this),i.Struct.initStructAt(0,Se,this)},Event.prototype.isOrbKeyFrame=function(){return 55===i.Struct.getUint16(8,this)},Event.prototype.setOrbKeyFrame=function(t){i.Struct.setUint16(8,55,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptUiLayoutState=function(t){i.Struct.setUint16(8,56,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownUiLayoutState=function(){return i.Struct.disown(this.getUiLayoutState())},Event.prototype.getUiLayoutState=function(){return i.Struct.testWhich("uiLayoutState",i.Struct.getUint16(8,this),56,this),i.Struct.getStruct(0,ye,this)},Event.prototype.hasUiLayoutState=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initUiLayoutState=function(){return i.Struct.setUint16(8,56,this),i.Struct.initStructAt(0,ye,this)},Event.prototype.isUiLayoutState=function(){return 56===i.Struct.getUint16(8,this)},Event.prototype.setUiLayoutState=function(t){i.Struct.setUint16(8,56,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptOrbFeaturesSummary=function(t){i.Struct.setUint16(8,57,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownOrbFeaturesSummary=function(){return i.Struct.disown(this.getOrbFeaturesSummary())},Event.prototype.getOrbFeaturesSummary=function(){return i.Struct.testWhich("orbFeaturesSummary",i.Struct.getUint16(8,this),57,this),i.Struct.getStruct(0,be,this)},Event.prototype.hasOrbFeaturesSummary=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initOrbFeaturesSummary=function(){return i.Struct.setUint16(8,57,this),i.Struct.initStructAt(0,be,this)},Event.prototype.isOrbFeaturesSummary=function(){return 57===i.Struct.getUint16(8,this)},Event.prototype.setOrbFeaturesSummary=function(t){i.Struct.setUint16(8,57,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptDriverMonitoring=function(t){i.Struct.setUint16(8,58,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownDriverMonitoring=function(){return i.Struct.disown(this.getDriverMonitoring())},Event.prototype.getDriverMonitoring=function(){return i.Struct.testWhich("driverMonitoring",i.Struct.getUint16(8,this),58,this),i.Struct.getStruct(0,xe,this)},Event.prototype.hasDriverMonitoring=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initDriverMonitoring=function(){return i.Struct.setUint16(8,58,this),i.Struct.initStructAt(0,xe,this)},Event.prototype.isDriverMonitoring=function(){return 58===i.Struct.getUint16(8,this)},Event.prototype.setDriverMonitoring=function(t){i.Struct.setUint16(8,58,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptBoot=function(t){i.Struct.setUint16(8,59,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownBoot=function(){return i.Struct.disown(this.getBoot())},Event.prototype.getBoot=function(){return i.Struct.testWhich("boot",i.Struct.getUint16(8,this),59,this),i.Struct.getStruct(0,we,this)},Event.prototype.hasBoot=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initBoot=function(){return i.Struct.setUint16(8,59,this),i.Struct.initStructAt(0,we,this)},Event.prototype.isBoot=function(){return 59===i.Struct.getUint16(8,this)},Event.prototype.setBoot=function(t){i.Struct.setUint16(8,59,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveParameters=function(t){i.Struct.setUint16(8,60,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveParameters=function(){return i.Struct.disown(this.getLiveParameters())},Event.prototype.getLiveParameters=function(){return i.Struct.testWhich("liveParameters",i.Struct.getUint16(8,this),60,this),i.Struct.getStruct(0,Ee,this)},Event.prototype.hasLiveParameters=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveParameters=function(){return i.Struct.setUint16(8,60,this),i.Struct.initStructAt(0,Ee,this)},Event.prototype.isLiveParameters=function(){return 60===i.Struct.getUint16(8,this)},Event.prototype.setLiveParameters=function(t){i.Struct.setUint16(8,60,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptLiveMapData=function(t){i.Struct.setUint16(8,61,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownLiveMapData=function(){return i.Struct.disown(this.getLiveMapData())},Event.prototype.getLiveMapData=function(){return i.Struct.testWhich("liveMapData",i.Struct.getUint16(8,this),61,this),i.Struct.getStruct(0,Pe,this)},Event.prototype.hasLiveMapData=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initLiveMapData=function(){return i.Struct.setUint16(8,61,this),i.Struct.initStructAt(0,Pe,this)},Event.prototype.isLiveMapData=function(){return 61===i.Struct.getUint16(8,this)},Event.prototype.setLiveMapData=function(t){i.Struct.setUint16(8,61,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCameraOdometry=function(t){i.Struct.setUint16(8,62,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCameraOdometry=function(){return i.Struct.disown(this.getCameraOdometry())},Event.prototype.getCameraOdometry=function(){return i.Struct.testWhich("cameraOdometry",i.Struct.getUint16(8,this),62,this),i.Struct.getStruct(0,Ce,this)},Event.prototype.hasCameraOdometry=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCameraOdometry=function(){return i.Struct.setUint16(8,62,this),i.Struct.initStructAt(0,Ce,this)},Event.prototype.isCameraOdometry=function(){return 62===i.Struct.getUint16(8,this)},Event.prototype.setCameraOdometry=function(t){i.Struct.setUint16(8,62,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptPathPlan=function(t){i.Struct.setUint16(8,63,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownPathPlan=function(){return i.Struct.disown(this.getPathPlan())},Event.prototype.getPathPlan=function(){return i.Struct.testWhich("pathPlan",i.Struct.getUint16(8,this),63,this),i.Struct.getStruct(0,at,this)},Event.prototype.hasPathPlan=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initPathPlan=function(){return i.Struct.setUint16(8,63,this),i.Struct.initStructAt(0,at,this)},Event.prototype.isPathPlan=function(){return 63===i.Struct.getUint16(8,this)},Event.prototype.setPathPlan=function(t){i.Struct.setUint16(8,63,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptKalmanOdometry=function(t){i.Struct.setUint16(8,64,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownKalmanOdometry=function(){return i.Struct.disown(this.getKalmanOdometry())},Event.prototype.getKalmanOdometry=function(){return i.Struct.testWhich("kalmanOdometry",i.Struct.getUint16(8,this),64,this),i.Struct.getStruct(0,De,this)},Event.prototype.hasKalmanOdometry=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initKalmanOdometry=function(){return i.Struct.setUint16(8,64,this),i.Struct.initStructAt(0,De,this)},Event.prototype.isKalmanOdometry=function(){return 64===i.Struct.getUint16(8,this)},Event.prototype.setKalmanOdometry=function(t){i.Struct.setUint16(8,64,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptThumbnail=function(t){i.Struct.setUint16(8,65,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownThumbnail=function(){return i.Struct.disown(this.getThumbnail())},Event.prototype.getThumbnail=function(){return i.Struct.testWhich("thumbnail",i.Struct.getUint16(8,this),65,this),i.Struct.getStruct(0,_,this)},Event.prototype.hasThumbnail=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initThumbnail=function(){return i.Struct.setUint16(8,65,this),i.Struct.initStructAt(0,_,this)},Event.prototype.isThumbnail=function(){return 65===i.Struct.getUint16(8,this)},Event.prototype.setThumbnail=function(t){i.Struct.setUint16(8,65,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCarEvents=function(t){i.Struct.setUint16(8,66,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCarEvents=function(){return i.Struct.disown(this.getCarEvents())},Event.prototype.getCarEvents=function(){return i.Struct.testWhich("carEvents",i.Struct.getUint16(8,this),66,this),i.Struct.getList(0,Event._CarEvents,this)},Event.prototype.hasCarEvents=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCarEvents=function(t){return i.Struct.setUint16(8,66,this),i.Struct.initList(0,Event._CarEvents,t,this)},Event.prototype.isCarEvents=function(){return 66===i.Struct.getUint16(8,this)},Event.prototype.setCarEvents=function(t){i.Struct.setUint16(8,66,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.adoptCarParams=function(t){i.Struct.setUint16(8,67,this),i.Struct.adopt(t,i.Struct.getPointer(0,this))},Event.prototype.disownCarParams=function(){return i.Struct.disown(this.getCarParams())},Event.prototype.getCarParams=function(){return i.Struct.testWhich("carParams",i.Struct.getUint16(8,this),67,this),i.Struct.getStruct(0,a.CarParams,this)},Event.prototype.hasCarParams=function(){return!i.Struct.isNull(i.Struct.getPointer(0,this))},Event.prototype.initCarParams=function(){return i.Struct.setUint16(8,67,this),i.Struct.initStructAt(0,a.CarParams,this)},Event.prototype.isCarParams=function(){return 67===i.Struct.getUint16(8,this)},Event.prototype.setCarParams=function(t){i.Struct.setUint16(8,67,this),i.Struct.copyFrom(t,i.Struct.getPointer(0,this))},Event.prototype.toString=function(){return"Event_"+t.prototype.toString.call(this)},Event.prototype.which=function(){return i.Struct.getUint16(8,this)},Event.INIT_DATA=Te.INIT_DATA,Event.FRAME=Te.FRAME,Event.GPS_NMEA=Te.GPS_NMEA,Event.SENSOR_EVENT_DEPRECATED=Te.SENSOR_EVENT_DEPRECATED,Event.CAN=Te.CAN,Event.THERMAL=Te.THERMAL,Event.CONTROLS_STATE=Te.CONTROLS_STATE,Event.LIVE_EVENT_DEPRECATED=Te.LIVE_EVENT_DEPRECATED,Event.MODEL=Te.MODEL,Event.FEATURES=Te.FEATURES,Event.SENSOR_EVENTS=Te.SENSOR_EVENTS,Event.HEALTH=Te.HEALTH,Event.RADAR_STATE=Te.RADAR_STATE,Event.LIVE_UIDEPRECATED=Te.LIVE_UIDEPRECATED,Event.ENCODE_IDX=Te.ENCODE_IDX,Event.LIVE_TRACKS=Te.LIVE_TRACKS,Event.SENDCAN=Te.SENDCAN,Event.LOG_MESSAGE=Te.LOG_MESSAGE,Event.LIVE_CALIBRATION=Te.LIVE_CALIBRATION,Event.ANDROID_LOG_ENTRY=Te.ANDROID_LOG_ENTRY,Event.GPS_LOCATION=Te.GPS_LOCATION,Event.CAR_STATE=Te.CAR_STATE,Event.CAR_CONTROL=Te.CAR_CONTROL,Event.PLAN=Te.PLAN,Event.LIVE_LOCATION=Te.LIVE_LOCATION,Event.ETHERNET_DATA=Te.ETHERNET_DATA,Event.NAV_UPDATE=Te.NAV_UPDATE,Event.CELL_INFO=Te.CELL_INFO,Event.WIFI_SCAN=Te.WIFI_SCAN,Event.ANDROID_GNSS=Te.ANDROID_GNSS,Event.QCOM_GNSS=Te.QCOM_GNSS,Event.LIDAR_PTS=Te.LIDAR_PTS,Event.PROC_LOG=Te.PROC_LOG,Event.UBLOX_GNSS=Te.UBLOX_GNSS,Event.CLOCKS=Te.CLOCKS,Event.LIVE_MPC=Te.LIVE_MPC,Event.LIVE_LONGITUDINAL_MPC=Te.LIVE_LONGITUDINAL_MPC,Event.NAV_STATUS=Te.NAV_STATUS,Event.UBLOX_RAW=Te.UBLOX_RAW,Event.GPS_PLANNER_POINTS=Te.GPS_PLANNER_POINTS,Event.GPS_PLANNER_PLAN=Te.GPS_PLANNER_PLAN,Event.APPLANIX_RAW=Te.APPLANIX_RAW,Event.TRAFFIC_EVENTS=Te.TRAFFIC_EVENTS,Event.LIVE_LOCATION_TIMING=Te.LIVE_LOCATION_TIMING,Event.ORBSLAM_CORRECTION_DEPRECATED=Te.ORBSLAM_CORRECTION_DEPRECATED,Event.LIVE_LOCATION_CORRECTED=Te.LIVE_LOCATION_CORRECTED,Event.ORB_OBSERVATION=Te.ORB_OBSERVATION,Event.GPS_LOCATION_EXTERNAL=Te.GPS_LOCATION_EXTERNAL,Event.LOCATION=Te.LOCATION,Event.UI_NAVIGATION_EVENT=Te.UI_NAVIGATION_EVENT,Event.LIVE_LOCATION_KALMAN=Te.LIVE_LOCATION_KALMAN,Event.TEST_JOYSTICK=Te.TEST_JOYSTICK,Event.ORB_ODOMETRY=Te.ORB_ODOMETRY,Event.ORB_FEATURES=Te.ORB_FEATURES,Event.APPLANIX_LOCATION=Te.APPLANIX_LOCATION,Event.ORB_KEY_FRAME=Te.ORB_KEY_FRAME,Event.UI_LAYOUT_STATE=Te.UI_LAYOUT_STATE,Event.ORB_FEATURES_SUMMARY=Te.ORB_FEATURES_SUMMARY,Event.DRIVER_MONITORING=Te.DRIVER_MONITORING,Event.BOOT=Te.BOOT,Event.LIVE_PARAMETERS=Te.LIVE_PARAMETERS,Event.LIVE_MAP_DATA=Te.LIVE_MAP_DATA,Event.CAMERA_ODOMETRY=Te.CAMERA_ODOMETRY,Event.PATH_PLAN=Te.PATH_PLAN,Event.KALMAN_ODOMETRY=Te.KALMAN_ODOMETRY,Event.THUMBNAIL=Te.THUMBNAIL,Event.CAR_EVENTS=Te.CAR_EVENTS,Event.CAR_PARAMS=Te.CAR_PARAMS,Event._capnp={displayName:"Event",id:"d314cfd957229c11",size:new i.ObjectSize(16,1),defaultValid:o.getBitMask(!0,0)},Event}(i.Struct);e.Event=Me,l._Entries=o.CompositeList(s),y._AndroidSensors=o.CompositeList(p),it._EventsDEPRECATED=o.CompositeList(a.CarEvent),dt._Parts=o.CompositeList(ft),ht._Segments=o.CompositeList(dt),Ct._Measurements=o.CompositeList(Et),Ot._Sv=o.CompositeList(It),Nt._Sv=o.CompositeList(Ft),qt._CpuTimes=o.CompositeList(Vt),qt._Procs=o.CompositeList(Gt),Zt._Measurements=o.CompositeList(Yt),ie._PointsDEPRECATED=o.CompositeList(ne),ie._Points=o.CompositeList(oe),ue._PointsDEPRECATED=o.CompositeList(ne),ue._Points=o.CompositeList(oe),Se._Dpos=o.CompositeList(oe),Me._Can=o.CompositeList(D),Me._LiveEventDEPRECATED=o.CompositeList(K),Me._SensorEvents=o.CompositeList(P),Me._LiveTracks=o.CompositeList(z),Me._Sendcan=o.CompositeList(D),Me._EthernetData=o.CompositeList(ct),Me._CellInfo=o.CompositeList(vt),Me._WifiScan=o.CompositeList(_t),Me._TrafficEvents=o.CompositeList(le),Me._OrbObservation=o.CompositeList(de),Me._CarEvents=o.CompositeList(a.CarEvent)},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(831))},function(t,e,r){var n;!function(o){"use strict";var i={},a=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,c=function noop(){};function shorten(t,e){for(var r=[],n=0,o=t.length;n<o;n++)r.push(t[n].substr(0,e));return r}function monthUpdate(t){return function(e,r,n){var o=n[t].indexOf(r.charAt(0).toUpperCase()+r.substr(1).toLowerCase());~o&&(e.month=o)}}function pad(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],d=shorten(f,3),h=shorten(p,3);i.i18n={dayNamesShort:h,dayNames:p,monthNamesShort:d,monthNames:f,amPm:["am","pm"],DoFn:function DoFn(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10)*t%10]}};var m={D:function D(t){return t.getDate()},DD:function DD(t){return pad(t.getDate())},Do:function Do(t,e){return e.DoFn(t.getDate())},d:function d(t){return t.getDay()},dd:function dd(t){return pad(t.getDay())},ddd:function ddd(t,e){return e.dayNamesShort[t.getDay()]},dddd:function dddd(t,e){return e.dayNames[t.getDay()]},M:function M(t){return t.getMonth()+1},MM:function MM(t){return pad(t.getMonth()+1)},MMM:function MMM(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function MMMM(t,e){return e.monthNames[t.getMonth()]},YY:function YY(t){return String(t.getFullYear()).substr(2)},YYYY:function YYYY(t){return pad(t.getFullYear(),4)},h:function h(t){return t.getHours()%12||12},hh:function hh(t){return pad(t.getHours()%12||12)},H:function H(t){return t.getHours()},HH:function HH(t){return pad(t.getHours())},m:function m(t){return t.getMinutes()},mm:function mm(t){return pad(t.getMinutes())},s:function s(t){return t.getSeconds()},ss:function ss(t){return pad(t.getSeconds())},S:function S(t){return Math.round(t.getMilliseconds()/100)},SS:function SS(t){return pad(Math.round(t.getMilliseconds()/10),2)},SSS:function SSS(t){return pad(t.getMilliseconds(),3)},a:function a(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function A(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function ZZ(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+pad(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},y={D:[s,function(t,e){t.day=e}],Do:[new RegExp(s.source+u.source),function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],YY:[s,function(t,e){var r=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?r-1:r)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[s,c],ddd:[u,c],MMM:[u,monthUpdate("monthNamesShort")],MMMM:[u,monthUpdate("monthNames")],a:[u,function(t,e,r){var n=e.toLowerCase();n===r.amPm[0]?t.isPm=!1:n===r.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var r,n=(e+"").match(/([\+\-]|\d\d)/gi);n&&(r=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?r:-r)}]};y.dd=y.d,y.dddd=y.ddd,y.DD=y.D,y.mm=y.m,y.hh=y.H=y.HH=y.h,y.MM=y.M,y.ss=y.s,y.A=y.a,i.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},i.format=function(t,e,r){var n=r||i.i18n;if("number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=i.masks[e]||e||i.masks.default;var o=[];return(e=(e=e.replace(l,(function(t,e){return o.push(e),"??"}))).replace(a,(function(e){return e in m?m[e](t,n):e.slice(1,e.length-1)}))).replace(/\?\?/g,(function(){return o.shift()}))},i.parse=function(t,e,r){var n=r||i.i18n;if("string"!==typeof e)throw new Error("Invalid format in fecha.parse");if(e=i.masks[e]||e,t.length>1e3)return!1;var o=!0,s={};if(e.replace(a,(function(e){if(y[e]){var r=y[e],i=t.search(r[0]);~i?t.replace(r[0],(function(e){return r[1](s,e,n),t=t.substr(i+e.length),e})):o=!1}return y[e]?"":e.slice(1,e.length-1)})),!o)return!1;var u,l=new Date;return!0===s.isPm&&null!=s.hour&&12!==+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12===+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||l.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},t.exports?t.exports=i:void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(747))},function(t,e,r){"use strict";var n=function warning(){};t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(78),a=r(79),s=r(59),u=r(142),l=r(50),c=o.default("capnp:list");c("load");var p=function(t){function List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(List,t),List.toString=function(){return this._capnp.displayName},List.prototype.all=function(t){for(var e=this.getLength(),r=0;r<e;r++)if(!t(this.get(r),r))return!1;return!0},List.prototype.any=function(t){for(var e=this.getLength(),r=0;r<e;r++)if(t(this.get(r),r))return!0;return!1},List.prototype.ap=function(t){for(var e=this,r=this.getLength(),n=[],o=function _loop_1(r){n.push.apply(n,t.map((function(t){return t(e.get(r),r)})))},i=0;i<r;i++)o(i);return n},List.prototype.concat=function(t){for(var e=this.getLength(),r=t.getLength(),n=new Array(e+r),o=0;o<e;o++)n[o]=this.get(o);for(o=0;o<r;o++)n[o+e]=t.get(o);return n},List.prototype.drop=function(t){for(var e=this.getLength(),r=new Array(e),n=t;n<e;n++)r[n]=this.get(n);return r},List.prototype.dropWhile=function(t){for(var e=this.getLength(),r=[],n=!0,o=0;o<e;o++){var i=this.get(o);n&&(n=t(i,o)),n||r.push(i)}return r},List.prototype.empty=function(){return[]},List.prototype.every=function(t){return this.all(t)},List.prototype.filter=function(t){for(var e=this.getLength(),r=[],n=0;n<e;n++){var o=this.get(n);t(o,n)&&r.push(o)}return r},List.prototype.find=function(t){for(var e=this.getLength(),r=0;r<e;r++){var n=this.get(r);if(t(n,r))return n}},List.prototype.forEach=function(t){for(var e=this.getLength(),r=0;r<e;r++)t(this.get(r),r)},List.prototype.get=function(t){throw new TypeError},List.prototype.getLength=function(){return l.getTargetListLength(this)},List.prototype.groupBy=function(t){for(var e=this.getLength(),r={},n=0;n<e;n++){var o=this.get(n);r[t(o,n)]=o}return r},List.prototype.intersperse=function(t){for(var e=this.getLength(),r=new Array(e),n=0;n<e;n++)n>0&&r.push(t),r.push(this.get(n));return r},List.prototype.map=function(t){for(var e=this.getLength(),r=new Array(e),n=0;n<e;n++)r[n]=t(this.get(n),n);return r},List.prototype.reduce=function(t,e){var r,n=0;for(void 0===e?(r=this.get(0),n++):r=e;n<this.getLength();n++)r=t(r,this.get(n),n);return r},List.prototype.set=function(t,e){throw new TypeError},List.prototype.slice=function(t,e){void 0===t&&(t=0);for(var r=e?Math.min(this.getLength(),e):this.getLength(),n=new Array(r-t),o=t;o<r;o++)n[o]=this.get(o);return n},List.prototype.some=function(t){return this.any(t)},List.prototype.take=function(t){for(var e=Math.min(this.getLength(),t),r=new Array(e),n=0;n<e;n++)r[n]=this.get(n);return r},List.prototype.takeWhile=function(t){for(var e=this.getLength(),r=[],n=0;n<e;n++){var o=this.get(n);if(!t(o,n))return r;r.push(o)}return r},List.prototype.toArray=function(){return this.map(a.identity)},List.prototype.toString=function(){return"List_"+t.prototype.toString.call(this)},List._capnp={displayName:"List<Generic>",size:s.ListElementSize.VOID},List.initList=initList,List}(l.Pointer);function initList(t,e,r,n){var o;switch(t){case s.ListElementSize.BIT:o=r.segment.allocate(Math.ceil(e/8));break;case s.ListElementSize.BYTE:case s.ListElementSize.BYTE_2:case s.ListElementSize.BYTE_4:case s.ListElementSize.BYTE_8:case s.ListElementSize.POINTER:o=r.segment.allocate(e*l.getListElementByteLength(t));break;case s.ListElementSize.COMPOSITE:if(void 0===n)throw new Error(a.format(i.PTR_COMPOSITE_SIZE_UNDEFINED));n=u.padToWord(n);var p=u.getByteLength(n)*e;o=r.segment.allocate(p+8),l.setStructPointer(e,n,o),c("Wrote composite tag word %s for %s.",o,r);break;case s.ListElementSize.VOID:return void l.setListPointer(0,t,e,r);default:throw new Error(a.format(i.PTR_INVALID_LIST_SIZE,t))}var f=l.initPointer(o.segment,o.byteOffset,r);l.setListPointer(f.offsetWords,t,e,f.pointer,n)}e.List=p,e.initList=initList},function(t,e,r){(function(e){var n,o="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},i=r(550);"undefined"!==typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=n}).call(this,r(32))},function(t,e,r){"use strict";(function(e){function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function isBuffer(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var n=r(973),o=Object.prototype.hasOwnProperty,i=Array.prototype.slice,a="foo"===function foo(){}.name;function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return!isBuffer(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var s=t.exports=ok,u=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(n.isFunction(t)){if(a)return t.name;var e=t.toString().match(u);return e&&e[1]}}function truncate(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function inspect(t){if(a||!n.isFunction(t))return n.inspect(t);var e=getName(t);return"[Function"+(e?": "+e:"")+"]"}function fail(t,e,r,n,o){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function ok(t,e){t||fail(t,!0,e,"==",s.ok)}function _deepEqual(t,e,r,o){if(t===e)return!0;if(isBuffer(t)&&isBuffer(e))return 0===compare(t,e);if(n.isDate(t)&&n.isDate(e))return t.getTime()===e.getTime();if(n.isRegExp(t)&&n.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(isBuffer(t)!==isBuffer(e))return!1;var a=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function objEquiv(t,e,r,o){if(null===t||void 0===t||null===e||void 0===e)return!1;if(n.isPrimitive(t)||n.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var a=isArguments(t),s=isArguments(e);if(a&&!s||!a&&s)return!1;if(a)return t=i.call(t),e=i.call(e),_deepEqual(t,e,r);var u,c,p=l(t),f=l(e);if(p.length!==f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!==f[c])return!1;for(c=p.length-1;c>=0;c--)if(u=p[c],!_deepEqual(t[u],e[u],r,o))return!1;return!0}(t,e,r,o))}return r?t===e:t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function expectedException(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _throws(t,e,r,o){var i;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(o=r,r=null),i=function _tryBlock(t){var e;try{t()}catch(r){e=r}return e}(e),o=(r&&r.name?" ("+r.name+").":".")+(o?" "+o:"."),t&&!i&&fail(i,r,"Missing expected exception"+o);var a="string"===typeof o,s=!t&&i&&!r;if((!t&&n.isError(i)&&a&&expectedException(i,r)||s)&&fail(i,r,"Got unwanted exception"+o),t&&i&&r&&!expectedException(i,r)||!t&&i)throw i}s.AssertionError=function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=getName(e),i=n.indexOf("\n"+o);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},n.inherits(s.AssertionError,Error),s.fail=fail,s.ok=ok,s.equal=function equal(t,e,r){t!=e&&fail(t,e,r,"==",s.equal)},s.notEqual=function notEqual(t,e,r){t==e&&fail(t,e,r,"!=",s.notEqual)},s.deepEqual=function deepEqual(t,e,r){_deepEqual(t,e,!1)||fail(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail(t,e,r,"notDeepStrictEqual",notDeepStrictEqual)},s.strictEqual=function strictEqual(t,e,r){t!==e&&fail(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function notStrictEqual(t,e,r){t===e&&fail(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){_throws(!0,t,e,r)},s.doesNotThrow=function(t,e,r){_throws(!1,t,e,r)},s.ifError=function(t){if(t)throw t};var l=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e}}).call(this,r(32))},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createStyles(t){return t}},function(t,e,r){t.exports=r(901)()},function(t,e,r){var n;!function(r){"use strict";var o=function cosh(t){return.5*(Math.exp(t)+Math.exp(-t))},i=function sinh(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function parser_exit(){throw SyntaxError("Invalid Param")};function logHypot(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}var s=function parse(t,e){var r={re:0,im:0};if(void 0===t||null===t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return Complex.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return Complex.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else 2===t.length?(r.re=t[0],r.im=t[1]):a();break;case"string":r.im=r.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,i=0;null===n&&a();for(var s=0;s<n.length;s++){var u=n[s];" "===u||"\t"===u||"\n"===u||("+"===u?o++:"-"===u?i++:"i"===u||"I"===u?(o+i===0&&a()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((i%2?"-":"")+"1"):(r.im+=parseFloat((i%2?"-":"")+n[s+1]),s++),o=i=0):((o+i===0||isNaN(u))&&a(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((i%2?"-":"")+u),s++):r.re+=parseFloat((i%2?"-":"")+u),o=i=0))}o+i>0&&a();break;case"number":r.im=0,r.re=t;break;default:a()}return isNaN(r.re)||isNaN(r.im),r};function Complex(t,e){if(!(this instanceof Complex))return new Complex(t,e);var r=s(t,e);this.re=r.re,this.im=r.im}Complex.prototype={re:0,im:0,sign:function sign(){var t=this.abs();return new Complex(this.re/t,this.im/t)},add:function add(t,e){var r=new Complex(t,e);return this.isInfinite()&&r.isInfinite()?Complex.NAN:this.isInfinite()||r.isInfinite()?Complex.INFINITY:new Complex(this.re+r.re,this.im+r.im)},sub:function sub(t,e){var r=new Complex(t,e);return this.isInfinite()&&r.isInfinite()?Complex.NAN:this.isInfinite()||r.isInfinite()?Complex.INFINITY:new Complex(this.re-r.re,this.im-r.im)},mul:function mul(t,e){var r=new Complex(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?Complex.NAN:this.isInfinite()||r.isInfinite()?Complex.INFINITY:0===r.im&&0===this.im?new Complex(this.re*r.re,0):new Complex(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function div(t,e){var r=new Complex(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return Complex.NAN;if(this.isInfinite()||r.isZero())return Complex.INFINITY;if(this.isZero()||r.isInfinite())return Complex.ZERO;t=this.re,e=this.im;var n,o,i=r.re,a=r.im;return 0===a?new Complex(t/i,e/i):Math.abs(i)<Math.abs(a)?new Complex((t*(o=i/a)+e)/(n=i*o+a),(e*o-t)/n):new Complex((t+e*(o=a/i))/(n=a*o+i),(e-t*o)/n)},pow:function pow(t,e){var r=new Complex(t,e);if(t=this.re,e=this.im,r.isZero())return Complex.ONE;if(0===r.im){if(0===e&&t>=0)return new Complex(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new Complex(Math.pow(e,r.re),0);case 1:return new Complex(0,Math.pow(e,r.re));case 2:return new Complex(-Math.pow(e,r.re),0);case 3:return new Complex(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return Complex.ZERO;var n=Math.atan2(e,t),o=logHypot(t,e);return t=Math.exp(r.re*o-r.im*n),e=r.im*o+r.re*n,new Complex(t*Math.cos(e),t*Math.sin(e))},sqrt:function sqrt(){var t,e,r=this.re,n=this.im,o=this.abs();if(r>=0){if(0===n)return new Complex(Math.sqrt(r),0);t=.5*Math.sqrt(2*(o+r))}else t=Math.abs(n)/Math.sqrt(2*(o-r));return e=r<=0?.5*Math.sqrt(2*(o-r)):Math.abs(n)/Math.sqrt(2*(o+r)),new Complex(t,n<0?-e:e)},exp:function exp(){var t=Math.exp(this.re);return this.im,new Complex(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function expm1(){var t=this.re,e=this.im;return new Complex(Math.expm1(t)*Math.cos(e)+function cosm1(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function log(){var t=this.re,e=this.im;return new Complex(logHypot(t,e),Math.atan2(e,t))},abs:function abs(){return function hypot(t,e){var r=Math.abs(t),n=Math.abs(e);return r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n))}(this.re,this.im)},arg:function arg(){return Math.atan2(this.im,this.re)},sin:function sin(){var t=this.re,e=this.im;return new Complex(Math.sin(t)*o(e),Math.cos(t)*i(e))},cos:function cos(){var t=this.re,e=this.im;return new Complex(Math.cos(t)*o(e),-Math.sin(t)*i(e))},tan:function tan(){var t=2*this.re,e=2*this.im,r=Math.cos(t)+o(e);return new Complex(Math.sin(t)/r,i(e)/r)},cot:function cot(){var t=2*this.re,e=2*this.im,r=Math.cos(t)-o(e);return new Complex(-Math.sin(t)/r,i(e)/r)},sec:function sec(){var t=this.re,e=this.im,r=.5*o(2*e)+.5*Math.cos(2*t);return new Complex(Math.cos(t)*o(e)/r,Math.sin(t)*i(e)/r)},csc:function csc(){var t=this.re,e=this.im,r=.5*o(2*e)-.5*Math.cos(2*t);return new Complex(Math.sin(t)*o(e)/r,-Math.cos(t)*i(e)/r)},asin:function asin(){var t=this.re,e=this.im,r=new Complex(e*e-t*t+1,-2*t*e).sqrt(),n=new Complex(r.re-e,r.im+t).log();return new Complex(n.im,-n.re)},acos:function acos(){var t=this.re,e=this.im,r=new Complex(e*e-t*t+1,-2*t*e).sqrt(),n=new Complex(r.re-e,r.im+t).log();return new Complex(Math.PI/2-n.im,n.re)},atan:function atan(){var t=this.re,e=this.im;if(0===t){if(1===e)return new Complex(0,1/0);if(-1===e)return new Complex(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new Complex((1-e*e-t*t)/r,-2*t/r).log();return new Complex(-.5*n.im,.5*n.re)},acot:function acot(){var t=this.re,e=this.im;if(0===e)return new Complex(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).atan():new Complex(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function asec(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(0,1/0);var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).acos():new Complex(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function acsc(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).asin():new Complex(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function sinh(){var t=this.re,e=this.im;return new Complex(i(t)*Math.cos(e),o(t)*Math.sin(e))},cosh:function cosh(){var t=this.re,e=this.im;return new Complex(o(t)*Math.cos(e),i(t)*Math.sin(e))},tanh:function tanh(){var t=2*this.re,e=2*this.im,r=o(t)+Math.cos(e);return new Complex(i(t)/r,Math.sin(e)/r)},coth:function coth(){var t=2*this.re,e=2*this.im,r=o(t)-Math.cos(e);return new Complex(i(t)/r,-Math.sin(e)/r)},csch:function csch(){var t=this.re,e=this.im,r=Math.cos(2*e)-o(2*t);return new Complex(-2*i(t)*Math.cos(e)/r,2*o(t)*Math.sin(e)/r)},sech:function sech(){var t=this.re,e=this.im,r=Math.cos(2*e)+o(2*t);return new Complex(2*o(t)*Math.cos(e)/r,-2*i(t)*Math.sin(e)/r)},asinh:function asinh(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function acosh(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function atanh(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,o=1+t,i=n*n+e*e,a=0!==i?new Complex((o*n-e*e)/i,(e*n+o*e)/i):new Complex(-1!==t?t/0:0,0!==e?e/0:0),s=a.re;return a.re=logHypot(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,r&&(a.im=-a.im),a},acoth:function acoth(){var t=this.re,e=this.im;if(0===t&&0===e)return new Complex(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).atanh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function acsch(){var t=this.re,e=this.im;if(0===e)return new Complex(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).asinh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function asech(){var t=this.re,e=this.im;if(this.isZero())return Complex.INFINITY;var r=t*t+e*e;return 0!==r?new Complex(t/r,-e/r).acosh():new Complex(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function inverse(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new Complex(t/r,-e/r)},conjugate:function conjugate(){return new Complex(this.re,-this.im)},neg:function neg(){return new Complex(-this.re,-this.im)},ceil:function ceil(t){return t=Math.pow(10,t||0),new Complex(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function floor(t){return t=Math.pow(10,t||0),new Complex(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function round(t){return t=Math.pow(10,t||0),new Complex(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function equals(t,e){var r=new Complex(t,e);return Math.abs(r.re-this.re)<=Complex.EPSILON&&Math.abs(r.im-this.im)<=Complex.EPSILON},clone:function clone(){return new Complex(this.re,this.im)},toString:function toString(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(r+=t),0!==e&&(0!==t?r+=e<0?" - ":" + ":e<0&&(r+="-"),1!==(e=Math.abs(e))&&(r+=e),r+="i"),r||"0")},toVector:function toVector(){return[this.re,this.im]},valueOf:function valueOf(){return 0===this.im?this.re:null},isNaN:function(t){function isNaN(){return t.apply(this,arguments)}return isNaN.toString=function(){return t.toString()},isNaN}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function isZero(){return(0===this.re||-0===this.re)&&(0===this.im||-0===this.im)},isFinite:function(t){function isFinite(){return t.apply(this,arguments)}return isFinite.toString=function(){return t.toString()},isFinite}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function isInfinite(){return!(this.isNaN()||this.isFinite())}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-16,void 0===(n=function(){return Complex}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){var n=r(236)("wks"),o=r(179),i=r(68).Symbol,a="function"==typeof i;(t.exports=function(t){return n[t]||(n[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=function capitalize(t){0;return t.charAt(0).toUpperCase()+t.slice(1)},e.contains=contains,e.findIndex=findIndex,e.find=function find(t,e){var r=findIndex(t,e);return r>-1?t[r]:void 0},e.createChainedFunction=function createChainedFunction(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e){return null==e?t:function chainedFunction(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n),e.apply(this,n)}}),(function(){}))};var o=n(r(245));n(r(64));function contains(t,e){return Object.keys(e).every((function(r){return t.hasOwnProperty(r)&&t[r]===e[r]}))}function findIndex(t,e){for(var r=(0,o.default)(e),n=0;n<t.length;n+=1){if("function"===r&&!0===!!e(t[n],n,t))return n;if("object"===r&&contains(t[n],e))return n;if(-1!==["string","number","boolean"].indexOf(r))return t.indexOf(e)}return-1}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(801))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(826))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.storage=void 0;var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100)),i=function(){var t=(0,o.default)(n.default.mark((function _callee(){var t;return n.default.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getCommaAccessToken();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}}(),a=function(){var t=(0,o.default)(n.default.mark((function _callee2(){return n.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.logOut();case 2:s.default.location.href=s.default.location.origin;case 3:case"end":return t.stop()}}),_callee2,this)})));return function logOut(){return t.apply(this,arguments)}}(),s=_interopRequireDefault(r(333)),u=_interopRequireWildcard(r(619)),l=_interopRequireWildcard(r(621));function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.storage=u,e.config=l,e.default={init:i,logOut:a,isAuthenticated:function isAuthenticated(){return u.isAuthed}}},function(t,e,r){"use strict";function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(e,"a",(function(){return _slicedToArray}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83);n.default("capnp:errors")("load"),e.assertNever=function assertNever(t){throw new Error(e.INVARIANT_UNREACHABLE_CODE+" (never block hit with: "+t+")")},e.INVARIANT_UNREACHABLE_CODE="CAPNP-TS000 Unreachable code detected.",e.MSG_INVALID_FRAME_HEADER="CAPNP-TS001 Attempted to parse an invalid message frame header; are you sure this is a Cap'n Proto message?",e.MSG_NO_SEGMENTS_IN_ARENA="CAPNP-TS002 Attempted to preallocate a message with no segments in the arena.",e.MSG_PACK_NOT_WORD_ALIGNED="CAPNP-TS003 Attempted to pack a message that was not word-aligned.",e.MSG_SEGMENT_OUT_OF_BOUNDS="CAPNP-TS004 Segment ID %X is out of bounds for message %s.",e.MSG_SEGMENT_TOO_SMALL="CAPNP-TS005 First segment must have at least enough room to hold the root pointer (8 bytes).",e.NOT_IMPLEMENTED="CAPNP-TS006 %s is not implemented.",e.PTR_ADOPT_COMPOSITE_STRUCT="CAPNP-TS007 Attempted to adopt a struct into a composite list (%s).",e.PTR_ADOPT_WRONG_MESSAGE="CAPNP-TS008 Attempted to adopt %s into a pointer in a different message %s.",e.PTR_ALREADY_ADOPTED="CAPNP-TS009 Attempted to adopt %s more than once.",e.PTR_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS010 Attempted to set a composite list without providing a composite element size.",e.PTR_DEPTH_LIMIT_EXCEEDED="CAPNP-TS011 Nesting depth limit exceeded for %s.",e.PTR_DISOWN_COMPOSITE_STRUCT="CAPNP-TS012 Attempted to disown a struct member from a composite list (%s).",e.PTR_INIT_COMPOSITE_STRUCT="CAPNP-TS013 Attempted to initialize a struct member from a composite list (%s).",e.PTR_INIT_NON_GROUP="CAPNP-TS014 Attempted to initialize a group field with a non-group struct class.",e.PTR_INVALID_FAR_TARGET="CAPNP-TS015 Target of a far pointer (%s) is another far pointer.",e.PTR_INVALID_LIST_SIZE="CAPNP-TS016 Invalid list element size: %x.",e.PTR_INVALID_POINTER_TYPE="CAPNP-TS017 Invalid pointer type: %x.",e.PTR_INVALID_UNION_ACCESS="CAPNP-TS018 Attempted to access getter on %s for union field %s that is not currently set (wanted: %d, found: %d).",e.PTR_OFFSET_OUT_OF_BOUNDS="CAPNP-TS019 Pointer offset %a is out of bounds for underlying buffer.",e.PTR_STRUCT_DATA_OUT_OF_BOUNDS="CAPNP-TS020 Attempted to access out-of-bounds struct data (struct: %s, %d bytes at %a, data words: %d).",e.PTR_STRUCT_POINTER_OUT_OF_BOUNDS="CAPNP-TS021 Attempted to access out-of-bounds struct pointer (%s, index: %d, length: %d).",e.PTR_TRAVERSAL_LIMIT_EXCEEDED="CAPNP-TS022 Traversal limit exceeded! Slow down! %s",e.PTR_WRONG_LIST_TYPE="CAPNP-TS023 Cannot convert %s to a %s list.",e.PTR_WRONG_POINTER_TYPE="CAPNP-TS024 Attempted to convert pointer %s to a %s type.",e.PTR_WRONG_COMPOSITE_DATA_SIZE="CAPNP-TS025 Attempted to convert %s to a composite list with the wrong data size (found: %d).",e.PTR_WRONG_COMPOSITE_PTR_SIZE="CAPNP-TS026 Attempted to convert %s to a composite list with the wrong pointer size (found: %d).",e.PTR_WRONG_STRUCT_DATA_SIZE="CAPNP-TS027 Attempted to convert %s to a struct with the wrong data size (found: %d).",e.PTR_WRONG_STRUCT_PTR_SIZE="CAPNP-TS028 Attempted to convert %s to a struct with the wrong pointer size (found: %d).",e.RANGE_INT32_OVERFLOW="CAPNP-TS029 32-bit signed integer overflow detected.",e.RANGE_INT64_UNDERFLOW="CAPNP-TS030 Buffer is not large enough to hold a word.",e.RANGE_INVALID_UTF8="CAPNP-TS031 Invalid UTF-8 code sequence detected.",e.RANGE_SIZE_OVERFLOW="CAPNP-TS032 Size %x exceeds maximum "+o.MAX_SEGMENT_LENGTH.toString(16)+".",e.RANGE_UINT32_OVERFLOW="CAPNP-TS033 32-bit unsigned integer overflow detected.",e.SEG_BUFFER_NOT_ALLOCATED="CAPNP-TS034 allocate() needs to be called at least once before getting a buffer.",e.SEG_GET_NON_ZERO_SINGLE="CAPNP-TS035 Attempted to get a segment other than 0 (%d) from a single segment arena.",e.SEG_ID_OUT_OF_BOUNDS="CAPNP-TS036 Attempted to get an out-of-bounds segment (%d).",e.SEG_NOT_WORD_ALIGNED="CAPNP-TS037 Segment buffer length %d is not a multiple of 8.",e.SEG_REPLACEMENT_BUFFER_TOO_SMALL="CAPNP-TS038 Attempted to replace a segment buffer with one that is smaller than the allocated space.",e.SEG_SIZE_OVERFLOW="CAPNP-TS039 Requested size %x exceeds maximum value ("+o.MAX_SEGMENT_LENGTH+").",e.TYPE_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS040 Must provide a composite element size for composite list pointers.",e.TYPE_GET_GENERIC_LIST="CAPNP-TS041 Attempted to call get() on a generic list.",e.TYPE_SET_GENERIC_LIST="CAPNP-TS042 Attempted to call set() on a generic list."},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78);function format(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n,o,i,a=t.length,s=0,u=!1,l=0,c=!1,p="";function nextArg(){return e[s++]}function slurpNumber(){for(var e="";/\d/.test(t[l]);)e+=t[l++],o=t[l];return e.length>0?parseInt(e,10):null}for(;l<a;++l)if(o=t[l],u)switch(u=!1,"."===o?(c=!1,o=t[++l]):"0"===o&&"."===t[l+1]?(c=!0,o=t[l+=2]):c=!0,i=slurpNumber(),o){case"a":p+="0x"+pad(parseInt(nextArg(),10).toString(16),8);break;case"b":p+=parseInt(nextArg(),10).toString(2);break;case"c":"string"===typeof(n=nextArg())||n instanceof String?p+=n:p+=String.fromCharCode(parseInt(n,10));break;case"d":p+=parseInt(nextArg(),10);break;case"f":var f=String(parseFloat(nextArg()).toFixed(i||6));p+=c?f:f.replace(/^0/,"");break;case"j":p+=JSON.stringify(nextArg());break;case"o":p+="0"+parseInt(nextArg(),10).toString(8);break;case"s":p+=nextArg();break;case"x":p+="0x"+parseInt(nextArg(),10).toString(16);break;case"X":p+="0x"+parseInt(nextArg(),10).toString(16).toUpperCase();break;default:p+=o}else"%"===o?u=!0:p+=o;return p}function pad(t,e,r){return void 0===r&&(r="0"),t.length>=e?t:new Array(e-t.length+1).join(r)+t}function repeat(t,e){var r="",n=t,o=e;if(n<1||n>Number.MAX_VALUE)return r;do{n%2&&(r+=o),(n=Math.floor(n/2))&&(o+=o)}while(n);return r}n.default("capnp:util")("load"),e.bufferToHex=function bufferToHex(t){for(var e=new Uint8Array(t),r=[],n=0;n<e.byteLength;n++)r.push(pad(e[n].toString(16),2));return"["+r.join(" ")+"]"},e.checkInt32=function checkInt32(t){if(t>o.MAX_INT32||t<-o.MAX_INT32)throw new RangeError(i.RANGE_INT32_OVERFLOW);return t},e.checkUint32=function checkUint32(t){if(t<0||t>o.MAX_UINT32)throw new RangeError(i.RANGE_UINT32_OVERFLOW);return t},e.decodeUtf8=function decodeUtf8(t){for(var e=t.byteLength,r="",n=0,o=0,a=0;n<e;){if(0===(128&(a=t[n++])))o=a;else if(192===(224&a)){if(n>=e)throw new RangeError(i.RANGE_INVALID_UTF8);o=(31&a)<<6|63&t[n++]}else if(224===(240&a)){if(n+1>=e)throw new RangeError(i.RANGE_INVALID_UTF8);o=(15&a)<<12|(63&t[n++])<<6|63&t[n++]}else{if(240!==(248&a))throw new RangeError(i.RANGE_INVALID_UTF8);if(n+2>=e)throw new RangeError(i.RANGE_INVALID_UTF8);o=(7&a)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++]}if(o<=55295||o>=57344&&o<=65535)r+=String.fromCharCode(o);else{var s=55296+((o-=65536)>>>10),u=56320+(1023&o);if(s<55296||s>56319)throw new RangeError(i.RANGE_INVALID_UTF8);r+=String.fromCharCode(s,u)}}return r},e.dumpBuffer=function dumpBuffer(t){for(var e=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=Math.min(e.byteLength,o.MAX_BUFFER_DUMP_BYTES),n=format("\n=== buffer[%d] ===",r),i=0;i<r;i+=16){n+="\n"+pad(i.toString(16),8)+": ";var a="",s=void 0;for(s=0;s<16&&i+s<e.byteLength;s++){var u=e[i+s];n+=pad(u.toString(16),2)+" ",a+=u>31&&u<255?String.fromCharCode(u):"\xb7",7===s&&(n+=" ")}n+=""+repeat(3*(17-s)," ")+a}return n+="\n",r!==e.byteLength&&(n+=format("=== (truncated %d bytes) ===\n",e.byteLength-r)),n},e.encodeUtf8=function encodeUtf8(t){for(var e=t.length,r=new Uint8Array(new ArrayBuffer(4*e)),n=0,o=0;o<e;o++){var a=t.charCodeAt(o);if(a<=127)r[n++]=a;else if(a<=2047)r[n++]=192|a>>>6,r[n++]=128|a>>>0&63;else if(a<=55295||a>=57344)r[n++]=224|a>>>12,r[n++]=128|a>>>6&63,r[n++]=128|a>>>0&63;else{if(o+1>=e)throw new RangeError(i.RANGE_INVALID_UTF8);var s=65536+(a-55296<<10|t.charCodeAt(++o)-56320);r[n++]=240|s>>>18,r[n++]=128|s>>>12&63,r[n++]=128|s>>>6&63,r[n++]=128|s>>>0&63}}return r.subarray(0,n)},e.format=format,e.identity=function identity(t){return t},e.pad=pad,e.padToWord=function padToWord(t){return t+7&-8},e.repeat=repeat,n.default.formatters.h=function(t){return t.toString("hex")},n.default.formatters.x=function(t){return"0x"+t.toString(16)},n.default.formatters.a=function(t){return"0x"+pad(t.toString(16),8)},n.default.formatters.X=function(t){return"0x"+t.toString(16).toUpperCase()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(853);e.ListElementSize=n.ListElementSize,e.Message=n.Message,e.ObjectSize=n.ObjectSize,e.AnyPointerList=n.AnyPointerList,e.BoolList=n.BoolList,e.CompositeList=n.CompositeList,e.Data=n.Data,e.DataList=n.DataList,e.Float32List=n.Float32List,e.Float64List=n.Float64List,e.Int16List=n.Int16List,e.Int32List=n.Int32List,e.Int64List=n.Int64List,e.Int8List=n.Int8List,e.Interface=n.Interface,e.InterfaceList=n.InterfaceList,e.List=n.List,e.Orphan=n.Orphan,e.PointerList=n.PointerList,e.PointerType=n.PointerType,e.Pointer=n.Pointer,e.Struct=n.Struct,e.Text=n.Text,e.TextList=n.TextList,e.Uint16List=n.Uint16List,e.Uint32List=n.Uint32List,e.Uint64List=n.Uint64List,e.Uint8List=n.Uint8List,e.VoidList=n.VoidList,e.Void=n.Void,e.getBitMask=n.getBitMask,e.getFloat32Mask=n.getFloat32Mask,e.getFloat64Mask=n.getFloat64Mask,e.getInt16Mask=n.getInt16Mask,e.getInt32Mask=n.getInt32Mask,e.getInt64Mask=n.getInt64Mask,e.getInt8Mask=n.getInt8Mask,e.getUint16Mask=n.getUint16Mask,e.getUint32Mask=n.getUint32Mask,e.getUint64Mask=n.getUint64Mask,e.getUint8Mask=n.getUint8Mask;var o=r(267);e.Int64=o.Int64,e.Uint64=o.Uint64},function(t,e,r){(function(e){for(var n=r(898),o="undefined"===typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],u=o["cancel"+a]||o["cancelRequest"+a],l=0;!s&&l<i.length;l++)s=o[i[l]+"Request"+a],u=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!s||!u){var c=0,p=0,f=[];s=function raf(t){if(0===f.length){var e=n(),r=Math.max(0,1e3/60-(e-c));c=r+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(r){setTimeout((function(){throw r}),0)}}),Math.round(r))}return f.push({handle:++p,callback:t,cancelled:!1}),p},u=function caf(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(o,t)},t.exports.cancel=function(){u.apply(o,arguments)},t.exports.polyfill=function(t){t||(t=o),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,r(32))},function(t,e,r){var n=r(68),o=r(53),i=r(135),a=r(121),s=r(122),u=function $export(t,e,r){var u,l,c,p=t&$export.F,f=t&$export.G,d=t&$export.S,h=t&$export.P,m=t&$export.B,y=t&$export.W,g=f?o:o[e]||(o[e]={}),v=g.prototype,_=f?n:d?n[e]:(n[e]||{}).prototype;for(u in f&&(r=e),r)(l=!p&&_&&void 0!==_[u])&&s(g,u)||(c=l?_[u]:r[u],g[u]=f&&"function"!=typeof _[u]?r[u]:m&&l?i(c,n):y&&_[u]==c?function(t){var e=function F(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):h&&"function"==typeof c?i(Function.call,c):c,h&&((g.virtual||(g.virtual={}))[u]=c,t&$export.R&&v&&!v[u]&&a(v,u,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new DataView(new ArrayBuffer(8));new Uint16Array(n.buffer)[0]=258,e.DEFAULT_BUFFER_SIZE=4096,e.DEFAULT_DECODE_LIMIT=64<<20,e.DEFAULT_DEPTH_LIMIT=64,e.DEFAULT_TRAVERSE_LIMIT=64<<20,e.GROWTH_FACTOR=1.5,e.LIST_SIZE_MASK=7,e.MAX_BUFFER_DUMP_BYTES=8192,e.MAX_INT32=2147483647,e.MAX_UINT32=4294967295,e.MAX_SAFE_INTEGER=9007199254740991,e.MAX_STREAM_SEGMENTS=512,e.MIN_SAFE_INTEGER=-9007199254740991,e.MIN_SINGLE_SEGMENT_GROWTH=4096,e.NATIVE_LITTLE_ENDIAN=2===n.getUint8(0),e.PACK_SPAN_THRESHOLD=2,e.POINTER_COPY_LIMIT=32,e.POINTER_DOUBLE_FAR_MASK=4,e.POINTER_TYPE_MASK=3,e.VAL32=4294967296,e.MAX_DEPTH=e.MAX_INT32,e.MAX_SEGMENT_LENGTH=e.MAX_UINT32},function(t,e,r){"use strict";function componentWillMount(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function componentWillReceiveProps(t){this.setState(function updater(e){var r=this.constructor.getDerivedStateFromProps(t,e);return null!==r&&void 0!==r?r:null}.bind(this))}function componentWillUpdate(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function polyfill(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var r=null,n=null,o=null;if("function"===typeof e.componentWillMount?r="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?n="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?o="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=t.displayName||t.name,a="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=componentWillMount,e.componentWillReceiveProps=componentWillReceiveProps),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=componentWillUpdate;var s=e.componentDidUpdate;e.componentDidUpdate=function componentDidUpdatePolyfill(t,e,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,t,e,n)}}return t}r.r(e),r.d(e,"polyfill",(function(){return polyfill})),componentWillMount.__suppressDeprecationWarning=!0,componentWillReceiveProps.__suppressDeprecationWarning=!0,componentWillUpdate.__suppressDeprecationWarning=!0},function(t,e,r){(function(e){var r;r="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=r}).call(this,r(32))},function(t,e,r){t.exports=r(581)()},function(t,e){t.exports=function debounce(t,e,r){var n,o,i,a,s;function later(){var u=Date.now()-a;u<e&&u>=0?n=setTimeout(later,e-u):(n=null,r||(s=t.apply(i,o),i=o=null))}null==e&&(e=100);var u=function debounced(){i=this,o=arguments,a=Date.now();var u=r&&!n;return n||(n=setTimeout(later,e)),u&&(s=t.apply(i,o),i=o=null),s};return u.clear=function(){n&&(clearTimeout(n),n=null)},u.flush=function(){n&&(s=t.apply(i,o),i=o=null,clearTimeout(n),n=null)},u}},function(t,e,r){(function(e){var n=r(541),o="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},i=o.Raven,a=new n;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),t.exports=a,t.exports.Client=n}).call(this,r(32))},function(t,e){function ListItem(t){this.fn=t,this.deleted=!1}t.exports=function Event(){var t=[];return{broadcast:function broadcast(e){for(var r=t.slice(),n=0;n<r.length;n++)r[n].deleted||r[n].fn(e)},listen:function event(e){return t.push(new ListItem(e)),function removeListener(){for(var r=0;r<t.length;r++)if(t[r].fn===e){t[r].deleted=!0,t.splice(r,1);break}}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function format(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var p=String(e),f=r||{},d=f.locale||i.default;if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var h=d.formatters||{},m=d.formattingTokensRegExp||c,y=d.formatLong,g=(0,n.default)(t,f);if(!(0,o.default)(g,f))return"Invalid Date";var v=g.getTimezoneOffset(),_=(0,u.default)(g,-v,f),b=(0,s.default)(f);return b.locale=d,b.formatters=a.default,b._originalDate=g,p.replace(l,(function(t){return"["===t[0]?t:"\\"===t[0]?cleanEscapedString(t):y(t)})).replace(m,(function(t){var e=h[t]||a.default[t];return e?e(_,b):cleanEscapedString(t)}))};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(280)),i=_interopRequireDefault(r(311)),a=_interopRequireDefault(r(566)),s=_interopRequireDefault(r(314)),u=_interopRequireDefault(r(568));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,c=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;function cleanEscapedString(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}t.exports=e.default},function(t,e,r){var n=r(110);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.formatTime=function formatTime(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=Math.floor(t%60),n=Math.floor(t/60%60),o=Math.floor(t/3600),i=Math.floor(e/60%60),a=Math.floor(e/3600);(u(t)||t===1/0)&&(o="-",n="-",r="-");return o=o>0||a>0?"".concat(o,":"):"",n="".concat((o||i>=10)&&n<10?"0".concat(n):n,":"),r=r<10?"0".concat(r):r,o+n+r},e.isVideoChild=function isVideoChild(t){if(t.props&&t.props.isVideoChild)return!0;return"source"===t.type||"track"===t.type},e.mergeAndSortChildren=function mergeAndSortChildren(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=s.default.Children.toArray(e),u=(r.order,(0,a.default)(r,["order"]));return o.filter((function(t){return!t.props.disabled})).concat(t.filter((function(t){return!l(o,(function(e){return c(e,t)}))}))).map((function(e){var r=l(t,(function(t){return c(t,e)})),n=r?r.props:{},o=(0,i.default)({},u,n,e.props);return s.default.cloneElement(e,o,e.props.children)})).sort((function(t,e){return(t.props.order||n)-(e.props.order||n)}))},e.deprecatedWarning=function deprecatedWarning(t,e){console.warn("WARNING: ".concat(t," will be deprecated soon! Please use ").concat(e," instead."))},e.throttle=function throttle(t,e){var r=arguments,n=!1;return function(){n||(t.apply(void 0,(0,o.default)(r)),n=!0,setTimeout((function(){n=!1}),e))}},e.mediaProperties=void 0;var o=n(r(393)),i=n(r(115)),a=n(r(272)),s=n(r(0)),u=Number.isNaN||function(t){return t!==t};var l=function find(t,e){return t.filter(e)[0]},c=function isTypeEqual(t,e){var r=t.type,n=e.type;return"string"===typeof r||"string"===typeof n?r===n:"function"===typeof r&&"function"===typeof n&&r.displayName===n.displayName};e.mediaProperties=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"]},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(e,"ModalManager",{enumerable:!0,get:function get(){return i.default}});var o=n(r(784)),i=n(r(359))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BodyClass=e.RootClass=e.For=e.Choose=e.If=e.canUseDOM=e.getDisplayName=e.isStatelessComponent=e.classNames=e.autoBind=void 0;var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=_interopRequireDefault(r(0)),i=_interopRequireDefault(r(913)),a=_interopRequireDefault(r(916)),s=_interopRequireDefault(r(917));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.autoBind=a.default.react,e.classNames=s.default,e.isStatelessComponent=function isStatelessComponent(t){return!("undefined"!==typeof t.prototype&&"function"===typeof t.prototype.render)},e.getDisplayName=function getDisplayName(t){return t.displayName||t.name||"Component"},e.canUseDOM="undefined"!==typeof window&&"document"in window&&"createElement"in window.document;var u=e.If=function If(t){return t.condition?t.render?t.render():t.children:null};u.propTypes={condition:i.default.bool.isRequired,children:i.default.node,render:i.default.func};var l=e.Choose=function Choose(t){var e=null,r=null;return o.default.Children.forEach(t.children,(function(t){void 0===t.props.condition?r=t:e||!0!==t.props.condition||(e=t)})),e||r};l.propTypes={children:i.default.node},l.When=u,l.Otherwise=function(t){var e=t.render,r=t.children;return e?e():r},l.Otherwise.propTypes={children:i.default.node,render:i.default.func},(e.For=function For(t){var e=t.render;return t.of.map((function(t,r){return e(t,r)}))}).propTypes={of:i.default.array.isRequired,render:i.default.func.isRequired};var c=function(t){function ElementClass(){return _classCallCheck(this,ElementClass),_possibleConstructorReturn(this,(ElementClass.__proto__||Object.getPrototypeOf(ElementClass)).apply(this,arguments))}return _inherits(ElementClass,t),n(ElementClass,[{key:"componentWillMount",value:function componentWillMount(){var t=this.props,e=t.add,r=t.remove,n=this.element.classList;e&&n.add.apply(n,_toConsumableArray(e.trim().split(" "))),r&&n.remove.apply(n,_toConsumableArray(r.trim().split(" ")))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props,e=t.add,r=t.remove,n=this.element.classList;e&&n.remove.apply(n,_toConsumableArray(e.trim().split(" "))),r&&n.add.apply(n,_toConsumableArray(r.trim().split(" ")))}},{key:"render",value:function render(){return null}}]),ElementClass}(o.default.PureComponent);c.propTypes={add:i.default.string,remove:i.default.string},(e.RootClass=function(t){function RootClass(){_classCallCheck(this,RootClass);var t=_possibleConstructorReturn(this,(RootClass.__proto__||Object.getPrototypeOf(RootClass)).call(this));return t.element=document.documentElement,t}return _inherits(RootClass,t),RootClass}(c)).propTypes=c.propTypes,(e.BodyClass=function(t){function BodyClass(){_classCallCheck(this,BodyClass);var t=_possibleConstructorReturn(this,(BodyClass.__proto__||Object.getPrototypeOf(BodyClass)).call(this));return t.element=document.body,t}return _inherits(BodyClass,t),BodyClass}(c)).propTypes=c.propTypes},function(t,e,r){"use strict";r.d(e,"e",(function(){return createStore})),r.d(e,"c",(function(){return combineReducers})),r.d(e,"b",(function(){return bindActionCreators})),r.d(e,"a",(function(){return applyMiddleware})),r.d(e,"d",(function(){return compose}));var n=r(125),o={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function isPlainObject(t){if("object"!==("undefined"===typeof t?"undefined":i(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,r){var a;if("function"===typeof e&&"undefined"===typeof r&&(r=e,e=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var s=t,u=e,l=[],c=l,p=!1;function ensureCanMutateNextListeners(){c===l&&(c=l.slice())}function getState(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function subscribe(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return ensureCanMutateNextListeners(),c.push(t),function unsubscribe(){if(e){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,ensureCanMutateNextListeners();var r=c.indexOf(t);c.splice(r,1)}}}function dispatch(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=s(u,t)}finally{p=!1}for(var e=l=c,r=0;r<e.length;r++){(0,e[r])()}return t}return dispatch({type:o.INIT}),(a={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");s=t,dispatch({type:o.REPLACE})}})[n.default]=function observable(){var t,e=subscribe;return(t={subscribe:function subscribe(t){if("object"!==("undefined"===typeof t?"undefined":i(t))||null===t)throw new TypeError("Expected the observer to be an object.");function observeState(){t.next&&t.next(getState())}return observeState(),{unsubscribe:e(observeState)}}})[n.default]=function(){return this},t},a}function getUndefinedStateErrorMessage(t,e){var r=e&&e.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];0,"function"===typeof t[i]&&(r[i]=t[i])}var a=Object.keys(r);var s=void 0;try{!function assertReducerShape(t){Object.keys(t).forEach((function(e){var r=t[e];if("undefined"===typeof r(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(u){s=u}return function combination(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var n=!1,o={},i=0;i<a.length;i++){var u=a[i],l=r[u],c=t[u],p=l(c,e);if("undefined"===typeof p){var f=getUndefinedStateErrorMessage(u,e);throw new Error(f)}o[u]=p,n=n||p!==c}return n?o:t}}function bindActionCreator(t,e){return function(){return e(t.apply(this,arguments))}}function bindActionCreators(t,e){if("function"===typeof t)return bindActionCreator(t,e);if("object"!==("undefined"===typeof t?"undefined":i(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":"undefined"===typeof t?"undefined":i(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),n={},o=0;o<r.length;o++){var a=r[o],s=t[a];"function"===typeof s&&(n[a]=bindActionCreator(s,e))}return n}function compose(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function applyMiddleware(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=t.apply(void 0,n),s=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},u={getState:i.getState,dispatch:function dispatch(){return s.apply(void 0,arguments)}},l=e.map((function(t){return t(u)}));return s=compose.apply(void 0,l)(i.dispatch),a({},i,{dispatch:s})}}}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(893))},function(t,e,r){"use strict";function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(e,"a",(function(){return _toConsumableArray}))},function(t,e,r){"use strict";r.r(e);var n=r(25),o=r.n(n),i=r(0),a=r.n(i),s=r(10),u=r.n(s),l=r(431),c=r.n(l),p=r(49),f=r.n(p),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var h=function(t){function Router(){var e,r;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Router);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},_possibleConstructorReturn(r,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Router,t),Router.prototype.getChildContext=function getChildContext(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},Router.prototype.computeMatch=function computeMatch(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},Router.prototype.componentWillMount=function componentWillMount(){var t=this,e=this.props,r=e.children,n=e.history;f()(null==r||1===a.a.Children.count(r),"A <Router> may have only one child element"),this.unlisten=n.listen((function(){t.setState({match:t.computeMatch(n.location.pathname)})}))},Router.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){o()(this.props.history===t.history,"You cannot change <Router history>")},Router.prototype.componentWillUnmount=function componentWillUnmount(){this.unlisten()},Router.prototype.render=function render(){var t=this.props.children;return t?a.a.Children.only(t):null},Router}(a.a.Component);h.propTypes={history:u.a.object.isRequired,children:u.a.node},h.contextTypes={router:u.a.object},h.childContextTypes={router:u.a.object.isRequired};var m=h;function MemoryRouter_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=function(t){function MemoryRouter(){var e,r;!function MemoryRouter_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MemoryRouter);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=MemoryRouter_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),r.history=c()(r.props),MemoryRouter_possibleConstructorReturn(r,e)}return function MemoryRouter_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(MemoryRouter,t),MemoryRouter.prototype.componentWillMount=function componentWillMount(){o()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},MemoryRouter.prototype.render=function render(){return a.a.createElement(m,{history:this.history,children:this.props.children})},MemoryRouter}(a.a.Component);y.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var g=y;var v=function(t){function Prompt(){return function Prompt_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Prompt),function Prompt_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Prompt_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Prompt,t),Prompt.prototype.enable=function enable(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},Prompt.prototype.disable=function disable(){this.unblock&&(this.unblock(),this.unblock=null)},Prompt.prototype.componentWillMount=function componentWillMount(){f()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},Prompt.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},Prompt.prototype.componentWillUnmount=function componentWillUnmount(){this.disable()},Prompt.prototype.render=function render(){return null},Prompt}(a.a.Component);v.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},v.defaultProps={when:!0},v.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired};var _=v,b=r(152);var S=function(t){function Redirect(){return function Redirect_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Redirect),function Redirect_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Redirect_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Redirect,t),Redirect.prototype.isStatic=function isStatic(){return this.context.router&&this.context.router.staticContext},Redirect.prototype.componentWillMount=function componentWillMount(){f()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},Redirect.prototype.componentDidMount=function componentDidMount(){this.isStatic()||this.perform()},Redirect.prototype.componentDidUpdate=function componentDidUpdate(t){var e=Object(b.a)(t.to),r=Object(b.a)(this.props.to);Object(b.b)(e,r)?o()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"'):this.perform()},Redirect.prototype.perform=function perform(){var t=this.context.router.history,e=this.props,r=e.push,n=e.to;r?t.push(n):t.replace(n)},Redirect.prototype.render=function render(){return null},Redirect}(a.a.Component);S.propTypes={push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired},S.defaultProps={push:!1},S.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired};var x=S,w=r(432),E=r.n(w),P={},T=0,D=function compilePath(t,e){var r=""+e.end+e.strict+e.sensitive,n=P[r]||(P[r]={});if(n[t])return n[t];var o=[],i={re:E()(t,o,e),keys:o};return T<1e4&&(n[t]=i,T++),i},M=function matchPath(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e={path:e});var r=e,n=r.path,o=void 0===n?"/":n,i=r.exact,a=void 0!==i&&i,s=r.strict,u=void 0!==s&&s,l=r.sensitive,c=void 0!==l&&l,p=D(o,{end:a,strict:u,sensitive:c}),f=p.re,d=p.keys,h=f.exec(t);if(!h)return null;var m=h[0],y=h.slice(1),g=t===m;return a&&!g?null:{path:o,url:"/"===o&&""===m?"/":m,isExact:g,params:d.reduce((function(t,e,r){return t[e.name]=y[r],t}),{})}},A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Route_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var R=function isEmptyChildren(t){return 0===a.a.Children.count(t)},L=function(t){function Route(){var e,r;!function Route_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Route);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=Route_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},Route_possibleConstructorReturn(r,e)}return function Route_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Route,t),Route.prototype.getChildContext=function getChildContext(){return{router:A({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},Route.prototype.computeMatch=function computeMatch(t,e){var r=t.computedMatch,n=t.location,o=t.path,i=t.strict,a=t.exact,s=t.sensitive;if(r)return r;f()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,l=(n||u.location).pathname;return o?M(l,{path:o,strict:i,exact:a,sensitive:s}):u.match},Route.prototype.componentWillMount=function componentWillMount(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!R(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!R(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},Route.prototype.componentWillReceiveProps=function componentWillReceiveProps(t,e){o()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},Route.prototype.render=function render(){var t=this.state.match,e=this.props,r=e.children,n=e.component,render=e.render,o=this.context.router,i=o.history,s=o.route,u=o.staticContext,l={match:t,location:this.props.location||s.location,history:i,staticContext:u};return n?t?a.a.createElement(n,l):null:render?t?render(l):null:r?"function"===typeof r?r(l):R(r)?null:a.a.Children.only(r):null},Route}(a.a.Component);L.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},L.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},L.childContextTypes={router:u.a.object.isRequired};var I=L,O=r(107),k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function StaticRouter_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var F=function addBasename(t,e){return t?k({},e,{pathname:Object(O.addLeadingSlash)(t)+e.pathname}):e},N=function stripBasename(t,e){if(!t)return e;var r=Object(O.addLeadingSlash)(t);return 0!==e.pathname.indexOf(r)?e:k({},e,{pathname:e.pathname.substr(r.length)})},B=function createLocation(t){return"string"===typeof t?Object(O.parsePath)(t):function normalizeLocation(t){var e=t.pathname,r=void 0===e?"/":e,n=t.search,o=void 0===n?"":n,i=t.hash,a=void 0===i?"":i;return{pathname:r,search:"?"===o?"":o,hash:"#"===a?"":a}}(t)},U=function createURL(t){return"string"===typeof t?t:Object(O.createPath)(t)},z=function staticHandler(t){return function(){f()(!1,"You cannot %s with <StaticRouter>",t)}},j=function noop(){},G=function(t){function StaticRouter(){var e,r;!function StaticRouter_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StaticRouter);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=StaticRouter_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),r.createHref=function(t){return Object(O.addLeadingSlash)(r.props.basename+U(t))},r.handlePush=function(t){var e=r.props,n=e.basename,o=e.context;o.action="PUSH",o.location=F(n,B(t)),o.url=U(o.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,o=e.context;o.action="REPLACE",o.location=F(n,B(t)),o.url=U(o.location)},r.handleListen=function(){return j},r.handleBlock=function(){return j},StaticRouter_possibleConstructorReturn(r,e)}return function StaticRouter_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(StaticRouter,t),StaticRouter.prototype.getChildContext=function getChildContext(){return{router:{staticContext:this.props.context}}},StaticRouter.prototype.componentWillMount=function componentWillMount(){o()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},StaticRouter.prototype.render=function render(){var t=this.props,e=t.basename,r=(t.context,t.location),n=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:N(e,B(r)),push:this.handlePush,replace:this.handleReplace,go:z("go"),goBack:z("goBack"),goForward:z("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(m,k({},n,{history:o}))},StaticRouter}(a.a.Component);G.propTypes={basename:u.a.string,context:u.a.object.isRequired,location:u.a.oneOfType([u.a.string,u.a.object])},G.defaultProps={basename:"",location:"/"},G.childContextTypes={router:u.a.object.isRequired};var V=G;var W=function(t){function Switch(){return function Switch_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Switch),function Switch_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function Switch_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Switch,t),Switch.prototype.componentWillMount=function componentWillMount(){f()(this.context.router,"You should not use <Switch> outside a <Router>")},Switch.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){o()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},Switch.prototype.render=function render(){var t=this.context.router.route,e=this.props.children,r=this.props.location||t.location,n=void 0,o=void 0;return a.a.Children.forEach(e,(function(e){if(a.a.isValidElement(e)){var i=e.props,s=i.path,u=i.exact,l=i.strict,c=i.sensitive,p=i.from,f=s||p;null==n&&(o=e,n=f?M(r.pathname,{path:f,exact:u,strict:l,sensitive:c}):t.match)}})),n?a.a.cloneElement(o,{location:r,computedMatch:n}):null},Switch}(a.a.Component);W.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},W.propTypes={children:u.a.node,location:u.a.object};var q=W,H=r(433),K=r.n(H),Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var Z=function withRouter(t){var e=function C(e){var r=e.wrappedComponentRef,n=function withRouter_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(e,["wrappedComponentRef"]);return a.a.createElement(I,{render:function render(e){return a.a.createElement(t,Y({},n,e,{ref:r}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:u.a.func},K()(e,t)};r.d(e,"MemoryRouter",(function(){return g})),r.d(e,"Prompt",(function(){return _})),r.d(e,"Redirect",(function(){return x})),r.d(e,"Route",(function(){return I})),r.d(e,"Router",(function(){return m})),r.d(e,"StaticRouter",(function(){return V})),r.d(e,"Switch",(function(){return q})),r.d(e,"matchPath",(function(){return M})),r.d(e,"withRouter",(function(){return Z}))},function(t,e,r){t.exports=r(597)},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(144));e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default((function(t,r){return function step(o,i){try{var a=e[o](i),s=a.value}catch(u){return void r(u)}if(!a.done)return n.default.resolve(s).then((function(t){step("next",t)}),(function(t){step("throw",t)}));t(s)}("next")}))}}},function(t,e,r){var n=r(91),o=r(320),i=r(232),a=Object.defineProperty;e.f=r(111)?Object.defineProperty:function defineProperty(t,e,r){if(n(t),e=i(e,!0),n(r),o)try{return a(t,e,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patch=e.postForm=e.post=e.get=void 0;var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100)),i=_interopRequireDefault(r(144));e.get=function(){var t=(0,o.default)(n.default.mark((function _callee(t,e){return n.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ensureInit();case 2:return r.abrupt("return",new i.default((function(r,n){p.get(t,{query:e,json:!0},f(r,n))})));case 3:case"end":return r.stop()}}),_callee,this)})));return function get(e,r){return t.apply(this,arguments)}}(),e.post=function(){var t=(0,o.default)(n.default.mark((function _callee2(t,e){return n.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ensureInit();case 2:return r.abrupt("return",new i.default((function(r,n){p.post(t,{body:e,json:!0},f(r,n))})));case 3:case"end":return r.stop()}}),_callee2,this)})));return function post(e,r){return t.apply(this,arguments)}}(),e.postForm=function(){var t=(0,o.default)(n.default.mark((function _callee3(t,e){return n.default.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ensureInit();case 2:return r.abrupt("return",new i.default((function(r,n){p.post(t,{body:s.default.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}},f(r,n))})));case 3:case"end":return r.stop()}}),_callee3,this)})));return function postForm(e,r){return t.apply(this,arguments)}}(),e.patch=function(){var t=(0,o.default)(n.default.mark((function _callee4(t,e){return n.default.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ensureInit();case 2:return r.abrupt("return",new i.default((function(r,n){p.patch(t,{body:e,json:!0},f(r,n))})));case 3:case"end":return r.stop()}}),_callee4,this)})));return function patch(e,r){return t.apply(this,arguments)}}();e.configure=configure;var a=_interopRequireDefault(r(241)),s=_interopRequireDefault(r(167)),u=_interopRequireDefault(r(182)),l=r(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var c,p=(0,a.default)(),f=u.default;function ensureInit(){return c||(c=configure()),c}function configure(t,e){var r={baseUrl:l.COMMA_URL_ROOT,jwt:!1,parse:null};return t&&(r.token="JWT "+t),f=e||u.default,p.configure(r),c=i.default.resolve()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function ownerDocument(t){return t&&t.ownerDocument||document};e.default=n},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=n(r(197)),a=n(r(75));var s=function createSvgIcon(t,e){var r=function Icon(e){return o.default.createElement(a.default,e,t)};return r.displayName=e,(r=(0,i.default)(r)).muiName="SvgIcon",r};e.default=s},function(t,e){function keyCode(t){if(t&&"object"===typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"===typeof t)return i[t];var o,a=String(t);return(o=r[a.toLowerCase()])?o:(o=n[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(t,e){if(t&&"object"===typeof t){var o=t.which||t.keyCode||t.charCode;if(null===o||void 0===o)return!1;if("string"===typeof e){var i;if(i=r[e.toLowerCase()])return i===o;if(i=n[e.toLowerCase()])return i===o}else if("number"===typeof e)return e===o;return!1}};var r=(e=t.exports=keyCode).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var i=e.names=e.title={};for(o in r)i[r[o]]=o;for(var a in n)r[a]=n[a]},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(912))},function(t,e,r){"use strict";e.__esModule=!0;e.addLeadingSlash=function addLeadingSlash(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function stripLeadingSlash(t){return"/"===t.charAt(0)?t.substr(1):t};var n=e.hasBasename=function hasBasename(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)};e.stripBasename=function stripBasename(t,e){return n(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function stripTrailingSlash(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function parsePath(t){var e=t||"/",r="",n="",o=e.indexOf("#");-1!==o&&(n=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(r=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===r?"":r,hash:"#"===n?"":n}},e.createPath=function createPath(t){var e=t.pathname,r=t.search,n=t.hash,o=e||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}},function(t,e,r){t.exports={default:r(954),__esModule:!0}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,r){t.exports=!r(136)((function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7}}).a}))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(748))},function(t,e,r){"use strict";function _interopDefault(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var n=_interopDefault(r(764)),o=_interopDefault(r(765)),i=_interopDefault(r(766)),a=_interopDefault(r(768)),s=_interopDefault(r(355)),u=_interopDefault(r(770)),l=_interopDefault(r(771)),c=_interopDefault(r(0));_interopDefault(r(773)),_interopDefault(r(776));var p=function(){var t=null;return function(){if(null!==t)return t;var e=!1;try{window.addEventListener("test",null,function defineProperty(t,e,r){return Object.defineProperty(t,e,r)}({},"passive",{get:function get(){e=!0}}))}catch(r){}return t=e,e}()}(),f={capture:!1,passive:!1};function mergeDefaultEventOptions(t){return l({},f,t)}function getEventListenerArgs(t,e,r){var n=[t,e];return n.push(p?r:r.capture),n}function on(t,e,r,n){t.addEventListener.apply(t,getEventListenerArgs(e,r,n))}function off(t,e,r,n){t.removeEventListener.apply(t,getEventListenerArgs(e,r,n))}function forEachListener(t,e){t.children,t.target;var r=u(t,["children","target"]);Object.keys(r).forEach((function(t){if("on"===t.substring(0,2)){var n=r[t],o=s(n),i="object"===o;if(i||"function"===o){var a="capture"===t.substr(-7).toLowerCase(),u=t.substring(2).toLowerCase();u=a?u.substring(0,u.length-7):u,i?e(u,n.handler,n.options):e(u,n,mergeDefaultEventOptions({capture:a}))}}}))}var d=function(t){function EventListener(){return n(this,EventListener),i(this,(EventListener.__proto__||Object.getPrototypeOf(EventListener)).apply(this,arguments))}return a(EventListener,t),o(EventListener,[{key:"componentDidMount",value:function componentDidMount(){this.applyListeners(on)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.applyListeners(off,t),this.applyListeners(on)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.applyListeners(off)}},{key:"applyListeners",value:function applyListeners(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,r=e.target;if(r){var n=r;"string"===typeof r&&(n=window[r]),forEachListener(e,t.bind(null,n))}}},{key:"render",value:function render(){return this.props.children||null}}]),EventListener}(c.PureComponent);d.propTypes={},e.withOptions=function withOptions(t,e){return{handler:t,options:mergeDefaultEventOptions(e)}},e.default=d},function(t,e){var r,n,o=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(r===setTimeout)return setTimeout(t,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{n="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){n=defaultClearTimeout}}();var i,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=a.length;e;){for(i=a,a=[];++u<e;)i&&i[u].run();u=-1,e=a.length}i=null,s=!1,function runClearTimeout(t){if(n===clearTimeout)return clearTimeout(t);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new Item(t,e)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){var n=r(271);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){n(t,e,r[e])}))}return t}},function(t,e){t.exports=function extend(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var o in n)r.call(n,o)&&(t[o]=n[o])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(851))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=e.routerMiddleware=e.connectRouter=e.ConnectedRouter=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.LOCATION_CHANGE=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=_interopRequireDefault(r(588)),i=_interopRequireDefault(r(592));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=_get__("createAll")(_get__("plainStructure")),s=a.LOCATION_CHANGE,u=a.CALL_HISTORY_METHOD,l=a.push,c=a.replace,p=a.go,f=a.goBack,d=a.goForward,h=a.routerActions,m=a.ConnectedRouter,y=a.connectRouter,g=a.routerMiddleware;function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.LOCATION_CHANGE=s,e.CALL_HISTORY_METHOD=u,e.push=l,e.replace=c,e.go=p,e.goBack=f,e.goForward=d,e.routerActions=h,e.ConnectedRouter=m,e.connectRouter=y,e.routerMiddleware=g;var v=null;function _getRewireModuleId__(){if(null===v){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),v=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return v}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var _="__INTENTIONAL_UNDEFINED__",b={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"createAll":return o.default;case"plainStructure":return i.default}return}(t);var r=e[t];return r===_?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?_:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(b,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}(),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=b,e.default=b}).call(this,r(32))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(761))},function(t,e,r){(function(e){var n=r(976).default,o="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";t.exports={window:"undefined"!==typeof window?window:e,global:"undefined"!==typeof e?e:window,document:"undefined"!==typeof document?document:{},isBrowser:n,userAgent:o}}).call(this,r(32))},function(t,e,r){var n=r(101),o=r(157);t.exports=r(111)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(323),o=r(230);t.exports=function(t){return n(o(t))}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(762))},function(t,e,r){"use strict";r.r(e),function(t,n){var o,i=r(430);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:n;var a=Object(i.a)(o);e.default=a}.call(this,r(32),r(583)(t))},function(t,e){t.exports=function scale(t,e,r){var n=r[0],o=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function translate(t,e,r){var n,o,i,a,s,u,l,c,p,f,d,h,m=r[0],y=r[1],g=r[2];e===t?(t[12]=e[0]*m+e[4]*y+e[8]*g+e[12],t[13]=e[1]*m+e[5]*y+e[9]*g+e[13],t[14]=e[2]*m+e[6]*y+e[10]*g+e[14],t[15]=e[3]*m+e[7]*y+e[11]*g+e[15]):(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=p,t[9]=f,t[10]=d,t[11]=h,t[12]=n*m+s*y+p*g+e[12],t[13]=o*m+u*y+f*g+e[13],t[14]=i*m+l*y+d*g+e[14],t[15]=a*m+c*y+h*g+e[15]);return t}},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function toJSON(t,e){if("object"!==("undefined"===typeof t?"undefined":n(t))||!t._capnp)return t;if(Array.isArray(t))return t.map(toJSON);e=e||t.constructor;var r=t.which?t.which():-1;if(t.constructor._capnp.displayName.startsWith("List"))return t.toArray().map((function(t){return toJSON(t)}));var o={};return Object.keys(t.constructor.prototype).forEach((function(n){if(n.startsWith("get")){for(var i=n.substr(3),a="",s=!1,u=0,l=i.length;u<l;++u)i[u].toLowerCase()!==i[u]?(s&&(a+="_"),s=!1):s=!0,a+=i[u].toUpperCase();r===e[a]?(assignGetter(o,i,t,n),i,a):void 0===e[a]&&assignGetter(o,i,t,n)}})),o}function assignGetter(t,e,r,n){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function get(){var o=r[n]();switch(o.constructor.name){case"Uint64":case"Int64":o=o.toString();break;case"Pointer":break;default:o=toJSON(o)}return Object.defineProperty(t,e,{configurable:!1,writable:!1,value:o}),o}})}t.exports=toJSON},,function(t,e){t.exports=function multiply(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],m=e[12],y=e[13],g=e[14],v=e[15],_=r[0],b=r[1],S=r[2],x=r[3];return t[0]=_*n+b*s+S*p+x*m,t[1]=_*o+b*u+S*f+x*y,t[2]=_*i+b*l+S*d+x*g,t[3]=_*a+b*c+S*h+x*v,_=r[4],b=r[5],S=r[6],x=r[7],t[4]=_*n+b*s+S*p+x*m,t[5]=_*o+b*u+S*f+x*y,t[6]=_*i+b*l+S*d+x*g,t[7]=_*a+b*c+S*h+x*v,_=r[8],b=r[9],S=r[10],x=r[11],t[8]=_*n+b*s+S*p+x*m,t[9]=_*o+b*u+S*f+x*y,t[10]=_*i+b*l+S*d+x*g,t[11]=_*a+b*c+S*h+x*v,_=r[12],b=r[13],S=r[14],x=r[15],t[12]=_*n+b*s+S*p+x*m,t[13]=_*o+b*u+S*f+x*y,t[14]=_*i+b*l+S*d+x*g,t[15]=_*a+b*c+S*h+x*v,t}},function(t,e){t.exports=function transformMat4(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t}},function(t,e,r){"undefined"!==typeof window&&function webpackUniversalModuleDefinition(e,r){t.exports=r()}(0,(function(){return function(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":function node_modulesEventemitter3IndexJs(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function Events(){}function EE(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function addListener(t,e,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new EE(r,n||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function clearEvent(t,e){0===--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(o=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},EventEmitter.prototype.listeners=function listeners(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},EventEmitter.prototype.listenerCount=function listenerCount(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},EventEmitter.prototype.emit=function emit(t,e,r,n,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,a),!0}for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),p){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(p-1);f<p;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},EventEmitter.prototype.on=function on(t,e,r){return addListener(this,t,e,r,!1)},EventEmitter.prototype.once=function once(t,e,r){return addListener(this,t,e,r,!0)},EventEmitter.prototype.removeListener=function removeListener(t,e,r,n){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return clearEvent(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||clearEvent(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==e||n&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:clearEvent(this,i)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e;return t?(e=o?o+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=o,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},"./node_modules/node-libs-browser/node_modules/events/events.js":function node_modulesNodeLibsBrowserNode_modulesEventsEventsJs(t,e){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(t){return"function"===typeof t}function isObject(t){return"object"===typeof t&&null!==t}function isUndefined(t){return void 0===t}t.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(t){if(!function isNumber(t){return"number"===typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},EventEmitter.prototype.emit=function(t){var e,r,n,o,i,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(isUndefined(r=this._events[t]))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(isObject(r))for(o=Array.prototype.slice.call(arguments,1),n=(a=r.slice()).length,i=0;i<n;i++)a[i].apply(this,o);return!0},EventEmitter.prototype.addListener=function(t,e){var r;if(!isFunction(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,isFunction(e.listener)?e.listener:e),this._events[t]?isObject(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,isObject(this._events[t])&&!this._events[t].warned&&(r=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(t,e){if(!isFunction(e))throw TypeError("listener must be a function");var r=!1;function g(){this.removeListener(t,g),r||(r=!0,e.apply(this,arguments))}return g.listener=e,this.on(t,g),this},EventEmitter.prototype.removeListener=function(t,e){var r,n,o,i;if(!isFunction(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(r=this._events[t]).length,n=-1,r===e||isFunction(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(isObject(r)){for(i=o;i-- >0;)if(r[i]===e||r[i].listener&&r[i].listener===e){n=i;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},EventEmitter.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},EventEmitter.prototype.listeners=function(t){return this._events&&this._events[t]?isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[]},EventEmitter.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(isFunction(e))return 1;if(e)return e.length}return 0},EventEmitter.listenerCount=function(t,e){return t.listenerCount(e)}},"./node_modules/url-toolkit/src/url-toolkit.js":function node_modulesUrlToolkitSrcUrlToolkitJs(t,e,r){!function(e){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function buildAbsoluteURL(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(l.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var c=s.path,p=c.substring(0,c.lastIndexOf("/")+1)+i.path;l.path=a.normalizePath(p)}else l.path=s.path,i.params||(l.params=s.params,i.query||(l.query=s.query));return null===l.path&&(l.path=r.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(l)},parseURL:function parseURL(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function normalizePath(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function buildURLFromParts(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},"./node_modules/webworkify-webpack/index.js":function node_modulesWebworkifyWebpackIndexJs(t,e,r){function webpackBootstrapFunc(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__.oe=function(t){throw console.error(t),t};var r=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return r.default||r}var n="[\\.|\\-|\\+|\\w|/|@]+",o="\\((/\\*.*?\\*/)?s?.*?("+n+").*?\\)";function quoteRegExp(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function getModuleDependencies(t,e,i){var a={};a[i]=[];var s=e.toString(),u=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;for(var l,c=u[1],p=new RegExp("(\\\\n|\\W)"+quoteRegExp(c)+o,"g");l=p.exec(s);)"dll-reference"!==l[3]&&a[i].push(l[3]);for(p=new RegExp("\\("+quoteRegExp(c)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+o,"g");l=p.exec(s);)t[l[2]]||(a[i].push(l[1]),t[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var f,d=Object.keys(a),h=0;h<d.length;h++)for(var m=0;m<a[d[h]].length;m++)f=a[d[h]][m],isNaN(1*f)||(a[d[h]][m]=1*a[d[h]][m]);return a}function hasValuesInQueues(t){return Object.keys(t).reduce((function(e,r){return e||t[r].length>0}),!1)}t.exports=function(t,e){e=e||{};var n={main:r.m},o=e.all?{main:Object.keys(n.main)}:function getRequiredModules(t,e){for(var r={main:[e]},n={main:[]},o={main:{}};hasValuesInQueues(r);)for(var i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],u=r[s].pop();if(o[s]=o[s]||{},!o[s][u]&&t[s][u]){o[s][u]=!0,n[s]=n[s]||[],n[s].push(u);for(var l=getModuleDependencies(t,t[s][u],s),c=Object.keys(l),p=0;p<c.length;p++)r[c[p]]=r[c[p]]||[],r[c[p]]=r[c[p]].concat(l[c[p]])}}return n}(n,t),i="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i=i+"var "+t+" = ("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+n[t][e].toString()})).join(",")+"});\n"})),i=i+"new (("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+n.main[t].toString()})).join(",")+"}))(self);";var a=new window.Blob([i],{type:"text/javascript"});if(e.bare)return a;var s=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(a),u=new window.Worker(s);return u.objectURL=s,u}},"./src/config.js":function srcConfigJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/controller/abr-controller.js"),o=r("./src/controller/buffer-controller.js"),i=r("./src/controller/cap-level-controller.js"),a=r("./src/controller/fps-controller.js"),s=r("./src/utils/xhr-loader.js"),u=r("./src/controller/audio-track-controller.js"),l=r("./src/controller/audio-stream-controller.js"),c=r("./src/utils/cues.js"),p=r("./src/controller/timeline-controller.js"),f=r("./src/controller/subtitle-track-controller.js"),d=r("./src/controller/subtitle-stream-controller.js"),h=r("./src/controller/eme-controller.js"),m=r("./src/utils/mediakeys-helper.js");e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:n.default,bufferController:o.default,capLevelController:i.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess,disablePtsDtsCorrectionInMp4Remux:!1},e.hlsDefaultConfig.subtitleStreamController=d.SubtitleStreamController,e.hlsDefaultConfig.subtitleTrackController=f.default,e.hlsDefaultConfig.timelineController=p.default,e.hlsDefaultConfig.cueHandler=c,e.hlsDefaultConfig.enableCEA708Captions=!0,e.hlsDefaultConfig.enableWebVTT=!0,e.hlsDefaultConfig.captionsTextTrack1Label="English",e.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",e.hlsDefaultConfig.captionsTextTrack2Label="Spanish",e.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",e.hlsDefaultConfig.audioStreamController=l.default,e.hlsDefaultConfig.audioTrackController=u.default,e.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":function srcControllerAbrControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/utils/buffer-helper.js"),s=r("./src/errors.js"),u=r("./src/utils/logger.js"),l=r("./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,p=function(e){function AbrController(t){var r=e.call(this,t,o.default.FRAG_LOADING,o.default.FRAG_LOADED,o.default.FRAG_BUFFERED,o.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=t,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return n(AbrController,e),AbrController.prototype.destroy=function(){this.clearTimer(),i.default.prototype.destroy.call(this)},AbrController.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,n=r.config,o=e.level,i=void 0,a=void 0;r.levels[o].details.live?(i=n.abrEwmaFastLive,a=n.abrEwmaSlowLive):(i=n.abrEwmaFastVoD,a=n.abrEwmaSlowVoD),this._bwEstimator=new l.default(r,a,i,n.abrEwmaDefaultEstimate)}},AbrController.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,r=this.fragCurrent;if(r){var n=r.loader,i=t.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=n.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&r.autoLevel&&r.level){var l=c.now()-s.trequest,p=Math.abs(e.playbackRate);if(l>500*r.duration/p){var f=t.levels,d=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),h=f[r.level],m=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,y=s.total?s.total:Math.max(s.loaded,Math.round(r.duration*m/8)),g=e.currentTime,v=(y-s.loaded)/d,_=(a.BufferHelper.bufferInfo(e,g,t.config.maxBufferHole).end-g)/p;if(_<2*r.duration/p&&v>_){var b=void 0,S=void 0;for(S=r.level-1;S>i;S--){var x=f[S].realBitrate?Math.max(f[S].realBitrate,f[S].bitrate):f[S].bitrate;if((b=r.duration*x/(6.4*d))<_)break}b<v&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+S+":fragLoadedDelay["+S+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+v.toFixed(1)+":"+_.toFixed(1)),t.nextLoadLevel=S,this._bwEstimator.sample(l,s.loaded),n.abort(),this.clearTimer(),t.trigger(o.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:s}))}}}}},AbrController.prototype.onFragLoaded=function(e){var r=e.frag;if("main"===r.type&&t.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[r.level],o=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:o,duration:i},n.realBitrate=Math.round(8*o/i)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},AbrController.prototype.onFragBuffered=function(e){var r=e.stats,n=e.frag;if(!0!==r.aborted&&"main"===n.type&&t.isFinite(n.sn)&&(!n.bitrateTest||r.tload===r.tbuffered)){var o=r.tparsed-r.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(o,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},AbrController.prototype.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},AbrController.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(AbrController.prototype,"nextAutoLevel",{get:function get(){var t=this._nextAutoLevel,e=this._bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var r=this._nextABRAutoLevel;return-1!==t&&(r=Math.min(t,r)),r},set:function set(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(AbrController.prototype,"_nextABRAutoLevel",{get:function get(){var t=this.hls,e=t.maxAutoLevel,r=t.levels,n=t.config,o=t.minAutoLevel,i=t.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=i?i.currentTime:0,p=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(a.BufferHelper.bufferInfo(i,c,n.maxBufferHole).end-c)/p,h=this._findBestLevel(s,l,f,o,e,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(h>=0)return h;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var m=l?Math.min(l,n.maxStarvationDelay):n.maxStarvationDelay,y=n.abrBandWidthFactor,g=n.abrBandWidthUpFactor;if(0===d){var v=this.bitrateTestDelay;if(v)m=(l?Math.min(l,n.maxLoadingDelay):n.maxLoadingDelay)-v,u.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*m)+" ms"),y=g=1}return h=this._findBestLevel(s,l,f,o,e,d+m,y,g,r),Math.max(h,0)},enumerable:!0,configurable:!0}),AbrController.prototype._findBestLevel=function(t,e,r,n,o,i,a,s,l){for(var c=o;c>=n;c--){var p=l[c];if(p){var f=p.details,d=f?f.totalduration/f.fragments.length:e,h=!!f&&f.live,m=void 0;m=c<=t?a*r:s*r;var y=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=y*d/m;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(m)+"/"+y+"/"+d+"/"+i+"/"+g),m>y&&(!g||h&&!this.bitrateTestDelay||g<i))return c}}return-1},AbrController}(i.default);e.default=p}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":function srcControllerAudioStreamControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/utils/binary-search.js"),i=r("./src/utils/buffer-helper.js"),a=r("./src/demux/demuxer.js"),s=r("./src/events.js"),u=r("./src/controller/level-helper.js"),l=r("./src/utils/time-ranges.js"),c=r("./src/errors.js"),p=r("./src/utils/logger.js"),f=r("./src/utils/discontinuities.js"),d=r("./src/controller/fragment-tracker.js"),h=r("./src/loader/fragment.js"),m=r("./src/controller/base-stream-controller.js"),y=window.performance,g=function(e){function AudioStreamController(t,r){var n=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=m.State.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return n(AudioStreamController,e),AudioStreamController.prototype.onInitPtsFound=function(t){var e=t.id,r=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[r]=n,this.videoTrackCC=r,p.logger.log("InitPTS for cc: "+r+" found from video track: "+n),this.state===m.State.WAITING_INIT_PTS&&this.tick())},AudioStreamController.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(p.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=m.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=m.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=m.State.STOPPED},Object.defineProperty(AudioStreamController.prototype,"state",{get:function get(){return this._state},set:function set(t){if(this.state!==t){var e=this.state;this._state=t,p.logger.log("audio stream:"+e+"->"+t)}},enumerable:!0,configurable:!0}),AudioStreamController.prototype.doTick=function(){var e,r,n,a=this.hls,u=a.config;switch(this.state){case m.State.ERROR:case m.State.PAUSED:case m.State.BUFFER_FLUSHING:break;case m.State.STARTING:this.state=m.State.WAITING_TRACK,this.loadedmetadata=!1;break;case m.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!u.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,h=this.videoBuffer?this.videoBuffer:this.media,g=i.BufferHelper.bufferInfo(c,e,u.maxBufferHole),v=i.BufferHelper.bufferInfo(h,e,u.maxBufferHole),_=g.len,b=g.end,S=this.fragPrevious,x=Math.min(u.maxBufferLength,u.maxMaxBufferLength),w=Math.max(x,v.len),E=this.audioSwitch,P=this.trackId;if((_<w||E)&&P<l.length){if("undefined"===typeof(n=l[P].details)){this.state=m.State.WAITING_TRACK;break}if(!E&&this._streamEnded(g,n))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=m.State.ENDED);var C=n.fragments,T=C.length,D=C[0].start,M=C[T-1].start+C[T-1].duration,A=void 0;if(E)if(n.live&&!n.PTSKnown)p.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),b=0;else if(b=e,n.PTSKnown&&e<D){if(!(g.end>D||g.nextStart))return;p.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=D+.05}if(n.initSegment&&!n.initSegment.data)A=n.initSegment;else if(b<=D){if(A=C[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=f.findFragWithCC(C,this.videoTrackCC)),n.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var R=g.nextStart?g.nextStart:D;return p.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(R+.05)),void(this.media.currentTime=R+.05)}}else{var L=void 0,I=u.maxFragLookUpTolerance,O=S?C[S.sn-C[0].sn+1]:void 0,k=function fragmentWithinToleranceTest(t){var e=Math.min(I,t.duration);return t.start+t.duration-e<=b?1:t.start-e>b&&t.start?-1:0};b<M?(b>M-I&&(I=0),L=O&&!k(O)?O:o.default.search(C,k)):L=C[T-1],L&&(A=L,D=L.start,S&&A.level===S.level&&A.sn===S.sn&&(A.sn<n.endSN?(A=C[A.sn+1-n.startSN],p.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(p.logger.log("Loading key for "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+P),this.state=m.State.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:A})):(p.logger.log("Loading "+A.sn+", cc: "+A.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+P+", currentTime:"+e+",bufferEnd:"+b.toFixed(3)),this.fragCurrent=A,(E||this.fragmentTracker.getState(A)===d.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,t.isFinite(A.sn)&&(this.nextLoadPosition=A.start+A.duration),a.trigger(s.default.FRAG_LOADING,{frag:A}),this.state=m.State.FRAG_LOADING)))}break;case m.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=m.State.IDLE);break;case m.State.FRAG_LOADING_WAITING_RETRY:var F=y.now(),N=this.retryDate,B=(c=this.media)&&c.seeking;(!N||F>=N||B)&&(p.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=m.State.IDLE);break;case m.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var z=this.waitingFragment;if(z){var j=z.frag.cc;U!==j?(r=this.tracks[this.trackId]).details&&r.details.live&&(p.logger.warn("Waiting fragment CC ("+j+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=m.State.IDLE):(this.state=m.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=m.State.IDLE;break;case m.State.STOPPED:case m.State.FRAG_LOADING:case m.State.PARSING:case m.State.PARSED:case m.State.ENDED:}},AudioStreamController.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},AudioStreamController.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},AudioStreamController.prototype.onAudioTracksUpdated=function(t){p.logger.log("audio tracks updated"),this.tracks=t.audioTracks},AudioStreamController.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=m.State.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=m.State.IDLE),this.tick()},AudioStreamController.prototype.onAudioTrackLoaded=function(e){var r=e.details,n=e.id,o=this.tracks[n],i=r.totalduration,a=0;if(p.logger.log("track "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+i),r.live){var s=o.details;s&&r.fragments.length>0?(u.mergeDetails(s,r),a=r.fragments[0].start,r.PTSKnown?p.logger.log("live audio playlist sliding:"+a.toFixed(3)):p.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,p.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(o.details=r,!this.startFragRequested){if(-1===this.startPosition){var l=r.startTimeOffset;t.isFinite(l)?(p.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===m.State.WAITING_TRACK&&(this.state=m.State.IDLE),this.tick()},AudioStreamController.prototype.onKeyLoaded=function(){this.state===m.State.KEY_LOADING&&(this.state=m.State.IDLE,this.tick())},AudioStreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===m.State.FRAG_LOADING&&e&&"audio"===r.type&&r.level===e.level&&r.sn===e.sn){var n=this.tracks[this.trackId],o=n.details,i=o.totalduration,u=e.level,l=e.sn,c=e.cc,f=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===l)this.state=m.State.IDLE,d.tparsed=d.tbuffered=y.now(),o.initSegment.data=t.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=m.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new a.default(this.hls,"audio"));var h=this.initPTS[c],g=o.initSegment?o.initSegment.data:[];if(o.initSegment||void 0!==h){this.pendingBuffering=!0,p.logger.log("Demuxing "+l+" of ["+o.startSN+" ,"+o.endSN+"],track "+u);this.demuxer.push(t.payload,g,f,null,e,i,!1,h)}else p.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+l+" of ["+o.startSN+" ,"+o.endSN+"],track "+u),this.waitingFragment=t,this.state=m.State.WAITING_INIT_PTS}}this.fragLoadError=0},AudioStreamController.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===m.State.PARSING){var n=t.tracks,o=void 0;if(n.video&&delete n.video,o=n.audio){o.levelCodec=o.codec,o.id=t.id,this.hls.trigger(s.default.BUFFER_CODECS,n),p.logger.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var i=o.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,a))}this.tick()}}},AudioStreamController.prototype.onFragParsingData=function(e){var r=this,n=this.fragCurrent,o=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&o.sn===n.sn&&o.level===n.level&&this.state===m.State.PARSING){var i=this.trackId,a=this.tracks[i],l=this.hls;t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),n.addElementaryStream(h.default.ElementaryStreamTypes.AUDIO),p.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),u.updateFragPTSDTS(a.details,n,e.startPTS,e.endPTS);var f=this.audioSwitch,d=this.media,y=!1;if(f&&d)if(d.readyState){var g=d.currentTime;p.logger.log("switching audio track : currentTime:"+g),g>=e.startPTS&&(p.logger.log("switching audio track : flushing all audio"),this.state=m.State.BUFFER_FLUSHING,l.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),y=!0,this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:i});var v=this.pendingData;if(!v)return p.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void l.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&v.push({type:e.type,data:t,parent:"audio",content:"data"})})),!y&&v.length&&(v.forEach((function(t){r.state===m.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(s.default.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},AudioStreamController.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===m.State.PARSING&&(this.stats.tparsed=y.now(),this.state=m.State.PARSED,this._checkAppendedParsed())},AudioStreamController.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},AudioStreamController.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},AudioStreamController.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==m.State.PARSING&&e!==m.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},AudioStreamController.prototype._checkAppendedParsed=function(){if(this.state===m.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,r=this.hls;if(t){this.fragPrevious=t,e.tbuffered=y.now(),r.trigger(s.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("audio buffered : "+l.default.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=m.State.IDLE}this.tick()}},AudioStreamController.prototype.onError=function(e){var r=e.frag;if(!r||"audio"===r.type)switch(e.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var o=this.fragLoadError;if(o?o++:o=1,o<=(u=this.config).fragLoadingMaxRetry){this.fragLoadError=o;var a=Math.min(Math.pow(2,o-1)*u.fragLoadingRetryDelay,u.fragLoadingMaxRetryTimeout);p.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=y.now()+a,this.state=m.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=m.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==m.State.ERROR&&(this.state=e.fatal?m.State.ERROR:m.State.IDLE,p.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===m.State.PARSING||this.state===m.State.PARSED)){var u,l=this.mediaBuffer,f=this.media.currentTime;if(l&&i.BufferHelper.isBuffered(l,f)&&i.BufferHelper.isBuffered(l,f+.5))(u=this.config).maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,p.logger.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=m.State.IDLE;else p.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=m.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"})}}},AudioStreamController.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(p.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(s.default.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=m.State.PARSED):(this.state=m.State.IDLE,this.fragPrevious=null,this.tick())},AudioStreamController}(m.default);e.default=g}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":function srcControllerAudioTrackControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/task-loop.js"),a=r("./src/utils/logger.js"),s=r("./src/errors.js"),u=function(t){function AudioTrackController(e){var r=t.call(this,e,o.default.MANIFEST_LOADING,o.default.MANIFEST_PARSED,o.default.AUDIO_TRACK_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.LEVEL_LOADED,o.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return n(AudioTrackController,t),AudioTrackController.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},AudioTrackController.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(o.default.AUDIO_TRACKS_UPDATED,{audioTracks:e})},AudioTrackController.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)a.logger.warn("Invalid audio track id:",t.id);else{if(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},AudioTrackController.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},AudioTrackController.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var r=e.audioGroupIds[e.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},AudioTrackController.prototype.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(a.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},Object.defineProperty(AudioTrackController.prototype,"audioTracks",{get:function get(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(AudioTrackController.prototype,"audioTrack",{get:function get(){return this._trackId},set:function set(t){this._setAudioTrack(t),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),AudioTrackController.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)a.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)a.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];a.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var r=e.url,n=e.type,i=e.id;this.hls.trigger(o.default.AUDIO_TRACK_SWITCHING,{id:i,type:n,url:r}),this._loadTrackDetailsIfNeeded(e)}},AudioTrackController.prototype.doTick=function(){this._updateTrack(this._trackId)},AudioTrackController.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var r=this.tracks[this._trackId],n=null;if(r&&(n=r.name),this._selectDefaultTrack){var i=e.filter((function(t){return t.default}));i.length?e=i:a.logger.warn("No default audio tracks defined")}var u=!1,l=function traverseTracks(){e.forEach((function(e){u||t.audioGroupId&&e.groupId!==t.audioGroupId||n&&n!==e.name||(t._setAudioTrack(e.id),u=!0)}))};l(),u||(n=null,l()),u||(a.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},AudioTrackController.prototype._needsTrackLoading=function(t){var e=t.details,r=t.url;return!(e&&!e.live)&&!!r},AudioTrackController.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,r=t.id;a.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(o.default.AUDIO_TRACK_LOADING,{url:e,id:r})}},AudioTrackController.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,a.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},AudioTrackController.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],r=e.name,n=e.language,o=e.groupId;a.logger.warn("Loading failed on audio track id: "+t+", group-id: "+o+', name/language: "'+r+'" / "'+n+'"');for(var i=t,s=0;s<this.tracks.length;s++){if(!this.trackIdBlacklist[s])if(this.tracks[s].name===r){i=s;break}}i!==t?(a.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):a.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+n+'"')},AudioTrackController}(i.default);e.default=u},"./src/controller/base-stream-controller.js":function srcControllerBaseStreamControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/task-loop.js"),i=r("./src/controller/fragment-tracker.js"),a=r("./src/utils/buffer-helper.js"),s=r("./src/utils/logger.js");e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(r){function BaseStreamController(){return null!==r&&r.apply(this,arguments)||this}return n(BaseStreamController,r),BaseStreamController.prototype.doTick=function(){},BaseStreamController.prototype.startLoad=function(){},BaseStreamController.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=e.State.STOPPED},BaseStreamController.prototype._streamEnded=function(t,e){var r=this.fragCurrent,n=this.fragmentTracker;if(!e.live&&r&&!r.backtracked&&r.sn===e.endSN&&!t.nextStart){var o=n.getState(r);return o===i.FragmentState.PARTIAL||o===i.FragmentState.OK}return!1},BaseStreamController.prototype.onMediaSeeking=function(){var r=this.config,n=this.media,o=this.mediaBuffer,i=this.state,u=n?n.currentTime:null,l=a.BufferHelper.bufferInfo(o||n,u,this.config.maxBufferHole);if(t.isFinite(u)&&s.logger.log("media seeking to "+u.toFixed(3)),i===e.State.FRAG_LOADING){var c=this.fragCurrent;if(0===l.len&&c){var p=r.maxFragLookUpTolerance,f=c.start-p,d=c.start+c.duration+p;u<f||u>d?(c.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===e.State.ENDED&&(0===l.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);n&&(this.lastCurrentTime=u),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=u),this.tick()},BaseStreamController.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},BaseStreamController.prototype.onHandlerDestroying=function(){this.stopLoad(),r.prototype.onHandlerDestroying.call(this)},BaseStreamController.prototype.onHandlerDestroyed=function(){this.state=e.State.STOPPED,this.fragmentTracker=null},BaseStreamController}(o.default);e.default=u}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function srcControllerBufferControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/utils/logger.js"),s=r("./src/errors.js"),u=r("./src/utils/mediasource-helper.js").getMediaSource(),l=function(e){function BufferController(t){var r=e.call(this,t,o.default.MEDIA_ATTACHING,o.default.MEDIA_DETACHING,o.default.MANIFEST_PARSED,o.default.BUFFER_RESET,o.default.BUFFER_APPENDING,o.default.BUFFER_CODECS,o.default.BUFFER_EOS,o.default.BUFFER_FLUSHING,o.default.LEVEL_PTS_UPDATED,o.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return n(BufferController,e),BufferController.prototype.destroy=function(){i.default.prototype.destroy.call(this)},BufferController.prototype.onLevelPtsUpdated=function(t){var e=t.type,r=this.tracks.audio;if("audio"===e&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var o=n.updating;try{n.abort()}catch(i){a.logger.warn("can not abort audio buffer: "+i)}o?this.audioTimestampOffset=t.start:(a.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},BufferController.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},BufferController.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var r=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(r),this._objectUrl=e.src}},BufferController.prototype.onMediaDetaching=function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){a.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):a.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(o.default.MEDIA_DETACHED)},BufferController.prototype.onMediaSourceOpen=function(){a.logger.log("media source opened"),this.hls.trigger(o.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},BufferController.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,r=Object.keys(e).length;(r&&!t||2===r)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},BufferController.prototype.onMediaSourceClose=function(){a.logger.log("media source closed")},BufferController.prototype.onMediaSourceEnded=function(){a.logger.log("media source ended")},BufferController.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;a.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,r=this.segments.reduce((function(t,r){return r.parent===e?t+1:t}),0),n={},i=this.sourceBuffer;for(var s in i)n[s]=i[s].buffered;this.hls.trigger(o.default.BUFFER_APPENDED,{parent:e,pending:r,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},BufferController.prototype.onSBUpdateError=function(t){a.logger.error("sourceBuffer error:",t),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var r=t[e];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(n){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},BufferController.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach((function(r){e.pendingTracks[r]=t[r]}));var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},BufferController.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;for(var n in t)if(!e[n]){var i=t[n],u=i.levelCodec||i.codec,l=i.container+";codecs="+u;a.logger.log("creating sourceBuffer("+l+")");try{var c=e[n]=r.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[n]={codec:u,container:i.container},i.buffer=c}catch(p){a.logger.error("error while trying to add sourceBuffer:"+p.message),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:p,mimeType:l})}}this.hls.trigger(o.default.BUFFER_CREATED,{tracks:t})},BufferController.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},BufferController.prototype.onBufferAppendFail=function(t){a.logger.error("sourceBuffer error:",t.event),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferEos=function(t){var e=this.sourceBuffer,r=t.type;for(var n in e)r&&n!==r||e[n].ended||(e[n].ended=!0,a.logger.log(n+" sourceBuffer now EOS"));this.checkEos()},BufferController.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var r in t){var n=t[r];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}a.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(o){a.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},BufferController.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},BufferController.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),o=e-Math.max(t,this._levelTargetDuration),i=n.length-1;i>=0;i--){var a=n[i],s=r[a].buffered;s.length>0&&o>s.start(0)&&this.removeBufferRange(a,r[a],0,o)}}},BufferController.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},BufferController.prototype.updateMediaElementDuration=function(){var e,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(a.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(a.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},BufferController.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,r=this.sourceBuffer;try{for(var n in r)e+=r[n].buffered.length}catch(i){a.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(o.default.BUFFER_FLUSHED)}},BufferController.prototype.doAppending=function(){var t=this.hls,e=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void a.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(e&&e.length){var n=e.shift();try{var i=r[n.type];i?i.updating?e.unshift(n):(i.ended=!1,this.parent=n.parent,i.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(l){a.logger.error("error while trying to append buffer:"+l.message),e.unshift(n);var u={type:s.ErrorTypes.MEDIA_ERROR,parent:n.parent};22!==l.code?(this.appendError?this.appendError++:this.appendError=1,u.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(a.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],u.fatal=!0,t.trigger(o.default.ERROR,u)):(u.fatal=!1,t.trigger(o.default.ERROR,u))):(this.segments=[],u.details=s.ErrorDetails.BUFFER_FULL_ERROR,u.fatal=!1,t.trigger(o.default.ERROR,u))}}}},BufferController.prototype.flushBuffer=function(t,e,r){var n,o=this.sourceBuffer;if(Object.keys(o).length){if(a.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var i in o)if(!r||i===r){if((n=o[i]).ended=!1,n.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,n,t,e))return this.flushBufferCounter++,!1}}else a.logger.warn("abort flushing too many retries");a.logger.log("buffer flushed")}return!0},BufferController.prototype.removeBufferRange=function(t,e,r,n){try{for(var o=0;o<e.buffered.length;o++){var i=e.buffered.start(o),s=e.buffered.end(o),u=Math.max(i,r),l=Math.min(s,n);if(Math.min(l,s)-u>.5)return a.logger.log("sb remove "+t+" ["+u+","+l+"], of ["+i+","+s+"], pos:"+this.media.currentTime),e.remove(u,l),!0}}catch(c){a.logger.warn("removeBufferRange failed",c)}return!1},BufferController}(i.default);e.default=l}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function srcControllerCapLevelControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=function(e){function CapLevelController(r){var n=e.call(this,r,o.default.FPS_DROP_LEVEL_CAPPING,o.default.MEDIA_ATTACHING,o.default.MANIFEST_PARSED,o.default.BUFFER_CODECS,o.default.MEDIA_DETACHING)||this;return n.autoLevelCapping=t.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return n(CapLevelController,e),CapLevelController.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},CapLevelController.prototype.onFpsDropLevelCapping=function(t){CapLevelController.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},CapLevelController.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},CapLevelController.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},CapLevelController.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},CapLevelController.prototype.onLevelsUpdated=function(t){this.levels=t.levels},CapLevelController.prototype.onMediaDetaching=function(){this._stopCapping()},CapLevelController.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},CapLevelController.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,n){return CapLevelController.isLevelAllowed(n,e.restrictedLevels)&&n<=t}));return CapLevelController.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},CapLevelController.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},CapLevelController.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(CapLevelController.prototype,"mediaWidth",{get:function get(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=CapLevelController.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController.prototype,"mediaHeight",{get:function get(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=CapLevelController.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController,"contentScaleFactor",{get:function get(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t},enumerable:!0,configurable:!0}),CapLevelController.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},CapLevelController.getMaxLevelByMediaSize=function(t,e,r){if(!t||t&&!t.length)return-1;for(var n=function atGreatestBandiwdth(t,e){return!e||(t.width!==e.width||t.height!==e.height)},o=t.length-1,i=0;i<t.length;i+=1){var a=t[i];if((a.width>=e||a.height>=r)&&n(a,t[i+1])){o=i;break}}return o},CapLevelController}(r("./src/event-handler.js").default);e.default=i}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":function srcControllerEmeControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/event-handler.js"),i=r("./src/events.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=window.XMLHttpRequest,l="com.widevine.alpha",c="com.microsoft.playready",p=function(t){function EMEController(e){var r=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=e.config.widevineLicenseUrl,r._licenseXhrSetup=e.config.licenseXhrSetup,r._emeEnabled=e.config.emeEnabled,r._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return n(EMEController,t),EMEController.prototype.getLicenseServerUrl=function(t){var e;switch(t){case l:e=this._widevineLicenseUrl;break;default:e=null}return e||(s.logger.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},EMEController.prototype._attemptKeySystemAccess=function(t,e,r){var n=this,o=function getSupportedMediaKeySystemConfigurations(t,e,r){switch(t){case l:return function createWidevineMediaKeySystemConfigurations(t,e,r){var n={videoCapabilities:[]};return e.forEach((function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[n]}(0,r);default:throw Error("Unknown key-system: "+t)}}(t,0,r);o?(s.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,o).then((function(e){n._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){s.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))):s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(EMEController.prototype,"requestMediaKeySystemAccess",{get:function get(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),EMEController.prototype._onMediaKeySystemAccessObtained=function(t,e){var r=this;s.logger.log('Access for key-system "'+t+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n),e.createMediaKeys().then((function(e){n.mediaKeys=e,s.logger.log('Media-keys created for key-system "'+t+'"'),r._onMediaKeysCreated()})).catch((function(t){s.logger.error("Failed to create media-keys:",t)}))},EMEController.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},EMEController.prototype._onNewMediaKeySession=function(t){var e=this;s.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(r){e._onKeySessionMessage(t,r.message)}),!1)},EMEController.prototype._onKeySessionMessage=function(t,e){s.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){s.logger.log("Received license data, updating key-session"),t.update(e)}))},EMEController.prototype._onMediaEncrypted=function(t,e){s.logger.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},EMEController.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},EMEController.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var r=e.mediaKeysSession;r||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,o=this._mediaEncryptionInitData;s.logger.log('Generating key-session request for "'+n+'" init data type'),e.mediaKeysSessionInitialized=!0,r.generateRequest(n,o).then((function(){s.logger.debug("Key-session generation succeeded")})).catch((function(e){s.logger.error("Error generating key-session request:",e),t.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},EMEController.prototype._createLicenseXhr=function(t,e,r){var n=new u,o=this._licenseXhrSetup;try{if(o)try{o(n,t)}catch(l){n.open("POST",t,!0),o(n,t)}n.readyState||n.open("POST",t,!0)}catch(l){return s.logger.error("Error setting up key-system license XHR",l),void this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,r),n},EMEController.prototype._onLicenseRequestReadyStageChange=function(t,e,r,n){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),n(t.response);else{if(s.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var o=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+o+" attempts left"),void this._requestLicense(r,n)}this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},EMEController.prototype._generateLicenseRequestChallenge=function(t,e){var r;return t.mediaKeySystemDomain===c?s.logger.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===l?r=e:s.logger.error("Unsupported key-system:",t.mediaKeySystemDomain),r},EMEController.prototype._requestLicense=function(t,e){s.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(r.mediaKeySystemDomain),o=this._createLicenseXhr(n,t,e);s.logger.log("Sending license request to URL: "+n),o.send(this._generateLicenseRequestChallenge(r,t))},EMEController.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var r=t.media;this._media=r,r.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},EMEController.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),r=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(l,e,r)}},EMEController}(o.default);e.default=p},"./src/controller/fps-controller.js":function srcControllerFpsControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/utils/logger.js"),s=window.performance,u=function(t){function FPSController(e){return t.call(this,e,o.default.MEDIA_ATTACHING)||this}return n(FPSController,t),FPSController.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},FPSController.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"===typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},FPSController.prototype.checkFPS=function(t,e,r){var n=s.now();if(e){if(this.lastTime){var i=n-this.lastTime,u=r-this.lastDroppedFrames,l=e-this.lastDecodedFrames,c=1e3*u/i,p=this.hls;if(p.trigger(o.default.FPS_DROP,{currentDropped:u,currentDecoded:l,totalDroppedFrames:r}),c>0&&u>p.config.fpsDroppedMonitoringThreshold*l){var f=p.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===p.autoLevelCapping||p.autoLevelCapping>=f)&&(f-=1,p.trigger(o.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:p.currentLevel}),p.autoLevelCapping=f,p.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},FPSController.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},FPSController}(i.default);e.default=u},"./src/controller/fragment-finders.js":function srcControllerFragmentFindersJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/binary-search.js");function fragmentWithinToleranceTest(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function pdtWithinToleranceTest(t,e,r){var n=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-n>t}e.findFragmentByPDT=function findFragmentByPDT(e,r,n){if(!Array.isArray(e)||!e.length||!t.isFinite(r))return null;if(r<e[0].programDateTime)return null;if(r>=e[e.length-1].endProgramDateTime)return null;n=n||0;for(var o=0;o<e.length;++o){var i=e[o];if(pdtWithinToleranceTest(r,n,i))return i}return null},e.findFragmentByPTS=function findFragmentByPTS(t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=0);var i=t?e[t.sn-e[0].sn+1]:null;return i&&!fragmentWithinToleranceTest(r,o,i)?i:n.default.search(e,fragmentWithinToleranceTest.bind(null,r,o))},e.fragmentWithinToleranceTest=fragmentWithinToleranceTest,e.pdtWithinToleranceTest=pdtWithinToleranceTest}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function srcControllerFragmentTrackerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/event-handler.js"),i=r("./src/events.js");e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var a=function(r){function FragmentTracker(t){var e=r.call(this,t,i.default.BUFFER_APPENDED,i.default.FRAG_BUFFERED,i.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return n(FragmentTracker,r),FragmentTracker.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,o.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},FragmentTracker.prototype.getBufferedFrag=function(t,e){var r=this.fragments,n=Object.keys(r).filter((function(n){var o=r[n];if(o.body.type!==e)return!1;if(!o.buffered)return!1;var i=o.body;return i.startPTS<=t&&t<=i.endPTS}));if(0===n.length)return null;var o=n.pop();return r[o].body},FragmentTracker.prototype.detectEvictedFragments=function(t,e){var r,n,o=this;Object.keys(this.fragments).forEach((function(i){var a=o.fragments[i];if(!0===a.buffered){var s=a.range[t];if(s){r=s.time;for(var u=0;u<r.length;u++)if(n=r[u],!1===o.isTimeBuffered(n.startPTS,n.endPTS,e)){o.removeFragment(a.body);break}}}}))},FragmentTracker.prototype.detectPartialFragments=function(t){var e=this,r=this.getFragmentKey(t),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(t.hasElementaryStream(r)){var o=e.timeRanges[r];n.range[r]=e.getBufferedTimes(t.startPTS,t.endPTS,o)}})))},FragmentTracker.prototype.getBufferedTimes=function(t,e,r){for(var n,o,i=[],a=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,o=r.end(s)+this.bufferPadding,t>=n&&e<=o){i.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))});break}if(t<o&&e>n)i.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))}),a=!0;else if(e<=n)break}return{time:i,partial:a}},FragmentTracker.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},FragmentTracker.prototype.getPartialFragment=function(t){var e,r,n,o=this,i=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=o.fragments[s];o.isPartial(u)&&(r=u.body.startPTS-o.bufferPadding,n=u.body.endPTS+o.bufferPadding,t>=r&&t<=n&&(e=Math.min(t-r,n-t),a<=e&&(i=u.body,a=e)))})),i},FragmentTracker.prototype.getState=function(t){var r=this.getFragmentKey(t),n=this.fragments[r],o=e.FragmentState.NOT_LOADED;return void 0!==n&&(o=n.buffered?!0===this.isPartial(n)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),o},FragmentTracker.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},FragmentTracker.prototype.isTimeBuffered=function(t,e,r){for(var n,o,i=0;i<r.length;i++){if(n=r.start(i)-this.bufferPadding,o=r.end(i)+this.bufferPadding,t>=n&&e<=o)return!0;if(e<=n)return!1}return!1},FragmentTracker.prototype.onFragLoaded=function(e){var r=e.frag;t.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},FragmentTracker.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var r=e.timeRanges[t];e.detectEvictedFragments(t,r)}))},FragmentTracker.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},FragmentTracker.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},FragmentTracker.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},FragmentTracker.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},FragmentTracker}(o.default);e.FragmentTracker=a}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function srcControllerGapControllerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/buffer-helper.js"),o=r("./src/errors.js"),i=r("./src/events.js"),a=r("./src/utils/logger.js"),s=function(){function GapController(t,e,r,n){this.config=t,this.media=e,this.fragmentTracker=r,this.hls=n,this.stallReported=!1}return GapController.prototype.poll=function(t,e){var r=this.config,o=this.media,i=o.currentTime,s=window.performance.now();if(i!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(o.ended||!o.buffered.length||o.readyState>2)&&(!o.seeking||!n.BufferHelper.isBuffered(o,i))){var u=s-this.stalled,l=n.BufferHelper.bufferInfo(o,i,r.maxBufferHole);this.stalled?(u>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,u)):this.stalled=s}},GapController.prototype._tryFixBufferStall=function(t,e){var r=this.config,n=this.fragmentTracker,o=this.media.currentTime,i=n.getPartialFragment(o);i&&this._trySkipBufferHole(i),t.len>.5&&e>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},GapController.prototype._reportStall=function(t){var e=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},GapController.prototype._trySkipBufferHole=function(t){for(var e=this.hls,r=this.media,n=r.currentTime,s=0,u=0;u<r.buffered.length;u++){var l=r.buffered.start(u);if(n>=s&&n<l)return r.currentTime=Math.max(l,r.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+n+" to "+r.currentTime),this.stalled=null,void e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+r.currentTime,frag:t});s=r.buffered.end(u)}},GapController.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,n=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<t.nudgeMaxRetry){var u=n+s*t.nudgeOffset;a.logger.log("adjust currentTime from "+n+" to "+u),r.currentTime=u,e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+n+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},GapController}();e.default=s},"./src/controller/id3-track-controller.js":function srcControllerId3TrackControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/demux/id3.js"),s=r("./src/utils/texttrack-utils.js"),u=function(t){function ID3TrackController(e){var r=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MEDIA_DETACHING,o.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return n(ID3TrackController,t),ID3TrackController.prototype.destroy=function(){i.default.prototype.destroy.call(this)},ID3TrackController.prototype.onMediaAttached=function(t){this.media=t.media,this.media},ID3TrackController.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},ID3TrackController.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return s.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},ID3TrackController.prototype.onFragParsingMetadata=function(t){var e=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<r.length;o++){var i=a.default.getID3Frames(r[o].data);if(i){var s=r[o].pts,u=o<r.length-1?r[o+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<i.length;l++){var c=i[l];if(!a.default.isTimeStampFrame(c)){var p=new n(s,u,"");p.value=c,this.id3Track.addCue(p)}}}}},ID3TrackController}(i.default);e.default=u},"./src/controller/level-controller.js":function srcControllerLevelControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=r("./src/events.js"),a=r("./src/event-handler.js"),s=r("./src/utils/logger.js"),u=r("./src/errors.js"),l=r("./src/utils/codecs.js"),c=r("./src/controller/level-helper.js"),p=(window.performance,function(t){function LevelController(e){var r=t.call(this,e,i.default.MANIFEST_LOADED,i.default.LEVEL_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.FRAG_LOADED,i.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,o=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return n(LevelController,t),LevelController.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},LevelController.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},LevelController.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},LevelController.prototype.stopLoad=function(){this.canload=!1},LevelController.prototype.onManifestLoaded=function(t){var e,r=[],n=[],a={},p=null,f=!1,d=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,f=f||!!t.videoCodec,d=d||!!t.audioCodec,o&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(p=a[t.bitrate])?p.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,r.push(t)),e&&(e.AUDIO&&(d=!0,c.addGroupId(p||t,"audio",e.AUDIO)),e.SUBTITLES&&c.addGroupId(p||t,"text",e.SUBTITLES))})),f&&d&&(r=r.filter((function(t){return!!t.videoCodec}))),r=r.filter((function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||l.isCodecSupportedInMp4(e,"audio"))&&(!r||l.isCodecSupportedInMp4(r,"video"))})),t.audioTracks&&(n=t.audioTracks.filter((function(t){return!t.audioCodec||l.isCodecSupportedInMp4(t.audioCodec,"audio")}))).forEach((function(t,e){t.id=e})),r.length>0){e=r[0].bitrate,r.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=r;for(var h=0;h<r.length;h++)if(r[h].bitrate===e){this._firstLevel=h,s.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(i.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:t.stats,audio:d,video:f,altAudio:n.some((function(t){return!!t.url}))})}else this.hls.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(LevelController.prototype,"levels",{get:function get(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"level",{get:function get(){return this.currentLevelIndex},set:function set(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),LevelController.prototype.setLevelInternal=function(t){var e=this._levels,r=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){s.logger.log("switching to level "+t),this.currentLevelIndex=t;var n=e[t];n.level=t,r.trigger(i.default.LEVEL_SWITCHING,n)}var o=e[t],a=o.details;if(!a||a.live){var l=o.urlId;r.trigger(i.default.LEVEL_LOADING,{url:o.url[l],level:t,id:l})}}else r.trigger(i.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(LevelController.prototype,"manualLevel",{get:function get(){return this.manualLevelIndex},set:function set(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"firstLevel",{get:function get(){return this._firstLevel},set:function set(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"startLevel",{get:function get(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function set(t){this._startLevel=t},enumerable:!0,configurable:!0}),LevelController.prototype.onError=function(t){if(t.fatal)t.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,r=!1,n=!1;switch(t.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,n=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,r=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,r=!0}void 0!==e&&this.recoverLevel(t,e,r,n)}},LevelController.prototype.recoverLevel=function(t,e,r,n){var o,i,a,u=this,l=this.hls.config,c=t.details,p=this._levels[e];if(p.loadError++,p.fragmentError=n,r){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return u.loadLevel()}),i),t.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+c+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((o=p.url.length)>1&&p.loadError<o?(p.urlId=(p.urlId+1)%o,p.details=void 0,s.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+p.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,s.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):n&&(s.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},LevelController.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var r=this._levels[e.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},LevelController.prototype.onLevelLoaded=function(t){var e=this,r=t.level,n=t.details;if(r===this.currentLevelIndex){var o=this._levels[r];if(o.fragmentError||(o.loadError=0,this.levelRetryCount=0),n.live){var i=c.computeReloadInterval(o.details,n,t.stats.trequest);s.logger.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),i)}else this.clearTimer()}},LevelController.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,o=0;o<r.audioGroupIds.length;o++)if(r.audioGroupIds[o]===e){n=o;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},LevelController.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===typeof t&&t.url.length>0){var e=this.currentLevelIndex,r=t.urlId,n=t.url[r];s.logger.log("Attempt loading level index "+e+" with URL-id "+r),this.hls.trigger(i.default.LEVEL_LOADING,{url:n,level:e,id:r})}}},Object.defineProperty(LevelController.prototype,"nextLoadLevel",{get:function get(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function set(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),LevelController}(a.default));e.default=p},"./src/controller/level-helper.js":function srcControllerLevelHelperJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js");function updatePTS(e,r,o){var i=e[r],a=e[o],s=a.startPTS;t.isFinite(s)?o>r?(i.duration=s-i.start,i.duration<0&&n.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-s,a.duration<0&&n.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=o>r?i.start+i.duration:Math.max(i.start-a.duration,0)}function updateFragPTSDTS(e,r,n,o,i,a){var s=n;if(t.isFinite(r.startPTS)){var u=Math.abs(r.startPTS-n);t.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(u,r.deltaPTS):r.deltaPTS=u,s=Math.max(n,r.startPTS),n=Math.min(n,r.startPTS),o=Math.max(o,r.endPTS),i=Math.min(i,r.startDTS),a=Math.max(a,r.endDTS)}var l=n-r.start;r.start=r.startPTS=n,r.maxStartPTS=s,r.endPTS=o,r.startDTS=i,r.endDTS=a,r.duration=o-n;var c,p,f,d=r.sn;if(!e||d<e.startSN||d>e.endSN)return 0;for(c=d-e.startSN,(p=e.fragments)[c]=r,f=c;f>0;f--)updatePTS(p,f,f-1);for(f=c;f<p.length-1;f++)updatePTS(p,f,f+1);return e.PTSKnown=!0,l}function mapFragmentIntersection(t,e,r){if(t&&e)for(var n=Math.max(t.startSN,e.startSN)-e.startSN,o=Math.min(t.endSN,e.endSN)-e.startSN,i=e.startSN-t.startSN,a=n;a<=o;a++){var s=t.fragments[i+a],u=e.fragments[a];if(!s||!u)break;r(s,u,a)}}function adjustSliding(t,e){var r=e.startSN-t.startSN,n=t.fragments,o=e.fragments;if(!(r<0||r>n.length))for(var i=0;i<o.length;i++)o[i].start+=n[r].start}e.addGroupId=function addGroupId(t,e,r){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(r);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(r)}},e.updatePTS=updatePTS,e.updateFragPTSDTS=updateFragPTSDTS,e.mergeDetails=function mergeDetails(e,r){r.initSegment&&e.initSegment&&(r.initSegment=e.initSegment);var o,i=0;if(mapFragmentIntersection(e,r,(function(e,n){i=e.cc-n.cc,t.isFinite(e.startPTS)&&(n.start=n.startPTS=e.startPTS,n.endPTS=e.endPTS,n.duration=e.duration,n.backtracked=e.backtracked,n.dropped=e.dropped,o=n),r.PTSKnown=!0})),r.PTSKnown){if(i){n.logger.log("discontinuity sliding from playlist, take drift into account");for(var a=r.fragments,s=0;s<a.length;s++)a[s].cc+=i}o?updateFragPTSDTS(r,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):adjustSliding(e,r),r.PTSKnown=e.PTSKnown}},e.mergeSubtitlePlaylists=function mergeSubtitlePlaylists(t,e,r){void 0===r&&(r=0);var n=-1;mapFragmentIntersection(t,e,(function(t,e,r){e.start=t.start,n=r}));var o=e.fragments;if(n<0)o.forEach((function(t){t.start+=r}));else for(var i=n+1;i<o.length;i++)o[i].start=o[i-1].start+o[i-1].duration},e.mapFragmentIntersection=mapFragmentIntersection,e.adjustSliding=adjustSliding,e.computeReloadInterval=function computeReloadInterval(t,e,r){var n=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),o=n/2;return t&&e.endSN===t.endSN&&(n=o),r&&(n=Math.max(o,n-(window.performance.now()-r))),Math.round(n)}}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function srcControllerStreamControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/utils/binary-search.js"),i=r("./src/utils/buffer-helper.js"),a=r("./src/demux/demuxer.js"),s=r("./src/events.js"),u=r("./src/controller/fragment-tracker.js"),l=r("./src/loader/fragment.js"),c=r("./src/loader/playlist-loader.js"),p=r("./src/controller/level-helper.js"),f=r("./src/utils/time-ranges.js"),d=r("./src/errors.js"),h=r("./src/utils/logger.js"),m=r("./src/utils/discontinuities.js"),y=r("./src/controller/fragment-finders.js"),g=r("./src/controller/gap-controller.js"),v=r("./src/controller/base-stream-controller.js"),_=function(e){function StreamController(t,r){var n=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=v.State.STOPPED,n.stallReported=!1,n.gapController=null,n}return n(StreamController,e),StreamController.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(h.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=v.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=v.State.STOPPED},StreamController.prototype.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},StreamController.prototype.doTick=function(){switch(this.state){case v.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case v.State.IDLE:this._doTickIdle();break;case v.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=v.State.IDLE);break;case v.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),r=this.retryDate;(!r||e>=r||this.media&&this.media.seeking)&&(h.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=v.State.IDLE);break;case v.State.ERROR:case v.State.STOPPED:case v.State.FRAG_LOADING:case v.State.PARSING:case v.State.PARSED:case v.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},StreamController.prototype._doTickIdle=function(){var t=this.hls,e=t.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&e.startFragPrefetch)){var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var o=t.nextLoadLevel,a=this.levels[o];if(a){var u,l=a.bitrate;u=l?Math.max(8*e.maxBufferSize/l,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=i.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,e.maxBufferHole),p=c.len;if(!(p>=u)){h.logger.trace("buffer length of "+p.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=o;var f=a.details;if(!f||f.live&&this.levelLastLoaded!==o)this.state=v.State.WAITING_LEVEL;else{if(this._streamEnded(c,f)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(s.default.BUFFER_EOS,d),void(this.state=v.State.ENDED)}this._fetchPayloadOrEos(n,c,f)}}}}},StreamController.prototype._fetchPayloadOrEos=function(t,e,r){var n=this.fragPrevious,o=this.level,i=r.fragments,a=i.length;if(0!==a){var s,u=i[0].start,l=i[a-1].start+i[a-1].duration,c=e.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var p=this.config.initialLiveManifestSize;if(a<p)return void h.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+p);if(null===(s=this._ensureFragmentAtLivePoint(r,c,u,l,n,i,a)))return}else c<u&&(s=i[0]);s||(s=this._findFragment(u,n,a,i,c,l,r)),s&&(s.encrypted?(h.logger.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+o),this._loadKey(s)):(h.logger.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+o+", currentTime:"+t.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},StreamController.prototype._ensureFragmentAtLivePoint=function(t,e,r,n,i,a,s){var u,l=this.hls.config,c=this.media,p=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(r-l.maxFragLookUpTolerance,n-p)){var f=this.liveSyncPosition=this.computeLivePosition(r,t);h.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),e=f,c&&c.readyState&&c.duration>f&&(c.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>n&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(i)if(t.hasProgramDateTime)h.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),u=y.findFragmentByPDT(a,i.endProgramDateTime,l.maxFragLookUpTolerance);else{var d=i.sn+1;if(d>=t.startSN&&d<=t.endSN){var m=a[d-t.startSN];i.cc===m.cc&&(u=m,h.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=o.default.search(a,(function(t){return i.cc-t.cc})))&&h.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(s-1,Math.round(s/2))],h.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},StreamController.prototype._findFragment=function(t,e,r,n,o,i,a){var s,u=this.hls.config;if(o<i){var l=o>i-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;s=y.findFragmentByPTS(e,n,o,l)}else s=n[r-1];if(s){var c=s.sn-a.startSN,p=e&&s.level===e.level,f=n[c-1],d=n[c+1];if(e&&s.sn===e.sn)if(p&&!s.backtracked)if(s.sn<a.endSN){var m=e.deltaPTS;m&&m>u.maxBufferHole&&e.dropped&&c?(s=f,h.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=d,h.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(d&&d.backtracked?(h.logger.warn("Already backtracked from fragment "+d.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+d.sn),s=d):(h.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f).backtracked=!0:c&&(s=null)))}return s},StreamController.prototype._loadKey=function(t){this.state=v.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:t})},StreamController.prototype._loadFragment=function(e){var r=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||r===u.FragmentState.NOT_LOADED||r===u.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new a.default(this.hls,"main")),this.state=v.State.FRAG_LOADING):r===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(StreamController.prototype,"state",{get:function get(){return this._state},set:function set(t){if(this.state!==t){var e=this.state;this._state=t,h.logger.log("main stream:"+e+"->"+t),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),StreamController.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.default.LevelType.MAIN)},Object.defineProperty(StreamController.prototype,"currentLevel",{get:function get(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(StreamController.prototype,"nextBufferedFrag",{get:function get(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),StreamController.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(StreamController.prototype,"nextLevel",{get:function get(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),StreamController.prototype._checkFragmentChanged=function(){var t,e,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((e=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),i.BufferHelper.isBuffered(r,e)?t=this.getBufferedFrag(e):i.BufferHelper.isBuffered(r,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:n});var o=n.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:o}),this.fragPlaying=n}}},StreamController.prototype.immediateLevelSwitch=function(){if(h.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,r=void 0;e?(r=e.paused,e.pause()):r=!0,this.previouslyPaused=r}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},StreamController.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,i.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},StreamController.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var r,n=void 0,o=void 0;if((r=this.getBufferedFrag(e.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)n=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((o=this.getBufferedFrag(e.currentTime+n))&&(o=this.followingBufferedFrag(o))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(o.maxStartPTS,t.POSITIVE_INFINITY)}}},StreamController.prototype.flushMainBuffer=function(t,e){this.state=v.State.BUFFER_FLUSHING;var r={startOffset:t,endOffset:e};this.altAudio&&(r.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,r)},StreamController.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new g.default(r,e,this.fragmentTracker,this.hls)},StreamController.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(h.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},StreamController.prototype.onMediaSeeked=function(){var e=this.media,r=e?e.currentTime:void 0;t.isFinite(r)&&h.logger.log("media seeked to "+r.toFixed(3)),this.tick()},StreamController.prototype.onManifestLoading=function(){h.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},StreamController.prototype.onManifestParsed=function(t){var e,r=!1,n=!1;t.levels.forEach((function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(r=!0),-1!==e.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&h.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},StreamController.prototype.onLevelLoaded=function(e){var r=e.details,n=e.level,o=this.levels[this.levelLastLoaded],i=this.levels[n],a=r.totalduration,u=0;if(h.logger.log("level "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+a),r.live){var l=i.details;l&&r.fragments.length>0?(p.mergeDetails(l,r),u=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(u,l),r.PTSKnown&&t.isFinite(u)?h.logger.log("live playlist sliding:"+u.toFixed(3)):(h.logger.log("live playlist - outdated PTS, unknown sliding"),m.alignStream(this.fragPrevious,o,r))):(h.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,m.alignStream(this.fragPrevious,o,r))}else r.PTSKnown=!1;if(i.details=r,this.levelLastLoaded=n,this.hls.trigger(s.default.LEVEL_UPDATED,{details:r,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=r.startTimeOffset;t.isFinite(c)?(c<0&&(h.logger.log("negative start time offset "+c+", count from end of last fragment"),c=u+a+c),h.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):r.live?(this.startPosition=this.computeLivePosition(u,r),h.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===v.State.WAITING_LEVEL&&(this.state=v.State.IDLE),this.tick()},StreamController.prototype.onKeyLoaded=function(){this.state===v.State.KEY_LOADING&&(this.state=v.State.IDLE,this.tick())},StreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=this.hls,n=this.levels,o=this.media,i=t.frag;if(this.state===v.State.FRAG_LOADING&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var u=t.stats,l=n[e.level],c=l.details;if(this.bitrateTest=!1,this.stats=u,h.logger.log("Loaded "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level),i.bitrateTest&&r.nextLoadLevel)this.state=v.State.IDLE,this.startFragRequested=!1,u.tparsed=u.tbuffered=window.performance.now(),r.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=v.State.IDLE,u.tparsed=u.tbuffered=window.performance.now(),c.initSegment.data=t.payload,r.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else{h.logger.log("Parsing "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level+", cc "+e.cc),this.state=v.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var p=!(o&&o.seeking)&&(c.PTSKnown||!c.live),f=c.initSegment?c.initSegment.data:[],d=this._getAudioCodec(l);(this.demuxer=this.demuxer||new a.default(this.hls,"main")).push(t.payload,f,d,l.videoCodec,e,c.totalduration,p)}}this.fragLoadError=0},StreamController.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===v.State.PARSING){var n=t.tracks,o=void 0,i=void 0;if(n.audio&&this.altAudio&&delete n.audio,i=n.audio){var a=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===u.indexOf("firefox")&&(a="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",h.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=t.id}for(o in(i=n.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=t.id),this.hls.trigger(s.default.BUFFER_CODECS,n),n){i=n[o],h.logger.log("main track:"+o+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var l=i.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:o,data:l,parent:"main",content:"initSegment"}))}this.tick()}},StreamController.prototype.onFragParsingData=function(e){var r=this,n=this.fragCurrent,o=e.frag;if(n&&"main"===e.id&&o.sn===n.sn&&o.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===v.State.PARSING){var i=this.levels[this.level],a=n;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),!0===e.hasAudio&&a.addElementaryStream(l.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(l.default.ElementaryStreamTypes.VIDEO),h.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)h.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var u=i.details;if(!u||a.sn!==u.startSN)return h.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=v.State.IDLE,this.fragPrevious=a,void this.tick();h.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=p.updateFragPTSDTS(i.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),f=this.hls;f.trigger(s.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(t){t&&t.length&&r.state===v.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,f.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))})),this.tick()}},StreamController.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===v.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=v.State.PARSED,this._checkAppendedParsed())},StreamController.prototype.onAudioTrackSwitching=function(e){var r=!!e.url,n=e.id;if(!r){if(this.mediaBuffer!==this.media){h.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o.loader&&(h.logger.log("switching to main audio track, cancel main fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.State.IDLE}var i=this.hls;i.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),i.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},StreamController.prototype.onAudioTrackSwitched=function(t){var e=t.id,r=!!this.hls.audioTracks[e].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(h.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},StreamController.prototype.onBufferCreated=function(t){var e,r,n=t.tracks,o=!1;for(var i in n){var a=n[i];"main"===a.id?(r=i,e=a,"video"===i&&(this.videoBuffer=n[i].buffer)):o=!0}o&&e?(h.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},StreamController.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==v.State.PARSING&&e!==v.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},StreamController.prototype._checkAppendedParsed=function(){if(this.state===v.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;h.logger.log("main buffered : "+f.default.toString(e.buffered)),this.fragPrevious=t;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.state=v.State.IDLE}this.tick()}},StreamController.prototype.onError=function(e){var r=e.frag||this.fragCurrent;if(!r||"main"===r.type){var n=!!this.media&&i.BufferHelper.isBuffered(this.media,this.media.currentTime)&&i.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var o=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);h.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=window.performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=v.State.FRAG_LOADING_WAITING_RETRY}else h.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=v.State.ERROR;break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==v.State.ERROR&&(e.fatal?(this.state=v.State.ERROR,h.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==v.State.WAITING_LEVEL||(this.state=v.State.IDLE));break;case d.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==v.State.PARSING&&this.state!==v.State.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=v.State.IDLE):(h.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},StreamController.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,h.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},StreamController.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},StreamController.prototype.onFragLoadEmergencyAborted=function(){this.state=v.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},StreamController.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(l.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=v.State.IDLE,this.fragPrevious=null},StreamController.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},StreamController.prototype.computeLivePosition=function(t,e){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-r)},StreamController.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,r=t.seeking?e:this.startPosition;e!==r&&(h.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+e+" "),t.currentTime=r)},StreamController.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(StreamController.prototype,"liveSyncPosition",{get:function get(){return this._liveSyncPosition},set:function set(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),StreamController}(v.default);e.default=_}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":function srcControllerSubtitleStreamControllerJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/utils/logger.js"),a=r("./src/crypt/decrypter.js"),s=r("./src/utils/buffer-helper.js"),u=r("./src/controller/fragment-finders.js"),l=r("./src/controller/fragment-tracker.js"),c=r("./src/controller/base-stream-controller.js"),p=r("./src/controller/level-helper.js"),f=window.performance,d=function(t){function SubtitleStreamController(e,r){var n=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MEDIA_DETACHING,o.default.ERROR,o.default.KEY_LOADED,o.default.FRAG_LOADED,o.default.SUBTITLE_TRACKS_UPDATED,o.default.SUBTITLE_TRACK_SWITCH,o.default.SUBTITLE_TRACK_LOADED,o.default.SUBTITLE_FRAG_PROCESSED,o.default.LEVEL_UPDATED)||this;return n.fragmentTracker=r,n.config=e.config,n.state=c.State.STOPPED,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new a.default(e,e.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(n),n}return n(SubtitleStreamController,t),SubtitleStreamController.prototype.onSubtitleFragProcessed=function(t){var e=t.frag,r=t.success;if(this.fragPrevious=e,this.state=c.State.IDLE,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var o,i=e.start,a=0;a<n.length;a++)if(i>=n[a].start&&i<=n[a].end){o=n[a];break}var s=e.start+e.duration;o?o.end=s:(o={start:i,end:s},n.push(o))}}},SubtitleStreamController.prototype.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=c.State.IDLE},SubtitleStreamController.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},SubtitleStreamController.prototype.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=c.State.IDLE)},SubtitleStreamController.prototype.onSubtitleTracksUpdated=function(t){var e=this;i.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},SubtitleStreamController.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},SubtitleStreamController.prototype.onSubtitleTrackLoaded=function(t){var e=t.id,r=t.details,n=this.currentTrackId,o=this.tracks,i=o[n];e>=o.length||e!==n||!i||(r.live&&p.mergeSubtitlePlaylists(i.details,r,this.lastAVStart),i.details=r,this.setInterval(500))},SubtitleStreamController.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},SubtitleStreamController.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag.decryptdata,n=t.frag,i=this.hls;if(this.state===c.State.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var a=f.now();this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,(function(t){var e=f.now();i.trigger(o.default.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},SubtitleStreamController.prototype.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},SubtitleStreamController.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var t=this,e=t.config,r=t.currentTrackId,n=t.fragmentTracker,a=t.media,p=t.tracks;if(!p||!p[r]||!p[r].details)break;var f=e.maxBufferHole,d=e.maxFragLookUpTolerance,h=Math.min(e.maxBufferLength,e.maxMaxBufferLength),m=s.BufferHelper.bufferedInfo(this._getBuffered(),a.currentTime,f),y=m.end,g=m.len,v=p[r].details,_=v.fragments,b=_.length,S=_[b-1].start+_[b-1].duration;if(g>h)return;var x=void 0,w=this.fragPrevious;y<S?(w&&v.hasProgramDateTime&&(x=u.findFragmentByPDT(_,w.endProgramDateTime,d)),x||(x=u.findFragmentByPTS(w,_,y,d))):x=_[b-1],x&&x.encrypted?(i.logger.log("Loading key for "+x.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(o.default.KEY_LOADING,{frag:x})):x&&n.getState(x)===l.FragmentState.NOT_LOADED&&(this.fragCurrent=x,this.state=c.State.FRAG_LOADING,this.hls.trigger(o.default.FRAG_LOADING,{frag:x}))}else this.state=c.State.IDLE},SubtitleStreamController.prototype.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},SubtitleStreamController.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},SubtitleStreamController.prototype.onMediaSeeking=function(){this.fragPrevious=null},SubtitleStreamController}(c.default);e.SubtitleStreamController=d},"./src/controller/subtitle-track-controller.js":function srcControllerSubtitleTrackControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/utils/logger.js"),s=r("./src/controller/level-helper.js"),u=function(e){function SubtitleTrackController(t){var r=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MEDIA_DETACHING,o.default.MANIFEST_LOADED,o.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r}return n(SubtitleTrackController,e),SubtitleTrackController.prototype.destroy=function(){i.default.prototype.destroy.call(this)},SubtitleTrackController.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},SubtitleTrackController.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},SubtitleTrackController.prototype.onManifestLoaded=function(t){var e=this,r=t.subtitles||[];this.tracks=r,this.hls.trigger(o.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},SubtitleTrackController.prototype.onSubtitleTrackLoaded=function(t){var e=this,r=t.id,n=t.details,o=this.trackId,i=this.tracks,u=i[o];if(r>=i.length||r!==o||!u||this.stopped)this._clearReloadTimer();else if(a.logger.log("subtitle track "+r+" loaded"),n.live){var l=s.computeReloadInterval(u.details,n,t.stats.trequest);a.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),l)}else this._clearReloadTimer()},SubtitleTrackController.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},SubtitleTrackController.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(SubtitleTrackController.prototype,"subtitleTracks",{get:function get(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(SubtitleTrackController.prototype,"subtitleTrack",{get:function get(){return this.trackId},set:function set(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))},enumerable:!0,configurable:!0}),SubtitleTrackController.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},SubtitleTrackController.prototype._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,r=this.hls,n=e[t];t<0||!n||n.details&&!n.details.live||(a.logger.log("Loading subtitle track "+t),r.trigger(o.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))},SubtitleTrackController.prototype._toggleTrackModes=function(t){var e=this.media,r=this.subtitleDisplay,n=this.trackId;if(e){var o=filterSubtitleTracks(e.textTracks);if(-1===t)[].slice.call(o).forEach((function(t){t.mode="disabled"}));else{var i=o[n];i&&(i.mode="disabled")}var a=o[t];a&&(a.mode=r?"showing":"hidden")}},SubtitleTrackController.prototype._setSubtitleTrackInternal=function(e){var r=this.hls,n=this.tracks;!t.isFinite(e)||e<-1||e>=n.length||(this.trackId=e,a.logger.log("Switching to subtitle track "+e),r.trigger(o.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},SubtitleTrackController.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=filterSubtitleTracks(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack=t}},SubtitleTrackController}(i.default);function filterSubtitleTracks(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];"subtitles"===n.kind&&n.label&&e.push(t[r])}return e}e.default=u}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":function srcControllerTimelineControllerJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/utils/cea-608-parser.js"),s=r("./src/utils/output-filter.js"),u=r("./src/utils/webvtt-parser.js"),l=r("./src/utils/logger.js"),c=r("./src/utils/texttrack-utils.js");function canReuseVttTextTrack(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var p=function(e){function TimelineController(t){var r=e.call(this,t,o.default.MEDIA_ATTACHING,o.default.MEDIA_DETACHING,o.default.FRAG_PARSING_USERDATA,o.default.FRAG_DECRYPTED,o.default.MANIFEST_LOADING,o.default.MANIFEST_LOADED,o.default.FRAG_LOADED,o.default.LEVEL_SWITCHING,o.default.INIT_PTS_FOUND)||this;if(r.hls=t,r.config=t.config,r.enabled=!0,r.Cues=t.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var n=new s.default(r,"textTrack1"),i=new s.default(r,"textTrack2");r.cea608Parser=new a.default(0,n,i)}return r}return n(TimelineController,e),TimelineController.prototype.addCues=function(t,e,r,n){for(var o,i,a,s,u=this.cueRanges,l=!1,c=u.length;c--;){var p=u[c],f=(o=p[0],i=p[1],a=e,s=r,Math.min(i,s)-Math.max(o,a));if(f>=0&&(p[0]=Math.min(p[0],e),p[1]=Math.max(p[1],r),l=!0,f/(r-e)>.5))return}l||u.push([e,r]),this.Cues.newCue(this.captionsTracks[t],e,r,n)},TimelineController.prototype.onInitPtsFound=function(t){var e=this;if("main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach((function(t){e.onFragLoaded(t)}))}},TimelineController.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var n=e.textTracks[r];if(n[t])return n}return null},TimelineController.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],r=e.label,n=e.languageCode,o=this.captionsTracks;if(!o[t]){var i=this.getExistingTrack(t);if(i)o[t]=i,c.clearCurrentCues(o[t]),c.sendAddTrackEvent(o[t],this.media);else{var a=this.createTextTrack("captions",r,n);a&&(a[t]=!0,o[t]=a)}}},TimelineController.prototype.createTextTrack=function(t,e,r){var n=this.media;if(n)return n.addTextTrack(t,e,r)},TimelineController.prototype.destroy=function(){i.default.prototype.destroy.call(this)},TimelineController.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},TimelineController.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){c.clearCurrentCues(t[e]),delete t[e]}))},TimelineController.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},TimelineController.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)c.clearCurrentCues(e[r])}},TimelineController.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,n){var o;if(n<r.length){for(var i=null,a=0;a<r.length;a++)if(canReuseVttTextTrack(r[a],t)){i=r[a];break}i&&(o=i)}o||(o=e.createTextTrack("subtitles",t.name,t.lang)),t.default?o.mode=e.hls.subtitleDisplay?"showing":"hidden":o.mode="disabled",e.textTracks.push(o)}))}},TimelineController.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},TimelineController.prototype.onFragLoaded=function(e){var r=e.frag,n=e.payload;if("main"===r.type){var i=r.sn;if(i!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=i}else if("subtitle"===r.type)if(n.byteLength){if(!t.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(o.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var s=r.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(r,n)}else this.hls.trigger(o.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},TimelineController.prototype._parseVTTs=function(t,e){var r=this.vttCCs;r[t.cc]||(r[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,i=this.hls;u.default.parse(e,this.initPTS[t.cc],r,t.cc,(function(e){var r=n[t.level];"disabled"!==r.mode?(e.forEach((function(t){if(!r.cues.getCueById(t.id))try{r.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}})),i.trigger(o.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):i.trigger(o.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){l.logger.log("Failed to parse VTT cue: "+e),i.trigger(o.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},TimelineController.prototype.onFragDecrypted=function(e){var r=e.payload,n=e.frag;if("subtitle"===n.type){if(!t.isFinite(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(n,r)}},TimelineController.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var r=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,r)}},TimelineController.prototype.extractCea608Data=function(t){for(var e,r,n,o=31&t[0],i=2,a=[],s=0;s<o;s++)e=t[i++],r=127&t[i++],n=127&t[i++],0===r&&0===n||0!==(4&e)&&0===(3&e)&&(a.push(r),a.push(n));return a},TimelineController}(i.default);e.default=p}).call(this,r("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function srcCryptAesCryptoJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function AESCrypto(t,e){this.subtle=t,this.aesIV=e}return AESCrypto.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},AESCrypto}();e.default=n},"./src/crypt/aes-decryptor.js":function srcCryptAesDecryptorJs(t,e,r){"use strict";function removePadding(t){var e=t.byteLength,r=e&&new DataView(t).getUint8(e-1);return r?t.slice(0,e-r):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=removePadding;var n=function(){function AESDecryptor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return AESDecryptor.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),n=0;n<4;n++)r[n]=e.getUint32(4*n);return r},AESDecryptor.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,n=r[0],o=r[1],i=r[2],a=r[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],p=s[3],f=new Uint32Array(256),d=0,h=0,m=0;for(m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var y=h^h<<1^h<<2^h<<3^h<<4;y=y>>>8^255&y^99,t[d]=y,e[y]=d;var g=f[d],v=f[g],_=f[v],b=257*f[y]^16843008*y;n[d]=b<<24|b>>>8,o[d]=b<<16|b>>>16,i[d]=b<<8|b>>>24,a[d]=b,b=16843009*_^65537*v^257*g^16843008*d,u[y]=b<<24|b>>>8,l[y]=b<<16|b>>>16,c[y]=b<<8|b>>>24,p[y]=b,d?(d=g^f[f[f[_^g]]],h^=f[f[h]]):d=h=1}},AESDecryptor.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,n=0;n<e.length&&r;)r=e[n]===this.key[n],n++;if(!r){this.key=e;var o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,a,s,u,l=this.ksRows=4*(o+6+1),c=this.keySchedule=new Uint32Array(l),p=this.invKeySchedule=new Uint32Array(l),f=this.sBox,d=this.rcon,h=this.invSubMix,m=h[0],y=h[1],g=h[2],v=h[3];for(i=0;i<l;i++)i<o?s=c[i]=e[i]:(u=s,i%o===0?(u=f[(u=u<<8|u>>>24)>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u],u^=d[i/o|0]<<24):o>6&&i%o===4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u]),c[i]=s=(c[i-o]^u)>>>0);for(a=0;a<l;a++)i=l-a,u=3&a?c[i]:c[i-4],p[a]=a<4||i<=4?u:m[f[u>>>24]]^y[f[u>>>16&255]]^g[f[u>>>8&255]]^v[f[255&u]],p[a]=p[a]>>>0}},AESDecryptor.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},AESDecryptor.prototype.decrypt=function(t,e,r,n){for(var o,i,a,s,u,l,c,p,f,d,h,m,y,g,v=this.keySize+6,_=this.invKeySchedule,b=this.invSBox,S=this.invSubMix,x=S[0],w=S[1],E=S[2],P=S[3],C=this.uint8ArrayToUint32Array_(r),T=C[0],D=C[1],M=C[2],A=C[3],R=new Int32Array(t),L=new Int32Array(R.length),I=this.networkToHostOrderSwap;e<R.length;){for(f=I(R[e]),d=I(R[e+1]),h=I(R[e+2]),m=I(R[e+3]),u=f^_[0],l=m^_[1],c=h^_[2],p=d^_[3],y=4,g=1;g<v;g++)o=x[u>>>24]^w[l>>16&255]^E[c>>8&255]^P[255&p]^_[y],i=x[l>>>24]^w[c>>16&255]^E[p>>8&255]^P[255&u]^_[y+1],a=x[c>>>24]^w[p>>16&255]^E[u>>8&255]^P[255&l]^_[y+2],s=x[p>>>24]^w[u>>16&255]^E[l>>8&255]^P[255&c]^_[y+3],u=o,l=i,c=a,p=s,y+=4;o=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&p]^_[y],i=b[l>>>24]<<24^b[c>>16&255]<<16^b[p>>8&255]<<8^b[255&u]^_[y+1],a=b[c>>>24]<<24^b[p>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^_[y+2],s=b[p>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^_[y+3],y+=3,L[e]=I(o^T),L[e+1]=I(s^D),L[e+2]=I(a^M),L[e+3]=I(i^A),T=f,D=d,M=h,A=m,e+=4}return n?removePadding(L.buffer):L.buffer},AESDecryptor.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},AESDecryptor}();e.default=n},"./src/crypt/decrypter.js":function srcCryptDecrypterJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/crypt/aes-crypto.js"),o=r("./src/crypt/fast-aes-key.js"),i=r("./src/crypt/aes-decryptor.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=r("./src/events.js"),l=r("./src/utils/get-self-scope.js").getSelfScope(),c=function(){function Decrypter(t,e,r){var n=(void 0===r?{}:r).removePKCS7Padding,o=void 0===n||n;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=o,o)try{var i=l.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(a){}this.disableWebCrypto=!this.subtle}return Decrypter.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},Decrypter.prototype.decrypt=function(t,e,r,a){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new i.default),l.expandKey(e),a(l.decrypt(t,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new o.default(c,e)),this.fastAesKey.expandKey().then((function(o){new n.default(c,r).decrypt(t,o).catch((function(n){u.onWebCryptoError(n,t,e,r,a)})).then((function(t){a(t)}))})).catch((function(n){u.onWebCryptoError(n,t,e,r,a)}))}},Decrypter.prototype.onWebCryptoError=function(t,e,r,n,o){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,r,n,o)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},Decrypter.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},Decrypter}();e.default=c},"./src/crypt/fast-aes-key.js":function srcCryptFastAesKeyJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function FastAESKey(t,e){this.subtle=t,this.key=e}return FastAESKey.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},FastAESKey}();e.default=n},"./src/demux/aacdemuxer.js":function srcDemuxAacdemuxerJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/demux/adts.js"),o=r("./src/utils/logger.js"),i=r("./src/demux/id3.js"),a=function(){function AACDemuxer(t,e,r){this.observer=t,this.config=r,this.remuxer=e}return AACDemuxer.prototype.resetInitSegment=function(t,e,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},AACDemuxer.prototype.resetTimeStamp=function(){},AACDemuxer.probe=function(t){if(!t)return!1;for(var e=(i.default.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(n.probe(t,e))return o.logger.log("ADTS sync word found !"),!0;return!1},AACDemuxer.prototype.append=function(e,r,a,s){for(var u=this._audioTrack,l=i.default.getID3Data(e,0)||[],c=i.default.getTimeStamp(l),p=t.isFinite(c)?90*c:9e4*r,f=0,d=p,h=e.length,m=l.length,y=[{pts:d,dts:d,data:l}];m<h-1;)if(n.isHeader(e,m)&&m+5<h){n.initTrackConfig(u,this.observer,e,m,u.manifestCodec);var g=n.appendFrame(u,e,m,p,f);if(!g){o.logger.log("Unable to parse AAC frame");break}m+=g.length,d=g.sample.pts,f++}else i.default.isHeader(e,m)?(l=i.default.getID3Data(e,m),y.push({pts:d,dts:d,data:l}),m+=l.length):m++;this.remuxer.remux(u,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},r,a,s)},AACDemuxer.prototype.destroy=function(){},AACDemuxer}();e.default=a}).call(this,r("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function srcDemuxAdtsJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js"),o=r("./src/errors.js"),i=r("./src/events.js");function getAudioConfig(t,e,r,a){var s,u,l,c,p,f=navigator.userAgent.toLowerCase(),d=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&e[r+2])>>>6),!((u=(60&e[r+2])>>>2)>h.length-1))return c=(1&e[r+2])<<2,c|=(192&e[r+3])>>>6,n.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+u+"["+h[u]+"Hz],channelConfig:"+c),/firefox/i.test(f)?u>=6?(s=5,p=new Array(4),l=u-3):(s=2,p=new Array(2),l=u):-1!==f.indexOf("android")?(s=2,p=new Array(2),l=u):(s=5,p=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&u>=6?l=u-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(f))||!a&&1===c)&&(s=2,p=new Array(2)),l=u)),p[0]=s<<3,p[0]|=(14&u)>>1,p[1]|=(1&u)<<7,p[1]|=c<<3,5===s&&(p[1]|=(14&l)>>1,p[2]=(1&l)<<7,p[2]|=8,p[3]=0),{config:p,samplerate:h[u],channelCount:c,codec:"mp4a.40."+s,manifestCodec:d};t.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}function isHeaderPattern(t,e){return 255===t[e]&&240===(246&t[e+1])}function getHeaderLength(t,e){return 1&t[e+1]?7:9}function getFullFrameLength(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function getFrameDuration(t){return 9216e4/t}function parseFrameHeader(t,e,r,n,o){var i,a,s=t.length;if(i=getHeaderLength(t,e),a=getFullFrameLength(t,e),(a-=i)>0&&e+i+a<=s)return{headerLength:i,frameLength:a,stamp:r+n*o}}e.getAudioConfig=getAudioConfig,e.isHeaderPattern=isHeaderPattern,e.getHeaderLength=getHeaderLength,e.getFullFrameLength=getFullFrameLength,e.isHeader=function isHeader(t,e){return!!(e+1<t.length&&isHeaderPattern(t,e))},e.probe=function probe(t,e){if(e+1<t.length&&isHeaderPattern(t,e)){var r=getHeaderLength(t,e);e+5<t.length&&(r=getFullFrameLength(t,e));var n=e+r;if(n===t.length||n+1<t.length&&isHeaderPattern(t,n))return!0}return!1},e.initTrackConfig=function initTrackConfig(t,e,r,o,i){if(!t.samplerate){var a=getAudioConfig(e,r,o,i);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,n.logger.log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}},e.getFrameDuration=getFrameDuration,e.parseFrameHeader=parseFrameHeader,e.appendFrame=function appendFrame(t,e,r,n,o){var i=parseFrameHeader(e,r,n,o,getFrameDuration(t.samplerate));if(i){var a=i.stamp,s=i.headerLength,u=i.frameLength,l={unit:e.subarray(r+s,r+s+u),pts:a,dts:a};return t.samples.push(l),t.len+=u,{sample:l,length:u+s}}}},"./src/demux/demuxer-inline.js":function srcDemuxDemuxerInlineJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r("./src/events.js"),i=r("./src/errors.js"),a=r("./src/crypt/decrypter.js"),s=r("./src/demux/aacdemuxer.js"),u=r("./src/demux/mp4demuxer.js"),l=r("./src/demux/tsdemuxer.js"),c=r("./src/demux/mp3demuxer.js"),p=r("./src/remux/mp4-remuxer.js"),f=r("./src/remux/passthrough-remuxer.js"),d=r("./src/utils/get-self-scope.js"),h=r("./src/utils/logger.js"),m=d.getSelfScope();try{n=m.performance.now.bind(m.performance)}catch(g){h.logger.debug("Unable to use Performance API on this environment"),n=m.Date.now}var y=function(){function DemuxerInline(t,e,r,n){this.observer=t,this.typeSupported=e,this.config=r,this.vendor=n}return DemuxerInline.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},DemuxerInline.prototype.push=function(t,e,r,i,s,u,l,c,p,f,d,h){var m=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var y=this.decrypter;null==y&&(y=this.decrypter=new a.default(this.observer,this.config));var g=n();y.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=n();m.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:a}}),m.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,s,u,l,c,p,f,d,h)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,s,u,l,c,p,f,d,h)},DemuxerInline.prototype.pushDecrypted=function(t,e,r,n,a,d,h,m,y,g,v,_){var b=this.demuxer;if(!b||(h||m)&&!this.probe(t)){for(var S=this.observer,x=this.typeSupported,w=this.config,E=[{demux:l.default,remux:p.default},{demux:u.default,remux:f.default},{demux:s.default,remux:p.default},{demux:c.default,remux:p.default}],P=0,C=E.length;P<C;P++){var T=E[P],D=T.demux.probe;if(D(t)){var M=this.remuxer=new T.remux(S,w,x,this.vendor);b=new T.demux(S,M,w,x),this.probe=D;break}}if(!b)return void S.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var A=this.remuxer;(h||m)&&(b.resetInitSegment(r,n,a,g),A.resetInitSegment()),h&&(b.resetTimeStamp(_),A.resetTimeStamp(_)),"function"===typeof b.setDecryptData&&b.setDecryptData(e),b.append(t,d,y,v)},DemuxerInline}();e.default=y},"./src/demux/demuxer-worker.js":function srcDemuxDemuxerWorkerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/demux/demuxer-inline.js"),o=r("./src/events.js"),i=r("./src/utils/logger.js"),a=r("./node_modules/node-libs-browser/node_modules/events/events.js");e.default=function DemuxerWorker(t){var e=new a.EventEmitter;e.trigger=function trigger(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.emit.apply(e,[t,t].concat(r))},e.off=function off(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.removeListener.apply(e,[t].concat(r))};var r=function forwardMessage(e,r){t.postMessage({event:e,data:r})};t.addEventListener("message",(function(o){var a=o.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new n.default(e,a.typeSupported,s,a.vendor),i.enableLogs(s.debug),r("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(o.default.FRAG_DECRYPTED,r),e.on(o.default.FRAG_PARSING_INIT_SEGMENT,r),e.on(o.default.FRAG_PARSED,r),e.on(o.default.ERROR,r),e.on(o.default.FRAG_PARSING_METADATA,r),e.on(o.default.FRAG_PARSING_USERDATA,r),e.on(o.default.INIT_PTS_FOUND,r),e.on(o.default.FRAG_PARSING_DATA,(function(e,r){var n=[],o={event:e,data:r};r.data1&&(o.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(o.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),t.postMessage(o,n)}))}},"./src/demux/demuxer.js":function srcDemuxDemuxerJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./node_modules/webworkify-webpack/index.js"),o=r("./src/events.js"),i=r("./src/demux/demuxer-inline.js"),a=r("./src/utils/logger.js"),s=r("./src/errors.js"),u=r("./src/utils/mediasource-helper.js"),l=r("./src/utils/get-self-scope.js"),c=r("./src/observer.js"),p=l.getSelfScope(),f=u.getMediaSource(),d=function(){function Demuxer(t,e){var r=this;this.hls=t,this.id=e;var u=this.observer=new c.Observer,l=t.config,d=function forwardMessage(e,n){(n=n||{}).frag=r.frag,n.id=r.id,t.trigger(e,n)};u.on(o.default.FRAG_DECRYPTED,d),u.on(o.default.FRAG_PARSING_INIT_SEGMENT,d),u.on(o.default.FRAG_PARSING_DATA,d),u.on(o.default.FRAG_PARSED,d),u.on(o.default.ERROR,d),u.on(o.default.FRAG_PARSING_METADATA,d),u.on(o.default.FRAG_PARSING_USERDATA,d),u.on(o.default.INIT_PTS_FOUND,d);var h={mp4:f.isTypeSupported("video/mp4"),mpeg:f.isTypeSupported("audio/mpeg"),mp3:f.isTypeSupported('audio/mp4; codecs="mp3"')},m=navigator.vendor;if(l.enableWorker&&"undefined"!==typeof Worker){a.logger.log("demuxing in webworker");var y=void 0;try{y=this.w=n("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),y.addEventListener("message",this.onwmsg),y.onerror=function(e){t.trigger(o.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},y.postMessage({cmd:"init",typeSupported:h,vendor:m,id:e,config:JSON.stringify(l)})}catch(g){a.logger.warn("Error in worker:",g),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),y&&p.URL.revokeObjectURL(y.objectURL),this.demuxer=new i.default(u,h,l,m),this.w=void 0}}else this.demuxer=new i.default(u,h,l,m)}return Demuxer.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},Demuxer.prototype.push=function(e,r,n,o,i,s,u,l){var c=this.w,p=t.isFinite(i.startPTS)?i.startPTS:i.start,f=i.decryptdata,d=this.frag,h=!(d&&i.cc===d.cc),m=!(d&&i.level===d.level),y=d&&i.sn===d.sn+1,g=!m&&y;if(h&&a.logger.log(this.id+":discontinuity detected"),m&&a.logger.log(this.id+":switch detected"),this.frag=i,c)c.postMessage({cmd:"demux",data:e,decryptdata:f,initSegment:r,audioCodec:n,videoCodec:o,timeOffset:p,discontinuity:h,trackSwitch:m,contiguous:g,duration:s,accurateTimeOffset:u,defaultInitPTS:l},e instanceof ArrayBuffer?[e]:[]);else{var v=this.demuxer;v&&v.push(e,f,r,n,o,p,h,m,g,s,u,l)}},Demuxer.prototype.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":p.URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},Demuxer}();e.default=d}).call(this,r("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function srcDemuxExpGolombJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js"),o=function(){function ExpGolomb(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return ExpGolomb.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,n=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");n.set(t.subarray(r,r+o)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},ExpGolomb.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},ExpGolomb.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},ExpGolomb.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},ExpGolomb.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},ExpGolomb.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},ExpGolomb.prototype.readBoolean=function(){return 1===this.readBits(1)},ExpGolomb.prototype.readUByte=function(){return this.readBits(8)},ExpGolomb.prototype.readUShort=function(){return this.readBits(16)},ExpGolomb.prototype.readUInt=function(){return this.readBits(32)},ExpGolomb.prototype.skipScalingList=function(t){var e,r=8,n=8;for(e=0;e<t;e++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},ExpGolomb.prototype.readSPS=function(){var t,e,r,n,o,i,a,s=0,u=0,l=0,c=0,p=this.readUByte.bind(this),f=this.readBits.bind(this),d=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),y=this.skipEG.bind(this),g=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(p(),t=p(),f(5),m(3),p(),g(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=d();if(3===_&&m(1),g(),g(),m(1),h())for(i=3!==_?8:12,a=0;a<i;a++)h()&&v(a<6?16:64)}g();var b=d();if(0===b)d();else if(1===b)for(m(1),y(),y(),e=d(),a=0;a<e;a++)y();g(),m(1),r=d(),n=d(),0===(o=f(1))&&m(1),m(1),h()&&(s=d(),u=d(),l=d(),c=d());var S=[1,1];if(h()&&h())switch(p()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[p()<<8|p(),p()<<8|p()]}return{width:Math.ceil(16*(r+1)-2*s-2*u),height:(2-o)*(n+1)*16-(o?2:4)*(l+c),pixelRatio:S}},ExpGolomb.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},ExpGolomb}();e.default=o},"./src/demux/id3.js":function srcDemuxId3Js(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function ID3(){}return ID3.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},ID3.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},ID3.getID3Data=function(t,e){for(var r=e,n=0;ID3.isHeader(t,e);){n+=10,n+=ID3._readSize(t,e+6),ID3.isFooter(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)},ID3._readSize=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},ID3.getTimeStamp=function(t){for(var e=ID3.getID3Frames(t),r=0;r<e.length;r++){var n=e[r];if(ID3.isTimeStampFrame(n))return ID3._readTimeStamp(n)}},ID3.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},ID3._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=ID3._readSize(t,4);return{type:e,size:r,data:t.subarray(10,10+r)}},ID3.getID3Frames=function(t){for(var e=0,r=[];ID3.isHeader(t,e);){for(var n=ID3._readSize(t,e+6),o=(e+=10)+n;e+8<o;){var i=ID3._getFrameData(t.subarray(e)),a=ID3._decodeFrame(i);a&&r.push(a),e+=i.size+10}ID3.isFooter(t,e)&&(e+=10)}return r},ID3._decodeFrame=function(t){return"PRIV"===t.type?ID3._decodePrivFrame(t):"T"===t.type[0]?ID3._decodeTextFrame(t):"W"===t.type[0]?ID3._decodeURLFrame(t):void 0},ID3._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},ID3._decodePrivFrame=function(t){if(!(t.size<2)){var e=ID3._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}},ID3._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,r=ID3._utf8ArrayToStr(t.data.subarray(e));e+=r.length+1;var n=ID3._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:r,data:n}}var o=ID3._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:o}}},ID3._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,r=ID3._utf8ArrayToStr(t.data.subarray(e));e+=r.length+1;var n=ID3._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:r,data:n}}var o=ID3._utf8ArrayToStr(t.data);return{key:t.type,data:o}},ID3._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var r,n,o,i=t.length,a="",s=0;s<i;){if(0===(r=t[s++])&&e)return a;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(r);break;case 12:case 13:n=t[s++],a+=String.fromCharCode((31&r)<<6|63&n);break;case 14:n=t[s++],o=t[s++],a+=String.fromCharCode((15&r)<<12|(63&n)<<6|(63&o)<<0)}}return a},ID3}(),o=n._utf8ArrayToStr;e.utf8ArrayToStr=o,e.default=n},"./src/demux/mp3demuxer.js":function srcDemuxMp3demuxerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/demux/id3.js"),o=r("./src/utils/logger.js"),i=r("./src/demux/mpegaudio.js"),a=function(){function MP3Demuxer(t,e,r){this.observer=t,this.config=r,this.remuxer=e}return MP3Demuxer.prototype.resetInitSegment=function(t,e,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},MP3Demuxer.prototype.resetTimeStamp=function(){},MP3Demuxer.probe=function(t){var e,r,a=n.default.getID3Data(t,0);if(a&&void 0!==n.default.getTimeStamp(a))for(e=a.length,r=Math.min(t.length-1,e+100);e<r;e++)if(i.default.probe(t,e))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},MP3Demuxer.prototype.append=function(t,e,r,o){for(var a=n.default.getID3Data(t,0),s=n.default.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,p=0,f=0,d=this._audioTrack,h=[{pts:u,dts:u,data:a}];l<c;)if(i.default.isHeader(t,l)){var m=i.default.appendFrame(d,t,l,u,p);if(!m)break;l+=m.length,f=m.sample.pts,p++}else n.default.isHeader(t,l)?(a=n.default.getID3Data(t,l),h.push({pts:f,dts:f,data:a}),l+=a.length):l++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,r,o)},MP3Demuxer.prototype.destroy=function(){},MP3Demuxer}();e.default=a},"./src/demux/mp4demuxer.js":function srcDemuxMp4demuxerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js"),o=r("./src/events.js"),i=Math.pow(2,32)-1,a=function(){function MP4Demuxer(t,e){this.observer=t,this.remuxer=e}return MP4Demuxer.prototype.resetTimeStamp=function(t){this.initPTS=t},MP4Demuxer.prototype.resetInitSegment=function(t,e,r,n){if(t&&t.byteLength){var i=this.initData=MP4Demuxer.parseInitSegment(t);null==e&&(e="mp4a.40.5"),null==r&&(r="avc1.42e01e");var a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:e+","+r,initSegment:n?t:null}:(i.audio&&(a.audio={container:"audio/mp4",codec:e,initSegment:n?t:null}),i.video&&(a.video={container:"video/mp4",codec:r,initSegment:n?t:null})),this.observer.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else e&&(this.audioCodec=e),r&&(this.videoCodec=r)},MP4Demuxer.probe=function(t){return MP4Demuxer.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},MP4Demuxer.bin2str=function(t){return String.fromCharCode.apply(null,t)},MP4Demuxer.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<8|t[e+1];return r<0?65536+r:r},MP4Demuxer.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r},MP4Demuxer.writeUint32=function(t,e,r){t.data&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},MP4Demuxer.findBox=function(t,e){var r,n,o,i,a,s,u=[];if(t.data?(a=t.start,o=t.end,t=t.data):(a=0,o=t.byteLength),!e.length)return null;for(r=a;r<o;)s=(n=MP4Demuxer.readUint32(t,r))>1?r+n:o,MP4Demuxer.bin2str(t.subarray(r+4,r+8))===e[0]&&(1===e.length?u.push({data:t,start:r+8,end:s}):(i=MP4Demuxer.findBox({data:t,start:r+8,end:s},e.slice(1))).length&&(u=u.concat(i))),r=s;return u},MP4Demuxer.parseSegmentIndex=function(t){var e,r=MP4Demuxer.findBox(t,["moov"])[0],n=r?r.end:null,o=0,i=MP4Demuxer.findBox(t,["sidx"]);if(!i||!i[0])return null;e=[];var a=(i=i[0]).data[0];o=0===a?8:16;var s=MP4Demuxer.readUint32(i,o);o+=4;o+=0===a?8:16,o+=2;var u=i.end+0,l=MP4Demuxer.readUint16(i,o);o+=2;for(var c=0;c<l;c++){var p=o,f=MP4Demuxer.readUint32(i,p);p+=4;var d=2147483647&f;if(1===(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var h=MP4Demuxer.readUint32(i,p);p+=4,e.push({referenceSize:d,subsegmentDuration:h,info:{duration:h/s,start:u,end:u+d-1}}),u+=d,o=p+=4}return{earliestPresentationTime:0,timescale:s,version:a,referencesCount:l,references:e,moovEndOffset:n}},MP4Demuxer.parseInitSegment=function(t){var e=[];return MP4Demuxer.findBox(t,["moov","trak"]).forEach((function(t){var r=MP4Demuxer.findBox(t,["tkhd"])[0];if(r){var o=r.data[r.start],i=0===o?12:20,a=MP4Demuxer.readUint32(r,i),s=MP4Demuxer.findBox(t,["mdia","mdhd"])[0];if(s){i=0===(o=s.data[s.start])?12:20;var u=MP4Demuxer.readUint32(s,i),l=MP4Demuxer.findBox(t,["mdia","hdlr"])[0];if(l){var c={soun:"audio",vide:"video"}[MP4Demuxer.bin2str(l.data.subarray(l.start+8,l.start+12))];if(c){var p=MP4Demuxer.findBox(t,["mdia","minf","stbl","stsd"]);if(p.length){p=p[0];var f=MP4Demuxer.bin2str(p.data.subarray(p.start+12,p.start+16));n.logger.log("MP4Demuxer:"+c+":"+f+" found")}e[a]={timescale:u,type:c},e[c]={timescale:u,id:a}}}}}})),e},MP4Demuxer.getStartDTS=function(t,e){var r,n,o;return r=MP4Demuxer.findBox(e,["moof","traf"]),n=[].concat.apply([],r.map((function(e){return MP4Demuxer.findBox(e,["tfhd"]).map((function(r){var n,o;return n=MP4Demuxer.readUint32(r,4),o=t[n].timescale||9e4,MP4Demuxer.findBox(e,["tfdt"]).map((function(t){var e,r;return e=t.data[t.start],r=MP4Demuxer.readUint32(t,4),1===e&&(r*=Math.pow(2,32),r+=MP4Demuxer.readUint32(t,8)),r}))[0]/o}))}))),o=Math.min.apply(null,n),isFinite(o)?o:0},MP4Demuxer.offsetStartDTS=function(t,e,r){MP4Demuxer.findBox(e,["moof","traf"]).map((function(e){return MP4Demuxer.findBox(e,["tfhd"]).map((function(n){var o=MP4Demuxer.readUint32(n,4),a=t[o].timescale||9e4;MP4Demuxer.findBox(e,["tfdt"]).map((function(t){var e=t.data[t.start],n=MP4Demuxer.readUint32(t,4);if(0===e)MP4Demuxer.writeUint32(t,4,n-r*a);else{n*=Math.pow(2,32),n+=MP4Demuxer.readUint32(t,8),n-=r*a,n=Math.max(n,0);var o=Math.floor(n/(i+1)),s=Math.floor(n%(i+1));MP4Demuxer.writeUint32(t,4,o),MP4Demuxer.writeUint32(t,8,s)}}))}))}))},MP4Demuxer.prototype.append=function(t,e,r,n){var i=this.initData;i||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),i=this.initData);var a,s=this.initPTS;if(void 0===s){var u=MP4Demuxer.getStartDTS(i,t);this.initPTS=s=u-e,this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:s})}MP4Demuxer.offsetStartDTS(i,t,s),a=MP4Demuxer.getStartDTS(i,t),this.remuxer.remux(i.audio,i.video,null,null,a,r,n,t)},MP4Demuxer.prototype.destroy=function(){},MP4Demuxer}();e.default=a},"./src/demux/mpegaudio.js":function srcDemuxMpegaudioJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function appendFrame(t,e,r,n,o){if(!(r+24>e.length)){var i=this.parseHeader(e,r);if(i&&r+i.frameLength<=e.length){var a=n+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:e.subarray(r,r+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(s),t.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function parseHeader(t,e){var r=t[e+1]>>3&3,o=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==a){var u=3===r?3-o:3===o?3:4,l=1e3*n.BitratesMap[14*u+i-1],c=3===r?0:2===r?1:2,p=n.SamplingRateMap[3*c+a],f=t[e+3]>>6===3?1:2,d=n.SamplesCoefficients[r][o],h=n.BytesInSlot[o],m=8*d*h;return{sampleRate:p,channelCount:f,frameLength:parseInt(d*l/p+s,10)*h,samplesPerFrame:m}}},isHeaderPattern:function isHeaderPattern(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])},isHeader:function isHeader(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function probe(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var r=this.parseHeader(t,e),n=4;r&&r.frameLength&&(n=r.frameLength);var o=e+n;if(o===t.length||o+1<t.length&&this.isHeaderPattern(t,o))return!0}return!1}};e.default=n},"./src/demux/sample-aes.js":function srcDemuxSampleAesJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/crypt/decrypter.js"),o=function(){function SampleAesDecrypter(t,e,r,o){this.decryptdata=r,this.discardEPB=o,this.decrypter=new n.default(t,e,{removePKCS7Padding:!1})}return SampleAesDecrypter.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},SampleAesDecrypter.prototype.decryptAacSample=function(t,e,r,n){var o=t[e].unit,i=o.subarray(16,o.length-o.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(a,(function(i){i=new Uint8Array(i),o.set(i,16),n||s.decryptAacSamples(t,e+1,r)}))},SampleAesDecrypter.prototype.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,n),!n)return}}},SampleAesDecrypter.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),n=0,o=32;o<=t.length-16;o+=160,n+=16)r.set(t.subarray(o,o+16),n);return r},SampleAesDecrypter.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var r=0,n=32;n<=t.length-16;n+=160,r+=16)t.set(e.subarray(r,r+16),n);return t},SampleAesDecrypter.prototype.decryptAvcSample=function(t,e,r,n,o,i){var a=this.discardEPB(o.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){o.data=u.getAvcDecryptedUnit(a,s),i||u.decryptAvcSamples(t,e,r+1,n)}))},SampleAesDecrypter.prototype.decryptAvcSamples=function(t,e,r,n){for(;;e++,r=0){if(e>=t.length)return void n();for(var o=t[e].units;!(r>=o.length);r++){var i=o[r];if(!(i.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,n,i,a),!a)return}}}},SampleAesDecrypter}();e.default=o},"./src/demux/tsdemuxer.js":function srcDemuxTsdemuxerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/demux/adts.js"),o=r("./src/demux/mpegaudio.js"),i=r("./src/events.js"),a=r("./src/demux/exp-golomb.js"),s=r("./src/demux/sample-aes.js"),u=r("./src/utils/logger.js"),l=r("./src/errors.js"),c={video:1,audio:2,id3:3,text:4},p=function(){function TSDemuxer(t,e,r,n){this.observer=t,this.config=r,this.typeSupported=n,this.remuxer=e,this.sampleAes=null}return TSDemuxer.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},TSDemuxer.probe=function(t){var e=TSDemuxer._syncOffset(t);return!(e<0)&&(e&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),!0)},TSDemuxer._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},TSDemuxer.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},TSDemuxer.prototype.resetInitSegment=function(t,e,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=TSDemuxer.createTrack("video",n),this._audioTrack=TSDemuxer.createTrack("audio",n),this._id3Track=TSDemuxer.createTrack("id3",n),this._txtTrack=TSDemuxer.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=r,this._duration=n},TSDemuxer.prototype.resetTimeStamp=function(){},TSDemuxer.prototype.append=function(t,e,r,n){var o,a,s,c,p,f=t.length,d=!1;this.contiguous=r;var h=this.pmtParsed,m=this._avcTrack,y=this._audioTrack,g=this._id3Track,v=m.pid,_=y.pid,b=g.pid,S=this._pmtId,x=m.pesData,w=y.pesData,E=g.pesData,P=this._parsePAT,C=this._parsePMT,T=this._parsePES,D=this._parseAVCPES.bind(this),M=this._parseAACPES.bind(this),A=this._parseMPEGPES.bind(this),R=this._parseID3PES.bind(this),L=TSDemuxer._syncOffset(t);for(f-=(f+L)%188,o=L;o<f;o+=188)if(71===t[o]){if(a=!!(64&t[o+1]),s=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((c=o+5+t[o+4])===o+188)continue}else c=o+4;switch(s){case v:a&&(x&&(p=T(x))&&void 0!==p.pts&&D(p,!1),x={data:[],size:0}),x&&(x.data.push(t.subarray(c,o+188)),x.size+=o+188-c);break;case _:a&&(w&&(p=T(w))&&void 0!==p.pts&&(y.isAAC?M(p):A(p)),w={data:[],size:0}),w&&(w.data.push(t.subarray(c,o+188)),w.size+=o+188-c);break;case b:a&&(E&&(p=T(E))&&void 0!==p.pts&&R(p),E={data:[],size:0}),E&&(E.data.push(t.subarray(c,o+188)),E.size+=o+188-c);break;case 0:a&&(c+=t[c]+1),S=this._pmtId=P(t,c);break;case S:a&&(c+=t[c]+1);var I=C(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(v=I.avc)>0&&(m.pid=v),(_=I.audio)>0&&(y.pid=_,y.isAAC=I.isAAC),(b=I.id3)>0&&(g.pid=b),d&&!h&&(u.logger.log("reparse from beginning"),d=!1,o=L-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:d=!0}}else this.observer.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});x&&(p=T(x))&&void 0!==p.pts?(D(p,!0),m.pesData=null):m.pesData=x,w&&(p=T(w))&&void 0!==p.pts?(y.isAAC?M(p):A(p),y.pesData=null):(w&&w.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=w),E&&(p=T(E))&&void 0!==p.pts?(R(p),g.pesData=null):g.pesData=E,null==this.sampleAes?this.remuxer.remux(y,m,g,this._txtTrack,e,r,n):this.decryptAndRemux(y,m,g,this._txtTrack,e,r,n)},TSDemuxer.prototype.decryptAndRemux=function(t,e,r,n,o,i,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,r,n,o,i,a)}))}else this.decryptAndRemuxAvc(t,e,r,n,o,i,a)},TSDemuxer.prototype.decryptAndRemuxAvc=function(t,e,r,n,o,i,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,r,n,o,i,a)}))}else this.remuxer.remux(t,e,r,n,o,i,a)},TSDemuxer.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},TSDemuxer.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},TSDemuxer.prototype._parsePMT=function(t,e,r,n){var o,i,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){switch(i=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){u.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=i);break;case 21:-1===a.id3&&(a.id3=i);break;case 219:if(!n){u.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=i);break;case 3:case 4:r?-1===a.audio&&(a.audio=i,a.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},TSDemuxer.prototype._parsePES=function(t){var e,r,n,o,i,a,s,l,c=0,p=t.data;if(!t||0===t.size)return null;for(;p[0].length<19&&p.length>1;){var f=new Uint8Array(p[0].length+p[1].length);f.set(p[0]),f.set(p[1],p[0].length),p[0]=f,p.splice(1,1)}if(1===((e=p[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;192&(r=e[7])&&(a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&r?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(u.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(o=e[8])+9,t.size-=l,i=new Uint8Array(t.size);for(var d=0,h=p.length;d<h;d++){var m=(e=p[d]).byteLength;if(l){if(l>m){l-=m;continue}e=e.subarray(l),m-=l,l=0}i.set(e,c),c+=m}return n&&(n-=o+3),{data:i,pts:a,dts:s,len:n}}return null},TSDemuxer.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var r=e.samples,n=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,r.push(t)):e.dropped++}t.debug.length&&u.logger.log(t.pts+"/"+t.dts+":"+t.debug)},TSDemuxer.prototype._parseAVCPES=function(t,e){var r,n,o,i=this,s=this._avcTrack,u=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,p=this.pushAccesUnit.bind(this),f=function createAVCSample(t,e,r,n){return{key:t,pts:e,dts:r,units:[],debug:n}};t.data=null,l&&u.length&&!s.audFound&&(p(l,s),l=this.avcSample=f(!1,t.pts,t.dts,"")),u.forEach((function(e){switch(e.type){case 1:n=!0,l||(l=i.avcSample=f(!0,t.pts,t.dts,"")),l.frame=!0;var u=e.data;if(c&&u.length>4){var d=new a.default(u).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(l.key=!0)}break;case 5:n=!0,l||(l=i.avcSample=f(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,(r=new a.default(i.discardEPB(e.data))).readUByte();for(var h=0,m=0,y=!1,g=0;!y&&r.bytesAvailable>1;){h=0;do{h+=g=r.readUByte()}while(255===g);m=0;do{m+=g=r.readUByte()}while(255===g);if(4===h&&0!==r.bytesAvailable){if(y=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var v=r.readUByte(),_=31&v,b=[v,r.readUByte()];for(o=0;o<_;o++)b.push(r.readUByte()),b.push(r.readUByte()),b.push(r.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(m<r.bytesAvailable)for(o=0;o<m;o++)r.readUByte()}break;case 7:if(n=!0,c=!0,!s.sps){var S=(r=new a.default(e.data)).readSPS();s.width=S.width,s.height=S.height,s.pixelRatio=S.pixelRatio,s.sps=[e.data],s.duration=i._duration;var x=e.data.subarray(1,4),w="avc1.";for(o=0;o<3;o++){var E=x[o].toString(16);E.length<2&&(E="0"+E),w+=E}s.codec=w}break;case 8:n=!0,s.pps||(s.pps=[e.data]);break;case 9:n=!1,s.audFound=!0,l&&p(l,s),l=i.avcSample=f(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&n&&l.units.push(e)})),e&&l&&(p(l,s),this.avcSample=null)},TSDemuxer.prototype._insertSampleInOrder=function(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var n=r-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},TSDemuxer.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var r=this._avcTrack.samples;e=r[r.length-1]}if(e){var n=e.units;t=n[n.length-1]}return t},TSDemuxer.prototype._parseAVCNALu=function(t){var e,r,n,o,i=0,a=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],p=-1;for(-1===u&&(p=0,o=31&t[0],u=0,i=1);i<a;)if(e=t[i++],u)if(1!==u)if(e)if(1===e){var f,d;if(p>=0)n={data:t.subarray(p,i-u-1),type:o},c.push(n);else if(f=this._getLastNalUnit())if(l&&i<=4-l&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-l)),(r=i-u-1)>0)(d=new Uint8Array(f.data.byteLength+r)).set(f.data,0),d.set(t.subarray(0,r),f.data.byteLength),f.data=d;i<a?(p=i,o=31&t[i],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;(p>=0&&u>=0&&(n={data:t.subarray(p,a),type:o,state:u},c.push(n)),0===c.length)&&((f=this._getLastNalUnit())&&((d=new Uint8Array(f.data.byteLength+t.byteLength)).set(f.data,0),d.set(t,f.data.byteLength),f.data=d));return s.naluState=u,c},TSDemuxer.prototype.discardEPB=function(t){for(var e,r,n=t.byteLength,o=[],i=1;i<n-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return t;e=n-o.length,r=new Uint8Array(e);var a=0;for(i=0;i<e;a++,i++)a===o[0]&&(a++,o.shift()),r[i]=t[a];return r},TSDemuxer.prototype._parseAACPES=function(t){var e,r,o,a,s,c=this._audioTrack,p=t.data,f=t.pts,d=this.aacOverFlow,h=this.aacLastPTS;if(d){var m=new Uint8Array(d.byteLength+p.byteLength);m.set(d,0),m.set(p,d.byteLength),p=m}for(o=0,s=p.length;o<s-1&&!n.isHeader(p,o);o++);if(o){var y=void 0,g=void 0;if(o<s-1?(y="AAC PES did not start with ADTS header,offset:"+o,g=!1):(y="no ADTS header found in AAC PES",g=!0),u.logger.warn("parsing error:"+y),this.observer.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:g,reason:y}),g)return}if(n.initTrackConfig(c,this.observer,p,o,this.audioCodec),r=0,e=n.getFrameDuration(c.samplerate),d&&h){var v=h+e;Math.abs(v-f)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((v-f)/90)),f=v)}for(;o<s;)if(n.isHeader(p,o)&&o+5<s){var _=n.appendFrame(c,p,o,f,r);if(!_)break;o+=_.length,a=_.sample.pts,r++}else o++;d=o<s?p.subarray(o,s):null,this.aacOverFlow=d,this.aacLastPTS=a},TSDemuxer.prototype._parseMPEGPES=function(t){for(var e=t.data,r=e.length,n=0,i=0,a=t.pts;i<r;)if(o.default.isHeader(e,i)){var s=o.default.appendFrame(this._audioTrack,e,i,a,n);if(!s)break;i+=s.length,n++}else i++},TSDemuxer.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},TSDemuxer}();e.default=p},"./src/errors.js":function srcErrorsJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function srcEventHandlerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js"),o=r("./src/errors.js"),i=r("./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function EventHandler(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return EventHandler.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},EventHandler.prototype.onHandlerDestroying=function(){},EventHandler.prototype.onHandlerDestroyed=function(){},EventHandler.prototype.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},EventHandler.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},EventHandler.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},EventHandler.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},EventHandler.prototype.onEventGeneric=function(t,e){try{(function eventToFunction(t,e){var r="on"+t.replace("hls","");if("function"!==typeof this[r])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,e)}).call(this,t,e).call()}catch(r){n.logger.error("An internal error happened while handling event "+t+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:r})}},EventHandler}();e.default=s},"./src/events.js":function srcEventsJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function srcHlsJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./node_modules/url-toolkit/src/url-toolkit.js"),i=r("./src/errors.js"),a=r("./src/loader/playlist-loader.js"),s=r("./src/loader/fragment-loader.js"),u=r("./src/loader/key-loader.js"),l=r("./src/controller/fragment-tracker.js"),c=r("./src/controller/stream-controller.js"),p=r("./src/controller/level-controller.js"),f=r("./src/controller/id3-track-controller.js"),d=r("./src/is-supported.js"),h=r("./src/utils/logger.js"),m=r("./src/config.js"),y=r("./src/events.js"),g=function(t){function Hls(e){void 0===e&&(e={});var r=t.call(this)||this,n=Hls.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in n)o in e||(e[o]=n[o]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');h.enableLogs(e.debug),r.config=e,r._autoLevelCapping=-1;var i=r.abrController=new e.abrController(r),d=new e.bufferController(r),m=new e.capLevelController(r),y=new e.fpsController(r),g=new a.default(r),v=new s.default(r),_=new u.default(r),b=new f.default(r),S=r.levelController=new p.default(r),x=new l.FragmentTracker(r),w=[S,r.streamController=new c.default(r,x)],E=e.audioStreamController;E&&w.push(new E(r,x)),r.networkControllers=w;var P=[g,v,_,i,d,m,y,b,x];if(E=e.audioTrackController){var C=new E(r);r.audioTrackController=C,P.push(C)}if(E=e.subtitleTrackController){var T=new E(r);r.subtitleTrackController=T,w.push(T)}if(E=e.emeController){var D=new E(r);r.emeController=D,P.push(D)}return(E=e.subtitleStreamController)&&w.push(new E(r,x)),(E=e.timelineController)&&P.push(new E(r)),r.coreComponents=P,r}return n(Hls,t),Object.defineProperty(Hls,"version",{get:function get(){return"0.12.6"},enumerable:!0,configurable:!0}),Hls.isSupported=function(){return d.isSupported()},Object.defineProperty(Hls,"Events",{get:function get(){return y.default},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorTypes",{get:function get(){return i.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorDetails",{get:function get(){return i.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"DefaultConfig",{get:function get(){return Hls.defaultConfig?Hls.defaultConfig:m.hlsDefaultConfig},set:function set(t){Hls.defaultConfig=t},enumerable:!0,configurable:!0}),Hls.prototype.destroy=function(){h.logger.log("destroy"),this.trigger(y.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},Hls.prototype.attachMedia=function(t){h.logger.log("attachMedia"),this.media=t,this.trigger(y.default.MEDIA_ATTACHING,{media:t})},Hls.prototype.detachMedia=function(){h.logger.log("detachMedia"),this.trigger(y.default.MEDIA_DETACHING),this.media=null},Hls.prototype.loadSource=function(t){t=o.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),h.logger.log("loadSource:"+t),this.url=t,this.trigger(y.default.MANIFEST_LOADING,{url:t})},Hls.prototype.startLoad=function(t){void 0===t&&(t=-1),h.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},Hls.prototype.stopLoad=function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},Hls.prototype.swapAudioCodec=function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},Hls.prototype.recoverMediaError=function(){h.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(Hls.prototype,"levels",{get:function get(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"currentLevel",{get:function get(){return this.streamController.currentLevel},set:function set(t){h.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLevel",{get:function get(){return this.streamController.nextLevel},set:function set(t){h.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"loadLevel",{get:function get(){return this.levelController.level},set:function set(t){h.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLoadLevel",{get:function get(){return this.levelController.nextLoadLevel},set:function set(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"firstLevel",{get:function get(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function set(t){h.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"startLevel",{get:function get(){return this.levelController.startLevel},set:function set(t){h.logger.log("set startLevel:"+t);-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelCapping",{get:function get(){return this._autoLevelCapping},set:function set(t){h.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelEnabled",{get:function get(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"manualLevel",{get:function get(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"minAutoLevel",{get:function get(){for(var t=this.levels,e=this.config.minAutoBitrate,r=t?t.length:0,n=0;n<r;n++){if((t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate)>e)return n}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"maxAutoLevel",{get:function get(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextAutoLevel",{get:function get(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function set(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTracks",{get:function get(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTrack",{get:function get(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function set(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"liveSyncPosition",{get:function get(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTracks",{get:function get(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTrack",{get:function get(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function set(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleDisplay",{get:function get(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function set(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),Hls}(r("./src/observer.js").Observer);e.default=g},"./src/is-supported.js":function srcIsSupportedJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/mediasource-helper.js");e.isSupported=function isSupported(){var t=n.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!r&&!!o}},"./src/loader/fragment-loader.js":function srcLoaderFragmentLoaderJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=function(e){function FragmentLoader(t){var r=e.call(this,t,o.default.FRAG_LOADING)||this;return r.loaders={},r}return n(FragmentLoader,e),FragmentLoader.prototype.destroy=function(){var t=this.loaders;for(var r in t){var n=t[r];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},FragmentLoader.prototype.onFragLoading=function(e){var r=e.frag,n=r.type,o=this.loaders,i=this.hls.config,a=i.fLoader,u=i.loader;r.loaded=0;var l,c,p,f=o[n];f&&(s.logger.warn("abort previous fragment loader for type: "+n),f.abort()),f=o[n]=r.loader=i.fLoader?new a(i):new u(i),l={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var d=r.byteRangeStartOffset,h=r.byteRangeEndOffset;t.isFinite(d)&&t.isFinite(h)&&(l.rangeStart=d,l.rangeEnd=h),c={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(l,c,p)},FragmentLoader.prototype.loadsuccess=function(t,e,r,n){void 0===n&&(n=null);var i=t.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(o.default.FRAG_LOADED,{payload:i,frag:a,stats:e,networkDetails:n})},FragmentLoader.prototype.loaderror=function(t,e,r){void 0===r&&(r=null);var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},FragmentLoader.prototype.loadtimeout=function(t,e,r){void 0===r&&(r=null);var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},FragmentLoader.prototype.loadprogress=function(t,e,r,n){void 0===n&&(n=null);var i=e.frag;i.loaded=t.loaded,this.hls.trigger(o.default.FRAG_LOAD_PROGRESS,{frag:i,stats:t,networkDetails:n})},FragmentLoader}(i.default);e.default=u}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function srcLoaderFragmentJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/loader/level-key.js"),i=function(){function Fragment(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[Fragment.ElementaryStreamTypes.AUDIO]=!1,t[Fragment.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(Fragment,"ElementaryStreamTypes",{get:function get(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"url",{get:function get(){return!this._url&&this.relurl&&(this._url=n.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function set(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRange",{get:function get(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var r=this.lastByteRangeEndOffset;t[0]=r||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeStartOffset",{get:function get(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeEndOffset",{get:function get(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"decryptdata",{get:function get(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"endProgramDateTime",{get:function get(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"encrypted",{get:function get(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),Fragment.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},Fragment.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},Fragment.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},Fragment.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var r=t;return t&&t.method&&t.uri&&!t.iv&&((r=new o.default).method=t.method,r.baseuri=t.baseuri,r.reluri=t.reluri,r.iv=this.createInitializationVector(e)),r},Fragment}();e.default=i}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function srcLoaderKeyLoaderJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=function(t){function KeyLoader(e){var r=t.call(this,e,o.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return n(KeyLoader,t),KeyLoader.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},i.default.prototype.destroy.call(this)},KeyLoader.prototype.onKeyLoading=function(t){var e=t.frag,r=e.type,n=this.loaders[r],i=e.decryptdata,a=i.uri;if(a!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;n&&(s.logger.warn("abort previous key loader for type:"+r),n.abort()),e.loader=this.loaders[r]=new u.loader(u),this.decrypturl=a,this.decryptkey=null;var l,c,p;l={url:a,frag:e,responseType:"arraybuffer"},c={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(l,c,p)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(o.default.KEY_LOADED,{frag:e}))},KeyLoader.prototype.loadsuccess=function(t,e,r){var n=r.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(o.default.KEY_LOADED,{frag:n})},KeyLoader.prototype.loaderror=function(t,e){var r=e.frag,n=r.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},KeyLoader.prototype.loadtimeout=function(t,e){var r=e.frag,n=r.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},KeyLoader}(i.default);e.default=u},"./src/loader/level-key.js":function srcLoaderLevelKeyJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=function(){function LevelKey(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(LevelKey.prototype,"uri",{get:function get(){return!this._uri&&this.reluri&&(this._uri=n.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),LevelKey}();e.default=o},"./src/loader/level.js":function srcLoaderLevelJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function Level(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(Level.prototype,"hasProgramDateTime",{get:function get(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),Level}();e.default=r}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function srcLoaderM3u8ParserJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/loader/fragment.js"),i=r("./src/loader/level.js"),a=r("./src/loader/level-key.js"),s=r("./src/utils/attr-list.js"),u=r("./src/utils/logger.js"),l=r("./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,p=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),d=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function M3U8Parser(){}return M3U8Parser.findGroup=function(t,e){if(!t)return null;for(var r=null,n=0;n<t.length;n++){var o=t[n];o.id===e&&(r=o)}return r},M3U8Parser.convertAVC1ToAVCOTI=function(t){var e,r=t.split(".");return r.length>2?(e=r.shift()+".",e+=parseInt(r.shift()).toString(16),e+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):e=t,e},M3U8Parser.resolve=function(t,e){return n.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},M3U8Parser.parseMasterPlaylist=function(t,e){var r,n=[];function setCodecs(t,e){["video","audio"].forEach((function(r){var n=t.filter((function(t){return l.isCodecType(t,r)}));if(n.length){var o=n.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[r+"Codec"]=o.length>0?o[0]:n[0],t=t.filter((function(t){return-1===n.indexOf(t)}))}})),e.unknownCodecs=t}for(c.lastIndex=0;null!=(r=c.exec(t));){var o={},i=o.attrs=new s.default(r[1]);o.url=M3U8Parser.resolve(r[2],e);var a=i.decimalResolution("RESOLUTION");a&&(o.width=a.width,o.height=a.height),o.bitrate=i.decimalInteger("AVERAGE-BANDWIDTH")||i.decimalInteger("BANDWIDTH"),o.name=i.NAME,setCodecs([].concat((i.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=M3U8Parser.convertAVC1ToAVCOTI(o.videoCodec)),n.push(o)}return n},M3U8Parser.parseMasterPlaylistMedia=function(t,e,r,n){var o;void 0===n&&(n=[]);var i=[],a=0;for(p.lastIndex=0;null!==(o=p.exec(t));){var u={},l=new s.default(o[1]);if(l.TYPE===r){if(u.groupId=l["GROUP-ID"],u.name=l.NAME,u.type=r,u.default="YES"===l.DEFAULT,u.autoselect="YES"===l.AUTOSELECT,u.forced="YES"===l.FORCED,l.URI&&(u.url=M3U8Parser.resolve(l.URI,e)),u.lang=l.LANGUAGE,u.name||(u.name=u.lang),n.length){var c=M3U8Parser.findGroup(n,u.groupId);u.audioCodec=c?c.codec:n[0].codec}u.id=a++,i.push(u)}}return i},M3U8Parser.parseLevelPlaylist=function(e,r,n,l,c){var p,m,y=0,g=0,v=new i.default(r),_=new a.default,b=0,S=null,x=new o.default,w=null;for(f.lastIndex=0;null!==(p=f.exec(e));){var E=p[1];if(E){x.duration=parseFloat(E);var P=(" "+p[2]).slice(1);x.title=P||null,x.tagList.push(P?["INF",E,P]:["INF",E])}else if(p[3]){if(t.isFinite(x.duration)){var C=y++;x.type=l,x.start=g,x.levelkey=_,x.sn=C,x.level=n,x.cc=b,x.urlId=c,x.baseurl=r,x.relurl=(" "+p[3]).slice(1),assignProgramDateTime(x,S),v.fragments.push(x),S=x,g+=x.duration,x=new o.default}}else if(p[4]){if(x.rawByteRange=(" "+p[4]).slice(1),S){var T=S.byteRangeEndOffset;T&&(x.lastByteRangeEndOffset=T)}}else if(p[5])x.rawProgramDateTime=(" "+p[5]).slice(1),x.tagList.push(["PROGRAM-DATE-TIME",x.rawProgramDateTime]),null===w&&(w=v.fragments.length);else{for(p=p[0].match(d),m=1;m<p.length&&void 0===p[m];m++);var D=(" "+p[m+1]).slice(1),M=(" "+p[m+2]).slice(1);switch(p[m]){case"#":x.tagList.push(M?[D,M]:[D]);break;case"PLAYLIST-TYPE":v.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":y=v.startSN=parseInt(D);break;case"TARGETDURATION":v.targetduration=parseFloat(D);break;case"VERSION":v.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"DIS":b++,x.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":b=parseInt(D);break;case"KEY":var A=D,R=new s.default(A),L=R.enumeratedString("METHOD"),I=R.URI,O=R.hexadecimalInteger("IV");L&&(_=new a.default,I&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(L)>=0&&(_.method=L,_.baseuri=r,_.reluri=I,_.key=null,_.iv=O));break;case"START":var k=D,F=new s.default(k).decimalFloatingPoint("TIME-OFFSET");t.isFinite(F)&&(v.startTimeOffset=F);break;case"MAP":var N=new s.default(D);x.relurl=N.URI,x.rawByteRange=N.BYTERANGE,x.baseurl=r,x.level=n,x.type=l,x.sn="initSegment",v.initSegment=x,(x=new o.default).rawProgramDateTime=v.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+p)}}}return(x=S)&&!x.relurl&&(v.fragments.pop(),g-=x.duration),v.totalduration=g,v.averagetargetduration=g/v.fragments.length,v.endSN=y-1,v.startCC=v.fragments[0]?v.fragments[0].cc:0,v.endCC=b,!v.initSegment&&v.fragments.length&&v.fragments.every((function(t){return h.test(t.relurl)}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(x=new o.default).relurl=v.fragments[0].relurl,x.baseurl=r,x.level=n,x.type=l,x.sn="initSegment",v.initSegment=x,v.needSidxRanges=!0),w&&function backfillProgramDateTimes(t,e){for(var r=t[e],n=e-1;n>=0;n--){var o=t[n];o.programDateTime=r.programDateTime-1e3*o.duration,r=o}}(v.fragments,w),v},M3U8Parser}();function assignProgramDateTime(e,r){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):r&&r.programDateTime&&(e.programDateTime=r.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}e.default=m}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function srcLoaderPlaylistLoaderJs(t,e,r){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r("./src/events.js"),i=r("./src/event-handler.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=r("./src/demux/mp4demuxer.js"),l=r("./src/loader/m3u8-parser.js"),c=window.performance,p={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},f={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},d=function(e){function PlaylistLoader(t){var r=e.call(this,t,o.default.MANIFEST_LOADING,o.default.LEVEL_LOADING,o.default.AUDIO_TRACK_LOADING,o.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return n(PlaylistLoader,e),Object.defineProperty(PlaylistLoader,"ContextType",{get:function get(){return p},enumerable:!0,configurable:!0}),Object.defineProperty(PlaylistLoader,"LevelType",{get:function get(){return f},enumerable:!0,configurable:!0}),PlaylistLoader.canHaveQualityLevels=function(t){return t!==p.AUDIO_TRACK&&t!==p.SUBTITLE_TRACK},PlaylistLoader.mapContextToLevelType=function(t){switch(t.type){case p.AUDIO_TRACK:return f.AUDIO;case p.SUBTITLE_TRACK:return f.SUBTITLE;default:return f.MAIN}},PlaylistLoader.getResponseUrl=function(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r},PlaylistLoader.prototype.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,n=e.loader,o=new(r||n)(e);return t.loader=o,this.loaders[t.type]=o,o},PlaylistLoader.prototype.getInternalLoader=function(t){return this.loaders[t.type]},PlaylistLoader.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},PlaylistLoader.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},PlaylistLoader.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},PlaylistLoader.prototype.onManifestLoading=function(t){this.load(t.url,{type:p.MANIFEST,level:0,id:null})},PlaylistLoader.prototype.onLevelLoading=function(t){this.load(t.url,{type:p.LEVEL,level:t.level,id:t.id})},PlaylistLoader.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:p.AUDIO_TRACK,level:null,id:t.id})},PlaylistLoader.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:p.SUBTITLE_TRACK,level:null,id:t.id})},PlaylistLoader.prototype.load=function(t,e){var r=this.hls.config;s.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var n,o,i,a,u=this.getInternalLoader(e);if(u){var l=u.context;if(l&&l.url===t)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case p.MANIFEST:n=r.manifestLoadingMaxRetry,o=r.manifestLoadingTimeOut,i=r.manifestLoadingRetryDelay,a=r.manifestLoadingMaxRetryTimeout;break;case p.LEVEL:n=0,o=r.levelLoadingTimeOut;break;default:n=r.levelLoadingMaxRetry,o=r.levelLoadingTimeOut,i=r.levelLoadingRetryDelay,a=r.levelLoadingMaxRetryTimeout}u=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var c={timeout:o,maxRetry:n,retryDelay:i,maxRetryDelay:a},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+t),u.load(e,c,f),!0},PlaylistLoader.prototype.loadsuccess=function(t,e,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(t,r),void this._handlePlaylistLoaded(t,e,r,n);this.resetInternalLoader(r.type);var o=t.data;e.tload=c.now(),0===o.indexOf("#EXTM3U")?o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,r,n):this._handleMasterPlaylist(t,e,r,n):this._handleManifestParsingError(t,r,"no EXTM3U delimiter",n)},PlaylistLoader.prototype.loaderror=function(t,e,r){void 0===r&&(r=null),this._handleNetworkError(e,r,!1,t)},PlaylistLoader.prototype.loadtimeout=function(t,e,r){void 0===r&&(r=null),this._handleNetworkError(e,r,!0)},PlaylistLoader.prototype._handleMasterPlaylist=function(t,e,r,n){var i=this.hls,a=t.data,u=PlaylistLoader.getResponseUrl(t,r),c=l.default.parseMasterPlaylist(a,u);if(c.length){var p=c.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),f=l.default.parseMasterPlaylistMedia(a,u,"AUDIO",p),d=l.default.parseMasterPlaylistMedia(a,u,"SUBTITLES");if(f.length){var h=!1;f.forEach((function(t){t.url||(h=!0)})),!1===h&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main"}))}i.trigger(o.default.MANIFEST_LOADED,{levels:c,audioTracks:f,subtitles:d,url:u,stats:e,networkDetails:n})}else this._handleManifestParsingError(t,r,"no level found in manifest",n)},PlaylistLoader.prototype._handleTrackOrLevelPlaylist=function(e,r,n,i){var a=this.hls,s=n.id,u=n.level,f=n.type,d=PlaylistLoader.getResponseUrl(e,n),h=t.isFinite(s)?s:0,m=t.isFinite(u)?u:h,y=PlaylistLoader.mapContextToLevelType(n),g=l.default.parseLevelPlaylist(e.data,d,m,y,h);if(g.tload=r.tload,f===p.MANIFEST){var v={url:d,details:g};a.trigger(o.default.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:d,stats:r,networkDetails:i})}if(r.tparsed=c.now(),g.needSidxRanges){var _=g.initSegment.url;this.load(_,{isSidxRequest:!0,type:f,level:u,levelDetails:g,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=g,this._handlePlaylistLoaded(e,r,n,i)},PlaylistLoader.prototype._handleSidxRequest=function(t,e){var r=u.default.parseSegmentIndex(new Uint8Array(t.data));if(r){var n=r.references,o=e.levelDetails;n.forEach((function(t,e){var r=t.info,n=o.fragments[e];0===n.byteRange.length&&(n.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))})),o.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},PlaylistLoader.prototype._handleManifestParsingError=function(t,e,r,n){this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:r,networkDetails:n})},PlaylistLoader.prototype._handleNetworkError=function(t,e,r,n){var i,u;void 0===r&&(r=!1),void 0===n&&(n=null),s.logger.info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case p.MANIFEST:i=r?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case p.LEVEL:i=r?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case p.AUDIO_TRACK:i=r?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;default:u=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var c={type:a.ErrorTypes.NETWORK_ERROR,details:i,fatal:u,url:l.url,loader:l,context:t,networkDetails:e};n&&(c.response=n),this.hls.trigger(o.default.ERROR,c)},PlaylistLoader.prototype._handlePlaylistLoaded=function(t,e,r,n){var i=r.type,a=r.level,s=r.id,u=r.levelDetails;if(u.targetduration)if(PlaylistLoader.canHaveQualityLevels(r.type))this.hls.trigger(o.default.LEVEL_LOADED,{details:u,level:a||0,id:s||0,stats:e,networkDetails:n});else switch(i){case p.AUDIO_TRACK:this.hls.trigger(o.default.AUDIO_TRACK_LOADED,{details:u,id:s,stats:e,networkDetails:n});break;case p.SUBTITLE_TRACK:this.hls.trigger(o.default.SUBTITLE_TRACK_LOADED,{details:u,id:s,stats:e,networkDetails:n})}else this._handleManifestParsingError(t,r,"invalid target duration",n)},PlaylistLoader}(i.default);e.default=d}).call(this,r("./src/polyfills/number.js").Number)},"./src/observer.js":function srcObserverJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function Observer(){return null!==t&&t.apply(this,arguments)||this}return n(Observer,t),Observer.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.emit.apply(this,[t,t].concat(e))},Observer}(r("./node_modules/eventemitter3/index.js").EventEmitter);e.Observer=o},"./src/polyfills/number.js":function srcPolyfillsNumberJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/get-self-scope.js").getSelfScope().Number;e.Number=n,n.isFinite=n.isFinite||function(t){return"number"===typeof t&&isFinite(t)}},"./src/remux/aac-helper.js":function srcRemuxAacHelperJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function AAC(){}return AAC.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},AAC}();e.default=n},"./src/remux/mp4-generator.js":function srcRemuxMp4GeneratorJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.pow(2,32)-1,o=function(){function MP4(){}return MP4.init=function(){var t;for(t in MP4.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},MP4.types)MP4.types.hasOwnProperty(t)&&(MP4.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);MP4.HDLR_TYPES={video:e,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);MP4.STTS=MP4.STSC=MP4.STCO=o,MP4.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),MP4.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),MP4.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),MP4.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,i,s,i,a),MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,n))},MP4.box=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),n=8,o=r.length,i=o;o--;)n+=r[o].byteLength;for((e=new Uint8Array(n))[0]=n>>24&255,e[1]=n>>16&255,e[2]=n>>8&255,e[3]=255&n,e.set(t,4),o=0,n=8;o<i;o++)e.set(r[o],n),n+=r[o].byteLength;return e},MP4.hdlr=function(t){return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[t])},MP4.mdat=function(t){return MP4.box(MP4.types.mdat,t)},MP4.mdhd=function(t,e){e*=t;var r=Math.floor(e/(n+1)),o=Math.floor(e%(n+1));return MP4.box(MP4.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},MP4.mdia=function(t){return MP4.box(MP4.types.mdia,MP4.mdhd(t.timescale,t.duration),MP4.hdlr(t.type),MP4.minf(t))},MP4.mfhd=function(t){return MP4.box(MP4.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},MP4.minf=function(t){return"audio"===t.type?MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(t)):MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(t))},MP4.moof=function(t,e,r){return MP4.box(MP4.types.moof,MP4.mfhd(t),MP4.traf(r,e))},MP4.moov=function(t){for(var e=t.length,r=[];e--;)r[e]=MP4.trak(t[e]);return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(MP4.mvex(t)))},MP4.mvex=function(t){for(var e=t.length,r=[];e--;)r[e]=MP4.trex(t[e]);return MP4.box.apply(null,[MP4.types.mvex].concat(r))},MP4.mvhd=function(t,e){e*=t;var r=Math.floor(e/(n+1)),o=Math.floor(e%(n+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return MP4.box(MP4.types.mvhd,i)},MP4.sdtp=function(t){var e,r,n=t.samples||[],o=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)e=n[r].flags,o[r+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return MP4.box(MP4.types.sdtp,o)},MP4.stbl=function(t){return MP4.box(MP4.types.stbl,MP4.stsd(t),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO))},MP4.avc1=function(t){var e,r,n,o=[],i=[];for(e=0;e<t.sps.length;e++)n=(r=t.sps[e]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));for(e=0;e<t.pps.length;e++)n=(r=t.pps[e]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(r));var a=MP4.box(MP4.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(i))),s=t.width,u=t.height,l=t.pixelRatio[0],c=t.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c])))},MP4.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},MP4.mp4a=function(t){var e=t.samplerate;return MP4.box(MP4.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),MP4.box(MP4.types.esds,MP4.esds(t)))},MP4.mp3=function(t){var e=t.samplerate;return MP4.box(MP4.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},MP4.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(t)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(t)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(t))},MP4.tkhd=function(t){var e=t.id,r=t.duration*t.timescale,o=t.width,i=t.height,a=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return MP4.box(MP4.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,i>>8&255,255&i,0,0]))},MP4.traf=function(t,e){var r=MP4.sdtp(t),o=t.id,i=Math.floor(e/(n+1)),a=Math.floor(e%(n+1));return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),MP4.box(MP4.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a])),MP4.trun(t,r.length+16+20+8+16+8+8),r)},MP4.trak=function(t){return t.duration=t.duration||4294967295,MP4.box(MP4.types.trak,MP4.tkhd(t),MP4.mdia(t))},MP4.trex=function(t){var e=t.id;return MP4.box(MP4.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},MP4.trun=function(t,e){var r,n,o,i,a,s,u=t.samples||[],l=u.length,c=12+16*l,p=new Uint8Array(c);for(e+=8+c,p.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),r=0;r<l;r++)o=(n=u[r]).duration,i=n.size,a=n.flags,s=n.cts,p.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*r);return MP4.box(MP4.types.trun,p)},MP4.initSegment=function(t){MP4.types||MP4.init();var e,r=MP4.moov(t);return(e=new Uint8Array(MP4.FTYP.byteLength+r.byteLength)).set(MP4.FTYP),e.set(r,MP4.FTYP.byteLength),e},MP4}();e.default=o},"./src/remux/mp4-remuxer.js":function srcRemuxMp4RemuxerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/remux/aac-helper.js"),o=r("./src/remux/mp4-generator.js"),i=r("./src/events.js"),a=r("./src/errors.js"),s=r("./src/utils/logger.js"),u=function(){function MP4Remuxer(t,e,r,n){this.observer=t,this.config=e,this.typeSupported=r;var o=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return MP4Remuxer.prototype.destroy=function(){},MP4Remuxer.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},MP4Remuxer.prototype.resetInitSegment=function(){this.ISGenerated=!1},MP4Remuxer.prototype.remux=function(t,e,r,n,o,a,u){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated){var l=t.samples.length,c=e.samples.length,p=o,f=o;if(l&&c){var d=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;p+=Math.max(0,d),f+=Math.max(0,-d)}if(l){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var h=this.remuxAudio(t,p,a,u);if(c){var m=void 0;h&&(m=h.endPTS-h.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,f,a,m,u)}}else if(c){var y=this.remuxVideo(e,f,a,0,u);y&&t.codec&&this.remuxEmptyAudio(t,p,a,y)}}r.samples.length&&this.remuxID3(r,o),n.samples.length&&this.remuxText(n,o),this.observer.trigger(i.default.FRAG_PARSED)},MP4Remuxer.prototype.generateIS=function(t,e,r){var n,u,l=this.observer,c=t.samples,p=e.samples,f=this.typeSupported,d="audio/mp4",h={},m={tracks:h},y=void 0===this._initPTS;if(y&&(n=u=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(f.mpeg?(d="audio/mpeg",t.codec=""):f.mp3&&(t.codec="mp3")),h.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&f.mpeg?new Uint8Array:o.default.initSegment([t]),metadata:{channelCount:t.channelCount}},y&&(n=u=c[0].pts-t.inputTimeScale*r)),e.sps&&e.pps&&p.length){var g=e.inputTimeScale;e.timescale=g,h.video={container:"video/mp4",codec:e.codec,initSegment:o.default.initSegment([e]),metadata:{width:e.width,height:e.height}},y&&(n=Math.min(n,p[0].pts-g*r),u=Math.min(u,p[0].dts-g*r),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(h).length?(l.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,m),this.ISGenerated=!0,y&&(this.config.disablePtsDtsCorrectionInMp4Remux?(this._initPTS=0,this._initDTS=0):(this._initPTS=n,this._initDTS=u))):l.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},MP4Remuxer.prototype.remuxVideo=function(t,e,r,n,u){var l,c,p,f,d,h,m,y=8,g=t.timescale,v=t.samples,_=[],b=v.length,S=this._PTSNormalize,x=this._initPTS,w=this.nextAvcDts,E=this.isSafari;if(0!==b){E&&(r|=v.length&&w&&(u&&Math.abs(e-w/g)<.1||Math.abs(v[0].pts-w-x)<g/5)),r||(w=e*g),v.forEach((function(t){t.pts=S(t.pts-x,w),t.dts=S(t.dts-x,w)})),v.sort((function(t,e){var r=t.dts-e.dts,n=t.pts-e.pts;return r||n||t.id-e.id}));var P=v.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(P<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(P/90)+" ms to overcome this issue");for(var C=0;C<v.length;C++)v[C].dts+=P}var T=v[0];d=Math.max(T.dts,0),f=Math.max(T.pts,0);var D=Math.round((d-w)/90);r&&D&&(D>1?s.logger.log("AVC:"+D+" ms hole between fragments detected,filling it"):D<-1&&s.logger.log("AVC:"+-D+" ms overlapping between fragments detected"),d=w,v[0].dts=d,f=Math.max(f-D,w),v[0].pts=f,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(f/90)+"/"+Math.round(d/90)+",delta:"+D+" ms")),T=v[v.length-1],m=Math.max(T.dts,0),h=Math.max(T.pts,0,m),E&&(l=Math.round((m-d)/(v.length-1)));var M=0,A=0;for(C=0;C<b;C++){for(var R=v[C],L=R.units,I=L.length,O=0,k=0;k<I;k++)O+=L[k].data.length;A+=O,M+=I,R.length=O,R.dts=E?d+C*l:Math.max(R.dts,d),R.pts=Math.max(R.pts,R.dts)}var F=A+4*M+8;try{c=new Uint8Array(F)}catch(J){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var N=new DataView(c.buffer);N.setUint32(0,F),c.set(o.default.types.mdat,4);for(C=0;C<b;C++){var B=v[C],U=B.units,z=0,j=void 0;for(k=0,I=U.length;k<I;k++){var G=U[k],V=G.data,W=G.data.byteLength;N.setUint32(y,W),y+=4,c.set(V,y),y+=W,z+=4+W}if(E)j=Math.max(0,l*Math.round((B.pts-B.dts)/l));else{if(C<b-1)l=v[C+1].dts-B.dts;else{var q=this.config,H=B.dts-v[C>0?C-1:C].dts;if(q.stretchShortVideoTrack){var K=q.maxBufferHole,Y=Math.floor(K*g),Z=(n?f+n*g:this.nextAudioPts)-B.pts;Z>Y?((l=Z-H)<0&&(l=H),s.logger.log("It is approximately "+Z/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=H}else l=H}j=Math.round(B.pts-B.dts)}_.push({size:z,duration:l,cts:j,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=m+l;var X=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Q=_[0].flags;Q.dependsOn=2,Q.isNonSync=0}t.samples=_,p=o.default.moof(t.sequenceNumber++,d,t),t.samples=[];var $={data1:p,data2:c,startPTS:f/g,endPTS:(h+l)/g,startDTS:d/g,endDTS:this.nextAvcDts/g,type:"video",hasAudio:!1,hasVideo:!0,nb:_.length,dropped:X};return this.observer.trigger(i.default.FRAG_PARSING_DATA,$),$}},MP4Remuxer.prototype.remuxAudio=function(t,e,r,u){var l,c,p,f,d,h,m,y=t.inputTimeScale,g=t.timescale,v=y/g,_=(t.isAAC?1024:1152)*v,b=this._PTSNormalize,S=this._initPTS,x=!t.isAAC&&this.typeSupported.mpeg,w=t.samples,E=[],P=this.nextAudioPts;if(r|=w.length&&P&&(u&&Math.abs(e-P/y)<.1||Math.abs(w[0].pts-P-S)<20*_),w.forEach((function(t){t.pts=t.dts=b(t.pts-S,e*y)})),0!==(w=w.filter((function(t){return t.pts>=0}))).length){if(r||(P=u?e*y:w[0].pts),t.isAAC)for(var C=this.config.maxAudioFramesDrift,T=0,D=P;T<w.length;){var M,A=w[T];M=(B=A.pts)-D;var R=Math.abs(1e3*M/y);if(M<=-C*_)s.logger.warn("Dropping 1 audio frame @ "+(D/y).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),w.splice(T,1),t.len-=A.unit.length;else if(M>=C*_&&R<1e4&&D){var L=Math.round(M/_);s.logger.warn("Injecting "+L+" audio frame @ "+(D/y).toFixed(3)+"s due to "+Math.round(1e3*M/y)+" ms gap.");for(var I=0;I<L;I++){var O=Math.max(D,0);(p=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),p=A.unit.subarray()),w.splice(T,0,{unit:p,pts:O,dts:O}),t.len+=p.length,D+=_,T++}A.pts=A.dts=D,D+=_,T++}else Math.abs(M),A.pts=A.dts=D,D+=_,T++}I=0;for(var k=w.length;I<k;I++){var F=w[I],N=F.unit,B=F.pts;if(void 0!==m)c.duration=Math.round((B-m)/v);else{var U=Math.round(1e3*(B-P)/y),z=0;if(r&&t.isAAC&&U){if(U>0&&U<1e4)z=Math.round((B-P)/_),s.logger.log(U+" ms hole between AAC samples detected,filling it"),z>0&&((p=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(p=N.subarray()),t.len+=z*p.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(P/y).toFixed(3)+"s/"+(B/y).toFixed(3)+"s/"+-U+"ms"),t.len-=N.byteLength;continue}B=P}if(h=B,!(t.len>0))return;var j=x?t.len:t.len+8;l=x?0:8;try{f=new Uint8Array(j)}catch(Y){return void this.observer.trigger(i.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}x||(new DataView(f.buffer).setUint32(0,j),f.set(o.default.types.mdat,4));for(T=0;T<z;T++)(p=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),p=N.subarray()),f.set(p,l),l+=p.byteLength,c={size:p.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c)}f.set(N,l);var G=N.byteLength;l+=G,c={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c),m=B}var V=0,W=E.length;if(W>=2&&(V=E[W-2].duration,c.duration=V),W){this.nextAudioPts=P=m+v*V,t.len=0,t.samples=E,d=x?new Uint8Array:o.default.moof(t.sequenceNumber++,h/v,t),t.samples=[];var q=h/y,H=P/y,K={data1:d,data2:f,startPTS:q,endPTS:H,startDTS:q,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(i.default.FRAG_PARSING_DATA,K),K}return null}},MP4Remuxer.prototype.remuxEmptyAudio=function(t,e,r,o){var i=t.inputTimeScale,a=i/(t.samplerate?t.samplerate:i),u=this.nextAudioPts,l=(void 0!==u?u:o.startDTS*i)+this._initDTS,c=o.endDTS*i+this._initDTS,p=1024*a,f=Math.ceil((c-l)/p),d=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),d){for(var h=[],m=0;m<f;m++){var y=l+m*p;h.push({unit:d,pts:y,dts:y}),t.len+=d.length}t.samples=h,this.remuxAudio(t,e,r)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},MP4Remuxer.prototype.remuxID3=function(t){var e,r=t.samples.length,n=t.inputTimeScale,o=this._initPTS,a=this._initDTS;if(r){for(var s=0;s<r;s++)(e=t.samples[s]).pts=(e.pts-o)/n,e.dts=(e.dts-a)/n;this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},MP4Remuxer.prototype.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,r=t.samples.length,n=t.inputTimeScale,o=this._initPTS;if(r){for(var a=0;a<r;a++)(e=t.samples[a]).pts=(e.pts-o)/n;this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},MP4Remuxer.prototype._PTSNormalize=function(t,e){return t},MP4Remuxer}();e.default=u},"./src/remux/passthrough-remuxer.js":function srcRemuxPassthroughRemuxerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/events.js"),o=function(){function PassThroughRemuxer(t){this.observer=t}return PassThroughRemuxer.prototype.destroy=function(){},PassThroughRemuxer.prototype.resetTimeStamp=function(){},PassThroughRemuxer.prototype.resetInitSegment=function(){},PassThroughRemuxer.prototype.remux=function(t,e,r,o,i,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(n.default.FRAG_PARSING_DATA,{data1:u,startPTS:i,startDTS:i,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(n.default.FRAG_PARSED)},PassThroughRemuxer}();e.default=o},"./src/task-loop.js":function srcTaskLoopJs(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function TaskLoop(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=t.apply(this,[e].concat(r))||this;return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return n(TaskLoop,t),TaskLoop.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},TaskLoop.prototype.hasInterval=function(){return!!this._tickInterval},TaskLoop.prototype.hasNextTick=function(){return!!this._tickTimer},TaskLoop.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},TaskLoop.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},TaskLoop.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},TaskLoop.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},TaskLoop.prototype.doTick=function(){},TaskLoop}(r("./src/event-handler.js").default);e.default=o},"./src/utils/attr-list.js":function srcUtilsAttrListJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function AttrList(t){for(var e in"string"===typeof t&&(t=AttrList.parseAttrList(t)),t)t.hasOwnProperty(e)&&(this[e]=t[e])}return AttrList.prototype.decimalInteger=function(e){var r=parseInt(this[e],10);return r>t.MAX_SAFE_INTEGER?1/0:r},AttrList.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)r[n]=parseInt(e.slice(2*n,2*n+2),16);return r}return null},AttrList.prototype.hexadecimalIntegerAsNumber=function(e){var r=parseInt(this[e],16);return r>t.MAX_SAFE_INTEGER?1/0:r},AttrList.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},AttrList.prototype.enumeratedString=function(t){return this[t]},AttrList.prototype.decimalResolution=function(t){var e=r.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},AttrList.parseAttrList=function(t){var e,r={};for(n.lastIndex=0;null!==(e=n.exec(t));){var o=e[2];0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1&&(o=o.slice(1,-1)),r[e[1]]=o}return r},AttrList}();e.default=o}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function srcUtilsBinarySearchJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={search:function search(t,e){for(var r=0,n=t.length-1,o=null,i=null;r<=n;){var a=e(i=t[o=(r+n)/2|0]);if(a>0)r=o+1;else{if(!(a<0))return i;n=o-1}}return null}}},"./src/utils/buffer-helper.js":function srcUtilsBufferHelperJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function BufferHelper(){}return BufferHelper.isBuffered=function(t,e){try{if(t)for(var r=t.buffered,n=0;n<r.length;n++)if(e>=r.start(n)&&e<=r.end(n))return!0}catch(o){}return!1},BufferHelper.bufferInfo=function(t,e,r){try{if(t){var n=t.buffered,o=[],i=void 0;for(i=0;i<n.length;i++)o.push({start:n.start(i),end:n.end(i)});return this.bufferedInfo(o,e,r)}}catch(a){}return{len:0,start:e,end:e,nextStart:void 0}},BufferHelper.bufferedInfo=function(t,e,r){var n,o,i,a,s,u=[];for(t.sort((function(t,e){var r=t.start-e.start;return r||e.end-t.end})),s=0;s<t.length;s++){var l=u.length;if(l){var c=u[l-1].end;t[s].start-c<r?t[s].end>c&&(u[l-1].end=t[s].end):u.push(t[s])}else u.push(t[s])}for(s=0,n=0,o=i=e;s<u.length;s++){var p=u[s].start,f=u[s].end;if(e+r>=p&&e<f)o=p,n=(i=f)-e;else if(e+r<p){a=p;break}}return{len:n,start:o,end:i,nextStart:a}},BufferHelper}();e.BufferHelper=n},"./src/utils/cea-608-parser.js":function srcUtilsCea608ParserJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function getCharForByte(t){var e=t;return n.hasOwnProperty(t)&&(e=n[t]),String.fromCharCode(e)},i=15,a=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function setTime(t){this.time=t},log:function log(t,e){this.verboseFilter[t];this.verboseLevel}},d=function numArrayToHexArray(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},h=function(){function PenState(t,e,r,n,o){this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=n||"black",this.flash=o||!1}return PenState.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},PenState.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var n=e[r];t.hasOwnProperty(n)&&(this[n]=t[n])}},PenState.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},PenState.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},PenState.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},PenState.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},PenState}(),m=function(){function StyledUnicodeChar(t,e,r,n,o,i){this.uchar=t||" ",this.penState=new h(e,r,n,o,i)}return StyledUnicodeChar.prototype.reset=function(){this.uchar=" ",this.penState.reset()},StyledUnicodeChar.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},StyledUnicodeChar.prototype.setPenState=function(t){this.penState.copy(t)},StyledUnicodeChar.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},StyledUnicodeChar.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},StyledUnicodeChar.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},StyledUnicodeChar}(),y=function(){function Row(){this.chars=[];for(var t=0;t<a;t++)this.chars.push(new m);this.pos=0,this.currPenState=new h}return Row.prototype.equals=function(t){for(var e=!0,r=0;r<a;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},Row.prototype.copy=function(t){for(var e=0;e<a;e++)this.chars[e].copy(t.chars[e])},Row.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},Row.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=a)},Row.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},Row.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},Row.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=o(t);this.pos>=a?f.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},Row.prototype.clearFromPos=function(t){var e;for(e=t;e<a;e++)this.chars[e].reset()},Row.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},Row.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},Row.prototype.getTextString=function(){for(var t=[],e=!0,r=0;r<a;r++){var n=this.chars[r].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},Row.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},Row}(),g=function(){function CaptionScreen(){this.rows=[];for(var t=0;t<i;t++)this.rows.push(new y);this.currRow=i-1,this.nrRollUpRows=null,this.reset()}return CaptionScreen.prototype.reset=function(){for(var t=0;t<i;t++)this.rows[t].clear();this.currRow=i-1},CaptionScreen.prototype.equals=function(t){for(var e=!0,r=0;r<i;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},CaptionScreen.prototype.copy=function(t){for(var e=0;e<i;e++)this.rows[e].copy(t.rows[e])},CaptionScreen.prototype.isEmpty=function(){for(var t=!0,e=0;e<i;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},CaptionScreen.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},CaptionScreen.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},CaptionScreen.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},CaptionScreen.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},CaptionScreen.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},CaptionScreen.prototype.setCursor=function(t){f.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},CaptionScreen.prototype.setPAC=function(t){f.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<i;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var a=o.rows[n].cueStartTime;if(a&&a<f.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[e-this.nrRollUpRows+r+1].copy(o.rows[n+r])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,l=Math.max(u-1,0);s.setCursor(t.indent),t.color=s.chars[l].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},CaptionScreen.prototype.setBkgData=function(t){f.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},CaptionScreen.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},CaptionScreen.prototype.rollUp=function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},CaptionScreen.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],r="",n=-1,o=0;o<i;o++){var a=this.rows[o].getTextString();a&&(n=o+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},CaptionScreen.prototype.getTextAndFormat=function(){return this.rows},CaptionScreen}(),v=function(){function Cea608Channel(t,e){this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return Cea608Channel.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},Cea608Channel.prototype.getHandler=function(){return this.outputFilter},Cea608Channel.prototype.setHandler=function(t){this.outputFilter=t},Cea608Channel.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},Cea608Channel.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},Cea608Channel.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,f.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},Cea608Channel.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},Cea608Channel.prototype.ccRCL=function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},Cea608Channel.prototype.ccBS=function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},Cea608Channel.prototype.ccAOF=function(){},Cea608Channel.prototype.ccAON=function(){},Cea608Channel.prototype.ccDER=function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},Cea608Channel.prototype.ccRU=function(t){f.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},Cea608Channel.prototype.ccFON=function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},Cea608Channel.prototype.ccRDC=function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},Cea608Channel.prototype.ccTR=function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccRTD=function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccEDM=function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccCR=function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccENM=function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},Cea608Channel.prototype.ccEOC=function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},Cea608Channel.prototype.ccTO=function(t){f.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},Cea608Channel.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}f.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},Cea608Channel.prototype.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=f.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},Cea608Channel.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},Cea608Channel}(),_=function(){function Cea608Parser(t,e,r){this.field=t||1,this.outputs=[e,r],this.channels=[new v(1,e),new v(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return Cea608Parser.prototype.getHandler=function(t){return this.channels[t].getHandler()},Cea608Parser.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},Cea608Parser.prototype.addData=function(t,e){var r,n,o,i=!1;this.lastTime=t,f.setTime(t);for(var a=0;a<e.length;a+=2)if(n=127&e[a],o=127&e[a+1],0!==n||0!==o){if(f.log("DATA","["+d([e[a],e[a+1]])+"] -> ("+d([n,o])+")"),(r=this.parseCmd(n,o))||(r=this.parseMidrow(n,o)),r||(r=this.parsePAC(n,o)),r||(r=this.parseBackgroundAttributes(n,o)),!r)if(i=this.parseChars(n,o))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(i);else f.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+d([n,o])+" orig: "+d([e[a],e[a+1]])))}else this.dataCounters.padding+=2},Cea608Parser.prototype.parseCmd=function(t,e){var r=null;if(!((20===t||28===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+d([t,e])+") is dropped"),!0;r=20===t||23===t?1:2;var n=this.channels[r-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},Cea608Parser.prototype.parseMidrow=function(t,e){var r=null;return(17===t||25===t)&&e>=32&&e<=47&&((r=17===t?1:2)!==this.currChNr?(f.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(e),f.log("DEBUG","MIDROW ("+d([t,e])+")"),!0))},Cea608Parser.prototype.parsePAC=function(t,e){var r,n=null;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,n=e>=64&&e<=95?1===r?s[t]:l[t]:1===r?u[t]:c[t];var o=this.interpretPAC(n,e);return this.channels[r-1].setPAC(o),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},Cea608Parser.prototype.interpretPAC=function(t,e){var r=e,n={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},Cea608Parser.prototype.parseChars=function(t,e){var r=null,n=null,i=null;if(t>=25?(r=2,i=t-8):(r=1,i=t),i>=17&&i<=19){var a=e;a=17===i?e+80:18===i?e+112:e+144,f.log("INFO","Special char '"+o(a)+"' in channel "+r),n=[a]}else t>=32&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var s=d(n);f.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},Cea608Parser.prototype.parseBackgroundAttributes=function(t,e){var r,n,o;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(r={},16===t||24===t?(n=Math.floor((e-32)/2),r.background=p[n],e%2===1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0)),o=t<24?1:2,this.channels[o-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},Cea608Parser.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},Cea608Parser.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},Cea608Parser}();e.default=_},"./src/utils/codecs.js":function srcUtilsCodecsJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function isCodecType(t,e){var r=n[e];return!!r&&!0===r[t.slice(0,4)]},e.isCodecSupportedInMp4=function isCodecSupportedInMp4(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.js":function srcUtilsCuesJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/vttparser.js");e.newCue=function newCue(t,e,r,o){for(var i,a,s,u,l,c=window.VTTCue||window.TextTrackCue,p=0;p<o.rows.length;p++)if(s=!0,u=0,l="",!(i=o.rows[p]).isEmpty()){for(var f=0;f<i.chars.length;f++)i.chars[f].uchar.match(/\s/)&&s?u++:(l+=i.chars[f].uchar,s=!1);i.cueStartTime=e,e===r&&(r+=1e-4),a=new c(e,r,n.fixLineBreaks(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=p+1:a.line=p>7?p-2:p+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}},"./src/utils/discontinuities.js":function srcUtilsDiscontinuitiesJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/binary-search.js"),o=r("./src/utils/logger.js");function findFirstFragWithCC(t,e){for(var r=null,n=0;n<t.length;n+=1){var o=t[n];if(o&&o.cc===e){r=o;break}}return r}function shouldAlignOnDiscontinuities(t,e,r){var n=!1;return e&&e.details&&r&&(r.endCC>r.startCC||t&&t.cc<r.startCC)&&(n=!0),n}function findDiscontinuousReferenceFrag(t,e){var r=t.fragments,n=e.fragments;if(n.length&&r.length){var i=findFirstFragWithCC(r,n[0].cc);if(i&&(!i||i.startPTS))return i;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function adjustPts(t,e){e.fragments.forEach((function(e){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}})),e.PTSKnown=!0}function alignDiscontinuities(t,e,r){if(shouldAlignOnDiscontinuities(t,r,e)){var n=findDiscontinuousReferenceFrag(r.details,e);n&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level"),adjustPts(n.start,e))}}function alignPDT(e,r){if(r&&r.fragments.length){if(!e.hasProgramDateTime||!r.hasProgramDateTime)return;var n=r.fragments[0].programDateTime,i=(e.fragments[0].programDateTime-n)/1e3+r.fragments[0].start;t.isFinite(i)&&(o.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),adjustPts(i,e))}}e.findFirstFragWithCC=findFirstFragWithCC,e.findFragWithCC=function findFragWithCC(t,e){return n.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.shouldAlignOnDiscontinuities=shouldAlignOnDiscontinuities,e.findDiscontinuousReferenceFrag=findDiscontinuousReferenceFrag,e.adjustPts=adjustPts,e.alignStream=function alignStream(t,e,r){alignDiscontinuities(t,r,e),!r.PTSKnown&&e&&alignPDT(r,e.details)},e.alignDiscontinuities=alignDiscontinuities,e.alignPDT=alignPDT}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function srcUtilsEwmaBandwidthEstimatorJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/ewma.js"),o=function(){function EwmaBandWidthEstimator(t,e,r,o){this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(e),this.fast_=new n.default(r)}return EwmaBandWidthEstimator.prototype.sample=function(t,e){var r=8e3*e/(t=Math.max(t,this.minDelayMs_)),n=t/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)},EwmaBandWidthEstimator.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},EwmaBandWidthEstimator.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},EwmaBandWidthEstimator.prototype.destroy=function(){},EwmaBandWidthEstimator}();e.default=o},"./src/utils/ewma.js":function srcUtilsEwmaJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function EWMA(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return EWMA.prototype.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},EWMA.prototype.getTotalWeight=function(){return this.totalWeight_},EWMA.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},EWMA}();e.default=n},"./src/utils/get-self-scope.js":function srcUtilsGetSelfScopeJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function getSelfScope(){return"undefined"===typeof window?self:window}},"./src/utils/logger.js":function srcUtilsLoggerJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/get-self-scope.js");function noop(){}var o={trace:noop,debug:noop,log:noop,warn:noop,info:noop,error:noop},i=o;function formatMsg(t,e){return e="["+t+"] > "+e}var a=n.getSelfScope();function exportLoggerFunctions(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.forEach((function(e){i[e]=t[e]?t[e].bind(t):function consolePrintFn(t){var e=a.console[t];return e?function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r[0]&&(r[0]=formatMsg(t,r[0])),e.apply(a.console,r)}:noop}(e)}))}e.enableLogs=function(t){if(!0===t||"object"===typeof t){exportLoggerFunctions(t,"debug","log","info","warn","error");try{i.log()}catch(e){i=o}}else i=o},e.logger=i},"./src/utils/mediakeys-helper.js":function srcUtilsMediakeysHelperJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=n},"./src/utils/mediasource-helper.js":function srcUtilsMediasourceHelperJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function getMediaSource(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":function srcUtilsOutputFilterJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function OutputFilter(t,e){this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}return OutputFilter.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},OutputFilter.prototype.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},OutputFilter}();e.default=n},"./src/utils/texttrack-utils.js":function srcUtilsTexttrackUtilsJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function sendAddTrackEvent(t,e){var r=null;try{r=new window.Event("addtrack")}catch(n){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)},e.clearCurrentCues=function clearCurrentCues(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},"./src/utils/time-ranges.js":function srcUtilsTimeRangesJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={toString:function toString(t){for(var e="",r=t.length,n=0;n<r;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}}},"./src/utils/vttcue.js":function srcUtilsVttcueJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function findAlignSetting(t){return"string"===typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function extend(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function VTTCue(r,n,o){var i=this,a=function(){if("undefined"!==typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),s={};a?i=document.createElement("custom"):s.enumerable=!0,i.hasBeenReset=!1;var u="",l=!1,c=r,p=n,f=o,d=null,h="",m=!0,y="auto",g="start",v=50,_="middle",b=50,S="middle";if(Object.defineProperty(i,"id",extend({},s,{get:function get(){return u},set:function set(t){u=""+t}})),Object.defineProperty(i,"pauseOnExit",extend({},s,{get:function get(){return l},set:function set(t){l=!!t}})),Object.defineProperty(i,"startTime",extend({},s,{get:function get(){return c},set:function set(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",extend({},s,{get:function get(){return p},set:function set(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",extend({},s,{get:function get(){return f},set:function set(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",extend({},s,{get:function get(){return d},set:function set(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",extend({},s,{get:function get(){return h},set:function set(t){var r=function findDirectionSetting(t){return"string"===typeof t&&(!!e[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");h=r,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",extend({},s,{get:function get(){return m},set:function set(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",extend({},s,{get:function get(){return y},set:function set(e){if("number"!==typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",extend({},s,{get:function get(){return g},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",extend({},s,{get:function get(){return v},set:function set(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",extend({},s,{get:function get(){return _},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",extend({},s,{get:function get(){return b},set:function set(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",extend({},s,{get:function get(){return S},set:function set(t){var e=findAlignSetting(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),i.displayState=void 0,a)return i}return VTTCue.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},VTTCue}()},"./src/utils/vttparser.js":function srcUtilsVttparserJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/vttcue.js"),o=function StringDecoder(){return{decode:function decode(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function VTTParser(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new o,this.regionList=[]}function Settings(){this.values=Object.create(null)}function parseOptions(t,e,r,n){var o=n?t.split(n):[t];for(var i in o)if("string"===typeof o[i]){var a=o[i].split(r);if(2===a.length)e(a[0],a[1])}}Settings.prototype={set:function set(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function get(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function has(t){return t in this.values},alt:function alt(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function percent(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var i=new n.default(0,0,0),a="middle"===i.align?"middle":"center";function parseCue(t,e,r){var n=t;function consumeTimeStamp(){var e=function parseTimeStamp(t){function computeSeconds(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+(0|n)/1e3}var e=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?computeSeconds(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?computeSeconds(e[1],e[2],0,e[4]):computeSeconds(0,e[1],e[2],e[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function skipWhitespace(){t=t.replace(/^\s+/,"")}if(skipWhitespace(),e.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),skipWhitespace(),e.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(t,e){var n=new Settings;parseOptions(t,(function(t,e){switch(t){case"region":for(var o=r.length-1;o>=0;o--)if(r[o].id===e){n.set(t,r[o].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),s=i[0];n.integer(t,s),n.percent(t,s)&&n.set("snapToLines",!1),n.alt(t,s,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",a,"end"]);break;case"position":i=e.split(","),n.percent(t,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",a,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",a,"end","left","right"])}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var o=n.get("line","auto");"auto"===o&&-1===i.line&&(o=-1),e.line=o,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",a);var s=n.get("position","auto");"auto"===s&&50===i.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function fixLineBreaks(t){return t.replace(/<br(?: \/)?>/gi,"\n")}e.fixLineBreaks=fixLineBreaks,VTTParser.prototype={parse:function parse(t){var e=this;function collectNextLine(){var t=e.buffer,r=0;for(t=fixLineBreaks(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var n=t.substr(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.substr(r),n}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=collectNextLine()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var i=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:r=collectNextLine(),e.state){case"HEADER":/:/.test(r)?parseOptions(r,(function(t,e){}),/:/):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;if(e.cue=new n.default(0,0,""),e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{parseCue(r,e.cue,e.regionList)}catch(s){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("--\x3e");if(!r||a&&(i=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r;continue;case"BADCUE":r||(e.state="ID");continue}}}catch(s){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function flush(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},e.default=VTTParser},"./src/utils/webvtt-parser.js":function srcUtilsWebvttParserJs(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/vttparser.js"),o=r("./src/demux/id3.js"),i=function startsWith(t,e,r){return t.substr(r||0,e.length)===e},a=function hash(t){for(var hash=5381,e=t.length;e;)hash=33*hash^t.charCodeAt(--e);return(hash>>>0).toString()},s={parse:function parse(e,r,s,u,l,c){var p,f=o.utf8ArrayToStr(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",h=0,m=0,y=0,g=[],v=!0,_=new n.default;_.oncue=function(t){var e=s[u],r=s.ccOffset;e&&e.new&&(void 0!==m?r=s.ccOffset=e.start:function calculateOffset(t,e,r){var n=t[e],o=t[n.prevCC];if(!o||!o.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;o&&o.new;)t.ccOffset+=n.start-o.start,n.new=!1,o=t[(n=o).prevCC];t.presentationOffset=r}(s,u,y)),y&&(r=y-s.presentationOffset),t.startTime+=r-m,t.endTime+=r-m,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&g.push(t)},_.onparsingerror=function(t){p=t},_.onflush=function(){p&&c?c(p):l(g)},f.forEach((function(e){if(v){if(i(e,"X-TIMESTAMP-MAP=")){v=!1,e.substr(16).split(",").forEach((function(t){i(t,"LOCAL:")?d=t.substr(6):i(t,"MPEGTS:")&&(h=parseInt(t.substr(7)))}));try{r+(9e4*s[u].start||0)<0&&(r+=8589934592),h-=r,m=function cueString2millis(e){var r=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),o=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return t.isFinite(r)&&t.isFinite(n)&&t.isFinite(o)&&t.isFinite(i)?(r+=1e3*n,r+=6e4*o,r+=36e5*i):-1}(d)/1e3,y=h/9e4,-1===m&&(p=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(n){p=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(v=!1)}_.parse(e+"\n")})),_.flush()}};e.default=s}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":function srcUtilsXhrLoaderJs(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./src/utils/logger.js"),o=window.performance,i=window.XMLHttpRequest,a=function(){function XhrLoader(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return XhrLoader.prototype.destroy=function(){this.abort(),this.loader=null},XhrLoader.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},XhrLoader.prototype.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:o.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},XhrLoader.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new i;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(o){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(o){return void this.callbacks.onError({code:t.status,text:o.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},XhrLoader.prototype.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(o.now(),i.trequest)),4===r){var u=e.status;if(u>=200&&u<300){i.tload=Math.max(i.tfirst,o.now());var l=void 0,c=void 0;c="arraybuffer"===a.responseType?(l=e.response).byteLength:(l=e.responseText).length,i.loaded=i.total=c;var p={url:e.responseURL,data:l};this.callbacks.onSuccess(p,i,a,e)}else i.retry>=s.maxRetry||u>=400&&u<499?(n.logger.error(u+" while loading "+a.url),this.callbacks.onError({code:u,text:e.statusText},a,e)):(n.logger.warn(u+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},XhrLoader.prototype.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},XhrLoader.prototype.loadprogress=function(t){var e=t.currentTarget,r=this.stats;r.loaded=t.loaded,t.lengthComputable&&(r.total=t.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,e)},XhrLoader}();e.default=a}}).default}))},function(t,e,r){var n;!function(r){"use strict";var o=2e3,i={s:1,n:0,d:1};function createError(t){function errorConstructor(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function IntermediateInheritor(){}return IntermediateInheritor.prototype=Error.prototype,errorConstructor.prototype=new IntermediateInheritor,errorConstructor}var a=Fraction.DivisionByZero=createError("DivisionByZero"),s=Fraction.InvalidParameter=createError("InvalidParameter");function assign(t,e){return isNaN(t=parseInt(t,10))&&throwInvalidParam(),t*e}function throwInvalidParam(){throw new s}var u=function parse(t,e){var r,n=0,o=1,s=1,u=0,l=0,c=0,p=1,f=1,d=0,h=1,m=1,y=1,g=1e7;if(void 0===t||null===t);else if(void 0!==e)s=(n=t)*(o=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(n=t.n,o=t.d,"s"in t&&(n*=t.s)):0 in t?(n=t[0],1 in t&&(o=t[1])):throwInvalidParam(),s=n*o;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(t/=f=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));h<=g&&y<=g;){if(t===(r=(d+m)/(h+y))){h+y<=g?(n=d+m,o=h+y):y>h?(n=m,o=y):(n=d,o=h);break}t>r?(d+=m,h+=y):(m+=d,y+=h),h>g?(n=m,o=y):(n=d,o=h)}n*=f}else(isNaN(t)||isNaN(e))&&(o=n=NaN);break;case"string":if(null===(h=t.match(/\d+|./g))&&throwInvalidParam(),"-"===h[d]?(s=-1,d++):"+"===h[d]&&d++,h.length===d+1?l=assign(h[d++],s):"."===h[d+1]||"."===h[d]?("."!==h[d]&&(u=assign(h[d++],s)),(++d+1===h.length||"("===h[d+1]&&")"===h[d+3]||"'"===h[d+1]&&"'"===h[d+3])&&(l=assign(h[d],s),p=Math.pow(10,h[d].length),d++),("("===h[d]&&")"===h[d+2]||"'"===h[d]&&"'"===h[d+2])&&(c=assign(h[d+1],s),f=Math.pow(10,h[d+1].length)-1,d+=3)):"/"===h[d+1]||":"===h[d+1]?(l=assign(h[d],s),p=assign(h[d+2],1),d+=3):"/"===h[d+3]&&" "===h[d+1]&&(u=assign(h[d],s),l=assign(h[d+2],s),p=assign(h[d+4],1),d+=5),h.length<=d){s=n=c+(o=p*f)*u+f*l;break}default:throwInvalidParam()}if(0===o)throw new a;i.s=s<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(o)};function _gcd(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function Fraction(t,e){if(!(this instanceof Fraction))return new Fraction(t,e);u(t,e),t=Fraction.REDUCE?_gcd(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}Fraction.REDUCE=1,Fraction.prototype={s:1,n:0,d:1,abs:function abs(){return new Fraction(this.n,this.d)},neg:function neg(){return new Fraction(-this.s*this.n,this.d)},add:function add(t,e){return u(t,e),new Fraction(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function sub(t,e){return u(t,e),new Fraction(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function mul(t,e){return u(t,e),new Fraction(this.s*i.s*this.n*i.n,this.d*i.d)},div:function div(t,e){return u(t,e),new Fraction(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function clone(){return new Fraction(this)},mod:function mod(t,e){return isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):void 0===t?new Fraction(this.s*this.n%this.d,1):(u(t,e),0===i.n&&0===this.d&&Fraction(0,0),new Fraction(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function gcd(t,e){return u(t,e),new Fraction(_gcd(i.n,this.n)*_gcd(i.d,this.d),i.d*this.d)},lcm:function lcm(t,e){return u(t,e),0===i.n&&0===this.n?new Fraction:new Fraction(i.n*this.n,_gcd(i.n,this.n)*_gcd(i.d,this.d))},ceil:function ceil(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.ceil(t*this.s*this.n/this.d),t)},floor:function floor(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.floor(t*this.s*this.n/this.d),t)},round:function round(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.round(t*this.s*this.n/this.d),t)},inverse:function inverse(){return new Fraction(this.s*this.d,this.n)},pow:function pow(t){return t<0?new Fraction(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new Fraction(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function equals(t,e){return u(t,e),this.s*this.n*i.d===i.s*i.n*this.d},compare:function compare(t,e){u(t,e);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0)},simplify:function simplify(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function rec(t){return 1===t.length?new Fraction(t[0]):rec(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var n=rec(e.slice(0,r+1));if(n.sub(this.abs()).abs().valueOf()<t)return n.mul(this.s)}return this},divisible:function divisible(t,e){return u(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function valueOf(){return this.s*this.n/this.d},toFraction:function toFraction(t){var e,r="",n=this.n,o=this.d;return this.s<0&&(r+="-"),1===o?r+=n:(t&&(e=Math.floor(n/o))>0&&(r+=e,r+=" ",n%=o),r+=n,r+="/",r+=o),r},toLatex:function toLatex(t){var e,r="",n=this.n,o=this.d;return this.s<0&&(r+="-"),1===o?r+=n:(t&&(e=Math.floor(n/o))>0&&(r+=e,n%=o),r+="\\frac{",r+=n,r+="}{",r+=o,r+="}"),r},toContinued:function toContinued(){var t,e=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t}while(1!==e);return n},toString:function toString(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";Fraction.REDUCE||(r/=e=_gcd(r,n),n/=e),t=t||15;var i=function cycleLen(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>o)return 0;return n}(0,n),a=function cycleStart(t,e,r){for(var n=1,o=function modpow(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),i=0;i<300;i++){if(n===o)return i;n=10*n%e,o=10*o%e}return 0}(0,n,i),s=-1===this.s?"-":"";if(s+=r/n|0,r%=n,(r*=10)&&(s+="."),i){for(var u=a;u--;)s+=r/n|0,r%=n,r*=10;s+="(";for(u=i;u--;)s+=r/n|0,r%=n,r*=10;s+=")"}else for(u=t;r&&u--;)s+=r/n|0,r%=n,r*=10;return s}},void 0===(n=function(){return Fraction}.apply(e,[]))||(t.exports=n)}()},function(t,e){t.exports=function naturalSort(t,e){"use strict";var r,n,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function i(t){return naturalSort.insensitive&&(""+t).toLowerCase()||""+t},p=c(t).replace(a,"")||"",f=c(e).replace(a,"")||"",d=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(p.match(u),16)||1!==d.length&&p.match(s)&&Date.parse(p),y=parseInt(f.match(u),16)||m&&f.match(s)&&Date.parse(f)||null;if(y){if(m<y)return-1;if(m>y)return 1}for(var g=0,v=Math.max(d.length,h.length);g<v;g++){if(r=!(d[g]||"").match(l)&&parseFloat(d[g])||d[g]||0,n=!(h[g]||"").match(l)&&parseFloat(h[g])||h[g]||0,isNaN(r)!==isNaN(n))return isNaN(r)?1:-1;if(typeof r!==typeof n&&(r+="",n+=""),r<n)return-1;if(r>n)return 1}return 0}},function(t,e,r){var n=r(178);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports={}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),a=_interopRequireDefault(r(25)),s=_interopRequireDefault(r(247)),u=_interopRequireDefault(r(186));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function(){function StyleRule(t,e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StyleRule),this.type="style",this.isProcessed=!1;var n=r.sheet,o=r.Renderer,i=r.selector;this.key=t,this.options=r,this.style=e,i&&(this.selectorText=i),this.renderer=n?n.renderer:new o}return i(StyleRule,[{key:"prop",value:function prop(t,e){if(void 0===e)return this.style[t];if(this.style[t]===e)return this;var r=null==(e=this.options.jss.plugins.onChangeValue(e,t,this))||!1===e,n=t in this.style;if(r&&!n)return this;var o=r&&n;if(o?delete this.style[t]:this.style[t]=e,this.renderable)return o?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,e),this;var i=this.options.sheet;return i&&i.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function applyTo(t){var e=this.toJSON();for(var r in e)this.renderer.setProperty(t,r,e[r]);return this}},{key:"toJSON",value:function toJSON(){var t={};for(var e in this.style){var r=this.style[e];"object"!==("undefined"===typeof r?"undefined":o(r))?t[e]=r:Array.isArray(r)&&(t[e]=(0,u.default)(r))}return t}},{key:"toString",value:function toString(t){var e=this.options.sheet,r=!!e&&e.options.link?n({},t,{allowEmpty:!0}):t;return(0,s.default)(this.selector,this.style,r)}},{key:"selector",set:function set(t){if(t!==this.selectorText&&(this.selectorText=t,this.renderable&&!this.renderer.setSelector(this.renderable,t)&&this.renderable)){var e=this.renderer.replaceRule(this.renderable,this);e&&(this.renderable=e)}},get:function get(){return this.selectorText}}]),StyleRule}();e.default=l},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.convertHexToRGB=convertHexToRGB,e.decomposeColor=decomposeColor,e.recomposeColor=recomposeColor,e.getContrastRatio=function getContrastRatio(t,e){var r=getLuminance(t),n=getLuminance(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},e.getLuminance=getLuminance,e.emphasize=function emphasize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return getLuminance(t)>.5?darken(t,e):lighten(t,e)},e.fade=function fade(t,e){if(!t)return t;t=decomposeColor(t),e=clamp(e),("rgb"===t.type||"hsl"===t.type)&&(t.type+="a");return t.values[3]=e,recomposeColor(t)},e.darken=darken,e.lighten=lighten;n(r(64));function clamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>r?r:t}function convertHexToRGB(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length/3,"}"),"g"),r=t.match(e);return r&&1===r[0].length&&(r=r.map((function(t){return t+t}))),r?"rgb(".concat(r.map((function(t){return parseInt(t,16)})).join(", "),")"):""}function decomposeColor(t){if("#"===t.charAt(0))return decomposeColor(convertHexToRGB(t));var e=t.indexOf("("),r=t.substring(0,e),n=t.substring(e+1,t.length-1).split(",");return{type:r,values:n=n.map((function(t){return parseFloat(t)}))}}function recomposeColor(t){var e=t.type,r=t.values;return-1!==e.indexOf("rgb")&&(r=r.map((function(t,e){return e<3?parseInt(t,10):t}))),-1!==e.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(t.type,"(").concat(r.join(", "),")")}function getLuminance(t){var e=decomposeColor(t);if(-1!==e.type.indexOf("rgb")){var r=e.values.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}return e.values[2]/100}function darken(t,e){if(!t)return t;if(t=decomposeColor(t),e=clamp(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var r=0;r<3;r+=1)t.values[r]*=1-e;return recomposeColor(t)}function lighten(t,e){if(!t)return t;if(t=decomposeColor(t),e=clamp(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;return recomposeColor(t)}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isNumber=e.isString=e.formatMs=e.duration=e.easing=void 0;var o=n(r(11)),i=(n(r(64)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});e.easing=i;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};e.duration=a;var s=function formatMs(t){return"".concat(Math.round(t),"ms")};e.formatMs=s;e.isString=function isString(t){return"string"===typeof t};e.isNumber=function isNumber(t){return!isNaN(parseFloat(t))};var u={easing:i,duration:a,create:function create(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=e.duration,n=void 0===r?a.standard:r,u=e.easing,l=void 0===u?i.easeInOut:u,c=e.delay,p=void 0===c?0:c;(0,o.default)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof n?n:s(n)," ").concat(l," ").concat("string"===typeof p?p:s(p))})).join(",")}()},getAutoHeightDuration:function getAutoHeightDuration(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}};e.default=u},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(253))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(79);n.default("capnp:object-size")("load");var i=function(){function ObjectSize(t,e){this.dataByteLength=t,this.pointerLength=e}return ObjectSize.prototype.toString=function(){return o.format("ObjectSize_dw:%d,pc:%d",getDataWordLength(this),this.pointerLength)},ObjectSize}();function getDataWordLength(t){return t.dataByteLength/8}e.ObjectSize=i,e.getByteLength=function getByteLength(t){return t.dataByteLength+8*t.pointerLength},e.getDataWordLength=getDataWordLength,e.getWordLength=function getWordLength(t){return t.dataByteLength/8+t.pointerLength},e.padToWord=function padToWord(t){return new i(o.padToWord(t.dataByteLength),t.pointerLength)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.STRUCT=0]="STRUCT",t[t.LIST=1]="LIST",t[t.FAR=2]="FAR",t[t.OTHER=3]="OTHER"}(e.PointerType||(e.PointerType={}))},function(t,e,r){t.exports={default:r(599),__esModule:!0}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(779))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(781))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i=n(r(13)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(0)),p=n(r(203)),f=(n(r(185)),n(r(250))),d=n(r(251));var h=function withTheme(){return function(t){var e=function(e){function WithTheme(t,e){var r;return(0,a.default)(this,WithTheme),(r=(0,u.default)(this,(WithTheme.__proto__||Object.getPrototypeOf(WithTheme)).call(this,t,e))).unsubscribeId=null,r.state={},r.state={theme:d.default.initial(e)||o||(o=(0,f.default)())},r}return(0,l.default)(WithTheme,e),(0,s.default)(WithTheme,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.unsubscribeId=d.default.subscribe(this.context,(function(e){t.setState({theme:e})}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.unsubscribeId&&d.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function render(){return c.default.createElement(t,(0,i.default)({theme:this.state.theme},this.props))}}]),WithTheme}(c.default.Component);return e.contextTypes=d.default.contextTypes,(0,p.default)(e,t),e}};e.default=h},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(842))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(895))},function(t,e,r){var n=r(595);function wrap(t,e){return function(r,o){return n(r),function handler(t,e){return function(){return t(e)}}(e,t(r,o))}}t.exports={timeout:wrap(setTimeout,clearTimeout),interval:wrap(setInterval,clearInterval)}},function(t,e,r){(function(r){var n;t.exports=function e(t,r,o){function s(a,u){if(!r[a]){if(!t[a]){if(!u&&"function"==typeof n&&n)return n(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){var r=t[a][1][e];return s(r||e)}),c,c.exports,e,t,r,o)}return r[a].exports}for(var i="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e,n){(function(t){"use strict";var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(nextTick),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function scheduleDrain(){s.data=i=++i%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function scheduleDrain(){var e=t.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function scheduleDrain(){setTimeout(nextTick,0)};else{var u=new t.MessageChannel;u.port1.onmessage=nextTick,r=function scheduleDrain(){u.port2.postMessage(0)}}var l=[];function nextTick(){var t,e;n=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}n=!1}e.exports=function immediate(t){1!==l.push(t)||n||r()}}).call(this,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function INTERNAL(){}var o={},i=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function Promise(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==INTERNAL&&safelyResolveThenable(this,t)}function QueueItem(t,e,r){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function unwrap(t,e,r){n((function(){var n;try{n=e(r)}catch(i){return o.reject(t,i)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)}))}function getThen(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function appyThen(){e.apply(t,arguments)}}function safelyResolveThenable(t,e){var r=!1;function onError(e){r||(r=!0,o.reject(t,e))}function onSuccess(e){r||(r=!0,o.resolve(t,e))}var n=tryCatch((function tryToUnwrap(){e(onSuccess,onError)}));"error"===n.status&&onError(n.value)}function tryCatch(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}e.exports=Promise,Promise.prototype.catch=function(t){return this.then(null,t)},Promise.prototype.then=function(t,e){if("function"!==typeof t&&this.state===a||"function"!==typeof e&&this.state===i)return this;var r=new this.constructor(INTERNAL);return this.state!==s?unwrap(r,this.state===a?t:e,this.outcome):this.queue.push(new QueueItem(r,t,e)),r},QueueItem.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},QueueItem.prototype.otherCallFulfilled=function(t){unwrap(this.promise,this.onFulfilled,t)},QueueItem.prototype.callRejected=function(t){o.reject(this.promise,t)},QueueItem.prototype.otherCallRejected=function(t){unwrap(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=tryCatch(getThen,e);if("error"===r.status)return o.reject(t,r.value);var n=r.value;if(n)safelyResolveThenable(t,n);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=i,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},Promise.resolve=function resolve(t){return t instanceof this?t:o.resolve(new this(INTERNAL),t)},Promise.reject=function reject(t){var e=new this(INTERNAL);return o.reject(e,t)},Promise.all=function all(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,s=-1,u=new this(INTERNAL);++s<r;)allResolver(t[s],s);return u;function allResolver(t,s){e.resolve(t).then((function resolveFromAll(t){i[s]=t,++a!==r||n||(n=!0,o.resolve(u,i))}),(function(t){n||(n=!0,o.reject(u,t))}))}},Promise.race=function race(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i,a=-1,s=new this(INTERNAL);++a<r;)i=t[a],e.resolve(i).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function createBlob(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var i=Promise;function executeCallback(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function executeTwoCallbacks(t,e,r){"function"===typeof e&&t.then(e),"function"===typeof r&&t.catch(r)}function normalizeKey(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",s=void 0,u={},l=Object.prototype.toString,c="readonly",p="readwrite";function _checkBlobSupport(t){return"boolean"===typeof s?i.resolve(s):function _checkBlobSupportWithoutCaching(t){return new i((function(e){var r=t.transaction(a,p),n=createBlob([""]);r.objectStore(a).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return s=t}))}function _deferReadiness(t){var e=u[t.name],r={};r.promise=new i((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function _advanceReadiness(t){var e=u[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _rejectReadiness(t,e){var r=u[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function _getConnection(t,e){return new i((function(r,n){if(u[t.name]=u[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);_deferReadiness(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var s=o.open.apply(o,i);e&&(s.onupgradeneeded=function(e){var r=s.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(a)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),n(s.error)},s.onsuccess=function(){r(s.result),_advanceReadiness(t)}}))}function _getOriginalConnection(t){return _getConnection(t,!1)}function _getUpgradedConnection(t){return _getConnection(t,!0)}function _isUpgradeNeeded(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function _decodeBlob(t){return createBlob([function _binStringToArrayBuffer(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}(atob(t.data))],{type:t.type})}function _isEncodedBlob(t){return t&&t.__local_forage_encoded_blob}function _fullyReady(t){var e=this,r=e._initReady().then((function(){var t=u[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return executeTwoCallbacks(r,t,t),r}function createTransaction(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(a){if(n>0&&(!t.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return i.resolve().then((function(){if(!t.db||"NotFoundError"===a.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),_getUpgradedConnection(t)})).then((function(){return function _tryReconnect(t){_deferReadiness(t);for(var e=u[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,_getOriginalConnection(t).then((function(e){return t.db=e,_isUpgradeNeeded(t)?_getUpgradedConnection(t):e})).then((function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(e){throw _rejectReadiness(t,e),e}))}(t).then((function(){createTransaction(t,e,r,n-1)}))})).catch(r);r(a)}}var f={_driver:"asyncStorage",_initStorage:function _initStorage(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=u[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},u[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=_fullyReady);var a=[];function ignoreErrors(){return i.resolve()}for(var s=0;s<o.forages.length;s++){var l=o.forages[s];l!==e&&a.push(l._initReady().catch(ignoreErrors))}var c=o.forages.slice(0);return i.all(a).then((function(){return r.db=o.db,_getOriginalConnection(r)})).then((function(t){return r.db=t,_isUpgradeNeeded(r,e._defaultConfig.version)?_getUpgradedConnection(r):t})).then((function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<c.length;n++){var i=c[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function isIndexedDBValid(){try{if(!o)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(r){return!1}}(),iterate:function iterate(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;_isEncodedBlob(n)&&(n=_decodeBlob(n));var o=t(n,r.key,s++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(u){n(u)}}))})).catch(n)}));return executeCallback(n,e),n},getItem:function getItem(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_isEncodedBlob(t)&&(t=_decodeBlob(t)),e(t)},a.onerror=function(){n(a.error)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,e),n},setItem:function setItem(t,e,r){var n=this;t=normalizeKey(t);var o=new i((function(r,o){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===l.call(e)?_checkBlobSupport(a.db).then((function(t){return t?e:function _encodeBlob(t){return new i((function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)}))}(e)})):e})).then((function(e){createTransaction(n._dbInfo,p,(function(i,a){if(i)return o(i);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(l){o(l)}}))})).catch(o)}));return executeCallback(o,r),o},removeItem:function removeItem(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,p,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,e),n},clear:function clear(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,p,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;r(t)}}catch(a){r(a)}}))})).catch(r)}));return executeCallback(r,t),r},length:function length(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}}))})).catch(r)}));return executeCallback(r,t),r},key:function key(t,e){var r=this,n=new i((function(e,n){t<0?e(null):r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var r=u.result;r?0===t?e(r.key):s?e(r.key):(s=!0,r.advance(t)):e(null)},u.onerror=function(){n(u.error)}}catch(l){n(l)}}))})).catch(n)}));return executeCallback(n,e),n},keys:function keys(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){r(i.error)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,t),r},dropInstance:function dropInstance(t,e){e=getCallback.apply(this,arguments);var r,n=this.config();if((t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName),t.name){var a=t.name===n.name&&this._dbInfo.db?i.resolve(this._dbInfo.db):_getOriginalConnection(t).then((function(e){var r=u[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e}));r=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;_deferReadiness(t);var n=u[t.name],a=n.forages;e.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=r}return new i((function(e,n){var i=o.open(t.name,r);i.onerror=function(t){i.result.close(),n(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<a.length;e++){var r=a[e];r._dbInfo.db=t,_advanceReadiness(r._dbInfo)}})).catch((function(e){throw(_rejectReadiness(t,e)||i.resolve()).catch((function(){})),e}))}})):a.then((function(e){_deferReadiness(t);var r=u[t.name],n=r.forages;e.close();for(var a=0;a<n.length;a++)n[a]._dbInfo.db=null;return new i((function(e,r){var n=o.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;e&&e.close(),r(t)},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<n.length;e++)_advanceReadiness(n[e]._dbInfo)})).catch((function(e){throw(_rejectReadiness(t,e)||i.resolve()).catch((function(){})),e}))}))}else r=i.reject("Invalid arguments");return executeCallback(r,e),r}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="~~local_forage_type~",m=/^~~local_forage_type~([^~]+)~/,y="__lfsc__:",g=y.length,v="arbf",_="blob",b="si08",S="ui08",x="uic8",w="si16",E="si32",P="ur16",C="ui32",T="fl32",D="fl64",M=g+v.length,A=Object.prototype.toString;function stringToBuffer(t){var e,r,n,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)r=d.indexOf(t[e]),n=d.indexOf(t[e+1]),o=d.indexOf(t[e+2]),i=d.indexOf(t[e+3]),c[u++]=r<<2|n>>4,c[u++]=(15&n)<<4|o>>2,c[u++]=(3&o)<<6|63&i;return l}function bufferToString(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=d[r[e]>>2],n+=d[(3&r[e])<<4|r[e+1]>>4],n+=d[(15&r[e+1])<<2|r[e+2]>>6],n+=d[63&r[e+2]];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}var R={serialize:function serialize(t,e){var r="";if(t&&(r=A.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===A.call(t.buffer))){var n,o=y;t instanceof ArrayBuffer?(n=t,o+=v):(n=t.buffer,"[object Int8Array]"===r?o+=b:"[object Uint8Array]"===r?o+=S:"[object Uint8ClampedArray]"===r?o+=x:"[object Int16Array]"===r?o+=w:"[object Uint16Array]"===r?o+=P:"[object Int32Array]"===r?o+=E:"[object Uint32Array]"===r?o+=C:"[object Float32Array]"===r?o+=T:"[object Float64Array]"===r?o+=D:e(new Error("Failed to get type for BinaryArray"))),e(o+bufferToString(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=h+t.type+"~"+bufferToString(this.result);e(y+_+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function deserialize(t){if(t.substring(0,g)!==y)return JSON.parse(t);var e,r=t.substring(M),n=t.substring(g,M);if(n===_&&m.test(r)){var o=r.match(m);e=o[1],r=r.substring(o[0].length)}var i=stringToBuffer(r);switch(n){case v:return i;case _:return createBlob([i],{type:e});case b:return new Int8Array(i);case S:return new Uint8Array(i);case x:return new Uint8ClampedArray(i);case w:return new Int16Array(i);case P:return new Uint16Array(i);case E:return new Int32Array(i);case C:return new Uint32Array(i);case T:return new Float32Array(i);case D:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function tryExecuteSql(t,e,r,n,o,i){t.executeSql(r,n,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],(function(t,s){s.rows.length?i(t,a):createDbTable(t,e,(function(){t.executeSql(r,n,o,i)}),i)}),i):i(t,a)}),i)}function _setItem(t,e,r,n){var o=this;t=normalizeKey(t);var a=new i((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,u=o._dbInfo;u.serializer.serialize(e,(function(e,l){l?a(l):u.db.transaction((function(r){tryExecuteSql(r,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i(_setItem.apply(o,[t,s,r,n-1]));a(e)}}))}))})).catch(a)}));return executeCallback(a,r),a}var L={_driver:"webSQLStorage",_initStorage:function _initStorage$1(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!==typeof t[n]?t[n].toString():t[n];var o=new i((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return n(o)}r.db.transaction((function(o){createDbTable(o,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=R,o},_support:function isWebSQLValid(){return"function"===typeof openDatabase}(),iterate:function iterate$1(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),l=u.value;if(l&&(l=o.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},getItem:function getItem$1(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},setItem:function setItem$1(t,e,r){return _setItem.apply(this,[t,e,r,1])},removeItem:function removeItem$1(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},clear:function clear$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},length:function length$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},key:function key$1(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},keys:function keys$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},dropInstance:function dropInstance$1(t,e){e=getCallback.apply(this,arguments);var r=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return executeCallback(n=t.name?new i((function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(function getAllStoreNames(t){return new i((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}(n))})).then((function(t){return new i((function(e,r){t.db.transaction((function(n){function dropTable(t){return new i((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var o=[],a=0,s=t.storeNames.length;a<s;a++)o.push(dropTable(t.storeNames[a]));i.all(o).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):i.reject("Invalid arguments"),e),n}};function _getKeyPrefix(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var I={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=_getKeyPrefix(t,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=e,e.serializer=R,i.resolve()):i.reject()},_support:function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function iterate$2(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(n)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(o),a++)))return l}}}));return executeCallback(n,e),n},getItem:function getItem$2(t,e){var r=this;t=normalizeKey(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return executeCallback(n,e),n},setItem:function setItem$2(t,e,r){var n=this;t=normalizeKey(t);var o=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new i((function(o,i){var a=n._dbInfo;a.serializer.serialize(e,(function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}}))}))}));return executeCallback(o,r),o},removeItem:function removeItem$2(t,e){var r=this;t=normalizeKey(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return executeCallback(n,e),n},clear:function clear$2(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return executeCallback(r,t),r},length:function length$2(t){var e=this.keys().then((function(t){return t.length}));return executeCallback(e,t),e},key:function key$2(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(o){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return executeCallback(n,e),n},keys:function keys$2(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n}));return executeCallback(r,t),r},dropInstance:function dropInstance$2(t,e){if(e=getCallback.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return executeCallback(n=t.name?new i((function(e){t.storeName?e(_getKeyPrefix(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):i.reject("Invalid arguments"),e),n}},O=function sameValue(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},k=function includes(t,e){for(var r=t.length,n=0;n<r;){if(O(t[n],e))return!0;n++}return!1},F=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},N={},B={},U={INDEXEDDB:f,WEBSQL:L,LOCALSTORAGE:I},z=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver],j=["dropInstance"],G=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(j),V={description:"",driver:z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function extend(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(F(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var W=new(function(){function LocalForage(t){for(var e in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),U)if(U.hasOwnProperty(e)){var r=U[e],n=r._driver;this[e]=n,N[n]||this.defineDriver(r)}this._defaultConfig=extend({},V),this._config=extend({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(t){if("object"===("undefined"===typeof t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},LocalForage.prototype.defineDriver=function defineDriver(t,e,r){var n=new i((function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var a=G.concat("_initStorage"),s=0,u=a.length;s<u;s++){var l=a[s];if((!k(j,l)||t[l])&&"function"!==typeof t[l])return void r(o)}!function configureMissingMethods(){for(var e=function methodNotImplementedFactory(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=i.reject(e);return executeCallback(r,arguments[arguments.length-1]),r}},r=0,n=j.length;r<n;r++){var o=j[r];t[o]||(t[o]=e(o))}}();var c=function setDriverSupport(r){N[n]&&console.info("Redefining LocalForage driver: "+n),N[n]=t,B[n]=r,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(c,r):c(!!t._support):c(!0)}catch(p){r(p)}}));return executeTwoCallbacks(n,e,r),n},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(t,e,r){var n=N[t]?i.resolve(N[t]):i.reject(new Error("Driver not found."));return executeTwoCallbacks(n,e,r),n},LocalForage.prototype.getSerializer=function getSerializer(t){var e=i.resolve(R);return executeTwoCallbacks(e,t),e},LocalForage.prototype.ready=function ready(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return executeTwoCallbacks(r,t,t),r},LocalForage.prototype.setDriver=function setDriver(t,e,r){var n=this;F(t)||(t=[t]);var o=this._getSupportedDrivers(t);function setDriverToConfig(){n._config.driver=n.driver()}function extendSelfWithDriver(t){return n._extend(t),setDriverToConfig(),n._ready=n._initStorage(n._config),n._ready}var a=null!==this._driverSet?this._driverSet.catch((function(){return i.resolve()})):i.resolve();return this._driverSet=a.then((function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,setDriverToConfig(),n._wrapLibraryMethodsWithReady(),n._initDriver=function initDriver(t){return function(){var e=0;return function driverPromiseLoop(){for(;e<t.length;){var r=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(r).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var o=new Error("No available storage method found.");return n._driverSet=i.reject(o),n._driverSet}()}}(o)}))})).catch((function(){setDriverToConfig();var t=new Error("No available storage method found.");return n._driverSet=i.reject(t),n._driverSet})),executeTwoCallbacks(this._driverSet,e,r),this._driverSet},LocalForage.prototype.supports=function supports(t){return!!B[t]},LocalForage.prototype._extend=function _extend(t){extend(this,t)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var t=0,e=G.length;t<e;t++)callWhenReady(this,G[t])},LocalForage.prototype.createInstance=function createInstance(t){return new LocalForage(t)},LocalForage}());e.exports=W},{3:3}]},{},[4])(4)}).call(this,r(32))},function(t,e,r){"use strict";r(25),r(49);var n=r(281),o=r(282),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=function createLocation(t,e,r,o){var a=void 0;"string"===typeof t?(a=function parsePath(t){var e=t||"/",r="",n="",o=e.indexOf("#");-1!==o&&(n=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(r=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===r?"":r,hash:"#"===n?"":n}}(t)).state=e:(void 0===(a=i({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return r&&(a.key=r),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(n.default)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a},s=function locationsAreEqual(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(o.default)(t.state,e.state)};"undefined"===typeof window||!window.document||window.document.createElement,"function"===typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"===typeof Symbol&&Symbol.iterator,Object.assign;r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isBefore(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=(0,n.default)(e,r);return o.getTime()<i.getTime()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";(function(t){var n=r(2),o=r.n(n),i=r(481),a=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var s=i.a?r(972):null;function noop(){}var u={container:o.a.object,mapboxApiAccessToken:o.a.string,attributionControl:o.a.bool,preserveDrawingBuffer:o.a.bool,onLoad:o.a.func,onError:o.a.func,reuseMaps:o.a.bool,reuseMap:o.a.bool,transformRequest:o.a.func,mapStyle:o.a.string,visible:o.a.bool,width:o.a.number.isRequired,height:o.a.number.isRequired,longitude:o.a.number.isRequired,latitude:o.a.number.isRequired,zoom:o.a.number.isRequired,bearing:o.a.number,pitch:o.a.number,altitude:o.a.number},l={mapboxApiAccessToken:function getAccessToken(){var e=null;if("undefined"!==typeof window&&window.location){var r=window.location.search.match(/access_token=([^&\/]*)/);e=r&&r[1]}e||"undefined"===typeof t||(e=e||Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).MapboxAccessToken);return e||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:noop,onError:noop,reuseMaps:!1,reuseMap:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5};function checkPropTypes(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&o.a.checkPropTypes(u,t,"prop",e)}var c=function(){function Mapbox(t){if(function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Mapbox),!s)throw new Error("Mapbox not supported");!Mapbox.initialized&&console.debug&&(Mapbox.initialized=!0,console.debug("react-map-gl: using mapbox-gl v"+s.version)),this.props={},this._initialize(t)}return a(Mapbox,null,[{key:"supported",value:function supported(){return s&&s.supported()}}]),a(Mapbox,[{key:"finalize",value:function finalize(){return s&&this._map?(this._destroy(),this):this}},{key:"setProps",value:function setProps(t){return s&&this._map?(this._update(this.props,t),this):this}},{key:"resize",value:function resize(){return s&&this._map?(this._map.resize(),this):this}},{key:"getMap",value:function getMap(){return this._map}},{key:"_create",value:function _create(t){if((t.reuseMaps||t.reuseMap)&&Mapbox.savedMap){this._map=this.map=Mapbox.savedMap;var e=this._map.getContainer(),r=t.container;for(r.classList.add("mapboxgl-map");e.childNodes.length>0;)r.appendChild(e.childNodes[0]);this._map._container=r,Mapbox.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle),t.onLoad()}else{var n={container:t.container||document.body,center:[t.longitude,t.latitude],zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,style:t.mapStyle,interactive:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(n.transformRequest=t.transformRequest),this._map=this.map=new s.Map(n),this.map.once("load",t.onLoad),this.map.on("error",t.onError)}return this}},{key:"_destroy",value:function _destroy(){Mapbox.savedMap?this._map.remove():Mapbox.savedMap=this._map}},{key:"_initialize",value:function _initialize(t){checkPropTypes(t=Object.assign({},l,t),"Mapbox"),this.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,s&&(this.accessToken?s.accessToken=this.accessToken:s.accessToken="no-token"),this._create(t);var e=this.map.getCanvas();e&&(e.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function _update(t,e){checkPropTypes(e=Object.assign({},this.props,e),"Mapbox"),this._updateMapViewport(t,e),this._updateMapSize(t,e),this.props=e}},{key:"_updateMapViewport",value:function _updateMapViewport(t,e){(e.latitude!==t.latitude||e.longitude!==t.longitude||e.zoom!==t.zoom||e.pitch!==t.pitch||e.bearing!==t.bearing||e.altitude!==t.altitude)&&(this._map.jumpTo({center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.altitude!==t.altitude&&(this._map.transform.altitude=e.altitude))}},{key:"_updateMapSize",value:function _updateMapSize(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}}]),Mapbox}();e.a=c,c.propTypes=u,c.defaultProps=l}).call(this,r(114))},function(t,e,r){"use strict";var n=r(600)(!0);r(319)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(322),o=r(237);t.exports=Object.keys||function keys(t){return n(t,o)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(230);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=_interopRequireDefault(r(187)),a=_interopRequireDefault(r(346)),s=_interopRequireDefault(r(138)),u=_interopRequireDefault(r(708));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function(){function RuleList(t){var e=this;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,RuleList),this.map={},this.raw={},this.index=[],this.update=function(t,r){var n=e.options,o=n.jss.plugins,i=n.sheet;if("string"===typeof t)o.onUpdate(r,e.get(t),i);else for(var a=0;a<e.index.length;a++)o.onUpdate(t,e.index[a],i)},this.options=t,this.classes=t.classes}return o(RuleList,[{key:"add",value:function add(t,e,r){var o=this.options,a=o.parent,l=o.sheet,c=o.jss,p=o.Renderer,f=o.generateClassName;!(r=n({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:p,generateClassName:f},r)).selector&&this.classes[t]&&(r.selector="."+(0,u.default)(this.classes[t])),this.raw[t]=e;var d=(0,i.default)(t,e,r),h=void 0;!r.selector&&d instanceof s.default&&(h=f(d,l),d.selector="."+(0,u.default)(h)),this.register(d,h);var m=void 0===r.index?this.index.length:r.index;return this.index.splice(m,0,d),d}},{key:"get",value:function get(t){return this.map[t]}},{key:"remove",value:function remove(t){this.unregister(t),this.index.splice(this.indexOf(t),1)}},{key:"indexOf",value:function indexOf(t){return this.index.indexOf(t)}},{key:"process",value:function process(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)}},{key:"register",value:function register(t,e){this.map[t.key]=t,t instanceof s.default&&(this.map[t.selector]=t,e&&(this.classes[t.key]=e))}},{key:"unregister",value:function unregister(t){delete this.map[t.key],t instanceof s.default&&(delete this.map[t.selector],delete this.classes[t.key])}},{key:"link",value:function link(t){for(var e=this.options.sheet.renderer.getUnescapedKeysMap(this.index),r=0;r<t.length;r++){var n=t[r],o=this.options.sheet.renderer.getKey(n);e[o]&&(o=e[o]);var i=this.map[o];i&&(0,a.default)(i,n)}}},{key:"toString",value:function toString(t){for(var e="",r=this.options.sheet,n=!!r&&r.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||n)&&(e&&(e+="\n"),e+=i)}return e}}]),RuleList}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0,e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(252)),o=_interopRequireDefault(r(0)),i=_interopRequireDefault(r(52));r(759);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=e.UNMOUNTED="unmounted",s=e.EXITED="exited",u=e.ENTERING="entering",l=e.ENTERED="entered",c=e.EXITING="exiting",p=function(t){function Transition(e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Transition);var n=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,e,r)),o=r.transitionGroup,i=o&&!o.isMounting?e.enter:e.appear,c=void 0;return n.nextStatus=null,e.in?i?(c=s,n.nextStatus=u):c=l:c=e.unmountOnExit||e.mountOnEnter?a:s,n.state={status:c},n.nextCallback=null,n}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Transition,t),Transition.prototype.getChildContext=function getChildContext(){return{transitionGroup:null}},Transition.prototype.componentDidMount=function componentDidMount(){this.updateStatus(!0)},Transition.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){var e=(this.pendingState||this.state).status;t.in?(e===a&&this.setState({status:s}),e!==u&&e!==l&&(this.nextStatus=u)):e!==u&&e!==l||(this.nextStatus=c)},Transition.prototype.componentDidUpdate=function componentDidUpdate(){this.updateStatus()},Transition.prototype.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},Transition.prototype.getTimeouts=function getTimeouts(){var t=this.props.timeout,e=void 0,r=void 0,n=void 0;return e=r=n=t,null!=t&&"number"!==typeof t&&(e=t.exit,r=t.enter,n=t.appear),{exit:e,enter:r,appear:n}},Transition.prototype.updateStatus=function updateStatus(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nextStatus;if(null!==e){this.nextStatus=null,this.cancelNextCallback();var r=i.default.findDOMNode(this);e===u?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:a})},Transition.prototype.performEnter=function performEnter(t,e){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts();e||n?(this.props.onEnter(t,o),this.safeSetState({status:u},(function(){r.props.onEntering(t,o),r.onTransitionEnd(t,i.enter,(function(){r.safeSetState({status:l},(function(){r.props.onEntered(t,o)}))}))}))):this.safeSetState({status:l},(function(){r.props.onEntered(t)}))},Transition.prototype.performExit=function performExit(t){var e=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:c},(function(){e.props.onExiting(t),e.onTransitionEnd(t,n.exit,(function(){e.safeSetState({status:s},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:s},(function(){e.props.onExited(t)}))},Transition.prototype.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},Transition.prototype.safeSetState=function safeSetState(t,e){var r=this;this.pendingState=t,e=this.setNextCallback(e),this.setState(t,(function(){r.pendingState=null,e()}))},Transition.prototype.setNextCallback=function setNextCallback(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},Transition.prototype.onTransitionEnd=function onTransitionEnd(t,e,r){this.setNextCallback(r),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},Transition.prototype.render=function render(){var t=this.state.status;if(t===a)return null;var e=this.props,r=e.children,n=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(e,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"===typeof r)return r(t,n);var i=o.default.Children.only(r);return o.default.cloneElement(i,n)},Transition}(o.default.Component);function noop(){}p.contextTypes={transitionGroup:n.object},p.childContextTypes={transitionGroup:function transitionGroup(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4,e.default=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.cloneElementWithClassName=cloneElementWithClassName,e.cloneChildrenWithClassName=function cloneChildrenWithClassName(t,e){return o.default.Children.map(t,(function(t){return o.default.isValidElement(t)&&cloneElementWithClassName(t,e)}))},e.isMuiElement=function isMuiElement(t,e){return o.default.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)},e.isMuiComponent=function isMuiComponent(t,e){return-1!==e.indexOf(t.muiName)};var o=n(r(0)),i=n(r(3));function cloneElementWithClassName(t,e){return o.default.cloneElement(t,{className:(0,i.default)(t.props.className,e)})}},function(t,e,r){t.exports=r(834)()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load"),e.PointerList=function PointerList(t){return(e=function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(class_1,e),class_1.prototype.get=function(e){var r=s.getContent(this);return new t(r.segment,r.byteOffset+8*e,this._capnp.depthLimit-1)},class_1.prototype.set=function(t,e){s.copyFrom(e,this.get(t))},class_1.prototype.toString=function(){return"Pointer_"+e.prototype.toString.call(this)+",cls:"+t.toString()},class_1}(a.List))._capnp={displayName:"List<"+t._capnp.displayName+">",size:i.ListElementSize.POINTER},e;var e}},function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e,r){"use strict";var n,o=Object.prototype.hasOwnProperty;function decode(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}e.stringify=function querystringify(t,e){e=e||"";var r,i,a=[];for(i in"string"!==typeof e&&(e="?"),t)if(o.call(t,i)){if((r=t[i])||null!==r&&r!==n&&!isNaN(r)||(r=""),i=encodeURIComponent(i),r=encodeURIComponent(r),null===i||null===r)continue;a.push(i+"="+r)}return a.length?e+a.join("&"):""},e.parse=function querystring(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=decode(e[1]),i=decode(e[2]);null===o||null===i||o in n||(n[o]=i)}return n}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(783))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(894))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(356))},function(t,e,r){"use strict";var n=r(317),o=r(175),i=r(596);function encode(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function extract(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function parse(t,e){var r=function parserForArrayFormat(t){var e;switch(t.arrayFormat){case"index":return function(t,r,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return function(t,r,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=o({arrayFormat:"none"},e)),n=Object.create(null);return"string"!==typeof t?n:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:i(a),r(i(o),a,n)})),Object.keys(n).sort().reduce((function(t,e){var r=n[e];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?t[e]=function keysSorter(t){return Array.isArray(t)?t.sort():"object"===typeof t?keysSorter(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}(r):t[e]=r,t}),Object.create(null))):n}e.extract=extract,e.parse=parse,e.stringify=function(t,e){!1===(e=o({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var r=function encoderForArrayFormat(t){switch(t.arrayFormat){case"index":return function(e,r,n){return null===r?[encode(e,t),"[",n,"]"].join(""):[encode(e,t),"[",encode(n,t),"]=",encode(r,t)].join("")};case"bracket":return function(e,r){return null===r?encode(e,t):[encode(e,t),"[]=",encode(r,t)].join("")};default:return function(e,r){return null===r?encode(e,t):[encode(e,t),"=",encode(r,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map((function(n){var o=t[n];if(void 0===o)return"";if(null===o)return encode(n,e);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(t){void 0!==t&&i.push(r(n,t,i.length))})),i.join("&")}return encode(n,e)+"="+encode(o,e)})).filter((function(t){return t.length>0})).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:parse(extract(t),e)}}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(959))},function(t,e,r){"use strict";var n=r(14);e.__esModule=!0,e.default=function scrollbarSize(t){if((!o&&0!==o||t)&&i.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o};var o,i=n(r(956));t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(384));e.default=function(t,e,r){return e in t?(0,n.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function toObject(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var r,a,s=toObject(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))o.call(r,l)&&(s[l]=r[l]);if(n){a=n(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfUTCISOWeek(t,e){var r=(0,n.default)(t,e),o=r.getUTCDay(),i=(o<1?7:0)+o-1;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",o=(e.onLocationChanged=function onLocationChanged(t,e){return{type:_get__("LOCATION_CHANGE"),payload:{location:t,action:e}}},e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD"),i=function updateLocation(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return{type:_get__("CALL_HISTORY_METHOD"),payload:{method:t,args:r}}}},a=e.push=_get__("updateLocation")("push"),s=e.replace=_get__("updateLocation")("replace"),u=e.go=_get__("updateLocation")("go"),l=e.goBack=_get__("updateLocation")("goBack"),c=e.goForward=_get__("updateLocation")("goForward");e.routerActions={push:_get__("push"),replace:_get__("replace"),go:_get__("go"),goBack:_get__("goBack"),goForward:_get__("goForward")};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}var p=null;function _getRewireModuleId__(){if(null===p){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),p=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return p}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var f="__INTENTIONAL_UNDEFINED__",d={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"LOCATION_CHANGE":return n;case"CALL_HISTORY_METHOD":return o;case"updateLocation":return i;case"push":return a;case"replace":return s;case"go":return u;case"goBack":return l;case"goForward":return c}return}(t);var r=e[t];return r===f?void 0:r}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?f:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(d,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}(),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=d,e.default=d}).call(this,r(32))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){var n=r(101).f,o=r(122),i=r(72)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e,r){r(605);for(var n=r(68),o=r(121),i=r(137),a=r(72)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=n[l],p=c&&c.prototype;p&&!p[a]&&o(p,a,l),i[l]=i.Array}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function handle(r,n,o){if(r)return 0===r.statusCode&&(r=new Error("There was an unexpected server error, please try again later.")),e(r);t(n)}}},function(t,e,r){"use strict";var n=r(676),o=r(677),i=r(228),a=r(336),s=r(35).partial;function Obstruct(t,e){if(!n(t))throw new Error("schema object is required");return arguments.length<2?s(Obstruct,t):a(t,function createParser(t){return function parser(e,r){if(!r)throw new Error("falsy values not allowed in schema ("+e+")");if(~e.indexOf("."))throw new Error("dots are not allowed in schema keys");var a,s;return i(r)?(a=r[0],r=r[1]):a=e,!0===r&&(s=t[e]),"string"===typeof r&&(s=o.get(t,r)),"function"===typeof r&&(s=r(o.get(t,a),t,a)),n(r)&&(s=Obstruct(r,o.get(t,a)||{})),[e,s]}}(e))}t.exports=Obstruct},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(246));e.default=function wrapDisplayName(t,e){return e+"("+(0,n.default)(t)+")"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toCssValue(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(t))return t;var r="";if(Array.isArray(t[0]))for(var o=0;o<t.length&&"!important"!==t[o];o++)r&&(r+=", "),r+=n(t[o]," ");else r=n(t,", ");e||"!important"!==t[t.length-1]||(r+=" !important");return r};var n=function join(t,e){for(var r="",n=0;n<t.length&&"!important"!==t[n];n++)r&&(r+=e),r+=t[n];return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createRule(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",e=arguments[1],r=arguments[2],a=r.jss,s=(0,i.default)(e),u=a.plugins.onCreateRule(t,s,r);if(u)return u;"@"===t[0]&&(0,n.default)(!1,"[JSS] Unknown at-rule %s",t);return new o.default(t,s,r)};var n=_interopRequireDefault(r(25)),o=_interopRequireDefault(r(138)),i=_interopRequireDefault(r(707));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";r.r(e),r.d(e,"isBrowser",(function(){return o}));var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="object"===("undefined"===typeof window?"undefined":n(window))&&"object"===("undefined"===typeof document?"undefined":n(document))&&9===document.nodeType;e.default=o},function(t,e,r){"use strict";r.r(e);var n=function isMergeableObject(t){return function isNonNullObject(t){return!!t&&"object"===typeof t}(t)&&!function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function isReactElement(t){return t.$$typeof===o}(t)}(t)};var o="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepmerge(function emptyTarget(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function defaultArrayMerge(t,e,r){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,r)}))}function deepmerge(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||defaultArrayMerge,r.isMergeableObject=r.isMergeableObject||n;var o=Array.isArray(e);return o===Array.isArray(t)?o?r.arrayMerge(t,e,r):function mergeObject(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach((function(e){n[e]=cloneUnlessOtherwiseSpecified(t[e],r)})),Object.keys(e).forEach((function(o){r.isMergeableObject(e[o])&&t[o]?n[o]=deepmerge(t[o],e[o],r):n[o]=cloneUnlessOtherwiseSpecified(e[o],r)})),n}(t,e,r):cloneUnlessOtherwiseSpecified(e,r)}deepmerge.all=function deepmergeAll(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return deepmerge(t,r,e)}),{})};var i=deepmerge;e.default=i},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(103));var i=function ownerWindow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=(0,o.default)(t);return r.defaultView||r.parentView||e};e.default=i},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(777))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(785))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.specialProperty=void 0;n(r(28)),n(r(36));var o="exact-prop: \u200b";e.specialProperty=o;var i=function exactProp(t){return t};e.default=i},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(786))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(799))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransitionProps=function getTransitionProps(t,e){var r=t.timeout,n=t.style,o=void 0===n?{}:n;return{duration:o.transitionDuration||"number"===typeof r?r:r[e.mode],delay:o.transitionDelay}},e.reflow=void 0;e.reflow=function reflow(t){return t.scrollTop}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(804)),o=_interopRequireDefault(r(824));_interopRequireDefault(r(364)),_interopRequireDefault(r(185));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function pure(t){return(0,n.default)((function(t,e){return!(0,o.default)(t,e)}))(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SINGLE_SEGMENT=0]="SINGLE_SEGMENT",t[t.MULTI_SEGMENT=1]="MULTI_SEGMENT"}(e.ArenaKind||(e.ArenaKind={}))},function(t,e,r){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.handleFullscreenChange=function handleFullscreenChange(t){return{type:a,isFullscreen:t}},e.activate=function activate(t){return{type:s,activity:t}},e.userActivate=function userActivate(t){return{type:u,activity:t}},e.play=function play(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"play",source:""};return this.video.play(),{type:i,operation:t}},e.pause=function pause(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"pause",source:""};return this.video.pause(),{type:i,operation:t}},e.togglePlay=function togglePlay(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"toggle-play",source:""};return this.video.togglePlay(),{type:i,operation:t}},e.seek=function seek(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"seek",source:""};return this.video.seek(t),{type:i,operation:e}},e.forward=function forward(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"forward-".concat(t),source:""};return this.video.forward(t),{type:i,operation:e}},e.replay=function replay(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"replay-".concat(t),source:""};return this.video.replay(t),{type:i,operation:e}},e.changeRate=function changeRate(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-rate",source:""};return this.video.playbackRate=t,{type:i,operation:e}},e.changeVolume=function changeVolume(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"change-volume",source:""},r=t;t<0&&(r=0);t>1&&(r=1);return this.video.volume=r,{type:i,operation:e}},e.mute=function mute(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:t?"muted":"unmuted",source:""};return this.video.muted=t,{type:i,operation:e}},e.toggleFullscreen=function toggleFullscreen(t){if(o.default.enabled)return o.default.isFullscreen?o.default.exit():o.default.request(this.rootElement),{type:i,operation:{action:"toggle-fullscreen",source:""}};return{type:a,isFullscreen:!t.isFullscreen}},e.USER_ACTIVATE=e.PLAYER_ACTIVATE=e.FULLSCREEN_CHANGE=e.OPERATE=void 0;var o=n(r(388)),i="video-react/OPERATE";e.OPERATE=i;var a="video-react/FULLSCREEN_CHANGE";e.FULLSCREEN_CHANGE=a;var s="video-react/PLAYER_ACTIVATE";e.PLAYER_ACTIVATE=s;var u="video-react/USER_ACTIVATE";e.USER_ACTIVATE=u},function(t,e,r){"use strict";function findElPosition(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var r=document,n=r.body,o=r.documentElement,i=o.clientLeft||n.clientLeft||0,a=window.pageXOffset||n.scrollLeft,s=e.left+a-i,u=o.clientTop||n.clientTop||0,l=window.pageYOffset||n.scrollTop,c=e.top+l-u;return{left:Math.round(s),top:Math.round(c)}}Object.defineProperty(e,"__esModule",{value:!0}),e.findElPosition=findElPosition,e.getPointerPosition=function getPointerPosition(t,e){var r={},n=findElPosition(t),o=t.offsetWidth,i=t.offsetHeight,a=n.top,s=n.left,u=e.pageY,l=e.pageX;e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY);return r.y=Math.max(0,Math.min(1,(a-u+i)/i)),r.x=Math.max(0,Math.min(1,(l-s)/o)),r},e.blurNode=function blurNode(t){t&&t.blur&&t.blur()},e.focusNode=function focusNode(t){t&&t.focus&&t.focus()},e.hasClass=function hasClass(t,e){for(var r=t.className.split(" "),n=0;n<r.length;n++)if(r[n].toLowerCase()===e.toLowerCase())return!0;return!1}},function(t,e,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);t.exports=function hoistNonReactStatics(t,e,r){if("string"!==typeof e){if(c){var p=l(e);p&&p!==c&&hoistNonReactStatics(t,p,r)}var f=a(e);s&&(f=f.concat(s(e)));for(var d=0;d<f.length;++d){var h=f[d];if(!n[h]&&!o[h]&&(!r||!r[h])){var m=u(e,h);try{i(t,h,m)}catch(y){}}}return t}return t}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(696))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(828))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(829))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(830))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(832))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(909))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(1002))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(1007))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMonths(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=(0,n.default)(t,r),a=Number(e),s=i.getMonth()+a,u=new Date(0);u.setFullYear(i.getFullYear(),s,1),u.setHours(0,0,0,0);var l=(0,o.default)(u,r);return i.setMonth(s,Math.min(l,i.getDate())),i};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(553));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfDay(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e);return r.setHours(0,0,0,0),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){var n=r(887);t.exports=function createStore(){var t={};return function(e){if(("object"!==typeof e||null===e)&&"function"!==typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withContentRect=e.default=void 0;var n=_interopRequireDefault(r(936)),o=_interopRequireDefault(r(383));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=n.default,e.withContentRect=o.default},function(t,e,r){t.exports={default:r(949),__esModule:!0}},function(t,e,r){"use strict";(function(t){function createDetectElementResize(e){var r;r="undefined"!==typeof window?window:"undefined"!==typeof self?self:t;var n="undefined"!==typeof document&&document.attachEvent;if(!n){var o=function(){var t=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(t){return r.setTimeout(t,20)};return function(e){return t(e)}}(),i=function(){var t=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(e){return t(e)}}(),a=function resetTriggers(t){var e=t.__resizeTriggers__,r=e.firstElementChild,n=e.lastElementChild,o=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=r.offsetWidth+1+"px",o.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},s=function scrollListener(t){if(!(t.target.className&&"function"===typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;a(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function checkTriggers(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(r){r.call(e,t)})))}))}},u=!1,l="",c="animationstart",p="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(u=!0),!1===u)for(var h=0;h<p.length;h++)if(void 0!==d.style[p[h]+"AnimationName"]){l="-"+p[h].toLowerCase()+"-",c=f[h],u=!0;break}var m="resizeanim",y="@"+l+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",g=l+"animation: 1ms "+m+"; "}return{addResizeListener:function addResizeListener(t,o){if(n)t.attachEvent("onresize",o);else{if(!t.__resizeTriggers__){var i=t.ownerDocument,u=r.getComputedStyle(t);u&&"static"==u.position&&(t.style.position="relative"),function createStyles(t){if(!t.getElementById("detectElementResize")){var r=(y||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(t.createTextNode(r)),n.appendChild(o)}}(i),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=i.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),a(t),t.addEventListener("scroll",s,!0),c&&(t.__resizeTriggers__.__animationListener__=function animationListener(e){e.animationName==m&&a(t)},t.__resizeTriggers__.addEventListener(c,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(o)}},removeResizeListener:function removeResizeListener(t,e){if(n)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",s,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(c,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(r){}}}}}r.d(e,"a",(function(){return createDetectElementResize}))}).call(this,r(32))},function(t,e){t.exports=function perspective(t,e,r,n,o){var i=1/Math.tan(e/2),a=1/(n-o);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*a,t[15]=0,t}},function(t,e){t.exports=function invert(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],p=e[9],f=e[10],d=e[11],h=e[12],m=e[13],y=e[14],g=e[15],v=r*s-n*a,_=r*u-o*a,b=r*l-i*a,S=n*u-o*s,x=n*l-i*s,w=o*l-i*u,E=c*m-p*h,P=c*y-f*h,C=c*g-d*h,T=p*y-f*m,D=p*g-d*m,M=f*g-d*y,A=v*M-_*D+b*T+S*C-x*P+w*E;if(!A)return null;return A=1/A,t[0]=(s*M-u*D+l*T)*A,t[1]=(o*D-n*M-i*T)*A,t[2]=(m*w-y*x+g*S)*A,t[3]=(f*x-p*w-d*S)*A,t[4]=(u*C-a*M-l*P)*A,t[5]=(r*M-o*C+i*P)*A,t[6]=(y*b-h*w-g*_)*A,t[7]=(c*w-f*b+d*_)*A,t[8]=(a*D-s*C+l*E)*A,t[9]=(n*C-r*D-i*E)*A,t[10]=(h*x-m*b+g*v)*A,t[11]=(p*b-c*x-d*v)*A,t[12]=(s*P-a*T-u*E)*A,t[13]=(r*T-n*P+o*E)*A,t[14]=(m*_-h*S-y*v)*A,t[15]=(c*S-p*_+f*v)*A,t}},function(t,e){t.exports=function rotateX(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],p=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=i*o+l*n,t[5]=a*o+c*n,t[6]=s*o+p*n,t[7]=u*o+f*n,t[8]=l*o-i*n,t[9]=c*o-a*n,t[10]=p*o-s*n,t[11]=f*o-u*n,t}},function(t,e){t.exports=function rotateZ(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],p=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*o+l*n,t[1]=a*o+c*n,t[2]=s*o+p*n,t[3]=u*o+f*n,t[4]=l*o-i*n,t[5]=c*o-a*n,t[6]=p*o-s*n,t[7]=f*o-u*n,t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isAfter(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=(0,n.default)(e,r);return o.getTime()>i.getTime()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e){t.exports=function CarlyRaeJepsen(t){var e=!1;return{callback:function wrapped(){if(e)return;return t.apply(this,arguments)},cancel:function cancel(){e=!0}}}},function(t,e,r){"use strict";function _interopDefault(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var n=_interopDefault(r(682)),o=_interopDefault(r(683)),i=_interopDefault(r(684)),a=_interopDefault(r(686)),s=_interopDefault(r(687)),u=_interopDefault(r(339)),l=_interopDefault(r(689)),c=_interopDefault(r(691)),p=_interopDefault(r(0));_interopDefault(r(692)),_interopDefault(r(695));var f=function(){var t=null;return function(){if(null!==t)return t;var e=!1;try{window.addEventListener("test",null,function defineProperty(t,e,r){return Object.defineProperty(t,e,r)}({},"passive",{get:function get(){e=!0}}))}catch(r){}return t=e,e}()}(),d={capture:!1,passive:!1};function mergeDefaultEventOptions(t){return c({},d,t)}function getEventListenerArgs(t,e,r){var n=[t,e];return n.push(f?r:r.capture),n}function on(t,e,r,n){t.addEventListener.apply(t,getEventListenerArgs(e,r,n))}function off(t,e,r,n){t.removeEventListener.apply(t,getEventListenerArgs(e,r,n))}function forEachListener(t,e){t.children,t.target;var r=l(t,["children","target"]);Object.keys(r).forEach((function(t){if("on"===t.substring(0,2)){var n=r[t],o=u(n),i="object"===o;if(i||"function"===o){var a="capture"===t.substr(-7).toLowerCase(),s=t.substring(2).toLowerCase();s=a?s.substring(0,s.length-7):s,i?e(s,n.handler,n.options):e(s,n,mergeDefaultEventOptions({capture:a}))}}}))}var h=function(t){function EventListener(){return n(this,EventListener),i(this,a(EventListener).apply(this,arguments))}return s(EventListener,t),o(EventListener,[{key:"componentDidMount",value:function componentDidMount(){this.applyListeners(on)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.applyListeners(off,t),this.applyListeners(on)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.applyListeners(off)}},{key:"applyListeners",value:function applyListeners(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,r=e.target;if(r){var n=r;"string"===typeof r&&(n=window[r]),forEachListener(e,t.bind(null,n))}}},{key:"render",value:function render(){return this.props.children||null}}]),EventListener}(p.PureComponent);h.propTypes={},e.withOptions=function withOptions(t,e){return{handler:t,options:mergeDefaultEventOptions(e)}},e.default=h},function(t,e,r){var n;n=function(){var t=!0;function detect(e){function getFirstMatch(t){var r=e.match(t);return r&&r.length>1&&r[1]||""}function getSecondMatch(t){var r=e.match(t);return r&&r.length>1&&r[2]||""}var r,n=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),o=!/like android/i.test(e)&&/android/i.test(e),i=/nexus\s*[0-6]\s*/i.test(e),a=!i&&/nexus\s*[0-9]+/i.test(e),s=/CrOS/.test(e),u=/silk/i.test(e),l=/sailfish/i.test(e),c=/tizen/i.test(e),p=/(web|hpw)os/i.test(e),f=/windows phone/i.test(e),d=(/SamsungBrowser/i.test(e),!f&&/windows/i.test(e)),h=!n&&!u&&/macintosh/i.test(e),m=!o&&!l&&!c&&!p&&/linux/i.test(e),y=getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=getFirstMatch(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(e)&&!/tablet pc/i.test(e),_=!v&&/[^-]mobi/i.test(e),b=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:g||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:g||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:g||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:g||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:f?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},y?(r.msedge=t,r.version=y):(r.msie=t,r.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:s?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:y}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||g}:l?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):u?r={name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:g||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(r={name:"WebOS",osname:"WebOS",webos:t,version:g||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:c?r={name:"Tizen",osname:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?r={name:"Android",version:g}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},g&&(r.version=g)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||g}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!o&&!r.silk?!r.windowsphone&&n?(r[n]=t,r.ios=t,r.osname="iOS"):h?(r.mac=t,r.osname="macOS"):b?(r.xbox=t,r.osname="Xbox"):d?(r.windows=t,r.osname="Windows"):m&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var S="";r.windows?S=function getWindowsVersion(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?S=(S=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):o?S=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var x=!r.windows&&S.split(".")[0];return v||a||"ipad"==n||o&&(3==x||x>=4&&!_)||r.silk?r.tablet=t:(_||"iphone"==n||"ipod"==n||o||i||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var e=detect("undefined"!==typeof navigator&&navigator.userAgent||"");function getVersionPrecision(t){return t.split(".").length}function map(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r++)n.push(e(t[r]));return n}function compareVersions(t){for(var e=Math.max(getVersionPrecision(t[0]),getVersionPrecision(t[1])),r=map(t,(function(t){var r=e-getVersionPrecision(t);return map((t+=new Array(r+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(r[0][e]>r[1][e])return 1;if(r[0][e]!==r[1][e])return-1;if(0===e)return 0}}function isUnsupportedBrowser(t,r,n){var o=e;"string"===typeof r&&(n=r,r=void 0),void 0===r&&(r=!1),n&&(o=detect(n));var i=""+o.version;for(var a in t)if(t.hasOwnProperty(a)&&o[a]){if("string"!==typeof t[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(t));return compareVersions([i,t[a]])<0}return r}return e.test=function(t){for(var r=0;r<t.length;++r){var n=t[r];if("string"===typeof n&&n in e)return!0}return!1},e.isUnsupportedBrowser=isUnsupportedBrowser,e.compareVersions=compareVersions,e.check=function check(t,e,r){return!isUnsupportedBrowser(t,e,r)},e._detect=detect,e.detect=detect,e},t.exports?t.exports=n():r(978)("bowser",n)},function(t,e,r){(function(e){var n=r(310),o="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function isUndefined(t){return void 0===t}function isPlainObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function supportsFetch(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function each(t,e){var r,n;if(isUndefined(t.length))for(r in t)hasKey(t,r)&&e.call(null,r,t[r]);else if(n=t.length)for(r=0;r<n;r++)e.call(null,r,t[r])}function truncate(t,e){if("number"!==typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!==typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"\u2026"}function hasKey(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function joinRegExp(t){for(var e,r=[],n=0,o=t.length;n<o;n++)isString(e=t[n])?r.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&r.push(e.source);return new RegExp(r.join("|"),"i")}function htmlElementAsString(t){var e,r,n,o,i,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&isString(e))for(r=e.split(/\s+/),i=0;i<r.length;i++)a.push("."+r[i]);var s=["type","name","title","alt"];for(i=0;i<s.length;i++)n=s[i],(o=t.getAttribute(n))&&a.push("["+n+'="'+o+'"]');return a.join("")}function isOnlyOneTruthy(t,e){return!!(!!t^!!e)}function isSameStacktrace(t,e){if(isOnlyOneTruthy(t,e))return!1;var r,n,o=t.frames,i=e.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(r=o[a],n=i[a],r.filename!==n.filename||r.lineno!==n.lineno||r.colno!==n.colno||r.function!==n.function)return!1;return!0}var i=3,a=51200,s=40;function jsonSize(t){return function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function serializeValue(t){if("string"===typeof t){return truncate(t,40)}if("number"===typeof t||"boolean"===typeof t||"undefined"===typeof t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function isObject(t){return"object"===typeof t&&null!==t},isError:function isError(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function isErrorEvent(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function isDOMError(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function isDOMException(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:isUndefined,isFunction:function isFunction(t){return"function"===typeof t},isPlainObject:isPlainObject,isString:isString,isArray:isArray,isEmptyObject:function isEmptyObject(t){if(!isPlainObject(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function supportsErrorEvent(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function supportsDOMError(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function supportsDOMException(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:supportsFetch,supportsReferrerPolicy:function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function supportsPromiseRejectionEvent(){return"function"===typeof PromiseRejectionEvent},wrappedCallback:function wrappedCallback(t){return function dataCallback(e,r){var n=t(e)||e;return r&&r(n)||n}},each:each,objectMerge:function objectMerge(t,e){return e?(each(e,(function(e,r){t[e]=r})),t):t},truncate:truncate,objectFrozen:function objectFrozen(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:hasKey,joinRegExp:joinRegExp,urlencode:function urlencode(t){var e=[];return each(t,(function(t,r){e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))})),e.join("&")},uuid4:function uuid4(){var t=o.crypto||o.msCrypto;if(!isUndefined(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var r=function pad(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(e[0])+r(e[1])+r(e[2])+r(e[3])+r(e[4])+r(e[5])+r(e[6])+r(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},htmlTreeAsString:function htmlTreeAsString(t){for(var e,r=[],n=0,o=0,i=" > ".length;t&&n++<5&&!("html"===(e=htmlElementAsString(t))||n>1&&o+r.length*i+e.length>=80);)r.push(e),o+=e.length,t=t.parentNode;return r.reverse().join(" > ")},htmlElementAsString:htmlElementAsString,isSameException:function isSameException(t,e){return!isOnlyOneTruthy(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(!function isBothUndefined(t,e){return isUndefined(t)&&isUndefined(e)}(t.stacktrace,e.stacktrace)&&isSameStacktrace(t.stacktrace,e.stacktrace)))},isSameStacktrace:isSameStacktrace,parseUrl:function parseUrl(t){if("string"!==typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),r=e[6]||"",n=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+r+n}},fill:function fill(t,e,r,n){if(null!=t){var o=t[e];t[e]=r(o),t[e].__raven__=!0,t[e].__orig__=o,n&&n.push([t,e,o])}},safeJoin:function safeJoin(t,e){if(!isArray(t))return"";for(var r=[],n=0;n<t.length;n++)try{r.push(String(t[n]))}catch(o){r.push("[value cannot be serialized]")}return r.join(e)},serializeException:function serializeException(t,e,r){if(!isPlainObject(t))return t;r="number"!==typeof(e="number"!==typeof e?i:e)?a:r;var o=function serializeObject(t,e){return 0===e?serializeValue(t):isPlainObject(t)?Object.keys(t).reduce((function(r,n){return r[n]=serializeObject(t[n],e-1),r}),{}):Array.isArray(t)?t.map((function(t){return serializeObject(t,e-1)})):serializeValue(t)}(t,e);return jsonSize(n(o))>r?serializeException(t,e-1):o},serializeKeysForMessage:function serializeKeysForMessage(t,e){if("number"===typeof t||"string"===typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter((function(t){return"string"===typeof t}))).length)return"[object has no keys]";if(e="number"!==typeof e?s:e,t[0].length>=e)return t[0];for(var r=t.length;r>0;r--){var n=t.slice(0,r).join(", ");if(!(n.length>e))return r===t.length?n:n+"\u2026"}return""},sanitize:function sanitize(t,e){if(!isArray(e)||isArray(e)&&0===e.length)return t;var r,o=joinRegExp(e),i="********";try{r=JSON.parse(n(t))}catch(a){return t}return function sanitizeWorker(t){return isArray(t)?t.map((function(t){return sanitizeWorker(t)})):isPlainObject(t)?Object.keys(t).reduce((function(e,r){return o.test(r)?e[r]=i:e[r]=sanitizeWorker(t[r]),e}),{}):t}(r)}}}).call(this,r(32))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfUTCISOWeekYear(t,e){var r=(0,n.default)(t,e),i=new Date(0);return i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0),(0,o.default)(i,e)};var n=_interopRequireDefault(r(313)),o=_interopRequireDefault(r(176));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(110),o=r(68).document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,r){var n=r(110);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(91),o=r(602),i=r(237),a=r(235)("IE_PROTO"),s=function Empty(){},u=function createDict(){var t,e=r(231)("iframe"),n=i.length;for(e.style.display="none",r(324).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[i[n]];return u()};t.exports=Object.create||function create(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[a]=t):r=u(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(229),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(236)("keys"),o=r(179);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,r){var n=r(53),o=r(68),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(156)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(159),o=r(72)("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function tryGet(t,e){try{return t[e]}catch(r){}}(e=Object(t),o))?r:i?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,r){var n=r(238),o=r(72)("iterator"),i=r(137);t.exports=r(53).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[n(t)]}},function(t,e,r){"use strict";var n=r(178);function PromiseCapability(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new PromiseCapability(t)}},function(t,e,r){var n=r(623),o=r(243),i=r(116),a=r(632),s=r(242),u=r(633),l=r(334),c=r(636),p=r(637),f=r(638);t.exports=function Client(t){return t=i(h,t=t||{}),Request.configure=function configure(e){a(t,e)},Request.config=t,function httpMethods(t){return d.forEach((function createMethod(e){t[e]=function(r,n,o){return"function"===typeof n&&(o=n,n={}),n.method=e,t(r,n,o)}})),t}(Request);function Request(e,r,d){e=e||"",s(r)&&(d=r,r={}),function setQuery(t){var e=t.query;if(!e)return;t.query=("string"===typeof e?String:f)(e)}(r=i(t.options,r)),function setToken(e){if(!e.token&&!t.token)return;e.headers=e.headers||{};var r=e.authorization||t.authorization||"Authorization",n=e.token||t.token;(e.jwt||t.jwt)&&(n="Bearer "+n);e.headers[r]=n,delete e.token}(r);var h=o(t.baseUrl,e);return n(h,r,function responseHandler(e,r){return function handleResponse(n,o,i){if(n)return e(n,null,i);if(l(i.statusCode))return function createError(t,e,r){var n=u(e.statusCode);if(!t)return r(n);if(t){if(Array.isArray(t)&&(t=t[0]),p(t))return r(a(n,t));c(t,(function(t,e){if(t)return r(t);r(a(n,e))}))}}(o,i,(function(t){e(t,null,i)}));var f=r.parse||t.parse;o=s(f)?f(o,i):o,e(null,o,i)}}(d,{url:h,method:r.method}))}};var d=["get","post","put","patch","head","delete"],h={baseUrl:"http://localhost:8000",jwt:!1,token:null,options:{}}},function(t,e){t.exports=function isFunction(t){var e=r.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},function(t,e,r){var n,o,i;i=function(){function normalize(t,e){return t=(t=(t=(t=t.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments;"object"===typeof arguments[0]&&(t=arguments[0],arguments[1]);var e=[].slice.call(t,0).join("/");return normalize(e)}},t.exports?t.exports=i():void 0===(o="function"===typeof(n=i)?n.call(e,r,e,t):n)||(t.exports=o)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.COMMA_URL_ROOT="https://api.commadotai.com/",e.ATHENA_URL_ROOT="https://athena.comma.ai/";var n=e.VIDEO_HOST=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).COMMA_VIDEO_CDN;n||(e.VIDEO_HOST=n="https://my-comma-video.azureedge.net")},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function getDisplayName(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function toCss(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";if(!e)return o;var i=r.indent,a=void 0===i?0:i,s=e.fallbacks;if(a++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var l=s[u];for(var c in l){var p=l[c];null!=p&&(o+="\n"+indentStr(c+": "+(0,n.default)(p)+";",a))}}else for(var f in s){var d=s[f];null!=d&&(o+="\n"+indentStr(f+": "+(0,n.default)(d)+";",a))}for(var h in e){var m=e[h];null!=m&&"fallbacks"!==h&&(o+="\n"+indentStr(h+": "+(0,n.default)(m)+";",a))}return o||r.allowEmpty?o=indentStr(t+" {"+o+"\n",--a)+indentStr("}",a):o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(186));function indentStr(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(344));e.default=new n.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",o="";if(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(188)).default){var i={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in i)if(s+"Transform"in a){n=s,o=i[s];break}}e.default={js:n,css:o}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(36)),i=n(r(11)),a=n(r(189)),s=(n(r(64)),n(r(351))),u=n(r(734)),l=n(r(735)),c=n(r(740)),p=n(r(741)),f=n(r(742)),d=n(r(743)),h=n(r(140)),m=n(r(744));var y=function createMuiTheme(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,r=void 0===e?{}:e,n=t.mixins,y=void 0===n?{}:n,g=t.palette,v=void 0===g?{}:g,_=t.shadows,b=t.typography,S=void 0===b?{}:b,x=(0,i.default)(t,["breakpoints","mixins","palette","shadows","typography"]),w=(0,l.default)(v),E=(0,s.default)(r);return(0,o.default)({breakpoints:E,direction:"ltr",mixins:(0,u.default)(E,d.default,y),overrides:{},palette:w,props:{},shadows:_||p.default,shape:f.default,typography:(0,c.default)(w,S)},(0,a.default)({transitions:h.default,spacing:d.default,zIndex:m.default},x))};e.default=y},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CHANNEL=void 0;var o=n(r(28)),i=n(r(9)),a="__THEMING__";e.CHANNEL=a;var s={contextTypes:(0,o.default)({},a,i.default.object),initial:function initial(t){return t[a]?t[a].getState():null},subscribe:function subscribe(t,e){return t[a]?t[a].subscribe(e):null},unsubscribe:function unsubscribe(t,e){t[a]&&t[a].unsubscribe(e)}};e.default=s},function(t,e,r){t.exports=r(755)()},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.hasValue=hasValue,e.isFilled=isFilled,e.isAdornedStart=function isAdornedStart(t){return t.startAdornment},e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(28)),s=n(r(11)),u=n(r(37)),l=n(r(38)),c=n(r(40)),p=n(r(41)),f=n(r(0)),d=n(r(9)),h=n(r(3)),m=n(r(8)),y=n(r(763));function hasValue(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function isFilled(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(hasValue(t.value)&&""!==t.value||e&&hasValue(t.defaultValue)&&""!==t.defaultValue)}var g=function styles(t){var e="light"===t.palette.type,r={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:0},o={opacity:e?.42:.5},i=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{display:"inline-flex",position:"relative",fontFamily:t.typography.fontFamily,color:e?"rgba(0, 0, 0, 0.87)":t.palette.common.white,fontSize:t.typography.pxToRem(16),lineHeight:"1.1875em","&$disabled":{color:t.palette.text.disabled}},formControl:{"label + &":{marginTop:2*t.spacing.unit}},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary[e?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottom:"1px dotted ".concat(i)}},error:{},multiline:{padding:"".concat(t.spacing.unit-2,"px 0 ").concat(t.spacing.unit-1,"px")},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(t.spacing.unit-2,"px 0 ").concat(t.spacing.unit-1,"px"),border:0,boxSizing:"content-box",verticalAlign:"middle",background:"none",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,flexGrow:1,"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1}},inputMarginDense:{paddingTop:t.spacing.unit/2-1},inputMultiline:{resize:"none",padding:0},inputType:{height:"1.1875em"},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"}}};function formControlState(t,e){var r=t.disabled,n=t.error,o=t.margin;return e&&e.muiFormControl&&("undefined"===typeof r&&(r=e.muiFormControl.disabled),"undefined"===typeof n&&(n=e.muiFormControl.error),"undefined"===typeof o&&(o=e.muiFormControl.margin)),{disabled:r,error:n,margin:o}}e.styles=g;var v=function(t){function Input(t,e){var r;(0,u.default)(this,Input),(r=(0,c.default)(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,t,e))).isControlled=null!=r.props.value,r.input=null,r.state={focused:!1},r.handleFocus=function(t){if(formControlState(r.props,r.context).disabled)t.stopPropagation();else{r.setState({focused:!0}),r.props.onFocus&&r.props.onFocus(t);var e=r.context.muiFormControl;e&&e.onFocus&&e.onFocus(t)}},r.handleBlur=function(t){r.setState({focused:!1}),r.props.onBlur&&r.props.onBlur(t);var e=r.context.muiFormControl;e&&e.onBlur&&e.onBlur(t)},r.handleChange=function(t){r.isControlled||r.checkDirty(r.input),r.props.onChange&&r.props.onChange(t)},r.handleRefInput=function(t){var e;r.input=t,r.props.inputRef?e=r.props.inputRef:r.props.inputProps&&r.props.inputProps.ref&&(e=r.props.inputProps.ref),e&&("function"===typeof e?e(t):e.current=t)},r.isControlled&&r.checkDirty(t);var n=function componentWillReceiveProps(t,e){!formControlState(r.props,r.context).disabled&&formControlState(t,e).disabled&&r.setState({focused:!1})},o=function componentWillUpdate(t,e,n){if(!formControlState(r.props,r.context).disabled&&formControlState(t,n).disabled){var o=r.context.muiFormControl;o&&o.onBlur&&o.onBlur()}};return f.default.createContext?(r.UNSAFE_componentWillReceiveProps=n,r.UNSAFE_componentWillUpdate=o):(r.componentWillReceiveProps=n,r.componentWillUpdate=o),r}return(0,p.default)(Input,t),(0,l.default)(Input,[{key:"getChildContext",value:function getChildContext(){return{muiFormControl:null}}},{key:"componentDidMount",value:function componentDidMount(){this.isControlled||this.checkDirty(this.input)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.isControlled&&this.checkDirty(this.props)}},{key:"checkDirty",value:function checkDirty(t){var e=this.context.muiFormControl;if(isFilled(t))return e&&e.onFilled&&e.onFilled(),void(this.props.onFilled&&this.props.onFilled());e&&e.onEmpty&&e.onEmpty(),this.props.onEmpty&&this.props.onEmpty()}},{key:"render",value:function render(){var t,e,r=this.props,n=r.autoComplete,u=r.autoFocus,l=r.classes,c=r.className,p=r.defaultValue,d=(r.disabled,r.disableUnderline),m=r.endAdornment,g=(r.error,r.fullWidth),v=r.id,_=r.inputComponent,b=r.inputProps,S=(b=void 0===b?{}:b).className,x=(0,s.default)(b,["className"]),w=(r.inputRef,r.margin,r.multiline),E=r.name,P=(r.onBlur,r.onChange,r.onEmpty,r.onFilled,r.onFocus,r.onKeyDown),C=r.onKeyUp,T=r.placeholder,D=r.readOnly,M=r.rows,A=r.rowsMax,R=r.startAdornment,L=r.type,I=r.value,O=(0,s.default)(r,["autoComplete","autoFocus","classes","className","defaultValue","disabled","disableUnderline","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onEmpty","onFilled","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","rows","rowsMax","startAdornment","type","value"]),k=this.context.muiFormControl,F=formControlState(this.props,this.context),N=F.disabled,B=F.error,U=F.margin,z=(0,h.default)(l.root,(t={},(0,a.default)(t,l.disabled,N),(0,a.default)(t,l.error,B),(0,a.default)(t,l.fullWidth,g),(0,a.default)(t,l.focused,this.state.focused),(0,a.default)(t,l.formControl,k),(0,a.default)(t,l.multiline,w),(0,a.default)(t,l.underline,!d),t),c),j=(0,h.default)(l.input,(e={},(0,a.default)(e,l.disabled,N),(0,a.default)(e,l.inputType,"text"!==L),(0,a.default)(e,l.inputTypeSearch,"search"===L),(0,a.default)(e,l.inputMultiline,w),(0,a.default)(e,l.inputMarginDense,"dense"===U),e),S),G=k&&!0===k.required,V="input",W=(0,i.default)({},x,{ref:this.handleRefInput});return _?(V=_,W=(0,i.default)({inputRef:this.handleRefInput},W,{ref:null})):w&&(M&&!A?V="textarea":(W=(0,i.default)({rowsMax:A,textareaRef:this.handleRefInput},W,{ref:null}),V=y.default)),f.default.createElement("div",(0,o.default)({className:z},O),R,f.default.createElement(V,(0,o.default)({"aria-invalid":B,"aria-required":G,autoComplete:n,autoFocus:u,className:j,defaultValue:p,disabled:N,id:v,name:E,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:P,onKeyUp:C,placeholder:T,readOnly:D,required:!!G||void 0,rows:M,type:L,value:I},W)),m)}}]),Input}(f.default.Component);v.propTypes={},v.muiName="Input",v.defaultProps={disableUnderline:!1,fullWidth:!1,multiline:!1,type:"text"},v.contextTypes={muiFormControl:d.default.object},v.childContextTypes={muiFormControl:d.default.object};var _=(0,m.default)(g,{name:"MuiInput"})(v);e.default=_},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(778))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(780))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(798))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(800))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(802))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(803))},function(t,e,r){e.f=r(72)},function(t,e,r){var n=r(68),o=r(53),i=r(156),a=r(260),s=r(101).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(198),o=r(157),i=r(123),a=r(232),s=r(122),u=r(320),l=Object.getOwnPropertyDescriptor;e.f=r(111)?l:function getOwnPropertyDescriptor(t,e){if(t=i(t),e=a(e,!0),u)try{return l(t,e)}catch(r){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(861);e.AnyPointerList=n.AnyPointerList;var o=r(863);e.BoolList=o.BoolList;var i=r(864);e.CompositeList=i.CompositeList;var a=r(265);e.Data=a.Data;var s=r(865);e.DataList=s.DataList;var u=r(866);e.Float32List=u.Float32List;var l=r(867);e.Float64List=l.Float64List;var c=r(868);e.Int8List=c.Int8List;var p=r(869);e.Int16List=p.Int16List;var f=r(870);e.Int32List=f.Int32List;var d=r(871);e.Int64List=d.Int64List;var h=r(373);e.Interface=h.Interface;var m=r(872);e.InterfaceList=m.InterfaceList;var y=r(65);e.List=y.List;var g=r(372);e.Orphan=g.Orphan;var v=r(165);e.PointerList=v.PointerList;var _=r(143);e.PointerType=_.PointerType;var b=r(50);e.Pointer=b.Pointer;var S=r(266);e.Struct=S.Struct;var x=r(268);e.Text=x.Text;var w=r(874);e.TextList=w.TextList;var E=r(875);e.Uint8List=E.Uint8List;var P=r(876);e.Uint16List=P.Uint16List;var C=r(877);e.Uint32List=C.Uint32List;var T=r(878);e.Uint64List=T.Uint64List;var D=r(375);e.Void=D.Void,e.VOID=D.VOID;var M=r(879);e.VoidList=M.VoidList},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50),u=r(143),l=o.default("capnp:data");l("load");var c=function(t){function Data(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Data,t),Data.fromPointer=function(t){return s.validate(u.PointerType.LIST,t,i.ListElementSize.BYTE),this._fromPointerUnchecked(t)},Data._fromPointerUnchecked=function(t){return new this(t.segment,t.byteOffset,t._capnp.depthLimit)},Data.prototype.copyBuffer=function(t){var e=s.getContent(this),r=this.getLength(),n=t.byteLength,o=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,Math.min(r,n)),i=new Uint8Array(e.segment.buffer,e.byteOffset,this.getLength());i.set(o),r>n?(l("Zeroing out remaining %d bytes after copy into %s.",r-n,this),i.fill(0,n,r)):r<n&&l("Truncated %d bytes from source buffer while copying to %s.",n-r,this)},Data.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint8(e.byteOffset+t)},Data.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setUint8(r.byteOffset+t,e)},Data.prototype.toArrayBuffer=function(){var t=s.getContent(this);return t.segment.buffer.slice(t.byteOffset,t.byteOffset+this.getLength())},Data.prototype.toDataView=function(){var t=s.getContent(this);return new DataView(t.segment.buffer,t.byteOffset,this.getLength())},Data.prototype.toString=function(){return"Data_"+t.prototype.toString.call(this)},Data.prototype.toUint8Array=function(){var t=s.getContent(this);return new Uint8Array(t.segment.buffer,t.byteOffset,this.getLength())},Data}(a.List);e.Data=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(83),a=r(267),s=r(79),u=r(59),l=r(142),c=r(265),p=r(65),f=r(50),d=r(143),h=r(268),m=r(78),y=o.default("capnp:struct");y("load");var g=new DataView(new ArrayBuffer(8)),v=function(t){function Struct(e,r,n,o){void 0===n&&(n=i.MAX_DEPTH);var a=t.call(this,e,r,n)||this;return a._capnp.compositeIndex=o,a._capnp.compositeList=void 0!==o,a}return n.__extends(Struct,t),Struct.toString=function(){return this._capnp.displayName},Struct.prototype.toString=function(){return"Struct_"+t.prototype.toString.call(this)+(void 0===this._capnp.compositeIndex?"":",ci:"+this._capnp.compositeIndex)},Struct._capnp={displayName:"Struct"},Struct.getAs=getAs,Struct.getBit=getBit,Struct.getData=getData,Struct.getFloat32=getFloat32,Struct.getFloat64=getFloat64,Struct.getUint8=getUint8,Struct.getUint16=getUint16,Struct.getUint32=getUint32,Struct.getUint64=getUint64,Struct.getInt8=getInt8,Struct.getInt16=getInt16,Struct.getInt32=getInt32,Struct.getInt64=getInt64,Struct.getList=getList,Struct.getPointer=getPointer,Struct.getPointerAs=getPointerAs,Struct.getStruct=getStruct,Struct.getText=getText,Struct.initData=initData,Struct.initList=initList,Struct.initStruct=initStruct,Struct.initStructAt=initStructAt,Struct.setBit=setBit,Struct.setFloat32=setFloat32,Struct.setFloat64=setFloat64,Struct.setUint8=setUint8,Struct.setUint16=setUint16,Struct.setUint32=setUint32,Struct.setUint64=setUint64,Struct.setInt8=setInt8,Struct.setInt16=setInt16,Struct.setInt32=setInt32,Struct.setInt64=setInt64,Struct.setText=setText,Struct.testWhich=testWhich,Struct}(f.Pointer);function initStruct(t,e){if(void 0!==e._capnp.compositeIndex)throw new Error(s.format(m.PTR_INIT_COMPOSITE_STRUCT,e));f.erase(e);var r=e.segment.allocate(l.getByteLength(t)),n=f.initPointer(r.segment,r.byteOffset,e);f.setStructPointer(n.offsetWords,t,n.pointer)}function initStructAt(t,e,r){var n=getPointerAs(t,e,r);return initStruct(e._capnp.size,n),n}function resize(t,e){var r=getSize(e),n=f.getContent(e),o=e.segment.allocate(l.getByteLength(t));o.segment.copyWords(o.byteOffset,n.segment,n.byteOffset,Math.min(l.getDataWordLength(r),l.getDataWordLength(t)));var i=f.initPointer(o.segment,o.byteOffset,e);f.setStructPointer(i.offsetWords,t,i.pointer);for(var a=0;a<Math.min(r.pointerLength,t.pointerLength);a++){var s=new f.Pointer(n.segment,n.byteOffset+r.dataByteLength+8*a),c=f.followFars(s),p=f.getContent(s),h=new f.Pointer(o.segment,o.byteOffset+t.dataByteLength+8*a);f.getTargetPointerType(s)===d.PointerType.LIST&&f.getTargetListElementSize(s)===u.ListElementSize.COMPOSITE&&(p.byteOffset-=8);var m=f.initPointer(p.segment,p.byteOffset,h),y=3&c.segment.getUint8(c.byteOffset),g=c.segment.getUint32(c.byteOffset+4);m.pointer.segment.setUint32(m.pointer.byteOffset,y|m.offsetWords<<2),m.pointer.segment.setUint32(m.pointer.byteOffset+4,g)}n.segment.fillZeroWords(n.byteOffset,l.getWordLength(r))}function getAs(t,e){return new t(e.segment,e.byteOffset,e._capnp.depthLimit,e._capnp.compositeIndex)}function getBit(t,e,r){var n=Math.floor(t/8),o=1<<t%8;checkDataBounds(n,1,e);var i=getDataSection(e),a=i.segment.getUint8(i.byteOffset+n);return void 0===r?0!==(a&o):0!==((a^r.getUint8(0))&o)}function getData(t,e){checkPointerBounds(t,e);var r=getPointerSection(e);r.byteOffset+=8*t;var n=new c.Data(r.segment,r.byteOffset,e._capnp.depthLimit-1);return f.isNull(n)&&p.List.initList(u.ListElementSize.BYTE,0,n),n}function getDataSection(t){return f.getContent(t)}function getFloat32(t,e,r){checkDataBounds(t,4,e);var n=getDataSection(e);if(void 0===r)return n.segment.getFloat32(n.byteOffset+t);var o=n.segment.getUint32(n.byteOffset+t)^r.getUint32(0,!0);return g.setUint32(0,o,i.NATIVE_LITTLE_ENDIAN),g.getFloat32(0,i.NATIVE_LITTLE_ENDIAN)}function getFloat64(t,e,r){checkDataBounds(t,8,e);var n=getDataSection(e);if(void 0!==r){var o=n.segment.getUint32(n.byteOffset+t)^r.getUint32(0,!0),a=n.segment.getUint32(n.byteOffset+t+4)^r.getUint32(4,!0);return g.setUint32(0,o,i.NATIVE_LITTLE_ENDIAN),g.setUint32(4,a,i.NATIVE_LITTLE_ENDIAN),g.getFloat64(0,i.NATIVE_LITTLE_ENDIAN)}return n.segment.getFloat64(n.byteOffset+t)}function getInt16(t,e,r){checkDataBounds(t,2,e);var n=getDataSection(e);if(void 0===r)return n.segment.getInt16(n.byteOffset+t);var o=n.segment.getUint16(n.byteOffset+t)^r.getUint16(0,!0);return g.setUint16(0,o,i.NATIVE_LITTLE_ENDIAN),g.getInt16(0,i.NATIVE_LITTLE_ENDIAN)}function getInt32(t,e,r){checkDataBounds(t,4,e);var n=getDataSection(e);if(void 0===r)return n.segment.getInt32(n.byteOffset+t);var o=n.segment.getUint32(n.byteOffset+t)^r.getUint16(0,!0);return g.setUint32(0,o,i.NATIVE_LITTLE_ENDIAN),g.getInt32(0,i.NATIVE_LITTLE_ENDIAN)}function getInt64(t,e,r){checkDataBounds(t,8,e);var n=getDataSection(e);if(void 0===r)return n.segment.getInt64(n.byteOffset+t);var o=n.segment.getUint32(n.byteOffset+t)^r.getUint32(0,!0),s=n.segment.getUint32(n.byteOffset+t+4)^r.getUint32(4,!0);return g.setUint32(0,o,i.NATIVE_LITTLE_ENDIAN),g.setUint32(4,s,i.NATIVE_LITTLE_ENDIAN),new a.Int64(new Uint8Array(g.buffer.slice(0)))}function getInt8(t,e,r){checkDataBounds(t,1,e);var n=getDataSection(e);if(void 0===r)return n.segment.getInt8(n.byteOffset+t);var o=n.segment.getUint8(n.byteOffset+t)^r.getUint8(0);return g.setUint8(0,o),g.getInt8(0)}function getList(t,e,r){checkPointerBounds(t,r);var n=getPointerSection(r);n.byteOffset+=8*t;var o=new e(n.segment,n.byteOffset,r._capnp.depthLimit-1);if(f.isNull(o))p.List.initList(e._capnp.size,0,o,e._capnp.compositeSize);else if(void 0!==e._capnp.compositeSize){var i=f.getTargetCompositeListSize(o),a=e._capnp.compositeSize;if(a.dataByteLength>i.dataByteLength||a.pointerLength>i.pointerLength){var s=f.getContent(o),c=f.getTargetListLength(o);y("resizing composite list %s due to protocol upgrade, new size: %d",o,l.getByteLength(a)*c);var h=o.segment.allocate(l.getByteLength(a)*c+8),m=f.initPointer(h.segment,h.byteOffset,o);f.setListPointer(m.offsetWords,e._capnp.size,c,m.pointer,a),f.setStructPointer(c,a,h),h.byteOffset+=8;for(var g=0;g<c;g++){var v=s.byteOffset+g*l.getByteLength(i),_=h.byteOffset+g*l.getByteLength(a);h.segment.copyWords(_,s.segment,v,l.getWordLength(i));for(var b=0;b<i.pointerLength;b++){var S=new f.Pointer(s.segment,v+i.dataByteLength+8*b),x=new f.Pointer(h.segment,_+a.dataByteLength+8*b),w=f.followFars(S),E=f.getContent(S);f.getTargetPointerType(S)===d.PointerType.LIST&&f.getTargetListElementSize(S)===u.ListElementSize.COMPOSITE&&(E.byteOffset-=8);var P=f.initPointer(E.segment,E.byteOffset,x),C=3&w.segment.getUint8(w.byteOffset),T=w.segment.getUint32(w.byteOffset+4);P.pointer.segment.setUint32(P.pointer.byteOffset,C|P.offsetWords<<2),P.pointer.segment.setUint32(P.pointer.byteOffset+4,T)}}s.segment.fillZeroWords(s.byteOffset,l.getWordLength(i)*c)}}return o}function getPointer(t,e){checkPointerBounds(t,e);var r=getPointerSection(e);return r.byteOffset+=8*t,new f.Pointer(r.segment,r.byteOffset,e._capnp.depthLimit-1)}function getPointerAs(t,e,r){checkPointerBounds(t,r);var n=getPointerSection(r);return n.byteOffset+=8*t,new e(n.segment,n.byteOffset,r._capnp.depthLimit-1)}function getPointerSection(t){var e=f.getContent(t);return e.byteOffset+=s.padToWord(getSize(t).dataByteLength),e}function getSize(t){if(void 0!==t._capnp.compositeIndex){var e=f.getContent(t,!0);return e.byteOffset-=8,f.getStructSize(e)}return f.getTargetStructSize(t)}function getStruct(t,e,r){var n=getPointerAs(t,e,r);if(f.isNull(n))initStruct(e._capnp.size,n);else{f.validate(d.PointerType.STRUCT,n);var o=f.getTargetStructSize(n);(o.dataByteLength<e._capnp.size.dataByteLength||o.pointerLength<e._capnp.size.pointerLength)&&(y("need to resize child struct %s",n),resize(e._capnp.size,n))}return n}function getText(t,e){return h.Text.fromPointer(getPointer(t,e)).get(0)}function getUint16(t,e,r){checkDataBounds(t,2,e);var n=getDataSection(e);return void 0===r?n.segment.getUint16(n.byteOffset+t):n.segment.getUint16(n.byteOffset+t)^r.getUint16(0,!0)}function getUint32(t,e,r){checkDataBounds(t,4,e);var n=getDataSection(e);return void 0===r?n.segment.getUint32(n.byteOffset+t):n.segment.getUint32(n.byteOffset+t)^r.getUint32(0,!0)}function getUint64(t,e,r){checkDataBounds(t,8,e);var n=getDataSection(e);if(void 0===r)return n.segment.getUint64(n.byteOffset+t);var o=n.segment.getUint32(n.byteOffset+t)^r.getUint32(0,!0),s=n.segment.getUint32(n.byteOffset+t+4)^r.getUint32(4,!0);return g.setUint32(0,o,i.NATIVE_LITTLE_ENDIAN),g.setUint32(4,s,i.NATIVE_LITTLE_ENDIAN),new a.Uint64(new Uint8Array(g.buffer.slice(0)))}function getUint8(t,e,r){checkDataBounds(t,1,e);var n=getDataSection(e);return void 0===r?n.segment.getUint8(n.byteOffset+t):n.segment.getUint8(n.byteOffset+t)^r.getUint8(0)}function initData(t,e,r){checkPointerBounds(t,r);var n=getPointerSection(r);n.byteOffset+=8*t;var o=new c.Data(n.segment,n.byteOffset,r._capnp.depthLimit-1);return f.erase(o),p.List.initList(u.ListElementSize.BYTE,e,o),o}function initList(t,e,r,n){checkPointerBounds(t,n);var o=getPointerSection(n);o.byteOffset+=8*t;var i=new e(o.segment,o.byteOffset,n._capnp.depthLimit-1);return f.erase(i),p.List.initList(e._capnp.size,r,i,e._capnp.compositeSize),i}function setBit(t,e,r,n){var o=Math.floor(t/8),i=1<<t%8;checkDataBounds(o,1,r);var a=getDataSection(r),s=a.segment.getUint8(a.byteOffset+o);void 0!==n&&(e=0!==(n.getUint8(0)&i)?!e:e),a.segment.setUint8(a.byteOffset+o,e?s|i:s&~i)}function setFloat32(t,e,r,n){checkDataBounds(t,4,r);var o=getDataSection(r);if(void 0===n)o.segment.setFloat32(o.byteOffset+t,e);else{g.setFloat32(0,e,i.NATIVE_LITTLE_ENDIAN);var a=g.getUint32(0,i.NATIVE_LITTLE_ENDIAN)^n.getUint32(0,!0);o.segment.setUint32(o.byteOffset+t,a)}}function setFloat64(t,e,r,n){checkDataBounds(t,8,r);var o=getDataSection(r);if(void 0!==n){g.setFloat64(0,e,i.NATIVE_LITTLE_ENDIAN);var a=g.getUint32(0,i.NATIVE_LITTLE_ENDIAN)^n.getUint32(0,!0),s=g.getUint32(4,i.NATIVE_LITTLE_ENDIAN)^n.getUint32(4,!0);return o.segment.setUint32(o.byteOffset+t,a),void o.segment.setUint32(o.byteOffset+t+4,s)}o.segment.setFloat64(o.byteOffset+t,e)}function setInt16(t,e,r,n){checkDataBounds(t,2,r);var o=getDataSection(r);if(void 0===n)o.segment.setInt16(o.byteOffset+t,e);else{g.setInt16(0,e,i.NATIVE_LITTLE_ENDIAN);var a=g.getUint16(0,i.NATIVE_LITTLE_ENDIAN)^n.getUint16(0,!0);o.segment.setUint16(o.byteOffset+t,a)}}function setInt32(t,e,r,n){checkDataBounds(t,4,r);var o=getDataSection(r);if(void 0===n)o.segment.setInt32(o.byteOffset+t,e);else{g.setInt32(0,e,i.NATIVE_LITTLE_ENDIAN);var a=g.getUint32(0,i.NATIVE_LITTLE_ENDIAN)^n.getUint32(0,!0);o.segment.setUint32(o.byteOffset+t,a)}}function setInt64(t,e,r,n){checkDataBounds(t,8,r);var o=getDataSection(r);if(void 0===n)o.segment.setInt64(o.byteOffset+t,e);else for(var i=0;i<8;i++)o.segment.setUint8(o.byteOffset+t+i,e.buffer[i]^n.getUint8(i))}function setInt8(t,e,r,n){checkDataBounds(t,1,r);var o=getDataSection(r);if(void 0===n)o.segment.setInt8(o.byteOffset+t,e);else{g.setInt8(0,e);var i=g.getUint8(0)^n.getUint8(0);o.segment.setUint8(o.byteOffset+t,i)}}function setText(t,e,r){h.Text.fromPointer(getPointer(t,r)).set(0,e)}function setUint16(t,e,r,n){checkDataBounds(t,2,r);var o=getDataSection(r);void 0!==n&&(e^=n.getUint16(0,!0)),o.segment.setUint16(o.byteOffset+t,e)}function setUint32(t,e,r,n){checkDataBounds(t,4,r);var o=getDataSection(r);void 0!==n&&(e^=n.getUint32(0,!0)),o.segment.setUint32(o.byteOffset+t,e)}function setUint64(t,e,r,n){checkDataBounds(t,8,r);var o=getDataSection(r);if(void 0===n)o.segment.setUint64(o.byteOffset+t,e);else for(var i=0;i<8;i++)o.segment.setUint8(o.byteOffset+t+i,e.buffer[i]^n.getUint8(i))}function setUint8(t,e,r,n){checkDataBounds(t,1,r);var o=getDataSection(r);void 0!==n&&(e^=n.getUint8(0)),o.segment.setUint8(o.byteOffset+t,e)}function testWhich(t,e,r,n){if(e!==r)throw new Error(s.format(m.PTR_INVALID_UNION_ACCESS,n,t,e,r))}function checkDataBounds(t,e,r){var n=getSize(r).dataByteLength;if(t<0||e<0||t+e>n)throw new Error(s.format(m.PTR_STRUCT_DATA_OUT_OF_BOUNDS,r,e,t,n))}function checkPointerBounds(t,e){var r=getSize(e).pointerLength;if(t<0||t>=r)throw new Error(s.format(m.PTR_STRUCT_POINTER_OUT_OF_BOUNDS,e,t,r))}e.Struct=v,e.initStruct=initStruct,e.initStructAt=initStructAt,e.resize=resize,e.adopt=function adopt(t,e){if(void 0!==e._capnp.compositeIndex)throw new Error(s.format(m.PTR_ADOPT_COMPOSITE_STRUCT,e));f.Pointer.adopt(t,e)},e.disown=function disown(t){if(void 0!==t._capnp.compositeIndex)throw new Error(s.format(m.PTR_DISOWN_COMPOSITE_STRUCT,t));return f.Pointer.disown(t)},e.getAs=getAs,e.getBit=getBit,e.getData=getData,e.getDataSection=getDataSection,e.getFloat32=getFloat32,e.getFloat64=getFloat64,e.getInt16=getInt16,e.getInt32=getInt32,e.getInt64=getInt64,e.getInt8=getInt8,e.getList=getList,e.getPointer=getPointer,e.getPointerAs=getPointerAs,e.getPointerSection=getPointerSection,e.getSize=getSize,e.getStruct=getStruct,e.getText=getText,e.getUint16=getUint16,e.getUint32=getUint32,e.getUint64=getUint64,e.getUint8=getUint8,e.initData=initData,e.initList=initList,e.setBit=setBit,e.setFloat32=setFloat32,e.setFloat64=setFloat64,e.setInt16=setInt16,e.setInt32=setInt32,e.setInt64=setInt64,e.setInt8=setInt8,e.setPointer=function setPointer(t,e,r){f.copyFrom(e,getPointer(t,r))},e.setText=setText,e.setUint16=setUint16,e.setUint32=setUint32,e.setUint64=setUint64,e.setUint8=setUint8,e.testWhich=testWhich,e.checkDataBounds=checkDataBounds,e.checkPointerBounds=checkPointerBounds},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(873);e.Int64=n.Int64;var o=r(374);e.Uint64=o.Uint64},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(79),a=r(59),s=r(65),u=r(50),l=r(143),c=o.default("capnp:text");c("load");var p=function(t){function Text(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Text,t),Text.fromPointer=function(t){return u.validate(l.PointerType.LIST,t,a.ListElementSize.BYTE),textFromPointerUnchecked(t)},Text.prototype.get=function(t){if(void 0===t&&(t=0),0!==t&&c("Called get() on %s with a strange index (%d).",this,t),u.isNull(this))return"";var e=u.getContent(this);return i.decodeUtf8(new Uint8Array(e.segment.buffer,e.byteOffset+t,this.getLength()-t))},Text.prototype.getLength=function(){return t.prototype.getLength.call(this)-1},Text.prototype.set=function(t,e){0!==t&&c("Called set() on %s with a strange index (%d).",this,t);var r,n,o=i.encodeUtf8(e),l=o.byteLength+t;if(!u.isNull(this)){r=u.getContent(this);var p=this.getLength();p>=t?p=t:c("%d byte gap exists between original text and new text in %s.",t-p,this),n=new Uint8Array(r.segment.buffer.slice(r.byteOffset,r.byteOffset+Math.min(p,t))),u.erase(this)}s.initList(a.ListElementSize.BYTE,l+1,this),r=u.getContent(this);var f=new Uint8Array(r.segment.buffer,r.byteOffset,l);n&&f.set(n),f.set(o,t)},Text.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},Text}(s.List);function textFromPointerUnchecked(t){return new p(t.segment,t.byteOffset,t._capnp.depthLimit)}e.Text=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(904))},function(t,e,r){var n=r(82),o=r(53),i=r(136);t.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*i((function(){r(1)})),"Object",a)}},function(t,e){t.exports=function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){var n=r(980);t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var r,o,i=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleLoadStart=function handleLoadStart(t){return{type:n,videoProps:t}},e.handleCanPlay=function handleCanPlay(t){return{type:o,videoProps:t}},e.handleWaiting=function handleWaiting(t){return{type:i,videoProps:t}},e.handleCanPlayThrough=function handleCanPlayThrough(t){return{type:a,videoProps:t}},e.handlePlaying=function handlePlaying(t){return{type:s,videoProps:t}},e.handlePlay=function handlePlay(t){return{type:u,videoProps:t}},e.handlePause=function handlePause(t){return{type:l,videoProps:t}},e.handleEnd=function handleEnd(t){return{type:c,videoProps:t}},e.handleSeeking=function handleSeeking(t){return{type:p,videoProps:t}},e.handleSeeked=function handleSeeked(t){return{type:f,videoProps:t}},e.handleDurationChange=function handleDurationChange(t){return{type:m,videoProps:t}},e.handleTimeUpdate=function handleTimeUpdate(t){return{type:y,videoProps:t}},e.handleVolumeChange=function handleVolumeChange(t){return{type:g,videoProps:t}},e.handleProgressChange=function handleProgressChange(t){return{type:v,videoProps:t}},e.handleRateChange=function handleRateChange(t){return{type:_,videoProps:t}},e.handleSuspend=function handleSuspend(t){return{type:b,videoProps:t}},e.handleAbort=function handleAbort(t){return{type:S,videoProps:t}},e.handleEmptied=function handleEmptied(t){return{type:x,videoProps:t}},e.handleStalled=function handleStalled(t){return{type:w,videoProps:t}},e.handleLoadedMetaData=function handleLoadedMetaData(t){return{type:E,videoProps:t}},e.handleLoadedData=function handleLoadedData(t){return{type:P,videoProps:t}},e.handleResize=function handleResize(t){return{type:C,videoProps:t}},e.handleError=function handleError(t){return{type:T,videoProps:t}},e.handleSeekingTime=function handleSeekingTime(t){return{type:d,time:t}},e.handleEndSeeking=function handleEndSeeking(t){return{type:h,time:t}},e.activateTextTrack=function activateTextTrack(t){return{type:D,textTrack:t}},e.ACTIVATE_TEXT_TRACK=e.ERROR=e.RESIZE=e.LOADED_DATA=e.LOADED_META_DATA=e.STALLED=e.EMPTIED=e.ABORT=e.SUSPEND=e.RATE_CHANGE=e.PROGRESS_CHANGE=e.VOLUME_CHANGE=e.TIME_UPDATE=e.DURATION_CHANGE=e.END_SEEKING=e.SEEKING_TIME=e.SEEKED=e.SEEKING=e.END=e.PAUSE=e.PLAY=e.PLAYING=e.CAN_PLAY_THROUGH=e.WAITING=e.CAN_PLAY=e.LOAD_START=void 0;var n="video-react/LOAD_START";e.LOAD_START=n;var o="video-react/CAN_PLAY";e.CAN_PLAY=o;var i="video-react/WAITING";e.WAITING=i;var a="video-react/CAN_PLAY_THROUGH";e.CAN_PLAY_THROUGH=a;var s="video-react/PLAYING";e.PLAYING=s;var u="video-react/PLAY";e.PLAY=u;var l="video-react/PAUSE";e.PAUSE=l;var c="video-react/END";e.END=c;var p="video-react/SEEKING";e.SEEKING=p;var f="video-react/SEEKED";e.SEEKED=f;var d="video-react/SEEKING_TIME";e.SEEKING_TIME=d;var h="video-react/END_SEEKING";e.END_SEEKING=h;var m="video-react/DURATION_CHANGE";e.DURATION_CHANGE=m;var y="video-react/TIME_UPDATE";e.TIME_UPDATE=y;var g="video-react/VOLUME_CHANGE";e.VOLUME_CHANGE=g;var v="video-react/PROGRESS_CHANGE";e.PROGRESS_CHANGE=v;var _="video-react/RATE_CHANGE";e.RATE_CHANGE=_;var b="video-react/SUSPEND";e.SUSPEND=b;var S="video-react/ABORT";e.ABORT=S;var x="video-react/EMPTIED";e.EMPTIED=x;var w="video-react/STALLED";e.STALLED=w;var E="video-react/LOADED_META_DATA";e.LOADED_META_DATA=E;var P="video-react/LOADED_DATA";e.LOADED_DATA=P;var C="video-react/RESIZE";e.RESIZE=C;var T="video-react/ERROR";e.ERROR=T;var D="video-react/ACTIVATE_TEXT_TRACK";e.ACTIVATE_TEXT_TRACK=D},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h=n(r(202)),m={className:p.default.string,onMouseDown:p.default.func,onMouseMove:p.default.func,stepForward:p.default.func,stepBack:p.default.func,sliderActive:p.default.func,sliderInactive:p.default.func,onMouseUp:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onClick:p.default.func,getPercent:p.default.func,vertical:p.default.bool,children:p.default.node,label:p.default.string,valuenow:p.default.string,valuetext:p.default.string},y=function(t){function Slider(t,e){var r;return(0,i.default)(this,Slider),(r=(0,s.default)(this,(0,u.default)(Slider).call(this,t,e))).handleMouseDown=r.handleMouseDown.bind((0,l.default)(r)),r.handleMouseMove=r.handleMouseMove.bind((0,l.default)(r)),r.handleMouseUp=r.handleMouseUp.bind((0,l.default)(r)),r.handleFocus=r.handleFocus.bind((0,l.default)(r)),r.handleBlur=r.handleBlur.bind((0,l.default)(r)),r.handleClick=r.handleClick.bind((0,l.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,l.default)(r)),r.stepForward=r.stepForward.bind((0,l.default)(r)),r.stepBack=r.stepBack.bind((0,l.default)(r)),r.calculateDistance=r.calculateDistance.bind((0,l.default)(r)),r.getProgress=r.getProgress.bind((0,l.default)(r)),r.renderChildren=r.renderChildren.bind((0,l.default)(r)),r.state={active:!1},r}return(0,c.default)(Slider,t),(0,a.default)(Slider,[{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"getProgress",value:function getProgress(){var t=this.props.getPercent;if(!t)return 0;var e=t();return("number"!==typeof e||e<0||e===1/0)&&(e=0),e}},{key:"handleMouseDown",value:function handleMouseDown(t){var e=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(t),this.handleMouseMove(t),e&&e(t)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.onMouseMove;e&&e(t)}},{key:"handleMouseUp",value:function handleMouseUp(t){t.preventDefault();var e=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(t),e&&e(t)}},{key:"handleFocus",value:function handleFocus(t){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(t)}},{key:"handleClick",value:function handleClick(t){t.preventDefault(),this.props.onClick&&this.props.onClick(t)}},{key:"handleKeyPress",value:function handleKeyPress(t){37===t.which||40===t.which?(t.preventDefault(),t.stopPropagation(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),t.stopPropagation(),this.stepForward())}},{key:"stepForward",value:function stepForward(){this.props.stepForward&&this.props.stepForward()}},{key:"stepBack",value:function stepBack(){this.props.stepBack&&this.props.stepBack()}},{key:"calculateDistance",value:function calculateDistance(t){var e=this.slider,r=h.getPointerPosition(e,t);return this.props.vertical?r.y:r.x}},{key:"renderChildren",value:function renderChildren(){var t=this.getProgress(),e="".concat((100*t).toFixed(2),"%");return f.default.Children.map(this.props.children,(function(r){return f.default.cloneElement(r,{progress:t,percentage:e})}))}},{key:"render",value:function render(){var t=this,e=this.props,r=e.vertical,n=e.label,o=e.valuenow,i=e.valuetext;return f.default.createElement("div",{className:(0,d.default)(this.props.className,{"video-react-slider-vertical":r,"video-react-slider-horizontal":!r,"video-react-sliding":this.state.active},"video-react-slider"),ref:function ref(e){t.slider=e},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":n||"","aria-valuenow":o||"","aria-valuetext":i||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),Slider}(f.Component);e.default=y,y.propTypes=m,y.displayName="Slider"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h=o(r(276)),m={player:p.default.object,actions:p.default.object,rates:p.default.array,className:p.default.string},y=function(t){function PlaybackRateMenuButton(t,e){var r;return(0,i.default)(this,PlaybackRateMenuButton),(r=(0,s.default)(this,(0,u.default)(PlaybackRateMenuButton).call(this,t,e))).handleSelectItem=r.handleSelectItem.bind((0,l.default)(r)),r}return(0,c.default)(PlaybackRateMenuButton,t),(0,a.default)(PlaybackRateMenuButton,[{key:"handleSelectItem",value:function handleSelectItem(t){var e=this.props,r=e.rates,n=e.actions;t>=0&&t<r.length&&n.changeRate(r[t])}},{key:"render",value:function render(){var t=this.props,e=t.rates,r=t.player,n=e.map((function(t){return{label:"".concat(t,"x"),value:t}})),o=e.indexOf(r.playbackRate)||0;return f.default.createElement(h.default,{className:(0,d.default)("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:n,selectedIndex:o},f.default.createElement("span",{className:"video-react-control-text"},"Playback Rate"),f.default.createElement("div",{className:"video-react-playback-rate-value"},"".concat(r.playbackRate.toFixed(2),"x")))}}]),PlaybackRateMenuButton}(f.Component);y.propTypes=m,y.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},y.displayName="PlaybackRateMenuButton";var g=y;e.default=g},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h=o(r(994)),m=o(r(995)),y=o(r(412)),g={inline:p.default.bool,items:p.default.array,className:p.default.string,onSelectItem:p.default.func,children:p.default.any,selectedIndex:p.default.number},v=function(t){function MenuButton(t,e){var r;return(0,i.default)(this,MenuButton),(r=(0,s.default)(this,(0,u.default)(MenuButton).call(this,t,e))).state={active:!1,activateIndex:t.selectedIndex||0},r.commitSelection=r.commitSelection.bind((0,l.default)(r)),r.activateMenuItem=r.activateMenuItem.bind((0,l.default)(r)),r.handleClick=r.handleClick.bind((0,l.default)(r)),r.renderMenu=r.renderMenu.bind((0,l.default)(r)),r.handleFocus=r.handleFocus.bind((0,l.default)(r)),r.handleBlur=r.handleBlur.bind((0,l.default)(r)),r.handleUpArrow=r.handleUpArrow.bind((0,l.default)(r)),r.handleDownArrow=r.handleDownArrow.bind((0,l.default)(r)),r.handleEscape=r.handleEscape.bind((0,l.default)(r)),r.handleReturn=r.handleReturn.bind((0,l.default)(r)),r.handleTab=r.handleTab.bind((0,l.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,l.default)(r)),r.handleSelectItem=r.handleSelectItem.bind((0,l.default)(r)),r.handleIndexChange=r.handleIndexChange.bind((0,l.default)(r)),r}return(0,c.default)(MenuButton,t),(0,a.default)(MenuButton,[{key:"componentDidUpdate",value:function componentDidUpdate(t){t.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:"commitSelection",value:function commitSelection(t){this.setState({activateIndex:t}),this.handleIndexChange(t)}},{key:"activateMenuItem",value:function activateMenuItem(t){this.setState({activateIndex:t}),this.handleIndexChange(t)}},{key:"handleIndexChange",value:function handleIndexChange(t){(0,this.props.onSelectItem)(t)}},{key:"handleClick",value:function handleClick(){this.setState((function(t){return{active:!t.active}}))}},{key:"handleFocus",value:function handleFocus(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleBlur",value:function handleBlur(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleUpArrow",value:function handleUpArrow(t){var e=this.props.items;if(this.state.active){t.preventDefault();var r=this.state.activateIndex-1;r<0&&(r=e.length?e.length-1:0),this.activateMenuItem(r)}}},{key:"handleDownArrow",value:function handleDownArrow(t){var e=this.props.items;if(this.state.active){t.preventDefault();var r=this.state.activateIndex+1;r>=e.length&&(r=0),this.activateMenuItem(r)}}},{key:"handleTab",value:function handleTab(t){this.state.active&&(t.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:"handleReturn",value:function handleReturn(t){t.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:"handleEscape",value:function handleEscape(){this.setState({active:!1,activateIndex:0})}},{key:"handleKeyPress",value:function handleKeyPress(t){27===t.which?this.handleEscape(t):9===t.which?this.handleTab(t):13===t.which?this.handleReturn(t):38===t.which?this.handleUpArrow(t):40===t.which&&this.handleDownArrow(t)}},{key:"handleSelectItem",value:function handleSelectItem(t){this.commitSelection(t)}},{key:"renderMenu",value:function renderMenu(){var t=this;if(!this.state.active)return null;var e=this.props.items;return f.default.createElement(h.default,null,e.map((function(e,r){return f.default.createElement(m.default,{item:e,index:r,onSelectItem:t.handleSelectItem,activateIndex:t.state.activateIndex,key:"item-".concat(r++)})})))}},{key:"render",value:function render(){var t=this,e=this.props,r=e.inline,n=e.className;return f.default.createElement(y.default,{className:(0,d.default)(n,{"video-react-menu-button-inline":!!r,"video-react-menu-button-popup":!r,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function ref(e){t.menuButton=e},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),MenuButton}(f.Component);e.default=v,v.propTypes=g,v.displayName="MenuButton"},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(1003))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(1004))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(1005))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isValid(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e);return!isNaN(r)};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";function isAbsolute(t){return"/"===t.charAt(0)}function spliceOne(t,e){for(var r=e,n=r+1,o=t.length;n<o;r+=1,n+=1)t[r]=t[n];t.pop()}r.r(e),e.default=function resolvePathname(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t&&t.split("/")||[],n=e&&e.split("/")||[],o=t&&isAbsolute(t),i=e&&isAbsolute(e),a=o||i;if(t&&isAbsolute(t)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var s=void 0;if(n.length){var u=n[n.length-1];s="."===u||".."===u||""===u}else s=!1;for(var l=0,c=n.length;c>=0;c--){var p=n[c];"."===p?spliceOne(n,c):".."===p?(spliceOne(n,c),l++):l&&(spliceOne(n,c),l--)}if(!a)for(;l--;l)n.unshift("..");!a||""===n[0]||n[0]&&isAbsolute(n[0])||n.unshift("");var f=n.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f}},function(t,e,r){"use strict";r.r(e);var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function valueEqual(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every((function(t,r){return valueEqual(t,e[r])}));var r="undefined"===typeof t?"undefined":n(t);if(r!==("undefined"===typeof e?"undefined":n(e)))return!1;if("object"===r){var o=t.valueOf(),i=e.valueOf();if(o!==t||i!==e)return valueEqual(o,i);var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(r){return valueEqual(t[r],e[r])}))}return!1}},function(t,e){t.exports=function Collector(){var t=[],e=[];return function collectOrRun(){if(0===arguments.length){var r=t.slice().filter((function(t){return!t.deleted}));if(t=[],r=r.map(run),e.length)throw e;return r}var n=Array.prototype.slice.call(arguments);return t=t.concat(n.map(FnEntry)),function removeFromQueue(){return n.map((function(e){for(var r=0;r<t.length;r++)if(t[r].fn===e){t[r].deleted=!0,t.splice(r,1);break}}))}};function run(t){try{return t.fn()}catch(r){return e.push(r),r}}function FnEntry(t){return this instanceof FnEntry?(this.fn=t,this.deleted=!1,this):new FnEntry(t)}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(662));e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,n.default)(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=_interopRequireDefault(r(670)),o=_interopRequireDefault(r(673));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function sliceIterator(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(t);!(n=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(l){i=!0,a=l}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},,function(t,e){t.exports=function cross(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],s=r[1],u=r[2];return t[0]=o*u-i*s,t[1]=i*a-n*u,t[2]=n*s-o*a,t}},function(t,e){t.exports=function length(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},function(t,e,r){t.exports=r(968)},function(t,e){t.exports=function setAxisAngle(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}},function(t,e){t.exports=function scale(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addDays(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=Number(e);return o.setDate(o.getDate()+i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfDay(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e);return r.setHours(23,59,59,999),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfWeek(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=e||{},o=r.locale,i=o&&o.options&&o.options.weekStartsOn,a=void 0===i?0:Number(i),s=void 0===r.weekStartsOn?a:Number(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,n.default)(t,r),l=u.getDay(),c=6+(l<s?-7:0)-(l-s);return u.setDate(u.getDate()+c),u.setHours(23,59,59,999),u};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e),o=r.getFullYear();return r.setFullYear(o+1,0,0),r.setHours(23,59,59,999),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e);return r.setDate(1),r.setHours(0,0,0,0),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfWeek(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=e||{},o=r.locale,i=o&&o.options&&o.options.weekStartsOn,a=void 0===i?0:Number(i),s=void 0===r.weekStartsOn?a:Number(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,n.default)(t,r),l=u.getDay(),c=(l<s?7:0)+l-s;return u.setDate(u.getDate()-c),u.setHours(0,0,0,0),u};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function startOfYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e),o=new Date(0);return o.setFullYear(r.getFullYear(),0,1),o.setHours(0,0,0,0),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";var n=_interopRequireDefault(r(833)),o=_interopRequireDefault(r(840)),i=_interopRequireDefault(r(368)),a=_interopRequireDefault(r(366));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:n.default}},function(t,e,r){"use strict";(function(t){for(var r="undefined"!==typeof window&&"undefined"!==typeof document,n=["Edge","Trident","Firefox"],o=0,i=0;i<n.length;i+=1)if(r&&navigator.userAgent.indexOf(n[i])>=0){o=1;break}var a=r&&window.Promise?function microtaskDebounce(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function taskDebounce(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),o))}};function isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}function getStyleComputedProperty(t,e){if(1!==t.nodeType)return[];var r=getComputedStyle(t,null);return e?r[e]:r}function getParentNode(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function getScrollParent(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=getStyleComputedProperty(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?t:getScrollParent(getParentNode(t))}var s=r&&!(!window.MSInputMethodContext||!document.documentMode),u=r&&/MSIE 10/.test(navigator.userAgent);function isIE(t){return 11===t?s:10===t?u:s||u}function getOffsetParent(t){if(!t)return document.documentElement;for(var e=isIE(10)?document.body:null,r=t.offsetParent;r===e&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(r.nodeName)&&"static"===getStyleComputedProperty(r,"position")?getOffsetParent(r):r:t?t.ownerDocument.documentElement:document.documentElement}function getRoot(t){return null!==t.parentNode?getRoot(t.parentNode):t}function findCommonOffsetParent(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?t:e,o=r?e:t,i=document.createRange();i.setStart(n,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(t!==a&&e!==a||n.contains(o))return function isOffsetContainer(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||getOffsetParent(t.firstElementChild)===t)}(a)?a:getOffsetParent(a);var s=getRoot(t);return s.host?findCommonOffsetParent(s.host,e):findCommonOffsetParent(t,getRoot(e).host)}function getScroll(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function getBordersSize(t,e){var r="x"===e?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(t["border"+r+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function getSize(t,e,r,n){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],isIE(10)?r["offset"+t]+n["margin"+("Height"===t?"Top":"Left")]+n["margin"+("Height"===t?"Bottom":"Right")]:0)}function getWindowSizes(){var t=document.body,e=document.documentElement,r=isIE(10)&&getComputedStyle(e);return{height:getSize("Height",t,e,r),width:getSize("Width",t,e,r)}}var l=function classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),p=function defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function getClientRect(t){return f({},t,{right:t.left+t.width,bottom:t.top+t.height})}function getBoundingClientRect(t){var e={};try{if(isIE(10)){e=t.getBoundingClientRect();var r=getScroll(t,"top"),n=getScroll(t,"left");e.top+=r,e.left+=n,e.bottom+=r,e.right+=n}else e=t.getBoundingClientRect()}catch(p){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?getWindowSizes():{},a=i.width||t.clientWidth||o.right-o.left,s=i.height||t.clientHeight||o.bottom-o.top,u=t.offsetWidth-a,l=t.offsetHeight-s;if(u||l){var c=getStyleComputedProperty(t);u-=getBordersSize(c,"x"),l-=getBordersSize(c,"y"),o.width-=u,o.height-=l}return getClientRect(o)}function getOffsetRectRelativeToArbitraryNode(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=isIE(10),o="HTML"===e.nodeName,i=getBoundingClientRect(t),a=getBoundingClientRect(e),s=getScrollParent(t),u=getStyleComputedProperty(e),l=parseFloat(u.borderTopWidth,10),c=parseFloat(u.borderLeftWidth,10);r&&"HTML"===e.nodeName&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=getClientRect({top:i.top-a.top-l,left:i.left-a.left-c,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!n&&o){var f=parseFloat(u.marginTop,10),d=parseFloat(u.marginLeft,10);p.top-=l-f,p.bottom-=l-f,p.left-=c-d,p.right-=c-d,p.marginTop=f,p.marginLeft=d}return(n&&!r?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(p=function includeScroll(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=getScroll(e,"top"),o=getScroll(e,"left"),i=r?-1:1;return t.top+=n*i,t.bottom+=n*i,t.left+=o*i,t.right+=o*i,t}(p,e)),p}function getFixedPositionOffsetParent(t){if(!t||!t.parentElement||isIE())return document.documentElement;for(var e=t.parentElement;e&&"none"===getStyleComputedProperty(e,"transform");)e=e.parentElement;return e||document.documentElement}function getBoundaries(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,e);if("viewport"===n)i=function getViewportOffsetRectRelativeToArtbitraryNode(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.ownerDocument.documentElement,n=getOffsetRectRelativeToArbitraryNode(t,r),o=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=e?0:getScroll(r),s=e?0:getScroll(r,"left");return getClientRect({top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===n?"BODY"===(s=getScrollParent(getParentNode(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===n?t.ownerDocument.documentElement:n;var u=getOffsetRectRelativeToArbitraryNode(s,a,o);if("HTML"!==s.nodeName||function isFixed(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===getStyleComputedProperty(t,"position")||isFixed(getParentNode(t)))}(a))i=u;else{var l=getWindowSizes(),c=l.height,p=l.width;i.top+=u.top-u.marginTop,i.bottom=c+u.top,i.left+=u.left-u.marginLeft,i.right=p+u.left}}return i.left+=r,i.top+=r,i.right-=r,i.bottom-=r,i}function computeAutoPlacement(t,e,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=getBoundaries(r,n,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return f({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),l=u.filter((function(t){var e=t.width,n=t.height;return e>=r.clientWidth&&n>=r.clientHeight})),c=l.length>0?l[0].key:u[0].key,p=t.split("-")[1];return c+(p?"-"+p:"")}function getReferenceOffsets(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(r,n?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,r),n)}function getOuterSizes(t){var e=getComputedStyle(t),r=parseFloat(e.marginTop)+parseFloat(e.marginBottom),n=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+n,height:t.offsetHeight+r}}function getOppositePlacement(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function getPopperOffsets(t,e,r){r=r.split("-")[0];var n=getOuterSizes(t),o={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",l=i?"width":"height";return o[a]=e[a]+e[u]/2-n[u]/2,o[s]=r===s?e[s]-n[l]:e[getOppositePlacement(s)],o}function find(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function runModifiers(t,e,r){return(void 0===r?t:t.slice(0,function findIndex(t,e,r){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===r}));var n=find(t,(function(t){return t[e]===r}));return t.indexOf(n)}(t,"name",r))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&isFunction(r)&&(e.offsets.popper=getClientRect(e.offsets.popper),e.offsets.reference=getClientRect(e.offsets.reference),e=r(e,t))})),e}function update(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=computeAutoPlacement(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=getPopperOffsets(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=runModifiers(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function isModifierEnabled(t,e){return t.some((function(t){var r=t.name;return t.enabled&&r===e}))}function getSupportedPropertyName(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var o=e[n],i=o?""+o+r:t;if("undefined"!==typeof document.body.style[i])return i}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(t){var e=t.ownerDocument;return e?e.defaultView:window}function setupEventListeners(t,e,r,n){r.updateBound=n,getWindow(t).addEventListener("resize",r.updateBound,{passive:!0});var o=getScrollParent(t);return function attachToScrollParents(t,e,r,n){var o="BODY"===t.nodeName,i=o?t.ownerDocument.defaultView:t;i.addEventListener(e,r,{passive:!0}),o||attachToScrollParents(getScrollParent(i.parentNode),e,r,n),n.push(i)}(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(t,e){return getWindow(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function isNumeric(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function setStyles(t,e){Object.keys(e).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&isNumeric(e[r])&&(n="px"),t.style[r]=e[r]+n}))}function isModifierRequired(t,e,r){var n=find(t,(function(t){return t.name===e})),o=!!n&&t.some((function(t){return t.name===r&&t.enabled&&t.order<n.order}));if(!o){var i="`"+e+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var d=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],h=d.slice(3);function clockwise(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=h.indexOf(t),n=h.slice(r+1).concat(h.slice(0,r));return e?n.reverse():n}var m={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(t,e,r,n){var o=[0,0],i=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(find(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(t,n){var o=(1===n?!i:i)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function toValue(t,e,r,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return getClientRect(s)[e]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(t,o,e,r)}))}))).forEach((function(t,e){t.forEach((function(r,n){isNumeric(r)&&(o[e]+=r*("-"===t[n-1]?-1:1))}))})),o}var y={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(t){var e=t.placement,r=e.split("-")[0],n=e.split("-")[1];if(n){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",l=s?"width":"height",c={start:p({},u,i[u]),end:p({},u,i[u]+i[l]-a[l])};t.offsets.popper=f({},a,c[n])}return t}},offset:{order:200,enabled:!0,fn:function offset(t,e){var r=e.offset,n=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=n.split("-")[0],u=void 0;return u=isNumeric(+r)?[+r,0]:parseOffset(r,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(t,e){var r=e.boundariesElement||getOffsetParent(t.instance.popper);t.instance.reference===r&&(r=getOffsetParent(r));var n=getSupportedPropertyName("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var u=getBoundaries(t.instance.popper,t.instance.reference,e.padding,r,t.positionFixed);o.top=i,o.left=a,o[n]=s,e.boundaries=u;var l=e.priority,c=t.offsets.popper,d={primary:function primary(t){var r=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(r=Math.max(c[t],u[t])),p({},t,r)},secondary:function secondary(t){var r="right"===t?"left":"top",n=c[r];return c[t]>u[t]&&!e.escapeWithReference&&(n=Math.min(c[r],u[t]-("right"===t?c.width:c.height))),p({},r,n)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=f({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(t){var e=t.offsets,r=e.popper,n=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return r[s]<i(n[u])&&(t.offsets.popper[u]=i(n[u])-r[l]),r[u]>i(n[s])&&(t.offsets.popper[u]=i(n[s])),t}},arrow:{order:500,enabled:!0,fn:function arrow(t,e){var r;if(!isModifierRequired(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"===typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],i=t.offsets,a=i.popper,s=i.reference,u=-1!==["left","right"].indexOf(o),l=u?"height":"width",c=u?"Top":"Left",f=c.toLowerCase(),d=u?"left":"top",h=u?"bottom":"right",m=getOuterSizes(n)[l];s[h]-m<a[f]&&(t.offsets.popper[f]-=a[f]-(s[h]-m)),s[f]+m>a[h]&&(t.offsets.popper[f]+=s[f]+m-a[h]),t.offsets.popper=getClientRect(t.offsets.popper);var y=s[f]+s[l]/2-m/2,g=getStyleComputedProperty(t.instance.popper),v=parseFloat(g["margin"+c],10),_=parseFloat(g["border"+c+"Width"],10),b=y-t.offsets.popper[f]-v-_;return b=Math.max(Math.min(a[l]-m,b),0),t.arrowElement=n,t.offsets.arrow=(p(r={},f,Math.round(b)),p(r,d,""),r),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(t,e){if(isModifierEnabled(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var r=getBoundaries(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],o=getOppositePlacement(n),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case m.FLIP:a=[n,o];break;case m.CLOCKWISE:a=clockwise(n);break;case m.COUNTERCLOCKWISE:a=clockwise(n,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(n!==s||a.length===u+1)return t;n=t.placement.split("-")[0],o=getOppositePlacement(n);var l=t.offsets.popper,c=t.offsets.reference,p=Math.floor,d="left"===n&&p(l.right)>p(c.left)||"right"===n&&p(l.left)<p(c.right)||"top"===n&&p(l.bottom)>p(c.top)||"bottom"===n&&p(l.top)<p(c.bottom),h=p(l.left)<p(r.left),m=p(l.right)>p(r.right),y=p(l.top)<p(r.top),g=p(l.bottom)>p(r.bottom),v="left"===n&&h||"right"===n&&m||"top"===n&&y||"bottom"===n&&g,_=-1!==["top","bottom"].indexOf(n),b=!!e.flipVariations&&(_&&"start"===i&&h||_&&"end"===i&&m||!_&&"start"===i&&y||!_&&"end"===i&&g);(d||v||b)&&(t.flipped=!0,(d||v)&&(n=a[u+1]),b&&(i=function getOppositeVariation(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=n+(i?"-"+i:""),t.offsets.popper=f({},t.offsets.popper,getPopperOffsets(t.instance.popper,t.offsets.reference,t.placement)),t=runModifiers(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function inner(t){var e=t.placement,r=e.split("-")[0],n=t.offsets,o=n.popper,i=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return o[a?"left":"top"]=i[r]-(s?o[a?"width":"height"]:0),t.placement=getOppositePlacement(e),t.offsets.popper=getClientRect(o),t}},hide:{order:800,enabled:!0,fn:function hide(t){if(!isModifierRequired(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=find(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(t,e){var r=e.x,n=e.y,o=t.offsets.popper,i=find(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=getBoundingClientRect(getOffsetParent(t.instance.popper)),u={position:o.position},l={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},c="bottom"===r?"top":"bottom",p="right"===n?"left":"right",d=getSupportedPropertyName("transform"),h=void 0,m=void 0;if(m="bottom"===c?-s.height+l.bottom:l.top,h="right"===p?-s.width+l.right:l.left,a&&d)u[d]="translate3d("+h+"px, "+m+"px, 0)",u[c]=0,u[p]=0,u.willChange="transform";else{var y="bottom"===c?-1:1,g="right"===p?-1:1;u[c]=m*y,u[p]=h*g,u.willChange=c+", "+p}var v={"x-placement":t.placement};return t.attributes=f({},v,t.attributes),t.styles=f({},u,t.styles),t.arrowStyles=f({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(t){return setStyles(t.instance.popper,t.styles),function setAttributes(t,e){Object.keys(e).forEach((function(r){!1!==e[r]?t.setAttribute(r,e[r]):t.removeAttribute(r)}))}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&setStyles(t.arrowElement,t.arrowStyles),t},onLoad:function applyStyleOnLoad(t,e,r,n,o){var i=getReferenceOffsets(o,e,t,r.positionFixed),a=computeAutoPlacement(r.placement,i,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",a),setStyles(e,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},g=function(){function Popper(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=f({},Popper.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(f({},Popper.Defaults.modifiers,n.modifiers)).forEach((function(t){r.options.modifiers[t]=f({},Popper.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return f({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&isFunction(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return c(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();g.Utils=("undefined"!==typeof window?window:t).PopperUtils,g.placements=d,g.Defaults=y,e.a=g}).call(this,r(32))},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),"Check");e.default=i},function(t,e){t.exports=function add(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}},function(t,e,r){(function(e){t.exports={window:"undefined"!==typeof window?window:e,global:"undefined"!==typeof e?e:window,document:"undefined"!==typeof document?document:{}}}).call(this,r(32))},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Player",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(e,"Video",{enumerable:!0,get:function get(){return a.default}}),Object.defineProperty(e,"BigPlayButton",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(e,"LoadingSpinner",{enumerable:!0,get:function get(){return u.default}}),Object.defineProperty(e,"PosterImage",{enumerable:!0,get:function get(){return l.default}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function get(){return c.default}}),Object.defineProperty(e,"Bezel",{enumerable:!0,get:function get(){return p.default}}),Object.defineProperty(e,"Shortcut",{enumerable:!0,get:function get(){return f.default}}),Object.defineProperty(e,"ControlBar",{enumerable:!0,get:function get(){return d.default}}),Object.defineProperty(e,"PlayToggle",{enumerable:!0,get:function get(){return h.default}}),Object.defineProperty(e,"ForwardControl",{enumerable:!0,get:function get(){return m.default}}),Object.defineProperty(e,"ReplayControl",{enumerable:!0,get:function get(){return y.default}}),Object.defineProperty(e,"FullscreenToggle",{enumerable:!0,get:function get(){return g.default}}),Object.defineProperty(e,"ProgressControl",{enumerable:!0,get:function get(){return v.default}}),Object.defineProperty(e,"SeekBar",{enumerable:!0,get:function get(){return _.default}}),Object.defineProperty(e,"PlayProgressBar",{enumerable:!0,get:function get(){return b.default}}),Object.defineProperty(e,"LoadProgressBar",{enumerable:!0,get:function get(){return S.default}}),Object.defineProperty(e,"MouseTimeDisplay",{enumerable:!0,get:function get(){return x.default}}),Object.defineProperty(e,"VolumeMenuButton",{enumerable:!0,get:function get(){return w.default}}),Object.defineProperty(e,"PlaybackRateMenuButton",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(e,"PlaybackRate",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(e,"ClosedCaptionButton",{enumerable:!0,get:function get(){return C.default}}),Object.defineProperty(e,"RemainingTimeDisplay",{enumerable:!0,get:function get(){return T.default}}),Object.defineProperty(e,"CurrentTimeDisplay",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(e,"DurationDisplay",{enumerable:!0,get:function get(){return M.default}}),Object.defineProperty(e,"TimeDivider",{enumerable:!0,get:function get(){return A.default}}),Object.defineProperty(e,"MenuButton",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(e,"playerReducer",{enumerable:!0,get:function get(){return O.playerReducer}}),Object.defineProperty(e,"operationReducer",{enumerable:!0,get:function get(){return O.operationReducer}}),e.videoActions=e.playerActions=void 0;var i=o(r(979)),a=o(r(392)),s=o(r(389)),u=o(r(390)),l=o(r(391)),c=o(r(274)),p=o(r(394)),f=o(r(395)),d=o(r(396)),h=o(r(402)),m=o(r(403)),y=o(r(405)),g=o(r(406)),v=o(r(397)),_=o(r(398)),b=o(r(399)),S=o(r(400)),x=o(r(401)),w=o(r(411)),E=o(r(275)),P=o(r(997)),C=o(r(998)),T=o(r(407)),D=o(r(408)),M=o(r(409)),A=o(r(410)),R=o(r(276)),L=n(r(201));e.playerActions=L;var I=n(r(273));e.videoActions=I;var O=r(387)},function(t,e,r){"use strict";var n,o,i;o=[],void 0===(i="function"===typeof(n=function(){function ok(){return!0}function notOk(){return!1}function undef(){}return function create(){var t=[{name:"number",test:function test(t){return"number"===typeof t}},{name:"string",test:function test(t){return"string"===typeof t}},{name:"boolean",test:function test(t){return"boolean"===typeof t}},{name:"Function",test:function test(t){return"function"===typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function test(t){return t instanceof Date}},{name:"RegExp",test:function test(t){return t instanceof RegExp}},{name:"Object",test:function test(t){return"object"===typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function test(t){return null===t}},{name:"undefined",test:function test(t){return void 0===t}}],e={name:"any",test:ok},r=[],n=[],o={types:t,conversions:n,ignore:r};function findTypeByName(t){var r=findInArray(o.types,(function(e){return e.name===t}));if(r)return r;if("any"===t)return e;var n=findInArray(o.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function findTypeIndex(t){return t===e?999:o.types.indexOf(t)}function findTypeName(t){var e=findInArray(o.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function stringifyParams(t){return t.map((function(t){var e=t.types.map(getTypeName);return(t.restParam?"...":"")+e.join("|")})).join(",")}function parseParam(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(trim).filter(notEmpty).filter(notIgnore),o=function filterConversions(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t)})),Object.keys(r).map((function(t){return r[t]}))}(e,n),i=n.map((function(t){var e=findTypeByName(t);return{name:t,typeIndex:findTypeIndex(e),test:e.test,conversion:null,conversionIndex:-1}})),a=o.map((function(t){var r=findTypeByName(t.from);return{name:t.from,typeIndex:findTypeIndex(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:i.concat(a),restParam:r}}function hasRestParam(t){var e=last(t);return!!e&&e.restParam}function hasConversions(t){return t.types.some((function(t){return null!=t.conversion}))}function compileTest(t){if(t&&0!==t.types.length){if(1===t.types.length)return findTypeByName(t.types[0].name).test;if(2===t.types.length){var e=findTypeByName(t.types[0].name).test,r=findTypeByName(t.types[1].name).test;return function or(t){return e(t)||r(t)}}var n=t.types.map((function(t){return findTypeByName(t.name).test}));return function or(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}return ok}function compileTests(t){var e,r,n;if(hasRestParam(t)){var o=(e=function initial(t){return t.slice(0,t.length-1)}(t).map(compileTest)).length,i=compileTest(last(t));return function testArgs(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return function testRestParam(t){for(var e=o;e<t.length;e++)if(!i(t[e]))return!1;return!0}(t)&&t.length>=o+1}}return 0===t.length?function testArgs(t){return 0===t.length}:1===t.length?(r=compileTest(t[0]),function testArgs(t){return r(t[0])&&1===t.length}):2===t.length?(r=compileTest(t[0]),n=compileTest(t[1]),function testArgs(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(compileTest),function testArgs(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return!1;return t.length===e.length})}function getParamAtIndex(t,e){return e<t.params.length?t.params[e]:hasRestParam(t.params)?last(t.params):null}function getExpectedTypeNames(t,e,r){var n=getParamAtIndex(t,e);return(n?r?n.types.filter(isExactType):n.types:[]).map(getTypeName)}function getTypeName(t){return t.name}function isExactType(t){return null===t.conversion||void 0===t.conversion}function mergeExpectedParams(t,e){var r=function uniq(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}(flatMap(t,(function(t){return getExpectedTypeNames(t,e,!1)})));return-1!==r.indexOf("any")?["any"]:r}function createError(t,e,r){var n,o,i,a=t||"unnamed",s=r;for(i=0;i<e.length;i++){var u=s.filter((function(t){var r=compileTest(getParamAtIndex(t,i));return(i<t.params.length||hasRestParam(t.params))&&r(e[i])}));if(0===u.length){if((o=mergeExpectedParams(s,i)).length>0){var l=findTypeName(e[i]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+l+", index: "+i+")")).data={category:"wrongType",fn:a,index:i,actual:l,expected:o},n}}else s=u}var c=s.map((function(t){return hasRestParam(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return o=mergeExpectedParams(s,i),(n=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(findTypeName)},n)}function getLowestTypeIndex(t){for(var e=999,r=0;r<t.types.length;r++)isExactType(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function getLowestConversionIndex(t){for(var e=999,r=0;r<t.types.length;r++)isExactType(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function compareParams(t,e){var r;return 0!==(r=t.restParam-e.restParam)?r:0!==(r=hasConversions(t)-hasConversions(e))?r:0!==(r=getLowestTypeIndex(t)-getLowestTypeIndex(e))?r:getLowestConversionIndex(t)-getLowestConversionIndex(e)}function compareSignatures(t,e){var r,n,o=Math.min(t.params.length,e.params.length);if(0!==(n=t.params.some(hasConversions)-e.params.some(hasConversions)))return n;for(r=0;r<o;r++)if(0!==(n=hasConversions(t.params[r])-hasConversions(e.params[r])))return n;for(r=0;r<o;r++)if(0!==(n=compareParams(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function compileArgConversion(t){var e,r,n,o,i=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(i.push(findTypeByName(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function convertArg(t){return t};case 1:return e=i[0],n=a[0],function convertArg(t){return e(t)?n(t):t};case 2:return e=i[0],r=i[1],n=a[0],o=a[1],function convertArg(t){return e(t)?n(t):r(t)?o(t):t};default:return function convertArg(t){for(var e=0;e<a.length;e++)if(i[e](t))return a[e](t);return t}}}function splitParams(t,e){return function _splitParams(t,r,n){if(r<t.length){var o,i=t[r],a=e?i.types.filter(isExactType):i.types;if(i.restParam){var s=a.filter(isExactType);o=s.length<a.length?[s,a]:[a]}else o=a.map((function(t){return[t]}));return flatMap(o,(function(e){return _splitParams(t,r+1,n.concat([e]))}))}return[n.map((function(e,r){return{types:e,restParam:r===t.length-1&&hasRestParam(t)}}))]}(t,0,[])}function createTypedFunction(t,e){if(0===Object.keys(e).length)throw new SyntaxError("No signatures provided");var r=[];Object.keys(e).map((function(t){return function parseSignature(t,e,r){var n=[];return""!==t.trim()&&(n=t.split(",").map(trim).map((function(t,e,n){var o=parseParam(t,r);if(o.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return o}))),n.some(isInvalidParam)?null:{params:n,fn:e}}(t,e[t],o.conversions)})).filter(notNull).forEach((function(t){var e=findInArray(r,(function(e){return function hasConflictingParams(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!hasOverlap(getExpectedTypeNames(t,n,!0),getExpectedTypeNames(e,n,!0)))return!1;var o=t.params.length,i=e.params.length,a=hasRestParam(t.params),s=hasRestParam(e.params);return a?s?o===i:i>=o:s?o>=i:o===i}(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+stringifyParams(e.params)+'" and "'+stringifyParams(t.params)+'".');r.push(t)}));var n=flatMap(r,(function(t){return(t?splitParams(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(notNull);n.sort(compareSignatures);var i=n[0]&&n[0].params.length<=2&&!hasRestParam(n[0].params),a=n[1]&&n[1].params.length<=2&&!hasRestParam(n[1].params),s=n[2]&&n[2].params.length<=2&&!hasRestParam(n[2].params),u=n[3]&&n[3].params.length<=2&&!hasRestParam(n[3].params),l=n[4]&&n[4].params.length<=2&&!hasRestParam(n[4].params),c=n[5]&&n[5].params.length<=2&&!hasRestParam(n[5].params),p=i&&a&&s&&u&&l&&c,f=n.map((function(t){return compileTests(t.params)})),d=i?compileTest(n[0].params[0]):notOk,h=a?compileTest(n[1].params[0]):notOk,m=s?compileTest(n[2].params[0]):notOk,y=u?compileTest(n[3].params[0]):notOk,g=l?compileTest(n[4].params[0]):notOk,v=c?compileTest(n[5].params[0]):notOk,_=i?compileTest(n[0].params[1]):notOk,b=a?compileTest(n[1].params[1]):notOk,S=s?compileTest(n[2].params[1]):notOk,x=u?compileTest(n[3].params[1]):notOk,w=l?compileTest(n[4].params[1]):notOk,E=c?compileTest(n[5].params[1]):notOk,P=n.map((function(t){return function compileArgsPreprocessing(t,e){var r=e;if(t.some(hasConversions)){var n=hasRestParam(t),o=t.map(compileArgConversion);r=function convertArgs(){for(var t=[],r=n?arguments.length-1:arguments.length,i=0;i<r;i++)t[i]=o[i](arguments[i]);return n&&(t[r]=arguments[r].map(o[r])),e.apply(null,t)}}var i=r;if(hasRestParam(t)){var a=t.length-1;i=function preprocessRestParams(){return r.apply(null,slice(arguments,0,a).concat([slice(arguments,a)]))}}return i}(t.params,t.fn)})),C=i?P[0]:undef,T=a?P[1]:undef,D=s?P[2]:undef,M=u?P[3]:undef,A=l?P[4]:undef,R=c?P[5]:undef,L=i?n[0].params.length:-1,I=a?n[1].params.length:-1,O=s?n[2].params.length:-1,k=u?n[3].params.length:-1,F=l?n[4].params.length:-1,N=c?n[5].params.length:-1,B=p?6:0,U=n.length,z=function generic(){for(var e=B;e<U;e++)if(f[e](arguments))return P[e].apply(null,arguments);throw createError(t,arguments,n)},j=function fn(t,e){return arguments.length===L&&d(t)&&_(e)?C.apply(null,arguments):arguments.length===I&&h(t)&&b(e)?T.apply(null,arguments):arguments.length===O&&m(t)&&S(e)?D.apply(null,arguments):arguments.length===k&&y(t)&&x(e)?M.apply(null,arguments):arguments.length===F&&g(t)&&w(e)?A.apply(null,arguments):arguments.length===N&&v(t)&&E(e)?R.apply(null,arguments):z.apply(null,arguments)};try{Object.defineProperty(j,"name",{value:t})}catch(G){}return j.signatures=function createSignaturesMap(t){var e={};return t.forEach((function(t){t.params.some(hasConversions)||splitParams(t.params,!0).forEach((function(r){e[stringifyParams(r)]=t.fn}))})),e}(n),j}function notIgnore(t){return-1===o.ignore.indexOf(t)}function trim(t){return t.trim()}function notEmpty(t){return!!t}function notNull(t){return null!==t}function isInvalidParam(t){return 0===t.types.length}function last(t){return t[t.length-1]}function slice(t,e,r){return Array.prototype.slice.call(t,e,r)}function hasOverlap(t,e){for(var r=0;r<t.length;r++)if(n=e,o=t[r],-1!==n.indexOf(o))return!0;var n,o;return!1}function findInArray(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function flatMap(t,e){return Array.prototype.concat.apply([],t.map(e))}function getName(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"===typeof n.signatures||"string"===typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw o.data={actual:n.name,expected:e},o}}return e}function extractSignatures(t){var e,r={};function validateUnique(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var n=0;n<t.length;n++){var o=t[n];if("object"===typeof o.signatures)for(var i in o.signatures)o.signatures.hasOwnProperty(i)&&(validateUnique(i,o.signatures[i]),r[i]=o.signatures[i]);else{if("string"!==typeof o.signature)throw(e=new TypeError("Function is no typed-function (index: "+n+")")).data={index:n},e;validateUnique(o.signature,o),r[o.signature]=o}}return r}return(o=createTypedFunction("typed",{"string, Object":createTypedFunction,Object:function Object(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return createTypedFunction(getName(e),t)},"...Function":function Function(t){return createTypedFunction(getName(t),extractSignatures(t))},"string, ...Function":function stringFunction(t,e){return createTypedFunction(t,extractSignatures(e))}})).create=create,o.types=t,o.conversions=n,o.ignore=r,o.convert=function convert(t,e){var r=findTypeName(t);if(e===r)return t;for(var n=0;n<o.conversions.length;n++){var i=o.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)},o.find=function find(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"===typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e}var o=r.join(","),i=t.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")},o.addType=function(t,e){if(!t||"string"!==typeof t.name||"function"!==typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<o.types.length;r++)if("Object"===o.types[r].name)return void o.types.splice(r,0,t);o.types.push(t)},o.addConversion=function(t){if(!t||"string"!==typeof t.from||"string"!==typeof t.to||"function"!==typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");o.conversions.push(t)},o}()})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){"use strict";(function(e){var r=256,n=[],o="undefined"===typeof e?window:e,i=Math.pow(r,6),a=Math.pow(2,52),s=2*a,u=r-1,l=Math.random;function ARC4(t){var e,n=t.length,o=this,i=0,a=o.i=o.j=0,s=o.S=[];for(n||(t=[n++]);i<r;)s[i]=i++;for(i=0;i<r;i++)s[i]=s[a=u&a+t[i%n]+(e=s[i])],s[a]=e;(o.g=function(t){for(var e,n=0,i=o.i,a=o.j,s=o.S;t--;)e=s[i=u&i+1],n=n*r+s[u&(s[i]=s[a=u&a+e])+(s[a]=e)];return o.i=i,o.j=a,n})(r)}function flatten(t,e){var r,n=[],o=(typeof t)[0];if(e&&"o"==o)for(r in t)try{n.push(flatten(t[r],e-1))}catch(i){}return n.length?n:"s"==o?t:t+"\0"}function mixkey(t,e){for(var r,n=t+"",o=0;o<n.length;)e[u&o]=u&(r^=19*e[u&o])+n.charCodeAt(o++);return tostring(e)}function autoseed(t){try{return o.crypto.getRandomValues(t=new Uint8Array(r)),tostring(t)}catch(e){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,tostring(n)]}}function tostring(t){return String.fromCharCode.apply(0,t)}t.exports=function(e,o){if(o&&!0===o.global)return o.global=!1,Math.random=t.exports(e,o),o.global=!0,Math.random;var u=o&&o.entropy||!1,l=[],c=(mixkey(flatten(u?[e,tostring(n)]:0 in arguments?e:autoseed(),3),l),new ARC4(l));return mixkey(tostring(c.S),n),function(){for(var t=c.g(6),e=i,n=0;t<a;)t=(t+n)*r,e*=r,n=c.g(1);for(;t>=s;)t/=2,e/=2,n>>>=1;return(t+n)/e}},t.exports.resetGlobal=function(){Math.random=l},mixkey(Math.random(),n)}).call(this,r(32))},function(t,e,r){"use strict";var n=r(44),o=r.n(n),i=r(24),a=r.n(i),s=r(26),u=r.n(s),l=r(30),c=r.n(l),p=r(43),f=r.n(p),d=r(0),h=r(84),m=r(216),y=r.n(m),g=r(15),v=r.n(g);function toVal(t){var e,r,n="";if(t)if("object"===typeof t)if(t.push)for(e=0;e<t.length;e++)t[e]&&(r=toVal(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(r=toVal(e))&&(n&&(n+=" "),n+=r);else"boolean"===typeof t||t.call||(n&&(n+=" "),n+=t);return n}var _=function(){for(var t,e=0,r="";e<arguments.length;)(t=toVal(arguments[e++]))&&(r&&(r+=" "),r+=t);return r};function calculateSizeAndPositionDataAndUpdateScrollOffset(t){var e=t.cellCount,r=t.cellSize,n=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,u=t.scrollToIndex,l=t.updateScrollOffsetForScrollToIndex;e===i&&("number"!==typeof r&&"number"!==typeof a||r===a)||(n(o),u>=0&&u===s&&l())}var b=r(108),S=r.n(b),x=r(443),w=r.n(x),E=(r(45),function(){function CellSizeAndPositionManager(t){var e=t.cellCount,r=t.cellSizeGetter,n=t.estimatedCellSize;a()(this,CellSizeAndPositionManager),this._lastMeasuredIndex=-1,this._cellSizeGetter=r,this._cellCount=e,this._estimatedCellSize=n,this._layoutVector=new w.a,this._layoutVector.setLength(e),this._layoutVector.setDefaultSize(n)}return u()(CellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return!1}},{key:"configure",value:function configure(t){var e=t.cellCount,r=t.estimatedCellSize,n=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=r,this._cellSizeGetter=n,this._layoutVector.setLength(e),this._layoutVector.setDefaultSize(r)}},{key:"getCellCount",value:function getCellCount(){return this._cellCount}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(){return 0}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(t){if(t<0||t>=this._cellCount)throw Error("Requested index "+t+" is outside of range 0.."+this._cellCount);var e=this._layoutVector;if(t>this._lastMeasuredIndex){for(var r={index:this._lastMeasuredIndex+1},n=r.index;n<=t;r.index=++n){var o=this._cellSizeGetter(r);if(void 0===o||o!==o)throw Error("Invalid size returned for cell "+n+" of value "+o);null!==o&&e.setItemSize(n,o)}this._lastMeasuredIndex=Math.min(t,this._cellCount-1)}return{offset:e.start(t),size:e.getItemSize(t)}}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){var t=this._lastMeasuredIndex;if(t<=0)return{offset:0,size:0};var e=this._layoutVector;return{offset:e.start(t),size:e.getItemSize(t)}}},{key:"getTotalSize",value:function getTotalSize(){var t=this._cellCount-1;return t>=0?this._layoutVector.end(t):0}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(t){var e=t.align,r=void 0===e?"auto":e,n=t.containerSize,o=t.currentOffset,i=t.targetIndex;if(n<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,u=s-n+a.size,l=void 0;switch(r){case"start":l=s;break;case"end":l=u;break;case"center":l=s-(n-a.size)/2;break;default:l=Math.max(u,Math.min(s,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-n,l))}},{key:"getVisibleCellRange",value:function getVisibleCellRange(t){if(0===this.getTotalSize())return{};var e=t.containerSize,r=t.offset,n=r+e-1;return{start:this._findNearestCell(r),stop:this._findNearestCell(n)}}},{key:"resetCell",value:function resetCell(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_findNearestCell",value:function _findNearestCell(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");for(var e=this._layoutVector,r=this._cellCount-1,n=Math.max(0,Math.min(t,e.start(r))),o=e.indexOf(n);o>this._lastMeasuredIndex;){if(this.getSizeAndPositionOfCell(o),o===r)return o;-1===(o=e.indexOf(n))&&(o=this._lastMeasuredIndex,this._lastMeasuredIndex=o-1,n=Math.max(0,Math.min(t,e.start(r))))}return o}}]),CellSizeAndPositionManager}()),P=function getMaxElementSize(){return function isBrowser(){return"undefined"!==typeof window}()&&function isChrome(){return!!window.chrome&&!!window.chrome.webstore}()?16777100:15e5},C=function(){function ScalingCellSizeAndPositionManager(t){var e=t.maxScrollSize,r=void 0===e?P():e,n=S()(t,["maxScrollSize"]);a()(this,ScalingCellSizeAndPositionManager),this._cellSizeAndPositionManager=new E(n),this._maxScrollSize=r}return u()(ScalingCellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function configure(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function getCellCount(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(t){var e=t.containerSize,r=t.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:o});return Math.round(i*(o-n))}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function getTotalSize(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(t){var e=t.align,r=void 0===e?"auto":e,n=t.containerSize,o=t.currentOffset,i=t.targetIndex;o=this._safeOffsetToOffset({containerSize:n,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function getVisibleCellRange(t){var e=t.containerSize,r=t.offset;return r=this._safeOffsetToOffset({containerSize:e,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:r})}},{key:"resetCell",value:function resetCell(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function _getOffsetPercentage(t){var e=t.containerSize,r=t.offset,n=t.totalSize;return n<=e?0:r/(n-e)}},{key:"_offsetToSafeOffset",value:function _offsetToSafeOffset(t){var e=t.containerSize,r=t.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(n===o)return r;var i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:n});return Math.round(i*(o-e))}},{key:"_safeOffsetToOffset",value:function _safeOffsetToOffset(t){var e=t.containerSize,r=t.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(n===o)return r;var i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:o});return Math.round(i*(n-e))}}]),ScalingCellSizeAndPositionManager}(),T=r(109),D=r.n(T);function createCallbackMemoizer(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(r){var n=r.callback,o=r.indices,i=D()(o),a=!t||i.every((function(t){var e=o[t];return Array.isArray(e)?e.length>0:e>=0})),s=i.length!==D()(e).length||i.some((function(t){var r=e[t],n=o[t];return Array.isArray(n)?r.join(",")!==n.join(","):r!==n}));e=o,a&&s&&n(o)}}var M=1;function updateScrollIndexHelper(t){var e=t.cellSize,r=t.cellSizeAndPositionManager,n=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,u=t.scrollOffset,l=t.scrollToAlignment,c=t.scrollToIndex,p=t.size,f=t.sizeJustIncreasedFromZero,d=t.updateScrollIndexCallback,h=r.getCellCount(),m=c>=0&&c<h;m&&(p!==s||f||!o||"number"===typeof e&&e!==o||l!==i||c!==a)?d(c):!m&&h>0&&(p<s||h<n)&&u>r.getTotalSize()-p&&d(h-1)}var A=r(173),R=r.n(A),L=r(144),I=r.n(L),O=void 0,k=(O="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||O.webkitRequestAnimationFrame||O.mozRequestAnimationFrame||O.oRequestAnimationFrame||O.msRequestAnimationFrame||function(t){return O.setTimeout(t,1e3/60)},F=O.cancelAnimationFrame||O.webkitCancelAnimationFrame||O.mozCancelAnimationFrame||O.oCancelAnimationFrame||O.msCancelAnimationFrame||function(t){O.clearTimeout(t)},N=k,B=F,U=function cancelAnimationTimeout(t){return B(t.id)},z=function requestAnimationTimeout(t,e){var r=void 0;I.a.resolve().then((function(){r=Date.now()}));var n={id:N((function timeout(){Date.now()-r>=e?t.call():n.id=N(timeout)}))};return n},j="observed",G="requested",V=function(t){function Grid(t){a()(this,Grid);var e=c()(this,(Grid.__proto__||o()(Grid)).call(this,t));e._onGridRenderedMemoizer=createCallbackMemoizer(),e._onScrollMemoizer=createCallbackMemoizer(!1),e._deferredInvalidateColumnIndex=null,e._deferredInvalidateRowIndex=null,e._recomputeScrollLeftFlag=!1,e._recomputeScrollTopFlag=!1,e._horizontalScrollBarSize=0,e._verticalScrollBarSize=0,e._scrollbarPresenceChanged=!1,e._renderedColumnStartIndex=0,e._renderedColumnStopIndex=0,e._renderedRowStartIndex=0,e._renderedRowStopIndex=0,e._styleCache={},e._cellCache={},e._debounceScrollEndedCallback=function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})},e._invokeOnGridRenderedHelper=function(){var t=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})},e._setScrollingContainerRef=function(t){e._scrollingContainer=t},e._onScroll=function(t){t.target===e._scrollingContainer&&e.handleScrollEvent(t.target)};var r=new C({cellCount:t.columnCount,cellSizeGetter:function cellSizeGetter(e){return Grid._wrapSizeGetter(t.columnWidth)(e)},estimatedCellSize:Grid._getEstimatedColumnSize(t)}),n=new C({cellCount:t.rowCount,cellSizeGetter:function cellSizeGetter(e){return Grid._wrapSizeGetter(t.rowHeight)(e)},estimatedCellSize:Grid._getEstimatedRowSize(t)});return e.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:n,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,prevScrollLeft:t.scrollLeft,prevScrollTop:t.scrollTop,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:M,scrollDirectionVertical:M,scrollLeft:t.scrollLeft||0,scrollTop:t.scrollTop||0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(t,e.state)),t.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(t,e.state)),e}return f()(Grid,t),u()(Grid,[{key:"getOffsetForCell",value:function getOffsetForCell(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,r=void 0===e?this.props.scrollToAlignment:e,n=t.columnIndex,o=void 0===n?this.props.scrollToColumn:n,i=t.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=v()({},this.props,{scrollToAlignment:r,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function getTotalRowsHeight(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function getTotalColumnsWidth(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function handleScrollEvent(t){var e=t.scrollLeft,r=void 0===e?0:e,n=t.scrollTop,o=void 0===n?0:n;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,u=i.height,l=i.width,c=this.state.instanceProps,p=c.scrollbarSize,f=c.rowSizeAndPositionManager.getTotalSize(),d=c.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,d-l+p),r),m=Math.min(Math.max(0,f-u+p),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var y={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?M:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?M:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:j};a||(y.scrollTop=m),s||(y.scrollLeft=h),y.needToResetStyleCache=!1,this.setState(y)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,r=t.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function measureAllCells(){var t=this.props,e=t.columnCount,r=t.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(r-1)}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,r=void 0===e?0:e,n=t.rowIndex,o=void 0===n?0:n,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(r),u.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===M?r<=a:r>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===M?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function scrollToCell(t){var e=t.columnIndex,r=t.rowIndex,n=this.props.columnCount,o=this.props;n>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(v()({},o,{scrollToColumn:e})),void 0!==r&&this._updateScrollTopForScrollToRow(v()({},o,{scrollToRow:r}))}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.getScrollbarSize,r=t.height,n=t.scrollLeft,o=t.scrollToColumn,i=t.scrollTop,a=t.scrollToRow,s=t.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState((function(t){var r=v()({},t,{needToResetStyleCache:!1});return r.instanceProps.scrollbarSize=e(),r.instanceProps.scrollbarSizeMeasured=!0,r})),"number"===typeof n&&n>=0||"number"===typeof i&&i>=0){var l=Grid._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:i});l&&(l.needToResetStyleCache=!1,this.setState(l))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var c=r>0&&s>0;o>=0&&c&&this._updateScrollLeftForScrollToColumn(),a>=0&&c&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:i||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var r=this,n=this.props,o=n.autoHeight,i=n.autoWidth,a=n.columnCount,s=n.height,u=n.rowCount,l=n.scrollToAlignment,c=n.scrollToColumn,p=n.scrollToRow,f=n.width,d=this.state,h=d.scrollLeft,m=d.scrollPositionChangeReason,y=d.scrollTop,g=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===t.columnCount||u>0&&0===t.rowCount;m===G&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!o&&y>=0&&(y!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=y));var _=(0===t.width||0===t.height)&&s>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:h,scrollToAlignment:l,scrollToIndex:c,size:f,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function updateScrollIndexCallback(){return r._updateScrollLeftForScrollToColumn(r.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:y,scrollToAlignment:l,scrollToIndex:p,size:s,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function updateScrollIndexCallback(){return r._updateScrollTopForScrollToRow(r.props)}}),this._invokeOnGridRenderedHelper(),h!==e.scrollLeft||y!==e.scrollTop){var b=g.rowSizeAndPositionManager.getTotalSize(),S=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:y,totalColumnsWidth:S,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId)}},{key:"render",value:function render(){var t=this.props,e=t.autoContainerWidth,r=t.autoHeight,n=t.autoWidth,o=t.className,i=t.containerProps,a=t.containerRole,s=t.containerStyle,u=t.height,l=t.id,c=t.noContentRenderer,p=t.role,f=t.style,h=t.tabIndex,m=t.width,y=this.state,g=y.instanceProps,b=y.needToResetStyleCache,S=this._isScrolling(),x={boxSizing:"border-box",direction:"ltr",height:r?"auto":u,position:"relative",width:n?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=g.columnSizeAndPositionManager.getTotalSize(),E=g.rowSizeAndPositionManager.getTotalSize(),P=E>u?g.scrollbarSize:0,C=w>m?g.scrollbarSize:0;C===this._horizontalScrollBarSize&&P===this._verticalScrollBarSize||(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=P,this._scrollbarPresenceChanged=!0),x.overflowX=w+P<=m?"hidden":"auto",x.overflowY=E+C<=u?"hidden":"auto";var T=this._childrenToDisplay,D=0===T.length&&u>0&&m>0;return d.createElement("div",v()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:_("ReactVirtualized__Grid",o),id:l,onScroll:this._onScroll,role:p,style:v()({},x,f),tabIndex:h}),T.length>0&&d.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:v()({width:e?"auto":w,height:E,maxWidth:w,maxHeight:E,overflow:"hidden",pointerEvents:S?"none":"",position:"relative"},s)},T),D&&c())}},{key:"_calculateChildrenToRender",value:function _calculateChildrenToRender(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t.cellRenderer,n=t.cellRangeRenderer,o=t.columnCount,i=t.deferredMeasurementCache,a=t.height,s=t.overscanColumnCount,u=t.overscanIndicesGetter,l=t.overscanRowCount,c=t.rowCount,p=t.width,f=t.isScrollingOptOut,d=e.scrollDirectionHorizontal,h=e.scrollDirectionVertical,m=e.instanceProps,y=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,v=this._isScrolling(t,e);if(this._childrenToDisplay=[],a>0&&p>0){var _=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:g}),b=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:y}),S=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:g}),x=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:y});this._renderedColumnStartIndex=_.start,this._renderedColumnStopIndex=_.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var w=u({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:d,startIndex:"number"===typeof _.start?_.start:0,stopIndex:"number"===typeof _.stop?_.stop:-1}),E=u({direction:"vertical",cellCount:c,overscanCellsCount:l,scrollDirection:h,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),P=w.overscanStartIndex,C=w.overscanStopIndex,T=E.overscanStartIndex,D=E.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var M=T;M<=D;M++)if(!i.has(M,0)){P=0,C=o-1;break}if(!i.hasFixedWidth())for(var A=P;A<=C;A++)if(!i.has(0,A)){T=0,D=c-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:r,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:P,columnStopIndex:C,deferredMeasurementCache:i,horizontalOffsetAdjustment:S,isScrolling:v,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:D,scrollLeft:g,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:x,visibleColumnIndices:_,visibleRowIndices:b}),this._columnStartIndex=P,this._columnStopIndex=C,this._rowStartIndex=T,this._rowStopIndex=D}}},{key:"_debounceScrollEnded",value:function _debounceScrollEnded(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=z(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(t){var e=this,r=t.scrollLeft,n=t.scrollTop,o=t.totalColumnsWidth,i=t.totalRowsHeight;this._onScrollMemoizer({callback:function callback(t){var r=t.scrollLeft,n=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:r,scrollTop:n,scrollWidth:o})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_isScrolling",value:function _isScrolling(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function _maybeCallOnScrollbarPresenceChange(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function scrollToPosition(t){var e=t.scrollLeft,r=t.scrollTop,n=Grid._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:e,scrollTop:r});n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollLeft",value:function _getCalculatedScrollLeft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Grid._getCalculatedScrollLeft(t,e)}},{key:"_updateScrollLeftForScrollToColumn",value:function _updateScrollLeftForScrollToColumn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=Grid._getScrollLeftForScrollToColumnStateUpdate(t,e);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function _getCalculatedScrollTop(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Grid._getCalculatedScrollTop(t,e)}},{key:"_resetStyleCache",value:function _resetStyleCache(){var t=this._styleCache,e=this._cellCache,r=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i=n+"-"+o;this._styleCache[i]=t[i],r&&(this._cellCache[i]=e[i])}}},{key:"_updateScrollTopForScrollToRow",value:function _updateScrollTopForScrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=Grid._getScrollTopForScrollToRowStateUpdate(t,e);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){var r={},n=e.instanceProps;0===t.columnCount&&0!==e.scrollLeft||0===t.rowCount&&0!==e.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(t.scrollLeft!==n.prevScrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.prevScrollTop&&t.scrollToRow<0)&&y()(r,Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})),r.needToResetStyleCache=!1,t.columnWidth===n.prevColumnWidth&&t.rowHeight===n.prevRowHeight||(r.needToResetStyleCache=!0),n.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:Grid._getEstimatedColumnSize(t),cellSizeGetter:Grid._wrapSizeGetter(t.columnWidth)}),n.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:Grid._getEstimatedRowSize(t),cellSizeGetter:Grid._wrapSizeGetter(t.rowHeight)}),0!==n.prevColumnCount&&0!==n.prevRowCount||(n.prevColumnCount=0,n.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===n.prevIsScrolling&&y()(r,{isScrolling:!1});var o=void 0,i=void 0;return calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:n.prevColumnCount,cellSize:"number"===typeof n.prevColumnWidth?n.prevColumnWidth:null,computeMetadataCallback:function computeMetadataCallback(){return n.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"===typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:n.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){o=Grid._getScrollLeftForScrollToColumnStateUpdate(t,e)}}),calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:n.prevRowCount,cellSize:"number"===typeof n.prevRowHeight?n.prevRowHeight:null,computeMetadataCallback:function computeMetadataCallback(){return n.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"===typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:n.prevScrollToRow,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){i=Grid._getScrollTopForScrollToRowStateUpdate(t,e)}}),n.prevColumnCount=t.columnCount,n.prevColumnWidth=t.columnWidth,n.prevIsScrolling=!0===t.isScrolling,n.prevRowCount=t.rowCount,n.prevRowHeight=t.rowHeight,n.prevScrollToColumn=t.scrollToColumn,n.prevScrollToRow=t.scrollToRow,n.prevScrollLeft=t.scrollLeft,n.prevScrollTop=t.scrollTop,n.scrollbarSize=t.getScrollbarSize(),void 0===n.scrollbarSize?(n.scrollbarSizeMeasured=!1,n.scrollbarSize=0):n.scrollbarSizeMeasured=!0,r.instanceProps=n,v()({},r,o,i)}},{key:"_getEstimatedColumnSize",value:function _getEstimatedColumnSize(t){return"number"===typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function _getEstimatedRowSize(t){return"number"===typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function _getScrollToPositionStateUpdate(t){var e=t.prevState,r=t.scrollLeft,n=t.scrollTop,o={scrollPositionChangeReason:G};return"number"===typeof r&&r>=0&&(o.scrollDirectionHorizontal=r>e.scrollLeft?M:-1,o.scrollLeft=r),"number"===typeof n&&n>=0&&(o.scrollDirectionVertical=n>e.scrollTop?M:-1,o.scrollTop=n),"number"===typeof r&&r>=0&&r!==e.scrollLeft||"number"===typeof n&&n>=0&&n!==e.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function _wrapSizeGetter(t){return"function"===typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function _getCalculatedScrollLeft(t,e){var r=t.columnCount,n=t.height,o=t.scrollToAlignment,i=t.scrollToColumn,a=t.width,s=e.scrollLeft,u=e.instanceProps;if(r>0){var l=r-1,c=i<0?l:Math.min(l,i),p=u.rowSizeAndPositionManager.getTotalSize(),f=u.scrollbarSizeMeasured&&p>n?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function _getScrollLeftForScrollToColumnStateUpdate(t,e){var r=e.scrollLeft,n=Grid._getCalculatedScrollLeft(t,e);return"number"===typeof n&&n>=0&&r!==n?Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:n,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function _getCalculatedScrollTop(t,e){var r=t.height,n=t.rowCount,o=t.scrollToAlignment,i=t.scrollToRow,a=t.width,s=e.scrollTop,u=e.instanceProps;if(n>0){var l=n-1,c=i<0?l:Math.min(l,i),p=u.columnSizeAndPositionManager.getTotalSize(),f=u.scrollbarSizeMeasured&&p>a?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:r-f,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function _getScrollTopForScrollToRowStateUpdate(t,e){var r=e.scrollTop,n=Grid._getCalculatedScrollTop(t,e);return"number"===typeof n&&n>=0&&r!==n?Grid._getScrollToPositionStateUpdate({prevState:e,scrollLeft:-1,scrollTop:n}):null}}]),Grid}(d.PureComponent);V.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function defaultCellRangeRenderer(t){for(var e=t.cellCache,r=t.cellRenderer,n=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,u=t.isScrolling,l=t.isScrollingOptOut,c=t.parent,p=t.rowSizeAndPositionManager,f=t.rowStartIndex,d=t.rowStopIndex,h=t.styleCache,m=t.verticalOffsetAdjustment,y=t.visibleColumnIndices,g=t.visibleRowIndices,v=[],_=n.areOffsetsAdjusted()||p.areOffsetsAdjusted(),b=!u&&!_,S=f;S<=d;S++)for(var x=p.getSizeAndPositionOfCell(S),w=o;w<=i;w++){var E=n.getSizeAndPositionOfCell(w),P=w>=y.start&&w<=y.stop&&S>=g.start&&S<=g.stop,C=S+"-"+w,T=void 0;b&&h[C]?T=h[C]:a&&!a.has(S,w)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:x.size,left:E.offset+s,position:"absolute",top:x.offset+m,width:E.size},h[C]=T);var D={columnIndex:w,isScrolling:u,isVisible:P,key:C,parent:c,rowIndex:S,style:T},M=void 0;!l&&!u||s||m?M=r(D):(e[C]||(e[C]=r(D)),M=e[C]),null!=M&&!1!==M&&v.push(M)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:R.a,noContentRenderer:function renderNull(){return null},onScroll:function onScroll(){},onScrollbarPresenceChange:function onScrollbarPresenceChange(){},onSectionRendered:function onSectionRendered(){},overscanColumnCount:0,overscanIndicesGetter:function defaultOverscanIndicesGetter(t){var e=t.cellCount,r=t.overscanCellsCount,n=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return n===M?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(e-1,i+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(e-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},V.propTypes=null,Object(h.polyfill)(V);var W=V,q=1;function accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter(t){var e=t.cellCount,r=t.overscanCellsCount,n=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return r=Math.max(1,r),n===q?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(e-1,i+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(e-1,i+1)}}var H=function(t){function ArrowKeyStepper(){var t,e,r,n;a()(this,ArrowKeyStepper);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=ArrowKeyStepper.__proto__||o()(ArrowKeyStepper)).call.apply(t,[this].concat(s))),r.state={scrollToColumn:0,scrollToRow:0},r._columnStartIndex=0,r._columnStopIndex=0,r._rowStartIndex=0,r._rowStopIndex=0,r._onKeyDown=function(t){var e=r.props,n=e.columnCount,o=e.disabled,i=e.mode,a=e.rowCount;if(!o){var s=r._getScrollState(),u=s.scrollToColumn,l=s.scrollToRow,c=r._getScrollState(),p=c.scrollToColumn,f=c.scrollToRow;switch(t.key){case"ArrowDown":f="cells"===i?Math.min(f+1,a-1):Math.min(r._rowStopIndex+1,a-1);break;case"ArrowLeft":p="cells"===i?Math.max(p-1,0):Math.max(r._columnStartIndex-1,0);break;case"ArrowRight":p="cells"===i?Math.min(p+1,n-1):Math.min(r._columnStopIndex+1,n-1);break;case"ArrowUp":f="cells"===i?Math.max(f-1,0):Math.max(r._rowStartIndex-1,0)}p===u&&f===l||(t.preventDefault(),r._updateScrollState({scrollToColumn:p,scrollToRow:f}))}},r._onSectionRendered=function(t){var e=t.columnStartIndex,n=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;r._columnStartIndex=e,r._columnStopIndex=n,r._rowStartIndex=o,r._rowStopIndex=i},n=e,c()(r,n)}return f()(ArrowKeyStepper,t),u()(ArrowKeyStepper,[{key:"setScrollIndexes",value:function setScrollIndexes(t){var e=t.scrollToColumn,r=t.scrollToRow;this.setState({scrollToRow:r,scrollToColumn:e})}},{key:"render",value:function render(){var t=this.props,e=t.className,r=t.children,n=this._getScrollState(),o=n.scrollToColumn,i=n.scrollToRow;return d.createElement("div",{className:e,onKeyDown:this._onKeyDown},r({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:i}))}},{key:"_getScrollState",value:function _getScrollState(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function _updateScrollState(t){var e=t.scrollToColumn,r=t.scrollToRow,n=this.props,o=n.isControlled,i=n.onScrollToChange;"function"===typeof i&&i({scrollToColumn:e,scrollToRow:r}),o||this.setState({scrollToColumn:e,scrollToRow:r})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return t.isControlled?null:t.scrollToColumn!==e.scrollToColumn||t.scrollToRow!==e.scrollToRow?{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow}:null}}]),ArrowKeyStepper}(d.PureComponent);H.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},H.propTypes=null,Object(h.polyfill)(H);var K=r(217),Y=function(t){function AutoSizer(){var t,e,r,n;a()(this,AutoSizer);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=AutoSizer.__proto__||o()(AutoSizer)).call.apply(t,[this].concat(s))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,o=t.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,f=i-c-p,d=a-u-l;(!e&&r.state.height!==f||!n&&r.state.width!==d)&&(r.setState({height:i-c-p,width:a-u-l}),o({height:i,width:a}))}},r._setRef=function(t){r._autoSizer=t},n=e,c()(r,n)}return f()(AutoSizer,t),u()(AutoSizer,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(K.a)(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function render(){var t=this.props,e=t.children,r=t.className,n=t.disableHeight,o=t.disableWidth,i=t.style,a=this.state,s=a.height,u=a.width,l={overflow:"visible"},c={};return n||(l.height=0,c.height=s),o||(l.width=0,c.width=u),d.createElement("div",{className:r,ref:this._setRef,style:v()({},l,i)},e(c))}}]),AutoSizer}(d.PureComponent);Y.defaultProps={onResize:function onResize(){},disableHeight:!1,disableWidth:!1,style:{}},Y.propTypes=null;var Z=Y,X=r(52),Q=function(t){function CellMeasurer(){var t,e,r,n;a()(this,CellMeasurer);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=CellMeasurer.__proto__||o()(CellMeasurer)).call.apply(t,[this].concat(s))),r._measure=function(){var t=r.props,e=t.cache,n=t.columnIndex,o=void 0===n?0:n,i=t.parent,a=t.rowIndex,s=void 0===a?r.props.index||0:a,u=r._getCellMeasurements(),l=u.height,c=u.width;l===e.getHeight(s,o)&&c===e.getWidth(s,o)||(e.set(s,o,c,l),i&&"function"===typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))},n=e,c()(r,n)}return f()(CellMeasurer,t),u()(CellMeasurer,[{key:"componentDidMount",value:function componentDidMount(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._maybeMeasureCell()}},{key:"render",value:function render(){var t=this.props.children;return"function"===typeof t?t({measure:this._measure}):t}},{key:"_getCellMeasurements",value:function _getCellMeasurements(){var t=this.props.cache,e=Object(X.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var r=e.style.width,n=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var o=Math.ceil(e.offsetHeight),i=Math.ceil(e.offsetWidth);return r&&(e.style.width=r),n&&(e.style.height=n),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function _maybeMeasureCell(){var t=this.props,e=t.cache,r=t.columnIndex,n=void 0===r?0:r,o=t.parent,i=t.rowIndex,a=void 0===i?this.props.index||0:i;if(!e.has(a,n)){var s=this._getCellMeasurements(),u=s.height,l=s.width;e.set(a,n,l,u),o&&"function"===typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:a})}}}]),CellMeasurer}(d.PureComponent);Q.__internalCellMeasurerFlag=!1,Q.propTypes=null;var $=30,J=100;!function(){function CellMeasurerCache(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,CellMeasurerCache),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var r=e.index,n=t._keyMapper(0,r);return t._columnWidthCache.hasOwnProperty(n)?t._columnWidthCache[n]:t._defaultWidth},this.rowHeight=function(e){var r=e.index,n=t._keyMapper(r,0);return t._rowHeightCache.hasOwnProperty(n)?t._rowHeightCache[n]:t._defaultHeight};var r=e.defaultHeight,n=e.defaultWidth,o=e.fixedHeight,i=e.fixedWidth,s=e.keyMapper,u=e.minHeight,l=e.minWidth;this._hasFixedHeight=!0===o,this._hasFixedWidth=!0===i,this._minHeight=u||0,this._minWidth=l||0,this._keyMapper=s||defaultKeyMapper,this._defaultHeight=Math.max(this._minHeight,"number"===typeof r?r:$),this._defaultWidth=Math.max(this._minWidth,"number"===typeof n?n:J)}u()(CellMeasurerCache,[{key:"clear",value:function clear(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(t,e);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function clearAll(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._hasFixedWidth}},{key:"getHeight",value:function getHeight(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(r)?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function getWidth(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(t,e);return this._cellWidthCache.hasOwnProperty(r)?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function has(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(r)}},{key:"set",value:function set(t,e,r,n){var o=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[o]=n,this._cellWidthCache[o]=r,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function _updateCachedColumnAndRowSizes(t,e){if(!this._hasFixedWidth){for(var r=0,n=0;n<this._rowCount;n++)r=Math.max(r,this.getWidth(n,e));var o=this._keyMapper(0,e);this._columnWidthCache[o]=r}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(t,a));var s=this._keyMapper(t,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function get(){return this._defaultHeight}},{key:"defaultWidth",get:function get(){return this._defaultWidth}}])}();function defaultKeyMapper(t,e){return t+"-"+e}var tt={OBSERVED:"observed",REQUESTED:"requested"},et=function(t){function CollectionView(){var t;a()(this,CollectionView);for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=c()(this,(t=CollectionView.__proto__||o()(CollectionView)).call.apply(t,[this].concat(r)));return i.state={isScrolling:!1,scrollLeft:0,scrollTop:0},i._calculateSizeAndPositionDataOnNextUpdate=!1,i._onSectionRenderedMemoizer=createCallbackMemoizer(),i._onScrollMemoizer=createCallbackMemoizer(!1),i._invokeOnSectionRenderedHelper=function(){var t=i.props,e=t.cellLayoutManager,r=t.onSectionRendered;i._onSectionRenderedMemoizer({callback:r,indices:{indices:e.getLastRenderedIndices()}})},i._setScrollingContainerRef=function(t){i._scrollingContainer=t},i._updateScrollPositionForScrollToCell=function(){var t=i.props,e=t.cellLayoutManager,r=t.height,n=t.scrollToAlignment,o=t.scrollToCell,a=t.width,s=i.state,u=s.scrollLeft,l=s.scrollTop;if(o>=0){var c=e.getScrollPositionForCell({align:n,cellIndex:o,height:r,scrollLeft:u,scrollTop:l,width:a});c.scrollLeft===u&&c.scrollTop===l||i._setScrollPosition(c)}},i._onScroll=function(t){if(t.target===i._scrollingContainer){i._enablePointerEventsAfterDelay();var e=i.props,r=e.cellLayoutManager,n=e.height,o=e.isScrollingChange,a=e.width,s=i._scrollbarSize,u=r.getTotalSize(),l=u.height,c=u.width,p=Math.max(0,Math.min(c-a+s,t.target.scrollLeft)),f=Math.max(0,Math.min(l-n+s,t.target.scrollTop));if(i.state.scrollLeft!==p||i.state.scrollTop!==f){var d=t.cancelable?tt.OBSERVED:tt.REQUESTED;i.state.isScrolling||o(!0),i.setState({isScrolling:!0,scrollLeft:p,scrollPositionChangeReason:d,scrollTop:f})}i._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:f,totalWidth:c,totalHeight:l})}},i._scrollbarSize=R()(),void 0===i._scrollbarSize?(i._scrollbarSizeMeasured=!1,i._scrollbarSize=0):i._scrollbarSizeMeasured=!0,i}return f()(CollectionView,t),u()(CollectionView,[{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.cellLayoutManager,r=t.scrollLeft,n=t.scrollToCell,o=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=R()(),this._scrollbarSizeMeasured=!0,this.setState({})),n>=0?this._updateScrollPositionForScrollToCell():(r>=0||o>=0)&&this._setScrollPosition({scrollLeft:r,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=e.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var r=this.props,n=r.height,o=r.scrollToAlignment,i=r.scrollToCell,a=r.width,s=this.state,u=s.scrollLeft,l=s.scrollPositionChangeReason,c=s.scrollTop;l===tt.REQUESTED&&(u>=0&&u!==e.scrollLeft&&u!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=u),c>=0&&c!==e.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),n===t.height&&o===t.scrollToAlignment&&i===t.scrollToCell&&a===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function render(){var t=this.props,e=t.autoHeight,r=t.cellCount,n=t.cellLayoutManager,o=t.className,i=t.height,a=t.horizontalOverscanSize,s=t.id,u=t.noContentRenderer,l=t.style,c=t.verticalOverscanSize,p=t.width,f=this.state,h=f.isScrolling,m=f.scrollLeft,y=f.scrollTop;(this._lastRenderedCellCount!==r||this._lastRenderedCellLayoutManager!==n||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=r,this._lastRenderedCellLayoutManager=n,this._calculateSizeAndPositionDataOnNextUpdate=!1,n.calculateSizeAndPositionData());var g=n.getTotalSize(),b=g.height,S=g.width,x=Math.max(0,m-a),w=Math.max(0,y-c),E=Math.min(S,m+p+a),P=Math.min(b,y+i+c),C=i>0&&p>0?n.cellRenderers({height:P-w,isScrolling:h,width:E-x,x:x,y:w}):[],T={boxSizing:"border-box",direction:"ltr",height:e?"auto":i,position:"relative",WebkitOverflowScrolling:"touch",width:p,willChange:"transform"},D=b>i?this._scrollbarSize:0,M=S>p?this._scrollbarSize:0;return T.overflowX=S+D<=p?"hidden":"auto",T.overflowY=b+M<=i?"hidden":"auto",d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_("ReactVirtualized__Collection",o),id:s,onScroll:this._onScroll,role:"grid",style:v()({},T,l),tabIndex:0},r>0&&d.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:S,overflow:"hidden",pointerEvents:h?"none":"",width:S}},C),0===r&&u())}},{key:"_enablePointerEventsAfterDelay",value:function _enablePointerEventsAfterDelay(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(t){var e=this,r=t.scrollLeft,n=t.scrollTop,o=t.totalHeight,i=t.totalWidth;this._onScrollMemoizer({callback:function callback(t){var r=t.scrollLeft,n=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:r,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_setScrollPosition",value:function _setScrollPosition(t){var e=t.scrollLeft,r=t.scrollTop,n={scrollPositionChangeReason:tt.REQUESTED};e>=0&&(n.scrollLeft=e),r>=0&&(n.scrollTop=r),(e>=0&&e!==this.state.scrollLeft||r>=0&&r!==this.state.scrollTop)&&this.setState(n)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),CollectionView}(d.PureComponent);et.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function noContentRenderer(){return null},onScroll:function onScroll(){return null},onSectionRendered:function onSectionRendered(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},et.propTypes={},Object(h.polyfill)(et);var rt=et,nt=function(){function Section(t){var e=t.height,r=t.width,n=t.x,o=t.y;a()(this,Section),this.height=e,this.width=r,this.x=n,this.y=o,this._indexMap={},this._indices=[]}return u()(Section,[{key:"addCellIndex",value:function addCellIndex(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function getCellIndices(){return this._indices}},{key:"toString",value:function toString(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),Section}(),ot=100,it=function(){function SectionManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;a()(this,SectionManager),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return u()(SectionManager,[{key:"getCellIndices",value:function getCellIndices(t){var e=t.height,r=t.width,n=t.x,o=t.y,i={};return this.getSections({height:e,width:r,x:n,y:o}).forEach((function(t){return t.getCellIndices().forEach((function(t){i[t]=t}))})),D()(i).map((function(t){return i[t]}))}},{key:"getCellMetadata",value:function getCellMetadata(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function getSections(t){for(var e=t.height,r=t.width,n=t.x,o=t.y,i=Math.floor(n/this._sectionSize),a=Math.floor((n+r-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),u=Math.floor((o+e-1)/this._sectionSize),l=[],c=i;c<=a;c++)for(var p=s;p<=u;p++){var f=c+"."+p;this._sections[f]||(this._sections[f]=new nt({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:p*this._sectionSize})),l.push(this._sections[f])}return l}},{key:"getTotalSectionCount",value:function getTotalSectionCount(){return D()(this._sections).length}},{key:"toString",value:function toString(){var t=this;return D()(this._sections).map((function(e){return t._sections[e].toString()}))}},{key:"registerCell",value:function registerCell(t){var e=t.cellMetadatum,r=t.index;this._cellMetadata[r]=e,this.getSections(e).forEach((function(t){return t.addCellIndex({index:r})}))}}]),SectionManager}();function getUpdatedOffsetForIndex(t){var e=t.align,r=void 0===e?"auto":e,n=t.cellOffset,o=t.cellSize,i=t.containerSize,a=t.currentOffset,s=n,u=s-i+o;switch(r){case"start":return s;case"end":return u;case"center":return s-(i-o)/2;default:return Math.max(u,Math.min(s,a))}}var at=function(t){function Collection(t,e){a()(this,Collection);var r=c()(this,(Collection.__proto__||o()(Collection)).call(this,t,e));return r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return f()(Collection,t),u()(Collection,[{key:"forceUpdate",value:function forceUpdate(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function render(){var t=S()(this.props,[]);return d.createElement(rt,v()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function calculateSizeAndPositionData(){var t=this.props,e=function calculateSizeAndPositionData_calculateSizeAndPositionData(t){for(var e=t.cellCount,r=t.cellSizeAndPositionGetter,n=t.sectionSize,o=[],i=new it(n),a=0,s=0,u=0;u<e;u++){var l=r({index:u});if(null==l.height||isNaN(l.height)||null==l.width||isNaN(l.width)||null==l.x||isNaN(l.x)||null==l.y||isNaN(l.y))throw Error("Invalid metadata returned for cell "+u+":\n        x:"+l.x+", y:"+l.y+", width:"+l.width+", height:"+l.height);a=Math.max(a,l.y+l.height),s=Math.max(s,l.x+l.width),o[u]=l,i.registerCell({cellMetadatum:l,index:u})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:t.cellCount,cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,sectionSize:t.sectionSize});this._cellMetadata=e.cellMetadata,this._sectionManager=e.sectionManager,this._height=e.height,this._width=e.width}},{key:"getLastRenderedIndices",value:function getLastRenderedIndices(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function getScrollPositionForCell(t){var e=t.align,r=t.cellIndex,n=t.height,o=t.scrollLeft,i=t.scrollTop,a=t.width,s=this.props.cellCount;if(r>=0&&r<s){var u=this._cellMetadata[r];o=getUpdatedOffsetForIndex({align:e,cellOffset:u.x,cellSize:u.width,containerSize:a,currentOffset:o,targetIndex:r}),i=getUpdatedOffsetForIndex({align:e,cellOffset:u.y,cellSize:u.height,containerSize:n,currentOffset:i,targetIndex:r})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function getTotalSize(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function cellRenderers(t){var e=this,r=t.height,n=t.isScrolling,o=t.width,i=t.x,a=t.y,s=this.props,u=s.cellGroupRenderer,l=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:r,width:o,x:i,y:a}),u({cellCache:this._cellCache,cellRenderer:l,cellSizeAndPositionGetter:function cellSizeAndPositionGetter(t){var r=t.index;return e._sectionManager.getCellMetadata({index:r})},indices:this._lastRenderedCellIndices,isScrolling:n})}},{key:"_isScrollingChange",value:function _isScrollingChange(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function _setCollectionViewRef(t){this._collectionView=t}}]),Collection}(d.PureComponent);at.defaultProps={"aria-label":"grid",cellGroupRenderer:function defaultCellGroupRenderer(t){var e=t.cellCache,r=t.cellRenderer,n=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map((function(t){var o=n({index:t}),a={index:t,isScrolling:i,key:t,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(t in e||(e[t]=r(a)),e[t]):r(a)})).filter((function(t){return!!t}))}};at.propTypes={};var st=function(t){function ColumnSizer(t,e){a()(this,ColumnSizer);var r=c()(this,(ColumnSizer.__proto__||o()(ColumnSizer)).call(this,t,e));return r._registerChild=r._registerChild.bind(r),r}return f()(ColumnSizer,t),u()(ColumnSizer,[{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=this.props,r=e.columnMaxWidth,n=e.columnMinWidth,o=e.columnCount,i=e.width;r===t.columnMaxWidth&&n===t.columnMinWidth&&o===t.columnCount&&i===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function render(){var t=this.props,e=t.children,r=t.columnMaxWidth,n=t.columnMinWidth,o=t.columnCount,i=t.width,a=n||1,s=r?Math.min(r,i):i,u=i/o;return u=Math.max(a,u),u=Math.min(s,u),u=Math.floor(u),e({adjustedWidth:Math.min(i,u*o),columnWidth:u,getColumnWidth:function getColumnWidth(){return u},registerChild:this._registerChild})}},{key:"_registerChild",value:function _registerChild(t){if(t&&"function"!==typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ColumnSizer}(d.PureComponent);st.propTypes={};var ut=r(284),lt=r.n(ut),ct=function(t){function InfiniteLoader(t,e){a()(this,InfiniteLoader);var r=c()(this,(InfiniteLoader.__proto__||o()(InfiniteLoader)).call(this,t,e));return r._loadMoreRowsMemoizer=createCallbackMemoizer(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return f()(InfiniteLoader,t),u()(InfiniteLoader,[{key:"resetLoadMoreRowsCache",value:function resetLoadMoreRowsCache(t){this._loadMoreRowsMemoizer=createCallbackMemoizer(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function render(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function _loadUnloadedRanges(t){var e=this,r=this.props.loadMoreRows;t.forEach((function(t){var n=r(t);n&&n.then((function(){(function isRangeVisible(t){var e=t.lastRenderedStartIndex,r=t.lastRenderedStopIndex,n=t.startIndex,o=t.stopIndex;return!(n>r||o<e)})({lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex})&&e._registeredChild&&function forceUpdateReactVirtualizedComponent(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r="function"===typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;r?r.call(t,e):t.forceUpdate()}(e._registeredChild,e._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function _onRowsRendered(t){var e=t.startIndex,r=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=r,this._doStuff(e,r)}},{key:"_doStuff",value:function _doStuff(t,e){var r,n=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,s=o.rowCount,u=o.threshold,l=function scanForUnloadedRanges(t){for(var e=t.isRowLoaded,r=t.minimumBatchSize,n=t.rowCount,o=t.startIndex,i=t.stopIndex,a=[],s=null,u=null,l=o;l<=i;l++){e({index:l})?null!==u&&(a.push({startIndex:s,stopIndex:u}),s=u=null):(u=l,null===s&&(s=l))}if(null!==u){for(var c=Math.min(Math.max(u,s+r-1),n-1),p=u+1;p<=c&&!e({index:p});p++)u=p;a.push({startIndex:s,stopIndex:u})}if(a.length)for(var f=a[0];f.stopIndex-f.startIndex+1<r&&f.startIndex>0;){var d=f.startIndex-1;if(e({index:d}))break;f.startIndex=d}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,t-u),stopIndex:Math.min(s-1,e+u)}),c=(r=[]).concat.apply(r,lt()(l.map((function(t){return[t.startIndex,t.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function callback(){n._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function _registerChild(t){this._registeredChild=t}}]),InfiniteLoader}(d.PureComponent);ct.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};ct.propTypes={};var pt=r(444),ft=r.n(pt),dt=function(t){function List(){var t,e,r,n;a()(this,List);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=List.__proto__||o()(List)).call.apply(t,[this].concat(s))),r._cellRenderer=function(t){var e=t.parent,n=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,s=t.key,u=r.props.rowRenderer;return ft()(o,"width").writable&&(o.width="100%"),u({index:n,style:o,isScrolling:i,isVisible:a,key:s,parent:e})},r._setRef=function(t){r.Grid=t},r._onScroll=function(t){var e=t.clientHeight,n=t.scrollHeight,o=t.scrollTop;(0,r.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:o})},r._onSectionRendered=function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:o,stopIndex:i})},n=e,c()(r,n)}return f()(List,t),u()(List,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(t){var e=t.alignment,r=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:r,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,r=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:e})}},{key:"measureAllRows",value:function measureAllRows(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,r=void 0===e?0:e,n=t.rowIndex,o=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:r})}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function scrollToPosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function scrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function render(){var t=this.props,e=t.className,r=t.noRowsRenderer,n=t.scrollToIndex,o=t.width,i=_("ReactVirtualized__List",e);return d.createElement(W,v()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),List}(d.PureComponent);dt.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function onScroll(){},noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},dt.propTypes=null;var ht=dt,mt=r(174),yt=r.n(mt),gt=r(285),vt=r.n(gt);var _t={ge:function dispatchBsearchGE(t,e,r,n,o){return"function"===typeof r?function _GEP(t,e,r,n,o){for(var i=r+1;e<=r;){var a=e+r>>>1;o(t[a],n)>=0?(i=a,r=a-1):e=a+1}return i}(t,void 0===n?0:0|n,void 0===o?t.length-1:0|o,e,r):function _GEA(t,e,r,n){for(var o=r+1;e<=r;){var i=e+r>>>1;t[i]>=n?(o=i,r=i-1):e=i+1}return o}(t,void 0===r?0:0|r,void 0===n?t.length-1:0|n,e)},gt:function dispatchBsearchGT(t,e,r,n,o){return"function"===typeof r?function _GTP(t,e,r,n,o){for(var i=r+1;e<=r;){var a=e+r>>>1;o(t[a],n)>0?(i=a,r=a-1):e=a+1}return i}(t,void 0===n?0:0|n,void 0===o?t.length-1:0|o,e,r):function _GTA(t,e,r,n){for(var o=r+1;e<=r;){var i=e+r>>>1;t[i]>n?(o=i,r=i-1):e=i+1}return o}(t,void 0===r?0:0|r,void 0===n?t.length-1:0|n,e)},lt:function dispatchBsearchLT(t,e,r,n,o){return"function"===typeof r?function _LTP(t,e,r,n,o){for(var i=e-1;e<=r;){var a=e+r>>>1;o(t[a],n)<0?(i=a,e=a+1):r=a-1}return i}(t,void 0===n?0:0|n,void 0===o?t.length-1:0|o,e,r):function _LTA(t,e,r,n){for(var o=e-1;e<=r;){var i=e+r>>>1;t[i]<n?(o=i,e=i+1):r=i-1}return o}(t,void 0===r?0:0|r,void 0===n?t.length-1:0|n,e)},le:function dispatchBsearchLE(t,e,r,n,o){return"function"===typeof r?function _LEP(t,e,r,n,o){for(var i=e-1;e<=r;){var a=e+r>>>1;o(t[a],n)<=0?(i=a,e=a+1):r=a-1}return i}(t,void 0===n?0:0|n,void 0===o?t.length-1:0|o,e,r):function _LEA(t,e,r,n){for(var o=e-1;e<=r;){var i=e+r>>>1;t[i]<=n?(o=i,e=i+1):r=i-1}return o}(t,void 0===r?0:0|r,void 0===n?t.length-1:0|n,e)},eq:function dispatchBsearchEQ(t,e,r,n,o){return"function"===typeof r?function _EQP(t,e,r,n,o){for(;e<=r;){var i=e+r>>>1,a=o(t[i],n);if(0===a)return i;a<=0?e=i+1:r=i-1}return-1}(t,void 0===n?0:0|n,void 0===o?t.length-1:0|o,e,r):function _EQA(t,e,r,n){for(;e<=r;){var o=e+r>>>1,i=t[o];if(i===n)return o;i<=n?e=o+1:r=o-1}return-1}(t,void 0===r?0:0|r,void 0===n?t.length-1:0|n,e)}},bt=0,St=1;function IntervalTreeNode(t,e,r,n,o){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=o,this.count=(e?e.count:0)+(r?r.count:0)+n.length}var xt=IntervalTreeNode.prototype;function copy(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function rebuild(t,e){var r=createIntervalTree(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function rebuildWithInterval(t,e){var r=t.intervals([]);r.push(e),rebuild(t,r)}function rebuildWithoutInterval(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?bt:(r.splice(n,1),rebuild(t,r),St)}function reportLeftRange(t,e,r){for(var n=0;n<t.length&&t[n][0]<=e;++n){var o=r(t[n]);if(o)return o}}function reportRightRange(t,e,r){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var o=r(t[n]);if(o)return o}}function reportRange(t,e){for(var r=0;r<t.length;++r){var n=e(t[r]);if(n)return n}}function compareNumbers(t,e){return t-e}function compareBegin(t,e){var r=t[0]-e[0];return r||t[1]-e[1]}function compareEnd(t,e){var r=t[1]-e[1];return r||t[0]-e[0]}function createIntervalTree(t){if(0===t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t[r][0],t[r][1]);e.sort(compareNumbers);var n=e[e.length>>1],o=[],i=[],a=[];for(r=0;r<t.length;++r){var s=t[r];s[1]<n?o.push(s):n<s[0]?i.push(s):a.push(s)}var u=a,l=a.slice();return u.sort(compareBegin),l.sort(compareEnd),new IntervalTreeNode(n,createIntervalTree(o),createIntervalTree(i),u,l)}function IntervalTree(t){this.root=t}xt.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},xt.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?rebuildWithInterval(this,t):this.left.insert(t):this.left=createIntervalTree([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?rebuildWithInterval(this,t):this.right.insert(t):this.right=createIntervalTree([t]);else{var r=_t.ge(this.leftPoints,t,compareBegin),n=_t.ge(this.rightPoints,t,compareEnd);this.leftPoints.splice(r,0,t),this.rightPoints.splice(n,0,t)}},xt.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?rebuildWithoutInterval(this,t):2===(i=this.left.remove(t))?(this.left=null,this.count-=1,St):(i===St&&(this.count-=1),i):bt;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?rebuildWithoutInterval(this,t):2===(i=this.right.remove(t))?(this.right=null,this.count-=1,St):(i===St&&(this.count-=1),i):bt;if(1===this.count)return this.leftPoints[0]===t?2:bt;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var r=this,n=this.left;n.right;)r=n,n=n.right;if(r===this)n.right=this.right;else{var o=this.left,i=this.right;r.count-=n.count,r.right=n.left,n.left=o,n.right=i}copy(this,n),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?copy(this,this.left):copy(this,this.right);return St}for(o=_t.ge(this.leftPoints,t,compareBegin);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(i=_t.ge(this.rightPoints,t,compareEnd);i<this.rightPoints.length&&this.rightPoints[i][1]===t[1];++i)if(this.rightPoints[i]===t)return this.rightPoints.splice(i,1),St}return bt},xt.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(r=this.left.queryPoint(t,e))return r;return reportLeftRange(this.leftPoints,t,e)}if(t>this.mid){var r;if(this.right)if(r=this.right.queryPoint(t,e))return r;return reportRightRange(this.rightPoints,t,e)}return reportRange(this.leftPoints,e)},xt.queryInterval=function(t,e,r){var n;if(t<this.mid&&this.left&&(n=this.left.queryInterval(t,e,r)))return n;if(e>this.mid&&this.right&&(n=this.right.queryInterval(t,e,r)))return n;return e<this.mid?reportLeftRange(this.leftPoints,e,r):t>this.mid?reportRightRange(this.rightPoints,t,r):reportRange(this.leftPoints,r)};var wt=IntervalTree.prototype;wt.insert=function(t){this.root?this.root.insert(t):this.root=new IntervalTreeNode(t[0],null,null,[t],[t])},wt.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==bt}return!1},wt.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},wt.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(wt,"count",{get:function get(){return this.root?this.root.count:0}}),Object.defineProperty(wt,"intervals",{get:function get(){return this.root?this.root.intervals([]):[]}});var Et=function(){function PositionCache(){a()(this,PositionCache),this._columnSizeMap={},this._intervalTree=function createWrapper(t){return t&&0!==t.length?new IntervalTree(createIntervalTree(t)):new IntervalTree(null)}(),this._leftMap={}}return u()(PositionCache,[{key:"estimateTotalHeight",value:function estimateTotalHeight(t,e,r){var n=t-this.count;return this.tallestColumnSize+Math.ceil(n/e)*r}},{key:"range",value:function range(t,e,r){var n=this;this._intervalTree.queryInterval(t,t+e,(function(t){var e=vt()(t,3),o=e[0],i=(e[1],e[2]);return r(i,n._leftMap[i],o)}))}},{key:"setPosition",value:function setPosition(t,e,r,n){this._intervalTree.insert([r,r+n,t]),this._leftMap[t]=e;var o=this._columnSizeMap,i=o[e];o[e]=void 0===i?r+n:Math.max(i,r+n)}},{key:"count",get:function get(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function get(){var t=this._columnSizeMap,e=0;for(var r in t){var n=t[r];e=0===e?n:Math.min(e,n)}return e}},{key:"tallestColumnSize",get:function get(){var t=this._columnSizeMap,e=0;for(var r in t){var n=t[r];e=Math.max(e,n)}return e}}]),PositionCache}(),Pt=function(t){function Masonry(){var t,e,r,n;a()(this,Masonry);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=Masonry.__proto__||o()(Masonry)).call.apply(t,[this].concat(s))),r.state={isScrolling:!1,scrollTop:0},r._invalidateOnUpdateStartIndex=null,r._invalidateOnUpdateStopIndex=null,r._positionCache=new Et,r._startIndex=null,r._startIndexMemoized=null,r._stopIndex=null,r._stopIndexMemoized=null,r._debounceResetIsScrollingCallback=function(){r.setState({isScrolling:!1})},r._setScrollingContainerRef=function(t){r._scrollingContainer=t},r._onScroll=function(t){var e=r.props.height,n=t.target.scrollTop,o=Math.min(Math.max(0,r._getEstimatedTotalHeight()-e),n);n===o&&(r._debounceResetIsScrolling(),r.state.scrollTop!==o&&r.setState({isScrolling:!0,scrollTop:o}))},n=e,c()(r,n)}return f()(Masonry,t),u()(Masonry,[{key:"clearCellPositions",value:function clearCellPositions(){this._positionCache=new Et,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function recomputeCellPositions(){var t=this._positionCache.count-1;this._positionCache=new Et,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.autoHeight,n=e.cellCount,o=e.cellMeasurerCache,i=e.cellRenderer,a=e.className,s=e.height,u=e.id,l=e.keyMapper,c=e.overscanByPixels,p=e.role,f=e.style,h=e.tabIndex,m=e.width,y=e.rowDirection,g=this.state,b=g.isScrolling,S=g.scrollTop,x=[],w=this._getEstimatedTotalHeight(),E=this._positionCache.shortestColumnSize,P=this._positionCache.count,C=0,T=void 0;if(this._positionCache.range(Math.max(0,S-c),s+2*c,(function(e,r,n){var a;"undefined"===typeof T?(C=e,T=e):(C=Math.min(C,e),T=Math.max(T,e)),x.push(i({index:e,isScrolling:b,key:l(e),parent:t,style:(a={height:o.getHeight(e)},yt()(a,"ltr"===y?"left":"right",r),yt()(a,"position","absolute"),yt()(a,"top",n),yt()(a,"width",o.getWidth(e)),a)}))})),E<S+s+c&&P<n)for(var D=Math.min(n-P,Math.ceil((S+s+c-E)/o.defaultHeight*m/o.defaultWidth)),M=P;M<P+D;M++)T=M,x.push(i({index:M,isScrolling:b,key:l(M),parent:this,style:{width:o.getWidth(M)}}));return this._startIndex=C,this._stopIndex=T,d.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_("ReactVirtualized__Masonry",a),id:u,onScroll:this._onScroll,role:p,style:v()({boxSizing:"border-box",direction:"ltr",height:r?"auto":s,overflowX:"hidden",overflowY:w<s?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},f),tabIndex:h},d.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:w,maxWidth:"100%",maxHeight:w,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},x))}},{key:"_checkInvalidateOnUpdate",value:function _checkInvalidateOnUpdate(){if("number"===typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function _debounceResetIsScrolling(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=z(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function _getEstimatedTotalHeight(){var t=this.props,e=t.cellCount,r=t.cellMeasurerCache,n=t.width,o=Math.max(1,Math.floor(n/r.defaultWidth));return this._positionCache.estimateTotalHeight(e,o,r.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function _invokeOnScrollCallback(){var t=this.props,e=t.height,r=t.onScroll,n=this.state.scrollTop;this._onScrollMemoized!==n&&(r({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:n}),this._onScrollMemoized=n)}},{key:"_invokeOnCellsRenderedCallback",value:function _invokeOnCellsRenderedCallback(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function _populatePositionCache(t,e){for(var r=this.props,n=r.cellMeasurerCache,o=r.cellPositioner,i=t;i<=e;i++){var a=o(i),s=a.left,u=a.top;this._positionCache.setPosition(i,s,u,n.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),Masonry}(d.PureComponent);function noop(){}Pt.defaultProps={autoHeight:!1,keyMapper:function identity(t){return t},onCellsRendered:noop,onScroll:noop,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Pt.propTypes=null;Object(h.polyfill)(Pt);var Ct=function(){function CellMeasurerCacheDecorator(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,CellMeasurerCacheDecorator),this.columnWidth=function(e){var r=e.index;t._cellMeasurerCache.columnWidth({index:r+t._columnIndexOffset})},this.rowHeight=function(e){var r=e.index;t._cellMeasurerCache.rowHeight({index:r+t._rowIndexOffset})};var r=e.cellMeasurerCache,n=e.columnIndexOffset,o=void 0===n?0:n,i=e.rowIndexOffset,s=void 0===i?0:i;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return u()(CellMeasurerCacheDecorator,[{key:"clear",value:function clear(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function clearAll(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function getHeight(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function getWidth(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function has(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function set(t,e,r,n){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,r,n)}},{key:"defaultHeight",get:function get(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function get(){return this._cellMeasurerCache.defaultWidth}}]),CellMeasurerCacheDecorator}(),Tt=function(t){function MultiGrid(t,e){a()(this,MultiGrid);var r=c()(this,(MultiGrid.__proto__||o()(MultiGrid)).call(this,t,e));Dt.call(r);var n=t.deferredMeasurementCache,i=t.fixedColumnCount,s=t.fixedRowCount;return r._maybeCalculateCachedStyles(!0),n&&(r._deferredMeasurementCacheBottomLeftGrid=s>0?new Ct({cellMeasurerCache:n,columnIndexOffset:0,rowIndexOffset:s}):n,r._deferredMeasurementCacheBottomRightGrid=i>0||s>0?new Ct({cellMeasurerCache:n,columnIndexOffset:i,rowIndexOffset:s}):n,r._deferredMeasurementCacheTopRightGrid=i>0?new Ct({cellMeasurerCache:n,columnIndexOffset:i,rowIndexOffset:0}):n),r}return f()(MultiGrid,t),u()(MultiGrid,[{key:"forceUpdateGrids",value:function forceUpdateGrids(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,r=void 0===e?0:e,n=t.rowIndex,o=void 0===n?0:n;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function measureAllCells(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,r=void 0===e?0:e,n=t.rowIndex,o=void 0===n?0:n,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,u=Math.max(0,r-a),l=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:r,rowIndex:l}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:u,rowIndex:l}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:r,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:u,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props,e=t.scrollLeft,r=t.scrollTop;if(e>0||r>0){var n={};e>0&&(n.scrollLeft=e),r>0&&(n.scrollTop=r),this.setState(n)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._handleInvalidatedGridSize()}},{key:"render",value:function render(){var t=this.props,e=t.onScroll,r=t.onSectionRendered,n=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),o=(t.scrollTop,t.scrollToRow),i=S()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,s=a.scrollLeft,u=a.scrollTop;return d.createElement("div",{style:this._containerOuterStyle},d.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(v()({},i,{onScroll:e,scrollLeft:s}))),d.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(v()({},i,{onScroll:e,scrollTop:u})),this._renderBottomRightGrid(v()({},i,{onScroll:e,onSectionRendered:r,scrollLeft:s,scrollToColumn:n,scrollToRow:o,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function _getBottomGridHeight(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function _getLeftGridWidth(t){var e=t.fixedColumnCount,r=t.columnWidth;if(null==this._leftGridWidth)if("function"===typeof r){for(var n=0,o=0;o<e;o++)n+=r({index:o});this._leftGridWidth=n}else this._leftGridWidth=r*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function _getRightGridWidth(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function _getTopGridHeight(t){var e=t.fixedRowCount,r=t.rowHeight;if(null==this._topGridHeight)if("function"===typeof r){for(var n=0,o=0;o<e;o++)n+=r({index:o});this._topGridHeight=n}else this._topGridHeight=r*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"===typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function _maybeCalculateCachedStyles(t){var e=this.props,r=e.columnWidth,n=e.enableFixedColumnScroll,o=e.enableFixedRowScroll,i=e.height,a=e.fixedColumnCount,s=e.fixedRowCount,u=e.rowHeight,l=e.style,c=e.styleBottomLeftGrid,p=e.styleBottomRightGrid,f=e.styleTopLeftGrid,d=e.styleTopRightGrid,h=e.width,m=t||i!==this._lastRenderedHeight||h!==this._lastRenderedWidth,y=t||r!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,g=t||s!==this._lastRenderedFixedRowCount||u!==this._lastRenderedRowHeight;(t||m||l!==this._lastRenderedStyle)&&(this._containerOuterStyle=v()({height:i,overflow:"visible",width:h},l)),(t||m||g)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:h},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:h}),(t||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=v()({left:0,overflowX:"hidden",overflowY:n?"auto":"hidden",position:"absolute"},c)),(t||y||p!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=v()({left:this._getLeftGridWidth(this.props),position:"absolute"},p)),(t||f!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=v()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},f)),(t||y||d!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=v()({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},d)),this._lastRenderedColumnWidth=r,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=u,this._lastRenderedStyle=l,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=p,this._lastRenderedStyleTopLeftGrid=f,this._lastRenderedStyleTopRightGrid=d,this._lastRenderedWidth=h}},{key:"_prepareForRender",value:function _prepareForRender(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function _renderBottomLeftGrid(t){var e=t.enableFixedColumnScroll,r=t.fixedColumnCount,n=t.fixedRowCount,o=t.rowCount,i=t.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!r)return null;var s=a?1:0,u=this._getBottomGridHeight(t),l=this._getLeftGridWidth(t),c=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=i?l+c:l,f=d.createElement(W,v()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:r,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-n)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return i?d.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:v()({},this._bottomLeftGridStyle,{height:u,width:l,overflowY:"hidden"})},f):f}},{key:"_renderBottomRightGrid",value:function _renderBottomRightGrid(t){var e=t.columnCount,r=t.fixedColumnCount,n=t.fixedRowCount,o=t.rowCount,i=t.scrollToColumn,a=t.scrollToRow;return d.createElement(W,v()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-r),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-n),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-r,scrollToRow:a-n,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function _renderTopLeftGrid(t){var e=t.fixedColumnCount,r=t.fixedRowCount;return e&&r?d.createElement(W,v()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:r,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function _renderTopRightGrid(t){var e=t.columnCount,r=t.enableFixedRowScroll,n=t.fixedColumnCount,o=t.fixedRowCount,i=t.scrollLeft,a=t.hideTopRightGridScrollbar,s=this.state,u=s.showHorizontalScrollbar,l=s.scrollbarSize;if(!o)return null;var c=u?1:0,p=this._getTopGridHeight(t),f=this._getRightGridWidth(t),h=u?l:0,m=p,y=this._topRightGridStyle;a&&(m=p+h,y=v()({},this._topRightGridStyle,{left:0}));var g=d.createElement(W,v()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-n)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:r?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:i,style:y,tabIndex:null,width:f}));return a?d.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:v()({},this._topRightGridStyle,{height:p,width:f,overflowX:"hidden"})},g):g}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),MultiGrid}(d.PureComponent);Tt.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Dt=function _initialiseProps(){var t=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(e){t._bottomLeftGrid=e},this._bottomRightGridRef=function(e){t._bottomRightGrid=e},this._cellRendererBottomLeftGrid=function(e){var r=e.rowIndex,n=S()(e,["rowIndex"]),o=t.props,i=o.cellRenderer,a=o.fixedRowCount;return r===o.rowCount-a?d.createElement("div",{key:n.key,style:v()({},n.style,{height:20})}):i(v()({},n,{parent:t,rowIndex:r+a}))},this._cellRendererBottomRightGrid=function(e){var r=e.columnIndex,n=e.rowIndex,o=S()(e,["columnIndex","rowIndex"]),i=t.props,a=i.cellRenderer,s=i.fixedColumnCount,u=i.fixedRowCount;return a(v()({},o,{columnIndex:r+s,parent:t,rowIndex:n+u}))},this._cellRendererTopRightGrid=function(e){var r=e.columnIndex,n=S()(e,["columnIndex"]),o=t.props,i=o.cellRenderer,a=o.columnCount,s=o.fixedColumnCount;return r===a-s?d.createElement("div",{key:n.key,style:v()({},n.style,{width:20})}):i(v()({},n,{columnIndex:r+s,parent:t}))},this._columnWidthRightGrid=function(e){var r=e.index,n=t.props,o=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,s=t.state,u=s.scrollbarSize;return s.showHorizontalScrollbar&&r===o-i?u:"function"===typeof a?a({index:r+i}):a},this._onScroll=function(e){var r=e.scrollLeft,n=e.scrollTop;t.setState({scrollLeft:r,scrollTop:n});var o=t.props.onScroll;o&&o(e)},this._onScrollbarPresenceChange=function(e){var r=e.horizontal,n=e.size,o=e.vertical,i=t.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(r!==a||o!==s){t.setState({scrollbarSize:n,showHorizontalScrollbar:r,showVerticalScrollbar:o});var u=t.props.onScrollbarPresenceChange;"function"===typeof u&&u({horizontal:r,size:n,vertical:o})}},this._onScrollLeft=function(e){var r=e.scrollLeft;t._onScroll({scrollLeft:r,scrollTop:t.state.scrollTop})},this._onScrollTop=function(e){var r=e.scrollTop;t._onScroll({scrollTop:r,scrollLeft:t.state.scrollLeft})},this._rowHeightBottomGrid=function(e){var r=e.index,n=t.props,o=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,s=t.state,u=s.scrollbarSize;return s.showVerticalScrollbar&&r===i-o?u:"function"===typeof a?a({index:r+o}):a},this._topLeftGridRef=function(e){t._topLeftGrid=e},this._topRightGridRef=function(e){t._topRightGrid=e}};Tt.propTypes={},Object(h.polyfill)(Tt);var Mt=function(t){function ScrollSync(t,e){a()(this,ScrollSync);var r=c()(this,(ScrollSync.__proto__||o()(ScrollSync)).call(this,t,e));return r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return f()(ScrollSync,t),u()(ScrollSync,[{key:"render",value:function render(){var t=this.props.children,e=this.state,r=e.clientHeight,n=e.clientWidth,o=e.scrollHeight,i=e.scrollLeft,a=e.scrollTop,s=e.scrollWidth;return t({clientHeight:r,clientWidth:n,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function _onScroll(t){var e=t.clientHeight,r=t.clientWidth,n=t.scrollHeight,o=t.scrollLeft,i=t.scrollTop,a=t.scrollWidth;this.setState({clientHeight:e,clientWidth:r,scrollHeight:n,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),ScrollSync}(d.PureComponent);Mt.propTypes={};function defaultHeaderRowRenderer(t){var e=t.className,r=t.columns,n=t.style;return d.createElement("div",{className:e,role:"row",style:n},r)}defaultHeaderRowRenderer.propTypes=null;var At={ASC:"ASC",DESC:"DESC"};function SortIndicator(t){var e=t.sortDirection,r=_("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===At.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===At.DESC});return d.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},e===At.ASC?d.createElement("path",{d:"M7 14l5-5 5 5z"}):d.createElement("path",{d:"M7 10l5 5 5-5z"}),d.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function defaultHeaderRenderer(t){var e=t.dataKey,r=t.label,n=t.sortBy,o=t.sortDirection,i=n===e,a=[d.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"===typeof r?r:null},r)];return i&&a.push(d.createElement(SortIndicator,{key:"SortIndicator",sortDirection:o})),a}function defaultRowRenderer(t){var e=t.className,r=t.columns,n=t.index,o=t.key,i=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,u=t.onRowMouseOver,l=t.onRowRightClick,c=t.rowData,p=t.style,f={"aria-rowindex":n+1};return(i||a||s||u||l)&&(f["aria-label"]="row",f.tabIndex=0,i&&(f.onClick=function(t){return i({event:t,index:n,rowData:c})}),a&&(f.onDoubleClick=function(t){return a({event:t,index:n,rowData:c})}),s&&(f.onMouseOut=function(t){return s({event:t,index:n,rowData:c})}),u&&(f.onMouseOver=function(t){return u({event:t,index:n,rowData:c})}),l&&(f.onContextMenu=function(t){return l({event:t,index:n,rowData:c})})),d.createElement("div",v()({},f,{className:e,key:o,role:"row",style:p}),r)}SortIndicator.propTypes={},defaultHeaderRenderer.propTypes=null,defaultRowRenderer.propTypes=null;var Rt=function(t){function Column(){return a()(this,Column),c()(this,(Column.__proto__||o()(Column)).apply(this,arguments))}return f()(Column,t),Column}(d.Component);Rt.defaultProps={cellDataGetter:function defaultCellDataGetter(t){var e=t.dataKey,r=t.rowData;return"function"===typeof r.get?r.get(e):r[e]},cellRenderer:function defaultCellRenderer(t){var e=t.cellData;return null==e?"":String(e)},defaultSortDirection:At.ASC,flexGrow:0,flexShrink:1,headerRenderer:defaultHeaderRenderer,style:{}};Rt.propTypes={};var Lt=function(t){function Table(t){a()(this,Table);var e=c()(this,(Table.__proto__||o()(Table)).call(this,t));return e.state={scrollbarWidth:0},e._createColumn=e._createColumn.bind(e),e._createRow=e._createRow.bind(e),e._onScroll=e._onScroll.bind(e),e._onSectionRendered=e._onSectionRendered.bind(e),e._setRef=e._setRef.bind(e),e}return f()(Table,t),u()(Table,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(t){var e=t.alignment,r=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:r}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(t){var e=t.columnIndex,r=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:e})}},{key:"measureAllRows",value:function measureAllRows(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,r=void 0===e?0:e,n=t.rowIndex,o=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:r})}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function scrollToPosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function scrollToRow(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"componentDidMount",value:function componentDidMount(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._setScrollbarWidth()}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=e.className,o=e.disableHeader,i=e.gridClassName,a=e.gridStyle,s=e.headerHeight,u=e.headerRowRenderer,l=e.height,c=e.id,p=e.noRowsRenderer,f=e.rowClassName,h=e.rowStyle,m=e.scrollToIndex,y=e.style,g=e.width,b=this.state.scrollbarWidth,S=o?l:l-s,x="function"===typeof f?f({index:-1}):f,w="function"===typeof h?h({index:-1}):h;return this._cachedColumnStyles=[],d.Children.toArray(r).forEach((function(e,r){var n=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[r]=v()({},n,{overflow:"hidden"})})),d.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":d.Children.toArray(r).length,"aria-rowcount":this.props.rowCount,className:_("ReactVirtualized__Table",n),id:c,role:"grid",style:y},!o&&u({className:_("ReactVirtualized__Table__headerRow",x),columns:this._getHeaderColumns(),style:v()({height:s,overflow:"hidden",paddingRight:b,width:g},w)}),d.createElement(W,v()({},this.props,{autoContainerWidth:!0,className:_("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:g,columnCount:1,height:S,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:b,scrollToRow:m,style:v()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function _createColumn(t){var e=t.column,r=t.columnIndex,n=t.isScrolling,o=t.parent,i=t.rowData,a=t.rowIndex,s=this.props.onColumnClick,u=e.props,l=u.cellDataGetter,c=u.cellRenderer,p=u.className,f=u.columnData,h=u.dataKey,m=u.id,y=c({cellData:l({columnData:f,dataKey:h,rowData:i}),columnData:f,columnIndex:r,dataKey:h,isScrolling:n,parent:o,rowData:i,rowIndex:a}),g=this._cachedColumnStyles[r],v="string"===typeof y?y:null;return d.createElement("div",{"aria-colindex":r+1,"aria-describedby":m,className:_("ReactVirtualized__Table__rowColumn",p),key:"Row"+a+"-Col"+r,onClick:function onClick(t){s&&s({columnData:f,dataKey:h,event:t})},role:"gridcell",style:g,title:v},y)}},{key:"_createHeader",value:function _createHeader(t){var e=t.column,r=t.index,n=this.props,o=n.headerClassName,i=n.headerStyle,a=n.onHeaderClick,s=n.sort,u=n.sortBy,l=n.sortDirection,c=e.props,p=c.columnData,f=c.dataKey,h=c.defaultSortDirection,m=c.disableSort,y=c.headerRenderer,g=c.id,b=c.label,S=!m&&s,x=_("ReactVirtualized__Table__headerColumn",o,e.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:S}),w=this._getFlexStyleForColumn(e,v()({},i,e.props.headerStyle)),E=y({columnData:p,dataKey:f,disableSort:m,label:b,sortBy:u,sortDirection:l}),P=void 0,C=void 0,T=void 0,D=void 0,M=void 0;if(S||a){var A=u!==f?h:l===At.DESC?At.ASC:At.DESC,R=function onClick(t){S&&s({defaultSortDirection:h,event:t,sortBy:f,sortDirection:A}),a&&a({columnData:p,dataKey:f,event:t})};M=e.props["aria-label"]||b||f,D="none",T=0,P=R,C=function onKeyDown(t){"Enter"!==t.key&&" "!==t.key||R(t)}}return u===f&&(D=l===At.ASC?"ascending":"descending"),d.createElement("div",{"aria-label":M,"aria-sort":D,className:x,id:g,key:"Header-Col"+r,onClick:P,onKeyDown:C,role:"columnheader",style:w,tabIndex:T},E)}},{key:"_createRow",value:function _createRow(t){var e=this,r=t.rowIndex,n=t.isScrolling,o=t.key,i=t.parent,a=t.style,s=this.props,u=s.children,l=s.onRowClick,c=s.onRowDoubleClick,p=s.onRowRightClick,f=s.onRowMouseOver,h=s.onRowMouseOut,m=s.rowClassName,y=s.rowGetter,g=s.rowRenderer,b=s.rowStyle,S=this.state.scrollbarWidth,x="function"===typeof m?m({index:r}):m,w="function"===typeof b?b({index:r}):b,E=y({index:r}),P=d.Children.toArray(u).map((function(t,o){return e._createColumn({column:t,columnIndex:o,isScrolling:n,parent:i,rowData:E,rowIndex:r,scrollbarWidth:S})})),C=_("ReactVirtualized__Table__row",x),T=v()({},a,{height:this._getRowHeight(r),overflow:"hidden",paddingRight:S},w);return g({className:C,columns:P,index:r,isScrolling:n,key:o,onRowClick:l,onRowDoubleClick:c,onRowRightClick:p,onRowMouseOver:f,onRowMouseOut:h,rowData:E,style:T})}},{key:"_getFlexStyleForColumn",value:function _getFlexStyleForColumn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props.flexGrow+" "+t.props.flexShrink+" "+t.props.width+"px",n=v()({},e,{flex:r,msFlex:r,WebkitFlex:r});return t.props.maxWidth&&(n.maxWidth=t.props.maxWidth),t.props.minWidth&&(n.minWidth=t.props.minWidth),n}},{key:"_getHeaderColumns",value:function _getHeaderColumns(){var t=this,e=this.props,r=e.children;return(e.disableHeader?[]:d.Children.toArray(r)).map((function(e,r){return t._createHeader({column:e,index:r})}))}},{key:"_getRowHeight",value:function _getRowHeight(t){var e=this.props.rowHeight;return"function"===typeof e?e({index:t}):e}},{key:"_onScroll",value:function _onScroll(t){var e=t.clientHeight,r=t.scrollHeight,n=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:r,scrollTop:n})}},{key:"_onSectionRendered",value:function _onSectionRendered(t){var e=t.rowOverscanStartIndex,r=t.rowOverscanStopIndex,n=t.rowStartIndex,o=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:r,startIndex:n,stopIndex:o})}},{key:"_setRef",value:function _setRef(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function _setScrollbarWidth(){if(this.Grid){var t=Object(X.findDOMNode)(this.Grid),e=t.clientWidth||0,r=(t.offsetWidth||0)-e;this.setState({scrollbarWidth:r})}}}]),Table}(d.PureComponent);Lt.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){return null},onScroll:function onScroll(){return null},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,rowRenderer:defaultRowRenderer,headerRowRenderer:defaultHeaderRowRenderer,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};Lt.propTypes={};var It=[],Ot=null,kt=null;function enablePointerEventsIfDisabled(){kt&&(kt=null,document.body&&null!=Ot&&(document.body.style.pointerEvents=Ot),Ot=null)}function enablePointerEventsAfterDelayCallback(){enablePointerEventsIfDisabled(),It.forEach((function(t){return t.__resetIsScrolling()}))}function onScrollWindow(t){t.currentTarget===window&&null==Ot&&document.body&&(Ot=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function enablePointerEventsAfterDelay(){kt&&U(kt);var t=0;It.forEach((function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)})),kt=z(enablePointerEventsAfterDelayCallback,t)}(),It.forEach((function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()}))}function registerScrollListener(t,e){It.some((function(t){return t.props.scrollElement===e}))||e.addEventListener("scroll",onScrollWindow),It.push(t)}function unregisterScrollListener(t,e){(It=It.filter((function(e){return e!==t}))).length||(e.removeEventListener("scroll",onScrollWindow),kt&&(U(kt),enablePointerEventsIfDisabled()))}var Ft=function isWindow(t){return t===window},Nt=function getBoundingBox(t){return t.getBoundingClientRect()};function getDimensions(t,e){if(t){if(Ft(t)){var r=window,n=r.innerHeight,o=r.innerWidth;return{height:"number"===typeof n?n:0,width:"number"===typeof o?o:0}}return Nt(t)}return{height:e.serverHeight,width:e.serverWidth}}function getPositionOffset(t,e){if(Ft(e)&&document.documentElement){var r=document.documentElement,n=Nt(t),o=Nt(r);return{top:n.top-o.top,left:n.left-o.left}}var i=getScrollOffset(e),a=Nt(t),s=Nt(e);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function getScrollOffset(t){return Ft(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var Bt=function getWindow(){return"undefined"!==typeof window?window:void 0},Ut=function(t){function WindowScroller(){var t,e,r,n;a()(this,WindowScroller);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=r=c()(this,(t=WindowScroller.__proto__||o()(WindowScroller)).call.apply(t,[this].concat(s))),r._window=Bt(),r._isMounted=!1,r._positionFromTop=0,r._positionFromLeft=0,r.state=v()({},getDimensions(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),r._registerChild=function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=t,r.updatePosition()},r._onChildScroll=function(t){var e=t.scrollTop;if(r.state.scrollTop!==e){var n=r.props.scrollElement;n&&("function"===typeof n.scrollTo?n.scrollTo(0,e+r._positionFromTop):n.scrollTop=e+r._positionFromTop)}},r._registerResizeListener=function(t){t===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(t,r._onResize)},r._unregisterResizeListener=function(t){t===window?window.removeEventListener("resize",r._onResize,!1):t&&r._detectElementResize.removeResizeListener(t,r._onResize)},r._onResize=function(){r.updatePosition()},r.__handleWindowScrollEvent=function(){if(r._isMounted){var t=r.props.onScroll,e=r.props.scrollElement;if(e){var n=getScrollOffset(e),o=Math.max(0,n.left-r._positionFromLeft),i=Math.max(0,n.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}},r.__resetIsScrolling=function(){r.setState({isScrolling:!1})},n=e,c()(r,n)}return f()(WindowScroller,t),u()(WindowScroller,[{key:"updatePosition",value:function updatePosition(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,r=this.state,n=r.height,o=r.width,i=this._child||X.findDOMNode(this);if(i instanceof Element&&t){var a=getPositionOffset(i,t);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=getDimensions(t,this.props);n===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),e({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props.scrollElement;this._detectElementResize=Object(K.a)(),this.updatePosition(t),t&&(registerScrollListener(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){var r=this.props.scrollElement,n=t.scrollElement;n!==r&&null!=n&&null!=r&&(this.updatePosition(r),unregisterScrollListener(this,n),registerScrollListener(this,r),this._unregisterResizeListener(n),this._registerResizeListener(r))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.scrollElement;t&&(unregisterScrollListener(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function render(){var t=this.props.children,e=this.state,r=e.isScrolling,n=e.scrollTop,o=e.scrollLeft,i=e.height,a=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:r,scrollLeft:o,scrollTop:n,width:a})}}]),WindowScroller}(d.PureComponent);Ut.defaultProps={onResize:function onResize(){},onScroll:function onScroll(){},scrollingResetTimeInterval:150,scrollElement:Bt(),serverHeight:0,serverWidth:0},Ut.propTypes=null;r.d(e,"a",(function(){return Z})),r.d(e,"b",(function(){return ht}))},function(t,e,r){"use strict";var n=r(0),o=r(2),i=r.n(o),a="@@__IMMUTABLE_MAP__@@";function isMap(t){return Boolean(t&&t[a])}function diffSources(t,e){var r=t.get("sources"),n=e.get("sources"),o=[],i=[],a=[],s=r.keySeq().toArray(),u=n.keySeq().toArray(),l=!0,c=!1,p=void 0;try{for(var f,d=s[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value,m=n.get(h);m?m.equals(r.get(h))||i.push({id:h,source:n.get(h)}):a.push({id:h,source:r.get(h)})}}catch(x){c=!0,p=x}finally{try{!l&&d.return&&d.return()}finally{if(c)throw p}}var y=!0,g=!1,v=void 0;try{for(var _,b=u[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var S=_.value;r.get(S)||o.push({id:S,source:n.get(S)})}}catch(x){g=!0,v=x}finally{try{!y&&b.return&&b.return()}finally{if(g)throw v}}return{enter:o,update:i,exit:a}}function diffLayers(t,e){var r=t.get("layers"),n=e.get("layers"),o=[],i=[],a={},s={};n.forEach((function(t,e){var r=t.get("id"),o=n.get(e+1);s[r]={layer:t,id:r,before:o?o.get("id"):null,enter:!0}})),r.forEach((function(t,e){var n=t.get("id"),o=r.get(e+1);a[n]={layer:t,id:n,before:o?o.get("id"):null},s[n]?s[n].enter=!1:i.push(a[n])}));var u=!0,l=!1,c=void 0;try{for(var p,f=n.reverse()[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value.get("id");a[d]&&a[d].layer.equals(s[d].layer)&&a[d].before===s[d].before||o.push(s[d])}}catch(h){l=!0,c=h}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return{updates:o,exiting:i}}function setDiffStyle(t,e,r){var n=t&&styleKeysMap(t)||{},o=styleKeysMap(e);function styleKeysMap(t){return t.map((function(){return!0})).delete("layers").delete("sources").toJS()}if(t&&!function propsOtherThanLayersOrSourcesDiffer(){var r=Object.keys(n),i=Object.keys(o);return r.length!==i.length||!!i.some((function(r){return t.get(r)!==e.get(r)}))}()){var i=function diffStyle(t,e){return{sourcesDiff:diffSources(t,e),layersDiff:diffLayers(t,e)}}(t,e),a=i.sourcesDiff,s=i.layersDiff;!function checkForEqualLayerSourceChanges(t,e){var r=t.map((function(t){return t.id})),n=e.filter((function(t){return r.includes(t.get("source"))}));if(n.size)throw new Error("You must remove any layers associated with sources you are removing: "+n.map((function(t){return t.get("id")})).toJS().join(""))}(a.exit,e.get("layers")),function applySourceLayerChanges(t,e,r,n){if(n.updates.some((function(t){return t.layer.get("ref")})))return void t.setStyle(e.toJS());var o=!0,i=!1,a=void 0;try{for(var s,u=r.enter[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;t.addSource(l.id,l.source.toJS())}}catch(O){i=!0,a=O}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}var c=!0,p=!1,f=void 0;try{for(var d,h=r.update[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var m=d.value;updateStyleSource(t,m)}}catch(O){p=!0,f=O}finally{try{!c&&h.return&&h.return()}finally{if(p)throw f}}var y=!0,g=!1,v=void 0;try{for(var _,b=n.exiting[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var S=_.value;t.style.getLayer(S.id)&&t.removeLayer(S.id)}}catch(O){g=!0,v=O}finally{try{!y&&b.return&&b.return()}finally{if(g)throw v}}var x=!0,w=!1,E=void 0;try{for(var P,C=n.updates[Symbol.iterator]();!(x=(P=C.next()).done);x=!0){var T=P.value;T.enter||t.removeLayer(T.id),t.addLayer(T.layer.toJS(),T.before)}}catch(O){w=!0,E=O}finally{try{!x&&C.return&&C.return()}finally{if(w)throw E}}var D=!0,M=!1,A=void 0;try{for(var R,L=r.exit[Symbol.iterator]();!(D=(R=L.next()).done);D=!0){var I=R.value;t.removeSource(I.id)}}catch(O){M=!0,A=O}finally{try{!D&&L.return&&L.return()}finally{if(M)throw A}}}(r,e,a,s)}else r.setStyle(e.toJS())}function updateStyleSource(t,e){var r=e.source.toJS();if("geojson"===r.type){var n=t.getSource(e.id);if("geojson"===n.type){var o=n.workerOptions,i=o.geojsonVtOptions.extent/512;if((void 0===r.maxzoom||r.maxzoom===o.geojsonVtOptions.maxZoom)&&(void 0===r.buffer||r.buffer===o.geojsonVtOptions.buffer/i)&&(void 0===r.tolerance||r.tolerance===o.geojsonVtOptions.tolerance/i)&&(void 0===r.cluster||r.cluster===o.cluster)&&(void 0===r.clusterRadius||r.clusterRadius===o.superclusterOptions.radius/i)&&(void 0===r.clusterMaxZoom||r.clusterMaxZoom===o.superclusterOptions.maxZoom))return void n.setData(r.data)}}t.removeSource(e.id),t.addSource(e.id,r)}var s={};function checkNumber(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function round(t){return Math.round(t/s.EPSILON)*s.EPSILON}function formatValue(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,r=void 0===e?s.precision||4:e;return t=round(t),parseFloat(t.toPrecision(r))}function common_equals(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t===e)return!0;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!common_equals(t[r],e[r]))return!1;return!0}return Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!function _instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!==typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}s.EPSILON=1e-12,s.debug=!0,s.precision=4,s.printTypes=!1,s.printDegrees=!1,s.printRowMajor=!0;var u=function(t){function MathArray(){return _classCallCheck(this,MathArray),_possibleConstructorReturn(this,(MathArray.__proto__||Object.getPrototypeOf(MathArray)).apply(this,arguments))}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(MathArray,t),function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(MathArray,[{key:"clone",value:function clone(){return(new this.constructor).copy(this).check()}},{key:"copy",value:function copy(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t[e];return this.check()}},{key:"set",value:function set(){for(var t=0;t<this.ELEMENTS;++t)this[t]=(t<0||arguments.length<=t?void 0:arguments[t])||0;return this.check()}},{key:"fromArray",value:function fromArray(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}},{key:"toString",value:function toString(){return this.formatString(s)}},{key:"formatString",value:function formatString(t){for(var e="",r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+formatValue(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"toArray",value:function toArray(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}},{key:"toFloat32Array",value:function toFloat32Array(){return new Float32Array(this)}},{key:"equals",value:function equals(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!common_equals(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function exactEquals(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function negate(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"inverse",value:function inverse(){for(var t=0;t<this.ELEMENTS;++t)this[t]=1/this[t];return this.check()}},{key:"lerp",value:function lerp(t,e,r){void 0===r&&(r=e,e=t,t=this);for(var n=0;n<this.ELEMENTS;++n){var o=t[n];this[n]=o+r*(e[n]-o)}return this.check()}},{key:"min",value:function min(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function max(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function clamp(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}},{key:"validate",value:function validate(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=t&&t.length===this.ELEMENTS,r=0;r<this.ELEMENTS;++r)e=e&&Number.isFinite(t[r]);return e}},{key:"check",value:function check(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(s.debug&&!this.validate(t))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"sub",value:function sub(t){return this.subtract(t)}},{key:"setScalar",value:function setScalar(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function addScalar(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function subScalar(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function multiplyScalar(t){return this.scale(t)}},{key:"divideScalar",value:function divideScalar(t){return this.scale(1/t)}},{key:"clampScalar",value:function clampScalar(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}}]),MathArray}(function _extendableBuiltin(t){function ExtendableBuiltin(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return ExtendableBuiltin.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableBuiltin,t):ExtendableBuiltin.__proto__=t,ExtendableBuiltin}(Array));function vector_typeof(t){return(vector_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector_classCallCheck(t,e){if(!function vector_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vector_possibleConstructorReturn(t,e){return!e||"object"!==vector_typeof(e)&&"function"!==typeof e?function vector_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var l=function assert(t,e){if(!t)throw new Error(e)},c=function(t){function Vector(){return vector_classCallCheck(this,Vector),vector_possibleConstructorReturn(this,(Vector.__proto__||Object.getPrototypeOf(Vector)).apply(this,arguments))}return function vector_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector,t),function vector_createClass(t,e,r){return e&&vector_defineProperties(t.prototype,e),r&&vector_defineProperties(t,r),t}(Vector,[{key:"len",value:function len(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function magnitude(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function lengthSquared(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"distance",value:function distance(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function distanceSquared(t){for(var e=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-t[r];e+=n*n}return checkNumber(e)}},{key:"dot",value:function dot(t){for(var e=0,r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return checkNumber(e)}},{key:"normalize",value:function normalize(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"add",value:function add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<this.ELEMENTS;++i)this[i]+=o[i];return this.check()}},{key:"subtract",value:function subtract(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<this.ELEMENTS;++i)this[i]-=o[i];return this.check()}},{key:"multiply",value:function multiply(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<this.ELEMENTS;++i)this[i]*=o[i];return this.check()}},{key:"divide",value:function divide(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<this.ELEMENTS;++i)this[i]/=o[i];return this.check()}},{key:"scale",value:function scale(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"scaleAndAdd",value:function scaleAndAdd(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=this[r]*e+t[r];return this.check()}},{key:"lengthSq",value:function lengthSq(){return this.lengthSquared()}},{key:"distanceTo",value:function distanceTo(t){return this.distance(t)}},{key:"distanceToSquared",value:function distanceToSquared(t){return this.distanceSquared(t)}},{key:"getComponent",value:function getComponent(t){return l(t>=0&&t<this.ELEMENTS,"index is out of range"),checkNumber(this[t])}},{key:"setComponent",value:function setComponent(t,e){return l(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function addVectors(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function subVectors(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function multiplyVectors(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}]),Vector}(u),p=r(446),f=r.n(p);function vector2_typeof(t){return(vector2_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector2_classCallCheck(t,e){if(!function vector2_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector2_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vector2_possibleConstructorReturn(t,e){return!e||"object"!==vector2_typeof(e)&&"function"!==typeof e?function vector2_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var d=function(t){function Vector2(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return vector2_classCallCheck(this,Vector2),t=vector2_possibleConstructorReturn(this,(Vector2.__proto__||Object.getPrototypeOf(Vector2)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,r),t}return function vector2_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector2,t),function vector2_createClass(t,e,r){return e&&vector2_defineProperties(t.prototype,e),r&&vector2_defineProperties(t,r),t}(Vector2,[{key:"cross",value:function cross(t){return f()(this,this,t),this.check()}},{key:"horizontalAngle",value:function horizontalAngle(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function verticalAngle(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function operation(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,[this,this].concat(r)),this.check()}},{key:"ELEMENTS",get:function get(){return 2}},{key:"x",get:function get(){return this[0]},set:function set(t){return this[0]=checkNumber(t)}},{key:"y",get:function get(){return this[1]},set:function set(t){return this[1]=checkNumber(t)}}]),Vector2}(c),h=r(447),m=r.n(h),y=r(287),g=r.n(y),v=r(448),_=r.n(v),b=r(449),S=r.n(b),x=r(450),w=r.n(x);function vector3_typeof(t){return(vector3_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vector3_classCallCheck(t,e){if(!function vector3_instanceof(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function vector3_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vector3_possibleConstructorReturn(t,e){return!e||"object"!==vector3_typeof(e)&&"function"!==typeof e?function vector3_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var E=[0,0,0],P=function(t){function Vector3(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vector3_classCallCheck(this,Vector3),t=vector3_possibleConstructorReturn(this,(Vector3.__proto__||Object.getPrototypeOf(Vector3)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,r,n),t}return function vector3_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vector3,t),function vector3_createClass(t,e,r){return e&&vector3_defineProperties(t.prototype,e),r&&vector3_defineProperties(t,r),t}(Vector3,[{key:"angle",value:function angle(t){return m()(this,t)}},{key:"cross",value:function cross(t){return g()(this,this,t),this.check()}},{key:"rotateX",value:function rotateX(t){var e=t.radians,r=t.origin,n=void 0===r?E:r;return _()(this,this,n,e),this.check()}},{key:"rotateY",value:function rotateY(t){var e=t.radians,r=t.origin,n=void 0===r?E:r;return S()(this,this,n,e),this.check()}},{key:"rotateZ",value:function rotateZ(t){var e=t.radians,r=t.origin,n=void 0===r?E:r;return w()(this,this,n,e),this.check()}},{key:"operation",value:function operation(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,[this,this].concat(r)),this.check()}},{key:"ELEMENTS",get:function get(){return 3}},{key:"x",get:function get(){return this[0]},set:function set(t){return this[0]=checkNumber(t)}},{key:"y",get:function get(){return this[1]},set:function set(t){return this[1]=checkNumber(t)}},{key:"z",get:function get(){return this[2]},set:function set(t){return this[2]=checkNumber(t)}}]),Vector3}(c);r(451),r(452),r(453),r(454),r(455);var C=r(218),T=r.n(C),D=(r(456),r(219)),M=r.n(D),A=r(130),R=r.n(A),L=(r(457),r(126)),I=r.n(L),O=r(127),k=r.n(O),F=(r(458),r(459),r(131)),N=r.n(F),B=r(220),U=r.n(B),z=(r(460),r(221)),j=r.n(z);r(461),r(462),r(463),r(464),r(465),r(466),r(467),r(468),r(469),r(470),r(471),r(472),r(289),r(473),r(474),r(475),r(476),r(477),r(290),r(478);r(288);var G=r(291),V=r.n(G);function transformVector(t,e){var r=N()([],e,t);return V()(r,r,1/r[3]),r}function mod(t,e){var r=t%e;return 0>r?e+r:r}var W=r(479),q=r.n(W);function assert_assert(t){if(!t)throw new Error("viewport-mercator-project: assertion failed.")}function web_mercator_utils_slicedToArray(t,e){return function web_mercator_utils_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function web_mercator_utils_iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function web_mercator_utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var H=Math.PI,K=H/4,Y=H/180,Z=180/H,X=512,Q=4003e4,$=1.5;function zoomToScale(t){return Math.pow(2,t)}function scaleToZoom(t){return Math.log2(t)}function lngLatToWorld(t,e){var r=web_mercator_utils_slicedToArray(t,2),n=r[0],o=r[1];return[(e*=X)*(n*Y+H)/(2*H),e*(H-Math.log(Math.tan(K+o*Y*.5)))/(2*H)]}function worldToLngLat(t,e){var r=web_mercator_utils_slicedToArray(t,2),n=r[0],o=r[1],i=n/(e*=X)*(2*H)-H,a=2*(Math.atan(Math.exp(H-o/e*(2*H)))-K);return[i*Z,a*Z]}function getWorldPosition(t){var e=t.longitude,r=t.latitude,n=t.zoom,o=t.scale,i=t.meterOffset,a=t.distanceScales,s=void 0===a?null:a,u=lngLatToWorld([e,r],o=void 0===o?zoomToScale(n):o),l=new P(u[0],u[1],0);if(i){s=s||function getDistanceScales(t){var e=Number.isFinite,r=t.latitude,n=t.longitude,o=t.zoom,i=t.scale,a=t.highPrecision;i=void 0===i?zoomToScale(o):i,assert_assert(e(r)&&e(n)&&e(i));var s={},u=X*i,l=Math.cos(r*Y),c=u/360,p=c/l,f=u/Q/l;if(s.pixelsPerMeter=[f,f,f],s.metersPerPixel=[1/f,1/f,1/f],s.pixelsPerDegree=[c,p,f],s.degreesPerPixel=[1/c,1/p,1/f],void 0!==a&&a){var d=Y*Math.tan(r*Y)/l,h=u/Q*d,m=h/p*f;s.pixelsPerDegree2=[0,c*d/2,h],s.pixelsPerMeter2=[m,0,m]}return s}({latitude:r,longitude:e,scale:o});var c=new P(i).scale(s.pixelsPerMeter).scale([1,-1,1]);l.add(c)}return l}function getProjectionMatrix(t){var e=t.width,r=t.height,n=t.pitch,o=t.altitude,i=t.farZMultiplier,a=function getProjectionParameters(t){var e=Math.PI,r=Math.sin,n=Math.atan,o=t.width,i=t.height,a=t.altitude,s=void 0===a?$:a,u=t.pitch,l=void 0===u?0:u,c=t.farZMultiplier,p=void 0===c?1:c,f=l*Y,d=n(.5/s),h=r(d)*s/r(e/2-f-d),m=Math.cos(e/2-f)*h+s;return{fov:2*n(i/2/s),aspect:o/i,focalDistance:s,near:.1,far:m*p}}({width:e,height:r,altitude:o,pitch:n,farZMultiplier:void 0===i?10:i}),s=a.fov,u=a.aspect,l=a.near,c=a.far;return T()([],s,u,l,c)}function worldToPixels(t,e){var r=Number.isFinite,n=web_mercator_utils_slicedToArray(t,3),o=n[0],i=n[1],a=n[2],s=void 0===a?0:a;return assert_assert(r(o)&&r(i)&&r(s)),transformVector(e,[o,i,s,1])}function pixelsToWorld(t,e){var r=Number.isFinite,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=web_mercator_utils_slicedToArray(t,3),i=o[0],a=o[1],s=o[2];if(assert_assert(r(i)&&r(a)),r(s))return transformVector(e,[i,a,s,1]);var u=transformVector(e,[i,a,0,1]),l=transformVector(e,[i,a,1,1]),c=u[2],p=l[2],f=c===p?0:((n||0)-c)/(p-c);return q()([],u,l,f)}function viewport_slicedToArray(t,e){return function viewport_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function viewport_iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function viewport_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function viewport_instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function viewport_defineProperties(t,e){for(var r,n=0;n<e.length;n++)(r=e[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}var J=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],tt=function(){function Viewport(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height,n=t.viewMatrix,o=void 0===n?J:n,i=t.projectionMatrix,a=void 0===i?J:i;(function viewport_classCallCheck(t,e){if(!viewport_instanceof(t,e))throw new TypeError("Cannot call a class as a function")})(this,Viewport),this.width=e||1,this.height=r||1,this.scale=1,this.viewMatrix=o,this.projectionMatrix=a;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R()(s,s,this.projectionMatrix),R()(s,s,this.viewMatrix),this.viewProjectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];I()(u,u,[this.width/2,-this.height/2,1]),k()(u,u,[1,-1,0]),R()(u,u,this.viewProjectionMatrix);var l=M()([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return function viewport_createClass(t,e,r){return e&&viewport_defineProperties(t.prototype,e),r&&viewport_defineProperties(t,r),t}(Viewport,[{key:"equals",value:function equals(t){return!!viewport_instanceof(t,Viewport)&&t.width===this.width&&t.height===this.height&&common_equals(t.projectionMatrix,this.projectionMatrix)&&common_equals(t.viewMatrix,this.viewMatrix)}},{key:"project",value:function project(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.topLeft,n=viewport_slicedToArray(t,3),o=n[0],i=n[1],a=n[2],s=this.projectFlat([o,i]),u=viewport_slicedToArray(s,2),l=u[0],c=u[1],p=worldToPixels([l,c,a],this.pixelProjectionMatrix),f=viewport_slicedToArray(p,2),d=f[0],h=f[1],m=void 0===r||r?h:this.height-h;return 2===t.length?[d,m]:[d,m,p[2]]}},{key:"unproject",value:function unproject(t){var e=Number.isFinite,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=r.topLeft,o=r.targetZ,i=viewport_slicedToArray(t,3),a=i[0],s=i[1],u=i[2],l=void 0===n||n?s:this.height-s,c=pixelsToWorld([a,l,u],this.pixelUnprojectionMatrix,o),p=this.unprojectFlat(c),f=viewport_slicedToArray(p,2),d=f[0],h=f[1];return e(u)?[d,h,c[2]]:e(o)?[d,h,o]:[d,h]}},{key:"projectFlat",value:function projectFlat(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}},{key:"unprojectFlat",value:function unprojectFlat(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}}]),Viewport}();function fit_bounds_slicedToArray(t,e){return function fit_bounds_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function fit_bounds_iterableToArrayLimit(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function fit_bounds_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fit_bounds_fitBounds(t){var e=Math.abs,r=Number.isFinite,n=t.width,o=t.height,i=t.bounds,a=t.padding,s=void 0===a?0:a,u=t.offset,l=void 0===u?[0,0]:u,c=fit_bounds_slicedToArray(i,2),p=fit_bounds_slicedToArray(c[0],2),f=p[0],d=p[1],h=fit_bounds_slicedToArray(c[1],2),m=h[0],y=h[1];if(r(s)){s={top:s,bottom:s,left:s,right:s}}else assert_assert(r(s.top)&&r(s.bottom)&&r(s.left)&&r(s.right));var g=new it({width:n,height:o,longitude:0,latitude:0,zoom:0}),v=g.project([f,y]),_=g.project([m,d]),b=[e(_[0]-v[0]),e(_[1]-v[1])],S=[n-s.left-s.right-2*e(l[0]),o-s.top-s.bottom-2*e(l[1])];assert_assert(0<S[0]&&0<S[1]);var x=S[0]/b[0],w=S[1]/b[1],E=(s.right-s.left)/2/x,P=(s.bottom-s.top)/2/w,C=[(_[0]+v[0])/2+E,(_[1]+v[1])/2+P],T=g.unproject(C),D=g.zoom+Math.log2(e(Math.min(x,w)));return{longitude:T[0],latitude:T[1],zoom:D}}var et=r(302),rt=r.n(et),nt=r(480),ot=r.n(nt);function web_mercator_viewport_typeof(t){return(web_mercator_viewport_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function web_mercator_viewport_classCallCheck(t,e){if(!function web_mercator_viewport_instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}(t,e))throw new TypeError("Cannot call a class as a function")}function web_mercator_viewport_defineProperties(t,e){for(var r,n=0;n<e.length;n++)(r=e[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}function web_mercator_viewport_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var it=function(t){function WebMercatorViewport(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.width,n=e.height,o=e.latitude,i=void 0===o?0:o,a=e.longitude,s=void 0===a?0:a,u=e.zoom,l=void 0===u?0:u,c=e.pitch,p=void 0===c?0:c,f=e.bearing,d=void 0===f?0:f,h=e.altitude,m=void 0===h?1.5:h,y=e.farZMultiplier,g=void 0===y?10:y;web_mercator_viewport_classCallCheck(this,WebMercatorViewport),r=r||1,n=n||1;var v=zoomToScale(l);m=Math.max(.75,m);var _=getWorldPosition({longitude:s,latitude:i,scale:v}),b=getProjectionMatrix({width:r,height:n,pitch:p,bearing:d,altitude:m,farZMultiplier:g}),S=function getViewMatrix(t){var e=t.height,r=t.pitch,n=t.bearing,o=t.altitude,i=t.center,a=void 0===i?null:i,s=t.flipY,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return k()(u,u,[0,0,-o]),I()(u,u,[1,1,1/e]),U()(u,u,-r*Y),j()(u,u,n*Y),void 0!==s&&s&&I()(u,u,[1,-1,1]),a&&k()(u,u,new P(a).negate()),u}({height:n,center:_,pitch:p,bearing:d,altitude:m,flipY:!0});return(t=function web_mercator_viewport_possibleConstructorReturn(t,e){return!e||"object"!==web_mercator_viewport_typeof(e)&&"function"!=typeof e?web_mercator_viewport_assertThisInitialized(t):e}(this,(WebMercatorViewport.__proto__||Object.getPrototypeOf(WebMercatorViewport)).call(this,{width:r,height:n,viewMatrix:S,projectionMatrix:b}))).latitude=i,t.longitude=s,t.zoom=l,t.pitch=p,t.bearing=d,t.altitude=m,t.scale=v,t.center=_,Object.freeze(web_mercator_viewport_assertThisInitialized(t)),t}return function web_mercator_viewport_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(WebMercatorViewport,t),function web_mercator_viewport_createClass(t,e,r){return e&&web_mercator_viewport_defineProperties(t.prototype,e),r&&web_mercator_viewport_defineProperties(t,r),t}(WebMercatorViewport,[{key:"projectFlat",value:function projectFlat(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return lngLatToWorld(t,e)}},{key:"unprojectFlat",value:function unprojectFlat(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return worldToLngLat(t,e)}},{key:"getMapCenterByLngLatPosition",value:function getMapCenterByLngLatPosition(t){var e=t.lngLat,r=pixelsToWorld(t.pos,this.pixelUnprojectionMatrix),n=lngLatToWorld(e,this.scale),o=rt()([],n,ot()([],r));return worldToLngLat(rt()([],this.center,o),this.scale)}},{key:"getLocationAtPoint",value:function getLocationAtPoint(t){var e=t.lngLat,r=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:r})}},{key:"fitBounds",value:function fitBounds(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.width,n=this.height,o=fit_bounds_fitBounds(Object.assign({width:r,height:n,bounds:t},e)),i=o.longitude,a=o.latitude,s=o.zoom;return new WebMercatorViewport({width:r,height:n,longitude:i,latitude:a,zoom:s})}}]),WebMercatorViewport}(tt),at=85.05113,st=-85.05113;var ut=.01,lt=["longitude","latitude","zoom"];var ct=r(154),pt=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var ft="A valid API access token is required to use Mapbox data";function noop(){}var dt=Object.assign({},ct.a.propTypes,{mapStyle:i.a.oneOfType([i.a.string,i.a.object]),preventStyleDiffing:i.a.bool,visible:i.a.bool}),ht=Object.assign({},ct.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),mt={viewport:i.a.instanceOf(it)},yt=function(t){function StaticMap(t){!function static_map_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StaticMap);var e=function static_map_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(StaticMap.__proto__||Object.getPrototypeOf(StaticMap)).call(this,t));return e._queryParams={},StaticMap.supported()||(e.componentDidMount=noop,e.componentWillReceiveProps=noop,e.componentDidUpdate=noop,e.componentWillUnmount=noop),e.state={accessTokenInvalid:!1},e.getMap=e.getMap.bind(e),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(e),e._updateQueryParams=e._updateQueryParams.bind(e),e._updateMapSize=e._updateMapSize.bind(e),e._updateMapStyle=e._updateMapStyle.bind(e),e._mapboxMapLoaded=e._mapboxMapLoaded.bind(e),e._mapboxMapError=e._mapboxMapError.bind(e),e._renderNoTokenWarning=e._renderNoTokenWarning.bind(e),e}return function static_map_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(StaticMap,t),pt(StaticMap,null,[{key:"supported",value:function supported(){return ct.a&&ct.a.supported()}}]),pt(StaticMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new it(this.props)}}},{key:"componentDidMount",value:function componentDidMount(){var t=this.props.mapStyle;this._mapbox=new ct.a(Object.assign({},this.props,{container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:isMap(t)?t.toJS():t})),this._map=this._mapbox.getMap(),this._updateQueryParams(t)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(t){this._mapbox.setProps(t),this._updateMapStyle(this.props,t),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function getMap(){return this._map}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(t,e){var r=e||this._queryParams;return r.layers&&0===r.layers.length?[]:this._map.queryRenderedFeatures(t,r)}},{key:"_updateQueryParams",value:function _updateQueryParams(t){var e=function getInteractiveLayerIds(t){var e=null;return isMap(t)&&t.has("layers")?e=t.get("layers").filter((function(t){return t.get("interactive")})).map((function(t){return t.get("id")})).toJS():Array.isArray(t.layers)&&(e=t.layers.filter((function(t){return t.interactive})).map((function(t){return t.id}))),e}(t);this._queryParams={layers:e}}},{key:"_updateMapSize",value:function _updateMapSize(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function _updateMapStyle(t,e){var r=e.mapStyle,n=t.mapStyle;r!==n&&(isMap(r)?this.props.preventStyleDiffing?this._map.setStyle(r.toJS()):setDiffStyle(n,r,this._map):this._map.setStyle(r),this._updateQueryParams(r))}},{key:"_mapboxMapLoaded",value:function _mapboxMapLoaded(t){this._mapboxMap=t}},{key:"_mapboxMapError",value:function _mapboxMapError(t){401!==(t.error&&t.error.status||t.status)||this.state.accessTokenInvalid||(console.error(ft),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function _renderNoTokenWarning(){if(this.state.accessTokenInvalid){return Object(n.createElement)("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},[Object(n.createElement)("h3",{key:"header"},ft),Object(n.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(n.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")])}return null}},{key:"render",value:function render(){var t=this.props,e=t.className,r=t.width,o=t.height,i=t.style,a=t.visible,s=Object.assign({},i,{width:r,height:o,position:"relative"}),u=Object.assign({},i,{width:r,height:o,visibility:a?"visible":"hidden"}),l={position:"absolute",left:0,top:0,width:r,height:o,overflow:"hidden"};return Object(n.createElement)("div",{key:"map-container",style:s,children:[Object(n.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:u,className:e}),Object(n.createElement)("div",{key:"map-overlays",className:"overlays",style:l,children:this.props.children}),this._renderNoTokenWarning()]})}}]),StaticMap}(n.PureComponent),gt=yt;yt.displayName="StaticMap",yt.propTypes=dt,yt.defaultProps=ht,yt.childContextTypes=mt;var vt=r(67),_t=r.n(vt),bt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},St=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var xt={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},wt={pitch:0,bearing:0,altitude:1.5};function map_state_clamp(t,e,r){return t<e?e:t>r?r:t}var Et=function(){function MapState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height,n=t.latitude,o=t.longitude,i=t.zoom,a=t.bearing,s=void 0===a?wt.bearing:a,u=t.pitch,l=void 0===u?wt.pitch:u,c=t.altitude,p=void 0===c?wt.altitude:c,f=t.maxZoom,d=void 0===f?xt.maxZoom:f,h=t.minZoom,m=void 0===h?xt.minZoom:h,y=t.maxPitch,g=void 0===y?xt.maxPitch:y,v=t.minPitch,_=void 0===v?xt.minPitch:v,b=t.transitionDuration,S=t.transitionEasing,x=t.transitionInterpolator,w=t.transitionInterruption,E=t.startPanLngLat,P=t.startZoomLngLat,C=t.startBearing,T=t.startPitch,D=t.startZoom;!function map_state_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MapState),_t()(Number.isFinite(e),"`width` must be supplied"),_t()(Number.isFinite(r),"`height` must be supplied"),_t()(Number.isFinite(o),"`longitude` must be supplied"),_t()(Number.isFinite(n),"`latitude` must be supplied"),_t()(Number.isFinite(i),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:e,height:r,latitude:n,longitude:o,zoom:i,bearing:s,pitch:l,altitude:p,maxZoom:d,minZoom:m,maxPitch:g,minPitch:_,transitionDuration:b,transitionEasing:S,transitionInterpolator:x,transitionInterruption:w}),this._interactiveState={startPanLngLat:E,startZoomLngLat:P,startBearing:C,startPitch:T,startZoom:D}}return St(MapState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function pan(t){var e=t.pos,r=t.startPos,n=this._interactiveState.startPanLngLat||this._unproject(r);if(!n)return this;var o=this._calculateNewLngLat({startPanLngLat:n,pos:e}),i=bt(o,2),a=i[0],s=i[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function rotateStart(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function rotate(t){var e=t.deltaScaleX,r=void 0===e?0:e,n=t.deltaScaleY,o=void 0===n?0:n,i=this._interactiveState,a=i.startBearing,s=i.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:r,deltaScaleY:o,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function zoomStart(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function zoom(t){var e=t.pos,r=t.startPos,n=t.scale;_t()(n>0,"`scale` must be a positive number");var o=this._interactiveState,i=o.startZoom,a=o.startZoomLngLat;Number.isFinite(i)||(i=this._viewportProps.zoom,a=this._unproject(r)||this._unproject(e)),_t()(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var zoom=this._calculateNewZoom({scale:n,startZoom:i}),s=new it(Object.assign({},this._viewportProps,{zoom:zoom})).getLocationAtPoint({lngLat:a,pos:e}),u=bt(s,2),l=u[0],c=u[1];return this._getUpdatedMapState({zoom:zoom,longitude:l,latitude:c})}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function _getUpdatedMapState(t){return new MapState(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function _applyConstraints(t){var e=t.maxZoom,r=t.minZoom,n=t.zoom;t.zoom=map_state_clamp(n,r,e);var o=t.maxPitch,i=t.minPitch,a=t.pitch;return t.pitch=map_state_clamp(a,i,o),Object.assign(t,function normalizeViewportProps(t){var e=t.width,r=t.height,n=t.longitude,o=t.latitude,i=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,l=void 0===u?0:u;(-180>n||180<n)&&(n=mod(n+180,360)-180),(-180>l||180<l)&&(l=mod(l+180,360)-180);var c=new it({width:e,height:r,longitude:n,latitude:o,zoom:i}),p=c.project([n,at])[1],f=c.project([n,st])[1],d=0;return f-p<r&&(i+=Math.log2(r/(f-p)),p=(c=new it({width:e,height:r,longitude:n,latitude:o,zoom:i})).project([n,at])[1],f=c.project([n,st])[1]),0<p?d=p:f<r&&(d=f-r),d&&(o=c.unproject([e/2,r/2+d])[1]),{width:e,height:r,longitude:n,latitude:o,zoom:i,pitch:s,bearing:l}}(t)),t}},{key:"_unproject",value:function _unproject(t){var e=new it(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function _calculateNewLngLat(t){var e=t.startPanLngLat,r=t.pos;return new it(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:r})}},{key:"_calculateNewZoom",value:function _calculateNewZoom(t){var e=t.scale,r=t.startZoom,n=this._viewportProps,o=n.maxZoom,i=n.minZoom;return map_state_clamp(r+Math.log2(e),i,o)}},{key:"_calculateNewPitchAndBearing",value:function _calculateNewPitchAndBearing(t){var e=t.deltaScaleX,r=t.deltaScaleY,n=t.startBearing,o=t.startPitch;r=map_state_clamp(r,-1,1);var i=this._viewportProps,a=i.minPitch,s=i.maxPitch,u=o;return r>0?u=o+r*(s-o):r<0&&(u=o-r*(a-o)),{pitch:u,bearing:n+180*e}}}]),MapState}(),Pt=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Ct=function(){function TransitionInterpolator(){!function transition_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionInterpolator)}return Pt(TransitionInterpolator,[{key:"arePropsEqual",value:function arePropsEqual(t,e){var r=!0,n=!1,o=void 0;try{for(var i,a=(this.propNames||[])[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(!common_equals(t[s],e[s]))return!1}}catch(u){n=!0,o=u}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return!0}},{key:"initializeProps",value:function initializeProps(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function interpolateProps(t,e,r){_t()(!1,"interpolateProps is not implemented")}}]),TransitionInterpolator}(),Tt={longitude:1,bearing:1};function transition_utils_lerp(t,e,r){return Array.isArray(t)?t.map((function(t,n){return transition_utils_lerp(t,e[n],r)})):r*e+(1-r)*t}function isValid(t){return Number.isFinite(t)||Array.isArray(t)}function getEndValueByShortestPath(t,e,r){return function isWrappedAngularProp(t){return Tt[t]}(t)&&Math.abs(r-e)>180&&(r=r<0?r+360:r-360),r}var Dt=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Mt=["longitude","latitude","zoom","bearing","pitch"],At=["latitude","longitude","zoom","width","height"],Rt=["bearing","pitch"],Lt=(function(t){function ViewportFlyToInterpolator(){!function viewport_fly_to_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ViewportFlyToInterpolator);var t=function viewport_fly_to_interpolator_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(ViewportFlyToInterpolator.__proto__||Object.getPrototypeOf(ViewportFlyToInterpolator)).call(this));return t.propNames=Mt,t}(function viewport_fly_to_interpolator_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(ViewportFlyToInterpolator,t),Dt(ViewportFlyToInterpolator,[{key:"initializeProps",value:function initializeProps(t,e){var r={},n={},o=!0,i=!1,a=void 0;try{for(var s,u=At[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,c=t[l],p=e[l];_t()(isValid(c)&&isValid(p),l+" must be supplied for transition"),r[l]=c,n[l]=getEndValueByShortestPath(l,c,p)}}catch(b){i=!0,a=b}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}var f=!0,d=!1,h=void 0;try{for(var m,y=Rt[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,v=t[g]||0,_=e[g]||0;r[g]=v,n[g]=getEndValueByShortestPath(g,v,_)}}catch(b){d=!0,h=b}finally{try{!f&&y.return&&y.return()}finally{if(d)throw h}}return{start:r,end:n}}},{key:"interpolateProps",value:function interpolateProps(t,e,r){var n=function flyToViewport(t,e,r){var n,o=Math.cosh,i=Math.log,a=Math.sqrt,s={},u=t.zoom,l=[t.longitude,t.latitude],c=zoomToScale(u),p=e.zoom,f=[e.longitude,e.latitude],h=zoomToScale(p-u),m=new d(lngLatToWorld(l,c)),y=new d(lngLatToWorld(f,c)).subtract(m),g=Math.max(t.width,t.height),v=g/h,_=a(y.x*y.x+y.y*y.y);if(Math.abs(_)<ut){for(var b=0;b<lt.length;b++){var S=lt[b],x=t[S],w=e[S];s[S]=(n=r)*w+(1-n)*x}return s}var E=1.414*1.414,P=(v*v-g*g+E*E*_*_)/(2*g*E*_),C=(v*v-g*g-E*E*_*_)/(2*v*E*_),T=i(a(P*P+1)-P),D=r*((i(a(C*C+1)-C)-T)/1.414),M=o(T)/o(T+1.414*D),A=g*((o(T)*Math.tanh(T+1.414*D)-Math.sinh(T))/E)/_,R=1/M,L=u+scaleToZoom(R),I=worldToLngLat(m.add(y.scale(A)).scale(R),zoomToScale(L));return s.longitude=I[0],s.latitude=I[1],s.zoom=L,s}(t,e,r),o=!0,i=!1,a=void 0;try{for(var s,u=Rt[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;n[l]=transition_utils_lerp(t[l],e[l],r)}}catch(c){i=!0,a=c}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}])}(Ct),function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}());var It=["longitude","latitude","zoom","bearing","pitch"],Ot=function(t){function LinearInterpolator(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;!function linear_interpolator_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LinearInterpolator);var e=function linear_interpolator_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(LinearInterpolator.__proto__||Object.getPrototypeOf(LinearInterpolator)).call(this));return e.propNames=t,e}return function linear_interpolator_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(LinearInterpolator,t),Lt(LinearInterpolator,[{key:"initializeProps",value:function initializeProps(t,e){var r={},n={},o=!0,i=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,c=t[l],p=e[l];_t()(isValid(c)&&isValid(p),l+" must be supplied for transition"),r[l]=c,n[l]=getEndValueByShortestPath(l,c,p)}}catch(f){i=!0,a=f}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return{start:r,end:n}}},{key:"interpolateProps",value:function interpolateProps(t,e,r){var n={},o=!0,i=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;n[l]=transition_utils_lerp(t[l],e[l],r)}}catch(c){i=!0,a=c}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}]),LinearInterpolator}(Ct),kt=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Ft=function noop(){},Nt=1,Bt=2,Ut=3,zt={transitionDuration:0,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new Ot,transitionInterruption:Nt,onTransitionStart:Ft,onTransitionInterrupt:Ft,onTransitionEnd:Ft},jt={animation:null,propsInTransition:null,startProps:null,endProps:null},Gt=function(){function TransitionManager(t){!function transition_manager_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionManager),this.props=t,this.state=jt,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return kt(TransitionManager,[{key:"getViewportInTransition",value:function getViewportInTransition(){return this.state.propsInTransition}},{key:"processViewportChange",value:function processViewportChange(t){var e=!1,r=this.props;if(this.props=t,this._shouldIgnoreViewportChange(r,t))return e;var n=this._isTransitionInProgress();if(this._isTransitionEnabled(t)){var o=Object.assign({},r,this.state.interruption===Bt?this.state.endProps:this.state.propsInTransition);n&&r.onTransitionInterrupt(),t.onTransitionStart(),this._triggerTransition(o,t),e=!0}else n&&(r.onTransitionInterrupt(),this._endTransition());return e}},{key:"_isTransitionInProgress",value:function _isTransitionInProgress(){return Boolean(this.state.propsInTransition)}},{key:"_isTransitionEnabled",value:function _isTransitionEnabled(t){return t.transitionDuration>0&&Boolean(t.transitionInterpolator)}},{key:"_isUpdateDueToCurrentTransition",value:function _isUpdateDueToCurrentTransition(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function _shouldIgnoreViewportChange(t,e){return this._isTransitionInProgress()?this.state.interruption===Ut||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e)}},{key:"_triggerTransition",value:function _triggerTransition(t,e){_t()(this._isTransitionEnabled(e),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var r=e.transitionInterpolator.initializeProps(t,e);this.state={duration:e.transitionDuration,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:Date.now(),startProps:r.start,endProps:r.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function _onTransitionFrame(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function _endTransition(){cancelAnimationFrame(this.state.animation),this.state=jt}},{key:"_updateViewport",value:function _updateViewport(){var t=Date.now(),e=this.state,r=e.startTime,n=e.duration,o=e.easing,i=e.interpolator,a=e.startProps,s=e.endProps,u=!1,l=(t-r)/n;l>=1&&(l=1,u=!0),l=o(l);var c=i.interpolateProps(a,s,l),p=new Et(Object.assign({},this.props,c));this.state.propsInTransition=p.getViewportProps();var f=this.props.onViewportChange||this.props.onChangeViewport;f&&f(this.state.propsInTransition),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),TransitionManager}(),Vt=Gt;Gt.defaultProps=zt;var Wt=r(120),qt=1,Ht=2,Kt=4,Yt={mousedown:qt,mousemove:Ht,mouseup:Kt};var Zt=void 0;Wt.isBrowser&&(Zt=r(977)),Zt&&(!function enhancePointerEventInput(t){var e=t.prototype.handler;t.prototype.handler=function handler(t){var r=this.store;t.button>0&&(function some(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}(r,(function(e){return e.pointerId===t.pointerId}))||r.push(t)),e.call(this,t)}}(Zt.PointerEventInput),function enhanceMouseInput(t){t.prototype.handler=function handler(t){var e=Yt[t.type];e&qt&&t.button>=0&&(this.pressed=!0),e&Ht&&0===t.which&&(e=Kt),this.pressed&&(e&Kt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(Zt.MouseInput));var Xt=Zt?Zt.Manager:function HammerManagerMock(t){var e={},r=function chainedNoop(){return e};return e.get=function(){return null},e.set=r,e.on=r,e.off=r,e.destroy=r,e.emit=r,e},Qt=Zt,$t=Qt?[[Qt.Rotate,{enable:!1}],[Qt.Pinch,{enable:!1}],[Qt.Swipe,{enable:!1}],[Qt.Pan,{threshold:0,enable:!1}],[Qt.Press,{enable:!1}],[Qt.Tap,{event:"doubletap",taps:2,enable:!1}],[Qt.Tap,{enable:!1}]]:null,Jt={rotate:["pinch"]},te={doubletap:["tap"]},ee={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},re=["keydown","keyup"],ne=["mousedown","mousemove","mouseup","mouseleave"],oe=["wheel","mousewheel","DOMMouseScroll"],ie={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},ae={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"},se=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var ue=-1!==Wt.userAgent.indexOf("firefox"),le=oe,ce=function(){function WheelInput(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function wheel_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WheelInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},n),this.events=le.concat(n.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return se(WheelInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function handleEvent(t){if(this.options.enable){this.options.legacyBlockScroll&&t.preventDefault();var e=t.deltaY;Wt.window.WheelEvent&&(ue&&t.deltaMode===Wt.window.WheelEvent.DOM_DELTA_PIXEL&&(e/=Wt.window.devicePixelRatio),t.deltaMode===Wt.window.WheelEvent.DOM_DELTA_LINE&&(e*=40));var r={x:t.clientX,y:t.clientY};0!==e&&e%4.000244140625===0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,r)}}},{key:"_onWheel",value:function _onWheel(t,e,r){this.callback({type:"wheel",center:r,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),WheelInput}(),pe=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var fe=ne,de=function(){function MoveInput(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function move_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MoveInput),this.element=t,this.callback=e,this.pressed=!1,this.options=Object.assign({enable:!0},n),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=fe.concat(n.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return pe(MoveInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function handleEvent(t){if(this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target}),this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),MoveInput}(),he=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var me=re,ye=function(){function KeyInput(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function key_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,KeyInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},n),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=me.concat(n.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=1,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return he(KeyInput,[{key:"destroy",value:function destroy(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function enableEventType(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function handleEvent(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),KeyInput}(),ge=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var ve=function(){function ContextmenuInput(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function contextmenu_input_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ContextmenuInput),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return ge(ContextmenuInput,[{key:"destroy",value:function destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"handleEvent",value:function handleEvent(t){this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target}),this.options.rightButton&&t.preventDefault()}}]),ContextmenuInput}(),_e=1,be=2,Se=4,xe={pointerdown:_e,pointermove:be,pointerup:Se,mousedown:_e,mousemove:be,mouseup:Se},we=1,Ee=2,Pe=3,Ce=0,Te=1,De=2,Me=1,Ae=2,Re=4;var Le=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Ie={events:null,recognizers:null,Manager:Xt,rightButton:!1,touchAction:"none",legacyBlockScroll:!0},Oe=function(){function EventManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function event_manager_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,EventManager),this.options=Object.assign({},Ie,e),this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var r=e.events;r&&this.on(r)}return Le(EventManager,[{key:"setElement",value:function setElement(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var r=this.options,n=r.Manager;this.manager=new n(t,{touchAction:r.touchAction,recognizers:r.recognizers||$t}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(Jt).forEach((function(t){var r=e.manager.get(t);r&&Jt[t].forEach((function(t){r.recognizeWith(t)}))})),this.wheelInput=new ce(t,this._onOtherEvent,{enable:!1,legacyBlockScroll:r.legacyBlockScroll}),this.moveInput=new de(t,this._onOtherEvent,{enable:!1}),this.keyInput=new ye(t,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new ve(t,this._onOtherEvent,{rightButton:r.rightButton}),this.eventHandlers.forEach((function(t){var r=t.recognizerName,n=t.eventAlias,o=t.wrappedHandler;e._toggleRecognizer(r,!0),e.manager.on(n,o)}))}}},{key:"destroy",value:function destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function on(t,e,r){if("string"===typeof t)this._addEventHandler(t,e,r);else for(var n in r=e,t)this._addEventHandler(n,t[n],r)}},{key:"off",value:function off(t,e){if("string"===typeof t)this._removeEventHandler(t,e);else for(var r in t)this._removeEventHandler(r,t[r])}},{key:"_toggleRecognizer",value:function _toggleRecognizer(t,e){var r=this.manager;if(r){var n=r.get(t);if(n){n.set({enable:e});var o=te[t];o&&!this.options.recognizers&&o.forEach((function(n){var o=r.get(n);e?o.requireFailure(t):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function _addEventHandler(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.manager,o=this.eventHandlers,i=this._wrapEventHandler(t,e,r),a=ae[t]||t,s=ie[a]||a;this._toggleRecognizer(s,!0);var u=o.filter((function(t){return t.eventAlias===a&&t.srcElement!==r&&(!t.srcElement||t.srcElement.contains(r))}));o.push({event:t,eventAlias:a,recognizerName:s,srcElement:r,handler:e,wrappedHandler:i}),u.forEach((function(t){return n.off(a,t.wrappedHandler)})),n&&n.on(a,i),u.forEach((function(t){return n.on(a,t.wrappedHandler)}))}},{key:"_removeEventHandler",value:function _removeEventHandler(t,e){for(var r=this.manager,n=this.eventHandlers,o=!1,i=n.length;i--;){var a=n[i];a.event===t&&a.handler===e&&(r&&r.off(a.eventAlias,a.wrappedHandler),n.splice(i,1),o=!0)}if(o){var s=ae[t]||t,u=ie[s]||s;n.find((function(t){return t.recognizerName===u}))||this._toggleRecognizer(u,!1)}}},{key:"_wrapEventHandler",value:function _wrapEventHandler(t,e,r){var n=this;return function(o){var i=o.mjolnirEvent;(i||(i=n._normalizeEvent(o),o.mjolnirEvent=i),i.handled&&i.handled!==r)||(!r||r.contains(o.srcEvent.target))&&e(Object.assign({},i,{type:t,stopPropagation:function stopPropagation(){i.handled||(i.handled=r)}}))}}},{key:"_normalizeEvent",value:function _normalizeEvent(t){var e=this.element;return Object.assign({},t,function whichButtons(t){var e=xe[t.srcEvent.type];if(!e)return null;var r=t.srcEvent,n=r.buttons,o=r.button,i=r.which,a=!1,s=!1,u=!1;return e===Se||e===be&&!Number.isFinite(n)?(a=i===we,s=i===Ee,u=i===Pe):e===be?(a=Boolean(n&Me),s=Boolean(n&Re),u=Boolean(n&Ae)):e===_e&&(a=o===Ce,s=o===Te,u=o===De),{leftButton:a,middleButton:s,rightButton:u}}(t),function getOffsetPosition(t,e){var r=t.srcEvent;if(!t.center&&!Number.isFinite(r.clientX))return null;var n=t.center||{x:r.clientX,y:r.clientY},o=e.getBoundingClientRect(),i=o.width/e.offsetWidth,a=o.height/e.offsetHeight;return{center:n,offsetCenter:{x:(n.x-o.left-e.clientLeft)/i,y:(n.y-o.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}},{key:"_onBasicInput",value:function _onBasicInput(t){var e=t.srcEvent,r=ee[e.type];r&&this.manager.emit(r,t)}},{key:"_onOtherEvent",value:function _onOtherEvent(t){this.manager.emit(t.type,t)}}]),EventManager}(),ke=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Fe=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Ne={transitionDuration:0},Be={transitionDuration:300,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new Ot,transitionInterruption:Nt},Ue=["wheel"],ze=["panstart","panmove","panend"],je=["pinchstart","pinchmove","pinchend"],Ge=["doubletap"],Ve=["keydown"],We=function(){function MapControls(){!function map_controls_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MapControls),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}return Fe(MapControls,[{key:"handleEvent",value:function handleEvent(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function getCenter(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function isFunctionKeyPressed(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"setState",value:function setState(t){Object.assign(this._state,t),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function updateViewport(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.mapState?this.mapState.getViewportProps():{},o=Object.assign({},t.getViewportProps(),e);this.onViewportChange&&Object.keys(o).some((function(t){return n[t]!==o[t]}))&&this.onViewportChange(o),this.setState(Object.assign({},t.getInteractiveState(),r))}},{key:"getMapState",value:function getMapState(t){return new Et(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function setOptions(t){var e=t.onChangeViewport,r=t.touchZoomRotate,n=void 0===r||r,o=t.onViewportChange,i=t.onStateChange,a=void 0===i?this.onStateChange:i,s=t.eventManager,u=void 0===s?this.eventManager:s,l=t.scrollZoom,c=void 0===l||l,p=t.dragPan,f=void 0===p||p,d=t.dragRotate,h=void 0===d||d,m=t.doubleClickZoom,y=void 0===m||m,g=t.touchZoom,v=void 0===g||g,_=t.touchRotate,b=void 0!==_&&_,S=t.keyboard,x=void 0===S||S;this.onViewportChange=o||e,this.onStateChange=a,this.mapStateProps&&this.mapStateProps.height!==t.height&&this.updateViewport(new Et(t)),this.mapStateProps=t,this.eventManager!==u&&(this.eventManager=u,this._events={},this.toggleEvents(this.events,!0));var w=Boolean(this.onViewportChange);this.toggleEvents(Ue,w&&c),this.toggleEvents(ze,w&&(f||h)),this.toggleEvents(je,w&&n),this.toggleEvents(Ge,w&&y),this.toggleEvents(Ve,w&&x),this.scrollZoom=c,this.dragPan=f,this.dragRotate=h,this.doubleClickZoom=y,this.touchZoom=n&&v,this.touchRotate=n&&b,this.keyboard=x}},{key:"toggleEvents",value:function toggleEvents(t,e){var r=this;this.eventManager&&t.forEach((function(t){r._events[t]!==e&&(r._events[t]=e,e?r.eventManager.on(t,r.handleEvent):r.eventManager.off(t,r.handleEvent))}))}},{key:"_onPanStart",value:function _onPanStart(t){var e=this.getCenter(t),r=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(r,Ne,{isDragging:!0})}},{key:"_onPan",value:function _onPan(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function _onPanEnd(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1})}},{key:"_onPanMove",value:function _onPanMove(t){if(!this.dragPan)return!1;var e=this.getCenter(t),r=this.mapState.pan({pos:e});return this.updateViewport(r,Ne,{isDragging:!0})}},{key:"_onPanRotate",value:function _onPanRotate(t){if(!this.dragRotate)return!1;var e=t.deltaX,r=t.deltaY,n=this.getCenter(t),o=ke(n,2)[1],i=o-r,a=this.mapState.getViewportProps(),s=a.width,u=a.height,l=e/s,c=0;r>0?Math.abs(u-i)>5&&(c=r/(i-u)*1.2):r<0&&i>5&&(c=1-o/i),c=Math.min(1,Math.max(-1,c));var p=this.mapState.rotate({deltaScaleX:l,deltaScaleY:c});return this.updateViewport(p,Ne,{isDragging:!0})}},{key:"_onWheel",value:function _onWheel(t){if(!this.scrollZoom)return!1;t.srcEvent.preventDefault();var e=this.getCenter(t),r=t.delta,n=2/(1+Math.exp(-Math.abs(.01*r)));r<0&&0!==n&&(n=1/n);var o=this.mapState.zoom({pos:e,scale:n});return this.updateViewport(o,Ne)}},{key:"_onPinchStart",value:function _onPinchStart(t){var e=this.getCenter(t),r=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(r,Ne,{isDragging:!0})}},{key:"_onPinch",value:function _onPinch(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var r=t.scale,n=this.getCenter(t);e=e.zoom({pos:n,scale:r})}if(this.touchRotate){var o=t.rotation,i=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(o-i)/180})}return this.updateViewport(e,Ne,{isDragging:!0})}},{key:"_onPinchEnd",value:function _onPinchEnd(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function _onDoubleTap(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),r=this.isFunctionKeyPressed(t),n=this.mapState.zoom({pos:e,scale:r?.5:2});return this.updateViewport(n,Be)}},{key:"_onKeyDown",value:function _onKeyDown(t){if(!this.keyboard)return!1;var e=this.isFunctionKeyPressed(t),r=this.mapStateProps,n=void 0;switch(t.srcEvent.keyCode){case 189:n=e?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:n=e?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:n=e?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:n=e?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:n=e?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:n=e?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(n,Be)}}]),MapControls}(),qe=r(225),He=r.n(qe),Ke=He.a.webkit||He.a.blink?"-webkit-":He.a.gecko?"-moz-":"",Ye={DEFAULTS:{},CURSOR:{GRABBING:Ke+"grabbing",GRAB:Ke+"grab",POINTER:"pointer"}},Ze=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}];function checkDeprecatedProps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ze.forEach((function(e){if(t.hasOwnProperty(e.old)){var r=function getDeprecatedText(t){return"react-map-gl: `"+t+"` is deprecated and will be removed in a later version."}(e.old);e.new&&(r=r+" "+function getNewText(t){return"Use `"+t+"` instead."}(e.new)),console.warn(r)}}))}var Xe=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Qe=Object.assign({},gt.propTypes,{maxZoom:i.a.number,minZoom:i.a.number,maxPitch:i.a.number,minPitch:i.a.number,onViewportChange:i.a.func,transitionDuration:i.a.number,transitionInterpolator:i.a.object,transitionInterruption:i.a.number,transitionEasing:i.a.func,onTransitionStart:i.a.func,onTransitionInterrupt:i.a.func,onTransitionEnd:i.a.func,scrollZoom:i.a.bool,dragPan:i.a.bool,dragRotate:i.a.bool,doubleClickZoom:i.a.bool,touchZoom:i.a.bool,touchRotate:i.a.bool,keyboard:i.a.bool,onHover:i.a.func,onClick:i.a.func,onContextMenu:i.a.func,touchAction:i.a.string,clickRadius:i.a.number,getCursor:i.a.func,visibilityConstraints:i.a.shape({minZoom:i.a.number,maxZoom:i.a.number,minPitch:i.a.number,maxPitch:i.a.number}),mapControls:i.a.shape({events:i.a.arrayOf(i.a.string),handleEvent:i.a.func})}),$e=Object.assign({},gt.defaultProps,xt,Vt.defaultProps,{onViewportChange:null,onClick:null,onHover:null,onContextMenu:function onContextMenu(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchAction:"none",clickRadius:0,getCursor:function getDefaultCursor(t){var e=t.isDragging,r=t.isHovering;return e?Ye.CURSOR.GRABBING:r?Ye.CURSOR.POINTER:Ye.CURSOR.GRAB},visibilityConstraints:xt}),Je={viewport:i.a.instanceOf(it),isDragging:i.a.bool,eventManager:i.a.object},tr=function(t){function InteractiveMap(t){!function interactive_map_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InteractiveMap);var e=function interactive_map_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(InteractiveMap.__proto__||Object.getPrototypeOf(InteractiveMap)).call(this,t));return checkDeprecatedProps(t),e.state={isDragging:!1,isHovering:!1},e._mapControls=t.mapControls||new We,e._eventManager=new Oe(null,{legacyBlockScroll:!1,touchAction:t.touchAction}),e.getMap=e.getMap.bind(e),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(e),e._checkVisibilityConstraints=e._checkVisibilityConstraints.bind(e),e._getFeatures=e._getFeatures.bind(e),e._onInteractiveStateChange=e._onInteractiveStateChange.bind(e),e._getPos=e._getPos.bind(e),e._eventCanvasLoaded=e._eventCanvasLoaded.bind(e),e._staticMapLoaded=e._staticMapLoaded.bind(e),e}return function interactive_map_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(InteractiveMap,t),Xe(InteractiveMap,null,[{key:"supported",value:function supported(){return gt.supported()}}]),Xe(InteractiveMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new it(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function componentDidMount(){var t=this._eventManager;t.on({mousemove:this._onMouseMove.bind(this),click:this._onMouseClick.bind(this),contextmenu:this._onContextMenu.bind(this)}),this._mapControls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange,eventManager:t})),this._transitionManager=new Vt(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(t){this._mapControls.setOptions(t),this._transitionManager.processViewportChange(t)}},{key:"getMap",value:function getMap(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(t,e){return this._map.queryRenderedFeatures(t,e)}},{key:"_checkVisibilityConstraints",value:function _checkVisibilityConstraints(t){var e=function capitalize(t){return t[0].toUpperCase()+t.slice(1)},r=t.visibilityConstraints;for(var n in t){var o=e(n),i="min"+o,a="max"+o;if(i in r&&t[n]<r[i])return!1;if(a in r&&t[n]>r[a])return!1}return!0}},{key:"_getFeatures",value:function _getFeatures(t){var e=t.pos,r=t.radius,n=void 0;if(r){var o=r,i=[[e[0]-o,e[1]+o],[e[0]+o,e[1]-o]];n=this._map.queryRenderedFeatures(i)}else n=this._map.queryRenderedFeatures(e);return n}},{key:"_onInteractiveStateChange",value:function _onInteractiveStateChange(t){var e=t.isDragging,r=void 0!==e&&e;r!==this.state.isDragging&&this.setState({isDragging:r})}},{key:"_getPos",value:function _getPos(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_onMouseMove",value:function _onMouseMove(t){if(!this.state.isDragging){var e=this._getPos(t),r=this._getFeatures({pos:e,radius:this.props.clickRadius}),n=r&&r.length>0;if(n!==this.state.isHovering&&this.setState({isHovering:n}),this.props.onHover){var o=new it(this.props);t.lngLat=o.unproject(e),t.features=r,this.props.onHover(t)}}}},{key:"_onMouseClick",value:function _onMouseClick(t){if(this.props.onClick){var e=this._getPos(t),r=new it(this.props);t.lngLat=r.unproject(e),t.features=this._getFeatures({pos:e,radius:this.props.clickRadius}),this.props.onClick(t)}}},{key:"_onContextMenu",value:function _onContextMenu(t){this.props.onContextMenu&&this.props.onContextMenu(t)}},{key:"_eventCanvasLoaded",value:function _eventCanvasLoaded(t){this._eventManager.setElement(t)}},{key:"_staticMapLoaded",value:function _staticMapLoaded(t){this._map=t}},{key:"render",value:function render(){var t=this.props,e={width:t.width,height:t.height,position:"relative",cursor:(0,t.getCursor)(this.state)};return Object(n.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:e},Object(n.createElement)(gt,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{visible:this._checkVisibilityConstraints(this.props),ref:this._staticMapLoaded,children:this.props.children})))}}]),InteractiveMap}(n.PureComponent),er=tr;tr.displayName="InteractiveMap",tr.propTypes=Qe,tr.defaultProps=$e,tr.childContextTypes=Je;var rr=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var nr={captureScroll:i.a.bool,captureDrag:i.a.bool,captureClick:i.a.bool,captureDoubleClick:i.a.bool},or={viewport:i.a.instanceOf(it),isDragging:i.a.bool,eventManager:i.a.object},ir=function(t){function BaseControl(t){!function base_control_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,BaseControl);var e=function base_control_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(BaseControl.__proto__||Object.getPrototypeOf(BaseControl)).call(this,t));return e._events=null,e._onContainerLoad=e._onContainerLoad.bind(e),e}return function base_control_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(BaseControl,t),rr(BaseControl,[{key:"_onContainerLoad",value:function _onContainerLoad(t){var e=this.context.eventManager;if(e){var r=this._events;r&&(e.off(r),r=null),t&&(r={wheel:this._onScroll.bind(this),panstart:this._onDrag.bind(this),click:this._onClick.bind(this),dblclick:this._onDoubleClick.bind(this)},e.on(r,t)),this._events=r}}},{key:"_onScroll",value:function _onScroll(t){this.props.captureScroll&&t.stopPropagation()}},{key:"_onDrag",value:function _onDrag(t){this.props.captureDrag&&t.stopPropagation()}},{key:"_onClick",value:function _onClick(t){this.props.captureClick&&t.stopPropagation()}},{key:"_onDoubleClick",value:function _onDoubleClick(t){this.props.captureDoubleClick&&t.stopPropagation()}},{key:"render",value:function render(){return null}}]),BaseControl}(n.Component),ar=ir;ir.propTypes=nr,ir.defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},ir.contextTypes=or;var sr=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ur=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var lr=Object.assign({},ar.propTypes,{className:i.a.string,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,offsetLeft:i.a.number,offsetTop:i.a.number}),cr=Object.assign({},ar.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),pr=function(t){function Marker(){return function marker_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Marker),function marker_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(Marker.__proto__||Object.getPrototypeOf(Marker)).apply(this,arguments))}return function marker_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Marker,t),ur(Marker,[{key:"render",value:function render(){var t=this.props,e=t.className,r=t.longitude,o=t.latitude,i=t.offsetLeft,a=t.offsetTop,s=this.context.viewport.project([r,o]),u=sr(s,2),l={position:"absolute",left:u[0]+i,top:u[1]+a};return Object(n.createElement)("div",{className:"mapboxgl-marker "+e,ref:this._onContainerLoad,style:l,children:this.props.children})}}]),Marker}(ar);pr.displayName="Marker",pr.propTypes=lr,pr.defaultProps=cr;var fr={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}};var dr=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},hr=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var mr=Object.assign({},ar.propTypes,{className:i.a.string,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,offsetLeft:i.a.number,offsetTop:i.a.number,tipSize:i.a.number,closeButton:i.a.bool,closeOnClick:i.a.bool,anchor:i.a.oneOf(Object.keys(fr)),dynamicPosition:i.a.bool,onClose:i.a.func}),yr=Object.assign({},ar.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function onClose(){}}),gr=function(t){function Popup(t){!function popup_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Popup);var e=function popup_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(Popup.__proto__||Object.getPrototypeOf(Popup)).call(this,t));return e._getPosition=e._getPosition.bind(e),e._onClose=e._onClose.bind(e),e._contentLoaded=e._contentLoaded.bind(e),e._renderTip=e._renderTip.bind(e),e._renderContent=e._renderContent.bind(e),e._closeOnClick=!1,e}return function popup_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Popup,t),hr(Popup,[{key:"componentDidMount",value:function componentDidMount(){this.forceUpdate()}},{key:"_getPosition",value:function _getPosition(t,e){var r=this.context.viewport,n=this.props,o=n.anchor,i=n.dynamicPosition,a=n.tipSize;return this._content&&i?function getDynamicPosition(t){var e=t.x,r=t.y,n=t.width,o=t.height,i=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,l=void 0===u?0:u,c=fr[s],p=c.x,f=c.y,d=r-f*a,h=d+a;if(d<l)for(;d<l&&f>=.5;)f-=.5,d+=.5*a;else if(h>o-l)for(;h>o-l&&f<=.5;)f+=.5,h-=.5*a;var m=e-p*i,y=m+i,g=.5;if(.5===f&&(p=Math.floor(p),g=1),m<l)for(;m<l&&p>=g;)p-=g,m+=g*i;else if(y>n-l)for(;y>n-l&&p<=1-g;)p+=g,y-=g*i;return Object.keys(fr).find((function(t){var e=fr[t];return e.x===p&&e.y===f}))}({x:t,y:e,anchor:o,padding:a,width:r.width,height:r.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):o}},{key:"_onClick",value:function _onClick(t){this.props.captureClick&&t.stopPropagation(),(this.props.closeOnClick||this._closeOnClick)&&this.props.onClose()}},{key:"_onClose",value:function _onClose(){this._closeOnClick=!0}},{key:"_contentLoaded",value:function _contentLoaded(t){this._content=t}},{key:"_renderTip",value:function _renderTip(){var t=this.props.tipSize;return Object(n.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function _renderContent(){var t=this.props,e=t.closeButton,r=t.children;return Object(n.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[e&&Object(n.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},"\xd7"),r])}},{key:"render",value:function render(){var t=this.props,e=t.className,r=t.longitude,o=t.latitude,i=t.offsetLeft,a=t.offsetTop,s=this.context.viewport.project([r,o]),u=dr(s,2),l=u[0],c=u[1],p=this._getPosition(l,c),f=fr[p],d={position:"absolute",left:l+i,top:c+a,transform:"translate("+100*-f.x+"%, "+100*-f.y+"%)"};return Object(n.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-"+p+" "+e,style:d,ref:this._onContainerLoad},[this._renderTip(),this._renderContent()])}}]),Popup}(ar);gr.displayName="Popup",gr.propTypes=mr,gr.defaultProps=yr;var vr=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var _r=Object.assign({},Vt.defaultProps,{transitionDuration:300}),br=Object.assign({},ar.propTypes,{className:i.a.string,onViewportChange:i.a.func.isRequired,showCompass:i.a.bool,showZoom:i.a.bool}),Sr=Object.assign({},ar.defaultProps,{className:"",onViewportChange:function onViewportChange(){},showCompass:!0,showZoom:!0}),xr=function(t){function NavigationControl(t){!function navigation_control_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NavigationControl);var e=function navigation_control_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(NavigationControl.__proto__||Object.getPrototypeOf(NavigationControl)).call(this,t));return checkDeprecatedProps(t),e._updateViewport=e._updateViewport.bind(e),e._onZoomIn=e._onZoomIn.bind(e),e._onZoomOut=e._onZoomOut.bind(e),e._onResetNorth=e._onResetNorth.bind(e),e._renderCompass=e._renderCompass.bind(e),e._renderButton=e._renderButton.bind(e),e}return function navigation_control_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(NavigationControl,t),vr(NavigationControl,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t,e,r){return this.context.viewport.bearing!==r.viewport.bearing}},{key:"_updateViewport",value:function _updateViewport(t){var e=this.context.viewport,r=new Et(Object.assign({},e,t));(this.props.onChangeViewport||this.props.onViewportChange)(Object.assign({},r.getViewportProps(),_r))}},{key:"_onZoomIn",value:function _onZoomIn(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function _onZoomOut(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function _onResetNorth(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function _renderCompass(){var t=this.context.viewport.bearing;return Object(n.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate("+t+"deg)"}})}},{key:"_renderButton",value:function _renderButton(t,e,r,o){return Object(n.createElement)("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-"+t,type:"button",title:e,onClick:r,children:o})}},{key:"render",value:function render(){var t=this.props,e=t.className,r=t.showCompass,o=t.showZoom;return Object(n.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group "+e,ref:this._onContainerLoad},[o&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),o&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),r&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}]),NavigationControl}(ar);xr.displayName="NavigationControl",xr.propTypes=br,xr.defaultProps=Sr;var wr=r(303),Er=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Pr=Object.assign({},ar.propTypes,{redraw:i.a.func.isRequired}),Cr=function(t){function CanvasOverlay(t){!function canvas_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,CanvasOverlay);var e=function canvas_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(CanvasOverlay.__proto__||Object.getPrototypeOf(CanvasOverlay)).call(this,t));return e._redraw=e._redraw.bind(e),e._canvasLoaded=e._canvasLoaded.bind(e),e}return function canvas_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(CanvasOverlay,t),Er(CanvasOverlay,[{key:"componentDidMount",value:function componentDidMount(){this._redraw()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._redraw()}},{key:"_redraw",value:function _redraw(){var t=wr.window.devicePixelRatio||1,e=this._canvas.getContext("2d");e.save(),e.scale(t,t);var r=this.context,n=r.viewport,o=r.isDragging;this.props.redraw({width:n.width,height:n.height,ctx:e,isDragging:o,project:n.project.bind(n),unproject:n.unproject.bind(n)}),e.restore()}},{key:"_canvasLoaded",value:function _canvasLoaded(t){this._canvas=t,this._onContainerLoad(t)}},{key:"render",value:function render(){var t=wr.window.devicePixelRatio||1,e=this.context.viewport,r=e.width,o=e.height;return Object(n.createElement)("canvas",{ref:this._canvasLoaded,width:r*t,height:o*t,style:{width:r+"px",height:o+"px",position:"absolute",pointerEvents:"none",left:0,top:0}})}}]),CanvasOverlay}(ar);Cr.displayName="CanvasOverlay",Cr.propTypes=Pr,Cr.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var Tr=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Dr=Object.assign({},ar.propTypes,{redraw:i.a.func.isRequired,style:i.a.object}),Mr=function(t){function HTMLOverlay(){return function html_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,HTMLOverlay),function html_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(HTMLOverlay.__proto__||Object.getPrototypeOf(HTMLOverlay)).apply(this,arguments))}return function html_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(HTMLOverlay,t),Tr(HTMLOverlay,[{key:"render",value:function render(){var t=this.context,e=t.viewport,r=t.isDragging,o=Object.assign({position:"absolute",pointerEvents:"none",left:0,top:0,width:e.width,height:e.height},this.props.style);return Object(n.createElement)("div",{ref:this._onContainerLoad,style:o},this.props.redraw({width:e.width,height:e.height,isDragging:r,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),HTMLOverlay}(ar);Mr.displayName="HTMLOverlay",Mr.propTypes=Dr,Mr.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var Ar=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var Rr=Object.assign({},ar.propTypes,{redraw:i.a.func.isRequired,style:i.a.object}),Lr=function(t){function SVGOverlay(){return function svg_overlay_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SVGOverlay),function svg_overlay_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(SVGOverlay.__proto__||Object.getPrototypeOf(SVGOverlay)).apply(this,arguments))}return function svg_overlay_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(SVGOverlay,t),Ar(SVGOverlay,[{key:"render",value:function render(){var t=this.context,e=t.viewport,r=t.isDragging,o=Object.assign({pointerEvents:"none",position:"absolute",left:0,top:0},this.props.style);return Object(n.createElement)("svg",{width:e.width,height:e.height,ref:this._onContainerLoad,style:o},this.props.redraw({width:e.width,height:e.height,isDragging:r,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),SVGOverlay}(ar);Lr.displayName="SVGOverlay",Lr.propTypes=Rr,Lr.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},r.d(e,"b",(function(){return er})),r.d(e,"a",(function(){return Ot}))},function(t,e,r){"use strict";var n=function extendStatics(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var o=function __assign(){return(o=Object.assign||function __assign(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}var i=r(29),a=r(0),s=r(434),u=r.n(s),l=r(119),c=r.n(l),p=r(63),f=r.n(p),d=r(204),h=r.n(d),m=r(124),y=r.n(m),g=r(61),v=r.n(g),_=r(205),b=r.n(_),S=r(207),x=r.n(S),w=r(206),E=r.n(w),P=r(8),C=r.n(P),T=r(3),D=r.n(T),M=r(224),A=r.n(M),R=r(105),L=r.n(R),I=r(69),O=r.n(I),k=r(208),F=r.n(k),N=r(18),B=r.n(N),U=r(299),z=r(52),j=r(168),G=r.n(j),V=r(74),W=r.n(V),q=r(147),H=r.n(q),K=r(117),Y=r.n(K),Z=r(148),X=r.n(Z);r.d(e,"a",(function(){return ve}));var Q=Object(a.createContext)(null),$=Q.Consumer,J=Q.Provider,tt=$,et=(a.Component,function withUtils(){return function(t){var e=function WithUtils(e){return Object(a.createElement)(tt,null,(function(r){return function checkUtils(t){if(!t)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")}(r),Object(a.createElement)(t,o({utils:r},e))}))};return e.displayName="WithUtils("+(t.displayName||t.name)+")",e}}),rt=function getInitialDate(t){var e=t.utils,r=t.value,n=t.initialFocusedDate,o=r||n||e.date(),i=e.date(o);return e.isValid(i)?i:e.date()},nt=function(t){function BasePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={date:rt(e.props),isAccepted:!1},e.changeDate=function(t,r){return e.setState({date:t},r)},e.handleAcceptedChange=function(t,r){return e.setState({isAccepted:t},r)},e.handleClear=function(){return e.props.onChange(null)},e.handleAccept=function(){return e.props.onChange(e.state.date)},e.handleSetTodayDate=function(){return e.handleChange(e.props.utils.date(),!1)},e.handleTextFieldChange=function(t){var r=e.props.onChange;null===t?r(null):e.changeDate(t,(function(){return r(t)}))},e.pick12hOr24hFormat=function(t,r){var n=e.props,o=n.format,i=n.ampm;return o||(i?t:r)},e.handleChange=function(t,r){void 0===r&&(r=!0);var n=e.props,o=n.autoOk,i=n.onChange;e.changeDate(t,(function(){r&&o&&(i(t),e.handleAcceptedChange(!0,(function(){return e.handleAcceptedChange(!1)})))}))},e.handleDismiss=function(){e.setState({date:rt(e.props)})},e}return __extends(BasePicker,t),BasePicker.prototype.componentDidUpdate=function(t){var e=this.props,r=e.utils,n=e.value,o=e.initialFocusedDate;t.value===n&&t.utils.locale===r.locale&&t.initialFocusedDate===o||this.changeDate(rt(this.props))},BasePicker.prototype.render=function(){return this.props.children(o({},this.state,{utils:this.props.utils,changeDate:this.changeDate,handleAcceptedChange:this.handleAcceptedChange,handleClear:this.handleClear,handleAccept:this.handleAccept,handleDismiss:this.handleDismiss,handleSetTodayDate:this.handleSetTodayDate,handleTextFieldChange:this.handleTextFieldChange,pick12hOr24hFormat:this.pick12hOr24hFormat,handleChange:this.handleChange}))},BasePicker}(a.Component),ot=et()(nt),it=(Object(i.oneOfType)([i.object,i.string,i.number,Object(i.instanceOf)(Date)]),function(t){function Input(){return null!==t&&t.apply(this,arguments)||this}return __extends(Input,t),Input.prototype.render=function(){var t=this.props,e=t.inputRef,r=__rest(t,["inputRef"]);return this.props.mask?Object(a.createElement)(u.a,o({},r,{ref:e})):Object(a.createElement)("input",o({},r,{ref:e}))},Input.defaultProps={mask:void 0},Input}(a.PureComponent)),at=function getDisplayDate(t){var e=t.utils,r=t.value,n=t.format,o=t.invalidLabel,i=t.emptyLabel,a=t.labelFunc,s=null===r,u=e.date(r);return a?a(s?null:u,o):s?i:e.isValid(u)?e.format(u,n):o},st=function getError(t,e){var r=e.utils,n=e.maxDate,o=e.minDate,i=e.disablePast,a=e.disableFuture,s=e.maxDateMessage,u=e.minDateMessage,l=e.invalidDateMessage;return r.isValid(t)?n&&r.isAfter(t,r.endOfDay(r.date(n)))||a&&r.isAfter(t,r.endOfDay(r.date()))?s:o&&r.isBefore(t,r.startOfDay(r.date(o)))||i&&r.isBefore(t,r.startOfDay(r.date()))?u:"":r.isNull(t)?"":l},ut=function(t){function DateTextField(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=DateTextField.updateState(e.props),e.commitUpdates=function(t){var r=e.props,n=r.clearable,o=r.onClear,i=r.utils,a=r.format,s=r.onError;if(""!==t){var u=i.date(e.state.value),l=i.parse(t,a),c=st(l,e.props);e.setState({error:c,displayValue:t,value:c?l:u},(function(){c||i.isEqual(l,u)||e.props.onChange(l),c&&s&&s(l,c)}))}else null===e.props.value?e.setState(DateTextField.updateState(e.props)):n&&o&&o()},e.handleBlur=function(t){e.props.keyboard&&(t.preventDefault(),t.stopPropagation(),e.commitUpdates(t.target.value),e.props.onBlur&&e.props.onBlur(t))},e.handleChange=function(t){var r=e.props,n=r.utils,o=r.format,i=r.onInputChange,a=n.parse(t.target.value,o);i&&i(t),e.setState({displayValue:t.target.value,error:st(a,e.props)})},e.handleFocus=function(t){t.stopPropagation(),t.preventDefault(),e.props.keyboard||e.openPicker(t)},e.handleKeyPress=function(t){"Enter"===t.key&&(e.props.disableOpenOnEnter?e.commitUpdates(t.target.value):e.openPicker(t))},e.openPicker=function(t){var r=e.props,n=r.disabled,o=r.onClick;n||o(t)},e}return __extends(DateTextField,t),DateTextField.prototype.componentDidUpdate=function(t){this.props.utils.isEqual(this.props.value,t.value)&&t.format===this.props.format&&t.maxDate===this.props.maxDate&&t.minDate===this.props.minDate&&t.emptyLabel===this.props.emptyLabel&&t.utils===this.props.utils||this.setState(DateTextField.updateState(this.props))},DateTextField.prototype.render=function(){var t=this.props,e=t.adornmentPosition,r=(t.clearable,t.disabled),n=(t.disableFuture,t.disableOpenOnEnter,t.disablePast,t.emptyLabel,t.format,t.InputAdornmentProps),i=t.InputProps,s=(t.invalidDateMessage,t.invalidLabel,t.keyboard),u=t.keyboardIcon,l=(t.labelFunc,t.mask),p=(t.maxDate,t.maxDateMessage,t.minDate,t.minDateMessage,t.onBlur,t.onClear,t.onClick,t.pipe),d=t.TextFieldComponent,m=(t.utils,t.value,t.onInputChange,__rest(t,["adornmentPosition","clearable","disabled","disableFuture","disableOpenOnEnter","disablePast","emptyLabel","format","InputAdornmentProps","InputProps","invalidDateMessage","invalidLabel","keyboard","keyboardIcon","labelFunc","mask","maxDate","maxDateMessage","minDate","minDateMessage","onBlur","onClear","onClick","pipe","TextFieldComponent","utils","value","onInputChange"])),y=this.state,g=y.displayValue,v=y.error,_={inputComponent:it,inputProps:{mask:s?l:null,pipe:s?p:null,readOnly:!s}};s&&(_[e+"Adornment"]=Object(a.createElement)(h.a,o({position:e},n),Object(a.createElement)(f.a,{disabled:r,onClick:this.openPicker},Object(a.createElement)(c.a,null," ",u," "))));var b=d,S=o({},_,i);return Object(a.createElement)(b,o({onClick:this.handleFocus,error:!!v,helperText:v,onKeyPress:this.handleKeyPress,onBlur:this.handleBlur,disabled:r,value:g},m,{onError:void 0,onChange:this.handleChange,InputProps:S}))},DateTextField.defaultProps={disabled:!1,invalidLabel:"Unknown",emptyLabel:"",value:new Date,labelFunc:void 0,format:void 0,InputProps:void 0,keyboard:!1,mask:void 0,keyboardIcon:"event",disableOpenOnEnter:!1,invalidDateMessage:"Invalid Date Format",clearable:!1,onBlur:void 0,onClear:void 0,disablePast:!1,disableFuture:!1,onError:void 0,onInputChange:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",TextFieldComponent:y.a,InputAdornmentProps:{},adornmentPosition:"end",pipe:void 0},DateTextField.updateState=function(t){return{value:t.value,displayValue:at(t),error:st(t.utils.date(t.value),t)}},DateTextField}(a.PureComponent),lt=et()(ut),ct={dialogRoot:{minWidth:310,minHeight:405},dialog:{width:310,minHeight:405,overflow:"hidden","&:first-child":{padding:0}},dialogActions:{justifyContent:"flex-start"},clearableDialogAction:{"&:first-child":{marginRight:"auto"}},todayDialogAction:{"&:first-child":{marginRight:"auto"}},dialogAction:{}},pt=function ModalDialog(t){var e,r=t.children,n=t.classes,i=t.onKeyDown,s=t.onAccept,u=t.onDismiss,l=t.onClear,c=t.onSetToday,p=t.okLabel,f=t.cancelLabel,d=t.clearLabel,h=t.todayLabel,m=t.dialogContentClassName,y=t.clearable,g=t.showTodayButton,_=__rest(t,["children","classes","onKeyDown","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","dialogContentClassName","clearable","showTodayButton"]);return Object(a.createElement)(b.a,o({onClose:u,classes:{paper:n.dialogRoot},role:"dialog"},_),Object(a.createElement)(A.a,{target:"window",onKeyDown:i}),Object(a.createElement)(E.a,{className:D()(n.dialog,m)},r),Object(a.createElement)(x.a,{classes:{root:y||g?n.dialogActions:void 0,action:D()(n.dialogAction,(e={},e[n.clearableDialogAction]=y,e[n.todayDialogAction]=!y&&g,e))}},y&&Object(a.createElement)(v.a,{color:"primary",onClick:l},d),!y&&g&&Object(a.createElement)(v.a,{color:"primary",onClick:c},h),Object(a.createElement)(v.a,{color:"primary",onClick:u},f),Object(a.createElement)(v.a,{color:"primary",onClick:s},p)))};pt.displayName="ModalDialog",pt.defaultProps={dialogContentClassName:""};var ft=C()(ct,{name:"MuiPickersModal"})(pt),dt=function(t){function ModalWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={open:!1},e.handleKeyDown=function(t){switch(L()(t)){case"enter":e.handleAccept();break;default:return}t.preventDefault()},e.handleSetTodayDate=function(){e.props.onSetToday&&e.props.onSetToday()},e.open=function(){e.setState({open:!0}),e.props.onOpen&&e.props.onOpen()},e.close=function(){e.setState({open:!1}),e.props.onClose&&e.props.onClose()},e.handleAccept=function(){e.close(),e.props.onAccept&&e.props.onAccept()},e.handleDismiss=function(){e.close(),e.props.onDismiss&&e.props.onDismiss()},e.handleClear=function(){e.close(),e.props.onClear&&e.props.onClear()},e}return __extends(ModalWrapper,t),ModalWrapper.getDerivedStateFromProps=function(t){return t.isAccepted?{open:!1}:null},ModalWrapper.prototype.render=function(){var t=this.props,e=t.value,r=t.format,n=t.children,i=t.dialogContentClassName,s=(t.onAccept,t.onDismiss,t.invalidLabel),u=t.labelFunc,l=t.okLabel,c=t.cancelLabel,p=t.clearLabel,f=t.clearable,d=t.todayLabel,h=t.showTodayButton,m=(t.onOpen,t.onClose,t.onSetToday,t.isAccepted,t.DialogProps),y=__rest(t,["value","format","children","dialogContentClassName","onAccept","onDismiss","invalidLabel","labelFunc","okLabel","cancelLabel","clearLabel","clearable","todayLabel","showTodayButton","onOpen","onClose","onSetToday","isAccepted","DialogProps"]);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(lt,o({value:e,format:r,onClick:this.open,invalidLabel:s,labelFunc:u,clearable:f},y)),Object(a.createElement)(ft,o({open:this.state.open,onKeyDown:this.handleKeyDown,onClear:this.handleClear,onAccept:this.handleAccept,onDismiss:this.handleDismiss,onSetToday:this.handleSetTodayDate,dialogContentClassName:i,clearLabel:p,todayLabel:d,okLabel:l,cancelLabel:c,clearable:f,showTodayButton:h,children:n},m)))},ModalWrapper.defaultProps={dialogContentClassName:"",invalidLabel:void 0,value:new Date,labelFunc:void 0,okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1,format:void 0,onAccept:void 0,onDismiss:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,onSetToday:void 0,DialogProps:void 0,isAccepted:!1},ModalWrapper}(a.PureComponent),ht=function PickerToolbar(t){var e=t.children,r=t.className,n=t.classes,i=__rest(t,["children","className","classes"]);return Object(a.createElement)(F.a,o({className:D()(n.toolbar,r)},i),e)};ht.defaultProps={className:""};var mt=C()((function styles$1(t){return O()({toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===t.palette.type?t.palette.primary.main:t.palette.background.default}})}),{name:"MuiPickersToolbar"})(ht),yt=function ToolbarButton(t){var e,r=t.classes,n=t.selected,i=t.label,s=t.className,u=__rest(t,["classes","selected","label","className"]);return Object(a.createElement)(B.a,o({className:D()(r.toolbarBtn,s,(e={},e[r.toolbarBtnSelected]=n,e))},u),i)};yt.defaultProps={className:""};var gt=C()((function styles$2(t){return{toolbarBtn:{cursor:"pointer",color:"rgba(255, 255, 255, 0.54)"},toolbarBtnSelected:{color:t.palette.common.white}}}),{name:"MuiPickersToolbarButton"})(yt),vt=function SlideTransition(t){var e=t.classes,r=t.className,n=t.children,o=t.transKey,i=t.slideDirection;return Object(a.createElement)(U.TransitionGroup,{className:D()(e.transitionContainer,r)},Object(a.createElement)(U.CSSTransition,{key:o,mountOnEnter:!0,unmountOnExit:!0,timeout:350,children:n,classNames:{enter:e["slideEnter-"+i],enterActive:e.slideEnterActive,exit:e.slideExit,exitActive:e["slideExitActiveLeft-"+i]}}))};vt.defaultProps={className:void 0};var _t=C()((function styles$3(t){var e=t.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return O()({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:e},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-100%)",transition:e},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(100%)",transition:e}})}),{name:"MuiPickersSlideTransition"})(vt),bt=function CalendarHeader(t){var e=t.classes,r=t.theme,n=t.currentMonth,o=t.onMonthChange,i=t.leftArrowIcon,s=t.rightArrowIcon,u=t.disablePrevMonth,l=t.disableNextMonth,p=t.utils,d=t.slideDirection,h="rtl"===r.direction;return Object(a.createElement)("div",null,Object(a.createElement)("div",{className:e.switchHeader},Object(a.createElement)(f.a,{disabled:u,onClick:function selectPreviousMonth(){return o(p.getPreviousMonth(n),"right")},className:e.iconButton},Object(a.createElement)(c.a,null,h?s:i)),Object(a.createElement)(_t,{slideDirection:d,transKey:n.toString(),className:e.transitionContainer},Object(a.createElement)(B.a,{align:"center",variant:"body1"},p.getCalendarHeaderText(n))),Object(a.createElement)(f.a,{disabled:l,onClick:function selectNextMonth(){return o(p.getNextMonth(n),"left")},className:e.iconButton},Object(a.createElement)(c.a,null,h?i:s))),Object(a.createElement)("div",{className:e.daysHeader},p.getWeekdays().map((function(t,r){return Object(a.createElement)(B.a,{key:r,variant:"caption",className:e.dayLabel},t)}))))};bt.defaultProps={leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",disablePrevMonth:!1,disableNextMonth:!1};var St=C()((function styles$4(t){return O()({switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:t.spacing.unit/2,marginBottom:t.spacing.unit},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:t.palette.background.paper,"& > *":{backgroundColor:t.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:t.palette.text.hint}})}),{withTheme:!0,name:"MuiPickersCalendarHeader"})(et()(bt)),xt=function(t){function Day(){return null!==t&&t.apply(this,arguments)||this}return __extends(Day,t),Day.prototype.render=function(){var t,e=this.props,r=e.children,n=e.classes,i=e.disabled,s=e.hidden,u=e.current,l=e.selected,c=__rest(e,["children","classes","disabled","hidden","current","selected"]),p=D()(n.day,((t={})[n.hidden]=s,t[n.current]=u,t[n.selected]=l,t[n.disabled]=i,t));return Object(a.createElement)(f.a,o({className:p,tabIndex:s||i?-1:0},c),r)},Day.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1},Day}(a.PureComponent),wt=C()((function styles$5(t){return O()({day:{width:36,height:36,fontSize:t.typography.caption.fontSize,margin:"0 2px",color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:t.palette.primary.main,fontWeight:600},selected:{color:t.palette.common.white,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{backgroundColor:t.palette.primary.main}},disabled:{pointerEvents:"none",color:t.palette.text.hint}})}),{name:"MuiPickersDay"})(xt),Et=function(t){function DayWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(){e.props.onSelect(e.props.value)},e}return __extends(DayWrapper,t),DayWrapper.prototype.render=function(){var t=this.props,e=t.children,r=(t.value,t.dayInCurrentMonth),n=t.disabled,i=(t.onSelect,__rest(t,["children","value","dayInCurrentMonth","disabled","onSelect"]));return Object(a.createElement)("div",o({onClick:r&&!n?this.handleClick:void 0,onKeyPress:r&&!n?this.handleClick:void 0,role:"presentation"},i),e)},DayWrapper.defaultProps={dayInCurrentMonth:!0,disabled:!1},DayWrapper}(a.PureComponent),Pt=function(t){function Calendar(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={slideDirection:"left",currentMonth:e.props.utils.getStartOfMonth(e.props.date)},e.onDateSelect=function(t,r){void 0===r&&(r=!0);var n=e.props,o=n.date,i=n.utils;e.props.onChange(i.mergeDateAndTime(t,o),r)},e.handleChangeMonth=function(t,r){e.setState({currentMonth:t,slideDirection:r})},e.validateMinMaxDate=function(t){var r=e.props,n=r.minDate,o=r.maxDate,i=r.utils;return n&&i.isBeforeDay(t,i.date(n))||o&&i.isAfterDay(t,i.date(o))},e.shouldDisablePrevMonth=function(){var t=e.props,r=t.utils,n=t.disablePast,o=t.minDate,i=r.date();return!r.isBefore(r.getStartOfMonth(n&&r.isAfter(i,o)?i:r.date(o)),e.state.currentMonth)},e.shouldDisableNextMonth=function(){var t=e.props,r=t.utils,n=t.disableFuture,o=t.maxDate,i=r.date();return!r.isAfter(r.getStartOfMonth(n&&r.isBefore(i,o)?i:r.date(o)),e.state.currentMonth)},e.shouldDisableDate=function(t){var r=e.props,n=r.disablePast,o=r.disableFuture,i=r.shouldDisableDate,a=r.utils;return Boolean(o&&a.isAfterDay(t,a.date())||n&&a.isBeforeDay(t,a.date())||e.validateMinMaxDate(t)||i&&i(t))},e.moveToDay=function(t){t&&!e.shouldDisableDate(t)&&e.onDateSelect(t,!1)},e.handleKeyDown=function(t){var r=e.props,n=r.theme,o=r.date,i=r.utils;switch(L()(t)){case"up":e.moveToDay(i.addDays(o,-7));break;case"down":e.moveToDay(i.addDays(o,7));break;case"left":"ltr"===n.direction?e.moveToDay(i.addDays(o,-1)):e.moveToDay(i.addDays(o,1));break;case"right":"ltr"===n.direction?e.moveToDay(i.addDays(o,1)):e.moveToDay(i.addDays(o,-1));break;default:return}t.preventDefault()},e.renderWeeks=function(){var t=e.props.utils,r=e.state.currentMonth;return t.getWeekArray(r).map((function(t){return Object(a.createElement)("div",{key:"week-"+t[0].toString(),className:e.props.classes.week},e.renderDays(t))}))},e.renderDays=function(t){var r=e.props,n=r.date,o=r.renderDay,i=r.utils,s=i.startOfDay(n),u=i.getMonth(e.state.currentMonth),l=i.date();return t.map((function(t){var r=e.shouldDisableDate(t),n=i.getMonth(t)===u,c=Object(a.createElement)(wt,{current:i.isSameDay(t,l),hidden:!n,disabled:r,selected:i.isSameDay(s,t)},i.getDayText(t));return o&&(c=o(t,s,n,c)),Object(a.createElement)(Et,{key:t.toString(),value:t,dayInCurrentMonth:n,disabled:r,onSelect:e.onDateSelect},c)}))},e}return __extends(Calendar,t),Calendar.getDerivedStateFromProps=function(t,e){return t.utils.isEqual(t.date,e.lastDate)?null:{lastDate:t.date,currentMonth:t.utils.getStartOfMonth(t.date)}},Calendar.prototype.componentDidMount=function(){var t=this.props,e=t.date,r=t.minDate,n=t.maxDate,o=t.utils,i=(t.disableFuture,t.disablePast);this.shouldDisableDate(e)&&this.onDateSelect(function findClosestEnabledDate(t){var e=t.date,r=t.utils,n=t.minDate,o=t.maxDate,i=t.disableFuture,a=t.disablePast,s=t.shouldDisableDate,u=r.startOfDay(r.date());n=n&&r.date(n),o=o&&r.date(o),a&&r.isBefore(n,u)&&(n=u),i&&r.isAfter(o,u)&&(o=u);var l=r.date(e),c=r.date(e);for(r.isBefore(e,n)&&(l=n,c=null),r.isAfter(e,o)&&(c&&(c=o),l=null);l||c;){if(l&&r.isAfter(l,o)&&(l=null),c&&r.isBefore(c,n)&&(c=null),l){if(!s(l))return l;l=r.addDays(l,1)}if(c){if(!s(c))return c;c=r.addDays(c,-1)}}return null}({date:e,utils:o,minDate:r,maxDate:n,disablePast:Boolean(i),disableFuture:Boolean(i),shouldDisableDate:this.shouldDisableDate}),!1)},Calendar.prototype.render=function(){var t=this.state,e=t.currentMonth,r=t.slideDirection,n=this.props,o=n.classes,i=(n.utils,n.allowKeyboardControl);return Object(a.createElement)(a.Fragment,null,i&&Object(a.createElement)(A.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(a.createElement)(St,{slideDirection:r,currentMonth:e,onMonthChange:this.handleChangeMonth,leftArrowIcon:this.props.leftArrowIcon,rightArrowIcon:this.props.rightArrowIcon,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(a.createElement)(_t,{slideDirection:r,transKey:e.toString(),className:o.transitionContainer},Object(a.createElement)("div",{autoFocus:!0},this.renderWeeks())))},Calendar.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,allowKeyboardControl:!1,shouldDisableDate:function shouldDisableDate(){return!1}},Calendar}(a.Component),Ct=C()((function styles$6(t){return{transitionContainer:{minHeight:216,marginTop:1.5*t.spacing.unit},week:{display:"flex",justifyContent:"center"}}}),{name:"MuiPickersCalendar",withTheme:!0})(et()(Pt)),Tt=function(t){function Year(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(){e.props.onSelect(e.props.value)},e}return __extends(Year,t),Year.prototype.render=function(){var t,e=this.props,r=e.classes,n=e.selected,i=e.disabled,s=(e.value,e.children),u=__rest(e,["classes","selected","disabled","value","children"]);return Object(a.createElement)(B.a,o({role:"button",component:"div",className:D()(r.root,(t={},t[r.selected]=n,t[r.disabled]=i,t)),tabIndex:i?-1:0,onClick:this.handleClick,onKeyPress:this.handleClick,color:n?"primary":"default",variant:n?"h5":"subtitle1"},u),s)},Year.defaultProps={selected:!1,disabled:!1},Year}(a.PureComponent),Dt=C()((function styles$7(t){return O()({root:{height:5*t.spacing.unit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium}},selected:{margin:"10px 0",fontWeight:t.typography.fontWeightMedium},disabled:{pointerEvents:"none",color:t.palette.text.hint}})}),{name:"MuiPickersYear"})(Tt),Mt=function(t){function YearSelection(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedYearRef=void 0,e.getSelectedYearRef=function(t){e.selectedYearRef=t},e.scrollToCurrentYear=function(t){var r=e.props.animateYearScrolling,n=Object(z.findDOMNode)(t);n&&n.scrollIntoView&&(r?setTimeout((function(){return n.scrollIntoView({behavior:"smooth"})}),100):n.scrollIntoView())},e.componentDidMount=function(){e.selectedYearRef&&e.scrollToCurrentYear(e.selectedYearRef)},e.onYearSelect=function(t){var r=e.props,n=r.date;(0,r.onChange)(r.utils.setYear(n,t))},e}return __extends(YearSelection,t),YearSelection.prototype.render=function(){var t=this,e=this.props,r=e.minDate,n=e.maxDate,o=e.date,i=e.classes,s=e.disablePast,u=e.disableFuture,l=e.utils,c=l.getYear(o);return Object(a.createElement)("div",{className:i.container},l.getYearRange(r,n).map((function(e){var r=l.getYear(e),n=r===c;return Object(a.createElement)(Dt,{key:l.getYearText(e),selected:n,value:r,onSelect:t.onYearSelect,ref:n?t.getSelectedYearRef:void 0,disabled:s&&l.isBeforeYear(e,l.date())||u&&l.isAfterYear(e,l.date())},l.getYearText(e))})))},YearSelection.defaultProps={animateYearScrolling:!1},YearSelection}(a.PureComponent),At=O()({container:{maxHeight:300,overflowY:"auto",justifyContent:"center"}}),Rt=C()(At,{name:"MuiPickersYearSelection"})(et()(Mt)),Lt=function(t){function DatePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showYearSelection:Boolean(e.props.openToYearSelection)},e.handleYearSelect=function(t){e.props.onChange(t,!1),e.openCalendar()},e.openYearSelection=function(){e.setState({showYearSelection:!0})},e.openCalendar=function(){e.setState({showYearSelection:!1})},e}return __extends(DatePicker,t),Object.defineProperty(DatePicker.prototype,"date",{get:function get(){return this.props.utils.startOfDay(this.props.date)},enumerable:!0,configurable:!0}),Object.defineProperty(DatePicker.prototype,"minDate",{get:function get(){return this.props.utils.date(this.props.minDate)},enumerable:!0,configurable:!0}),Object.defineProperty(DatePicker.prototype,"maxDate",{get:function get(){return this.props.utils.date(this.props.maxDate)},enumerable:!0,configurable:!0}),DatePicker.prototype.render=function(){var t=this.state.showYearSelection,e=this.props,r=e.disablePast,n=e.disableFuture,o=e.onChange,i=e.animateYearScrolling,s=e.leftArrowIcon,u=e.rightArrowIcon,l=e.renderDay,c=e.utils,p=e.shouldDisableDate,f=e.allowKeyboardControl;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(mt,null,Object(a.createElement)(gt,{variant:"subtitle1",onClick:this.openYearSelection,selected:t,label:c.getYearText(this.date)}),Object(a.createElement)(gt,{variant:"h4",onClick:this.openCalendar,selected:!t,label:c.getDatePickerHeaderText(this.date)})),this.props.children,t?Object(a.createElement)(Rt,{date:this.date,onChange:this.handleYearSelect,minDate:this.minDate,maxDate:this.maxDate,disablePast:r,disableFuture:n,animateYearScrolling:i}):Object(a.createElement)(Ct,{date:this.date,onChange:o,disablePast:r,disableFuture:n,minDate:this.minDate,maxDate:this.maxDate,leftArrowIcon:s,rightArrowIcon:u,renderDay:l,shouldDisableDate:p,allowKeyboardControl:f}))},DatePicker.defaultProps={minDate:"1900-01-01",maxDate:"2100-01-01",disablePast:!1,disableFuture:!1,allowKeyboardControl:!1,animateYearScrolling:void 0,openToYearSelection:!1,children:null,leftArrowIcon:void 0,rightArrowIcon:void 0,renderDay:void 0,shouldDisableDate:void 0},DatePicker}(a.PureComponent),It=et()(Lt),Ot=function DatePickerModal(t){var e=t.allowKeyboardControl,r=t.animateYearScrolling,n=(t.autoOk,t.disableFuture),i=t.disablePast,s=t.format,u=t.forwardedRef,l=t.labelFunc,c=t.leftArrowIcon,p=t.maxDate,f=t.minDate,d=(t.initialFocusedDate,t.onChange,t.openToYearSelection),h=t.renderDay,m=t.rightArrowIcon,y=t.shouldDisableDate,g=t.value,v=__rest(t,["allowKeyboardControl","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value"]);return Object(a.createElement)(ot,o({},t),(function(t){var _=t.date,b=t.utils,S=t.handleAccept,x=t.handleChange,w=t.handleClear,E=t.handleDismiss,P=t.handleSetTodayDate,C=t.handleTextFieldChange,T=t.isAccepted;return Object(a.createElement)(dt,o({disableFuture:n,disablePast:i,format:s||b.dateFormat,labelFunc:l,maxDate:p,minDate:f,onAccept:S,onChange:C,onClear:w,onDismiss:E,onSetToday:P,ref:u,value:g,isAccepted:T},v),Object(a.createElement)(It,{date:_,allowKeyboardControl:e,animateYearScrolling:r,disableFuture:n,disablePast:i,leftArrowIcon:c,maxDate:p,minDate:f,onChange:x,openToYearSelection:d,renderDay:h,rightArrowIcon:m,shouldDisableDate:y}))}))};Ot.defaultProps={value:new Date,format:void 0,autoOk:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(Ot,o({},t,{forwardedRef:e}))}));var kt=function(t){function InlineWrapper(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={anchorEl:null},e.open=function(t){e.setState({anchorEl:t.currentTarget}),e.props.onOpen&&e.props.onOpen()},e.close=function(){e.setState({anchorEl:null}),e.props.handleAccept(),e.props.onClose&&e.props.onClose()},e.handleKeyDown=function(t){switch(L()(t)){case"enter":e.props.handleAccept(),e.close();break;default:return}t.preventDefault()},e}return __extends(InlineWrapper,t),InlineWrapper.getDerivedStateFromProps=function(t){return t.isAccepted?{anchorEl:null}:null},InlineWrapper.prototype.render=function(){var t=this.props,e=t.value,r=t.format,n=t.children,i=(t.onOpen,t.onClose,t.PopoverProps),s=(t.isAccepted,t.keyboard),u=(t.onlyCalendar,t.classes),l=(t.handleAccept,__rest(t,["value","format","children","onOpen","onClose","PopoverProps","isAccepted","keyboard","onlyCalendar","classes","handleAccept"])),c=Boolean(this.state.anchorEl);return Object(a.createElement)(a.Fragment,null,c&&Object(a.createElement)(A.a,{target:"window",onKeyDown:this.handleKeyDown}),Object(a.createElement)(lt,o({value:e,format:r,onClick:this.open,keyboard:s},l)),Object(a.createElement)(G.a,o({id:"picker-popover",open:c,anchorEl:this.state.anchorEl,onClose:this.close,classes:{paper:u.popoverPaper},anchorOrigin:{vertical:"bottom",horizontal:s?"right":"center"},transformOrigin:{vertical:"top",horizontal:s?"right":"center"},children:n},i)))},InlineWrapper.defaultProps={value:new Date,labelFunc:void 0,onlyCalendar:!1,format:void 0,onClear:void 0,onOpen:void 0,onClose:void 0,PopoverProps:void 0,isAccepted:!1,keyboard:void 0},InlineWrapper}(a.PureComponent),Ft=C()({popoverPaper:{maxWidth:310,minWidth:290,paddingBottom:8}})(kt),Nt=function DatePickerInline(t){var e=t.allowKeyboardControl,r=t.animateYearScrolling,n=t.disableFuture,i=t.disablePast,s=t.format,u=t.forwardedRef,l=t.labelFunc,c=t.leftArrowIcon,p=t.maxDate,f=t.minDate,d=(t.initialFocusedDate,t.onChange,t.openToYearSelection),h=t.renderDay,m=t.rightArrowIcon,y=t.shouldDisableDate,g=t.value,v=(t.autoOk,t.onlyCalendar),_=__rest(t,["allowKeyboardControl","animateYearScrolling","disableFuture","disablePast","format","forwardedRef","labelFunc","leftArrowIcon","maxDate","minDate","initialFocusedDate","onChange","openToYearSelection","renderDay","rightArrowIcon","shouldDisableDate","value","autoOk","onlyCalendar"]),b=v?Ct:It;return Object(a.createElement)(ot,o({},t,{autoOk:!0}),(function(t){var v=t.date,S=t.utils,x=t.isAccepted,w=t.handleChange,E=t.handleTextFieldChange,P=t.handleAccept;return Object(a.createElement)(Ft,o({disableFuture:n,disablePast:i,format:s||S.dateFormat,labelFunc:l,maxDate:p,minDate:f,onChange:E,innerRef:u,value:g,isAccepted:x,handleAccept:P},_),Object(a.createElement)(b,{date:v,allowKeyboardControl:e,animateYearScrolling:r,disableFuture:n,disablePast:i,leftArrowIcon:c,maxDate:p,minDate:f,onChange:w,openToYearSelection:d,renderDay:h,rightArrowIcon:m,shouldDisableDate:y}))}))};Nt.defaultProps={value:new Date,format:void 0,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,disableFuture:!1,disablePast:!1,animateYearScrolling:!1,openToYearSelection:!1,allowKeyboardControl:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",renderDay:void 0,labelFunc:void 0,shouldDisableDate:void 0,forwardedRef:void 0,autoOk:void 0,onlyCalendar:!1};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(Nt,o({},t,{forwardedRef:e}))}));var Bt,Ut={x:130,y:130},zt=Ut.x-Ut.x,jt=0-Ut.y,Gt=function getAngleValue(t,e,r){var n=e-Ut.x,o=r-Ut.y,i=function rad2deg(t){return 57.29577951308232*t}(Math.atan2(zt,jt)-Math.atan2(n,o));i=Math.round(i/t)*t,i%=360;var a=Math.floor(i/t)||0,s=Math.pow(n,2)+Math.pow(o,2);return{value:a,distance:Math.sqrt(s)}},Vt=function convertToMeridiem(t,e,r,n){if(r&&(n.getHours(t)>=12?"pm":"am")!==e){var o="am"===e?n.getHours(t)-12:n.getHours(t)+12;return n.setHours(t,o)}return t};!function(t){t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds"}(Bt||(Bt={}));var Wt=Bt,qt=function(t){function ClockPointer(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={toAnimateTransform:!1,previousType:void 0},e.getAngleStyle=function(){var t=e.props,r=t.value,n=t.isInner,o=t.type,i=360/(o===Wt.HOURS?12:60)*r;return o===Wt.HOURS&&r>12&&(i-=360),{height:n?"26%":"40%",transform:"rotateZ("+i+"deg)"}},e}return __extends(ClockPointer,t),ClockPointer.prototype.render=function(){var t,e,r=this.props,n=r.classes,o=r.hasSelected;return Object(a.createElement)("div",{style:this.getAngleStyle(),className:D()(n.pointer,(t={},t[n.animateTransform]=this.state.toAnimateTransform,t))},Object(a.createElement)("div",{className:D()(n.thumb,(e={},e[n.noPoint]=o,e))}))},ClockPointer.getDerivedStateFromProps=function(t,e){return t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type}},ClockPointer}(a.Component),Ht=C()((function styles$a(t){return O()({pointer:{width:2,backgroundColor:t.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:t.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:t.palette.common.white,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+t.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:t.palette.primary.main}})}),{name:"MuiPickersClockPointer"})(qt),Kt=function(t){function Clock(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e.handleTouchMove=function(t){e.isMoving=!0,e.setTime(t)},e.handleTouchEnd=function(t){e.isMoving&&(e.setTime(t,!0),e.isMoving=!1)},e.handleMove=function(t){t.preventDefault(),t.stopPropagation(),("undefined"===typeof t.buttons?1===t.nativeEvent.which:1===t.buttons)&&e.setTime(t.nativeEvent,!1)},e.handleMouseUp=function(t){e.isMoving&&(e.isMoving=!1),e.setTime(t.nativeEvent,!0)},e.hasSelected=function(){var t=e.props,r=t.type,n=t.value;return r===Wt.HOURS||n%5===0},e}return __extends(Clock,t),Clock.prototype.setTime=function(t,e){void 0===e&&(e=!1);var r=t.offsetX,n=t.offsetY;if("undefined"===typeof r){var o=t.target.getBoundingClientRect();r=t.changedTouches[0].clientX-o.left,n=t.changedTouches[0].clientY-o.top}var i=this.props.type===Wt.SECONDS||this.props.type===Wt.MINUTES?function getMinutes(t,e,r){return void 0===r&&(r=6),Gt(r,t,e).value}(r,n):function getHours(t,e,r){var n=Gt(30,t,e),o=n.value,i=n.distance;return o=o||12,r?o%=12:i<90&&(o+=12,o%=24),o}(r,n,Boolean(this.props.ampm));this.props.onChange(i,e)},Clock.prototype.render=function(){var t=this.props,e=t.classes,r=t.value,n=t.children,o=t.type,i=!t.ampm&&o===Wt.HOURS&&(r<1||r>12);return Object(a.createElement)("div",{className:e.container},Object(a.createElement)("div",{className:e.clock},Object(a.createElement)("div",{role:"menu",tabIndex:-1,className:e.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(a.createElement)("div",{className:e.pin}),Object(a.createElement)(Ht,{type:o,value:r,isInner:i,hasSelected:this.hasSelected()}),n))},Clock.defaultProps={ampm:!1},Clock}(a.Component),Yt=C()((function styles$b(t){return O()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:4*t.spacing.unit+"px 0 "+t.spacing.unit+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:t.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),{name:"MuiPickersClock"})(Kt),Zt={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},Xt=function(t){function ClockNumber(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTransformStyle=function(t){var e=Zt[t];return{transform:"translate("+e[0]+"px, "+e[1]+"px"}},e}return __extends(ClockNumber,t),ClockNumber.prototype.render=function(){var t,e=this.props,r=e.selected,n=e.label,o=e.index,i=e.classes,s=e.isInner,u=D()(i.clockNumber,((t={})[i.selected]=r,t));return Object(a.createElement)(B.a,{variant:s?"body1":"subtitle1",component:"span",className:u,style:this.getTransformStyle(o)},n)},ClockNumber.defaultProps={isInner:!1},ClockNumber}(a.Component),Qt=C()((function styles$c(t){var e=4*t.spacing.unit;return O()({clockNumber:{width:e,height:e,userSelect:"none",position:"absolute",left:"calc(50% - "+e/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===t.palette.type?t.palette.text.primary:t.palette.text.hint},selected:{color:t.palette.common.white}})}),{name:"MuiPickersClockNumber"})(Xt),$t=function getHourNumbers(t){for(var e=t.ampm,r=t.utils,n=t.date,i=r.getHours(n),s=[],u=e?12:23,l=function isSelected(t){return e?12===t?12===i||0===i:i===t||i-12===t:i===t},c=e?1:0;c<=u;c+=1){var p=c.toString();0===c&&(p="00");var f={index:c,label:r.formatNumber(p),selected:l(c),isInner:!e&&(0===c||c>12)};s.push(Object(a.createElement)(Qt,o({key:c},f)))}return s},Jt=function getMinutesNumbers(t){var e=t.value,r=t.utils.formatNumber;return[Object(a.createElement)(Qt,{label:r("00"),selected:0===e,index:12,key:12}),Object(a.createElement)(Qt,{label:r("05"),selected:5===e,index:1,key:1}),Object(a.createElement)(Qt,{label:r("10"),selected:10===e,index:2,key:2}),Object(a.createElement)(Qt,{label:r("15"),selected:15===e,index:3,key:3}),Object(a.createElement)(Qt,{label:r("20"),selected:20===e,index:4,key:4}),Object(a.createElement)(Qt,{label:r("25"),selected:25===e,index:5,key:5}),Object(a.createElement)(Qt,{label:r("30"),selected:30===e,index:6,key:6}),Object(a.createElement)(Qt,{label:r("35"),selected:35===e,index:7,key:7}),Object(a.createElement)(Qt,{label:r("40"),selected:40===e,index:8,key:8}),Object(a.createElement)(Qt,{label:r("45"),selected:45===e,index:9,key:9}),Object(a.createElement)(Qt,{label:r("50"),selected:50===e,index:10,key:10}),Object(a.createElement)(Qt,{label:r("55"),selected:55===e,index:11,key:11})]},te=function(t){function TimePickerView(){var e=null!==t&&t.apply(this,arguments)||this;return e.getViewProps=function(){var t=e.props,r=t.type,n=t.ampm,o=t.date,i=t.utils;switch(r){case Wt.HOURS:return{value:i.getHours(o),children:$t({date:o,ampm:Boolean(n),utils:i}),onChange:e.handleHourChange};case Wt.MINUTES:var a=i.getMinutes(o);return{value:a,children:Jt({value:a,utils:i}),onChange:e.handleMinutesChange};case Wt.SECONDS:var s=i.getSeconds(o);return{value:s,children:Jt({value:s,utils:i}),onChange:e.handleSecondsChange};default:throw new Error("You must provide the type for TimePickerView")}},e.handleHourChange=function(t,r){var n=e.props,o=n.date,i=n.utils.setHours(o,t);e.props.onHourChange(i,r)},e.handleMinutesChange=function(t,r){var n=e.props,o=n.date,i=n.utils.setMinutes(o,t);e.props.onMinutesChange(i,r)},e.handleSecondsChange=function(t,r){var n=e.props,o=n.date,i=n.utils.setSeconds(o,t);e.props.onSecondsChange(i,r)},e}return __extends(TimePickerView,t),TimePickerView.prototype.render=function(){var t=this.props,e=t.ampm,r=t.type,n=this.getViewProps();return Object(a.createElement)(Yt,o({type:r,ampm:e},n))},TimePickerView.defaultProps={ampm:!0},TimePickerView}(a.PureComponent),ee=et()(te),re=function(t){function TimePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openView:Wt.HOURS,meridiemMode:e.props.utils.getHours(e.props.date)>=12?"pm":"am"},e.setMeridiemMode=function(t){return function(){e.setState({meridiemMode:t},(function(){return e.handleChange({time:e.props.date,isFinish:!1,openMinutes:!1,openSeconds:!1})}))}},e.handleChange=function(t){var r=t.time,n=t.isFinish,o=t.openMinutes,i=t.openSeconds,a=Vt(r,e.state.meridiemMode,Boolean(e.props.ampm),e.props.utils);if(n){if(!o&&!i)return void e.props.onChange(a,n);o&&e.openMinutesView(),i&&e.openSecondsView()}e.props.onChange(a,!1)},e.handleHourChange=function(t,r){e.handleChange({time:t,isFinish:r,openMinutes:!0,openSeconds:!1})},e.handleMinutesChange=function(t,r){e.handleChange({time:t,isFinish:r,openMinutes:!1,openSeconds:Boolean(e.props.seconds)})},e.handleSecondsChange=function(t,r){e.handleChange({time:t,isFinish:r,openMinutes:!1,openSeconds:!1})},e.openSecondsView=function(){e.setState({openView:Wt.SECONDS})},e.openMinutesView=function(){e.setState({openView:Wt.MINUTES})},e.openHourView=function(){e.setState({openView:Wt.HOURS})},e}return __extends(TimePicker,t),TimePicker.prototype.render=function(){var t,e=this.props,r=e.classes,n=e.theme,o=e.date,i=e.utils,s=e.ampm,u=e.seconds,l=this.state,c=l.meridiemMode,p=l.openView,f="rtl"===n.direction?r.hourMinuteLabelReverse:r.hourMinuteLabel;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(mt,{className:D()(r.toolbar,(t={},t[r.toolbarLeftPadding]=s,t))},Object(a.createElement)("div",{className:f},Object(a.createElement)(gt,{variant:"h2",onClick:this.openHourView,selected:p===Wt.HOURS,label:i.getHourText(o,Boolean(s))}),Object(a.createElement)(gt,{variant:"h2",label:":",selected:!1,className:r.separator}),Object(a.createElement)(gt,{variant:"h2",onClick:this.openMinutesView,selected:p===Wt.MINUTES,label:i.getMinuteText(o)}),u&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(gt,{variant:"h2",label:":",selected:!1,className:r.separator}),Object(a.createElement)(gt,{variant:"h2",onClick:this.openSecondsView,selected:p===Wt.SECONDS,label:i.getSecondText(o)}))),s&&Object(a.createElement)("div",{className:u?r.ampmSelectionWithSeconds:r.ampmSelection},Object(a.createElement)(gt,{className:r.ampmLabel,selected:"am"===c,variant:"subtitle1",label:i.getMeridiemText("am"),onClick:this.setMeridiemMode("am")}),Object(a.createElement)(gt,{className:r.ampmLabel,selected:"pm"===c,variant:"subtitle1",label:i.getMeridiemText("pm"),onClick:this.setMeridiemMode("pm")}))),this.props.children,Object(a.createElement)(ee,{date:o,type:this.state.openView,ampm:s,onHourChange:this.handleHourChange,onMinutesChange:this.handleMinutesChange,onSecondsChange:this.handleSecondsChange}))},TimePicker.defaultProps={children:null,ampm:!0,seconds:!1},TimePicker}(a.Component),ne=C()((function styles$d(){return O()({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}})}),{withTheme:!0,name:"MuiPickersTimePicker"})(et()(re)),oe=function TimePickerModal(t){var e=t.value,r=(t.format,t.autoOk,t.onChange,t.ampm),n=t.forwardedRef,i=t.seconds,s=__rest(t,["value","format","autoOk","onChange","ampm","forwardedRef","seconds"]);return Object(a.createElement)(ot,o({},t),(function(t){var u=t.date,l=t.utils,c=t.handleAccept,p=t.handleChange,f=t.handleClear,d=t.handleDismiss,h=t.handleSetTodayDate,m=t.handleTextFieldChange,y=t.isAccepted,g=t.pick12hOr24hFormat;return Object(a.createElement)(dt,o({ref:n,value:e,onClear:f,onAccept:c,onChange:m,onDismiss:d,onSetToday:h,isAccepted:y,format:g(l.time12hFormat,l.time24hFormat)},s),Object(a.createElement)(ne,{date:u,onChange:p,ampm:r,seconds:i}))}))};oe.defaultProps={value:new Date,format:void 0,autoOk:!1,ampm:!0,forwardedRef:void 0,seconds:!1};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(oe,o({},t,{forwardedRef:e}))}));var ie=function TimePickerInline(t){var e=t.value,r=(t.format,t.onChange,t.ampm),n=t.forwardedRef,i=t.seconds,s=__rest(t,["value","format","onChange","ampm","forwardedRef","seconds"]);return Object(a.createElement)(ot,o({},t,{autoOk:!0}),(function(t){var u=t.date,l=t.utils,c=t.handleChange,p=t.handleTextFieldChange,f=t.isAccepted,d=t.pick12hOr24hFormat,h=t.handleAccept;return Object(a.createElement)(Ft,o({innerRef:n,value:e,onChange:p,isAccepted:f,handleAccept:h,format:d(l.time12hFormat,l.time24hFormat)},s),Object(a.createElement)(ne,{date:u,onChange:c,ampm:r,seconds:i}))}))};ie.defaultProps={ampm:!0,value:new Date,format:void 0,forwardedRef:void 0,seconds:!1};var ae;Object(a.forwardRef)((function(t,e){return Object(a.createElement)(ie,o({},t,{forwardedRef:e}))}));!function(t){t.YEAR="year",t.DATE="date",t.HOUR="hours",t.MINUTES="minutes"}(ae||(ae={}));var se=ae,ue=function DateTimePickerHeader(t){var e=t.date,r=t.classes,n=t.openView,o=t.meridiemMode,i=t.onOpenViewChange,s=t.setMeridiemMode,u=t.theme,l=t.utils,c=t.ampm,p=function changeOpenView(t){return function(){return i(t)}},f="rtl"===u.direction?r.hourMinuteLabelReverse:r.hourMinuteLabel;return Object(a.createElement)(mt,{className:r.toolbar},Object(a.createElement)("div",{className:r.dateHeader},Object(a.createElement)(gt,{variant:"subtitle1",onClick:p(se.YEAR),selected:n===se.YEAR,label:l.getYearText(e)}),Object(a.createElement)(gt,{variant:"h4",onClick:p(se.DATE),selected:n===se.DATE,label:l.getDateTimePickerHeaderText(e)})),Object(a.createElement)("div",{className:r.timeHeader},Object(a.createElement)("div",{className:f},Object(a.createElement)(gt,{variant:"h3",onClick:p(se.HOUR),selected:n===se.HOUR,label:l.getHourText(e,c)}),Object(a.createElement)(gt,{variant:"h3",label:":",selected:!1,className:r.separator}),Object(a.createElement)(gt,{variant:"h3",onClick:p(se.MINUTES),selected:n===se.MINUTES,label:l.getMinuteText(e)})),c&&Object(a.createElement)("div",{className:r.ampmSelection},Object(a.createElement)(gt,{className:r.ampmLabel,selected:"am"===o,variant:"subtitle1",label:l.getMeridiemText("am"),onClick:s("am")}),Object(a.createElement)(gt,{className:r.ampmLabel,selected:"pm"===o,variant:"subtitle1",label:l.getMeridiemText("pm"),onClick:s("pm")}))))};ue.defaultProps={ampm:!0};var le=C()((function styles$e(){return O()({toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:10,marginRight:-10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"},dateHeader:{height:65},timeHeader:{height:65,display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})}),{withTheme:!0})(et()(ue)),ce=function viewToTabIndex(t){return t===se.DATE||t===se.YEAR?"date":"time"},pe=H()()(C()((function styles$f(t){return{tabs:{color:t.palette.common.white,backgroundColor:"light"===t.palette.type?t.palette.primary.main:t.palette.background.default}}}),{name:"MuiPickerDTTabs"})((function DateTimePickerTabs(t){var e=t.view,r=t.onChange,n=t.classes,o=t.theme,i=t.dateRangeIcon,s=t.timeIcon,u="light"===o.palette.type?"secondary":"primary";return Object(a.createElement)(W.a,null,Object(a.createElement)(X.a,{fullWidth:!0,value:ce(e),onChange:function handleChange(t,n){n!==ce(e)&&r(function tabIndexToView(t){return"date"===t?se.DATE:se.HOUR}(n))},className:n.tabs,indicatorColor:u},Object(a.createElement)(Y.a,{value:"date",icon:Object(a.createElement)(c.a,null,i)}),Object(a.createElement)(Y.a,{value:"time",icon:Object(a.createElement)(c.a,null,s)})))}))),fe=O()({view:{zIndex:1,position:"absolute",left:0,right:0}}),de=C()(fe,{name:"MuiPickerDTPickerView "})((function DateTimePickerView$2(t){var e=t.selected,r=t.children,n=t.classes;return e?Object(a.createElement)("div",{className:n.view},r):null})),he=function(t){function DateTimePicker(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openView:e.props.openTo,meridiemMode:e.props.utils.getHours(e.props.date)>=12?"pm":"am"},e.onChange=function(t,r,n){void 0===r&&(r=!0),e.handleChange(t),r&&e.props.autoSubmit&&e.handleViewChange(n)},e.setMeridiemMode=function(t){return function(){e.setState({meridiemMode:t},(function(){return e.handleChange(e.props.date,!1)}))}},e.handleViewChange=function(t){e.setState({openView:t})},e.handleChange=function(t,r){void 0===r&&(r=!1);var n=Vt(t,e.state.meridiemMode,Boolean(e.props.ampm),e.props.utils);e.props.onChange(n,r)},e.handleYearChange=function(t){e.onChange(t,!1,se.DATE)},e.handleDayChange=function(t,r){e.onChange(t,r,se.HOUR)},e.handleHourChange=function(t,r){e.onChange(t,r,se.MINUTES)},e}return __extends(DateTimePicker,t),DateTimePicker.prototype.render=function(){var t=this.state,e=t.openView,r=t.meridiemMode,n=this.props,i=n.date,s=n.minDate,u=n.maxDate,l=n.showTabs,c=n.disablePast,p=n.disableFuture,f=n.leftArrowIcon,d=n.rightArrowIcon,h=n.dateRangeIcon,m=n.timeIcon,y=n.renderDay,g=n.ampm,v=n.shouldDisableDate,_=n.animateYearScrolling,b=n.classes,S=n.allowKeyboardControl,x=n.ViewContainerComponent,w=x,E="string"===typeof x?{}:{openView:e,onChange:this.onChange};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(le,{date:i,openView:e,meridiemMode:r,setMeridiemMode:this.setMeridiemMode,onOpenViewChange:this.handleViewChange,ampm:g}),l&&Object(a.createElement)(pe,{view:e,onChange:this.handleViewChange,dateRangeIcon:h,timeIcon:m}),Object(a.createElement)(w,o({className:b.viewContainer},E),Object(a.createElement)(de,{selected:e===se.YEAR},Object(a.createElement)(Rt,{date:i,minDate:s,maxDate:u,onChange:this.handleYearChange,disablePast:c,disableFuture:p,animateYearScrolling:_})),Object(a.createElement)(de,{selected:e===se.DATE},Object(a.createElement)(Ct,{allowKeyboardControl:S,date:i,minDate:s,maxDate:u,onChange:this.handleDayChange,disablePast:c,disableFuture:p,leftArrowIcon:f,rightArrowIcon:d,renderDay:y,shouldDisableDate:v})),Object(a.createElement)(de,{selected:e===se.HOUR||e===se.MINUTES},Object(a.createElement)(ee,{date:i,type:e,onHourChange:this.handleHourChange,onMinutesChange:this.handleChange,onSecondsChange:this.handleChange,ampm:g}))))},DateTimePicker.defaultProps={allowKeyboardControl:!1,ampm:!0,animateYearScrolling:!1,autoSubmit:!0,dateRangeIcon:void 0,disableFuture:!1,disablePast:!1,leftArrowIcon:void 0,renderDay:void 0,rightArrowIcon:void 0,shouldDisableDate:void 0,showTabs:!0,timeIcon:void 0,ViewContainerComponent:"div"},DateTimePicker}(a.Component),me=O()({viewContainer:{minHeight:300,position:"relative"}}),ye=C()(me,{name:"MuiPickersDateTimePicker"})(et()(he)),ge=function DateTimePickerModal(t){var e=t.value,r=(t.format,t.autoOk,t.openTo),n=t.minDate,i=t.maxDate,s=(t.initialFocusedDate,t.showTabs),u=t.autoSubmit,l=t.disablePast,c=t.disableFuture,p=t.leftArrowIcon,f=t.rightArrowIcon,d=t.dateRangeIcon,h=t.timeIcon,m=t.renderDay,y=t.ampm,g=t.shouldDisableDate,v=t.animateYearScrolling,_=t.forwardedRef,b=t.allowKeyboardControl,S=__rest(t,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(a.createElement)(ot,o({},t),(function(t){var x=t.date,w=t.utils,E=t.handleAccept,P=t.handleChange,C=t.handleClear,T=t.handleDismiss,D=t.handleSetTodayDate,M=t.handleTextFieldChange,A=t.isAccepted,R=t.pick12hOr24hFormat;return Object(a.createElement)(dt,o({ref:_,disableFuture:c,disablePast:l,maxDate:i,minDate:n,onAccept:E,onChange:M,onClear:C,onDismiss:T,onSetToday:D,value:e,isAccepted:A,format:R(w.dateTime12hFormat,w.dateTime24hFormat)},S),Object(a.createElement)(ye,{allowKeyboardControl:b,ampm:y,animateYearScrolling:v,autoSubmit:u,date:x,dateRangeIcon:d,disableFuture:c,disablePast:l,leftArrowIcon:p,maxDate:i,minDate:n,onChange:P,openTo:r,renderDay:m,rightArrowIcon:f,shouldDisableDate:g,showTabs:s,timeIcon:h}))}))};ge.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};var ve=Object(a.forwardRef)((function(t,e){return Object(a.createElement)(ge,o({},t,{forwardedRef:e}))})),_e=function DateTimePickerInline(t){var e=t.value,r=(t.format,t.autoOk,t.openTo),n=t.minDate,i=t.maxDate,s=(t.initialFocusedDate,t.showTabs),u=t.autoSubmit,l=t.disablePast,c=t.disableFuture,p=t.leftArrowIcon,f=t.rightArrowIcon,d=t.dateRangeIcon,h=t.timeIcon,m=t.renderDay,y=t.ampm,g=t.shouldDisableDate,v=t.animateYearScrolling,_=t.forwardedRef,b=t.allowKeyboardControl,S=__rest(t,["value","format","autoOk","openTo","minDate","maxDate","initialFocusedDate","showTabs","autoSubmit","disablePast","disableFuture","leftArrowIcon","rightArrowIcon","dateRangeIcon","timeIcon","renderDay","ampm","shouldDisableDate","animateYearScrolling","forwardedRef","allowKeyboardControl"]);return Object(a.createElement)(ot,o({},t,{autoOk:!0}),(function(t){var x=t.date,w=t.utils,E=t.handleChange,P=t.handleTextFieldChange,C=t.isAccepted,T=t.pick12hOr24hFormat,D=t.handleAccept;return Object(a.createElement)(Ft,o({innerRef:_,disableFuture:c,disablePast:l,maxDate:i,minDate:n,onChange:P,value:e,isAccepted:C,handleAccept:D,format:T(w.dateTime12hFormat,w.dateTime24hFormat)},S),Object(a.createElement)(ye,{allowKeyboardControl:b,ampm:y,animateYearScrolling:v,autoSubmit:u,date:x,dateRangeIcon:d,disableFuture:c,disablePast:l,leftArrowIcon:p,maxDate:i,minDate:n,onChange:E,openTo:r,renderDay:m,rightArrowIcon:f,shouldDisableDate:g,showTabs:s,timeIcon:h}))}))};_e.defaultProps={value:new Date,format:void 0,autoOk:!1,autoSubmit:!0,openTo:"date",disableFuture:!1,disablePast:!1,minDate:"1900-01-01",maxDate:"2100-01-01",initialFocusedDate:void 0,showTabs:!0,leftArrowIcon:"keyboard_arrow_left",rightArrowIcon:"keyboard_arrow_right",dateRangeIcon:"date_range",timeIcon:"access_time",renderDay:void 0,ampm:!0,shouldDisableDate:void 0,animateYearScrolling:!1,forwardedRef:void 0,allowKeyboardControl:!0};Object(a.forwardRef)((function(t,e){return Object(a.createElement)(_e,o({},t,{forwardedRef:e}))}))},function(t,e){function indexOf(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}function serializer(t,e){var r=[],n=[];return null==e&&(e=function cycleReplacer(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+n.slice(0,indexOf(r,e)).join(".")+"]"}),function(o,i){if(r.length>0){var a=indexOf(r,this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~indexOf(r,i)&&(i=e.call(this,o,i))}else r.push(i);return null==t?i instanceof Error?function stringifyError(t){var e={stack:t.stack,message:t.message,name:t.name};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}(i):i:t.call(this,o,i)}}(t.exports=function stringify(t,e,r,n){return JSON.stringify(t,serializer(e,n),r)}).getSerialize=serializer},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(554)),o=_interopRequireDefault(r(555)),i=_interopRequireDefault(r(557)),a=_interopRequireDefault(r(558)),s=_interopRequireDefault(r(561));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={formatDistance:n.default,formatLong:o.default,formatRelative:i.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};e.default=u,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCISOWeek(t,e){var r=(0,n.default)(t,e),s=(0,o.default)(r,e).getTime()-(0,i.default)(r,e).getTime();return Math.round(s/a)+1};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(176)),i=_interopRequireDefault(r(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=6048e5;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCISOWeekYear(t,e){var r=(0,n.default)(t,e),i=r.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(i+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,o.default)(a,e),u=new Date(0);u.setUTCFullYear(i,0,4),u.setUTCHours(0,0,0,0);var l=(0,o.default)(u,e);return r.getTime()>=s.getTime()?i+1:r.getTime()>=l.getTime()?i:i-1};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(176));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function cloneObject(t){t=t||{};var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=_interopRequireDefault(r(281)),i=_interopRequireDefault(r(282)),a=r(107);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.createLocation=function createLocation(t,e,r,i){var s=void 0;"string"===typeof t?(s=(0,a.parsePath)(t)).state=e:(void 0===(s=n({},t)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return r&&(s.key=r),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,o.default)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s},e.locationsAreEqual=function locationsAreEqual(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,i.default)(t.state,e.state)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(25));e.default=function createTransitionManager(){var t=null,e=[];return{setPrompt:function setPrompt(e){return(0,n.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function confirmTransitionTo(e,r,o,i){if(null!=t){var a="function"===typeof t?t(e,r):t;"string"===typeof a?"function"===typeof o?o(a,i):((0,n.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function appendListener(t){var r=!0,n=function listener(){r&&t.apply(void 0,arguments)};return e.push(n),function(){r=!1,e=e.filter((function(t){return t!==n}))}},notifyListeners:function notifyListeners(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.forEach((function(t){return t.apply(void 0,r)}))}}}},function(t,e,r){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},function(t,e){},function(t,e,r){"use strict";var n=r(156),o=r(82),i=r(321),a=r(121),s=r(137),u=r(601),l=r(180),c=r(325),p=r(72)("iterator"),f=!([].keys&&"next"in[].keys()),d=function returnThis(){return this};t.exports=function(t,e,r,h,m,y,g){u(r,e,h);var v,_,b,S=function getMethod(t){if(!f&&t in P)return P[t];switch(t){case"keys":return function keys(){return new r(this,t)};case"values":return function values(){return new r(this,t)}}return function entries(){return new r(this,t)}},x=e+" Iterator",w="values"==m,E=!1,P=t.prototype,C=P[p]||P["@@iterator"]||m&&P[m],T=C||S(m),D=m?w?S("entries"):T:void 0,M="Array"==e&&P.entries||C;if(M&&(b=c(M.call(new t)))!==Object.prototype&&b.next&&(l(b,x,!0),n||"function"==typeof b[p]||a(b,p,d)),w&&C&&"values"!==C.name&&(E=!0,T=function values(){return C.call(this)}),n&&!g||!f&&!E&&P[p]||a(P,p,T),s[e]=T,s[x]=d,m)if(v={values:w?T:S("values"),keys:y?T:S("keys"),entries:D},g)for(_ in v)_ in P||i(P,_,v[_]);else o(o.P+o.F*(f||E),e,v);return v}},function(t,e,r){t.exports=!r(111)&&!r(136)((function(){return 7!=Object.defineProperty(r(231)("div"),"a",{get:function get(){return 7}}).a}))},function(t,e,r){t.exports=r(121)},function(t,e,r){var n=r(122),o=r(123),i=r(603)(!1),a=r(235)("IE_PROTO");t.exports=function(t,e){var r,s=o(t),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~i(l,r)||l.push(r));return l}},function(t,e,r){var n=r(159);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(68).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(122),o=r(160),i=r(235)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var n=r(91);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(a){var i=t.return;throw void 0!==i&&n(i.call(t)),a}}},function(t,e,r){var n=r(137),o=r(72)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},function(t,e,r){var n=r(91),o=r(178),i=r(72)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||void 0==(r=n(a)[i])?e:o(r)}},function(t,e,r){var n,o,i,a=r(135),s=r(611),u=r(324),l=r(231),c=r(68),p=c.process,f=c.setImmediate,d=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,y=0,g={},v=function run(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function listener(t){v.call(t.data)};f&&d||(f=function setImmediate(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},n(y),y},d=function clearImmediate(t){delete g[t]},"process"==r(159)(p)?n=function defer(t){p.nextTick(a(v,t,1))}:m&&m.now?n=function defer(t){m.now(a(v,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,n=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function defer(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):n="onreadystatechange"in l("script")?function defer(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function defer(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,r){var n=r(91),o=r(110),i=r(240);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){var n=r(72)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},t(i)}catch(a){}return r}},function(t,e,r){(function(e){var n,o="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},i=r(618);"undefined"!==typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=n}).call(this,r(32))},function(t,e,r){"use strict";t.exports=function isErrorCode(t){return t<200||t>=400}},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===n.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),o=0;o<n.length;o++){var i=n[o],a=e(i,t[i],t);r[a[0]]=a[1]}return r}},function(t,e,r){t.exports={default:r(651),__esModule:!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(144));e.default=function ConfigRequestPromise(){var t=(0,o.default)();t.get,t.post,t.patch;return t.get=a(t.get.bind(t)),t.post=a(t.post.bind(t)),t.patch=a(t.patch.bind(t)),t};var o=_interopRequireDefault(r(241)),i=_interopRequireDefault(r(182));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=function wrap(t){return function(e,r){return new n.default((function(n,o){t(e,r||{},(0,i.default)(n,o))}))}}},function(t,e){function _typeof(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=_typeof=function _typeof(t){return typeof t}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}t.exports=_typeof},function(t,e){t.exports=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}},function(t,e,r){t.exports=r(702)()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.jss="64a55d578f856d258dc345b094a2a2b3",e.sheetsRegistry="d4bd0baacbc52bbd48bbb9eb24344ecd",e.managers="b768b78919504fba9de2c03545c5cd3a",e.sheetOptions="6fc570d6bd61383819d0f9e7407c452d"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.createGenerateClassName=e.sheets=e.RuleList=e.SheetsManager=e.SheetsRegistry=e.toCssValue=e.getDynamicStyles=void 0;var n=r(705);Object.defineProperty(e,"getDynamicStyles",{enumerable:!0,get:function get(){return _interopRequireDefault(n).default}});var o=r(186);Object.defineProperty(e,"toCssValue",{enumerable:!0,get:function get(){return _interopRequireDefault(o).default}});var i=r(344);Object.defineProperty(e,"SheetsRegistry",{enumerable:!0,get:function get(){return _interopRequireDefault(i).default}});var a=r(706);Object.defineProperty(e,"SheetsManager",{enumerable:!0,get:function get(){return _interopRequireDefault(a).default}});var s=r(161);Object.defineProperty(e,"RuleList",{enumerable:!0,get:function get(){return _interopRequireDefault(s).default}});var u=r(248);Object.defineProperty(e,"sheets",{enumerable:!0,get:function get(){return _interopRequireDefault(u).default}});var l=r(347);Object.defineProperty(e,"createGenerateClassName",{enumerable:!0,get:function get(){return _interopRequireDefault(l).default}});var c=_interopRequireDefault(r(710));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=e.create=function create(t){return new c.default(t)};e.default=p()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var o=function(){function SheetsRegistry(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SheetsRegistry),this.registry=[]}return n(SheetsRegistry,[{key:"add",value:function add(t){var e=this.registry,r=t.options.index;if(-1===e.indexOf(t))if(0===e.length||r>=this.index)e.push(t);else for(var n=0;n<e.length;n++)if(e[n].options.index>r)return void e.splice(n,0,t)}},{key:"reset",value:function reset(){this.registry=[]}},{key:"remove",value:function remove(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)}},{key:"toString",value:function toString(t){return this.registry.filter((function(t){return t.attached})).map((function(e){return e.toString(t)})).join("\n")}},{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(125));e.default=function(t){return t&&t[n.default]&&t===t[n.default]()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function linkRule(t,e){t.renderable=e,t.rules&&e.cssRules&&t.rules.link(e.cssRules)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(25)),o=(_interopRequireDefault(r(348)),_interopRequireDefault(r(709)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=0;return function(e,r){(t+=1)>1e10&&(0,n.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",t);var i="c",a="";return r&&(i=r.options.classNamePrefix||"c",null!=r.options.jss.id&&(a+=r.options.jss.id)),""+i+o.default+a+t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=_interopRequireDefault(r(346)),a=_interopRequireDefault(r(161));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s=function(){function StyleSheet(t,e){var r=this;for(var o in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,StyleSheet),this.update=function(t,e){return"string"===typeof t?r.rules.update(t,e):r.rules.update(t),r},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=n({},e,{sheet:this,parent:this,classes:this.classes}),this.renderer=new e.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(o,t[o]);this.rules.process()}return o(StyleSheet,[{key:"attach",value:function attach(){return this.attached?this:(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0,this)}},{key:"detach",value:function detach(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function addRule(t,e,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var o=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(n?n.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)}},{key:"insertRule",value:function insertRule(t){var e=this.renderer.insertRule(t);e&&this.options.link&&(0,i.default)(t,e)}},{key:"addRules",value:function addRules(t,e){var r=[];for(var n in t)r.push(this.addRule(n,t[n],e));return r}},{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"deleteRule",value:function deleteRule(t){var e=this.rules.get(t);return!!e&&(this.rules.remove(e),!this.attached||!e.renderable||this.renderer.deleteRule(e.renderable))}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"deploy",value:function deploy(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function link(){var t=this.renderer.getRules();return t&&this.rules.link(t),this.linked=!0,this}},{key:"toString",value:function toString(t){return this.rules.toString(t)}}]),StyleSheet}();e.default=s},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(722)),i=n(r(723)),a=n(r(724)),s=n(r(726)),u=n(r(728)),l=n(r(733));var c=function jssPreset(){return{plugins:[(0,o.default)(),(0,i.default)(),(0,a.default)(),(0,s.default)(),(0,u.default)(),(0,l.default)()]}};e.default=c},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(36));n(r(64)),n(r(246));var i=function mergeClasses(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,r=t.newClasses;return t.Component,t.noBase,r?(0,o.default)({},e,Object.keys(r).reduce((function(t,n){return r[n]&&(t[n]="".concat(e[n]," ").concat(r[n])),t}),{})):e};e.default=i},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createBreakpoints(t){var e=t.values,r=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,n=t.unit,s=void 0===n?"px":n,u=t.step,l=void 0===u?5:u,c=(0,i.default)(t,["values","unit","step"]);function up(t){var e="number"===typeof r[t]?r[t]:t;return"@media (min-width:".concat(e).concat(s,")")}function between(t,e){var n=a.indexOf(e)+1;return n===a.length?up(t):"@media (min-width:".concat(r[t]).concat(s,") and ")+"(max-width:".concat(r[a[n]]-l/100).concat(s,")")}return(0,o.default)({keys:a,values:r,up:up,down:function down(t){var e=a.indexOf(t)+1,n=r[a[e]];return e===a.length?up("xs"):"@media (max-width:".concat(("number"===typeof n&&e>0?n:t)-l/100).concat(s,")")},between:between,only:function only(t){return between(t,t)},width:function width(t){return r[t]}},c)},e.keys=void 0;var o=n(r(36)),i=n(r(11)),a=["xs","sm","md","lg","xl"];e.keys=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={black:"#000",white:"#fff"};e.default=n},function(t,e,r){"use strict";(function(t){var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createGenerateClassName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.dangerouslyUseGlobalCSS,n=void 0!==r&&r,o=e.productionPrefix,i=void 0===o?"jss":o,a=0;"undefined"!==typeof window&&(t.__MUI_GENERATOR_COUNTER__+=1,t.__MUI_GENERATOR_COUNTER__>2&&console.error(["Material-UI: we have detected more than needed creation of the class name generator.","You should only use one class name generator on the client side.","If you do otherwise, you take the risk to have conflicting class names in production."].join("\n")));return function(t,e){if(a+=1,n){if(e&&e.options.classNamePrefix){var r=safePrefix(e.options.classNamePrefix);if(r.match(/^Mui/))return"".concat(r,"-").concat(t.key);0}return"".concat(i).concat(a)}return"".concat(i).concat(a)}};n(r(64));t.__MUI_GENERATOR_COUNTER__=0;var o=/([[\].#*$><+~=|^:(),"'`\s])/g;function safePrefix(t){return String(t).replace(o,"-")}}).call(this,r(32))},function(t,e,r){var n=r(751),o=r(752),i=r(753);t.exports=function _toConsumableArray(t){return n(t)||o(t)||i()}},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(52))),d=n(r(357)),h=n(r(8)),m=n(r(168)),y=n(r(258)),g={vertical:"top",horizontal:"right"},v={vertical:"top",horizontal:"left"},_={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}};e.styles=_;var b=function(t){function Menu(){var t,e,r;(0,s.default)(this,Menu);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Menu.__proto__||Object.getPrototypeOf(Menu)).call.apply(t,[this].concat(o))),r.menuList=null,r.getContentAnchorEl=function(){return r.menuList&&r.menuList.selectedItem?f.default.findDOMNode(r.menuList.selectedItem):f.default.findDOMNode(r.menuList).firstChild},r.focus=function(){if(r.menuList&&r.menuList.selectedItem)f.default.findDOMNode(r.menuList.selectedItem).focus();else{var t=f.default.findDOMNode(r.menuList);t&&t.firstChild&&t.firstChild.focus()}},r.handleEnter=function(t){var e=r.props.theme,n=f.default.findDOMNode(r.menuList);if(r.focus(),n&&t.clientHeight<n.clientHeight&&!n.style.width){var o="".concat((0,d.default)(),"px");n.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=o,n.style.width="calc(100% + ".concat(o,")")}r.props.onEnter&&r.props.onEnter(t)},r.handleListKeyDown=function(t,e){"tab"===e&&(t.preventDefault(),r.props.onClose&&r.props.onClose(t))},e))}return(0,c.default)(Menu,t),(0,u.default)(Menu,[{key:"componentDidMount",value:function componentDidMount(){this.props.open&&this.focus()}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=e.classes,s=e.MenuListProps,u=(e.onEnter,e.PaperProps),l=void 0===u?{}:u,c=e.PopoverClasses,f=e.theme,d=(0,a.default)(e,["children","classes","MenuListProps","onEnter","PaperProps","PopoverClasses","theme"]);return p.default.createElement(m.default,(0,o.default)({getContentAnchorEl:this.getContentAnchorEl,classes:c,onEnter:this.handleEnter,anchorOrigin:"rtl"===f.direction?g:v,transformOrigin:"rtl"===f.direction?g:v,PaperProps:(0,i.default)({},l,{classes:(0,i.default)({},l.classes,{root:n.paper})})},d),p.default.createElement(y.default,(0,o.default)({role:"menu",onKeyDown:this.handleListKeyDown},s,{ref:function ref(e){t.menuList=e}}),r))}}]),Menu}(p.default.Component);b.propTypes={},b.defaultProps={transitionDuration:"auto"};var S=(0,h.default)(_,{name:"MuiMenu",withTheme:!0})(b);e.default=S},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((!o&&0!==o||t)&&n.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(358));var o=void 0;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"===typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(37)),i=n(r(38)),a=n(r(787)),s=n(r(357)),u=n(r(103)),l=n(r(795)),c=r(797);function getPaddingRight(t){return parseInt((0,a.default)(t,"paddingRight")||0,10)}var p=function(){function ModalManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,ModalManager);var e=t.hideSiblingNodes,r=void 0===e||e,n=t.handleContainerOverflow,i=void 0===n||n;this.hideSiblingNodes=r,this.handleContainerOverflow=i,this.modals=[],this.containers=[],this.data=[]}return(0,i.default)(ModalManager,[{key:"add",value:function add(t,e){var r=this.modals.indexOf(t);if(-1!==r)return r;r=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&(0,c.hideSiblings)(e,t.mountNode);var n=this.containers.indexOf(e);if(-1!==n)return this.data[n].modals.push(t),r;var o={modals:[t],overflowing:(0,l.default)(e),prevPaddings:[]};return this.handleContainerOverflow&&function setContainerStyle(t,e){var r={overflow:"hidden"};if(t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing){var n=(0,s.default)();r.paddingRight="".concat(getPaddingRight(e)+n,"px");for(var o=(0,u.default)(e).querySelectorAll(".mui-fixed"),i=0;i<o.length;i+=1){var a=getPaddingRight(o[i]);t.prevPaddings.push(a),o[i].style.paddingRight="".concat(a+n,"px")}}Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}(o,e),this.containers.push(e),this.data.push(o),r}},{key:"remove",value:function remove(t){var e=this.modals.indexOf(t);if(-1===e)return e;var r=function findIndexOf(t,e){var r=-1;return t.some((function(t,n){return!!e(t)&&(r=n,!0)})),r}(this.data,(function(e){return-1!==e.modals.indexOf(t)})),n=this.data[r],o=this.containers[r];return n.modals.splice(n.modals.indexOf(t),1),this.modals.splice(e,1),0===n.modals.length?(this.handleContainerOverflow&&function removeContainerStyle(t,e){Object.keys(t.style).forEach((function(r){e.style[r]=t.style[r]}));for(var r=(0,u.default)(e).querySelectorAll(".mui-fixed"),n=0;n<r.length;n+=1)r[n].style.paddingRight="".concat(t.prevPaddings[n],"px")}(n,o),this.hideSiblingNodes&&(0,c.showSiblings)(o,t.mountNode),this.containers.splice(r,1),this.data.splice(r,1)):this.hideSiblingNodes&&(0,c.ariaHidden)(!1,n.modals[n.modals.length-1].mountNode),e}},{key:"isTopModal",value:function isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}]),ModalManager}();e.default=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelizeStyleName(t){return(0,n.default)(t.replace(o,"ms-"))};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(788));var o=/^-ms-/;t.exports=e.default},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=n(r(197)),a=n(r(75)),s=o.default.createElement("path",{d:"M7 10l5 5 5-5z"}),u=function ArrowDropDown(t){return o.default.createElement(a.default,t,s)};(u=(0,i.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=_interopRequireDefault(r(805)),o=_interopRequireDefault(r(807)),i="function"===typeof o.default&&"symbol"===typeof n.default?function(t){return typeof t}:function(t){return t&&"function"===typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default="function"===typeof o.default&&"symbol"===i(n.default)?function(t){return"undefined"===typeof t?"undefined":i(t)}:function(t){return t&&"function"===typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":"undefined"===typeof t?"undefined":i(t)}},function(t,e,r){var n=r(322),o=r(237).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return n(t,o)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(823));e.default=function setDisplayName(t){return(0,n.default)("displayName",t)}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3)));function NativeSelectInput(t){var e=t.children,r=t.classes,n=t.className,l=t.disabled,c=t.IconComponent,p=t.inputRef,f=t.name,d=t.onChange,h=t.value,m=(0,a.default)(t,["children","classes","className","disabled","IconComponent","inputRef","name","onChange","value"]);return s.default.createElement("div",{className:r.root},s.default.createElement("select",(0,o.default)({className:(0,u.default)(r.select,(0,i.default)({},r.disabled,l),n),name:f,disabled:l,onChange:d,value:h,ref:p},m),e),s.default.createElement(c,{className:r.icon}))}NativeSelectInput.propTypes={};var l=NativeSelectInput;e.default=l},function(t,e,r){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r(164)),o=_interopRequireDefault(r(0)),i=_interopRequireDefault(r(52)),a=r(84);r(367);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s="unmounted";e.UNMOUNTED=s;var u="exited";e.EXITED=u;var l="entering";e.ENTERING=l;var c="entered";e.ENTERED=c;e.EXITING="exiting";var p=function(t){function Transition(e,r){var n;n=t.call(this,e,r)||this;var o,i=r.transitionGroup,a=i&&!i.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?a?(o=u,n.appearStatus=l):o=c:o=e.unmountOnExit||e.mountOnEnter?s:u,n.state={status:o},n.nextCallback=null,n}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(Transition,t);var e=Transition.prototype;return e.getChildContext=function getChildContext(){return{transitionGroup:null}},Transition.getDerivedStateFromProps=function getDerivedStateFromProps(t,e){return t.in&&e.status===s?{status:u}:null},e.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function componentDidUpdate(t){var e=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==l&&r!==c&&(e=l):r!==l&&r!==c||(e="exiting")}this.updateStatus(!1,e)},e.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},e.getTimeouts=function getTimeouts(){var t,e,r,n=this.props.timeout;return t=e=r=n,null!=n&&"number"!==typeof n&&(t=n.exit,e=n.enter,r=void 0!==n.appear?n.appear:e),{exit:t,enter:e,appear:r}},e.updateStatus=function updateStatus(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var r=i.default.findDOMNode(this);e===l?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:s})},e.performEnter=function performEnter(t,e){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts(),a=o?i.appear:i.enter;e||n?(this.props.onEnter(t,o),this.safeSetState({status:l},(function(){r.props.onEntering(t,o),r.onTransitionEnd(t,a,(function(){r.safeSetState({status:c},(function(){r.props.onEntered(t,o)}))}))}))):this.safeSetState({status:c},(function(){r.props.onEntered(t)}))},e.performExit=function performExit(t){var e=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(t)}))},e.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function safeSetState(t,e){e=this.setNextCallback(e),this.setState(t,e)},e.setNextCallback=function setNextCallback(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},e.onTransitionEnd=function onTransitionEnd(t,e,r){this.setNextCallback(r);var n=null==e&&!this.props.addEndListener;t&&!n?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},e.render=function render(){var t=this.state.status;if(t===s)return null;var e=this.props,r=e.children,n=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(e,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"===typeof r)return r(t,n);var i=o.default.Children.only(r);return o.default.cloneElement(i,n)},Transition}(o.default.Component);function noop(){}p.contextTypes={transitionGroup:n.object},p.childContextTypes={transitionGroup:function transitionGroup(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var f=(0,a.polyfill)(p);e.default=f},function(t,e,r){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}})(r(164));e.timeoutsShape=null;e.classNamesShape=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=_interopRequireDefault(r(164)),o=_interopRequireDefault(r(0)),i=r(84),a=r(841);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},u=function(t){function TransitionGroup(e,r){var n,o=(n=t.call(this,e,r)||this).handleExited.bind(_assertThisInitialized(_assertThisInitialized(n)));return n.state={handleExited:o,firstRender:!0},n}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(TransitionGroup,t);var e=TransitionGroup.prototype;return e.getChildContext=function getChildContext(){return{transitionGroup:{isMounting:!this.appeared}}},e.componentDidMount=function componentDidMount(){this.appeared=!0,this.mounted=!0},e.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(t,e){var r=e.children,n=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,n):(0,a.getNextChildMapping)(t,r,n),firstRender:!1}},e.handleExited=function handleExited(t,e){var r=(0,a.getChildMapping)(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var r=_extends({},e.children);return delete r[t.key],{children:r}})))},e.render=function render(){var t=this.props,e=t.component,r=t.childFactory,n=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,["component","childFactory"]),i=s(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===e?i:o.default.createElement(e,n,i)},TransitionGroup}(o.default.Component);u.childContextTypes={transitionGroup:n.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function childFactory(t){return t}};var l=(0,i.polyfill)(u);e.default=l,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78),a=r(79),s=r(370),u=r(199),l=n.default("capnp:arena:multi");l("load");var c=function(){function MultiSegmentArena(t){void 0===t&&(t=[]),this.kind=u.ArenaKind.MULTI_SEGMENT,this.buffers=t,l("new %s",this)}return MultiSegmentArena.prototype.toString=function(){return a.format("MultiSegmentArena_segments:%d",getNumSegments(this))},MultiSegmentArena.allocate=allocate,MultiSegmentArena.getBuffer=getBuffer,MultiSegmentArena.getNumSegments=getNumSegments,MultiSegmentArena}();function allocate(t,e){var r=new ArrayBuffer(a.padToWord(Math.max(t,o.DEFAULT_BUFFER_SIZE)));return e.buffers.push(r),new s.ArenaAllocationResult(e.buffers.length-1,r)}function getBuffer(t,e){if(t<0||t>=e.buffers.length)throw new Error(a.format(i.SEG_ID_OUT_OF_BOUNDS,t));return e.buffers[t]}function getNumSegments(t){return t.buffers.length}e.MultiSegmentArena=c,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39).default("capnp:serialization:arena:arena-allocation-result");n("load");var o=function o(t,e){this.id=t,this.buffer=e,n("new",this)};e.ArenaAllocationResult=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78),a=r(79),s=r(370),u=r(199),l=n.default("capnp:arena:single");l("load");var c=function(){function SingleSegmentArena(t){if(void 0===t&&(t=new ArrayBuffer(o.DEFAULT_BUFFER_SIZE)),this.kind=u.ArenaKind.SINGLE_SEGMENT,0!==(7&t.byteLength))throw new Error(a.format(i.SEG_NOT_WORD_ALIGNED,t.byteLength));this.buffer=t,l("new %s",this)}return SingleSegmentArena.prototype.toString=function(){return a.format("SingleSegmentArena_len:%x",this.buffer.byteLength)},SingleSegmentArena.allocate=allocate,SingleSegmentArena.getBuffer=getBuffer,SingleSegmentArena.getNumSegments=getNumSegments,SingleSegmentArena}();function allocate(t,e,r){l("Allocating %x bytes for segment 0 in %s.",t,r);var n=e.length>0?e[0].buffer:r.buffer;return t=t<o.MIN_SINGLE_SEGMENT_GROWTH?o.MIN_SINGLE_SEGMENT_GROWTH:a.padToWord(t),r.buffer=new ArrayBuffer(n.byteLength+t),new Float64Array(r.buffer).set(new Float64Array(n)),new s.ArenaAllocationResult(0,r.buffer)}function getBuffer(t,e){if(0!==t)throw new Error(a.format(i.SEG_GET_NON_ZERO_SINGLE,t));return e.buffer}function getNumSegments(){return 1}e.SingleSegmentArena=c,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(78),i=r(79),a=r(59),s=r(142),u=r(50),l=r(143),c=n.default("capnp:orphan");c("load");var p=function(){function Orphan(t){var e=u.getContent(t);switch(this.segment=e.segment,this.byteOffset=e.byteOffset,this._capnp={},this._capnp.type=u.getTargetPointerType(t),this._capnp.type){case l.PointerType.STRUCT:this._capnp.size=u.getTargetStructSize(t);break;case l.PointerType.LIST:this._capnp.length=u.getTargetListLength(t),this._capnp.elementSize=u.getTargetListElementSize(t),this._capnp.elementSize===a.ListElementSize.COMPOSITE&&(this._capnp.size=u.getTargetCompositeListSize(t));break;case l.PointerType.OTHER:this._capnp.capId=u.getCapabilityId(t);break;default:throw new Error(o.PTR_INVALID_POINTER_TYPE)}u.erasePointer(t)}return Orphan.prototype._moveTo=function(t){if(void 0===this._capnp)throw new Error(i.format(o.PTR_ALREADY_ADOPTED,this));if(this.segment.message!==t.segment.message)throw new Error(i.format(o.PTR_ADOPT_WRONG_MESSAGE,this,t));u.erase(t);var e=u.initPointer(this.segment,this.byteOffset,t);switch(this._capnp.type){case l.PointerType.STRUCT:u.setStructPointer(e.offsetWords,this._capnp.size,e.pointer);break;case l.PointerType.LIST:var r=e.offsetWords;this._capnp.elementSize===a.ListElementSize.COMPOSITE&&r--,u.setListPointer(r,this._capnp.elementSize,this._capnp.length,e.pointer,this._capnp.size);break;case l.PointerType.OTHER:u.setInterfacePointer(this._capnp.capId,e.pointer);break;default:throw new Error(o.PTR_INVALID_POINTER_TYPE)}this._capnp=void 0},Orphan.prototype.dispose=function(){if(void 0!==this._capnp){switch(this._capnp.type){case l.PointerType.STRUCT:this.segment.fillZeroWords(this.byteOffset,s.getWordLength(this._capnp.size));break;case l.PointerType.LIST:var t=u.getListByteLength(this._capnp.elementSize,this._capnp.length,this._capnp.size);this.segment.fillZeroWords(this.byteOffset,t)}this._capnp=void 0}else c("not disposing an already disposed orphan",this)},Orphan.prototype.toString=function(){return i.format("Orphan_%d@%a,type:%s",this.segment.id,this.byteOffset,this._capnp&&this._capnp.type)},Orphan}();e.Orphan=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(83),i=r(78),a=r(79),s=function(t){function Interface(e,r,n){void 0===n&&(n=o.MAX_DEPTH);t.call(this,e,r,n);throw new Error(a.format(i.NOT_IMPLEMENTED,"new Interface"))}return n.__extends(Interface,t),Interface}(r(50).Pointer);e.Interface=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78),a=r(79),s=n.default("capnp:uint64");s("load");var u=function(){function Uint64(t){if(t.byteLength<8)throw new RangeError(i.RANGE_INT64_UNDERFLOW);this.buffer=t}return Uint64.fromArrayBuffer=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},Uint64.fromDataView=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},Uint64.fromHexString=function(t){if("0x"===t.substr(0,2)&&(t=t.substr(2)),t.length<1)return Uint64.fromNumber(0);if("-"===t[0])throw new RangeError("Source must not be negative.");if(16!==(t=a.pad(t,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var e=t.toLowerCase().replace(/[^\da-f]/g,""),r=new Uint8Array(new ArrayBuffer(8)),n=0;n<8;n++)r[7-n]=parseInt(e.substr(2*n,2),16);return new Uint64(r)},Uint64.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},Uint64.fromUint8Array=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},Uint64.prototype.equals=function(t){for(var e=0;e<8;e++)if(this.buffer[e]!==t.buffer[e])return!1;return!0},Uint64.prototype.inspect=function(){return"[Uint64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},Uint64.prototype.isZero=function(){for(var t=0;t<8;t++)if(0!==this.buffer[t])return!1;return!0},Uint64.prototype.setValue=function(t,e){var r=t,n=e;if(void 0===n){if(n=r,r=(n=Math.abs(n))%o.VAL32,(n/=o.VAL32)>o.VAL32)throw new RangeError(t+" is outside Uint64 range");n>>>=0}for(var i=0;i<8;i++)this.buffer[i]=255&r,r=3===i?n:r>>>8},Uint64.prototype.toNumber=function(t){for(var e=this.buffer,r=0,n=0,i=1;n<8;){r+=e[n]*i,i*=256,n++}return!t&&r>=o.MAX_SAFE_INTEGER?(s("Coercing out of range value %d to Infinity.",r),1/0):r},Uint64.prototype.valueOf=function(){return this.toNumber(!1)},Uint64.prototype.toArrayBuffer=function(){return this.buffer.buffer},Uint64.prototype.toDataView=function(){return new DataView(this.buffer.buffer)},Uint64.prototype.toHexString=function(){for(var t="",e=7;e>=0;e--){var r=this.buffer[e].toString(16);1===r.length&&(r="0"+r),t+=r}return t},Uint64.prototype.toString=function(t){return this.toNumber(!0).toString(t)},Uint64.prototype.toUint8Array=function(){return this.buffer},Uint64}();e.Uint64=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(142),i=function(t){function Void(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Void,t),Void._capnp={displayName:"Void",id:"0",size:new o.ObjectSize(0,0)},Void}(r(266).Struct);e.Void=i,e.VOID=void 0},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(903))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(905))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(906))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(907))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function get(){return o.default}});var o=n(r(908))},function(t,e,r){"use strict";var n=r(382),o=r(927),i=r(200);function MapiClient(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");n(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||i.API_ORIGIN}MapiClient.prototype.createRequest=function createRequest(t){return new o(this,t)},t.exports=MapiClient},function(t,e,r){"use strict";var n=r(925),o={};function has(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function parseToken(t){if(o[t])return o[t];var e=t.split("."),r=e[0],i=e[1];if(!i)throw new Error("Invalid token");var a=function parsePaylod(t){try{return JSON.parse(n.decode(t))}catch(e){throw new Error("Invalid token")}}(i),s={usage:r,user:a.u};return has(a,"a")&&(s.authorization=a.a),has(a,"exp")&&(s.expires=1e3*a.exp),has(a,"iat")&&(s.created=1e3*a.iat),has(a,"scopes")&&(s.scopes=a.scopes),has(a,"client")&&(s.client=a.client),has(a,"ll")&&(s.lastLogin=a.ll),has(a,"iu")&&(s.impersonator=a.iu),o[t]=s,s}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=r(0),a=(_interopRequireDefault(i),_interopRequireDefault(r(937))),s=_interopRequireDefault(r(942)),u=_interopRequireDefault(r(943)),l=_interopRequireDefault(r(944));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}e.default=function withContentRect(t){return function(e){var r,c;return c=r=function(r){function _class(){var e,r,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=_possibleConstructorReturn(this,(e=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(e,[this].concat(i))),n.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},n.measure=function(e){var r=(0,l.default)(n._node,t||(0,u.default)(n.props));e&&(r.entry=e[0].contentRect),n.setState({contentRect:r}),"function"===typeof n.props.onResize&&n.props.onResize(r)},n._handleRef=function(t){n._resizeObserver&&(t?n._resizeObserver.observe(t):n._resizeObserver.disconnect(n._node)),n._node=t,"function"===typeof n.props.innerRef&&n.props.innerRef(t)},_possibleConstructorReturn(n,r)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_class,r),o(_class,[{key:"componentWillMount",value:function componentWillMount(){this._resizeObserver=new s.default(this.measure)}},{key:"render",value:function render(){var t=this.props,r=(t.innerRef,t.onResize,function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["innerRef","onResize"]));return(0,i.createElement)(e,n({},r,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))}}]),_class}(i.Component),r.propTypes={client:a.default.bool,offset:a.default.bool,scroll:a.default.bool,bounds:a.default.bool,margin:a.default.bool,innerRef:a.default.func,onResize:a.default.func,children:a.default.func},c}},t.exports=e.default},function(t,e,r){t.exports={default:r(947),__esModule:!0}},function(t,e){t.exports=function normalize(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},function(t,e){t.exports=function dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function _default(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{player:(0,o.default)(t.player,e),operation:(0,i.default)(t.operation,e)}},e.operationReducer=e.playerReducer=void 0;var o=n(r(985)),i=n(r(986));var a=o.default;e.playerReducer=a;var s=i.default;e.operationReducer=s},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(47)),i=n(r(48)),a=new(function(){function Fullscreen(){(0,o.default)(this,Fullscreen)}return(0,i.default)(Fullscreen,[{key:"request",value:function request(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},{key:"exit",value:function exit(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"addEventListener",value:function addEventListener(t){document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t)}},{key:"removeEventListener",value:function removeEventListener(t){document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t)}},{key:"isFullscreen",get:function get(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function get(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),Fullscreen}());e.default=a},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h={actions:p.default.object,player:p.default.object,position:p.default.string,className:p.default.string},m=function(t){function BigPlayButton(t,e){var r;return(0,i.default)(this,BigPlayButton),(r=(0,s.default)(this,(0,u.default)(BigPlayButton).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(BigPlayButton,t),(0,a.default)(BigPlayButton,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"handleClick",value:function handleClick(){this.props.actions.play()}},{key:"render",value:function render(){var t=this.props,e=t.player,r=t.position;return f.default.createElement("button",{className:(0,d.default)("video-react-big-play-button","video-react-big-play-button-".concat(r),this.props.className,{"big-play-button-hide":e.hasStarted||!e.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"Play Video"))}}]),BigPlayButton}(f.Component);e.default=m,m.propTypes=h,m.defaultProps={position:"left"},m.displayName="BigPlayButton"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=LoadingSpinner;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s={player:o.default.object,className:o.default.string};function LoadingSpinner(t){var e=t.player,r=t.className;return e.error?null:i.default.createElement("div",{className:(0,a.default)("video-react-loading-spinner",r)})}LoadingSpinner.propTypes=s,LoadingSpinner.displayName="LoadingSpinner"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s={poster:o.default.string,player:o.default.object,actions:o.default.object,className:o.default.string};function PosterImage(t){var e=t.poster,r=t.player,n=t.actions,o=t.className;return!e||r.hasStarted?null:i.default.createElement("div",{className:(0,a.default)("video-react-poster",o),style:{backgroundImage:'url("'.concat(e,'")')},onClick:function onClick(){r.paused&&n.play()}})}PosterImage.propTypes=s,PosterImage.displayName="PosterImage";var u=PosterImage;e.default=u},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(115)),a=o(r(47)),s=o(r(48)),u=o(r(55)),l=o(r(57)),c=o(r(56)),p=o(r(58)),f=o(r(29)),d=n(r(0)),h=o(r(3)),m=r(92),y={actions:f.default.object,player:f.default.object,children:f.default.any,startTime:f.default.number,loop:f.default.bool,muted:f.default.bool,autoPlay:f.default.bool,playsInline:f.default.bool,src:f.default.string,poster:f.default.string,className:f.default.string,preload:f.default.oneOf(["auto","metadata","none"]),crossOrigin:f.default.string,onLoadStart:f.default.func,onWaiting:f.default.func,onCanPlay:f.default.func,onCanPlayThrough:f.default.func,onPlaying:f.default.func,onEnded:f.default.func,onSeeking:f.default.func,onSeeked:f.default.func,onPlay:f.default.func,onPause:f.default.func,onProgress:f.default.func,onDurationChange:f.default.func,onError:f.default.func,onSuspend:f.default.func,onAbort:f.default.func,onEmptied:f.default.func,onStalled:f.default.func,onLoadedMetadata:f.default.func,onLoadedData:f.default.func,onTimeUpdate:f.default.func,onRateChange:f.default.func,onVolumeChange:f.default.func,onResize:f.default.func},g=function(t){function Video(t){var e;return(0,a.default)(this,Video),(e=(0,u.default)(this,(0,l.default)(Video).call(this,t))).video=null,e.play=e.play.bind((0,c.default)(e)),e.pause=e.pause.bind((0,c.default)(e)),e.seek=e.seek.bind((0,c.default)(e)),e.forward=e.forward.bind((0,c.default)(e)),e.replay=e.replay.bind((0,c.default)(e)),e.toggleFullscreen=e.toggleFullscreen.bind((0,c.default)(e)),e.getProperties=e.getProperties.bind((0,c.default)(e)),e.renderChildren=e.renderChildren.bind((0,c.default)(e)),e.handleLoadStart=e.handleLoadStart.bind((0,c.default)(e)),e.handleCanPlay=e.handleCanPlay.bind((0,c.default)(e)),e.handleCanPlayThrough=e.handleCanPlayThrough.bind((0,c.default)(e)),e.handlePlay=e.handlePlay.bind((0,c.default)(e)),e.handlePlaying=e.handlePlaying.bind((0,c.default)(e)),e.handlePause=e.handlePause.bind((0,c.default)(e)),e.handleEnded=e.handleEnded.bind((0,c.default)(e)),e.handleWaiting=e.handleWaiting.bind((0,c.default)(e)),e.handleSeeking=e.handleSeeking.bind((0,c.default)(e)),e.handleSeeked=e.handleSeeked.bind((0,c.default)(e)),e.handleFullscreenChange=e.handleFullscreenChange.bind((0,c.default)(e)),e.handleError=e.handleError.bind((0,c.default)(e)),e.handleSuspend=e.handleSuspend.bind((0,c.default)(e)),e.handleAbort=e.handleAbort.bind((0,c.default)(e)),e.handleEmptied=e.handleEmptied.bind((0,c.default)(e)),e.handleStalled=e.handleStalled.bind((0,c.default)(e)),e.handleLoadedMetaData=e.handleLoadedMetaData.bind((0,c.default)(e)),e.handleLoadedData=e.handleLoadedData.bind((0,c.default)(e)),e.handleTimeUpdate=e.handleTimeUpdate.bind((0,c.default)(e)),e.handleRateChange=e.handleRateChange.bind((0,c.default)(e)),e.handleVolumeChange=e.handleVolumeChange.bind((0,c.default)(e)),e.handleDurationChange=e.handleDurationChange.bind((0,c.default)(e)),e.handleProgress=(0,m.throttle)(e.handleProgress.bind((0,c.default)(e)),250),e.handleKeypress=e.handleKeypress.bind((0,c.default)(e)),e.handleTextTrackChange=e.handleTextTrackChange.bind((0,c.default)(e)),e}return(0,p.default)(Video,t),(0,s.default)(Video,[{key:"componentDidMount",value:function componentDidMount(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:"getProperties",value:function getProperties(){var t=this;return this.video?m.mediaProperties.reduce((function(e,r){return e[r]=t.video[r],e}),{}):null}},{key:"handleTextTrackChange",value:function handleTextTrackChange(){var t=this.props,e=t.actions,r=t.player;if(this.video&&this.video.textTracks){var n=Array.from(this.video.textTracks).find((function(t){return"showing"===t.mode}));n!==r.activeTextTrack&&e.activateTextTrack(n)}}},{key:"play",value:function play(){var t=this.video.play();void 0!==t&&t.catch((function(){})).then((function(){}))}},{key:"pause",value:function pause(){var t=this.video.pause();void 0!==t&&t.catch((function(){})).then((function(){}))}},{key:"load",value:function load(){this.video.load()}},{key:"addTextTrack",value:function addTextTrack(){var t;(t=this.video).addTextTrack.apply(t,arguments)}},{key:"canPlayType",value:function canPlayType(){var t;(t=this.video).canPlayType.apply(t,arguments)}},{key:"togglePlay",value:function togglePlay(){this.video.paused?this.play():this.pause()}},{key:"seek",value:function seek(t){try{this.video.currentTime=t}catch(e){}}},{key:"forward",value:function forward(t){this.seek(this.video.currentTime+t)}},{key:"replay",value:function replay(t){this.forward(-t)}},{key:"toggleFullscreen",value:function toggleFullscreen(){var t=this.props,e=t.player;t.actions.toggleFullscreen(e)}},{key:"handleLoadStart",value:function handleLoadStart(){var t=this.props,e=t.actions,r=t.onLoadStart;e.handleLoadStart(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleCanPlay",value:function handleCanPlay(){var t=this.props,e=t.actions,r=t.onCanPlay;e.handleCanPlay(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleCanPlayThrough",value:function handleCanPlayThrough(){var t=this.props,e=t.actions,r=t.onCanPlayThrough;e.handleCanPlayThrough(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handlePlaying",value:function handlePlaying(){var t=this.props,e=t.actions,r=t.onPlaying;e.handlePlaying(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handlePlay",value:function handlePlay(){var t=this.props,e=t.actions,r=t.onPlay;e.handlePlay(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handlePause",value:function handlePause(){var t=this.props,e=t.actions,r=t.onPause;e.handlePause(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleDurationChange",value:function handleDurationChange(){var t=this.props,e=t.actions,r=t.onDurationChange;e.handleDurationChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleProgress",value:function handleProgress(){var t=this.props,e=t.actions,r=t.onProgress;this.video&&e.handleProgressChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleEnded",value:function handleEnded(){var t=this.props,e=t.loop,r=t.player,n=t.actions,o=t.onEnded;e?(this.seek(0),this.play()):r.paused||this.pause(),n.handleEnd(this.getProperties()),o&&o.apply(void 0,arguments)}},{key:"handleWaiting",value:function handleWaiting(){var t=this.props,e=t.actions,r=t.onWaiting;e.handleWaiting(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleSeeking",value:function handleSeeking(){var t=this.props,e=t.actions,r=t.onSeeking;e.handleSeeking(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleSeeked",value:function handleSeeked(){var t=this.props,e=t.actions,r=t.onSeeked;e.handleSeeked(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleFullscreenChange",value:function handleFullscreenChange(){}},{key:"handleSuspend",value:function handleSuspend(){var t=this.props,e=t.actions,r=t.onSuspend;e.handleSuspend(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleAbort",value:function handleAbort(){var t=this.props,e=t.actions,r=t.onAbort;e.handleAbort(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleEmptied",value:function handleEmptied(){var t=this.props,e=t.actions,r=t.onEmptied;e.handleEmptied(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleStalled",value:function handleStalled(){var t=this.props,e=t.actions,r=t.onStalled;e.handleStalled(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleLoadedMetaData",value:function handleLoadedMetaData(){var t=this.props,e=t.actions,r=t.onLoadedMetadata,n=t.startTime;n&&n>0&&(this.video.currentTime=n),e.handleLoadedMetaData(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleLoadedData",value:function handleLoadedData(){var t=this.props,e=t.actions,r=t.onLoadedData;e.handleLoadedData(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleTimeUpdate",value:function handleTimeUpdate(){var t=this.props,e=t.actions,r=t.onTimeUpdate;e.handleTimeUpdate(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleRateChange",value:function handleRateChange(){var t=this.props,e=t.actions,r=t.onRateChange;e.handleRateChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleVolumeChange",value:function handleVolumeChange(){var t=this.props,e=t.actions,r=t.onVolumeChange;e.handleVolumeChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleError",value:function handleError(){var t=this.props,e=t.actions,r=t.onError;e.handleError(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleResize",value:function handleResize(){var t=this.props,e=t.actions,r=t.onResize;e.handleResize(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:"handleKeypress",value:function handleKeypress(){}},{key:"renderChildren",value:function renderChildren(){var t=this,e=(0,i.default)({},this.props,{video:this.video});return this.video?d.default.Children.toArray(this.props.children).filter(m.isVideoChild).map((function(r){var n;if("string"===typeof r.type){if("source"===r.type){var o=(n=(0,i.default)({},r.props)).onError;n.onError=function(){o&&o.apply(void 0,arguments),t.handleError.apply(t,arguments)}}}else n=e;return d.default.cloneElement(r,n)})):null}},{key:"render",value:function render(){var t=this,e=this.props,r=e.loop,n=e.poster,o=e.preload,i=e.src,a=e.autoPlay,s=e.playsInline,u=e.muted,l=e.crossOrigin,c=e.videoId;return d.default.createElement("video",{className:(0,h.default)("video-react-video",this.props.className),id:c,crossOrigin:l,ref:function ref(e){t.video=e},muted:u,preload:o,loop:r,playsInline:s,autoPlay:a,poster:n,src:i,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())}},{key:"playbackRate",get:function get(){return this.video.playbackRate},set:function set(t){this.video.playbackRate=t}},{key:"muted",get:function get(){return this.video.muted},set:function set(t){this.video.muted=t}},{key:"volume",get:function get(){return this.video.volume},set:function set(t){t>1&&(t=1),t<0&&(t=0),this.video.volume=t}},{key:"videoWidth",get:function get(){return this.video.videoWidth}},{key:"videoHeight",get:function get(){return this.video.videoHeight}}]),Video}(d.Component);e.default=g,g.propTypes=y,g.displayName="Video"},function(t,e,r){var n=r(987),o=r(988),i=r(989);t.exports=function _toConsumableArray(t){return n(t)||o(t)||i()}},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h={manager:p.default.object,className:p.default.string},m=function(t){function Bezel(t,e){var r;return(0,i.default)(this,Bezel),(r=(0,s.default)(this,(0,u.default)(Bezel).call(this,t,e))).timer=null,t.manager.subscribeToOperationStateChange(r.handleStateChange.bind((0,l.default)(r))),r.state={hidden:!0,operation:{}},r}return(0,c.default)(Bezel,t),(0,a.default)(Bezel,[{key:"handleStateChange",value:function handleStateChange(t,e){var r=this;t.count!==e.count&&"shortcut"===t.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:t.count,operation:t.operation}),this.timer=setTimeout((function(){r.setState({hidden:!0}),r.timer=null}),500))}},{key:"render",value:function render(){if("shortcut"!==this.state.operation.source)return null;var t=this.state.hidden?{display:"none"}:null;return f.default.createElement("div",{className:(0,d.default)({"video-react-bezel":!0,"video-react-bezel-animation":this.state.count%2===0,"video-react-bezel-animation-alt":this.state.count%2===1},this.props.className),style:t,role:"status","aria-label":this.state.operation.action},f.default.createElement("div",{className:(0,d.default)("video-react-bezel-icon","video-react-bezel-icon-".concat(this.state.operation.action))}))}}]),Bezel}(f.Component);e.default=m,m.propTypes=h,m.displayName="Bezel"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(271)),i=n(r(393)),a=n(r(47)),s=n(r(48)),u=n(r(55)),l=n(r(57)),c=n(r(56)),p=n(r(58)),f=r(0),d=n(r(29)),h=r(202),m={clickable:d.default.bool,dblclickable:d.default.bool,manager:d.default.object,actions:d.default.object,player:d.default.object,shortcuts:d.default.array},y=function(t){function Shortcut(t,e){var r;return(0,a.default)(this,Shortcut),(r=(0,u.default)(this,(0,l.default)(Shortcut).call(this,t,e))).defaultShortcuts=[{keyCode:32,handle:r.togglePlay},{keyCode:75,handle:r.togglePlay},{keyCode:70,handle:r.toggleFullscreen},{keyCode:37,handle:function handle(t,e){t.hasStarted&&e.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function handle(t,e){t.hasStarted&&e.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function handle(t,e){t.hasStarted&&e.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function handle(t,e){t.hasStarted&&e.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function handle(t,e){t.hasStarted&&e.seek(0)}},{keyCode:35,handle:function handle(t,e){t.hasStarted&&e.seek(t.duration)}},{keyCode:38,handle:function handle(t,e){var r=t.volume+.05;r>1&&(r=1),e.changeVolume(r,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function handle(t,e){var r=t.volume-.05;r<0&&(r=0);var n=r>0?"volume-down":"volume-off";e.changeVolume(r,{action:n,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function handle(t,e){var r=t.playbackRate;r>=1.5?r=2:r>=1.25?r=1.5:r>=1?r=1.25:r>=.5?r=1:r>=.25?r=.5:r>=0&&(r=.25),e.changeRate(r,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function handle(t,e){var r=t.playbackRate;r<=.5?r=.25:r<=1?r=.5:r<=1.25?r=1:r<=1.5?r=1.25:r<=2&&(r=1.5),e.changeRate(r,{action:"fast-rewind",source:"shortcut"})}}],r.shortcuts=(0,i.default)(r.defaultShortcuts),r.mergeShortcuts=r.mergeShortcuts.bind((0,c.default)(r)),r.handleKeyPress=r.handleKeyPress.bind((0,c.default)(r)),r.handleClick=r.handleClick.bind((0,c.default)(r)),r.handleDoubleClick=r.handleDoubleClick.bind((0,c.default)(r)),r}return(0,p.default)(Shortcut,t),(0,s.default)(Shortcut,[{key:"componentDidMount",value:function componentDidMount(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)}},{key:"mergeShortcuts",value:function mergeShortcuts(){var t=function getShortcutKey(t){var e=t.keyCode,r=void 0===e?0:e,n=t.ctrl,o=void 0!==n&&n,i=t.shift,a=void 0!==i&&i,s=t.alt,u=void 0!==s&&s;return"".concat(r,":").concat(o,":").concat(a,":").concat(u)},e=this.defaultShortcuts.reduce((function(e,r){return Object.assign(e,(0,o.default)({},t(r),r))}),{}),r=(this.props.shortcuts||[]).reduce((function(e,r){var n=r.keyCode,i=r.handle;return n&&"function"===typeof i?Object.assign(e,(0,o.default)({},t(r),r)):e}),e),n=function gradeShortcut(t){var e=0;return["ctrl","shift","alt"].forEach((function(r){t[r]&&e++})),e};this.shortcuts=Object.keys(r).map((function(t){return r[t]})).sort((function(t,e){return n(e)-n(t)}))}},{key:"togglePlay",value:function togglePlay(t,e){t.paused?e.play({action:"play",source:"shortcut"}):e.pause({action:"pause",source:"shortcut"})}},{key:"toggleFullscreen",value:function toggleFullscreen(t,e){e.toggleFullscreen(t)}},{key:"handleKeyPress",value:function handleKeyPress(t){var e=this.props,r=e.player,n=e.actions;if(r.isActive&&(!document.activeElement||!((0,h.hasClass)(document.activeElement,"video-react-control")||(0,h.hasClass)(document.activeElement,"video-react-menu-button-active")||(0,h.hasClass)(document.activeElement,"video-react-big-play-button")))){var o=t.keyCode||t.which,i=t.ctrlKey||t.metaKey,a=t.shiftKey,s=t.altKey,u=this.shortcuts.filter((function(t){return!(!t.keyCode||t.keyCode-o!==0)&&!(void 0!==t.ctrl&&t.ctrl!==i||void 0!==t.shift&&t.shift!==a||void 0!==t.alt&&t.alt!==s)}))[0];u&&(u.handle(r,n),t.preventDefault())}}},{key:"canBeClicked",value:function canBeClicked(t,e){return!(!t.isActive||"VIDEO"!==e.target.nodeName||4!==t.readyState)}},{key:"handleClick",value:function handleClick(t){var e=this.props,r=e.player,n=e.actions,o=e.clickable;this.canBeClicked(r,t)&&o&&this.togglePlay(r,n)}},{key:"handleDoubleClick",value:function handleDoubleClick(t){var e=this.props,r=e.player,n=e.actions,o=e.dblclickable;this.canBeClicked(r,t)&&o&&this.toggleFullscreen(r,n)}},{key:"render",value:function render(){return null}}]),Shortcut}(f.Component);e.default=y,y.propTypes=m,y.defaultProps={clickable:!0,dblclickable:!0},y.displayName="Shortcut"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(272)),a=o(r(47)),s=o(r(48)),u=o(r(55)),l=o(r(57)),c=o(r(56)),p=o(r(58)),f=o(r(29)),d=n(r(0)),h=o(r(3)),m=o(r(397)),y=o(r(402)),g=o(r(403)),v=o(r(405)),_=o(r(406)),b=o(r(407)),S=o(r(408)),x=o(r(409)),w=o(r(410)),E=o(r(411)),P=o(r(275)),C=r(92),T={children:f.default.any,autoHide:f.default.bool,autoHideTime:f.default.number,disableDefaultControls:f.default.bool,disableCompletely:f.default.bool,className:f.default.string},D=function(t){function ControlBar(t){var e;return(0,a.default)(this,ControlBar),(e=(0,u.default)(this,(0,l.default)(ControlBar).call(this,t))).getDefaultChildren=e.getDefaultChildren.bind((0,c.default)(e)),e.getFullChildren=e.getFullChildren.bind((0,c.default)(e)),e}return(0,p.default)(ControlBar,t),(0,s.default)(ControlBar,[{key:"getDefaultChildren",value:function getDefaultChildren(){return[d.default.createElement(y.default,{key:"play-toggle",order:1}),d.default.createElement(E.default,{key:"volume-menu-button",order:4}),d.default.createElement(S.default,{key:"current-time-display",order:5.1}),d.default.createElement(w.default,{key:"time-divider",order:5.2}),d.default.createElement(x.default,{key:"duration-display",order:5.3}),d.default.createElement(m.default,{key:"progress-control",order:6}),d.default.createElement(_.default,{key:"fullscreen-toggle",order:8})]}},{key:"getFullChildren",value:function getFullChildren(){return[d.default.createElement(y.default,{key:"play-toggle",order:1}),d.default.createElement(v.default,{key:"replay-control",order:2}),d.default.createElement(g.default,{key:"forward-control",order:3}),d.default.createElement(E.default,{key:"volume-menu-button",order:4}),d.default.createElement(S.default,{key:"current-time-display",order:5}),d.default.createElement(w.default,{key:"time-divider",order:6}),d.default.createElement(x.default,{key:"duration-display",order:7}),d.default.createElement(m.default,{key:"progress-control",order:8}),d.default.createElement(b.default,{key:"remaining-time-display",order:9}),d.default.createElement(P.default,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),d.default.createElement(_.default,{key:"fullscreen-toggle",order:11})]}},{key:"getChildren",value:function getChildren(){var t=d.default.Children.toArray(this.props.children),e=this.props.disableDefaultControls?[]:this.getDefaultChildren(),r=this.props,n=(r.className,(0,i.default)(r,["className"]));return(0,C.mergeAndSortChildren)(e,t,n)}},{key:"render",value:function render(){var t=this.props,e=t.autoHide,r=t.className,n=t.disableCompletely,o=this.getChildren();return n?null:d.default.createElement("div",{className:(0,h.default)("video-react-control-bar",{"video-react-control-bar-auto-hide":e},r)},o)}}]),ControlBar}(d.Component);e.default=D,D.propTypes=T,D.defaultProps={autoHide:!0,disableCompletely:!1},D.displayName="ControlBar"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(166)),a=o(r(47)),s=o(r(48)),u=o(r(55)),l=o(r(57)),c=o(r(56)),p=o(r(58)),f=o(r(29)),d=n(r(0)),h=o(r(3)),m=n(r(202)),y=o(r(398)),g={player:f.default.object,className:f.default.string},v=function(t){function ProgressControl(t,e){var r;return(0,a.default)(this,ProgressControl),(r=(0,u.default)(this,(0,l.default)(ProgressControl).call(this,t,e))).state={mouseTime:{time:null,position:0}},r.handleMouseMoveThrottle=r.handleMouseMove.bind((0,c.default)(r)),r}return(0,p.default)(ProgressControl,t),(0,s.default)(ProgressControl,[{key:"handleMouseMove",value:function handleMouseMove(t){if(t.pageX){var e=this.props.player.duration,r=this.seekBar,n=m.getPointerPosition(r,t).x*e,o=t.pageX-m.findElPosition(r).left;this.setState({mouseTime:{time:n,position:o}})}}},{key:"render",value:function render(){var t=this,e=this.props.className;return d.default.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:(0,h.default)("video-react-progress-control video-react-control",e)},d.default.createElement(y.default,(0,i.default)({mouseTime:this.state.mouseTime,ref:function ref(e){t.seekBar=e}},this.props)))}}]),ProgressControl}(d.Component);e.default=v,v.propTypes=g,v.displayName="ProgressControl"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h=o(r(274)),m=o(r(399)),y=o(r(400)),g=o(r(401)),v=r(92),_={player:p.default.object,mouseTime:p.default.object,actions:p.default.object,className:p.default.string},b=function(t){function SeekBar(t,e){var r;return(0,i.default)(this,SeekBar),(r=(0,s.default)(this,(0,u.default)(SeekBar).call(this,t,e))).getPercent=r.getPercent.bind((0,l.default)(r)),r.getNewTime=r.getNewTime.bind((0,l.default)(r)),r.stepForward=r.stepForward.bind((0,l.default)(r)),r.stepBack=r.stepBack.bind((0,l.default)(r)),r.handleMouseDown=r.handleMouseDown.bind((0,l.default)(r)),r.handleMouseMove=r.handleMouseMove.bind((0,l.default)(r)),r.handleMouseUp=r.handleMouseUp.bind((0,l.default)(r)),r}return(0,c.default)(SeekBar,t),(0,a.default)(SeekBar,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentDidUpdate",value:function componentDidUpdate(){}},{key:"getPercent",value:function getPercent(){var t=this.props.player,e=t.currentTime,r=(t.seekingTime||e)/t.duration;return r>=1?1:r}},{key:"getNewTime",value:function getNewTime(t){var e=this.props.player.duration,r=this.slider.calculateDistance(t)*e;return r===e?r-.1:r}},{key:"handleMouseDown",value:function handleMouseDown(){}},{key:"handleMouseUp",value:function handleMouseUp(t){var e=this.props.actions,r=this.getNewTime(t);e.seek(r),e.handleEndSeeking(r)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.actions,r=this.getNewTime(t);e.handleSeekingTime(r)}},{key:"stepForward",value:function stepForward(){this.props.actions.forward(5)}},{key:"stepBack",value:function stepBack(){this.props.actions.replay(5)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.player,n=r.currentTime,o=r.seekingTime,i=r.duration,a=r.buffered,s=e.mouseTime,u=o||n;return f.default.createElement(h.default,{ref:function ref(e){t.slider=e},label:"video progress bar",className:(0,d.default)("video-react-progress-holder",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:(0,v.formatTime)(u,i),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},f.default.createElement(y.default,{buffered:a,currentTime:u,duration:i}),f.default.createElement(g.default,{duration:i,mouseTime:s}),f.default.createElement(m.default,{currentTime:u,duration:i}))}}]),SeekBar}(f.Component);e.default=b,b.propTypes=_,b.displayName="SeekBar"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=PlayProgressBar;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s=r(92),u={currentTime:o.default.number,duration:o.default.number,percentage:o.default.string,className:o.default.string};function PlayProgressBar(t){var e=t.currentTime,r=t.duration,n=t.percentage,o=t.className;return i.default.createElement("div",{"data-current-time":(0,s.formatTime)(e,r),className:(0,a.default)("video-react-play-progress video-react-slider-bar",o),style:{width:n}},i.default.createElement("span",{className:"video-react-control-text"},"Progress: ".concat(n)))}PlayProgressBar.propTypes=u,PlayProgressBar.displayName="PlayProgressBar"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=LoadProgressBar;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s={duration:o.default.number,buffered:o.default.object,className:o.default.string};function LoadProgressBar(t){var e=t.buffered,r=t.duration,n=t.className;if(!e||!e.length)return null;var o=e.end(e.length-1),s={};function percentify(t,e){var r=t/e||0;return"".concat(100*(r>=1?1:r),"%")}o>r&&(o=r),s.width=percentify(o,r);for(var u=[],l=0;l<e.length;l++){var c=e.start(l),p=e.end(l),f=i.default.createElement("div",{style:{left:percentify(c,o),width:percentify(p-c,o)},key:"part-".concat(l)});u.push(f)}return 0===u.length&&(u=null),i.default.createElement("div",{style:s,className:(0,a.default)("video-react-load-progress",n)},i.default.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),u)}LoadProgressBar.propTypes=s,LoadProgressBar.displayName="LoadProgressBar"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s=r(92);function MouseTimeDisplay(t){var e=t.duration,r=t.mouseTime,n=t.className,o=t.text;if(!r.time)return null;var u=o||(0,s.formatTime)(r.time,e);return i.default.createElement("div",{className:(0,a.default)("video-react-mouse-display",n),style:{left:"".concat(r.position,"px")},"data-current-time":u})}MouseTimeDisplay.propTypes={duration:o.default.number,mouseTime:o.default.object,className:o.default.string},MouseTimeDisplay.displayName="MouseTimeDisplay";var u=MouseTimeDisplay;e.default=u},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h={actions:p.default.object,player:p.default.object,className:p.default.string},m=function(t){function PlayToggle(t,e){var r;return(0,i.default)(this,PlayToggle),(r=(0,s.default)(this,(0,u.default)(PlayToggle).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(PlayToggle,t),(0,a.default)(PlayToggle,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.actions;t.player.paused?e.play():e.pause()}},{key:"render",value:function render(){var t=this,e=this.props,r=e.player,n=e.className,o=r.paused?"Play":"Pause";return f.default.createElement("button",{ref:function ref(e){t.button=e},className:(0,d.default)(n,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":r.paused,"video-react-playing":!r.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},o))}}]),PlayToggle}(f.Component);e.default=m,m.propTypes=h,m.displayName="PlayToggle"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,n(r(404)).default)("forward");o.displayName="ForwardControl";var i=o;e.default=i},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d={actions:p.default.object,className:p.default.string,seconds:p.default.oneOf([5,10,30])},h={seconds:10};e.default=function _default(t){var e=function(e){function ForwardReplayControl(t,e){var r;return(0,i.default)(this,ForwardReplayControl),(r=(0,s.default)(this,(0,u.default)(ForwardReplayControl).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(ForwardReplayControl,e),(0,a.default)(ForwardReplayControl,[{key:"handleClick",value:function handleClick(){var e=this.props,r=e.actions,n=e.seconds;"forward"===t?r.forward(n):r.replay(n)}},{key:"render",value:function render(){var e=this,r=this.props,n=r.seconds,o=r.className,i=["video-react-control","video-react-button","video-react-icon"];return i.push("video-react-icon-".concat(t,"-").concat(n),"video-react-".concat(t,"-control")),o&&i.push(o),f.default.createElement("button",{ref:function ref(t){e.button=t},className:i.join(" "),type:"button",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"".concat(t," ").concat(n," seconds")))}}]),ForwardReplayControl}(f.Component);return e.propTypes=d,e.defaultProps=h,e}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,n(r(404)).default)("replay");o.displayName="ReplayControl";var i=o;e.default=i},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h={actions:p.default.object,player:p.default.object,className:p.default.string},m=function(t){function FullscreenToggle(t,e){var r;return(0,i.default)(this,FullscreenToggle),(r=(0,s.default)(this,(0,u.default)(FullscreenToggle).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(FullscreenToggle,t),(0,a.default)(FullscreenToggle,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.player;t.actions.toggleFullscreen(e)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.player,n=e.className;return f.default.createElement("button",{className:(0,d.default)(n,{"video-react-icon-fullscreen-exit":r.isFullscreen,"video-react-icon-fullscreen":!r.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function ref(e){t.button=e},type:"button",tabIndex:"0",onClick:this.handleClick},f.default.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))}}]),FullscreenToggle}(f.Component);e.default=m,m.propTypes=h,m.displayName="FullscreenToggle"},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s=r(92),u={player:o.default.object,className:o.default.string};function RemainingTimeDisplay(t){var e=t.player,r=e.currentTime,n=e.duration,o=t.className,u=n-r,l=(0,s.formatTime)(u);return i.default.createElement("div",{className:(0,a.default)("video-react-remaining-time video-react-time-control video-react-control",o)},i.default.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},i.default.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-".concat(l)))}RemainingTimeDisplay.propTypes=u,RemainingTimeDisplay.displayName="RemainingTimeDisplay";var l=RemainingTimeDisplay;e.default=l},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s=r(92),u={player:o.default.object,className:o.default.string};function CurrentTimeDisplay(t){var e=t.player,r=e.currentTime,n=e.duration,o=t.className,u=(0,s.formatTime)(r,n);return i.default.createElement("div",{className:(0,a.default)("video-react-current-time video-react-time-control video-react-control",o)},i.default.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},i.default.createElement("span",{className:"video-react-control-text"},"Current Time "),u))}CurrentTimeDisplay.propTypes=u,CurrentTimeDisplay.displayName="CurrentTimeDisplay";var l=CurrentTimeDisplay;e.default=l},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s=r(92),u={player:o.default.object,className:o.default.string};function DurationDisplay(t){var e=t.player.duration,r=t.className,n=(0,s.formatTime)(e);return i.default.createElement("div",{className:(0,a.default)(r,"video-react-duration video-react-time-control video-react-control")},i.default.createElement("div",{className:"video-react-duration-display","aria-live":"off"},i.default.createElement("span",{className:"video-react-control-text"},"Duration Time "),n))}DurationDisplay.propTypes=u,DurationDisplay.displayName="DurationDisplay";var l=DurationDisplay;e.default=l},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=TimeDivider;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s={separator:o.default.string,className:o.default.string};function TimeDivider(t){var e=t.separator,r=t.className,n=e||"/";return i.default.createElement("div",{className:(0,a.default)("video-react-time-control video-react-time-divider",r),dir:"ltr"},i.default.createElement("div",null,i.default.createElement("span",null,n)))}TimeDivider.propTypes=s,TimeDivider.displayName="TimeDivider"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(166)),a=o(r(47)),s=o(r(48)),u=o(r(55)),l=o(r(57)),c=o(r(56)),p=o(r(58)),f=o(r(29)),d=n(r(0)),h=o(r(3)),m=o(r(990)),y=o(r(992)),g={player:f.default.object,actions:f.default.object,vertical:f.default.bool,className:f.default.string,alwaysShowVolume:f.default.bool},v=function(t){function VolumeMenuButton(t,e){var r;return(0,a.default)(this,VolumeMenuButton),(r=(0,u.default)(this,(0,l.default)(VolumeMenuButton).call(this,t,e))).state={active:!1},r.handleClick=r.handleClick.bind((0,c.default)(r)),r.handleFocus=r.handleFocus.bind((0,c.default)(r)),r.handleBlur=r.handleBlur.bind((0,c.default)(r)),r}return(0,p.default)(VolumeMenuButton,t),(0,s.default)(VolumeMenuButton,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.player;t.actions.mute(!e.muted)}},{key:"handleFocus",value:function handleFocus(){this.setState({active:!0})}},{key:"handleBlur",value:function handleBlur(){this.setState({active:!1})}},{key:"render",value:function render(){var t=this.props,e=t.vertical,r=t.player,n=t.className,o=!e,a=this.volumeLevel;return d.default.createElement(m.default,{className:(0,h.default)(n,{"video-react-volume-menu-button-vertical":e,"video-react-volume-menu-button-horizontal":!e,"video-react-vol-muted":r.muted,"video-react-vol-0":0===a&&!r.muted,"video-react-vol-1":1===a,"video-react-vol-2":2===a,"video-react-vol-3":3===a,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:o},d.default.createElement(y.default,(0,i.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:"volumeLevel",get:function get(){var t=this.props.player,e=t.volume,r=t.muted,n=3;return 0===e||r?n=0:e<.33?n=1:e<.67&&(n=2),n}}]),VolumeMenuButton}(d.Component);v.propTypes=g,v.defaultProps={vertical:!1},v.displayName="VolumeMenuButton";var _=v;e.default=_},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(166)),a=o(r(115)),s=o(r(47)),u=o(r(48)),l=o(r(55)),c=o(r(57)),p=o(r(56)),f=o(r(58)),d=o(r(29)),h=n(r(0)),m=o(r(3)),y={tagName:d.default.string,onClick:d.default.func.isRequired,onFocus:d.default.func,onBlur:d.default.func,className:d.default.string},g=function(t){function ClickableComponent(t,e){var r;return(0,s.default)(this,ClickableComponent),(r=(0,l.default)(this,(0,c.default)(ClickableComponent).call(this,t,e))).handleClick=r.handleClick.bind((0,p.default)(r)),r.handleFocus=r.handleFocus.bind((0,p.default)(r)),r.handleBlur=r.handleBlur.bind((0,p.default)(r)),r.handleKeypress=r.handleKeypress.bind((0,p.default)(r)),r}return(0,f.default)(ClickableComponent,t),(0,u.default)(ClickableComponent,[{key:"handleKeypress",value:function handleKeypress(t){32!==t.which&&13!==t.which||(t.preventDefault(),this.handleClick(t))}},{key:"handleClick",value:function handleClick(t){(0,this.props.onClick)(t)}},{key:"handleFocus",value:function handleFocus(t){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(t)}},{key:"render",value:function render(){var t=this.props.tagName,e=(0,a.default)({},this.props);return delete e.tagName,delete e.className,h.default.createElement(t,(0,i.default)({className:(0,m.default)(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},e))}}]),ClickableComponent}(h.Component);e.default=g,g.propTypes=y,g.defaultProps={tagName:"div"},g.displayName="ClickableComponent"},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function extendStatics(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r(29)),a=o(r(0)),s=a.createContext(null),u=s.Consumer,l=s.Provider;e.MuiPickersContextConsumer=u;var c=function(t){function MuiPickersUtilsProvider(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={utils:null},e}return n(MuiPickersUtilsProvider,t),MuiPickersUtilsProvider.getDerivedStateFromProps=function(t){return{utils:new(0,t.utils)({locale:t.locale,moment:t.moment})}},MuiPickersUtilsProvider.prototype.render=function(){return a.createElement(l,{value:this.state.utils,children:this.props.children})},MuiPickersUtilsProvider.propTypes={utils:i.func.isRequired,locale:i.oneOfType([i.object,i.string]),children:i.oneOfType([i.element.isRequired,i.arrayOf(i.element.isRequired)]).isRequired,moment:i.func},MuiPickersUtilsProvider.defaultProps={locale:void 0,moment:void 0},MuiPickersUtilsProvider}(a.Component);e.default=c},function(t,e,r){"use strict";var n=r(292),o=r.n(n),i=r(212),a=r.n(i),s=r(415),u=r.n(s),l=r(416),c=r.n(l),p=r(417),f=r.n(p),d=r(293),h=r.n(d),m=r(418),y=r.n(m),g=r(294),v=r.n(g),_=r(295),b=r.n(_),S=r(90),x=r.n(S),w=r(419),E=r.n(w),P=r(420),C=r.n(P),T=r(421),D=r.n(T),M=r(222),A=r.n(M),R=r(153),L=r.n(R),I=r(422),O=r.n(I),k=r(423),F=r.n(k),N=r(280),B=r.n(N),U=r(424),z=r.n(U),j=r(425),G=r.n(j),V=r(426),W=r.n(V),q=r(427),H=r.n(q),K=r(428),Y=r.n(K),Z=r(213),X=r.n(Z),Q=r(296),$=r.n(Q),J=r(297),tt=r.n(J),et=r(298),rt=r.n(et),nt=function(){function DateFnsUtils(t){var e=(void 0===t?{}:t).locale;this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=e}return DateFnsUtils.prototype.addDays=function(t,e){return o()(t,e)},DateFnsUtils.prototype.isValid=function(t){return B()(t)},DateFnsUtils.prototype.getDiff=function(t,e){return c()(t,e)},DateFnsUtils.prototype.isAfter=function(t,e){return A()(t,e)},DateFnsUtils.prototype.isBefore=function(t,e){return L()(t,e)},DateFnsUtils.prototype.startOfDay=function(t){return X()(t)},DateFnsUtils.prototype.endOfDay=function(t){return h()(t)},DateFnsUtils.prototype.getHours=function(t){return E()(t)},DateFnsUtils.prototype.setHours=function(t,e){return G()(t,e)},DateFnsUtils.prototype.setMinutes=function(t,e){return W()(t,e)},DateFnsUtils.prototype.getSeconds=function(t){return C()(t)},DateFnsUtils.prototype.setSeconds=function(t,e){return H()(t,e)},DateFnsUtils.prototype.isSameDay=function(t,e){return F()(t,e)},DateFnsUtils.prototype.getStartOfMonth=function(t){return $()(t)},DateFnsUtils.prototype.getYear=function(t){return D()(t)},DateFnsUtils.prototype.setYear=function(t,e){return Y()(t,e)},DateFnsUtils.prototype.date=function(t){return"undefined"===typeof t?new Date:null===t?null:new Date(t)},DateFnsUtils.prototype.parse=function(t,e){return""===t?null:z()(t,e,new Date)},DateFnsUtils.prototype.format=function(t,e){return x()(t,e,{locale:this.locale})},DateFnsUtils.prototype.isEqual=function(t,e){return null===t&&null===e||O()(t,e)},DateFnsUtils.prototype.isNull=function(t){return null===t},DateFnsUtils.prototype.isAfterDay=function(t,e){return A()(t,h()(e))},DateFnsUtils.prototype.isBeforeDay=function(t,e){return L()(t,X()(e))},DateFnsUtils.prototype.isBeforeYear=function(t,e){return L()(t,rt()(e))},DateFnsUtils.prototype.isAfterYear=function(t,e){return A()(t,b()(e))},DateFnsUtils.prototype.formatNumber=function(t){return t},DateFnsUtils.prototype.getMinutes=function(t){return t.getMinutes()},DateFnsUtils.prototype.getMonth=function(t){return t.getMonth()},DateFnsUtils.prototype.getMeridiemText=function(t){return"am"===t?"AM":"PM"},DateFnsUtils.prototype.getNextMonth=function(t){return a()(t,1)},DateFnsUtils.prototype.getPreviousMonth=function(t){return a()(t,-1)},DateFnsUtils.prototype.mergeDateAndTime=function(t,e){return this.setMinutes(this.setHours(t,this.getHours(e)),this.getMinutes(e))},DateFnsUtils.prototype.getWeekdays=function(){var t=this,e=new Date;return f()({start:tt()(e,{locale:this.locale}),end:v()(e,{locale:this.locale})},{locale:this.locale}).map((function(e){return x()(e,"EEEEEE",{locale:t.locale})}))},DateFnsUtils.prototype.getWeekArray=function(t){for(var e=tt()($()(t),{locale:this.locale}),r=v()(y()(t),{locale:this.locale}),n=0,i=e,a=[];L()(i,r);){var s=Math.floor(n/7);a[s]=a[s]||[],a[s].push(i),i=o()(i,1),n+=1}return a},DateFnsUtils.prototype.getYearRange=function(t,e){for(var r=rt()(new Date(t)),n=b()(new Date(e)),o=[],i=r;L()(i,n);)o.push(i),i=u()(i,1);return o},DateFnsUtils.prototype.getCalendarHeaderText=function(t){return x()(t,"MMMM yyyy",{locale:this.locale})},DateFnsUtils.prototype.getYearText=function(t){return x()(t,"yyyy",{locale:this.locale})},DateFnsUtils.prototype.getDatePickerHeaderText=function(t){return x()(t,"EEE, MMM d",{locale:this.locale})},DateFnsUtils.prototype.getDateTimePickerHeaderText=function(t){return x()(t,"MMM d",{locale:this.locale})},DateFnsUtils.prototype.getDayText=function(t){return x()(t,"d",{locale:this.locale})},DateFnsUtils.prototype.getHourText=function(t,e){return x()(t,e?"hh":"HH",{locale:this.locale})},DateFnsUtils.prototype.getMinuteText=function(t){return x()(t,"mm",{locale:this.locale})},DateFnsUtils.prototype.getSecondText=function(t){return x()(t,"ss",{locale:this.locale})},DateFnsUtils}();e.a=nt},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addYears(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Number(e);return(0,n.default)(t,12*o,r)};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(212));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function differenceInMilliseconds(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=(0,n.default)(e,r);return o.getTime()-i.getTime()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function eachDayOfInterval(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=t||{},o=(0,n.default)(r.start,e),i=(0,n.default)(r.end,e).getTime();if(!(o.getTime()<=i))throw new RangeError("Invalid interval");var a=[],s=o;s.setHours(0,0,0,0);for(;s.getTime()<=i;)a.push((0,n.default)(s,e)),s.setDate(s.getDate()+1);return a};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function endOfMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e),o=r.getMonth();return r.setFullYear(r.getFullYear(),o+1,0),r.setHours(23,59,59,999),r};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getHours(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,n.default)(t,e).getHours()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getSeconds(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,n.default)(t,e).getSeconds()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getYear(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return(0,n.default)(t,e).getFullYear()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isEqual(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=(0,n.default)(e,r);return o.getTime()===i.getTime()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isSameDay(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=(0,n.default)(e,r);return o.getTime()===i.getTime()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(213));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function parse(t,e,r,c){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var d=String(t),h=c||{},m=void 0===h.weekStartsOn?0:Number(h.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=h.locale||i.default,g=y.parsers||{},v=y.units||{};if(!y.match)throw new RangeError("locale must contain match property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var _=String(e).replace(p,(function(t){return"["===t[0]?t:"\\"===t[0]?function cleanEscapedString(t){if(t.match(/\[[\s\S]/))return t.replace(/^\[|]$/g,"");return t.replace(/\\/g,"")}(t):y.formatLong(t)}));if(""===_)return""===d?(0,n.default)(r,h):new Date(NaN);var b=(0,u.default)(h);b.locale=y;var S,x=_.match(y.parsingTokensRegExp||f),w=x.length,E=[{priority:l,set:dateToSystemTimezone,index:0}];for(S=0;S<w;S++){var P=x[S],C=g[P]||a.default[P];if(C){var T;if(!(T=C.match instanceof RegExp?C.match.exec(d):C.match(d,b)))return new Date(NaN);var D=C.unit,M=v[D]||s.default[D];E.push({priority:M.priority,set:M.set,value:C.parse(T,b),index:E.length});var A=T[0];d=d.slice(A.length)}else{var R=x[S].match(/^\[.*]$/)?x[S].replace(/^\[|]$/g,""):x[S];if(0!==d.indexOf(R))return new Date(NaN);d=d.slice(R.length)}}var L=E.map((function(t){return t.priority})).sort((function(t,e){return t-e})).filter((function(t,e,r){return r.indexOf(t)===e})).map((function(t){return E.filter((function(e){return e.priority===t})).reverse()})).map((function(t){return t[0]})),I=(0,n.default)(r,h);if(isNaN(I))return new Date(NaN);var O={date:(0,o.default)(I,I.getTimezoneOffset())},k=L.length;for(S=0;S<k;S++){var F=L[S];O=F.set(O,F.value,b)}return O.date};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(569)),i=_interopRequireDefault(r(311)),a=_interopRequireDefault(r(572)),s=_interopRequireDefault(r(573)),u=_interopRequireDefault(r(314));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=110,c=6e4,p=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,f=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;function dateToSystemTimezone(t){var e=t.date,r=e.getTime(),n=e.getTimezoneOffset();return n=new Date(r+n*c).getTimezoneOffset(),t.date=new Date(r+n*c),t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setHours(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=Number(e);return o.setHours(i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setMinutes(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=Number(e);return o.setMinutes(i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setSeconds(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=Number(e);return o.setSeconds(i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setYear(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r),i=Number(e);if(isNaN(o))return new Date(NaN);return o.setFullYear(i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(32))},function(t,e,r){"use strict";function symbolObservablePonyfill(t){var e,r=t.Symbol;return"function"===typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.d(e,"a",(function(){return symbolObservablePonyfill}))},function(t,e,r){"use strict";e.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=_interopRequireDefault(r(25)),a=r(107),s=r(315),u=_interopRequireDefault(r(316));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function clamp(t,e,r){return Math.min(Math.max(t,e),r)};e.default=function createMemoryHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,r=t.initialEntries,c=void 0===r?["/"]:r,p=t.initialIndex,f=void 0===p?0:p,d=t.keyLength,h=void 0===d?6:d,m=(0,u.default)(),y=function setState(t){o(M,t),M.length=M.entries.length,m.notifyListeners(M.location,M.action)},g=function createKey(){return Math.random().toString(36).substr(2,h)},v=l(f,0,c.length-1),_=c.map((function(t){return"string"===typeof t?(0,s.createLocation)(t,void 0,g()):(0,s.createLocation)(t,void 0,t.key||g())})),b=a.createPath,S=function push(t,r){(0,i.default)(!("object"===("undefined"===typeof t?"undefined":n(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,s.createLocation)(t,r,g(),M.location);m.confirmTransitionTo(o,"PUSH",e,(function(t){if(t){var e=M.index+1,r=M.entries.slice(0);r.length>e?r.splice(e,r.length-e,o):r.push(o),y({action:"PUSH",location:o,index:e,entries:r})}}))},x=function replace(t,r){(0,i.default)(!("object"===("undefined"===typeof t?"undefined":n(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,s.createLocation)(t,r,g(),M.location);m.confirmTransitionTo(o,"REPLACE",e,(function(t){t&&(M.entries[M.index]=o,y({action:"REPLACE",location:o}))}))},w=function go(t){var r=l(M.index+t,0,M.entries.length-1),n=M.entries[r];m.confirmTransitionTo(n,"POP",e,(function(t){t?y({action:"POP",location:n,index:r}):y()}))},E=function goBack(){return w(-1)},P=function goForward(){return w(1)},C=function canGo(t){var e=M.index+t;return e>=0&&e<M.entries.length},T=function block(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(t)},D=function listen(t){return m.appendListener(t)},M={length:_.length,action:"POP",location:_[v],index:v,entries:_,createHref:b,push:S,replace:x,go:w,goBack:E,goForward:P,canGo:C,block:T,listen:D};return M}},function(t,e,r){var n=r(228);t.exports=pathToRegexp,t.exports.parse=parse,t.exports.compile=function compile(t,e){return tokensToFunction(parse(t,e))},t.exports.tokensToFunction=tokensToFunction,t.exports.tokensToRegExp=tokensToRegExp;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(t,e){for(var r,n=[],i=0,a=0,s="",u=e&&e.delimiter||"/";null!=(r=o.exec(t));){var l=r[0],c=r[1],p=r.index;if(s+=t.slice(a,p),a=p+l.length,c)s+=c[1];else{var f=t[a],d=r[2],h=r[3],m=r[4],y=r[5],g=r[6],v=r[7];s&&(n.push(s),s="");var _=null!=d&&null!=f&&f!==d,b="+"===g||"*"===g,S="?"===g||"*"===g,x=r[2]||u,w=m||y;n.push({name:h||i++,prefix:d||"",delimiter:x,optional:S,repeat:b,partial:_,asterisk:!!v,pattern:w?escapeGroup(w):v?".*":"[^"+escapeString(x)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&n.push(s),n}function encodeURIComponentPretty(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,o){for(var i="",a=r||{},s=(o||{}).pretty?encodeURIComponentPretty:encodeURIComponent,u=0;u<t.length;u++){var l=t[u];if("string"!==typeof l){var c,p=a[l.name];if(null==p){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(n(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(c=s(p[f]),!e[u].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===f?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):s(p),!e[u].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function escapeString(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(t,e){return t.keys=e,t}function flags(t){return t.sensitive?"":"i"}function tokensToRegExp(t,e,r){n(e)||(r=e||r,e=[]);for(var o=(r=r||{}).strict,i=!1!==r.end,a="",s=0;s<t.length;s++){var u=t[s];if("string"===typeof u)a+=escapeString(u);else{var l=escapeString(u.prefix),c="(?:"+u.pattern+")";e.push(u),u.repeat&&(c+="(?:"+l+c+")*"),a+=c=u.optional?u.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var p=escapeString(r.delimiter||"/"),f=a.slice(-p.length)===p;return o||(a=(f?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&f?"":"(?="+p+"|$)",attachKeys(new RegExp("^"+a,flags(r)),e)}function pathToRegexp(t,e,r){return n(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function regexpToRegexp(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(t,e)}(t,e):n(t)?function arrayToRegexp(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(pathToRegexp(t[o],e,r).source);return attachKeys(new RegExp("(?:"+n.join("|")+")",flags(r)),e)}(t,e,r):function stringToRegexp(t,e,r){return tokensToRegExp(parse(t,r),e,r)}(t,e,r)}},function(t,e,r){t.exports=function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function hoistNonReactStatics(u,l,c){if("string"!==typeof l){if(s){var p=a(l);p&&p!==s&&hoistNonReactStatics(u,p,c)}var f=n(l);o&&(f=f.concat(o(l)));for(var d=0;d<f.length;++d){var h=f[d];if(!t[h]&&!e[h]&&(!c||!c[h])){var m=i(l,h);try{r(u,h,m)}catch(y){}}}return u}return u}}()},function(t,e,r){var n;t.exports=(n=r(0),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(r,i,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.conformToMask=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l=function(){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=a(2);Object.defineProperty(i,"conformToMask",{enumerable:!0,get:function get(){return n(c).default}});var p=n(a(11)),f=n(a(9)),d=n(a(5)),h=function(e){function t(){var e;!function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var s=function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return s.onBlur=s.onBlur.bind(s),s.onChange=s.onChange.bind(s),s}return function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,e),l(t,[{key:"initTextMask",value:function value(){var t=this.props,e=this.props.value;this.textMaskInputElement=(0,d.default)(s({inputElement:this.inputElement},t)),this.textMaskInputElement.update(e)}},{key:"componentDidMount",value:function value(){this.initTextMask()}},{key:"componentDidUpdate",value:function value(){this.initTextMask()}},{key:"render",value:function e(){var t=this,r=this.props,e=r.render,n=function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(r,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,e((function i(e){return t.inputElement=e}),s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function value(t){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(t)}},{key:"onBlur",value:function value(t){"function"==typeof this.props.onBlur&&this.props.onBlur(t)}}]),t}(p.default.Component);i.default=h,h.propTypes={mask:f.default.oneOfType([f.default.array,f.default.func,f.default.bool,f.default.shape({mask:f.default.oneOfType([f.default.array,f.default.func]),pipe:f.default.func})]).isRequired,guide:f.default.bool,value:f.default.oneOfType([f.default.string,f.default.number]),pipe:f.default.func,placeholderChar:f.default.string,keepCharPositions:f.default.bool,showMask:f.default.bool},h.defaultProps={render:function render(t,e){return p.default.createElement("input",s({ref:t},e))}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholderChar="_",e.strFunction="function"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(e)){if(("undefined"==typeof e?"undefined":o(e))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");e=e(t,r),e=(0,i.processCaretTraps)(e).maskWithoutCaretTraps}var n=r.guide,l=void 0===n||n,c=r.previousConformedValue,p=void 0===c?u:c,f=r.placeholderChar,d=void 0===f?a.placeholderChar:f,h=r.placeholder,m=void 0===h?(0,i.convertMaskToPlaceholder)(e,d):h,y=r.currentCaretPosition,g=r.keepCharPositions,v=!1===l&&void 0!==p,_=t.length,b=p.length,S=m.length,x=e.length,w=_-b,E=w>0,P=y+(E?-w:0),C=P+Math.abs(w);if(!0===g&&!E){for(var T=u,D=P;D<C;D++)m[D]===d&&(T+=d);t=t.slice(0,P)+T+t.slice(P,_)}for(var M=t.split(u).map((function(t,e){return{char:t,isNew:e>=P&&e<C}})),A=_-1;A>=0;A--){var R=M[A].char;R!==d&&R===m[A>=P&&b===x?A-w:A]&&M.splice(A,1)}var L=u,I=!1;t:for(var O=0;O<S;O++){var k=m[O];if(k===d){if(M.length>0)for(;M.length>0;){var F=M.shift(),N=F.char,B=F.isNew;if(N===d&&!0!==v){L+=d;continue t}if(e[O].test(N)){if(!0===g&&!1!==B&&p!==u&&!1!==l&&E){for(var U=M.length,z=null,j=0;j<U;j++){var G=M[j];if(G.char!==d&&!1===G.isNew)break;if(G.char===d){z=j;break}}null!==z?(L+=N,M.splice(z,1)):O--}else L+=N;continue t}I=!0}!1===v&&(L+=m.substr(O,S));break}L+=k}if(v&&!1===E){for(var V=null,W=0;W<L.length;W++)m[W]===d&&(V=W);L=null!==V?L.substr(0,V+1):u}return{conformedValue:L,meta:{someCharsRejected:I}}};var i=r(3),a=r(1),s=[],u=""},function(t,e,r){"use strict";function o(t){return Array.isArray&&Array.isArray(t)||t instanceof Array}Object.defineProperty(e,"__esModule",{value:!0}),e.convertMaskToPlaceholder=function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(t))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==t.indexOf(e))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(e)+"\n\nThe mask that was received is: "+JSON.stringify(t));return t.map((function(t){return t instanceof RegExp?e:t})).join("")},e.isArray=o,e.isString=function i(t){return"string"==typeof t||t instanceof String},e.isNumber=function a(t){return"number"==typeof t&&void 0===t.length&&!isNaN(t)},e.processCaretTraps=function u(t){for(var e=[],r=void 0;-1!==(r=t.indexOf(c));)e.push(r),t.splice(r,1);return{maskWithoutCaretTraps:t,indexes:e}};var s=r(1),l=[],c="[]"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function r(t){var e=t.previousConformedValue,r=void 0===e?o:e,i=t.previousPlaceholder,a=void 0===i?o:i,s=t.currentCaretPosition,u=void 0===s?0:s,l=t.conformedValue,c=t.rawValue,p=t.placeholderChar,f=t.placeholder,d=t.indexesOfPipedChars,h=void 0===d?n:d,m=t.caretTrapIndexes,y=void 0===m?n:m;if(0===u||!c.length)return 0;var g=c.length,v=r.length,_=f.length,b=l.length,S=g-v,x=S>0;if(S>1&&!x&&0!==v)return u;var w=0,E=void 0,P=void 0;if(!x||r!==l&&l!==f){var C=l.toLowerCase(),T=c.toLowerCase().substr(0,u).split(o).filter((function(t){return-1!==C.indexOf(t)}));P=T[T.length-1];var D=a.substr(0,T.length).split(o).filter((function(t){return t!==p})).length,M=f.substr(0,T.length).split(o).filter((function(t){return t!==p})).length!==D,A=void 0!==a[T.length-1]&&void 0!==f[T.length-2]&&a[T.length-1]!==p&&a[T.length-1]!==f[T.length-1]&&a[T.length-1]===f[T.length-2];!x&&(M||A)&&D>0&&f.indexOf(P)>-1&&void 0!==c[u]&&(E=!0,P=c[u]);for(var R=h.map((function(t){return C[t]})).filter((function(t){return t===P})).length,L=T.filter((function(t){return t===P})).length,I=f.substr(0,f.indexOf(p)).split(o).filter((function(t,e){return t===P&&c[e]!==t})).length+L+R+(E?1:0),O=0,k=0;k<b&&(w=k+1,C[k]===P&&O++,!(O>=I));k++);}else w=u-S;if(x){for(var F=w,N=w;N<=_;N++)if(f[N]===p&&(F=N),f[N]===p||-1!==y.indexOf(N)||N===_)return F}else if(E){for(var B=w-1;B>=0;B--)if(l[B]===P||-1!==y.indexOf(B)||0===B)return B}else for(var U=w;U>=0;U--)if(f[U-1]===p||-1!==y.indexOf(U)||0===U)return U};var n=[],o=""},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){document.activeElement===t&&(y?g((function(){return t.setSelectionRange(e,e,h)}),0):t.setSelectionRange(e,e,h))}function a(t){if((0,p.isString)(t))return t;if((0,p.isNumber)(t))return String(t);if(void 0===t||null===t)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(t))}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function o(t){var e={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:e,update:function update(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,o=n.inputElement,h=n.mask,y=n.guide,g=n.pipe,v=n.placeholderChar,_=void 0===v?f.placeholderChar:v,b=n.keepCharPositions,S=void 0!==b&&b,x=n.showMask,w=void 0!==x&&x;if("undefined"==typeof r&&(r=o.value),r!==e.previousConformedValue){("undefined"==typeof h?"undefined":u(h))===m&&void 0!==h.pipe&&void 0!==h.mask&&(g=h.pipe,h=h.mask);var E=void 0,P=void 0;if(h instanceof Array&&(E=(0,p.convertMaskToPlaceholder)(h,_)),!1!==h){var C=a(r),T=o.selectionEnd,D=e.previousConformedValue,M=e.previousPlaceholder,A=void 0;if(("undefined"==typeof h?"undefined":u(h))===f.strFunction){if(!1===(P=h(C,{currentCaretPosition:T,previousConformedValue:D,placeholderChar:_})))return;var R=(0,p.processCaretTraps)(P),L=R.maskWithoutCaretTraps,I=R.indexes;P=L,A=I,E=(0,p.convertMaskToPlaceholder)(P,_)}else P=h;var O={previousConformedValue:D,guide:y,placeholderChar:_,pipe:g,placeholder:E,currentCaretPosition:T,keepCharPositions:S},k=(0,c.default)(C,P,O),F=k.conformedValue,N=("undefined"==typeof g?"undefined":u(g))===f.strFunction,B={};N&&(!1===(B=g(F,s({rawValue:C},O)))?B={value:D,rejected:!0}:(0,p.isString)(B)&&(B={value:B}));var U=N?B.value:F,z=(0,l.default)({previousConformedValue:D,previousPlaceholder:M,conformedValue:U,placeholder:E,rawValue:C,currentCaretPosition:T,placeholderChar:_,indexesOfPipedChars:B.indexesOfPipedChars,caretTrapIndexes:A}),j=U===E&&0===z,G=w?E:d,V=j?G:U;e.previousConformedValue=V,e.previousPlaceholder=E,o.value!==V&&(o.value=V,i(o,z))}}}}};var l=n(r(4)),c=n(r(2)),p=r(3),f=r(1),d="",h="none",m="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(t,e){"use strict";function r(t){return function(){return t}}var n=function n(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,r){"use strict";var o=function o(t){};t.exports=function n(t,e,r,i,a,s,u,l){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,i,a,s,u,l],f=0;(c=new Error(e.replace(/%s/g,(function(){return p[f++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(r,n,o){"use strict";var i=o(6),a=o(7),s=o(10);r.exports=function(){function e(t,e,r,n,o,i){i!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=i,r.PropTypes=r,r}},function(t,e,r){"use strict";"function"==typeof Symbol&&Symbol.iterator,t.exports=r(8)()},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=n}]))},function(t,e,r){t.exports=r(886)},function(t,e,r){"use strict";e.a=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,r){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return e.reduce((function(t,e){return e.apply(void 0,[t,r].concat(o))}),t)}}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M8 5v14l11-7z"})),"PlayArrow");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})),"Pause");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),"Edit");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),"Save");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})),"Share");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),"Settings");e.default=i},function(t,e){function LinearLayoutVector(t){void 0===t&&(t=128);var e=Math.log(t)/Math.log(2)|0,r=Math.pow(2,e),n=r-1;this.block_size=r,this.block_shift=e,this.block_mask=n,this.block_table=[],this._defaultSize=0,this._axisOffset=0,this._gap=0,this.removes=null,this.inserts=null,this._length=0,this._pendingLength=-1}function isIntervalClear(t,e,r){var n,o=t.sizes;for(r+=e;e<r;++e)if((n=o[e])===n)return!1;return!0}function inBlockCopy(t,e,r,n,o){for(var i=e<n,a=i?n:n+o-1,s=i?e:e+o-1,u=i?1:-1,l=t.sizes,c=r?r.sizes:null,p=NaN,f=NaN,d=0,h=0;o>0;)c&&(f=c[a]),f!==(p=l[s])&&(p!==p?h--:d-=p,f!==f?h++:d+=f,l[s]=f),a+=u,s+=u,o--;t.sizesSum+=d,t.defaultCount+=h}function copyInterval(t,e,r){var n=t<e;for(n||(t+=r-1,e+=r-1);r>0;){var o=t>>this.block_shift,i=t&this.block_mask,a=this.block_table[o],s=e>>this.block_shift,u=e&this.block_mask,l=this.block_table[s],c=n?Math.min(this.block_size-i,this.block_size-u):1+Math.min(i,u);c=Math.min(c,r);var p=n?i:i-c+1,f=n?u:u-c+1;if(l&&!a&&isIntervalClear(l,f,c)&&(a=new Block(this.block_size),this.block_table[o]=a),a)if(inBlockCopy(a,p,l,f,c),a.defaultCount===this.block_size)((n?p+c===this.block_size:0===p)||r===c)&&(this.block_table[o]=null);t+=n?c:-c,e+=n?c:-c,r-=c}}function clearInterval(t,e){for(;t<=e;){var r=t>>this.block_shift,n=t&this.block_mask,o=this.block_table[r],i=this.block_size-n;i=Math.min(i,e-t+1),o&&(i===this.block_size?this.block_table[r]=null:(inBlockCopy(o,n,null,0,i),o.defaultCount===this.block_size&&(this.block_table[r]=null))),t+=i}}function removeIntervals(t){var e=t.length;if(0!==e){t.reverse(),t.push(this.getLength());var r,n,o=t[0],i=0;do{var a=t[i+1],s=t[i+2];i+=2,n=s-(r=a+1),copyInterval.call(this,o,r,n),o+=n}while(i<e);this.setLength(o)}}function insertIntervals(t,e){var r=t.length;if(0!==r){var n=this.getLength();this.setLength(e);for(var o=n-1,i=e-1,a=r-2;a>=0;){var s=t[a],u=t[a+1];a-=2;var l=u+1,c=i-l+1,p=o-c+1;copyInterval.call(this,l,p,c),l-=c,i=s-1,clearInterval.call(this,s,u)}}}function flushPendingChanges(){var t;if(this.removes)t=this.removes,this.removes=null,this._pendingLength=-1,removeIntervals.call(this,t);else if(this.inserts){t=this.inserts;var e=this._pendingLength;this.inserts=null,this._pendingLength=-1,insertIntervals.call(this,t,e)}}function indexOfInternal(t){if(0===this._length||t<0)return-1;var e=this.getAxisOffset();if(t<e)return 0;for(var r=-1,n=null,o=this.block_size,i=this._defaultSize,a=this.getGap(),s=a*o,u=-1,l=this.block_table,c=l.length;++u<c;){var p=s+((n=l[u])?n.sizesSum+n.defaultCount*i:o*i);if(t===e||t>=e&&t<e+p){r=u<<this.block_shift;break}e+=p}if(-1===r||t===e)return r;if(n){for(var f=n.sizes,d=this.block_size-1,h=0;h<d;h++){var m=f[h];if((e+=a+(m!==m?this._defaultSize:m))>t)return r+h}return r+this.block_size-1}return r+Math.floor(Number(t-e)/Number(this._defaultSize+a))}function Block(t){this.sizes=new Array(t),this.sizesSum=0,this.defaultCount=t;for(var e=-1;++e<t;)this.sizes[e]=NaN}t.exports=LinearLayoutVector,LinearLayoutVector.prototype.getLength=function getLength(){return-1===this._pendingLength?this._length:this._pendingLength},LinearLayoutVector.prototype.setLength=function setLength(t){if(flushPendingChanges.call(this),t<this._length){var e=t>>this.block_shift,r=Math.min(e*this.block_size+this.block_size,this._length)-1;clearInterval.call(this,t,r)}this._length=t;var n=0===(this._length&this.block_mask)?0:1;this.block_table.length=(this._length>>this.block_shift)+n},LinearLayoutVector.prototype.getDefaultSize=function getDefaultSize(){return this._defaultSize},LinearLayoutVector.prototype.setDefaultSize=function setDefaultSize(t){this._defaultSize=t},LinearLayoutVector.prototype.getAxisOffset=function getAxisOffset(){return this._axisOffset},LinearLayoutVector.prototype.setAxisOffset=function setAxisOffset(t){this._axisOffset=t},LinearLayoutVector.prototype.getGap=function getGap(){return this._gap},LinearLayoutVector.prototype.setGap=function setGap(t){this._gap=t},LinearLayoutVector.prototype.getItemSize=function getItemSize(t){flushPendingChanges.call(this);var e=this.block_table[t>>this.block_shift];if(e){var r=e.sizes[t&this.block_mask];return r!==r?this._defaultSize:r}return this._defaultSize},LinearLayoutVector.prototype.setItemSize=function setItemSize(t,e){if(flushPendingChanges.call(this),t>=this.getLength())throw new Error("Invalid index and all that.");var r=t>>this.block_shift,n=this.block_table[r];n||(n=this.block_table[r]=new Block(this.block_size));var o=t&this.block_mask,i=n.sizes,a=i[o];if(a===e)return;a!==a?(n.defaultCount-=1,n.sizesSum+=e):e!==e?(n.defaultCount+=1,n.sizesSum-=a):n.sizesSum+=e-a;i[o]=e},LinearLayoutVector.prototype.insert=function insert(t){this.removes&&flushPendingChanges.call(this);if(this.inserts){var e=this.inserts.length-1,r=this.inserts[e];t===r+1?this.inserts[e]=t:t>r?(this.inserts.push(t),this.inserts.push(t)):flushPendingChanges.call(this)}this._pendingLength=Math.max(this._length,t+1),this.inserts||(this.inserts=[],this.inserts.push(t),this.inserts.push(t))},LinearLayoutVector.prototype.remove=function remove(t){this.inserts&&flushPendingChanges.call(this);if(t>=this.getLength())throw new Error("Invalid index and all that.");if(this.removes){var e=this.removes.length-1,r=this.removes[e];t===r-1?this.removes[e]=t:t<r?(this.removes.push(t),this.removes.push(t)):flushPendingChanges.call(this)}this._pendingLength=-1===this._pendingLength?length-1:this._pendingLength-1,this.removes||(this.removes=[],this.removes.push(t),this.removes.push(t))},LinearLayoutVector.prototype.start=function start(t){if(flushPendingChanges.call(this),0===this._length||0===t)return this.getAxisOffset();if(t>=this._length)throw new Error("Invalid index and all that.");for(var e=this.getAxisOffset(),r=t>>this.block_shift,n=0;n<r;n++){var o=this.block_table[n];e+=o?o.sizesSum+o.defaultCount*this._defaultSize:this.block_size*this._defaultSize}var i=this.block_table[r],a=t&~this.block_mask,s=t-a;if(i){var u=i.sizes;for(n=0;n<s;n++){var l=u[n];e+=l!==l?this._defaultSize:l}}else e+=this._defaultSize*s;return e+=t*this.getGap()},LinearLayoutVector.prototype.end=function end(t){return flushPendingChanges.call(this),this.start(t)+this.getItemSize(t)},LinearLayoutVector.prototype.indexOf=function indexOf(t){flushPendingChanges.call(this);var e=indexOfInternal.call(this,t);return e>=this._length?-1:e},LinearLayoutVector.prototype.clear=function clear(){this.removes=null,this.inserts=null,this._pendingLength=-1,this.setLength(0)},LinearLayoutVector.prototype.toString=function toString(){return"LinearLayoutVector { length: "+this._length+", size: "+this.end(this.getLength()-1)+", [blocks: "+this.block_table.length+"], gap: "+this._gap+", defaultSize: "+this._defaultSize+", pendingRemoves: "+(this.removes?this.removes.length:0)+", pendingInserts: "+(this.inserts?this.inserts.length:0)+" }"}},function(t,e,r){t.exports={default:r(957),__esModule:!0}},function(t,e,r){"use strict";function areInputsEqual(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}e.a=function memoizeOne(t,e){var r;void 0===e&&(e=areInputsEqual);var n,o=[],i=!1;return function memoized(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&e(a,o)?n:(n=t.apply(this,a),i=!0,r=this,o=a,n)}}},function(t,e){t.exports=function cross(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}},function(t,e,r){t.exports=function angle(t,e){var r=n(t[0],t[1],t[2]),a=n(e[0],e[1],e[2]);o(r,r),o(a,a);var s=i(r,a);return s>1?0:Math.acos(s)};var n=r(963),o=r(385),i=r(386)},function(t,e){t.exports=function rotateX(t,e,r,n){var o=r[1],i=r[2],a=e[1]-o,s=e[2]-i,u=Math.sin(n),l=Math.cos(n);return t[0]=e[0],t[1]=o+a*l-s*u,t[2]=i+a*u+s*l,t}},function(t,e){t.exports=function rotateY(t,e,r,n){var o=r[0],i=r[2],a=e[0]-o,s=e[2]-i,u=Math.sin(n),l=Math.cos(n);return t[0]=o+s*u+a*l,t[1]=e[1],t[2]=i+s*l-a*u,t}},function(t,e){t.exports=function rotateZ(t,e,r,n){var o=r[0],i=r[1],a=e[0]-o,s=e[1]-i,u=Math.sin(n),l=Math.cos(n);return t[0]=o+a*l-s*u,t[1]=i+a*u+s*l,t[2]=e[2],t}},function(t,e){t.exports=function determinant(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],p=t[10],f=t[11],d=t[12],h=t[13],m=t[14],y=t[15];return(e*a-r*i)*(p*y-f*m)-(e*s-n*i)*(c*y-f*h)+(e*u-o*i)*(c*m-p*h)+(r*s-n*a)*(l*y-f*d)-(r*u-o*a)*(l*m-p*d)+(n*u-o*s)*(l*h-c*d)}},function(t,e){t.exports=function fromQuat(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,s=n+n,u=o+o,l=r*a,c=n*a,p=n*s,f=o*a,d=o*s,h=o*u,m=i*a,y=i*s,g=i*u;return t[0]=1-p-h,t[1]=c+g,t[2]=f-y,t[3]=0,t[4]=c-g,t[5]=1-l-h,t[6]=d+m,t[7]=0,t[8]=f+y,t[9]=d-m,t[10]=1-l-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function frustum(t,e,r,n,o,i,a){var s=1/(r-e),u=1/(o-n),l=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(o+n)*u,t[10]=(a+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*l,t[15]=0,t}},function(t,e,r){var n=r(964);t.exports=function lookAt(t,e,r,o){var i,a,s,u,l,c,p,f,d,h,m=e[0],y=e[1],g=e[2],v=o[0],_=o[1],b=o[2],S=r[0],x=r[1],w=r[2];if(Math.abs(m-S)<1e-6&&Math.abs(y-x)<1e-6&&Math.abs(g-w)<1e-6)return n(t);p=m-S,f=y-x,d=g-w,h=1/Math.sqrt(p*p+f*f+d*d),i=_*(d*=h)-b*(f*=h),a=b*(p*=h)-v*d,s=v*f-_*p,(h=Math.sqrt(i*i+a*a+s*s))?(i*=h=1/h,a*=h,s*=h):(i=0,a=0,s=0);u=f*s-d*a,l=d*i-p*s,c=p*a-f*i,(h=Math.sqrt(u*u+l*l+c*c))?(u*=h=1/h,l*=h,c*=h):(u=0,l=0,c=0);return t[0]=i,t[1]=u,t[2]=p,t[3]=0,t[4]=a,t[5]=l,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*m+a*y+s*g),t[13]=-(u*m+l*y+c*g),t[14]=-(p*m+f*y+d*g),t[15]=1,t}},function(t,e){t.exports=function ortho(t,e,r,n,o,i,a){var s=1/(e-r),u=1/(n-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(o+n)*u,t[14]=(a+i)*l,t[15]=1,t}},function(t,e){t.exports=function transpose(t,e){if(t===e){var r=e[1],n=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function rotate(t,e,r,n){var o,i,a,s,u,l,c,p,f,d,h,m,y,g,v,_,b,S,x,w,E,P,C,T,D=n[0],M=n[1],A=n[2],R=Math.sqrt(D*D+M*M+A*A);if(Math.abs(R)<1e-6)return null;D*=R=1/R,M*=R,A*=R,o=Math.sin(r),i=Math.cos(r),a=1-i,s=e[0],u=e[1],l=e[2],c=e[3],p=e[4],f=e[5],d=e[6],h=e[7],m=e[8],y=e[9],g=e[10],v=e[11],_=D*D*a+i,b=M*D*a+A*o,S=A*D*a-M*o,x=D*M*a-A*o,w=M*M*a+i,E=A*M*a+D*o,P=D*A*a+M*o,C=M*A*a-D*o,T=A*A*a+i,t[0]=s*_+p*b+m*S,t[1]=u*_+f*b+y*S,t[2]=l*_+d*b+g*S,t[3]=c*_+h*b+v*S,t[4]=s*x+p*w+m*E,t[5]=u*x+f*w+y*E,t[6]=l*x+d*w+g*E,t[7]=c*x+h*w+v*E,t[8]=s*P+p*C+m*T,t[9]=u*P+f*C+y*T,t[10]=l*P+d*C+g*T,t[11]=c*P+h*C+v*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function transformMat4(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t}},function(t,e){t.exports=function transformMat4(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,t}},function(t,e){t.exports=function rotateY(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],p=e[10],f=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*o-l*n,t[1]=a*o-c*n,t[2]=s*o-p*n,t[3]=u*o-f*n,t[8]=i*n+l*o,t[9]=a*n+c*o,t[10]=s*n+p*o,t[11]=u*n+f*o,t}},function(t,e){t.exports=function fromMat3(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*r,r=.5/r,t[3]=(e[3*i+a]-e[3*a+i])*r,t[i]=(e[3*i+o]+e[3*o+i])*r,t[a]=(e[3*a+o]+e[3*o+a])*r}return t}},function(t,e){t.exports=function identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e,r){t.exports=r(965)},function(t,e,r){t.exports=r(966)},function(t,e,r){t.exports=r(967)},function(t,e,r){var n=r(386),o=r(287),i=r(288),a=r(385),s=r(289),u=r(290);t.exports=function rotationTo(t,e,r){var f=n(e,r);return f<-.999999?(o(l,c,e),i(l)<1e-6&&o(l,p,e),a(l,l),u(t,l,Math.PI),t):f>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o(l,e,r),t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=1+f,s(t,t))};var l=[0,0,0],c=[1,0,0],p=[0,1,0]},function(t,e,r){t.exports=r(969)},function(t,e){t.exports=function calculateW(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t}},function(t,e){t.exports=function conjugate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}},function(t,e){t.exports=function invert(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*r+n*n+o*o+i*i,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-o*s,t[3]=i*s,t}},function(t,e,r){t.exports=r(970)},function(t,e){t.exports=function multiply(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*c+a*s+o*l-i*u,t[1]=o*c+a*u+i*s-n*l,t[2]=i*c+a*l+n*u-o*s,t[3]=a*c-n*s-o*u-i*l,t}},function(t,e){t.exports=function rotateX(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=o*u+i*s,t[2]=i*u-o*s,t[3]=a*u-n*s,t}},function(t,e){t.exports=function rotateY(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-i*s,t[1]=o*u+a*s,t[2]=i*u+n*s,t[3]=a*u-o*s,t}},function(t,e){t.exports=function rotateZ(t,e,r){r*=.5;var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=o*u-n*s,t[2]=i*u+a*s,t[3]=a*u-i*s,t}},function(t,e,r){t.exports=r(291)},function(t,e,r){t.exports=r(971)},function(t,e){t.exports=function slerp(t,e,r,n){var o,i,a,s,u,l=e[0],c=e[1],p=e[2],f=e[3],d=r[0],h=r[1],m=r[2],y=r[3];(i=l*d+c*h+p*m+f*y)<0&&(i=-i,d=-d,h=-h,m=-m,y=-y);1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-n)*o)/a,u=Math.sin(n*o)/a):(s=1-n,u=n);return t[0]=s*l+u*d,t[1]=s*c+u*h,t[2]=s*p+u*m,t[3]=s*f+u*y,t}},function(t,e){t.exports=function lerp(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t}},function(t,e){t.exports=function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e,r){"use strict";(function(t){var n=r(482),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=!("object"===("undefined"===typeof t?"undefined":o(t))&&"[object process]"===String(t)&&!t.browser)||n.a;e.a=i}).call(this,r(114))},function(t,e,r){"use strict";(function(t){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function isElectron(){return"undefined"!==typeof window&&"object"===r(window.process)&&"renderer"===window.process.type||(!("undefined"===typeof t||"object"!==r(t.versions)||!Boolean(t.versions.electron))||"object"===("undefined"===typeof navigator?"undefined":r(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}()}).call(this,r(114))},function(t,e,r){"use strict";(function(t){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function isElectron(){return"undefined"!==typeof window&&"object"===r(window.process)&&"renderer"===window.process.type||(!("undefined"===typeof t||"object"!==r(t.versions)||!Boolean(t.versions.electron))||"object"===("undefined"===typeof navigator?"undefined":r(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}()}).call(this,r(114))},function(t,e,r){var n;!function(o){"use strict";var i,a,s,u=9e15,l=1e9,c="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,m="[DecimalError] ",y=m+"Invalid argument: ",g=m+"Precision limit exceeded",v=m+"crypto unavailable",_=Math.floor,b=Math.pow,S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,x=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,w=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,E=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,P=1e7,C=7,T=p.length-1,D=f.length-1,M={name:"[object Decimal]"};function digitsToString(t){var e,r,n,o=t.length-1,i="",a=t[0];if(o>0){for(i+=a,e=1;e<o;e++)n=t[e]+"",(r=C-n.length)&&(i+=getZeroString(r)),i+=n;a=t[e],(r=C-(n=a+"").length)&&(i+=getZeroString(r))}else if(0===a)return"0";for(;a%10===0;)a/=10;return i+a}function checkInt32(t,e,r){if(t!==~~t||t<e||t>r)throw Error(y+t)}function checkRoundingDigits(t,e,r,n){var o,i,a,s;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=C,o=0):(o=Math.ceil((e+1)/C),e%=C),i=b(10,C-e),s=t[o]%i|0,null==n?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==i||r>3&&s+1==i/2)&&(t[o+1]/i/100|0)==b(10,e-2)-1||(s==i/2||0==s)&&0==(t[o+1]/i/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(t[o+1]/i/1e3|0)==b(10,e-3)-1,a}function convertBase(t,e,r){for(var n,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=c.indexOf(t.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(void 0===i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),finalise(t)},M.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(t){var e,r,n,o,i=this,a=i.d,s=(t=new i.constructor(t)).d,u=i.s,l=t.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(i.e!==t.e)return i.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(o=s.length)?n:o;e<r;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return n===o?0:n>o^u<0?1:-1},M.cosine=M.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+C,n.rounding=1,r=function cosine(t,e){var r,n,o=e.d.length;o<32?(r=Math.ceil(o/3),n=(1/tinyPow(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=taylorSeries(t,1,e.times(n),new t(1));for(var i=r;i--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}(n,toLessThanHalfPi(n,r)),n.precision=t,n.rounding=e,finalise(2==s||3==s?r.neg():r,t,e,!0)):new n(1):new n(NaN)},M.cubeRoot=M.cbrt=function(){var t,e,r,n,o,i,a,s,u,l,c=this,p=c.constructor;if(!c.isFinite()||c.isZero())return new p(c);for(h=!1,(i=c.s*b(c.s*c,1/3))&&Math.abs(i)!=1/0?n=new p(i.toString()):(r=digitsToString(c.d),(i=((t=c.e)-r.length+1)%3)&&(r+=1==i||-2==i?"0":"00"),i=b(r,1/3),t=_((t+1)/3)-(t%3==(t<0?-1:2)),(n=new p(r=i==1/0?"5e"+t:(r=i.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=p.precision)+3;;)if(l=(u=(s=n).times(s).times(s)).plus(c),n=A(l.plus(c).times(s),l.plus(u),a+2,1),digitsToString(s.d).slice(0,a)===(r=digitsToString(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(o||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(finalise(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!o&&(finalise(s,t+1,0),s.times(s).times(s).eq(c))){n=s;break}a+=4,o=1}return h=!0,finalise(n,t,p.rounding,e)},M.decimalPlaces=M.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=((t=e.length-1)-_(this.e/C))*C,t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},M.dividedBy=M.div=function(t){return A(this,new this.constructor(t))},M.dividedToIntegerBy=M.divToInt=function(t){var e=this.constructor;return finalise(A(this,new e(t),0,1,1),e.precision,e.rounding)},M.equals=M.eq=function(t){return 0===this.cmp(t)},M.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(t){return this.cmp(t)>0},M.greaterThanOrEqualTo=M.gte=function(t){var e=this.cmp(t);return 1==e||0===e},M.hyperbolicCosine=M.cosh=function(){var t,e,r,n,o,i=this,a=i.constructor,s=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(i.e,i.sd())+4,a.rounding=1,(o=i.d.length)<32?e=(1/tinyPow(4,t=Math.ceil(o/3))).toString():(t=16,e="2.3283064365386962890625e-10"),i=taylorSeries(a,1,i.times(e),new a(1),!0);for(var u,l=t,c=new a(8);l--;)u=i.times(i),i=s.minus(u.times(c.minus(u.times(c))));return finalise(i,a.precision=r,a.rounding=n,!0)},M.hyperbolicSine=M.sinh=function(){var t,e,r,n,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(e=i.precision,r=i.rounding,i.precision=e+Math.max(o.e,o.sd())+4,i.rounding=1,(n=o.d.length)<3)o=taylorSeries(i,2,o,o,!0);else{t=(t=1.4*Math.sqrt(n))>16?16:0|t,o=taylorSeries(i,2,o=o.times(1/tinyPow(5,t)),o,!0);for(var a,s=new i(5),u=new i(16),l=new i(20);t--;)a=o.times(o),o=o.times(s.plus(a.times(u.times(a).plus(l))))}return i.precision=e,i.rounding=r,finalise(o,e,r,!0)},M.hyperbolicTangent=M.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,A(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},M.inverseCosine=M.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),o=r.precision,i=r.rounding;return-1!==n?0===n?e.isNeg()?getPi(r,o,i):new r(0):new r(NaN):e.isZero()?getPi(r,o+4,i).times(.5):(r.precision=o+6,r.rounding=1,e=e.asin(),t=getPi(r,o+4,i).times(.5),r.precision=o,r.rounding=i,t.minus(e))},M.inverseHyperbolicCosine=M.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,h=!1,r=r.times(r).minus(1).sqrt().plus(r),h=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},M.inverseHyperbolicSine=M.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,h=!1,r=r.times(r).plus(1).sqrt().plus(r),h=!0,n.precision=t,n.rounding=e,r.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var t,e,r,n,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(t=i.precision,e=i.rounding,n=o.sd(),Math.max(n,t)<2*-o.e-1?finalise(new i(o),t,e,!0):(i.precision=r=n-o.e,o=A(o.plus(1),new i(1).minus(o),r+t,1),i.precision=t+4,i.rounding=1,o=o.ln(),i.precision=t,i.rounding=e,o.times(.5))):new i(NaN)},M.inverseSine=M.asin=function(){var t,e,r,n,o=this,i=o.constructor;return o.isZero()?new i(o):(e=o.abs().cmp(1),r=i.precision,n=i.rounding,-1!==e?0===e?((t=getPi(i,r+4,n).times(.5)).s=o.s,t):new i(NaN):(i.precision=r+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,o.times(2)))},M.inverseTangent=M.atan=function(){var t,e,r,n,o,i,a,s,u,l=this,c=l.constructor,p=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&p+4<=D)return(a=getPi(c,p+4,f).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(p+4<=D)return(a=getPi(c,p+4,f).times(.5)).s=l.s,a}for(c.precision=s=p+10,c.rounding=1,t=r=Math.min(28,s/C+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(s/C),n=1,u=l.times(l),a=new c(l),o=l;-1!==t;)if(o=o.times(u),i=a.minus(o.div(n+=2)),o=o.times(u),void 0!==(a=i.plus(o.div(n+=2))).d[e])for(t=e;a.d[t]===i.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),h=!0,finalise(a,c.precision=p,c.rounding=f,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&_(this.e/C)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(t){return this.cmp(t)<0},M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1},M.logarithm=M.log=function(t){var e,r,n,o,i,a,s,u,l=this.constructor,c=l.precision,p=l.rounding;if(null==t)t=new l(10),e=!0;else{if(r=(t=new l(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(e)if(r.length>1)i=!0;else{for(o=r[0];o%10===0;)o/=10;i=1!==o}if(h=!1,a=naturalLogarithm(this,s=c+5),n=e?getLn10(l,s+10):naturalLogarithm(t,s),checkRoundingDigits((u=A(a,n,s,1)).d,o=c,p))do{if(a=naturalLogarithm(this,s+=10),n=e?getLn10(l,s+10):naturalLogarithm(t,s),u=A(a,n,s,1),!i){+digitsToString(u.d).slice(o+1,o+15)+1==1e14&&(u=finalise(u,c+1,0));break}}while(checkRoundingDigits(u.d,o+=10,p));return h=!0,finalise(u,c,p)},M.minus=M.sub=function(t){var e,r,n,o,i,a,s,u,l,c,p,f,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN):t=new m(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(l=d.d,f=t.d,s=m.precision,u=m.rounding,!l[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!l[0])return new m(3===u?-0:0);t=new m(d)}return h?finalise(t,s,u):t}if(r=_(t.e/C),c=_(d.e/C),l=l.slice(),i=c-r){for((p=i<0)?(e=l,i=-i,a=f.length):(e=f,r=c,a=l.length),i>(n=Math.max(Math.ceil(s/C),a)+2)&&(i=n,e.length=1),e.reverse(),n=i;n--;)e.push(0);e.reverse()}else{for((p=(n=l.length)<(a=f.length))&&(a=n),n=0;n<a;n++)if(l[n]!=f[n]){p=l[n]<f[n];break}i=0}for(p&&(e=l,l=f,f=e,t.s=-t.s),a=l.length,n=f.length-a;n>0;--n)l[a++]=0;for(n=f.length;n>i;){if(l[--n]<f[n]){for(o=n;o&&0===l[--o];)l[o]=P-1;--l[o],l[n]+=P}l[n]-=f[n]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=getBase10Exponent(l,r),h?finalise(t,s,u):t):new m(3===u?-0:0)},M.modulo=M.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?finalise(new n(r),n.precision,n.rounding):(h=!1,9==n.modulo?(e=A(r,t.abs(),0,3,1)).s*=t.s:e=A(r,t,0,n.modulo,1),e=e.times(t),h=!0,r.minus(e))},M.naturalExponential=M.exp=function(){return naturalExponential(this)},M.naturalLogarithm=M.ln=function(){return naturalLogarithm(this)},M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s,finalise(t)},M.plus=M.add=function(t){var e,r,n,o,i,a,s,u,l,c,p=this,f=p.constructor;if(t=new f(t),!p.d||!t.d)return p.s&&t.s?p.d||(t=new f(t.d||p.s===t.s?p:NaN)):t=new f(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.minus(t);if(l=p.d,c=t.d,s=f.precision,u=f.rounding,!l[0]||!c[0])return c[0]||(t=new f(p)),h?finalise(t,s,u):t;if(i=_(p.e/C),n=_(t.e/C),l=l.slice(),o=i-n){for(o<0?(r=l,o=-o,a=c.length):(r=c,n=i,a=l.length),o>(a=(i=Math.ceil(s/C))>a?i+1:a+1)&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((a=l.length)-(o=c.length)<0&&(o=a,r=c,c=l,l=r),e=0;o;)e=(l[--o]=l[o]+c[o]+e)/P|0,l[o]%=P;for(e&&(l.unshift(e),++n),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=getBase10Exponent(l,n),h?finalise(t,s,u):t},M.precision=M.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(y+t);return r.d?(e=getPrecision(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},M.round=function(){var t=this,e=t.constructor;return finalise(new e(t),t.e+1,e.rounding)},M.sine=M.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+C,n.rounding=1,r=function sine(t,e){var r,n=e.d.length;if(n<3)return taylorSeries(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/tinyPow(5,r)),e=taylorSeries(t,2,e,e);for(var o,i=new t(5),a=new t(16),s=new t(20);r--;)o=e.times(e),e=e.times(i.plus(o.times(a.times(o).minus(s))));return e}(n,toLessThanHalfPi(n,r)),n.precision=t,n.rounding=e,finalise(s>2?r.neg():r,t,e,!0)):new n(NaN)},M.squareRoot=M.sqrt=function(){var t,e,r,n,o,i,a=this,s=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(h=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=digitsToString(s)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=_((u+1)/2)-(u<0||u%2),n=new c(e=l==1/0?"1e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(l.toString()),r=(u=c.precision)+3;;)if(n=(i=n).plus(A(a,i,r+2,1)).times(.5),digitsToString(i.d).slice(0,r)===(e=digitsToString(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(finalise(n,u+1,1),t=!n.times(n).eq(a));break}if(!o&&(finalise(i,u+1,0),i.times(i).eq(a))){n=i;break}r+=4,o=1}return h=!0,finalise(n,u,c.rounding,t)},M.tangent=M.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=A(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,finalise(2==s||4==s?r.neg():r,t,e,!0)):new n(NaN)},M.times=M.mul=function(t){var e,r,n,o,i,a,s,u,l,c=this,p=c.constructor,f=c.d,d=(t=new p(t)).d;if(t.s*=c.s,!f||!f[0]||!d||!d[0])return new p(!t.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*t.s:t.s/0);for(r=_(c.e/C)+_(t.e/C),(u=f.length)<(l=d.length)&&(i=f,f=d,d=i,a=u,u=l,l=a),i=[],n=a=u+l;n--;)i.push(0);for(n=l;--n>=0;){for(e=0,o=u+n;o>n;)s=i[o]+d[n]*f[o-n-1]+e,i[o--]=s%P|0,e=s/P|0;i[o]=(i[o]+e)%P|0}for(;!i[--a];)i.pop();return e?++r:i.shift(),t.d=i,t.e=getBase10Exponent(i,r),h?finalise(t,p.precision,p.rounding):t},M.toBinary=function(t,e){return toStringBinary(this,2,t,e)},M.toDecimalPlaces=M.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(checkInt32(t,0,l),void 0===e?e=n.rounding:checkInt32(e,0,8),finalise(r,t+r.e+1,e))},M.toExponential=function(t,e){var r,n=this,o=n.constructor;return void 0===t?r=finiteToString(n,!0):(checkInt32(t,0,l),void 0===e?e=o.rounding:checkInt32(e,0,8),r=finiteToString(n=finalise(new o(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},M.toFixed=function(t,e){var r,n,o=this,i=o.constructor;return void 0===t?r=finiteToString(o):(checkInt32(t,0,l),void 0===e?e=i.rounding:checkInt32(e,0,8),r=finiteToString(n=finalise(new i(o),t+o.e+1,e),!1,t+n.e+1)),o.isNeg()&&!o.isZero()?"-"+r:r},M.toFraction=function(t){var e,r,n,o,i,a,s,u,l,c,p,f,d=this,m=d.d,g=d.constructor;if(!m)return new g(d);if(l=r=new g(1),n=u=new g(0),a=(i=(e=new g(n)).e=getPrecision(m)-d.e-1)%C,e.d[0]=b(10,a<0?C+a:a),null==t)t=i>0?e:l;else{if(!(s=new g(t)).isInt()||s.lt(l))throw Error(y+s);t=s.gt(e)?i>0?e:l:s}for(h=!1,s=new g(digitsToString(m)),c=g.precision,g.precision=i=m.length*C*2;p=A(s,e,0,1,1),1!=(o=r.plus(p.times(n))).cmp(t);)r=n,n=o,o=l,l=u.plus(p.times(o)),u=o,o=e,e=s.minus(p.times(o)),s=o;return o=A(t.minus(r),n,0,1,1),u=u.plus(o.times(l)),r=r.plus(o.times(n)),u.s=l.s=d.s,f=A(l,n,i,1).minus(d).abs().cmp(A(u,r,i,1).minus(d).abs())<1?[l,n]:[u,r],g.precision=c,h=!0,f},M.toHexadecimal=M.toHex=function(t,e){return toStringBinary(this,16,t,e)},M.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),void 0===e?e=n.rounding:checkInt32(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(h=!1,r=A(r,t,0,e,1).times(t),h=!0,finalise(r)):(t.s=r.s,r=t),r},M.toNumber=function(){return+this},M.toOctal=function(t,e){return toStringBinary(this,8,t,e)},M.toPower=M.pow=function(t){var e,r,n,o,i,a,s=this,u=s.constructor,l=+(t=new u(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new u(b(+s,l));if((s=new u(s)).eq(1))return s;if(n=u.precision,i=u.rounding,t.eq(1))return finalise(s,n,i);if((e=_(t.e/C))>=t.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return o=intPow(u,s,r,n),t.s<0?new u(1).div(o):finalise(o,n,i);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(r=b(+s,l))&&isFinite(r)?new u(r+"").e:_(l*(Math.log("0."+digitsToString(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(h=!1,u.rounding=s.s=1,r=Math.min(12,(e+"").length),(o=naturalExponential(t.times(naturalLogarithm(s,n+r)),n)).d&&checkRoundingDigits((o=finalise(o,n+5,1)).d,n,i)&&(e=n+10,+digitsToString((o=finalise(naturalExponential(t.times(naturalLogarithm(s,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(o=finalise(o,n+1,0))),o.s=a,h=!0,u.rounding=i,finalise(o,n,i))},M.toPrecision=function(t,e){var r,n=this,o=n.constructor;return void 0===t?r=finiteToString(n,n.e<=o.toExpNeg||n.e>=o.toExpPos):(checkInt32(t,1,l),void 0===e?e=o.rounding:checkInt32(e,0,8),r=finiteToString(n=finalise(new o(n),t,e),t<=n.e||n.e<=o.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},M.toSignificantDigits=M.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(checkInt32(t,1,l),void 0===e?e=r.rounding:checkInt32(e,0,8)),finalise(new r(this),t,e)},M.toString=function(){var t=this,e=t.constructor,r=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},M.truncated=M.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var t=this,e=t.constructor,r=finiteToString(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var A=function(){function multiplyInteger(t,e,r){var n,o=0,i=t.length;for(t=t.slice();i--;)n=t[i]*e+o,t[i]=n%r|0,o=n/r|0;return o&&t.unshift(o),t}function compare(t,e,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function subtract(t,e,r,n){for(var o=0;r--;)t[r]-=o,o=t[r]<e[r]?1:0,t[r]=o*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift()}return function(t,e,r,n,o,i){var s,u,l,c,p,f,d,h,m,y,g,v,b,S,x,w,E,T,D,M,A=t.constructor,R=t.s==e.s?1:-1,L=t.d,I=e.d;if(!L||!L[0]||!I||!I[0])return new A(t.s&&e.s&&(L?!I||L[0]!=I[0]:I)?L&&0==L[0]||!I?0*R:R/0:NaN);for(i?(p=1,u=t.e-e.e):(i=P,p=C,u=_(t.e/p)-_(e.e/p)),D=I.length,E=L.length,y=(m=new A(R)).d=[],l=0;I[l]==(L[l]||0);l++);if(I[l]>(L[l]||0)&&u--,null==r?(S=r=A.precision,n=A.rounding):S=o?r+(t.e-e.e)+1:r,S<0)y.push(1),f=!0;else{if(S=S/p+2|0,l=0,1==D){for(c=0,I=I[0],S++;(l<E||c)&&S--;l++)x=c*i+(L[l]||0),y[l]=x/I|0,c=x%I|0;f=c||l<E}else{for((c=i/(I[0]+1)|0)>1&&(I=multiplyInteger(I,c,i),L=multiplyInteger(L,c,i),D=I.length,E=L.length),w=D,v=(g=L.slice(0,D)).length;v<D;)g[v++]=0;(M=I.slice()).unshift(0),T=I[0],I[1]>=i/2&&++T;do{c=0,(s=compare(I,g,D,v))<0?(b=g[0],D!=v&&(b=b*i+(g[1]||0)),(c=b/T|0)>1?(c>=i&&(c=i-1),1==(s=compare(d=multiplyInteger(I,c,i),g,h=d.length,v=g.length))&&(c--,subtract(d,D<h?M:I,h,i))):(0==c&&(s=c=1),d=I.slice()),(h=d.length)<v&&d.unshift(0),subtract(g,d,v,i),-1==s&&(s=compare(I,g,D,v=g.length))<1&&(c++,subtract(g,D<v?M:I,v,i)),v=g.length):0===s&&(c++,g=[0]),y[l++]=c,s&&g[0]?g[v++]=L[w]||0:(g=[L[w]],v=1)}while((w++<E||void 0!==g[0])&&S--);f=void 0!==g[0]}y[0]||y.shift()}if(1==p)m.e=u,a=f;else{for(l=1,c=y[0];c>=10;c/=10)l++;m.e=l+u*p-1,finalise(m,o?r+m.e+1:r,n,f)}return m}}();function finalise(t,e,r,n){var o,i,a,s,u,l,c,p,f,d=t.constructor;t:if(null!=e){if(!(p=t.d))return t;for(o=1,s=p[0];s>=10;s/=10)o++;if((i=e-o)<0)i+=C,a=e,u=(c=p[f=0])/b(10,o-a-1)%10|0;else if((f=Math.ceil((i+1)/C))>=(s=p.length)){if(!n)break t;for(;s++<=f;)p.push(0);c=u=0,o=1,a=(i%=C)-C+1}else{for(c=s=p[f],o=1;s>=10;s/=10)o++;u=(a=(i%=C)-C+o)<0?0:c/b(10,o-a-1)%10|0}if(n=n||e<0||void 0!==p[f+1]||(a<0?c:c%b(10,o-a-1)),l=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(i>0?a>0?c/b(10,o-a):0:p[f-1])%10&1||r==(t.s<0?8:7)),e<1||!p[0])return p.length=0,l?(e-=t.e+1,p[0]=b(10,(C-e%C)%C),t.e=-e||0):p[0]=t.e=0,t;if(0==i?(p.length=f,s=1,f--):(p.length=f+1,s=b(10,C-i),p[f]=a>0?(c/b(10,o-a)%b(10,a)|0)*s:0),l)for(;;){if(0==f){for(i=1,a=p[0];a>=10;a/=10)i++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;i!=s&&(t.e++,p[0]==P&&(p[0]=1));break}if(p[f]+=s,p[f]!=P)break;p[f--]=0,s=1}for(i=p.length;0===p[--i];)p.pop()}return h&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function finiteToString(t,e,r){if(!t.isFinite())return nonFiniteToString(t);var n,o=t.e,i=digitsToString(t.d),a=i.length;return e?(r&&(n=r-a)>0?i=i.charAt(0)+"."+i.slice(1)+getZeroString(n):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):o<0?(i="0."+getZeroString(-o-1)+i,r&&(n=r-a)>0&&(i+=getZeroString(n))):o>=a?(i+=getZeroString(o+1-a),r&&(n=r-o-1)>0&&(i=i+"."+getZeroString(n))):((n=o+1)<a&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-a)>0&&(o+1===a&&(i+="."),i+=getZeroString(n))),i}function getBase10Exponent(t,e){var r=t[0];for(e*=C;r>=10;r/=10)e++;return e}function getLn10(t,e,r){if(e>T)throw h=!0,r&&(t.precision=r),Error(g);return finalise(new t(p),e,1,!0)}function getPi(t,e,r){if(e>D)throw Error(g);return finalise(new t(f),e,r,!0)}function getPrecision(t){var e=t.length-1,r=e*C+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function getZeroString(t){for(var e="";t--;)e+="0";return e}function intPow(t,e,r,n){var o,i=new t(1),a=Math.ceil(n/C+4);for(h=!1;;){if(r%2&&truncate((i=i.times(e)).d,a)&&(o=!0),0===(r=_(r/2))){r=i.d.length-1,o&&0===i.d[r]&&++i.d[r];break}truncate((e=e.times(e)).d,a)}return h=!0,i}function isOdd(t){return 1&t.d[t.d.length-1]}function maxOrMin(t,e,r){for(var n,o=new t(e[0]),i=0;++i<e.length;){if(!(n=new t(e[i])).s){o=n;break}o[r](n)&&(o=n)}return o}function naturalExponential(t,e){var r,n,o,i,a,s,u,l=0,c=0,p=0,f=t.constructor,d=f.rounding,m=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(h=!1,u=m):u=e,s=new f(.03125);t.e>-2;)t=t.times(s),p+=5;for(u+=n=Math.log(b(2,p))/Math.LN10*2+5|0,r=i=a=new f(1),f.precision=u;;){if(i=finalise(i.times(t),u,1),r=r.times(++c),digitsToString((s=a.plus(A(i,r,u,1))).d).slice(0,u)===digitsToString(a.d).slice(0,u)){for(o=p;o--;)a=finalise(a.times(a),u,1);if(null!=e)return f.precision=m,a;if(!(l<3&&checkRoundingDigits(a.d,u-n,d,l)))return finalise(a,f.precision=m,d,h=!0);f.precision=u+=10,r=i=s=new f(1),c=0,l++}a=s}}function naturalLogarithm(t,e){var r,n,o,i,a,s,u,l,c,p,f,d=1,m=t,y=m.d,g=m.constructor,v=g.rounding,_=g.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new g(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==e?(h=!1,c=_):c=e,g.precision=c+=10,n=(r=digitsToString(y)).charAt(0),!(Math.abs(i=m.e)<15e14))return l=getLn10(g,c+2,_).times(i+""),m=naturalLogarithm(new g(n+"."+r.slice(1)),c-10).plus(l),g.precision=_,null==e?finalise(m,_,v,h=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=digitsToString((m=m.times(t)).d)).charAt(0),d++;for(i=m.e,n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1)),p=m,u=a=m=A(m.minus(1),m.plus(1),c,1),f=finalise(m.times(m),c,1),o=3;;){if(a=finalise(a.times(f),c,1),digitsToString((l=u.plus(A(a,new g(o),c,1))).d).slice(0,c)===digitsToString(u.d).slice(0,c)){if(u=u.times(2),0!==i&&(u=u.plus(getLn10(g,c+2,_).times(i+""))),u=A(u,new g(d),c,1),null!=e)return g.precision=_,u;if(!checkRoundingDigits(u.d,c-10,v,s))return finalise(u,g.precision=_,v,h=!0);g.precision=c+=10,l=a=m=A(p.minus(1),p.plus(1),c,1),f=finalise(m.times(m),c,1),o=s=1}u=l,o+=2}}function nonFiniteToString(t){return String(t.s*t.s/0)}function parseDecimal(t,e){var r,n,o;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(o=e.length;48===e.charCodeAt(o-1);--o);if(e=e.slice(n,o)){if(o-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%C,r<0&&(n+=C),n<o){for(n&&t.d.push(+e.slice(0,n)),o-=C;n<o;)t.d.push(+e.slice(n,n+=C));e=e.slice(n),n=C-e.length}else n-=o;for(;n--;)e+="0";t.d.push(+e),h&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function parseOther(t,e){var r,n,o,a,s,u,l,c,p;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(x.test(e))r=16,e=e.toLowerCase();else if(S.test(e))r=2;else{if(!w.test(e))throw Error(y+e);r=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,n=t.constructor,s&&(a=(u=(e=e.replace(".","")).length)-a,o=intPow(n,new n(r),a,2*a)),a=p=(c=convertBase(e,r,P)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*t.s):(t.e=getBase10Exponent(c,p),t.d=c,h=!1,s&&(t=A(t,o,4*u)),l&&(t=t.times(Math.abs(l)<54?b(2,l):i.pow(2,l))),h=!0,t)}function taylorSeries(t,e,r,n,o){var i,a,s,u,l=t.precision,c=Math.ceil(l/C);for(h=!1,u=r.times(r),s=new t(n);;){if(a=A(s.times(u),new t(e++*e++),l,1),s=o?n.plus(a):n.minus(a),n=A(a.times(u),new t(e++*e++),l,1),void 0!==(a=s.plus(n)).d[c]){for(i=c;a.d[i]===s.d[i]&&i--;);if(-1==i)break}i=s,s=n,n=a,a=i,0}return h=!0,a.d.length=c+1,a}function tinyPow(t,e){for(var r=t;--e;)r*=t;return r}function toLessThanHalfPi(t,e){var r,n=e.s<0,o=getPi(t,t.precision,1),i=o.times(.5);if((e=e.abs()).lte(i))return s=n?4:1,e;if((r=e.divToInt(o)).isZero())s=n?3:2;else{if((e=e.minus(r.times(o))).lte(i))return s=isOdd(r)?n?2:3:n?4:1,e;s=isOdd(r)?n?1:4:n?3:2}return e.minus(o).abs()}function toStringBinary(t,e,r,n){var o,i,s,u,p,f,d,h,m,y=t.constructor,g=void 0!==r;if(g?(checkInt32(r,1,l),void 0===n?n=y.rounding:checkInt32(n,0,8)):(r=y.precision,n=y.rounding),t.isFinite()){for(g?(o=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):o=e,(s=(d=finiteToString(t)).indexOf("."))>=0&&(d=d.replace(".",""),(m=new y(1)).e=d.length-s,m.d=convertBase(finiteToString(m),10,o),m.e=m.d.length),i=p=(h=convertBase(d,10,o)).length;0==h[--p];)h.pop();if(h[0]){if(s<0?i--:((t=new y(t)).d=h,t.e=i,h=(t=A(t,m,r,n,0,o)).d,i=t.e,f=a),s=h[r],u=o/2,f=f||void 0!==h[r+1],f=n<4?(void 0!==s||f)&&(0===n||n===(t.s<0?3:2)):s>u||s===u&&(4===n||f||6===n&&1&h[r-1]||n===(t.s<0?8:7)),h.length=r,f)for(;++h[--r]>o-1;)h[r]=0,r||(++i,h.unshift(1));for(p=h.length;!h[p-1];--p);for(s=0,d="";s<p;s++)d+=c.charAt(h[s]);if(g){if(p>1)if(16==e||8==e){for(s=16==e?4:3,--p;p%s;p++)d+="0";for(p=(h=convertBase(d,o,e)).length;!h[p-1];--p);for(s=1,d="1.";s<p;s++)d+=c.charAt(h[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)d="0"+d;d="0."+d}else if(++i>p)for(i-=p;i--;)d+="0";else i<p&&(d=d.slice(0,i)+"."+d.slice(i))}else d=g?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=nonFiniteToString(t);return t.s<0?"-"+d:d}function truncate(t,e){if(t.length>e)return t.length=e,!0}function abs(t){return new this(t).abs()}function acos(t){return new this(t).acos()}function acosh(t){return new this(t).acosh()}function add(t,e){return new this(t).plus(e)}function asin(t){return new this(t).asin()}function asinh(t){return new this(t).asinh()}function atan(t){return new this(t).atan()}function atanh(t){return new this(t).atanh()}function atan2(t,e){t=new this(t),e=new this(e);var r,n=this.precision,o=this.rounding,i=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?getPi(this,n,o):new this(0)).s=t.s:!t.d||e.isZero()?(r=getPi(this,i,1).times(.5)).s=t.s:e.s<0?(this.precision=i,this.rounding=1,r=this.atan(A(t,e,i,1)),e=getPi(this,i,1),this.precision=n,this.rounding=o,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(A(t,e,i,1)):(r=getPi(this,i,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function cbrt(t){return new this(t).cbrt()}function ceil(t){return finalise(t=new this(t),t.e+1,2)}function config(t){if(!t||"object"!==typeof t)throw Error(m+"Object expected");var e,r,n,o=!0===t.defaults,i=["precision",1,l,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(r=i[e],o&&(this[r]=d[r]),void 0!==(n=t[r])){if(!(_(n)===n&&n>=i[e+1]&&n<=i[e+2]))throw Error(y+r+": "+n);this[r]=n}if(r="crypto",o&&(this[r]=d[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(y+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[r]=!0}else this[r]=!1}return this}function cos(t){return new this(t).cos()}function cosh(t){return new this(t).cosh()}function div(t,e){return new this(t).div(e)}function exp(t){return new this(t).exp()}function floor(t){return finalise(t=new this(t),t.e+1,3)}function hypot(){var t,e,r=new this(0);for(h=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);r=e}return h=!0,r.sqrt()}function isDecimalInstance(t){return t instanceof i||t&&"[object Decimal]"===t.name||!1}function ln(t){return new this(t).ln()}function log(t,e){return new this(t).log(e)}function log2(t){return new this(t).log(2)}function log10(t){return new this(t).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(t,e){return new this(t).mod(e)}function mul(t,e){return new this(t).mul(e)}function pow(t,e){return new this(t).pow(e)}function random(t){var e,r,n,o,i=0,a=new this(1),s=[];if(void 0===t?t=this.precision:checkInt32(t,1,l),n=Math.ceil(t/C),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));i<n;)(o=e[i])>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(v);for(e=crypto.randomBytes(n*=4);i<n;)(o=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((127&e[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,i):(s.push(o%1e7),i+=4);i=n/4}else for(;i<n;)s[i++]=1e7*Math.random()|0;for(n=s[--i],t%=C,n&&t&&(o=b(10,C-t),s[i]=(n/o|0)*o);0===s[i];i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=C)s.shift();for(n=1,o=s[0];o>=10;o/=10)n++;n<C&&(r-=C-n)}return a.e=r,a.d=s,a}function round(t){return finalise(t=new this(t),t.e+1,this.rounding)}function sign(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function sin(t){return new this(t).sin()}function sinh(t){return new this(t).sinh()}function sqrt(t){return new this(t).sqrt()}function sub(t,e){return new this(t).sub(e)}function tan(t){return new this(t).tan()}function tanh(t){return new this(t).tanh()}function trunc(t){return finalise(t=new this(t),t.e+1,1)}(i=function clone(t){var e,r,n;function Decimal(t){var e,r,n,o=this;if(!(o instanceof Decimal))return new Decimal(t);if(o.constructor=Decimal,t instanceof Decimal)return o.s=t.s,void(h?!t.d||t.e>Decimal.maxE?(o.e=NaN,o.d=null):t.e<Decimal.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(h?e>Decimal.maxE?(o.e=NaN,o.d=null):e<Decimal.minE?(o.e=0,o.d=[0]):(o.e=e,o.d=[t]):(o.e=e,o.d=[t]))}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):parseDecimal(o,t.toString())}if("string"!==n)throw Error(y+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===r&&(t=t.slice(1)),o.s=1),E.test(t)?parseDecimal(o,t):parseOther(o,t)}if(Decimal.prototype=M,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return Decimal.config(t),Decimal}(d)).default=i.Decimal=i,p=new i(p),f=new i(f),void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"})),"KeyboardBackspace");e.default=i},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=(0,n(r(104)).default)(o.default.createElement("g",null,o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),"Close");e.default=i},function(t,e,r){"use strict";function createThunkMiddleware(t){return function(e){var r=e.dispatch,n=e.getState;return function(e){return function(o){return"function"===typeof o?o(r,n,t):e(o)}}}}var n=createThunkMiddleware();n.withExtraArgument=createThunkMiddleware,e.a=n},function(t,e,r){"use strict";e.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=_interopRequireDefault(r(25)),a=_interopRequireDefault(r(49)),s=r(315),u=r(107),l=_interopRequireDefault(r(316)),c=r(1006);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=function getHistoryState(){try{return window.history.state||{}}catch(t){return{}}};e.default=function createBrowserHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(c.canUseDOM,"Browser history needs a DOM");var e=window.history,r=(0,c.supportsHistory)(),f=!(0,c.supportsPopStateOnHashChange)(),d=t.forceRefresh,h=void 0!==d&&d,m=t.getUserConfirmation,y=void 0===m?c.getConfirmation:m,g=t.keyLength,v=void 0===g?6:g,_=t.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(t.basename)):"",b=function getDOMLocation(t){var e=t||{},r=e.key,n=e.state,o=window.location,a=o.pathname+o.search+o.hash;return(0,i.default)(!_||(0,u.hasBasename)(a,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+_+'".'),_&&(a=(0,u.stripBasename)(a,_)),(0,s.createLocation)(a,n,r)},S=function createKey(){return Math.random().toString(36).substr(2,v)},x=(0,l.default)(),w=function setState(t){o(G,t),G.length=e.length,x.notifyListeners(G.location,G.action)},E=function handlePopState(t){(0,c.isExtraneousPopstateEvent)(t)||T(b(t.state))},P=function handleHashChange(){T(b(p()))},C=!1,T=function handlePop(t){if(C)C=!1,w();else{x.confirmTransitionTo(t,"POP",y,(function(e){e?w({action:"POP",location:t}):D(t)}))}},D=function revertPop(t){var e=G.location,r=A.indexOf(e.key);-1===r&&(r=0);var n=A.indexOf(t.key);-1===n&&(n=0);var o=r-n;o&&(C=!0,O(o))},M=b(p()),A=[M.key],R=function createHref(t){return _+(0,u.createPath)(t)},L=function push(t,o){(0,i.default)(!("object"===("undefined"===typeof t?"undefined":n(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(t,o,S(),G.location);x.confirmTransitionTo(a,"PUSH",y,(function(t){if(t){var n=R(a),o=a.key,s=a.state;if(r)if(e.pushState({key:o,state:s},null,n),h)window.location.href=n;else{var u=A.indexOf(G.location.key),l=A.slice(0,-1===u?0:u+1);l.push(a.key),A=l,w({action:"PUSH",location:a})}else(0,i.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}}))},I=function replace(t,o){(0,i.default)(!("object"===("undefined"===typeof t?"undefined":n(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(t,o,S(),G.location);x.confirmTransitionTo(a,"REPLACE",y,(function(t){if(t){var n=R(a),o=a.key,s=a.state;if(r)if(e.replaceState({key:o,state:s},null,n),h)window.location.replace(n);else{var u=A.indexOf(G.location.key);-1!==u&&(A[u]=a.key),w({action:"REPLACE",location:a})}else(0,i.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}}))},O=function go(t){e.go(t)},k=function goBack(){return O(-1)},F=function goForward(){return O(1)},N=0,B=function checkDOMListeners(t){1===(N+=t)?((0,c.addEventListener)(window,"popstate",E),f&&(0,c.addEventListener)(window,"hashchange",P)):0===N&&((0,c.removeEventListener)(window,"popstate",E),f&&(0,c.removeEventListener)(window,"hashchange",P))},U=!1,z=function block(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=x.setPrompt(t);return U||(B(1),U=!0),function(){return U&&(U=!1,B(-1)),e()}},j=function listen(t){var e=x.appendListener(t);return B(1),function(){B(-1),e()}},G={length:e.length,action:"POP",location:M,createHref:R,push:L,replace:I,go:O,goBack:k,goForward:F,block:z,listen:j};return G}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){(function(t){("undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"ca74ab574f294636176aca81f69031c9833d93d1"}}).call(this,r(32))},function(t,e,r){(function(e){var n=r(542),o=r(310),i=r(543),a=r(544),s=r(226),u=s.isErrorEvent,l=s.isDOMError,c=s.isDOMException,p=s.isError,f=s.isObject,d=s.isPlainObject,h=s.isUndefined,m=s.isFunction,y=s.isString,g=s.isArray,v=s.isEmptyObject,_=s.each,b=s.objectMerge,S=s.truncate,x=s.objectFrozen,w=s.hasKey,E=s.joinRegExp,P=s.urlencode,C=s.uuid4,T=s.htmlTreeAsString,D=s.isSameException,M=s.isSameStacktrace,A=s.parseUrl,R=s.fill,L=s.supportsFetch,I=s.supportsReferrerPolicy,O=s.serializeKeysForMessage,k=s.serializeException,F=s.sanitize,N=r(545).wrapMethod,B="source protocol user pass host port path".split(" "),U=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function now(){return+new Date}var z="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},j=z.document,G=z.navigator;function keepOriginalCallback(t,e){return m(e)?function(r){return e(r,t)}:e}function Raven(){for(var t in this._hasJSON=!("object"!==typeof JSON||!JSON.stringify),this._hasDocument=!h(j),this._hasNavigator=!h(G),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:I()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=now(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}Raven.prototype={VERSION:"3.26.3",debug:!1,TraceKit:n,config:function config(t,e){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!t)return r;var o=r._globalOptions;e&&_(e,(function(t,e){"tags"===t||"extra"===t||"user"===t?r._globalContext[t]=e:o[t]=e})),r.setDSN(t),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=E(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&E(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&E(o.whitelistUrls),o.includePaths=E(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=b(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},u=o.instrument;return"[object Object]"==={}.toString.call(u)?u=b(s,u):!1!==u&&(u=s),o.instrument=u,n.collectWindowErrors=!!o.collectWindowErrors,r},install:function install(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(n.report.subscribe((function(){t._handleOnErrorStackInfo.apply(t,arguments)})),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function setDSN(t){var e=this._parseDSN(t),r=e.path.lastIndexOf("/"),n=e.path.substr(1,r);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(r+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+n+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function context(t,e,r){return m(t)&&(r=e||[],e=t,t={}),this.wrap(t,e).apply(this,r)},wrap:function wrap(t,e,r){var n=this;if(h(e)&&!m(t))return t;if(m(t)&&(e=t,t=void 0),!m(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(i){return e}function wrapped(){var o=[],a=arguments.length,s=!t||t&&!1!==t.deep;for(r&&m(r)&&r.apply(this,arguments);a--;)o[a]=s?n.wrap(t,arguments[a]):arguments[a];try{return e.apply(this,o)}catch(i){throw n._ignoreNextOnError(),n.captureException(i,t),i}}for(var o in e)w(e,o)&&(wrapped[o]=e[o]);return wrapped.prototype=e.prototype,e.__raven_wrapper__=wrapped,wrapped.__raven__=!0,wrapped.__orig__=e,wrapped},uninstall:function uninstall(){return n.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function _promiseRejectionHandler(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function _attachPromiseRejectionHandler(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function _detachPromiseRejectionHandler(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function captureException(t,e){if(e=b({trimHeadFrames:0},e||{}),u(t)&&t.error)t=t.error;else{if(l(t)||c(t)){var r=t.name||(l(t)?"DOMError":"DOMException"),o=t.message?r+": "+t.message:r;return this.captureMessage(o,b(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(p(t))t=t;else{if(!d(t))return this.captureMessage(t,b(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=n.computeStackTrace(t);this._handleStackInfo(i,e)}catch(a){if(t!==a)throw a}return this},_getCaptureExceptionOptionsFromPlainObject:function _getCaptureExceptionOptionsFromPlainObject(t,e){var r=Object.keys(e).sort(),n=b(t,{message:"Non-Error exception captured with keys: "+O(r),fingerprint:[i(r)],extra:t.extra||{}});return n.extra.__serialized__=k(e),n},captureMessage:function captureMessage(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var r,o=b({message:t+=""},e=e||{});try{throw new Error(t)}catch(l){r=l}r.name=null;var i=n.computeStackTrace(r),a=g(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?t:o.fingerprint,(e=b({trimHeadFrames:0},e)).trimHeadFrames+=1;var u=this._prepareFrames(i,e);o.stacktrace={frames:u.reverse()}}return o.fingerprint&&(o.fingerprint=g(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function captureBreadcrumb(t){var e=b({timestamp:now()/1e3},t);if(m(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(e);if(f(r)&&!v(r))e=r;else if(!1===r)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function addPlugin(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function setUserContext(t){return this._globalContext.user=t,this},setExtraContext:function setExtraContext(t){return this._mergeContext("extra",t),this},setTagsContext:function setTagsContext(t){return this._mergeContext("tags",t),this},clearContext:function clearContext(){return this._globalContext={},this},getContext:function getContext(){return JSON.parse(o(this._globalContext))},setEnvironment:function setEnvironment(t){return this._globalOptions.environment=t,this},setRelease:function setRelease(t){return this._globalOptions.release=t,this},setDataCallback:function setDataCallback(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=keepOriginalCallback(e,t),this},setBreadcrumbCallback:function setBreadcrumbCallback(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=keepOriginalCallback(e,t),this},setShouldSendCallback:function setShouldSendCallback(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=keepOriginalCallback(e,t),this},setTransport:function setTransport(t){return this._globalOptions.transport=t,this},lastException:function lastException(){return this._lastCapturedException},lastEventId:function lastEventId(){return this._lastEventId},isSetup:function isSetup(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function afterLoad(){var t=z.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function showReportDialog(t){if(j){var e=(t=t||{}).eventId||this.lastEventId();if(!e)throw new a("Missing eventId");var r=t.dsn||this._dsn;if(!r)throw new a("Missing DSN");var n=encodeURIComponent,o="";o+="?eventId="+n(e),o+="&dsn="+n(r);var i=t.user||this._globalContext.user;i&&(i.name&&(o+="&name="+n(i.name)),i.email&&(o+="&email="+n(i.email)));var s=this._getGlobalServer(this._parseDSN(r)),u=j.createElement("script");u.async=!0,u.src=s+"/api/embed/error-page/"+o,(j.head||j.body).appendChild(u)}},_ignoreNextOnError:function _ignoreNextOnError(){var t=this;this._ignoreOnError+=1,setTimeout((function(){t._ignoreOnError-=1}))},_triggerEvent:function _triggerEvent(t,e){var r,n;if(this._hasDocument){for(n in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),j.createEvent?(r=j.createEvent("HTMLEvents")).initEvent(t,!0,!0):(r=j.createEventObject()).eventType=t,e)w(e,n)&&(r[n]=e[n]);if(j.createEvent)j.dispatchEvent(r);else try{j.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(o){}}},_breadcrumbEventHandler:function _breadcrumbEventHandler(t){var e=this;return function(r){if(e._keypressTimeout=null,e._lastCapturedEvent!==r){var n;e._lastCapturedEvent=r;try{n=T(r.target)}catch(o){n="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:n})}}},_keypressEventHandler:function _keypressEventHandler(){var t=this;return function(e){var r;try{r=e.target}catch(i){return}var n=r&&r.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)){var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(e),clearTimeout(o),t._keypressTimeout=setTimeout((function(){t._keypressTimeout=null}),1e3)}}},_captureUrlChange:function _captureUrlChange(t,e){var r=A(this._location.href),n=A(e),o=A(t);this._lastHref=e,r.protocol===n.protocol&&r.host===n.host&&(e=n.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function _patchFunctionToString(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"===typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function _unpatchFunctionToString(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function _instrumentTryCatch(){var t=this,e=t._wrappedBuiltIns;function wrapTimeFn(e){return function(r,n){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return m(a)&&(o[0]=t.wrap({mechanism:{type:"instrument",data:{function:e.name||"<anonymous>"}}},a)),e.apply?e.apply(this,o):e(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function wrapEventTarget(n){var o=z[n]&&z[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(R(o,"addEventListener",(function(e){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=t.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(p){}var u,l,c;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=t._breadcrumbEventHandler("click"),c=t._keypressEventHandler(),u=function before(t){if(t){var e;try{e=t.type}catch(r){return}return"click"===e?l(t):"keypress"===e?c(t):void 0}}),e.call(this,o,t.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,u),a,s)}}),e),R(o,"removeEventListener",(function(t){return function(e,r,n,o){try{r=r&&(r.__raven_wrapper__?r.__raven_wrapper__:r)}catch(i){}return t.call(this,e,r,n,o)}}),e))}R(z,"setTimeout",wrapTimeFn,e),R(z,"setInterval",wrapTimeFn,e),z.requestAnimationFrame&&R(z,"requestAnimationFrame",(function(e){return function(r){return e(t.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:e&&e.name||"<anonymous>"}}},r))}}),e);for(var n=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<n.length;o++)wrapEventTarget(n[o])},_instrumentBreadcrumbs:function _instrumentBreadcrumbs(){var t=this,e=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;function wrapProp(e,r){e in r&&m(r[e])&&R(r,e,(function(r){return t.wrap({mechanism:{type:"instrument",data:{function:e,handler:r&&r.name||"<anonymous>"}}},r)}))}if(e.xhr&&"XMLHttpRequest"in z){var n=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;R(n,"open",(function(e){return function(r,n){return y(n)&&-1===n.indexOf(t._globalKey)&&(this.__raven_xhr={method:r,url:n,status_code:null}),e.apply(this,arguments)}}),r),R(n,"send",(function(e){return function(){var r=this;function onreadystatechangeHandler(){if(r.__raven_xhr&&4===r.readyState){try{r.__raven_xhr.status_code=r.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}for(var n=["onload","onerror","onprogress"],o=0;o<n.length;o++)wrapProp(n[o],r);return"onreadystatechange"in r&&m(r.onreadystatechange)?R(r,"onreadystatechange",(function(e){return t.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,onreadystatechangeHandler)})):r.onreadystatechange=onreadystatechangeHandler,e.apply(this,arguments)}}),r)}e.xhr&&L()&&R(z,"fetch",(function(e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];var o,i=r[0],a="GET";if("string"===typeof i?o=i:"Request"in z&&i instanceof z.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(t._globalKey))return e.apply(this,r);r[1]&&r[1].method&&(a=r[1].method);var s={method:a,url:o,status_code:null};return e.apply(this,r).then((function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e})).catch((function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e}))}}),r),e.dom&&this._hasDocument&&(j.addEventListener?(j.addEventListener("click",t._breadcrumbEventHandler("click"),!1),j.addEventListener("keypress",t._keypressEventHandler(),!1)):j.attachEvent&&(j.attachEvent("onclick",t._breadcrumbEventHandler("click")),j.attachEvent("onkeypress",t._keypressEventHandler())));var o=z.chrome,i=!(o&&o.app&&o.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(e.location&&i){var a=z.onpopstate;z.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),a)return a.apply(this,arguments)};var s=function historyReplacementFunction(e){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&t._captureUrlChange(t._lastHref,r+""),e.apply(this,arguments)}};R(z.history,"pushState",s,r),R(z.history,"replaceState",s,r)}if(e.console&&"console"in z&&console.log){var u=function consoleMethodCallback(e,r){t.captureBreadcrumb({message:e,level:r.level,category:"console"})};_(["debug","info","warn","error","log"],(function(t,e){N(console,e,u)}))}},_restoreBuiltIns:function _restoreBuiltIns(){for(var t;this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],r=t[1],n=t[2];e[r]=n}},_restoreConsole:function _restoreConsole(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function _drainPlugins(){var t=this;_(this._plugins,(function(e,r){var n=r[0],o=r[1];n.apply(t,[t].concat(o))}))},_parseDSN:function _parseDSN(t){var e=U.exec(t),r={},n=7;try{for(;n--;)r[B[n]]=e[n]||""}catch(o){throw new a("Invalid DSN: "+t)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function _getGlobalServer(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function _handleOnErrorStackInfo(t,e){(e=e||{}).mechanism=e.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(t,e)},_handleStackInfo:function _handleStackInfo(t,e){var r=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,r,e)},_prepareFrames:function _prepareFrames(t,e){var r=this,n=[];if(t.stack&&t.stack.length&&(_(t.stack,(function(e,o){var i=r._normalizeFrame(o,t.url);i&&n.push(i)})),e&&e.trimHeadFrames))for(var o=0;o<e.trimHeadFrames&&o<n.length;o++)n[o].in_app=!1;return n=n.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function _normalizeFrame(t,e){var r={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(r.filename=e),r.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r.function)||/raven\.(min\.)?js$/.test(r.filename)),r},_processException:function _processException(t,e,r,n,o,i){var a,s=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(r=o[0].filename||r,o.reverse(),a={frames:o}):r&&(a={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(r))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(r)))){var u=b({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:r},i),l=u.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!u.exception.mechanism&&u.mechanism&&(u.exception.mechanism=u.mechanism,delete u.mechanism),u.exception.mechanism=b({type:"generic",handled:!0},u.exception.mechanism||{}),this._send(u)}},_trimPacket:function _trimPacket(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=S(t.message,e)),t.exception){var r=t.exception.values[0];r.value=S(r.value,e)}var n=t.request;return n&&(n.url&&(n.url=S(n.url,this._globalOptions.maxUrlLength)),n.Referer&&(n.Referer=S(n.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function _trimBreadcrumbs(t){for(var e,r,n,o=["to","from","url"],i=0;i<t.values.length;++i)if((r=t.values[i]).hasOwnProperty("data")&&f(r.data)&&!x(r.data)){n=b({},r.data);for(var a=0;a<o.length;++a)e=o[a],n.hasOwnProperty(e)&&n[e]&&(n[e]=S(n[e],this._globalOptions.maxUrlLength));t.values[i].data=n}},_getHttpData:function _getHttpData(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&G.userAgent&&(t.headers={"User-Agent":G.userAgent}),z.location&&z.location.href&&(t.url=z.location.href),this._hasDocument&&j.referrer&&(t.headers||(t.headers={}),t.headers.Referer=j.referrer),t}},_resetBackoff:function _resetBackoff(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function _shouldBackoff(){return this._backoffDuration&&now()-this._backoffStart<this._backoffDuration},_isRepeatData:function _isRepeatData(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?M(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||D(t.exception,e.exception))},_setBackoffState:function _setBackoffState(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var r;try{r=L()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(n){}this._backoffDuration=r||(2*this._backoffDuration||1e3),this._backoffStart=now()}}},_send:function _send(t){var e=this._globalOptions,r={project:this._globalProject,logger:e.logger,platform:"javascript"},n=this._getHttpData();n&&(r.request=n),t.trimHeadFrames&&delete t.trimHeadFrames,(t=b(r,t)).tags=b(b({},this._globalContext.tags),t.tags),t.extra=b(b({},this._globalContext.extra),t.extra),t.extra["session:duration"]=now()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach((function(e){(null==t[e]||""===t[e]||v(t[e]))&&delete t[e]})),m(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!v(t)&&(m(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"===typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function _sanitizeData(t){return F(t,this._globalOptions.sanitizeKeys)},_getUuid:function _getUuid(){return C()},_sendProcessedPayload:function _sendProcessedPayload(t,e){var r=this,n=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:a,auth:o,data:t,options:n,onSuccess:function success(){r._resetBackoff(),r._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function failure(n){r._logDebug("error","Raven transport failed to send: ",n),n.request&&r._setBackoffState(n.request),r._triggerEvent("failure",{data:t,src:a}),n=n||new Error("Raven send failed (no additional details provided)"),e&&e(n)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function _makeRequest(t){var e=t.url+"?"+P(t.auth),r=null,n={};if(t.options.headers&&(r=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(n=this._evaluateHash(t.options.fetchParameters)),L()){n.body=o(t.data);var i=b({},this._fetchDefaults),a=b(i,n);return r&&(a.headers=r),z.fetch(e,a).then((function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var r=new Error("Sentry error code: "+e.status);r.request=e,t.onError&&t.onError(r)}})).catch((function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))}))}var s=z.XMLHttpRequest&&new z.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!==typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),r&&_(r,(function(t,e){s.setRequestHeader(t,e)})),s.send(o(t.data))))},_evaluateHash:function _evaluateHash(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e[r]="function"===typeof n?n():n}return e},_logDebug:function _logDebug(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function _mergeContext(t,e){h(e)?delete this._globalContext[t]:this._globalContext[t]=b(this._globalContext[t]||{},e)}},Raven.prototype.setUser=Raven.prototype.setUserContext,Raven.prototype.setReleaseContext=Raven.prototype.setRelease,t.exports=Raven}).call(this,r(32))},function(t,e,r){(function(e){var n=r(226),o={collectWindowErrors:!0,debug:!1},i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},a=[].slice,s="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function getLocationHref(){return"undefined"===typeof document||null==document.location?"":document.location.href}o.report=function reportModuleWrapper(){var t,e,r=[],l=null,c=null,p=null;function notifyHandlers(t,e){var n=null;if(!e||o.collectWindowErrors){for(var i in r)if(r.hasOwnProperty(i))try{r[i].apply(null,[t].concat(a.call(arguments,2)))}catch(s){n=s}if(n)throw n}}function traceKitWindowOnError(e,r,i,a,l){var c=n.isErrorEvent(l)?l.error:l,f=n.isErrorEvent(e)?e.message:e;if(p)o.computeStackTrace.augmentStackTraceWithInitialElement(p,r,i,f),processLastException();else if(c&&n.isError(c))notifyHandlers(o.computeStackTrace(c),!0);else{var d,h={url:r,line:i,column:a},m=void 0;if("[object String]"==={}.toString.call(f))(d=f.match(u))&&(m=d[1],f=d[2]);h.func=s,notifyHandlers({name:m,message:f,url:getLocationHref(),stack:[h]},!0)}return!!t&&t.apply(this,arguments)}function processLastException(){var t=p,e=l;l=null,p=null,c=null,notifyHandlers.apply(null,[t,!1].concat(e))}function report(t,e){var r=a.call(arguments,1);if(p){if(c===t)return;processLastException()}var n=o.computeStackTrace(t);if(p=n,c=t,l=r,setTimeout((function(){c===t&&processLastException()}),n.incomplete?2e3:0),!1!==e)throw t}return report.subscribe=function subscribe(n){!function installGlobalHandler(){if(e)return;t=i.onerror,i.onerror=traceKitWindowOnError,e=!0}(),r.push(n)},report.unsubscribe=function unsubscribe(t){for(var e=r.length-1;e>=0;--e)r[e]===t&&r.splice(e,1)},report.uninstall=function unsubscribeAll(){!function uninstallGlobalHandler(){if(!e)return;i.onerror=t,e=!1,t=void 0}(),r=[]},report}(),o.computeStackTrace=function computeStackTraceWrapper(){function computeStackTraceFromStackProp(t){if("undefined"!==typeof t.stack&&t.stack){for(var e,r,n,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=t.stack.split("\n"),p=[],f=(/^(.*) is undefined$/.exec(t.message),0),d=c.length;f<d;++f){if(r=o.exec(c[f])){var h=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(e=l.exec(r[2]))&&(r[2]=e[1],r[3]=e[2],r[4]=e[3]),n={url:h?null:r[2],func:r[1]||s,args:h?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=i.exec(c[f]))n={url:r[2],func:r[1]||s,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=a.exec(c[f])))continue;r[3]&&r[3].indexOf(" > eval")>-1&&(e=u.exec(r[3]))?(r[3]=e[1],r[4]=e[2],r[5]=null):0!==f||r[5]||"undefined"===typeof t.columnNumber||(p[0].column=t.columnNumber+1),n={url:r[3],func:r[1]||s,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}if(!n.func&&n.line&&(n.func=s),n.url&&"blob:"===n.url.substr(0,5)){var m=new XMLHttpRequest;if(m.open("GET",n.url,!1),m.send(null),200===m.status){var y=m.responseText||"",g=(y=y.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var v=g[1];"~"===v.charAt(0)&&(v=("undefined"===typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+v.slice(1)),n.url=v.slice(0,-4)}}}p.push(n)}return p.length?{name:t.name,message:t.message,url:getLocationHref(),stack:p}:null}}function augmentStackTraceWithInitialElement(t,e,r,n){var o={url:e,line:r};if(o.url&&o.line){if(t.incomplete=!1,o.func||(o.func=s),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(t,e){for(var r,n,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],u={},l=!1,c=computeStackTraceByWalkingCallerChain.caller;c&&!l;c=c.caller)if(c!==computeStackTrace&&c!==o.report){if(n={url:null,func:s,line:null,column:null},c.name?n.func=c.name:(r=i.exec(c.toString()))&&(n.func=r[1]),"undefined"===typeof n.func)try{n.func=r.input.substring(0,r.input.indexOf("{"))}catch(f){}u[""+c]?l=!0:u[""+c]=!0,a.push(n)}e&&a.splice(0,e);var p={name:t.name,message:t.message,url:getLocationHref(),stack:a};return augmentStackTraceWithInitialElement(p,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),p}function computeStackTrace(t,e){var r=null;e=null==e?0:+e;try{if(r=computeStackTraceFromStackProp(t))return r}catch(n){if(o.debug)throw n}try{if(r=computeStackTraceByWalkingCallerChain(t,e+1))return r}catch(n){if(o.debug)throw n}return{name:t.name,message:t.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}(),t.exports=o}).call(this,r(32))},function(t,e){function safeAdd(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function md5cmn(t,e,r,n,o,i){return safeAdd(function bitRotateLeft(t,e){return t<<e|t>>>32-e}(safeAdd(safeAdd(e,t),safeAdd(n,i)),o),r)}function md5ff(t,e,r,n,o,i,a){return md5cmn(e&r|~e&n,t,e,o,i,a)}function md5gg(t,e,r,n,o,i,a){return md5cmn(e&n|r&~n,t,e,o,i,a)}function md5hh(t,e,r,n,o,i,a){return md5cmn(e^r^n,t,e,o,i,a)}function md5ii(t,e,r,n,o,i,a){return md5cmn(r^(e|~n),t,e,o,i,a)}function binlMD5(t,e){var r,n,o,i,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,u=-271733879,l=-1732584194,c=271733878;for(r=0;r<t.length;r+=16)n=s,o=u,i=l,a=c,s=md5ff(s,u,l,c,t[r],7,-680876936),c=md5ff(c,s,u,l,t[r+1],12,-389564586),l=md5ff(l,c,s,u,t[r+2],17,606105819),u=md5ff(u,l,c,s,t[r+3],22,-1044525330),s=md5ff(s,u,l,c,t[r+4],7,-176418897),c=md5ff(c,s,u,l,t[r+5],12,1200080426),l=md5ff(l,c,s,u,t[r+6],17,-1473231341),u=md5ff(u,l,c,s,t[r+7],22,-45705983),s=md5ff(s,u,l,c,t[r+8],7,1770035416),c=md5ff(c,s,u,l,t[r+9],12,-1958414417),l=md5ff(l,c,s,u,t[r+10],17,-42063),u=md5ff(u,l,c,s,t[r+11],22,-1990404162),s=md5ff(s,u,l,c,t[r+12],7,1804603682),c=md5ff(c,s,u,l,t[r+13],12,-40341101),l=md5ff(l,c,s,u,t[r+14],17,-1502002290),s=md5gg(s,u=md5ff(u,l,c,s,t[r+15],22,1236535329),l,c,t[r+1],5,-165796510),c=md5gg(c,s,u,l,t[r+6],9,-1069501632),l=md5gg(l,c,s,u,t[r+11],14,643717713),u=md5gg(u,l,c,s,t[r],20,-373897302),s=md5gg(s,u,l,c,t[r+5],5,-701558691),c=md5gg(c,s,u,l,t[r+10],9,38016083),l=md5gg(l,c,s,u,t[r+15],14,-660478335),u=md5gg(u,l,c,s,t[r+4],20,-405537848),s=md5gg(s,u,l,c,t[r+9],5,568446438),c=md5gg(c,s,u,l,t[r+14],9,-1019803690),l=md5gg(l,c,s,u,t[r+3],14,-187363961),u=md5gg(u,l,c,s,t[r+8],20,1163531501),s=md5gg(s,u,l,c,t[r+13],5,-1444681467),c=md5gg(c,s,u,l,t[r+2],9,-51403784),l=md5gg(l,c,s,u,t[r+7],14,1735328473),s=md5hh(s,u=md5gg(u,l,c,s,t[r+12],20,-1926607734),l,c,t[r+5],4,-378558),c=md5hh(c,s,u,l,t[r+8],11,-2022574463),l=md5hh(l,c,s,u,t[r+11],16,1839030562),u=md5hh(u,l,c,s,t[r+14],23,-35309556),s=md5hh(s,u,l,c,t[r+1],4,-1530992060),c=md5hh(c,s,u,l,t[r+4],11,1272893353),l=md5hh(l,c,s,u,t[r+7],16,-155497632),u=md5hh(u,l,c,s,t[r+10],23,-1094730640),s=md5hh(s,u,l,c,t[r+13],4,681279174),c=md5hh(c,s,u,l,t[r],11,-358537222),l=md5hh(l,c,s,u,t[r+3],16,-722521979),u=md5hh(u,l,c,s,t[r+6],23,76029189),s=md5hh(s,u,l,c,t[r+9],4,-640364487),c=md5hh(c,s,u,l,t[r+12],11,-421815835),l=md5hh(l,c,s,u,t[r+15],16,530742520),s=md5ii(s,u=md5hh(u,l,c,s,t[r+2],23,-995338651),l,c,t[r],6,-198630844),c=md5ii(c,s,u,l,t[r+7],10,1126891415),l=md5ii(l,c,s,u,t[r+14],15,-1416354905),u=md5ii(u,l,c,s,t[r+5],21,-57434055),s=md5ii(s,u,l,c,t[r+12],6,1700485571),c=md5ii(c,s,u,l,t[r+3],10,-1894986606),l=md5ii(l,c,s,u,t[r+10],15,-1051523),u=md5ii(u,l,c,s,t[r+1],21,-2054922799),s=md5ii(s,u,l,c,t[r+8],6,1873313359),c=md5ii(c,s,u,l,t[r+15],10,-30611744),l=md5ii(l,c,s,u,t[r+6],15,-1560198380),u=md5ii(u,l,c,s,t[r+13],21,1309151649),s=md5ii(s,u,l,c,t[r+4],6,-145523070),c=md5ii(c,s,u,l,t[r+11],10,-1120210379),l=md5ii(l,c,s,u,t[r+2],15,718787259),u=md5ii(u,l,c,s,t[r+9],21,-343485551),s=safeAdd(s,n),u=safeAdd(u,o),l=safeAdd(l,i),c=safeAdd(c,a);return[s,u,l,c]}function binl2rstr(t){var e,r="",n=32*t.length;for(e=0;e<n;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function rstr2binl(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function rstr2hex(t){var e,r,n="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}function str2rstrUTF8(t){return unescape(encodeURIComponent(t))}function rawMD5(t){return function rstrMD5(t){return binl2rstr(binlMD5(rstr2binl(t),8*t.length))}(str2rstrUTF8(t))}function rawHMACMD5(t,e){return function rstrHMACMD5(t,e){var r,n,o=rstr2binl(t),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=binlMD5(o,8*t.length)),r=0;r<16;r+=1)i[r]=909522486^o[r],a[r]=1549556828^o[r];return n=binlMD5(i.concat(rstr2binl(e)),512+8*e.length),binl2rstr(binlMD5(a.concat(n),640))}(str2rstrUTF8(t),str2rstrUTF8(e))}t.exports=function md5(t,e,r){return e?r?rawHMACMD5(e,t):function hexHMACMD5(t,e){return rstr2hex(rawHMACMD5(t,e))}(e,t):r?rawMD5(t):function hexMD5(t){return rstr2hex(rawMD5(t))}(t)}},function(t,e){function RavenConfigError(t){this.name="RavenConfigError",this.message=t}RavenConfigError.prototype=new Error,RavenConfigError.prototype.constructor=RavenConfigError,t.exports=RavenConfigError},function(t,e,r){var n=r(226);t.exports={wrapMethod:function wrapMethod(t,e,r){var o=t[e],i=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=n.safeJoin(t," "),u={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(n.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),r&&r(s,u)):r&&r(s,u),o&&Function.prototype.apply.call(o,i,t)}}}}},function(t,e,r){"use strict";var n=r(175),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.forward_ref"):60112;o&&Symbol.for("react.placeholder");var h="function"===typeof Symbol&&Symbol.iterator;function B(t){for(var e=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function A(t,e,r,n,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var m={isMounted:function isMounted(){return!1},enqueueForceUpdate:function enqueueForceUpdate(){},enqueueReplaceState:function enqueueReplaceState(){},enqueueSetState:function enqueueSetState(){}},y={};function E(t,e,r){this.props=t,this.context=e,this.refs=y,this.updater=r||m}function F(){}function G(t,e,r){this.props=t,this.context=e,this.refs=y,this.updater=r||m}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&B("85"),this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},F.prototype=E.prototype;var g=G.prototype=new F;g.constructor=G,n(g,E.prototype),g.isPureReactComponent=!0;var v={current:null,currentDispatcher:null},_=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function L(t,e,r){var n=void 0,o={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,n)&&!b.hasOwnProperty(n)&&(o[n]=e[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(n in u=t.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:v.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var x=/\/+/g,w=[];function Q(t,e,r,n){if(w.length){var o=w.pop();return o.result=t,o.keyPrefix=e,o.func=r,o.context=n,o.count=0,o}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>w.length&&w.push(t)}function U(t,e,r){return null==t?0:function S(t,e,r,n){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case i:case a:s=!0}}if(s)return r(n,t,""===e?"."+T(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=e+T(o=t[u],u);s+=S(o,l,r,n)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=h&&t[h]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),u=0;!(o=t.next()).done;)s+=S(o=o.value,l=e+T(o,u++),r,n);else"object"===o&&B("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(t,"",e,r)}function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function escape(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function V(t,e){t.func.call(t.context,e,t.count++)}function aa(t,e,r){var n=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?W(t,n,r,(function(t){return t})):null!=t&&(N(t)&&(t=function M(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(x,"$&/")+"/")+r)),n.push(t))}function W(t,e,r,n,o){var i="";null!=r&&(i=(""+r).replace(x,"$&/")+"/"),U(t,aa,e=Q(e,i,n,o)),R(e)}function ba(t,e){var r=v.currentDispatcher;return null===r&&B("277"),r.readContext(t,e)}var P={Children:{map:function map(t,e,r){if(null==t)return t;var n=[];return W(t,n,null,e,r),n},forEach:function forEach(t,e,r){if(null==t)return t;U(t,V,e=Q(null,null,e,r)),R(e)},count:function count(t){return U(t,(function(){return null}),null)},toArray:function toArray(t){var e=[];return W(t,e,null,(function(t){return t})),e},only:function only(t){return N(t)||B("143"),t}},createRef:function createRef(){return{current:null}},Component:E,PureComponent:G,createContext:function createContext(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:c,_context:t},t.Consumer=t,t.unstable_read=ba.bind(null,t),t},forwardRef:function forwardRef(t){return{$$typeof:d,render:t}},Fragment:s,StrictMode:u,unstable_AsyncMode:f,unstable_Profiler:l,createElement:L,cloneElement:function cloneElement(t,e,r){(null===t||void 0===t)&&B("267",t);var o=void 0,a=n({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=v.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(o in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)_.call(e,o)&&!b.hasOwnProperty(o)&&(a[o]=void 0===e[o]&&void 0!==c?c[o]:e[o])}if(1===(o=arguments.length-2))a.children=r;else if(1<o){c=Array(o);for(var p=0;p<o;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:i,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function createFactory(t){var e=L.bind(null,t);return e.type=t,e},isValidElement:N,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:v,assign:n}},C={default:P},D=C&&P||C;t.exports=D.default||D},function(n,o,i){"use strict";var a=i(0),s=i(175),u=i(548);function t(t){for(var e=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function ca(t,e,r,n,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function da(t,e,r,n,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}a||t("227");var p=!1,y=null,v=!1,_=null,x={onError:function onError(t){p=!0,y=t}};function ka(t,e,r,n,o,i,a,s,u){p=!1,y=null,da.apply(x,arguments)}var w=null,E={};function oa(){if(w)for(var e in E){var r=E[e],n=w.indexOf(e);if(-1<n||t("96",e),!C[n])for(var o in r.extractEvents||t("97",e),C[n]=r,n=r.eventTypes){var i=void 0,a=n[o],s=r,u=o;T.hasOwnProperty(u)&&t("99",u),T[u]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&ra(l[i],s,u);i=!0}else a.registrationName?(ra(a.registrationName,s,u),i=!0):i=!1;i||t("98",o,e)}}}function ra(e,r,n){R[e]&&t("100",e),R[e]=r,L[e]=r.eventTypes[n].dependencies}var C=[],T={},R={},L={},I=null,O=null,N=null;function xa(e,r,n,o){r=e.type||"unknown-event",e.currentTarget=N(o),function la(e,r,n,o,i,a,s,u,l){if(ka.apply(this,arguments),p){if(p){var c=y;p=!1,y=null}else t("198"),c=void 0;v||(v=!0,_=c)}}(r,n,void 0,e),e.currentTarget=null}function ya(e,r){return null==r&&t("30"),null==e?r:Array.isArray(e)?Array.isArray(r)?(e.push.apply(e,r),e):(e.push(r),e):Array.isArray(r)?[e].concat(r):[e,r]}function za(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var U=null;function Ba(t,e){if(t){var r=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(r))for(var o=0;o<r.length&&!t.isPropagationStopped();o++)xa(t,e,r[o],n[o]);else r&&xa(t,e,r,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function Ca(t){return Ba(t,!0)}function Da(t){return Ba(t,!1)}var j={injectEventPluginOrder:function injectEventPluginOrder(e){w&&t("101"),w=Array.prototype.slice.call(e),oa()},injectEventPluginsByName:function injectEventPluginsByName(e){var r,n=!1;for(r in e)if(e.hasOwnProperty(r)){var o=e[r];E.hasOwnProperty(r)&&E[r]===o||(E[r]&&t("102",r),E[r]=o,n=!0)}n&&oa()}};function Fa(e,r){var n=e.stateNode;if(!n)return null;var o=I(n);if(!o)return null;n=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break t;default:e=!1}return e?null:(n&&"function"!==typeof n&&t("231",r,typeof n),n)}function Ga(e,r){if(null!==e&&(U=ya(U,e)),e=U,U=null,e&&(za(e,r?Ca:Da),U&&t("95"),v))throw r=_,v=!1,_=null,r}var V=Math.random().toString(36).slice(2),W="__reactInternalInstance$"+V,q="__reactEventHandlers$"+V;function Ka(t){if(t[W])return t[W];for(;!t[W];){if(!t.parentNode)return null;t=t.parentNode}return 7===(t=t[W]).tag||8===t.tag?t:null}function La(t){return!(t=t[W])||7!==t.tag&&8!==t.tag?null:t}function Ma(e){if(7===e.tag||8===e.tag)return e.stateNode;t("33")}function Na(t){return t[q]||null}function Oa(t){do{t=t.return}while(t&&7!==t.tag);return t||null}function Pa(t,e,r){(e=Fa(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=ya(r._dispatchListeners,e),r._dispatchInstances=ya(r._dispatchInstances,t))}function Qa(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,r=[];e;)r.push(e),e=Oa(e);for(e=r.length;0<e--;)Pa(r[e],"captured",t);for(e=0;e<r.length;e++)Pa(r[e],"bubbled",t)}}function Ra(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=Fa(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ya(r._dispatchListeners,e),r._dispatchInstances=ya(r._dispatchInstances,t))}function Ta(t){t&&t.dispatchConfig.registrationName&&Ra(t._targetInst,null,t)}function Ua(t){za(t,Qa)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function Wa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Z={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},X={},Q={};function ab(t){if(X[t])return X[t];if(!Z[t])return t;var e,r=Z[t];for(e in r)if(r.hasOwnProperty(e)&&e in Q)return X[t]=r[e];return t}Y&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);var $=ab("animationend"),J=ab("animationiteration"),tt=ab("animationstart"),et=ab("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,ot=null,it=null;function jb(){if(it)return it;var t,e,r=ot,n=r.length,o="value"in nt?nt.value:nt.textContent,i=o.length;for(t=0;t<n&&r[t]===o[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===o[i-e];e++);return it=o.slice(t,1<e?1-e:void 0)}function kb(){return!0}function lb(){return!1}function z(t,e,r,n){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(r):"target"===o?this.target=n:this[o]=r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?kb:lb,this.isPropagationStopped=lb,this}function nb(t,e,r,n){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,r,n),o}return new this(t,e,r,n)}function ob(e){e instanceof this||t("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function mb(t){t.eventPool=[],t.getPooled=nb,t.release=ob}s(z.prototype,{preventDefault:function preventDefault(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=kb)},stopPropagation:function stopPropagation(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=kb)},persist:function persist(){this.isPersistent=kb},isPersistent:lb,destructor:function destructor(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lb,this._dispatchInstances=this._dispatchListeners=null}}),z.Interface={type:null,target:null,currentTarget:function currentTarget(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function timeStamp(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},z.extend=function(t){function b(){}function c(){return e.apply(this,arguments)}var e=this;b.prototype=e.prototype;var r=new b;return s(r,c.prototype),c.prototype=r,c.prototype.constructor=c,c.Interface=s({},e.Interface,t),c.extend=e.extend,mb(c),c},mb(z);var at=z.extend({data:null}),st=z.extend({data:null}),ut=[9,13,27,32],lt=Y&&"CompositionEvent"in window,ct=null;Y&&"documentMode"in document&&(ct=document.documentMode);var pt=Y&&"TextEvent"in window&&!ct,ft=Y&&(!lt||ct&&8<ct&&11>=ct),dt=String.fromCharCode(32),ht={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},mt=!1;function zb(t,e){switch(t){case"keyup":return-1!==ut.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ab(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var yt=!1;var gt={eventTypes:ht,extractEvents:function extractEvents(t,e,r,n){var o=void 0,i=void 0;if(lt)t:{switch(t){case"compositionstart":o=ht.compositionStart;break t;case"compositionend":o=ht.compositionEnd;break t;case"compositionupdate":o=ht.compositionUpdate;break t}o=void 0}else yt?zb(t,r)&&(o=ht.compositionEnd):"keydown"===t&&229===r.keyCode&&(o=ht.compositionStart);return o?(ft&&"ko"!==r.locale&&(yt||o!==ht.compositionStart?o===ht.compositionEnd&&yt&&(i=jb()):(ot="value"in(nt=n)?nt.value:nt.textContent,yt=!0)),o=at.getPooled(o,e,r,n),i?o.data=i:null!==(i=Ab(r))&&(o.data=i),Ua(o),i=o):i=null,(t=pt?function Cb(t,e){switch(t){case"compositionend":return Ab(e);case"keypress":return 32!==e.which?null:(mt=!0,dt);case"textInput":return(t=e.data)===dt&&mt?null:t;default:return null}}(t,r):function Db(t,e){if(yt)return"compositionend"===t||!lt&&zb(t,e)?(t=jb(),it=ot=nt=null,yt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ft&&"ko"!==e.locale?null:e.data;default:return null}}(t,r))?((e=st.getPooled(ht.beforeInput,e,r,n)).data=t,Ua(e)):e=null,null===i?e:null===e?i:[i,e]}},vt=null,_t=null,bt=null;function Ib(e){if(e=O(e)){"function"!==typeof vt&&t("280");var r=I(e.stateNode);vt(e.stateNode,e.type,r)}}function Jb(t){_t?bt?bt.push(t):bt=[t]:_t=t}function Kb(){if(_t){var t=_t,e=bt;if(bt=_t=null,Ib(t),e)for(t=0;t<e.length;t++)Ib(e[t])}}function Lb(t,e){return t(e)}function Mb(t,e,r){return t(e,r)}function Nb(){}var St=!1;function Pb(t,e){if(St)return t(e);St=!0;try{return Lb(t,e)}finally{St=!1,(null!==_t||null!==bt)&&(Nb(),Kb())}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!xt[t.type]:"textarea"===e}function Sb(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Tb(t){if(!Y)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Ub(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Wb(t){t._valueTracker||(t._valueTracker=function Vb(t){var e=Ub(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function get(){return o.call(this)},set:function set(t){n=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function getValue(){return n},setValue:function setValue(t){n=""+t},stopTracking:function stopTracking(){t._valueTracker=null,delete t[e]}}}}(t))}function Xb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ub(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}var wt=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Et=/^(.*)[\\\/]/,Pt="function"===typeof Symbol&&Symbol.for,Ct=Pt?Symbol.for("react.element"):60103,Tt=Pt?Symbol.for("react.portal"):60106,Dt=Pt?Symbol.for("react.fragment"):60107,Mt=Pt?Symbol.for("react.strict_mode"):60108,At=Pt?Symbol.for("react.profiler"):60114,Rt=Pt?Symbol.for("react.provider"):60109,Lt=Pt?Symbol.for("react.context"):60110,It=Pt?Symbol.for("react.async_mode"):60111,Ot=Pt?Symbol.for("react.forward_ref"):60112,kt=Pt?Symbol.for("react.placeholder"):60113,Ft="function"===typeof Symbol&&Symbol.iterator;function kc(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=Ft&&t[Ft]||t["@@iterator"])?t:null}function lc(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case It:return"AsyncMode";case Dt:return"Fragment";case Tt:return"Portal";case At:return"Profiler";case Mt:return"StrictMode";case kt:return"Placeholder"}if("object"===typeof t){switch(t.$$typeof){case Lt:return"Context.Consumer";case Rt:return"Context.Provider";case Ot:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef")}if("function"===typeof t.then&&(t=1===t._reactStatus?t._reactResult:null))return lc(t)}return null}function mc(t){var e="";do{t:switch(t.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var r=t._debugOwner,n=t._debugSource,o=lc(t.type),i=null;r&&(i=lc(r.type)),r=o,o="",n?o=" (at "+n.fileName.replace(Et,"")+":"+n.lineNumber+")":i&&(o=" (created by "+i+")"),i="\n    in "+(r||"Unknown")+o;break t;default:i=""}e+=i,t=t.return}while(t);return e}var Nt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bt=Object.prototype.hasOwnProperty,Ut={},zt={};function D(t,e,r,n,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){jt[t]=new D(t,0,!1,t,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];jt[e]=new D(e,1,!1,t[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){jt[t]=new D(t,2,!1,t.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){jt[t]=new D(t,2,!1,t,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){jt[t]=new D(t,3,!1,t.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(t){jt[t]=new D(t,3,!0,t,null)})),["capture","download"].forEach((function(t){jt[t]=new D(t,4,!1,t,null)})),["cols","rows","size","span"].forEach((function(t){jt[t]=new D(t,6,!1,t,null)})),["rowSpan","start"].forEach((function(t){jt[t]=new D(t,5,!1,t.toLowerCase(),null)}));var Gt=/[\-:]([a-z])/g;function wc(t){return t[1].toUpperCase()}function xc(t,e,r,n){var o=jt.hasOwnProperty(e)?jt[e]:null;(null!==o?0===o.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function uc(t,e,r,n){if(null===e||"undefined"===typeof e||function tc(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,o,n)&&(r=null),n||null===o?function sc(t){return!!Bt.call(zt,t)||!Bt.call(Ut,t)&&(Nt.test(t)?zt[t]=!0:(Ut[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=null===r?3!==o.type&&"":r:(e=o.attributeName,n=o.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}function yc(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function zc(t,e){var r=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Bc(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=yc(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Cc(t,e){null!=(e=e.checked)&&xc(t,"checked",e,!1)}function Dc(t,e){Cc(t,e);var r=yc(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ec(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ec(t,e.type,yc(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Fc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function Ec(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Gt,wc);jt[e]=new D(e,1,!1,t,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Gt,wc);jt[e]=new D(e,1,!1,t,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Gt,wc);jt[e]=new D(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")})),jt.tabIndex=new D("tabIndex",1,!1,"tabindex",null);var Vt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Hc(t,e,r){return(t=z.getPooled(Vt.change,t,e,r)).type="change",Jb(r),Ua(t),t}var Wt=null,qt=null;function Kc(t){Ga(t,!1)}function Lc(t){if(Xb(Ma(t)))return t}function Mc(t,e){if("change"===t)return e}var Ht=!1;function Oc(){Wt&&(Wt.detachEvent("onpropertychange",Pc),qt=Wt=null)}function Pc(t){"value"===t.propertyName&&Lc(qt)&&Pb(Kc,t=Hc(qt,t,Sb(t)))}function Qc(t,e,r){"focus"===t?(Oc(),qt=r,(Wt=e).attachEvent("onpropertychange",Pc)):"blur"===t&&Oc()}function Rc(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Lc(qt)}function Sc(t,e){if("click"===t)return Lc(e)}function Tc(t,e){if("input"===t||"change"===t)return Lc(e)}Y&&(Ht=Tb("input")&&(!document.documentMode||9<document.documentMode));var Kt={eventTypes:Vt,_isInputEventSupported:Ht,extractEvents:function extractEvents(t,e,r,n){var o=e?Ma(e):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Mc:Rb(o)?Ht?i=Tc:(i=Rc,a=Qc):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Sc),i&&(i=i(t,e)))return Hc(i,r,n);a&&a(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Ec(o,"number",o.value)}},Yt=z.extend({view:null,detail:null}),Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Zt[t])&&!!e[t]}function Yc(){return Xc}var Xt=0,Qt=0,$t=!1,Jt=!1,ne=Yt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yc,button:null,buttons:null,relatedTarget:function relatedTarget(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function movementX(t){if("movementX"in t)return t.movementX;var e=Xt;return Xt=t.screenX,$t?"mousemove"===t.type?t.screenX-e:0:($t=!0,0)},movementY:function movementY(t){if("movementY"in t)return t.movementY;var e=Qt;return Qt=t.screenY,Jt?"mousemove"===t.type?t.screenY-e:0:(Jt=!0,0)}}),se=ne.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),pe={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},me={eventTypes:pe,extractEvents:function extractEvents(t,e,r,n){var o="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(o&&(r.relatedTarget||r.fromElement)||!i&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=e,e=(e=r.relatedTarget||r.toElement)?Ka(e):null):i=null,i===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=ne,s=pe.mouseLeave,u=pe.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=se,s=pe.pointerLeave,u=pe.pointerEnter,l="pointer");var c=null==i?o:Ma(i);if(o=null==e?o:Ma(e),(t=a.getPooled(s,i,r,n)).type=l+"leave",t.target=c,t.relatedTarget=o,(r=a.getPooled(u,e,r,n)).type=l+"enter",r.target=o,r.relatedTarget=c,n=e,i&&n)t:{for(o=n,l=0,a=e=i;a;a=Oa(a))l++;for(a=0,u=o;u;u=Oa(u))a++;for(;0<l-a;)e=Oa(e),l--;for(;0<a-l;)o=Oa(o),a--;for(;l--;){if(e===o||e===o.alternate)break t;e=Oa(e),o=Oa(o)}e=null}else e=null;for(o=e,e=[];i&&i!==o&&(null===(l=i.alternate)||l!==o);)e.push(i),i=Oa(i);for(i=[];n&&n!==o&&(null===(l=n.alternate)||l!==o);)i.push(n),n=Oa(n);for(n=0;n<e.length;n++)Ra(e[n],"bubbled",t);for(n=i.length;0<n--;)Ra(i[n],"captured",r);return[t,r]}},ye=Object.prototype.hasOwnProperty;function hd(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function id(t,e){if(hd(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ye.call(e,r[n])||!hd(t[r[n]],e[r[n]]))return!1;return!0}function jd(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 5===e.tag?2:3}function kd(e){2!==jd(e)&&t("188")}function md(e){if(!(e=function ld(e){var r=e.alternate;if(!r)return 3===(r=jd(e))&&t("188"),1===r?null:e;for(var n=e,o=r;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===n)return kd(i),e;if(s===o)return kd(i),r;s=s.sibling}t("188")}if(n.return!==o.return)n=i,o=a;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,o=a;break}if(u===o){s=!0,o=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,o=i;break}if(u===o){s=!0,o=a,n=i;break}u=u.sibling}s||t("189")}}n.alternate!==o&&t("190")}return 5!==n.tag&&t("188"),n.stateNode.current===n?e:r}(e)))return null;for(var r=e;;){if(7===r.tag||8===r.tag)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===e)break;for(;!r.sibling;){if(!r.return||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}var _e=z.extend({animationName:null,elapsedTime:null,pseudoElement:null}),be=z.extend({clipboardData:function clipboardData(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xe=Yt.extend({relatedTarget:null});function qd(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},De=Yt.extend({key:function key(t){if(t.key){var e=Ee[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=qd(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Pe[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yc,charCode:function charCode(t){return"keypress"===t.type?qd(t):0},keyCode:function keyCode(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function which(t){return"keypress"===t.type?qd(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Oe=ne.extend({dataTransfer:null}),Fe=Yt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yc}),je=z.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ge=ne.extend({deltaX:function deltaX(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function deltaY(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),qe=[["abort","abort"],[$,"animationEnd"],[J,"animationIteration"],[tt,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[et,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],tr={},er={};function Bd(t,e){var r=t[0],n="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:e},tr[t]=e,er[r]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(t){Bd(t,!0)})),qe.forEach((function(t){Bd(t,!1)}));var rr={eventTypes:tr,isInteractiveTopLevelEventType:function isInteractiveTopLevelEventType(t){return void 0!==(t=er[t])&&!0===t.isInteractive},extractEvents:function extractEvents(t,e,r,n){var o=er[t];if(!o)return null;switch(t){case"keypress":if(0===qd(r))return null;case"keydown":case"keyup":t=De;break;case"blur":case"focus":t=xe;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=ne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=Oe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Fe;break;case $:case J:case tt:t=_e;break;case et:t=je;break;case"scroll":t=Yt;break;case"wheel":t=Ge;break;case"copy":case"cut":case"paste":t=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=se;break;default:t=z}return Ua(e=t.getPooled(o,e,r,n)),e}},nr=rr.isInteractiveTopLevelEventType,or=[];function Fd(t){var e=t.targetInst,r=e;do{if(!r){t.ancestors.push(r);break}var n;for(n=r;n.return;)n=n.return;if(!(n=5!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(r),r=Ka(n)}while(r);for(r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var o=Sb(t.nativeEvent);n=t.topLevelType;for(var i=t.nativeEvent,a=null,s=0;s<C.length;s++){var u=C[s];u&&(u=u.extractEvents(n,e,i,o))&&(a=ya(a,u))}Ga(a,!1)}}var ir=!0;function F(t,e){if(!e)return null;var r=(nr(t)?Hd:Id).bind(null,t);e.addEventListener(t,r,!1)}function Jd(t,e){if(!e)return null;var r=(nr(t)?Hd:Id).bind(null,t);e.addEventListener(t,r,!0)}function Hd(t,e){Mb(Id,t,e)}function Id(t,e){if(ir){var r=Sb(e);if(null===(r=Ka(r))||"number"!==typeof r.tag||2===jd(r)||(r=null),or.length){var n=or.pop();n.topLevelType=t,n.nativeEvent=e,n.targetInst=r,t=n}else t={topLevelType:t,nativeEvent:e,targetInst:r,ancestors:[]};try{Pb(Fd,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>or.length&&or.push(t)}}}var ar={},sr=0,ur="_reactListenersID"+(""+Math.random()).slice(2);function Nd(t){return Object.prototype.hasOwnProperty.call(t,ur)||(t[ur]=sr++,ar[t[ur]]={}),ar[t[ur]]}function Od(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,e){var r,n=Qd(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Qd(n)}}function Td(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(r){break}e=Od(t.document)}return e}function Ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var lr=Y&&"documentMode"in document&&11>=document.documentMode,cr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},pr=null,fr=null,dr=null,hr=!1;function ae(t,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return hr||null==pr||pr!==Od(r)?null:("selectionStart"in(r=pr)&&Ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},dr&&id(dr,r)?null:(dr=r,(t=z.getPooled(cr.select,fr,t,e)).type="select",t.target=pr,Ua(t),t))}var mr={eventTypes:cr,extractEvents:function extractEvents(t,e,r,n){var o,i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(o=!i)){t:{i=Nd(i),o=L.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?Ma(e):window,t){case"focus":(Rb(i)||"true"===i.contentEditable)&&(pr=i,fr=e,dr=null);break;case"blur":dr=fr=pr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return hr=!1,ae(r,n);case"selectionchange":if(lr)break;case"keydown":case"keyup":return ae(r,n)}return null}};function de(t,e){return t=s({children:void 0},e),(e=function ce(t){var e="";return a.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ee(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yc(r),e=null,o=0;o<t.length;o++){if(t[o].value===r)return t[o].selected=!0,void(n&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function fe(e,r){return null!=r.dangerouslySetInnerHTML&&t("91"),s({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ge(e,r){var n=r.value;null==n&&(n=r.defaultValue,null!=(r=r.children)&&(null!=n&&t("92"),Array.isArray(r)&&(1>=r.length||t("93"),r=r[0]),n=r),null==n&&(n="")),e._wrapperState={initialValue:yc(n)}}function he(t,e){var r=yc(e.value),n=yc(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function ie(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),I=Na,O=La,N=Ma,j.injectEventPluginsByName({SimpleEventPlugin:rr,EnterLeaveEventPlugin:me,ChangeEventPlugin:Kt,SelectEventPlugin:mr,BeforeInputEventPlugin:gt});var yr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ke(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ke(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gr=void 0,vr=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,r,n,o){MSApp.execUnsafeLocalFunction((function(){return t(e,r)}))}:t}((function(t,e){if(t.namespaceURI!==yr.svg||"innerHTML"in t)t.innerHTML=e;else{for((gr=gr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=gr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function oe(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var _r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];function re(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=r,i=e[r];o=null==i||"boolean"===typeof i||""===i?"":n||"number"!==typeof i||0===i||_r.hasOwnProperty(o)&&_r[o]?(""+i).trim():i+"px","float"===r&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}Object.keys(_r).forEach((function(t){br.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]}))}));var Sr=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(e,r){r&&(Sr[e]&&(null!=r.children||null!=r.dangerouslySetInnerHTML)&&t("137",e,""),null!=r.dangerouslySetInnerHTML&&(null!=r.children&&t("60"),"object"===typeof r.dangerouslySetInnerHTML&&"__html"in r.dangerouslySetInnerHTML||t("61")),null!=r.style&&"object"!==typeof r.style&&t("62",""))}function ue(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ve(t,e){var r=Nd(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=L[e];for(var n=0;n<e.length;n++){var o=e[n];if(!r.hasOwnProperty(o)||!r[o]){switch(o){case"scroll":Jd("scroll",t);break;case"focus":case"blur":Jd("focus",t),Jd("blur",t),r.blur=!0,r.focus=!0;break;case"cancel":case"close":Tb(o)&&Jd(o,t);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(o)&&F(o,t)}r[o]=!0}}}function we(){}var xr=null,wr=null;function ze(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ae(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Be(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Ce(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var Er=[],Pr=-1;function G(t){0>Pr||(t.current=Er[Pr],Er[Pr]=null,Pr--)}function H(t,e){Er[++Pr]=t.current,t.current=e}var Cr={},Tr={current:Cr},Dr={current:!1},Mr=Cr;function He(t,e){var r=t.type.contextTypes;if(!r)return Cr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=e[o];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function K(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ie(t){G(Dr),G(Tr)}function Je(t){G(Dr),G(Tr)}function Ke(e,r,n){Tr.current!==Cr&&t("168"),H(Tr,r),H(Dr,n)}function Le(e,r,n){var o=e.stateNode;if(e=r.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var i in o=o.getChildContext())i in e||t("108",lc(r)||"Unknown",i);return s({},n,o)}function Me(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Cr,Mr=Tr.current,H(Tr,e),H(Dr,Dr.current),!0}function Ne(e,r,n){var o=e.stateNode;o||t("169"),n?(r=Le(e,r,Mr),o.__reactInternalMemoizedMergedChildContext=r,G(Dr),G(Tr),H(Tr,r)):G(Dr),H(Dr,n)}var Ar=null,Rr=null;function Qe(t){return function(e){try{return t(e)}catch(r){}}}function Se(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Te(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ue(t,e,r){var n=t.alternate;return null===n?((n=new Se(t.tag,e,t.key,t.mode)).type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=e!==t.pendingProps?r:t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ve(e,r,n){var o=e.type,i=e.key;e=e.props;var a=void 0;if("function"===typeof o)a=Te(o)?2:4;else if("string"===typeof o)a=7;else t:switch(o){case Dt:return We(e.children,r,n,i);case It:a=10,r|=3;break;case Mt:a=10,r|=2;break;case At:return(o=new Se(15,e,i,4|r)).type=At,o.expirationTime=n,o;case kt:a=16;break;default:if("object"===typeof o&&null!==o)switch(o.$$typeof){case Rt:a=12;break t;case Lt:a=11;break t;case Ot:a=13;break t;default:if("function"===typeof o.then){a=4;break t}}t("130",null==o?o:typeof o,"")}return(r=new Se(a,e,i,r)).type=o,r.expirationTime=n,r}function We(t,e,r,n){return(t=new Se(9,t,n,e)).expirationTime=r,t}function Xe(t,e,r){return(t=new Se(8,t,null,e)).expirationTime=r,t}function Ye(t,e,r){return(e=new Se(6,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ze(t,e){t.didError=!1;var r=t.earliestPendingTime;0===r?t.earliestPendingTime=t.latestPendingTime=e:r>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),$e(e,t)}function $e(t,e){var r=e.earliestSuspendedTime,n=e.latestSuspendedTime,o=e.earliestPendingTime,i=e.latestPingedTime;0===(o=0!==o?o:i)&&(0===t||n>t)&&(o=n),0!==(t=o)&&0!==r&&r<t&&(t=r),e.nextExpirationTimeToWorkOn=o,e.expirationTime=t}var Lr=!1;function bf(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function cf(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function df(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ef(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function ff(t,e){var r=t.alternate;if(null===r){var n=t.updateQueue,o=null;null===n&&(n=t.updateQueue=bf(t.memoizedState))}else n=t.updateQueue,o=r.updateQueue,null===n?null===o?(n=t.updateQueue=bf(t.memoizedState),o=r.updateQueue=bf(r.memoizedState)):n=t.updateQueue=cf(o):null===o&&(o=r.updateQueue=cf(n));null===o||n===o?ef(n,e):null===n.lastUpdate||null===o.lastUpdate?(ef(n,e),ef(o,e)):(ef(n,e),o.lastUpdate=e)}function gf(t,e){var r=t.updateQueue;null===(r=null===r?t.updateQueue=bf(t.memoizedState):hf(t,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=e:(r.lastCapturedUpdate.next=e,r.lastCapturedUpdate=e)}function hf(t,e){var r=t.alternate;return null!==r&&e===r.updateQueue&&(e=t.updateQueue=cf(e)),e}function jf(t,e,r,n,o,i){switch(r.tag){case 1:return"function"===typeof(t=r.payload)?t.call(i,n,o):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(o="function"===typeof(t=r.payload)?t.call(i,n,o):t)||void 0===o)break;return s({},n,o);case 2:Lr=!0}return n}function kf(t,e,r,n,o){Lr=!1;for(var i=(e=hf(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=i;null!==u;){var c=u.expirationTime;c>o?(null===a&&(a=u,i=l),(0===s||s>c)&&(s=c)):(l=jf(t,0,u,l,r,n),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var p=u.expirationTime;p>o?(null===c&&(c=u,null===a&&(i=l)),(0===s||s>p)&&(s=p)):(l=jf(t,0,u,l,r,n),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(i=l),e.baseState=i,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function lf(t,e,r){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),mf(e.firstEffect,r),e.firstEffect=e.lastEffect=null,mf(e.firstCapturedEffect,r),e.firstCapturedEffect=e.lastCapturedEffect=null}function mf(e,r){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var o=r;"function"!==typeof n&&t("191",n),n.call(o)}e=e.nextEffect}}function nf(t,e){return{value:t,source:e,stack:mc(e)}}var Ir={current:null},Or=null,kr=null,Fr=null;function sf(t,e){var r=t.type._context;H(Ir,r._currentValue),r._currentValue=e}function tf(t){var e=Ir.current;G(Ir),t.type._context._currentValue=e}function uf(t){Or=t,Fr=kr=null,t.firstContextDependency=null}function vf(e,r){return Fr!==e&&!1!==r&&0!==r&&("number"===typeof r&&1073741823!==r||(Fr=e,r=1073741823),r={context:e,observedBits:r,next:null},null===kr?(null===Or&&t("277"),Or.firstContextDependency=kr=r):kr=kr.next=r),e._currentValue}var Nr={},Br={current:Nr},Ur={current:Nr},zr={current:Nr};function zf(e){return e===Nr&&t("174"),e}function Af(t,e){H(zr,e),H(Ur,t),H(Br,Nr);var r=e.nodeType;switch(r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:le(null,"");break;default:e=le(e=(r=8===r?e.parentNode:e).namespaceURI||null,r=r.tagName)}G(Br),H(Br,e)}function Bf(t){G(Br),G(Ur),G(zr)}function Cf(t){zf(zr.current);var e=zf(Br.current),r=le(e,t.type);e!==r&&(H(Ur,t),H(Br,r))}function Df(t){Ur.current===t&&(G(Br),G(Ur))}var jr=(new a.Component).refs;function Ff(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:s({},e,r),t.memoizedState=r,null!==(n=t.updateQueue)&&0===t.expirationTime&&(n.baseState=r)}var Gr={isMounted:function isMounted(t){return!!(t=t._reactInternalFiber)&&2===jd(t)},enqueueSetState:function enqueueSetState(t,e,r){t=t._reactInternalFiber;var n=Gf(),o=df(n=Hf(n,t));o.payload=e,void 0!==r&&null!==r&&(o.callback=r),ff(t,o),If(t,n)},enqueueReplaceState:function enqueueReplaceState(t,e,r){t=t._reactInternalFiber;var n=Gf(),o=df(n=Hf(n,t));o.tag=1,o.payload=e,void 0!==r&&null!==r&&(o.callback=r),ff(t,o),If(t,n)},enqueueForceUpdate:function enqueueForceUpdate(t,e){t=t._reactInternalFiber;var r=Gf(),n=df(r=Hf(r,t));n.tag=2,void 0!==e&&null!==e&&(n.callback=e),ff(t,n),If(t,r)}};function Kf(t,e,r,n,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!id(r,n)||!id(o,i))}function Lf(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gr.enqueueReplaceState(e,e.state,null)}function Mf(t,e,r,n){var o=t.stateNode,i=K(e)?Mr:Tr.current;o.props=r,o.state=t.memoizedState,o.refs=jr,o.context=He(t,i),null!==(i=t.updateQueue)&&(kf(t,i,r,o,n),o.state=t.memoizedState),"function"===typeof(i=e.getDerivedStateFromProps)&&(Ff(t,e,i,r),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Gr.enqueueReplaceState(o,o.state,null),null!==(i=t.updateQueue)&&(kf(t,i,r,o,n),o.state=t.memoizedState)),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var Vr=Array.isArray;function Of(e,r,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var o=void 0;n&&(2!==n.tag&&3!==n.tag&&t("110"),o=n.stateNode),o||t("147",e);var i=""+e;return null!==r&&null!==r.ref&&"function"===typeof r.ref&&r.ref._stringRef===i?r.ref:((r=function b(t){var b=o.refs;b===jr&&(b=o.refs={}),null===t?delete b[i]:b[i]=t})._stringRef=i,r)}"string"!==typeof e&&t("284"),n._owner||t("254",e)}return e}function Pf(e,r){"textarea"!==e.type&&t("31","[object Object]"===Object.prototype.toString.call(r)?"object with keys {"+Object.keys(r).join(", ")+"}":r,"")}function Qf(n){function b(t,e){if(n){var r=t.lastEffect;null!==r?(r.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function c(t,e){if(!n)return null;for(;null!==e;)b(t,e),e=e.sibling;return null}function d(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function e(t,e,r){return(t=Ue(t,e,r)).index=0,t.sibling=null,t}function f(t,e,r){return t.index=r,n?null!==(r=t.alternate)?(r=r.index)<e?(t.effectTag=2,e):r:(t.effectTag=2,e):e}function g(t){return n&&null===t.alternate&&(t.effectTag=2),t}function h(t,r,n,o){return null===r||8!==r.tag?((r=Xe(n,t.mode,o)).return=t,r):((r=e(r,n,o)).return=t,r)}function k(t,r,n,o){return null!==r&&r.type===n.type?((o=e(r,n.props,o)).ref=Of(t,r,n),o.return=t,o):((o=Ve(n,t.mode,o)).ref=Of(t,r,n),o.return=t,o)}function l(t,r,n,o){return null===r||6!==r.tag||r.stateNode.containerInfo!==n.containerInfo||r.stateNode.implementation!==n.implementation?((r=Ye(n,t.mode,o)).return=t,r):((r=e(r,n.children||[],o)).return=t,r)}function m(t,r,n,o,i){return null===r||9!==r.tag?((r=We(n,t.mode,o,i)).return=t,r):((r=e(r,n,o)).return=t,r)}function r(t,e,r){if("string"===typeof e||"number"===typeof e)return(e=Xe(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Ct:return(r=Ve(e,t.mode,r)).ref=Of(t,null,e),r.return=t,r;case Tt:return(e=Ye(e,t.mode,r)).return=t,e}if(Vr(e)||kc(e))return(e=We(e,t.mode,r,null)).return=t,e;Pf(t,e)}return null}function A(t,e,r,n){var o=null!==e?e.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:h(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ct:return r.key===o?r.type===Dt?m(t,e,r.props.children,n,o):k(t,e,r,n):null;case Tt:return r.key===o?l(t,e,r,n):null}if(Vr(r)||kc(r))return null!==o?null:m(t,e,r,n,null);Pf(t,r)}return null}function S(t,e,r,n,o){if("string"===typeof n||"number"===typeof n)return h(e,t=t.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ct:return t=t.get(null===n.key?r:n.key)||null,n.type===Dt?m(e,t,n.props.children,o,n.key):k(e,t,n,o);case Tt:return l(e,t=t.get(null===n.key?r:n.key)||null,n,o)}if(Vr(n)||kc(n))return m(e,t=t.get(r)||null,n,o,null);Pf(e,n)}return null}function B(t,e,o,i){for(var a=null,s=null,u=e,l=e=0,p=null;null!==u&&l<o.length;l++){u.index>l?(p=u,u=null):p=u.sibling;var h=A(t,u,o[l],i);if(null===h){null===u&&(u=p);break}n&&u&&null===h.alternate&&b(t,u),e=f(h,e,l),null===s?a=h:s.sibling=h,s=h,u=p}if(l===o.length)return c(t,u),a;if(null===u){for(;l<o.length;l++)(u=r(t,o[l],i))&&(e=f(u,e,l),null===s?a=u:s.sibling=u,s=u);return a}for(u=d(t,u);l<o.length;l++)(p=S(u,t,l,o[l],i))&&(n&&null!==p.alternate&&u.delete(null===p.key?l:p.key),e=f(p,e,l),null===s?a=p:s.sibling=p,s=p);return n&&u.forEach((function(e){return b(t,e)})),a}function P(e,o,i,a){var s=kc(i);"function"!==typeof s&&t("150"),null==(i=s.call(i))&&t("151");for(var u=s=null,l=o,p=o=0,h=null,m=i.next();null!==l&&!m.done;p++,m=i.next()){l.index>p?(h=l,l=null):h=l.sibling;var y=A(e,l,m.value,a);if(null===y){l||(l=h);break}n&&l&&null===y.alternate&&b(e,l),o=f(y,o,p),null===u?s=y:u.sibling=y,u=y,l=h}if(m.done)return c(e,l),s;if(null===l){for(;!m.done;p++,m=i.next())null!==(m=r(e,m.value,a))&&(o=f(m,o,p),null===u?s=m:u.sibling=m,u=m);return s}for(l=d(e,l);!m.done;p++,m=i.next())null!==(m=S(l,e,p,m.value,a))&&(n&&null!==m.alternate&&l.delete(null===m.key?p:m.key),o=f(m,o,p),null===u?s=m:u.sibling=m,u=m);return n&&l.forEach((function(t){return b(e,t)})),s}return function(r,n,o,i){var a="object"===typeof o&&null!==o&&o.type===Dt&&null===o.key;a&&(o=o.props.children);var s="object"===typeof o&&null!==o;if(s)switch(o.$$typeof){case Ct:t:{for(s=o.key,a=n;null!==a;){if(a.key===s){if(9===a.tag?o.type===Dt:a.type===o.type){c(r,a.sibling),(n=e(a,o.type===Dt?o.props.children:o.props,i)).ref=Of(r,a,o),n.return=r,r=n;break t}c(r,a);break}b(r,a),a=a.sibling}o.type===Dt?((n=We(o.props.children,r.mode,i,o.key)).return=r,r=n):((i=Ve(o,r.mode,i)).ref=Of(r,n,o),i.return=r,r=i)}return g(r);case Tt:t:{for(a=o.key;null!==n;){if(n.key===a){if(6===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){c(r,n.sibling),(n=e(n,o.children||[],i)).return=r,r=n;break t}c(r,n);break}b(r,n),n=n.sibling}(n=Ye(o,r.mode,i)).return=r,r=n}return g(r)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&8===n.tag?(c(r,n.sibling),(n=e(n,o,i)).return=r,r=n):(c(r,n),(n=Xe(o,r.mode,i)).return=r,r=n),g(r);if(Vr(o))return B(r,n,o,i);if(kc(o))return P(r,n,o,i);if(s&&Pf(r,o),"undefined"===typeof o&&!a)switch(r.tag){case 2:case 3:case 0:t("152",(i=r.type).displayName||i.name||"Component")}return c(r,n)}}var Wr=Qf(!0),qr=Qf(!1),Hr=null,Kr=null,Yr=!1;function Wf(t,e){var r=new Se(7,null,null,0);r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Xf(t,e){switch(t.tag){case 7:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 8:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Yf(t){if(Yr){var e=Kr;if(e){var r=e;if(!Xf(t,e)){if(!(e=Be(r))||!Xf(t,e))return t.effectTag|=2,Yr=!1,void(Hr=t);Wf(Hr,r)}Hr=t,Kr=Ce(e)}else t.effectTag|=2,Yr=!1,Hr=t}}function Zf(t){for(t=t.return;null!==t&&7!==t.tag&&5!==t.tag;)t=t.return;Hr=t}function $f(t){if(t!==Hr)return!1;if(!Yr)return Zf(t),Yr=!0,!1;var e=t.type;if(7!==t.tag||"head"!==e&&"body"!==e&&!Ae(e,t.memoizedProps))for(e=Kr;e;)Wf(t,e),e=Be(e);return Zf(t),Kr=Hr?Be(t.stateNode):null,!0}function ag(){Kr=Hr=null,Yr=!1}var Zr=wt.ReactCurrentOwner;function M(t,e,r,n){e.child=null===t?qr(e,null,r,n):Wr(e,t.child,r,n)}function dg(t,e,r,n,o){r=r.render;var i=e.ref;return Dr.current||e.memoizedProps!==n||i!==(null!==t?t.ref:null)?(M(t,e,r=r(n,i),o),e.memoizedProps=n,e.child):eg(t,e,o)}function fg(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function gg(t,e,r,n,o){var i=K(r)?Mr:Tr.current;return i=He(e,i),uf(e),r=r(n,i),e.effectTag|=1,M(t,e,r,o),e.memoizedProps=n,e.child}function hg(t,e,r,n,o){if(K(r)){var i=!0;Me(e)}else i=!1;if(uf(e),null===t)if(null===e.stateNode){var a=K(r)?Mr:Tr.current,s=r.contextTypes,u=null!==s&&void 0!==s,l=new r(n,s=u?He(e,a):Cr);e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Gr,e.stateNode=l,l._reactInternalFiber=e,u&&((u=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,u.__reactInternalMemoizedMaskedChildContext=s),Mf(e,r,n,o),n=!0}else{a=e.stateNode,s=e.memoizedProps,a.props=s;var c=a.context;u=He(e,u=K(r)?Mr:Tr.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||c!==u)&&Lf(e,a,n,u),Lr=!1;var f=e.memoizedState;c=a.state=f;var d=e.updateQueue;null!==d&&(kf(e,d,n,a,o),c=e.memoizedState),s!==n||f!==c||Dr.current||Lr?("function"===typeof p&&(Ff(e,r,p,n),c=e.memoizedState),(s=Lr||Kf(e,r,s,n,f,c,u))?(l||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),n=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,c=a.context,u=He(e,u=K(r)?Mr:Tr.current),(l="function"===typeof(p=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||c!==u)&&Lf(e,a,n,u),Lr=!1,c=e.memoizedState,f=a.state=c,null!==(d=e.updateQueue)&&(kf(e,d,n,a,o),f=e.memoizedState),s!==n||c!==f||Dr.current||Lr?("function"===typeof p&&(Ff(e,r,p,n),f=e.memoizedState),(p=Lr||Kf(e,r,s,n,c,f,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=u,n=p):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),n=!1);return ig(t,e,r,n,i,o)}function ig(t,e,r,n,o,i){fg(t,e);var a=0!==(64&e.effectTag);if(!n&&!a)return o&&Ne(e,r,!1),eg(t,e,i);n=e.stateNode,Zr.current=e;var s=a?null:n.render();return e.effectTag|=1,null!==t&&a&&(M(t,e,null,i),e.child=null),M(t,e,s,i),e.memoizedState=n.state,e.memoizedProps=n.props,o&&Ne(e,r,!0),e.child}function jg(t){var e=t.stateNode;e.pendingContext?Ke(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ke(0,e.context,!1),Af(t,e.containerInfo)}function ng(t,e){if(t&&t.defaultProps)for(var r in e=s({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}function eg(e,r,n){null!==e&&(r.firstContextDependency=e.firstContextDependency);var o=r.childExpirationTime;if(0===o||o>n)return null;if(null!==e&&r.child!==e.child&&t("153"),null!==r.child){for(n=Ue(e=r.child,e.pendingProps,e.expirationTime),r.child=n,n.return=r;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ue(e,e.pendingProps,e.expirationTime)).return=r;n.sibling=null}return r.child}function pg(e,r,n){var o=r.expirationTime;if(!Dr.current&&(0===o||o>n)){switch(r.tag){case 5:jg(r),ag();break;case 7:Cf(r);break;case 2:K(r.type)&&Me(r);break;case 3:K(r.type._reactResult)&&Me(r);break;case 6:Af(r,r.stateNode.containerInfo);break;case 12:sf(r,r.memoizedProps.value)}return eg(e,r,n)}switch(r.expirationTime=0,r.tag){case 4:return function og(e,r,n,o){null!==e&&t("155");var i=r.pendingProps;if("object"===typeof n&&null!==n&&"function"===typeof n.then){var a=n=function bg(t){switch(t._reactStatus){case 1:return t._reactResult;case 2:throw t._reactResult;case 0:throw t;default:throw t._reactStatus=0,t.then((function(e){if(0===t._reactStatus){if(t._reactStatus=1,"object"===typeof e&&null!==e){var r=e.default;e=void 0!==r&&null!==r?r:e}t._reactResult=e}}),(function(e){0===t._reactStatus&&(t._reactStatus=2,t._reactResult=e)})),t}}(n);a="function"===typeof a?Te(a)?3:1:void 0!==a&&null!==a&&a.$$typeof?14:4,a=r.tag=a;var s=ng(n,i);switch(a){case 1:return gg(e,r,n,s,o);case 3:return hg(e,r,n,s,o);case 14:return dg(e,r,n,s,o);default:t("283",n)}}if(a=He(r,Tr.current),uf(r),a=n(i,a),r.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){r.tag=2,K(n)?(s=!0,Me(r)):s=!1,r.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var u=n.getDerivedStateFromProps;return"function"===typeof u&&Ff(r,n,u,i),a.updater=Gr,r.stateNode=a,a._reactInternalFiber=r,Mf(r,n,i,o),ig(e,r,n,!0,s,o)}return r.tag=0,M(e,r,a,o),r.memoizedProps=i,r.child}(e,r,r.type,n);case 0:return gg(e,r,r.type,r.pendingProps,n);case 1:var i=r.type._reactResult;return e=gg(e,r,i,ng(i,o=r.pendingProps),n),r.memoizedProps=o,e;case 2:return hg(e,r,r.type,r.pendingProps,n);case 3:return e=hg(e,r,i=r.type._reactResult,ng(i,o=r.pendingProps),n),r.memoizedProps=o,e;case 5:return jg(r),null===(o=r.updateQueue)&&t("282"),i=null!==(i=r.memoizedState)?i.element:null,kf(r,o,r.pendingProps,null,n),(o=r.memoizedState.element)===i?(ag(),r=eg(e,r,n)):(i=r.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Kr=Ce(r.stateNode.containerInfo),Hr=r,i=Yr=!0),i?(r.effectTag|=2,r.child=qr(r,null,o,n)):(M(e,r,o,n),ag()),r=r.child),r;case 7:Cf(r),null===e&&Yf(r),o=r.type,i=r.pendingProps;var a=null!==e?e.memoizedProps:null,s=i.children;return Ae(o,i)?s=null:null!==a&&Ae(o,a)&&(r.effectTag|=16),fg(e,r),1073741823!==n&&1&r.mode&&i.hidden?(r.expirationTime=1073741823,r.memoizedProps=i,r=null):(M(e,r,s,n),r.memoizedProps=i,r=r.child),r;case 8:return null===e&&Yf(r),r.memoizedProps=r.pendingProps,null;case 16:return null;case 6:return Af(r,r.stateNode.containerInfo),o=r.pendingProps,null===e?r.child=Wr(r,null,o,n):M(e,r,o,n),r.memoizedProps=o,r.child;case 13:return dg(e,r,r.type,r.pendingProps,n);case 14:return e=dg(e,r,i=r.type._reactResult,ng(i,o=r.pendingProps),n),r.memoizedProps=o,e;case 9:return M(e,r,o=r.pendingProps,n),r.memoizedProps=o,r.child;case 10:return M(e,r,o=r.pendingProps.children,n),r.memoizedProps=o,r.child;case 15:return M(e,r,(o=r.pendingProps).children,n),r.memoizedProps=o,r.child;case 12:t:{if(o=r.type._context,i=r.pendingProps,s=r.memoizedProps,a=i.value,r.memoizedProps=i,sf(r,a),null!==s){var u=s.value;if(0===(a=u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a?0:0|("function"===typeof o._calculateChangedBits?o._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!Dr.current){r=eg(e,r,n);break t}}else for(null!==(s=r.child)&&(s.return=r);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===o&&0!==(u.observedBits&a)){if(2===s.tag||3===s.tag){var l=df(n);l.tag=2,ff(s,l)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),null!==(l=s.alternate)&&(0===l.expirationTime||l.expirationTime>n)&&(l.expirationTime=n);for(var c=s.return;null!==c;){if(l=c.alternate,0===c.childExpirationTime||c.childExpirationTime>n)c.childExpirationTime=n,null!==l&&(0===l.childExpirationTime||l.childExpirationTime>n)&&(l.childExpirationTime=n);else{if(null===l||!(0===l.childExpirationTime||l.childExpirationTime>n))break;l.childExpirationTime=n}c=c.return}}l=s.child,u=u.next}while(null!==u);else l=12===s.tag&&s.type===r.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===r){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}M(e,r,i.children,n),r=r.child}return r;case 11:return a=r.type,i=(o=r.pendingProps).children,uf(r),i=i(a=vf(a,o.unstable_observedBits)),r.effectTag|=1,M(e,r,i,n),r.memoizedProps=o,r.child;default:t("156")}}function qg(t){t.effectTag|=4}var Xr=void 0,Qr=void 0,$r=void 0;function ug(t,e){var r=e.source,n=e.stack;null===n&&null!==r&&(n=mc(r)),null!==r&&lc(r.type),e=e.value,null!==t&&2===t.tag&&lc(t.type);try{console.error(e)}catch(o){setTimeout((function(){throw o}))}}function vg(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(r){wg(t,r)}else e.current=null}function xg(t){switch("function"===typeof Rr&&Rr(t),t.tag){case 2:case 3:vg(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(r){wg(t,r)}break;case 7:vg(t);break;case 6:yg(t)}}function zg(t){return 7===t.tag||5===t.tag||6===t.tag}function Ag(e){t:{for(var r=e.return;null!==r;){if(zg(r)){var n=r;break t}r=r.return}t("160"),n=void 0}var o=r=void 0;switch(n.tag){case 7:r=n.stateNode,o=!1;break;case 5:case 6:r=n.stateNode.containerInfo,o=!0;break;default:t("161")}16&n.effectTag&&(oe(r,""),n.effectTag&=-17);t:e:for(n=e;;){for(;null===n.sibling;){if(null===n.return||zg(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||6===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=e;;){if(7===i.tag||8===i.tag)if(n)if(o){var a=r,s=i.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else r.insertBefore(i.stateNode,n);else o?(a=r,s=i.stateNode,8===a.nodeType?(u=a.parentNode).insertBefore(s,a):(u=a).appendChild(s),null===u.onclick&&(u.onclick=we)):r.appendChild(i.stateNode);else if(6!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function yg(e){for(var r=e,n=!1,o=void 0,i=void 0;;){if(!n){n=r.return;t:for(;;){switch(null===n&&t("160"),n.tag){case 7:o=n.stateNode,i=!1;break t;case 5:case 6:o=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(7===r.tag||8===r.tag){t:for(var a=r,s=a;;)if(xg(s),null!==s.child&&6!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(a=o,s=r.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):o.removeChild(r.stateNode)}else if(6===r.tag?(o=r.stateNode.containerInfo,i=!0):xg(r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;6===(r=r.return).tag&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Bg(e,r){switch(r.tag){case 2:case 3:break;case 7:var n=r.stateNode;if(null!=n){var o=r.memoizedProps,i=null!==e?e.memoizedProps:o;e=r.type;var a=r.updateQueue;if(r.updateQueue=null,null!==a){for(n[q]=o,"input"===e&&"radio"===o.type&&null!=o.name&&Cc(n,o),ue(e,i),r=ue(e,o),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?re(n,u):"dangerouslySetInnerHTML"===s?vr(n,u):"children"===s?oe(n,u):xc(n,s,u,r)}switch(e){case"input":Dc(n,o);break;case"textarea":he(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(a=o.value)?ee(n,!!o.multiple,a,!1):e!==!!o.multiple&&(null!=o.defaultValue?ee(n,!!o.multiple,o.defaultValue,!0):ee(n,!!o.multiple,o.multiple?[]:"",!1))}}}break;case 8:null===r.stateNode&&t("162"),r.stateNode.nodeValue=r.memoizedProps;break;case 5:case 15:case 16:break;default:t("163")}}function Cg(t,e,r){(r=df(r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dg(n),ug(t,e)},r}function Eg(t,e,r){(r=df(r)).tag=3;var n=t.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){null===pn?pn=new Set([this]):pn.add(this);var r=e.value,n=e.stack;ug(t,e),this.componentDidCatch(r,{componentStack:null!==n?n:""})}),r}function Gg(e){switch(e.tag){case 2:K(e.type)&&Ie();var r=e.effectTag;return 1024&r?(e.effectTag=-1025&r|64,e):null;case 3:return K(e.type._reactResult)&&Ie(),1024&(r=e.effectTag)?(e.effectTag=-1025&r|64,e):null;case 5:return Bf(),Je(),0!==(64&(r=e.effectTag))&&t("285"),e.effectTag=-1025&r|64,e;case 7:return Df(e),null;case 16:return 1024&(r=e.effectTag)?(e.effectTag=-1025&r|64,e):null;case 6:return Bf(),null;case 12:return tf(e),null;default:return null}}Xr=function rg(){},Qr=function sg(t,e,r,n,o){var i=t.memoizedProps;if(i!==n){var a=e.stateNode;switch(zf(Br.current),t=null,r){case"input":i=zc(a,i),n=zc(a,n),t=[];break;case"option":i=de(a,i),n=de(a,n),t=[];break;case"select":i=s({},i,{value:void 0}),n=s({},n,{value:void 0}),t=[];break;case"textarea":i=fe(a,i),n=fe(a,n),t=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(a.onclick=we)}te(r,n),a=r=void 0;var u=null;for(r in i)if(!n.hasOwnProperty(r)&&i.hasOwnProperty(r)&&null!=i[r])if("style"===r){var l=i[r];for(a in l)l.hasOwnProperty(a)&&(u||(u={}),u[a]="")}else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(R.hasOwnProperty(r)?t||(t=[]):(t=t||[]).push(r,null));for(r in n){var c=n[r];if(l=null!=i?i[r]:void 0,n.hasOwnProperty(r)&&c!==l&&(null!=c||null!=l))if("style"===r)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(u||(u={}),u[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(u||(u={}),u[a]=c[a])}else u||(t||(t=[]),t.push(r,u)),u=c;else"dangerouslySetInnerHTML"===r?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(r,""+c)):"children"===r?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(r,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(R.hasOwnProperty(r)?(null!=c&&ve(o,r),t||l===c||(t=[])):(t=t||[]).push(r,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&qg(e)}},$r=function tg(t,e,r,n){r!==n&&qg(e)};var Jr={readContext:vf},tn=wt.ReactCurrentOwner,en=0,rn=0,nn=!1,on=null,an=null,sn=0,un=!1,ln=null,cn=!1,pn=null;function Pg(){if(null!==on)for(var t=on.return;null!==t;){var e=t;switch(e.tag){case 2:var r=e.type.childContextTypes;null!==r&&void 0!==r&&Ie();break;case 3:null!==(r=e.type._reactResult.childContextTypes)&&void 0!==r&&Ie();break;case 5:Bf(),Je();break;case 7:Df(e);break;case 6:Bf();break;case 12:tf(e)}t=t.return}an=null,sn=0,un=!1,on=null}function Qg(e){for(;;){var r=e.alternate,n=e.return,o=e.sibling;if(0===(512&e.effectTag)){var i=r,a=(r=e).pendingProps;switch(r.tag){case 0:case 1:break;case 2:K(r.type)&&Ie();break;case 3:K(r.type._reactResult)&&Ie();break;case 5:Bf(),Je(),(a=r.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==i&&null!==i.child||($f(r),r.effectTag&=-3),Xr(r);break;case 7:Df(r);var u=zf(zr.current),l=r.type;if(null!==i&&null!=r.stateNode)Qr(i,r,l,a,u),i.ref!==r.ref&&(r.effectTag|=128);else if(a){var c=zf(Br.current);if($f(r)){i=(a=r).stateNode;var p=a.type,f=a.memoizedProps,d=u;switch(i[W]=a,i[q]=f,l=void 0,u=p){case"iframe":case"object":F("load",i);break;case"video":case"audio":for(p=0;p<rt.length;p++)F(rt[p],i);break;case"source":F("error",i);break;case"img":case"image":case"link":F("error",i),F("load",i);break;case"form":F("reset",i),F("submit",i);break;case"details":F("toggle",i);break;case"input":Bc(i,f),F("invalid",i),ve(d,"onChange");break;case"select":i._wrapperState={wasMultiple:!!f.multiple},F("invalid",i),ve(d,"onChange");break;case"textarea":ge(i,f),F("invalid",i),ve(d,"onChange")}for(l in te(u,f),p=null,f)f.hasOwnProperty(l)&&(c=f[l],"children"===l?"string"===typeof c?i.textContent!==c&&(p=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(p=["children",""+c]):R.hasOwnProperty(l)&&null!=c&&ve(d,l));switch(u){case"input":Wb(i),Fc(i,f,!0);break;case"textarea":Wb(i),ie(i);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(i.onclick=we)}l=p,a.updateQueue=l,(a=null!==l)&&qg(r)}else{f=r,i=l,d=a,p=9===u.nodeType?u:u.ownerDocument,c===yr.html&&(c=ke(i)),c===yr.html?"script"===i?((i=p.createElement("div")).innerHTML="<script><\/script>",p=i.removeChild(i.firstChild)):"string"===typeof d.is?p=p.createElement(i,{is:d.is}):(p=p.createElement(i),"select"===i&&d.multiple&&(p.multiple=!0)):p=p.createElementNS(c,i),(i=p)[W]=f,i[q]=a;t:for(f=i,d=r,p=d.child;null!==p;){if(7===p.tag||8===p.tag)f.appendChild(p.stateNode);else if(6!==p.tag&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===d)break;for(;null===p.sibling;){if(null===p.return||p.return===d)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}d=i;var h=u,m=ue(p=l,f=a);switch(p){case"iframe":case"object":F("load",d),u=f;break;case"video":case"audio":for(u=0;u<rt.length;u++)F(rt[u],d);u=f;break;case"source":F("error",d),u=f;break;case"img":case"image":case"link":F("error",d),F("load",d),u=f;break;case"form":F("reset",d),F("submit",d),u=f;break;case"details":F("toggle",d),u=f;break;case"input":Bc(d,f),u=zc(d,f),F("invalid",d),ve(h,"onChange");break;case"option":u=de(d,f);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},u=s({},f,{value:void 0}),F("invalid",d),ve(h,"onChange");break;case"textarea":ge(d,f),u=fe(d,f),F("invalid",d),ve(h,"onChange");break;default:u=f}te(p,u),c=void 0;var y=p,g=d,v=u;for(c in v)if(v.hasOwnProperty(c)){var _=v[c];"style"===c?re(g,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&vr(g,_):"children"===c?"string"===typeof _?("textarea"!==y||""!==_)&&oe(g,_):"number"===typeof _&&oe(g,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(R.hasOwnProperty(c)?null!=_&&ve(h,c):null!=_&&xc(g,c,_,m))}switch(p){case"input":Wb(d),Fc(d,f,!1);break;case"textarea":Wb(d),ie(d);break;case"option":null!=f.value&&d.setAttribute("value",""+yc(f.value));break;case"select":(u=d).multiple=!!f.multiple,null!=(d=f.value)?ee(u,!!f.multiple,d,!1):null!=f.defaultValue&&ee(u,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof u.onClick&&(d.onclick=we)}(a=ze(l,a))&&qg(r),r.stateNode=i}null!==r.ref&&(r.effectTag|=128)}else null===r.stateNode&&t("166");break;case 8:i&&null!=r.stateNode?$r(i,r,i.memoizedProps,a):("string"!==typeof a&&(null===r.stateNode&&t("166")),i=zf(zr.current),zf(Br.current),$f(r)?(l=(a=r).stateNode,i=a.memoizedProps,l[W]=a,(a=l.nodeValue!==i)&&qg(r)):(l=r,(a=(9===i.nodeType?i:i.ownerDocument).createTextNode(a))[W]=l,r.stateNode=a));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:Bf(),Xr(r);break;case 12:tf(r);break;case 11:break;case 4:t("167");default:t("156")}if(r=on=null,a=e,1073741823===sn||1073741823!==a.childExpirationTime){for(l=0,i=a.child;null!==i;)u=i.expirationTime,f=i.childExpirationTime,(0===l||0!==u&&u<l)&&(l=u),(0===l||0!==f&&f<l)&&(l=f),i=i.sibling;a.childExpirationTime=l}if(null!==r)return r;null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Gg(e)))return e.effectTag&=511,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==o)return o;if(null===n)break;e=n}return null}function Rg(t){var e=pg(t.alternate,t,sn);return null===e&&(e=Qg(t)),tn.current=null,e}function Sg(e,r,n){nn&&t("243"),nn=!0,tn.currentDispatcher=Jr;var o=e.nextExpirationTimeToWorkOn;o===sn&&e===an&&null!==on||(Pg(),sn=o,on=Ue((an=e).current,null,sn),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(r)for(;null!==on&&!Tg();)on=Rg(on);else for(;null!==on;)on=Rg(on)}catch(f){if(null===on)i=!0,Dg(f);else{null===on&&t("271");var a=on,s=a.return;if(null!==s){t:{var u=s,l=a,c=f;s=sn,l.effectTag|=512,l.firstEffect=l.lastEffect=null,un=!0,c=nf(c,l);do{switch(u.tag){case 5:u.effectTag|=1024,u.expirationTime=s,gf(u,s=Cg(u,c,s));break t;case 2:case 3:l=c;var p=u.stateNode;if(0===(64&u.effectTag)&&null!==p&&"function"===typeof p.componentDidCatch&&(null===pn||!pn.has(p))){u.effectTag|=1024,u.expirationTime=s,gf(u,s=Eg(u,l,s));break t}}u=u.return}while(null!==u)}on=Qg(a);continue}i=!0,Dg(f)}}break}if(nn=!1,Fr=kr=Or=tn.currentDispatcher=null,i)an=null,e.finishedWork=null;else if(null!==on)e.finishedWork=null;else{if(null===(r=e.current.alternate)&&t("281"),an=null,un){if(i=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i>o||0!==a&&a>o||0!==s&&s>o)return e.didError=!1,0!==(n=e.latestPingedTime)&&n<=o&&(e.latestPingedTime=0),n=e.earliestPendingTime,r=e.latestPendingTime,n===o?e.earliestPendingTime=r===o?e.latestPendingTime=0:r:r===o&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=o:n>o?e.earliestSuspendedTime=o:r<o&&(e.latestSuspendedTime=o),$e(o,e),void(e.expirationTime=e.expirationTime);if(!e.didError&&!n)return e.didError=!0,e.nextExpirationTimeToWorkOn=o,o=e.expirationTime=1,void(e.expirationTime=o)}e.pendingCommitExpirationTime=o,e.finishedWork=r}}function wg(e,r){var n;t:{for(nn&&!cn&&t("263"),n=e.return;null!==n;){switch(n.tag){case 2:case 3:var o=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof o.componentDidCatch&&(null===pn||!pn.has(o))){ff(n,e=Eg(n,e=nf(r,e),1)),If(n,1),n=void 0;break t}break;case 5:ff(n,e=Cg(n,e=nf(r,e),1)),If(n,1),n=void 0;break t}n=n.return}5===e.tag&&(ff(e,n=Cg(e,n=nf(r,e),1)),If(e,1)),n=void 0}return n}function Hf(t,e){return 0!==rn?t=rn:nn?t=cn?1:sn:1&e.mode?(t=Cn?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==an&&t===sn&&(t+=1)):t=1,Cn&&(0===_n||t>_n)&&(_n=t),t}function If(e,r){t:{(0===e.expirationTime||e.expirationTime>r)&&(e.expirationTime=r);var n=e.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>r)&&(n.expirationTime=r);var o=e.return;if(null===o&&5===e.tag)e=e.stateNode;else{for(;null!==o;){if(n=o.alternate,(0===o.childExpirationTime||o.childExpirationTime>r)&&(o.childExpirationTime=r),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>r)&&(n.childExpirationTime=r),null===o.return&&5===o.tag){e=o.stateNode;break t}o=o.return}e=null}}null!==e&&(!nn&&0!==sn&&r<sn&&Pg(),Ze(e,r),nn&&!cn&&an===e||(r=e,e=e.expirationTime,null===r.nextScheduledRoot?(r.expirationTime=e,null===dn?(fn=dn=r,r.nextScheduledRoot=r):(dn=dn.nextScheduledRoot=r).nextScheduledRoot=fn):(0===(n=r.expirationTime)||e<n)&&(r.expirationTime=e),yn||(En?Pn&&(gn=r,vn=1,Xg(r,1,!0)):1===e?Yg(1,null):Zg(r,e))),Ln>Rn&&(Ln=0,t("185")))}function bh(t,e,r,n,o){var i=rn;rn=1;try{return t(e,r,n,o)}finally{rn=i}}var fn=null,dn=null,hn=0,mn=void 0,yn=!1,gn=null,vn=0,_n=0,bn=!1,Sn=!1,xn=null,wn=null,En=!1,Pn=!1,Cn=!1,Tn=null,Dn=u.unstable_now(),Mn=2+(Dn/10|0),An=Mn,Rn=50,Ln=0,In=null,On=1;function oh(){Mn=2+((u.unstable_now()-Dn)/10|0)}function Zg(t,e){if(0!==hn){if(e>hn)return;null!==mn&&u.unstable_cancelScheduledWork(mn)}hn=e,t=u.unstable_now()-Dn,mn=u.unstable_scheduleWork(ph,{timeout:10*(e-2)-t})}function Gf(){return yn?An:(qh(),0!==vn&&1073741823!==vn||(oh(),An=Mn),An)}function qh(){var e=0,r=null;if(null!==dn)for(var n=dn,o=fn;null!==o;){var i=o.expirationTime;if(0===i){if((null===n||null===dn)&&t("244"),o===o.nextScheduledRoot){fn=dn=o.nextScheduledRoot=null;break}if(o===fn)fn=i=o.nextScheduledRoot,dn.nextScheduledRoot=i,o.nextScheduledRoot=null;else{if(o===dn){(dn=n).nextScheduledRoot=fn,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,r=o),o===dn)break;if(1===e)break;n=o,o=o.nextScheduledRoot}}gn=r,vn=e}function ph(t){if(t.didTimeout&&null!==fn){oh();var e=fn;do{var r=e.expirationTime;0!==r&&Mn>=r&&(e.nextExpirationTimeToWorkOn=Mn),e=e.nextScheduledRoot}while(e!==fn)}Yg(0,t)}function Yg(t,e){if(wn=e,qh(),null!==wn)for(oh(),An=Mn;null!==gn&&0!==vn&&(0===t||t>=vn)&&(!bn||Mn>=vn);)Xg(gn,vn,Mn>=vn),qh(),oh(),An=Mn;else for(;null!==gn&&0!==vn&&(0===t||t>=vn);)Xg(gn,vn,!0),qh();if(null!==wn&&(hn=0,mn=null),0!==vn&&Zg(gn,vn),wn=null,bn=!1,Ln=0,In=null,null!==Tn)for(t=Tn,Tn=null,e=0;e<t.length;e++){var r=t[e];try{r._onComplete()}catch(n){Sn||(Sn=!0,xn=n)}}if(Sn)throw t=xn,xn=null,Sn=!1,t}function Xg(e,r,n){if(yn&&t("245"),yn=!0,null===wn||n){var o=e.finishedWork;null!==o?rh(e,o,r):(e.finishedWork=null,Sg(e,!1,n),null!==(o=e.finishedWork)&&rh(e,o,r))}else null!==(o=e.finishedWork)?rh(e,o,r):(e.finishedWork=null,Sg(e,!0,n),null!==(o=e.finishedWork)&&(Tg()?e.finishedWork=o:rh(e,o,r)));yn=!1}function rh(e,r,n){var o=e.firstBatch;if(null!==o&&o._expirationTime<=n&&(null===Tn?Tn=[o]:Tn.push(o),o._defer))return e.finishedWork=r,void(e.expirationTime=0);e.finishedWork=null,e===In?Ln++:(In=e,Ln=0),cn=nn=!0,e.current===r&&t("177"),0===(n=e.pendingCommitExpirationTime)&&t("261"),e.pendingCommitExpirationTime=0,o=r.expirationTime;var i=r.childExpirationTime;if(o=0===o||0!==i&&i<o?i:o,e.didError=!1,0===o?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(i=e.latestPendingTime)&&(i<o?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<o&&(e.earliestPendingTime=e.latestPendingTime)),0===(i=e.earliestSuspendedTime)?Ze(e,o):o>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Ze(e,o)):o<i&&Ze(e,o)),$e(0,e),tn.current=null,1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,o=r.firstEffect):o=r:o=r.firstEffect,xr=ir,Ud(i=Td())){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{var s=(a=(a=i.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch(B){a=null;break t}var c=0,p=-1,f=-1,d=0,h=0,m=i,y=null;e:for(;;){for(var g;m!==a||0!==u&&3!==m.nodeType||(p=c+u),m!==l||0!==s&&3!==m.nodeType||(f=c+s),3===m.nodeType&&(c+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===i)break e;if(y===a&&++d===u&&(p=c),y===l&&++h===s&&(f=c),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}a=-1===p||-1===f?null:{start:p,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;for(wr={focusedElem:i,selectionRange:a},ir=!1,ln=o;null!==ln;){i=!1,a=void 0;try{for(;null!==ln;){if(256&ln.effectTag){var v=ln.alternate;t:switch(u=ln,u.tag){case 2:case 3:if(256&u.effectTag&&null!==v){var _=v.memoizedProps,b=v.memoizedState,S=u.stateNode;S.props=u.memoizedProps,S.state=u.memoizedState;var x=S.getSnapshotBeforeUpdate(_,b);S.__reactInternalSnapshotBeforeUpdate=x}break t;case 5:case 7:case 8:case 6:break t;default:t("163")}}ln=ln.nextEffect}}catch(B){i=!0,a=B}i&&(null===ln&&t("178"),wg(ln,a),null!==ln&&(ln=ln.nextEffect))}for(ln=o;null!==ln;){v=!1,_=void 0;try{for(;null!==ln;){var w=ln.effectTag;if(16&w&&oe(ln.stateNode,""),128&w){var E=ln.alternate;if(null!==E){var P=E.ref;null!==P&&("function"===typeof P?P(null):P.current=null)}}switch(14&w){case 2:Ag(ln),ln.effectTag&=-3;break;case 6:Ag(ln),ln.effectTag&=-3,Bg(ln.alternate,ln);break;case 4:Bg(ln.alternate,ln);break;case 8:yg(b=ln),b.return=null,b.child=null,b.alternate&&(b.alternate.child=null,b.alternate.return=null)}ln=ln.nextEffect}}catch(B){v=!0,_=B}v&&(null===ln&&t("178"),wg(ln,_),null!==ln&&(ln=ln.nextEffect))}if(P=wr,E=Td(),w=P.focusedElem,_=P.selectionRange,E!==w&&w&&w.ownerDocument&&function Sd(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Sd(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}(w.ownerDocument.documentElement,w)){null!==_&&Ud(w)&&(E=_.start,void 0===(P=_.end)&&(P=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(P,w.value.length)):(E=((v=w.ownerDocument||document)&&v.defaultView||window).getSelection(),b=w.textContent.length,P=Math.min(_.start,b),_=void 0===_.end?P:Math.min(_.end,b),!E.extend&&P>_&&(b=_,_=P,P=b),b=Rd(w,P),S=Rd(w,_),b&&S&&(1!==E.rangeCount||E.anchorNode!==b.node||E.anchorOffset!==b.offset||E.focusNode!==S.node||E.focusOffset!==S.offset)&&((v=v.createRange()).setStart(b.node,b.offset),E.removeAllRanges(),P>_?(E.addRange(v),E.extend(S.node,S.offset)):(v.setEnd(S.node,S.offset),E.addRange(v))))),E=[];for(P=w;P=P.parentNode;)1===P.nodeType&&E.push({element:P,left:P.scrollLeft,top:P.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(P=E[w]).element.scrollLeft=P.left,P.element.scrollTop=P.top}for(wr=null,ir=!!xr,xr=null,e.current=r,ln=o;null!==ln;){o=!1,w=void 0;try{for(E=n;null!==ln;){var C=ln.effectTag;if(36&C){var T=ln.alternate;switch(v=E,(P=ln).tag){case 2:case 3:var D=P.stateNode;if(4&P.effectTag)if(null===T)D.props=P.memoizedProps,D.state=P.memoizedState,D.componentDidMount();else{var M=T.memoizedProps,A=T.memoizedState;D.props=P.memoizedProps,D.state=P.memoizedState,D.componentDidUpdate(M,A,D.__reactInternalSnapshotBeforeUpdate)}var R=P.updateQueue;null!==R&&(D.props=P.memoizedProps,D.state=P.memoizedState,lf(0,R,D));break;case 5:var L=P.updateQueue;if(null!==L){if(_=null,null!==P.child)switch(P.child.tag){case 7:_=P.child.stateNode;break;case 2:case 3:_=P.child.stateNode}lf(0,L,_)}break;case 7:var I=P.stateNode;null===T&&4&P.effectTag&&ze(P.type,P.memoizedProps)&&I.focus();break;case 8:case 6:case 15:case 16:break;default:t("163")}}if(128&C){var O=ln.ref;if(null!==O){var k=ln.stateNode;switch(ln.tag){case 7:var F=k;break;default:F=k}"function"===typeof O?O(F):O.current=F}}var N=ln.nextEffect;ln.nextEffect=null,ln=N}}catch(B){o=!0,w=B}o&&(null===ln&&t("178"),wg(ln,w),null!==ln&&(ln=ln.nextEffect))}nn=cn=!1,"function"===typeof Ar&&Ar(r.stateNode),C=r.expirationTime,r=r.childExpirationTime,0===(r=0===C||0!==r&&r<C?r:C)&&(pn=null),e.expirationTime=r,e.finishedWork=null}function Tg(){return!!bn||!(null===wn||wn.timeRemaining()>On)&&(bn=!0)}function Dg(e){null===gn&&t("246"),gn.expirationTime=0,Sn||(Sn=!0,xn=e)}function sh(t,e){var r=En;En=!0;try{return t(e)}finally{(En=r)||yn||Yg(1,null)}}function th(t,e){if(En&&!Pn){Pn=!0;try{return t(e)}finally{Pn=!1}}return t(e)}function uh(t,e,r){if(Cn)return t(e,r);En||yn||0===_n||(Yg(_n,null),_n=0);var n=Cn,o=En;En=Cn=!0;try{return t(e,r)}finally{Cn=n,(En=o)||yn||Yg(1,null)}}function wh(e,r,n,o,i){var a=r.current;return n=function vh(e){if(!e)return Cr;t:{(2!==jd(e=e._reactInternalFiber)||2!==e.tag&&3!==e.tag)&&t("170");var r=e;do{switch(r.tag){case 5:r=r.stateNode.context;break t;case 2:if(K(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break t}break;case 3:if(K(r.type._reactResult)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break t}}r=r.return}while(null!==r);t("171"),r=void 0}if(2===e.tag){var n=e.type;if(K(n))return Le(e,n,r)}else if(3===e.tag&&K(n=e.type._reactResult))return Le(e,n,r);return r}(n),null===r.context?r.context=n:r.pendingContext=n,r=i,(i=df(o)).payload={element:e},null!==(r=void 0===r?null:r)&&(i.callback=r),ff(a,i),If(a,o),o}function xh(t,e,r,n){var o=e.current;return wh(t,e,r,o=Hf(Gf(),o),n)}function zh(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 7:default:return t.child.stateNode}}function Bh(t){var e=2+25*(1+((Gf()-2+500)/25|0));e<=en&&(e=en+1),this._expirationTime=en=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ch(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Dh(t,e,r){t={current:e=new Se(5,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:r,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Eh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Gh(r,n,o,i,a){Eh(o)||t("200");var s=o._reactRootContainer;if(s){if("function"===typeof a){var u=a;a=function e(){var t=zh(s._internalRoot);u.call(t)}}null!=r?s.legacy_renderSubtreeIntoContainer(r,n,a):s.render(n,a)}else{if(s=o._reactRootContainer=function Fh(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Dh(t,!1,e)}(o,i),"function"===typeof a){var l=a;a=function e(){var t=zh(s._internalRoot);l.call(t)}}th((function(){null!=r?s.legacy_renderSubtreeIntoContainer(r,n,a):s.render(n,a)}))}return zh(s._internalRoot)}function Hh(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Eh(r)||t("200"),function Ah(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Tt,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(e,r,null,n)}vt=function Fb(e,r,n){switch(r){case"input":if(Dc(e,n),r=n.name,"radio"===n.type&&null!=r){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var o=n[r];if(o!==e&&o.form===e.form){var i=Na(o);i||t("90"),Xb(o),Dc(o,i)}}}break;case"textarea":he(e,n);break;case"select":null!=(r=n.value)&&ee(e,!!n.multiple,r,!1)}},Bh.prototype.render=function(e){this._defer||t("250"),this._hasChildren=!0,this._children=e;var r=this._root._internalRoot,n=this._expirationTime,o=new Ch;return wh(e,r,null,n,o._onCommit),o},Bh.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Bh.prototype.commit=function(){var e=this._root._internalRoot,r=e.firstBatch;if(this._defer&&null!==r||t("251"),this._hasChildren){var n=this._expirationTime;if(r!==this){this._hasChildren&&(n=this._expirationTime=r._expirationTime,this.render(this._children));for(var o=null,i=r;i!==this;)o=i,i=i._next;null===o&&t("251"),o._next=i._next,this._next=r,e.firstBatch=this}this._defer=!1,r=n,yn&&t("253"),gn=e,vn=r,Xg(e,r,!0),Yg(1,null),r=this._next,this._next=null,null!==(r=e.firstBatch=r)&&r._hasChildren&&r.render(r._children)}else this._next=null,this._defer=!1},Bh.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Ch.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ch.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var r=0;r<e.length;r++){var n=e[r];"function"!==typeof n&&t("191",n),n()}}},Dh.prototype.render=function(t,e){var r=this._internalRoot,n=new Ch;return null!==(e=void 0===e?null:e)&&n.then(e),xh(t,r,null,n._onCommit),n},Dh.prototype.unmount=function(t){var e=this._internalRoot,r=new Ch;return null!==(t=void 0===t?null:t)&&r.then(t),xh(null,e,null,r._onCommit),r},Dh.prototype.legacy_renderSubtreeIntoContainer=function(t,e,r){var n=this._internalRoot,o=new Ch;return null!==(r=void 0===r?null:r)&&o.then(r),xh(e,n,t,o._onCommit),o},Dh.prototype.createBatch=function(){var t=new Bh(this),e=t._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=t,t._next=null;else{for(r=null;null!==n&&n._expirationTime<=e;)r=n,n=n._next;t._next=n,null!==r&&(r._next=t)}return t},Lb=sh,Mb=uh,Nb=function Nb(){yn||0===_n||(Yg(_n,null),_n=0)};var kn={createPortal:Hh,findDOMNode:function findDOMNode(e){if(null==e)return null;if(1===e.nodeType)return e;var r=e._reactInternalFiber;return void 0===r&&("function"===typeof e.render?t("188"):t("268",Object.keys(e))),e=null===(e=md(r))?null:e.stateNode},hydrate:function hydrate(t,e,r){return Gh(null,t,e,!0,r)},render:function render(t,e,r){return Gh(null,t,e,!1,r)},unstable_renderSubtreeIntoContainer:function unstable_renderSubtreeIntoContainer(e,r,n,o){return(null==e||void 0===e._reactInternalFiber)&&t("38"),Gh(e,r,n,!1,o)},unmountComponentAtNode:function unmountComponentAtNode(e){return Eh(e)||t("40"),!!e._reactRootContainer&&(th((function(){Gh(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function unstable_createPortal(){return Hh.apply(void 0,arguments)},unstable_batchedUpdates:sh,unstable_interactiveUpdates:uh,flushSync:function flushSync(e,r){yn&&t("187");var n=En;En=!0;try{return bh(e,r)}finally{En=n,Yg(1,null)}},unstable_flushControlled:function unstable_flushControlled(t){var e=En;En=!0;try{bh(t)}finally{(En=e)||yn||Yg(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[La,Ma,Na,j.injectEventPluginsByName,T,Ua,function(t){za(t,Ta)},Jb,Kb,Id,Ga]},unstable_createRoot:function unstable_createRoot(e,r){return Eh(e)||t("278"),new Dh(e,!0,null!=r&&!0===r.hydrate)}};!function(t){var e=t.findFiberByHostInstance;(function Re(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);Ar=Qe((function(t){return e.onCommitFiberRoot(r,t)})),Rr=Qe((function(t){return e.onCommitFiberUnmount(r,t)}))}catch(n){}return!0})(s({},t,{findHostInstanceByFiber:function findHostInstanceByFiber(t){return null===(t=md(t))?null:t.stateNode},findFiberByHostInstance:function findFiberByHostInstance(t){return e?e(t):null}}))}({findFiberByHostInstance:Ka,bundleType:0,version:"16.5.2",rendererPackageName:"react-dom"});var Fn={default:kn},Nn=Fn&&kn||Fn;n.exports=Nn.default||Nn},function(t,e,r){"use strict";t.exports=r(549)},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null,a=!1,s=!1,u="object"===typeof performance&&"function"===typeof performance.now,l={timeRemaining:u?function(){var t=g()-performance.now();return 0<t?t:0}:function(){var t=g()-Date.now();return 0<t?t:0},didTimeout:!1};function m(){if(!a){var t=i.timesOutAt;s?y():s=!0,d(q,t)}}function r(){var t=i,e=i.next;if(i===e)i=null;else{var r=i.previous;i=r.next=e,e.previous=r}t.next=t.previous=null,(t=t.callback)(l)}function q(t){a=!0,l.didTimeout=t;try{if(t)for(;null!==i;){var n=e.unstable_now();if(!(i.timesOutAt<=n))break;do{r()}while(null!==i&&i.timesOutAt<=n)}else if(null!==i)do{r()}while(null!==i&&0<g()-e.unstable_now())}finally{a=!1,null!==i?m():s=!1}}var c,f,d,y,g,v=Date,_="function"===typeof setTimeout?setTimeout:void 0,b="function"===typeof clearTimeout?clearTimeout:void 0,S="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,x="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function A(t){c=S((function(e){b(f),t(e)})),f=_((function(){x(c),t(e.unstable_now())}),100)}if(u){var w=performance;e.unstable_now=function(){return w.now()}}else e.unstable_now=function(){return v.now()};if("undefined"===typeof window){var E=-1;d=function p(t){E=setTimeout(t,0,!0)},y=function n(){clearTimeout(E)},g=function h(){return 0}}else if(window._schedMock){var P=window._schedMock;d=P[0],y=P[1],g=P[2]}else{"undefined"!==typeof console&&("function"!==typeof S&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof x&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var C=null,T=!1,D=-1,M=!1,R=!1,L=0,I=33,O=33;g=function h(){return L};var k="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",(function(t){if(t.source===window&&t.data===k){T=!1;var r=e.unstable_now();if(t=!1,0>=L-r){if(!(-1!==D&&D<=r))return void(M||(M=!0,A(F)));t=!0}if(D=-1,r=C,C=null,null!==r){R=!0;try{r(t)}finally{R=!1}}}}),!1);var F=function N(t){M=!1;var e=t-L+O;e<O&&I<O?(8>e&&(e=8),O=e<I?I:e):I=e,L=t+O,T||(T=!0,window.postMessage(k,"*"))};d=function p(t,e){C=t,D=e,R?window.postMessage(k,"*"):M||(M=!0,A(F))},y=function n(){C=null,T=!1,D=-1}}e.unstable_scheduleWork=function(t,r){var n=e.unstable_now();if(t={callback:t,timesOutAt:r=void 0!==r&&null!==r&&null!==r.timeout&&void 0!==r.timeout?n+r.timeout:n+5e3,next:null,previous:null},null===i)i=t.next=t.previous=t,m();else{n=null;var o=i;do{if(o.timesOutAt>r){n=o;break}o=o.next}while(o!==i);null===n?n=i:n===i&&(i=t,m()),(r=n.previous).next=n.previous=t,t.next=n,t.previous=r}return t},e.unstable_cancelScheduledWork=function(t){var e=t.next;if(null!==e){if(e===t)i=null;else{t===i&&(i=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}}},,function(t,e,r){"use strict";var n=r(552);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getDaysInMonth(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var r=(0,n.default)(t,e),o=r.getFullYear(),i=r.getMonth(),a=new Date(0);return a.setFullYear(o,i+1,0),a.setHours(0,0,0,0),a.getDate()};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function formatDistance(t,e,r){var o;r=r||{},o="string"===typeof n[t]?n[t]:1===e?n[t].one:n[t].other.replace("{{count}}",e);if(r.addSuffix)return r.comparison>0?"in "+o:o+" ago";return o};var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(0,function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(556)).default)({LT:"h:mm aa",LTS:"h:mm:ss aa",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm aa",LLLL:"dddd, MMMM D YYYY h:mm aa"});e.default=n,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildFormatLongFn(t){var e={LTS:t.LTS,LT:t.LT,L:t.L,LL:t.LL,LLL:t.LLL,LLLL:t.LLLL,l:t.l||buildShortLongFormat(t.L),ll:t.ll||buildShortLongFormat(t.LL),lll:t.lll||buildShortLongFormat(t.LLL),llll:t.llll||buildShortLongFormat(t.LLLL)};return function(t){return e[t]}};var n=/MMMM|MM|DD|dddd/g;function buildShortLongFormat(t){return t.replace(n,(function(t){return t.slice(1)}))}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function formatRelative(t,e,r,o){return n[t]};var n={lastWeek:"[last] dddd [at] LT",yesterday:"[yesterday at] LT",today:"[today at] LT",tomorrow:"[tomorrow at] LT",nextWeek:"dddd [at] LT",other:"L"};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(559)),o=_interopRequireDefault(r(560));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var i={narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},a={short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={uppercase:["AM","PM"],lowercase:["am","pm"],long:["a.m.","p.m."]};var u={ordinalNumber:function ordinalNumber(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},weekday:(0,n.default)(i,"long"),weekdays:(0,o.default)(i,"long"),month:(0,n.default)(a,"long"),months:(0,o.default)(a,"long"),timeOfDay:(0,n.default)(s,"long",(function(t){return t/12>=1?1:0})),timesOfDay:(0,o.default)(s,"long")};e.default=u,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildLocalizeFn(t,e,r){return function(n,o){var i=o||{},a=i.type?String(i.type):e;return(t[a]||t[e])[r?r(Number(n)):Number(n)]}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildLocalizeArrayFn(t,e){return function(r){var n=r||{},o=n.type?String(n.type):e;return t[o]||t[e]}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(562)),o=_interopRequireDefault(r(563)),i=_interopRequireDefault(r(564)),a=_interopRequireDefault(r(565));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s={ordinalNumbers:(0,i.default)(/^(\d+)(th|st|nd|rd)?/i),ordinalNumber:a.default,weekdays:(0,n.default)({narrow:/^(su|mo|tu|we|th|fr|sa)/i,short:/^(sun|mon|tue|wed|thu|fri|sat)/i,long:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},"long"),weekday:(0,o.default)({any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},"any"),months:(0,n.default)({short:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,long:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},"long"),month:(0,o.default)({any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},"any"),timesOfDay:(0,n.default)({short:/^(am|pm)/i,long:/^([ap]\.?\s?m\.?)/i},"long"),timeOfDay:(0,o.default)({any:[/^a/i,/^p/i]},"any")};e.default=s,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildMatchFn(t,e){return function(r,n){var o=n||{},i=o.type?String(o.type):e,a=t[i]||t[e];return String(r).match(a)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildParseFn(t,e){return function(r,n){var o=n||{},i=o.type?String(o.type):e,a=t[i]||t[e],s=r[1];return a.findIndex((function(t){return t.test(s)}))}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function buildMatchPatternFn(t){return function(e){return String(e).match(t)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function parseDecimal(t){return parseInt(t[1],10)},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(567)),o=_interopRequireDefault(r(312)),i=_interopRequireDefault(r(313));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a={M:function M(t){return t.getUTCMonth()+1},Mo:function Mo(t,e){var r=t.getUTCMonth()+1;return e.locale.localize.ordinalNumber(r,{unit:"month"})},MM:function MM(t){return addLeadingZeros(t.getUTCMonth()+1,2)},MMM:function MMM(t,e){return e.locale.localize.month(t.getUTCMonth(),{type:"short"})},MMMM:function MMMM(t,e){return e.locale.localize.month(t.getUTCMonth(),{type:"long"})},Q:function Q(t){return Math.ceil((t.getUTCMonth()+1)/3)},Qo:function Qo(t,e){var r=Math.ceil((t.getUTCMonth()+1)/3);return e.locale.localize.ordinalNumber(r,{unit:"quarter"})},D:function D(t){return t.getUTCDate()},Do:function Do(t,e){return e.locale.localize.ordinalNumber(t.getUTCDate(),{unit:"dayOfMonth"})},DD:function DD(t){return addLeadingZeros(t.getUTCDate(),2)},DDD:function DDD(t){return(0,n.default)(t)},DDDo:function DDDo(t,e){return e.locale.localize.ordinalNumber((0,n.default)(t),{unit:"dayOfYear"})},DDDD:function DDDD(t){return addLeadingZeros((0,n.default)(t),3)},dd:function dd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"narrow"})},ddd:function ddd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"short"})},dddd:function dddd(t,e){return e.locale.localize.weekday(t.getUTCDay(),{type:"long"})},d:function d(t){return t.getUTCDay()},do:function _do(t,e){return e.locale.localize.ordinalNumber(t.getUTCDay(),{unit:"dayOfWeek"})},E:function E(t){return t.getUTCDay()||7},W:function W(t){return(0,o.default)(t)},Wo:function Wo(t,e){return e.locale.localize.ordinalNumber((0,o.default)(t),{unit:"isoWeek"})},WW:function WW(t){return addLeadingZeros((0,o.default)(t),2)},YY:function YY(t){return addLeadingZeros(t.getUTCFullYear(),4).substr(2)},YYYY:function YYYY(t){return addLeadingZeros(t.getUTCFullYear(),4)},GG:function GG(t){return String((0,i.default)(t)).substr(2)},GGGG:function GGGG(t){return(0,i.default)(t)},H:function H(t){return t.getUTCHours()},HH:function HH(t){return addLeadingZeros(t.getUTCHours(),2)},h:function h(t){var e=t.getUTCHours();return 0===e?12:e>12?e%12:e},hh:function hh(t){return addLeadingZeros(a.h(t),2)},m:function m(t){return t.getUTCMinutes()},mm:function mm(t){return addLeadingZeros(t.getUTCMinutes(),2)},s:function s(t){return t.getUTCSeconds()},ss:function ss(t){return addLeadingZeros(t.getUTCSeconds(),2)},S:function S(t){return Math.floor(t.getUTCMilliseconds()/100)},SS:function SS(t){return addLeadingZeros(Math.floor(t.getUTCMilliseconds()/10),2)},SSS:function SSS(t){return addLeadingZeros(t.getUTCMilliseconds(),3)},Z:function Z(t,e){return formatTimezone((e._originalDate||t).getTimezoneOffset(),":")},ZZ:function ZZ(t,e){return formatTimezone((e._originalDate||t).getTimezoneOffset())},X:function X(t,e){var r=e._originalDate||t;return Math.floor(r.getTime()/1e3)},x:function x(t,e){return(e._originalDate||t).getTime()},A:function A(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"uppercase"})},a:function a(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"lowercase"})},aa:function aa(t,e){return e.locale.localize.timeOfDay(t.getUTCHours(),{type:"long"})}};function formatTimezone(t,e){e=e||"";var r=t>0?"-":"+",n=Math.abs(t),o=n%60;return r+addLeadingZeros(Math.floor(n/60),2)+e+addLeadingZeros(o,2)}function addLeadingZeros(t,e){for(var r=Math.abs(t).toString();r.length<e;)r="0"+r;return r}e.default=a,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getUTCDayOfYear(t,e){var r=(0,n.default)(t,e),i=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var a=r.getTime(),s=i-a;return Math.floor(s/o)+1};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));var o=864e5;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addUTCMinutes(t,e,r){var o=(0,n.default)(t,r),i=Number(e);return o.setUTCMinutes(o.getUTCMinutes()+i),o};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function subMinutes(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Number(e);return(0,n.default)(t,-o,r)};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(570));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMinutes(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Number(e);return(0,n.default)(t,i*o,r)};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(571));var o=6e4;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function addMilliseconds(t,e,r){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,n.default)(t,r).getTime(),i=Number(e);return new Date(o+i)};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={M:/^(1[0-2]|0?\d)/,D:/^(3[0-1]|[0-2]?\d)/,DDD:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,W:/^(5[0-3]|[0-4]?\d)/,YYYY:/^(\d{1,4})/,H:/^(2[0-3]|[0-1]?\d)/,m:/^([0-5]?\d)/,Z:/^([+-])(\d{2}):(\d{2})/,ZZ:/^([+-])(\d{2})(\d{2})/,singleDigit:/^(\d)/,twoDigits:/^(\d{2})/,threeDigits:/^(\d{3})/,fourDigits:/^(\d{4})/,anyDigits:/^(\d+)/};function parseDecimal(t){return parseInt(t[1],10)}var o={YY:{unit:"twoDigitYear",match:n.twoDigits,parse:function parse(t){return parseDecimal(t)}},YYYY:{unit:"year",match:n.YYYY,parse:parseDecimal},GG:{unit:"isoYear",match:n.twoDigits,parse:function parse(t){return parseDecimal(t)+1900}},GGGG:{unit:"isoYear",match:n.YYYY,parse:parseDecimal},Q:{unit:"quarter",match:n.singleDigit,parse:parseDecimal},Qo:{unit:"quarter",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"quarter"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"quarter"})}},M:{unit:"month",match:n.M,parse:function parse(t){return parseDecimal(t)-1}},Mo:{unit:"month",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"month"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"month"})-1}},MM:{unit:"month",match:n.twoDigits,parse:function parse(t){return parseDecimal(t)-1}},MMM:{unit:"month",match:function match(t,e){return e.locale.match.months(t,{type:"short"})},parse:function parse(t,e){return e.locale.match.month(t,{type:"short"})}},MMMM:{unit:"month",match:function match(t,e){return e.locale.match.months(t,{type:"long"})||e.locale.match.months(t,{type:"short"})},parse:function parse(t,e){var r=e.locale.match.month(t,{type:"long"});return null==r&&(r=e.locale.match.month(t,{type:"short"})),r}},W:{unit:"isoWeek",match:n.W,parse:parseDecimal},Wo:{unit:"isoWeek",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"isoWeek"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"isoWeek"})}},WW:{unit:"isoWeek",match:n.twoDigits,parse:parseDecimal},d:{unit:"dayOfWeek",match:n.singleDigit,parse:parseDecimal},do:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfWeek"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfWeek"})}},dd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){return e.locale.match.weekday(t,{type:"narrow"})}},ddd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"short"})||e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){var r=e.locale.match.weekday(t,{type:"short"});return null==r&&(r=e.locale.match.weekday(t,{type:"narrow"})),r}},dddd:{unit:"dayOfWeek",match:function match(t,e){return e.locale.match.weekdays(t,{type:"long"})||e.locale.match.weekdays(t,{type:"short"})||e.locale.match.weekdays(t,{type:"narrow"})},parse:function parse(t,e){var r=e.locale.match.weekday(t,{type:"long"});return null==r&&null==(r=e.locale.match.weekday(t,{type:"short"}))&&(r=e.locale.match.weekday(t,{type:"narrow"})),r}},E:{unit:"dayOfISOWeek",match:n.singleDigit,parse:function parse(t){return parseDecimal(t)}},D:{unit:"dayOfMonth",match:n.D,parse:parseDecimal},Do:{unit:"dayOfMonth",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfMonth"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfMonth"})}},DD:{unit:"dayOfMonth",match:n.twoDigits,parse:parseDecimal},DDD:{unit:"dayOfYear",match:n.DDD,parse:parseDecimal},DDDo:{unit:"dayOfYear",match:function match(t,e){return e.locale.match.ordinalNumbers(t,{unit:"dayOfYear"})},parse:function parse(t,e){return e.locale.match.ordinalNumber(t,{unit:"dayOfYear"})}},DDDD:{unit:"dayOfYear",match:n.threeDigits,parse:parseDecimal},A:{unit:"timeOfDay",match:function match(t,e){return e.locale.match.timesOfDay(t,{type:"short"})},parse:function parse(t,e){return e.locale.match.timeOfDay(t,{type:"short"})}},aa:{unit:"timeOfDay",match:function match(t,e){return e.locale.match.timesOfDay(t,{type:"long"})||e.locale.match.timesOfDay(t,{type:"short"})},parse:function parse(t,e){var r=e.locale.match.timeOfDay(t,{type:"long"});return null==r&&(r=e.locale.match.timeOfDay(t,{type:"short"})),r}},H:{unit:"hours",match:n.H,parse:parseDecimal},HH:{unit:"hours",match:n.twoDigits,parse:parseDecimal},h:{unit:"timeOfDayHours",match:n.M,parse:parseDecimal},hh:{unit:"timeOfDayHours",match:n.twoDigits,parse:parseDecimal},m:{unit:"minutes",match:n.m,parse:parseDecimal},mm:{unit:"minutes",match:n.twoDigits,parse:parseDecimal},s:{unit:"seconds",match:n.m,parse:parseDecimal},ss:{unit:"seconds",match:n.twoDigits,parse:parseDecimal},S:{unit:"milliseconds",match:n.singleDigit,parse:function parse(t){return 100*parseDecimal(t)}},SS:{unit:"milliseconds",match:n.twoDigits,parse:function parse(t){return 10*parseDecimal(t)}},SSS:{unit:"milliseconds",match:n.threeDigits,parse:parseDecimal},Z:{unit:"timezone",match:n.Z,parse:function parse(t){var e=t[1],r=60*parseInt(t[2],10)+parseInt(t[3],10);return"+"===e?r:-r}},ZZ:{unit:"timezone",match:n.ZZ,parse:function parse(t){var e=t[1],r=60*parseInt(t[2],10)+parseInt(t[3],10);return"+"===e?r:-r}},X:{unit:"timestamp",match:n.anyDigits,parse:function parse(t){return 1e3*parseDecimal(t)}},x:{unit:"timestamp",match:n.anyDigits,parse:parseDecimal}};o.a=o.A,e.default=o,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(574)),o=_interopRequireDefault(r(575)),i=_interopRequireDefault(r(576)),a=_interopRequireDefault(r(577)),s=_interopRequireDefault(r(176)),u=_interopRequireDefault(r(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l={twoDigitYear:{priority:10,set:function set(t,e){var r=100*Math.floor(t.date.getUTCFullYear()/100)+e;return t.date.setUTCFullYear(r,0,1),t.date.setUTCHours(0,0,0,0),t}},year:{priority:10,set:function set(t,e){return t.date.setUTCFullYear(e,0,1),t.date.setUTCHours(0,0,0,0),t}},isoYear:{priority:10,set:function set(t,e,r){return t.date=(0,u.default)((0,a.default)(t.date,e,r),r),t}},quarter:{priority:20,set:function set(t,e){return t.date.setUTCMonth(3*(e-1),1),t.date.setUTCHours(0,0,0,0),t}},month:{priority:30,set:function set(t,e){return t.date.setUTCMonth(e,1),t.date.setUTCHours(0,0,0,0),t}},isoWeek:{priority:40,set:function set(t,e,r){return t.date=(0,s.default)((0,i.default)(t.date,e,r),r),t}},dayOfWeek:{priority:50,set:function set(t,e,r){return t.date=(0,n.default)(t.date,e,r),t.date.setUTCHours(0,0,0,0),t}},dayOfISOWeek:{priority:50,set:function set(t,e,r){return t.date=(0,o.default)(t.date,e,r),t.date.setUTCHours(0,0,0,0),t}},dayOfMonth:{priority:50,set:function set(t,e){return t.date.setUTCDate(e),t.date.setUTCHours(0,0,0,0),t}},dayOfYear:{priority:50,set:function set(t,e){return t.date.setUTCMonth(0,e),t.date.setUTCHours(0,0,0,0),t}},timeOfDay:{priority:60,set:function set(t,e,r){return t.timeOfDay=e,t}},hours:{priority:70,set:function set(t,e,r){return t.date.setUTCHours(e,0,0,0),t}},timeOfDayHours:{priority:70,set:function set(t,e,r){var n=t.timeOfDay;return null!=n&&(e=function setTimeOfDay(t,e){if(0===e){if(12===t)return 0}else if(12!==t)return 12+t;return t}(e,n)),t.date.setUTCHours(e,0,0,0),t}},minutes:{priority:80,set:function set(t,e){return t.date.setUTCMinutes(e,0,0),t}},seconds:{priority:90,set:function set(t,e){return t.date.setUTCSeconds(e,0),t}},milliseconds:{priority:100,set:function set(t,e){return t.date.setUTCMilliseconds(e),t}},timezone:{priority:110,set:function set(t,e){return t.date=new Date(t.date.getTime()-6e4*e),t}},timestamp:{priority:120,set:function set(t,e){return t.date=new Date(e),t}}};e.default=l,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCDay(t,e,r){var o=r||{},i=o.locale,a=i&&i.options&&i.options.weekStartsOn,s=void 0===a?0:Number(a),u=void 0===o.weekStartsOn?s:Number(o.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,n.default)(t,r),c=Number(e),p=l.getUTCDay(),f=((c%7+7)%7<u?7:0)+c-p;return l.setUTCDate(l.getUTCDate()+f),l};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISODay(t,e,r){var o=Number(e);o%7===0&&(o-=7);var i=(0,n.default)(t,r),a=i.getUTCDay(),s=((o%7+7)%7<1?7:0)+o-a;return i.setUTCDate(i.getUTCDate()+s),i};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISOWeek(t,e,r){var i=(0,n.default)(t,r),a=Number(e),s=(0,o.default)(i,r)-a;return i.setUTCDate(i.getUTCDate()-7*s),i};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(312));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function setUTCISOWeekYear(t,e,r){var a=(0,n.default)(t,r),s=Number(e),u=(0,o.default)(a,r),l=Math.floor((a.getTime()-u.getTime())/i),c=new Date(0);return c.setUTCFullYear(s,0,4),c.setUTCHours(0,0,0,0),(a=(0,o.default)(c,r)).setUTCDate(a.getUTCDate()+l),a};var n=_interopRequireDefault(r(33)),o=_interopRequireDefault(r(227));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var i=864e5;t.exports=e.default},,function(t,e,r){},function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function wrap(t,e,r,n){var o=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function makeInvokeMethod(t,e,r){var n=u;return function invoke(o,i){if(n===c)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=maybeInvokeDelegate(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=c;var d=tryCatch(t,e,r);if("normal"===d.type){if(n=r.done?p:l,d.arg===f)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n=p,r.method="throw",r.arg=d.arg)}}}(t,r,a),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=wrap;var u="suspendedStart",l="suspendedYield",c="executing",p="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};d[i]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(values([])));m&&m!==r&&n.call(m,i)&&(d=m);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function AsyncIterator(t){var e;this._invoke=function enqueue(r,o){function callInvokeWithMethodAndArg(){return new Promise((function(e,i){!function invoke(e,r,o,i){var a=tryCatch(t[e],t,r);if("throw"!==a.type){var s=a.arg,u=s.value;return u&&"object"===typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(t){invoke("next",t,o,i)}),(function(t){invoke("throw",t,o,i)})):Promise.resolve(u).then((function(t){s.value=t,o(s)}),(function(t){return invoke("throw",t,o,i)}))}i(a.arg)}(r,o,e,i)}))}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,maybeInvokeDelegate(t,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=tryCatch(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,f;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var r=t[i];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function next(){for(;++o<t.length;)if(n.call(t,o))return next.value=t[o],next.done=!1,next;return next.value=e,next.done=!0,next};return a.next=a}}return{next:doneResult}}function doneResult(){return{value:e,done:!0}}return GeneratorFunction.prototype=y.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[a]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(e,r,n,o){var i=new AsyncIterator(wrap(e,r,n,o));return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function next(){for(;e.length;){var r=e.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var r=this;function handle(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),f}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,r,n){return this.delegate={iterator:values(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=n}catch(o){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){"use strict";var n=r(582);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";var n=r(585),o=r(586),i=r(587);t.exports=function(){function shim(t,e,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=n,t.PropTypes=t,t}},function(t,e,r){"use strict";function makeEmptyFunction(t){return function(){return t}}var n=function emptyFunction(){};n.thatReturns=makeEmptyFunction,n.thatReturnsFalse=makeEmptyFunction(!1),n.thatReturnsTrue=makeEmptyFunction(!0),n.thatReturnsNull=makeEmptyFunction(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,r){"use strict";var n=function validateFormat(t){};t.exports=function invariant(t,e,r,o,i,a,s,u){if(n(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,a,s,u],p=0;(l=new Error(e.replace(/%s/g,(function(){return c[p++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(177)),a=_interopRequireDefault(r(589)),s=_interopRequireDefault(r(590)),u=_interopRequireDefault(r(591));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var l=function createAll(t){return o({},_get__("actions"),{ConnectedRouter:_get__("createConnectedRouter")(t),connectRouter:_get__("createConnectRouter")(t),routerMiddleware:_get__("routerMiddleware")})};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createAll");var c=null;function _getRewireModuleId__(){if(null===c){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),c=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return c}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var p="__INTENTIONAL_UNDEFINED__",f={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"actions":return function _filterWildcardImport__(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).filter((function(t){return"__get__"!==t&&"__set__"!==t&&"__reset__"!==t&&"__with__"!==t&&"__GetDependency__"!==t&&"__Rewire__"!==t&&"__ResetDependency__"!==t&&"__RewireAPI__"!==t})).reduce((function(e,r){return e[r]=t[r],e}),{})}(i);case"createConnectedRouter":return a.default;case"createConnectRouter":return s.default;case"routerMiddleware":return u.default;case"createAll":return l}return}(t);var r=e[t];return r===p?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?p:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(f,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var d="undefined"===typeof l?"undefined":n(l);function addNonEnumerableProperty(t,e){Object.defineProperty(l,t,{value:e,enumerable:!1,configurable:!0})}"object"!==d&&"function"!==d||!Object.isExtensible(l)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",f)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=f}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=r(0),a=_interopRequireDefault(i),s=_interopRequireDefault(r(29)),u=r(34),l=r(98),c=r(177);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=function createConnectedRouter(t){var e=t.getIn,r=t.toJS,n=function(t){function ConnectedRouter(t,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ConnectedRouter);var o=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(ConnectedRouter.__proto__||Object.getPrototypeOf(ConnectedRouter)).call(this,t));return o.inTimeTravelling=!1,o.unsubscribe=n.store.subscribe((function(){var i=r(e(n.store.getState(),["router","location"])),a=i.pathname,s=i.search,u=i.hash,l=t.history.location,c=l.pathname,p=l.search,f=l.hash;c===a&&p===s&&f===u||(o.inTimeTravelling=!0,t.history.push({pathname:a,search:s,hash:u}))})),o.unlisten=t.history.listen((function(e,r){o.inTimeTravelling?o.inTimeTravelling=!1:t.onLocationChanged(e,r)})),o}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ConnectedRouter,t),o(ConnectedRouter,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function render(){var t=this.props,e=t.history,r=t.children;return _get__("React").createElement(_get__("Router"),{history:e},r)}}]),ConnectedRouter}(_get__("Component"));n.contextTypes={store:_get__("PropTypes").shape({getState:_get__("PropTypes").func.isRequired,subscribe:_get__("PropTypes").func.isRequired}).isRequired},n.propTypes={history:_get__("PropTypes").shape({listen:_get__("PropTypes").func.isRequired,location:_get__("PropTypes").object.isRequired,push:_get__("PropTypes").func.isRequired}).isRequired,location:_get__("PropTypes").oneOfType([_get__("PropTypes").object,_get__("PropTypes").string]).isRequired,action:_get__("PropTypes").string.isRequired,basename:_get__("PropTypes").string,children:_get__("PropTypes").oneOfType([_get__("PropTypes").func,_get__("PropTypes").node]),onLocationChanged:_get__("PropTypes").func.isRequired};return _get__("connect")((function mapStateToProps(t){return{action:e(t,["router","action"]),location:e(t,["router","location"])}}),(function mapDispatchToProps(t){return{onLocationChanged:function onLocationChanged(e,r){return t(_get__("onLocationChanged")(e,r))}}}))(n)};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createConnectedRouter");var f=null;function _getRewireModuleId__(){if(null===f){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),f=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return f}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var d="__INTENTIONAL_UNDEFINED__",h={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"Component":return i.Component;case"PropTypes":return s.default;case"onLocationChanged":return c.onLocationChanged;case"connect":return u.connect;case"createConnectedRouter":return p;case"React":return a.default;case"Router":return l.Router}return}(t);var r=e[t];return r===d?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?d:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(h,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var m="undefined"===typeof p?"undefined":n(p);function addNonEnumerableProperty(t,e){Object.defineProperty(p,t,{value:e,enumerable:!1,configurable:!0})}"object"!==m&&"function"!==m||!Object.isExtensible(p)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",h)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=h}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(177),i=function createConnectRouter(t){var e=t.filterNotRouter,r=t.fromJS,n=t.getIn,o=t.merge,i=t.setIn;return function connectRouter(t){var a=r({location:t.location,action:t.action});return function(t){return function(r,s){var u=a;r&&(u=n(r,["router"])||u,r=e(r));var l=t(r,s);return i(l,["router"],function routerReducer(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.type,n=e.payload;return r===_get__("LOCATION_CHANGE")?o(t,n):t}(u,s))}}}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("createConnectRouter");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"LOCATION_CHANGE":return o.LOCATION_CHANGE;case"createConnectRouter":return i}return}(t);var r=e[t];return r===s?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof i?"undefined":n(i);function addNonEnumerableProperty(t,e){Object.defineProperty(i,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(i)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(177);var i=function routerMiddleware(t){return function(e){return function(e){return function(r){if(r.type!==_get__("CALL_HISTORY_METHOD"))return e(r);var n=r.payload,o=n.method,i=n.args;t[o].apply(t,function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(i))}}}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("routerMiddleware");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"CALL_HISTORY_METHOD":return o.CALL_HISTORY_METHOD;case"routerMiddleware":return i}return}(t);var r=e[t];return r===s?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof i?"undefined":n(i);function addNonEnumerableProperty(t,e){Object.defineProperty(i,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(i)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.__RewireAPI__=e.__ResetDependency__=e.__set__=e.__Rewire__=e.__GetDependency__=e.__get__=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=_interopRequireDefault(r(593)),a=_interopRequireDefault(r(594));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var s={filterNotRouter:function filterNotRouter(t){t.router;return function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["router"])},fromJS:function fromJS(t){return t},getIn:_get__("getIn"),merge:function merge(t,e){return o({},t,e)},setIn:_get__("setIn"),toJS:function toJS(t){return t}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("structure");var u=null;function _getRewireModuleId__(){if(null===u){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),u=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return u}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var l="__INTENTIONAL_UNDEFINED__",c={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"getIn":return i.default;case"setIn":return a.default;case"structure":return s}return}(t);var r=e[t];return r===l?void 0:r}function _set__(t,e){var r=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":n(t)))return r[t]=void 0===e?l:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){r[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(c,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var p="undefined"===typeof s?"undefined":n(s);function addNonEnumerableProperty(t,e){Object.defineProperty(s,t,{value:e,enumerable:!1,configurable:!0})}"object"!==p&&"function"!==p||!Object.isExtensible(s)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",c)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=c}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function getIn(t,e){if(!t)return t;var r=e.length;if(r){for(var n=t,o=0;o<r&&n;++o)n=n[e[o]];return n}};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("getIn");var o=null;function _getRewireModuleId__(){if(null===o){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),o=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return o}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var i="__INTENTIONAL_UNDEFINED__",a={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"getIn":return n}return}(t);var r=e[t];return r===i?void 0:r}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?i:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(a,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var s="undefined"===typeof n?"undefined":r(n);function addNonEnumerableProperty(t,e){Object.defineProperty(n,t,{value:e,enumerable:!1,configurable:!0})}"object"!==s&&"function"!==s||!Object.isExtensible(n)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",a)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=a}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var o=function setInWithPath(t,e,r,o){if(o>=r.length)return e;var i=r[o],a=_get__("setInWithPath")(t&&t[i],e,r,o+1);if(!t){var s=isNaN(i)?{}:[];return s[i]=a,s}if(Array.isArray(t)){var u=[].concat(t);return u[i]=a,u}return n({},t,function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},i,a))},i=function setIn(t,e,r){return _get__("setInWithPath")(t,r,e,0)};function _getGlobalObject(){try{if(t)return t}catch(e){try{if(window)return window}catch(e){return this}}}e.default=_get__("setIn");var a=null;function _getRewireModuleId__(){if(null===a){var t=_getGlobalObject();t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(t.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),a=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return a}function _getRewireRegistry__(){var t=_getGlobalObject();return t.__$$GLOBAL_REWIRE_REGISTRY__||(t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _getRewiredData__(){var t=_getRewireModuleId__(),e=_getRewireRegistry__(),r=e[t];return r||(e[t]=Object.create(null),r=e[t]),r}!function registerResetAll(){var t=_getGlobalObject();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})}();var s="__INTENTIONAL_UNDEFINED__",u={};function _get__(t){var e=_getRewiredData__();if(void 0===e[t])return function _get_original__(t){switch(t){case"setInWithPath":return o;case"setIn":return i}return}(t);var r=e[t];return r===s?void 0:r}function _set__(t,e){var n=_getRewiredData__();if("object"!==("undefined"===typeof t?"undefined":r(t)))return n[t]=void 0===e?s:e,function(){_reset__(t)};Object.keys(t).forEach((function(e){n[e]=t[e]}))}function _reset__(t){var e=_getRewiredData__();delete e[t],0==Object.keys(e).length&&delete _getRewireRegistry__()[_getRewireModuleId__]}function _with__(t){var e=_getRewiredData__(),r=Object.keys(t),n={};function reset(){r.forEach((function(t){e[t]=n[t]}))}return function(o){r.forEach((function(r){n[r]=e[r],e[r]=t[r]}));var i=o();return i&&"function"==typeof i.then?i.then(reset).catch(reset):reset(),i}}!function(){function addPropertyToAPIObject(t,e){Object.defineProperty(u,t,{value:e,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var l="undefined"===typeof i?"undefined":r(i);function addNonEnumerableProperty(t,e){Object.defineProperty(i,t,{value:e,enumerable:!1,configurable:!0})}"object"!==l&&"function"!==l||!Object.isExtensible(i)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",u)),e.__get__=_get__,e.__GetDependency__=_get__,e.__Rewire__=_set__,e.__set__=_set__,e.__ResetDependency__=_reset__,e.__RewireAPI__=u}).call(this,r(32))},function(t,e,r){"use strict";t.exports=function assertFunction(t){if("function"!==typeof t)throw new TypeError("Expected function, got: "+t)}},function(t,e,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(t,e){try{return decodeURIComponent(t.join(""))}catch(o){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],decodeComponents(r),decodeComponents(n))}function decode(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=decodeComponents(e,r).join("")).match(n);return t}}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function customDecodeURIComponent(t){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(t);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(e){var i=decode(n[0]);i!==n[0]&&(r[n[0]]=i)}n=o.exec(t)}r["%C2"]="\ufffd";for(var a=Object.keys(r),s=0;s<a.length;s++){var u=a[s];t=t.replace(new RegExp(u,"g"),r[u])}return t}(t)}}},function(t,e,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(598),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",l="object"===typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=wrap;var p="suspendedStart",f="suspendedYield",d="executing",h="completed",m={},y={};y[a]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(values([])));v&&v!==n&&o.call(v,a)&&(y=v);var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(y);GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[u]=GeneratorFunction.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[s]=function(){return this},c.AsyncIterator=AsyncIterator,c.async=function(t,e,r,n){var o=new AsyncIterator(wrap(t,e,r,n));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},defineIteratorMethods(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function next(){for(;e.length;){var r=e.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},c.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var e=this;function handle(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),m}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,e,n){return this.delegate={iterator:values(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function wrap(t,e,r,n){var o=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function makeInvokeMethod(t,e,r){var n=p;return function invoke(o,i){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=maybeInvokeDelegate(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=tryCatch(t,e,r);if("normal"===u.type){if(n=r.done?h:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function AsyncIterator(t){var e;this._invoke=function enqueue(r,n){function callInvokeWithMethodAndArg(){return new Promise((function(e,i){!function invoke(e,r,n,i){var a=tryCatch(t[e],t,r);if("throw"!==a.type){var s=a.arg,u=s.value;return u&&"object"===typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(t){invoke("next",t,n,i)}),(function(t){invoke("throw",t,n,i)})):Promise.resolve(u).then((function(t){s.value=t,n(s)}),i)}i(a.arg)}(r,n,e,i)}))}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,maybeInvokeDelegate(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=tryCatch(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function next(){for(;++n<t.length;)if(o.call(t,n))return next.value=t[n],next.done=!1,next;return next.value=r,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,r){r(318),r(155),r(181),r(608),r(616),r(617),t.exports=r(53).Promise},function(t,e,r){var n=r(229),o=r(230);t.exports=function(t){return function(e,r){var i,a,s=String(o(e)),u=n(r),l=s.length;return u<0||u>=l?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,r){"use strict";var n=r(233),o=r(157),i=r(180),a={};r(121)(a,r(72)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(a,{next:o(1,r)}),i(t,e+" Iterator")}},function(t,e,r){var n=r(101),o=r(91),i=r(158);t.exports=r(111)?Object.defineProperties:function defineProperties(t,e){o(t);for(var r,a=i(e),s=a.length,u=0;s>u;)n.f(t,r=a[u++],e[r]);return t}},function(t,e,r){var n=r(123),o=r(234),i=r(604);t.exports=function(t){return function(e,r,a){var s,u=n(e),l=o(u.length),c=i(a,l);if(t&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}}},function(t,e,r){var n=r(229),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):i(t,e)}},function(t,e,r){"use strict";var n=r(606),o=r(607),i=r(137),a=r(123);t.exports=r(319)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){"use strict";var n,o,i,a,s=r(156),u=r(68),l=r(135),c=r(238),p=r(82),f=r(110),d=r(178),h=r(609),m=r(610),y=r(328),g=r(329).set,v=r(612)(),_=r(240),b=r(330),S=r(613),x=r(331),w=u.TypeError,E=u.process,P=E&&E.versions,C=P&&P.v8||"",T=u.Promise,D="process"==c(E),M=function empty(){},A=o=_.f,R=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[r(72)("species")]=function(t){t(M,M)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==C.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(n){}}(),L=function isThenable(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function notify(t,e){if(!t._n){t._n=!0;var r=t._c;v((function(){for(var n=t._v,o=1==t._s,i=0,a=function run(e){var r,i,a,s=o?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(o||(2==t._h&&F(t),t._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===e.promise?l(w("Promise-chain cycle")):(i=L(r))?i.call(r,u,l):u(r)):l(n)}catch(p){c&&!a&&c.exit(),l(p)}};r.length>i;)a(r[i++]);t._c=[],t._n=!1,e&&!t._h&&O(t)}))}},O=function onUnhandled(t){g.call(u,(function(){var e,r,n,o=t._v,i=k(t);if(i&&(e=b((function(){D?E.emit("unhandledRejection",o,t):(r=u.onunhandledrejection)?r({promise:t,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)})),t._h=D||k(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},k=function isUnhandled(t){return 1!==t._h&&0===(t._a||t._c).length},F=function onHandleUnhandled(t){g.call(u,(function(){var e;D?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function $reject(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},B=function $resolve(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(e=L(t))?v((function(){var n={_w:r,_d:!1};try{e.call(t,l($resolve,n,1),l(N,n,1))}catch(o){N.call(n,o)}})):(r._v=t,r._s=1,I(r,!1))}catch(n){N.call({_w:r,_d:!1},n)}}};R||(T=function Promise(t){h(this,T,"Promise","_h"),d(t),n.call(this);try{t(l(B,this,1),l(N,this,1))}catch(e){N.call(this,e)}},(n=function Promise(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(614)(T.prototype,{then:function then(t,e){var r=A(y(this,T));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function _catch(t){return this.then(void 0,t)}}),i=function OwnPromiseCapability(){var t=new n;this.promise=t,this.resolve=l(B,t,1),this.reject=l(N,t,1)},_.f=A=function newPromiseCapability(t){return t===T||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!R,{Promise:T}),r(180)(T,"Promise"),r(615)("Promise"),a=r(53).Promise,p(p.S+p.F*!R,"Promise",{reject:function reject(t){var e=A(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!R),"Promise",{resolve:function resolve(t){return x(s&&this===a?T:this,t)}}),p(p.S+p.F*!(R&&r(332)((function(t){T.all(t).catch(M)}))),"Promise",{all:function all(t){var e=this,r=A(e),n=r.resolve,o=r.reject,i=b((function(){var r=[],i=0,a=1;m(t,!1,(function(t){var s=i++,u=!1;r.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,r[s]=t,--a||n(r))}),o)})),--a||n(r)}));return i.e&&o(i.v),r.promise},race:function race(t){var e=this,r=A(e),n=r.reject,o=b((function(){m(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}})},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(135),o=r(326),i=r(327),a=r(91),s=r(234),u=r(239),l={},c={};(e=t.exports=function(t,e,r,p,f){var d,h,m,y,g=f?function(){return t}:u(t),v=n(r,p,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(d=s(t.length);d>_;_++)if((y=e?v(a(h=t[_])[0],h[1]):v(t[_]))===l||y===c)return y}else for(m=g.call(t);!(h=m.next()).done;)if((y=o(m,v,h.value,e))===l||y===c)return y}).BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(68),o=r(329).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(159)(a);t.exports=function(){var t,e,r,l=function flush(){var n,o;for(u&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?r():e=void 0,i}}e=void 0,n&&n.enter()};if(u)r=function notify(){a.nextTick(l)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function notify(){c.then(l)}}else r=function notify(){o.call(n,l)};else{var p=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),r=function notify(){f.data=p=!p}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}},function(t,e,r){var n=r(68).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){var n=r(121);t.exports=function(t,e,r){for(var o in e)r&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},function(t,e,r){"use strict";var n=r(68),o=r(53),i=r(101),a=r(111),s=r(72)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function get(){return this}})}},function(t,e,r){"use strict";var n=r(82),o=r(53),i=r(68),a=r(328),s=r(331);n(n.P+n.R,"Promise",{finally:function _finally(t){var e=a(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then((function(){return r}))}:t,r?function(r){return s(e,t()).then((function(){throw r}))}:t)}})},function(t,e,r){"use strict";var n=r(82),o=r(240),i=r(330);n(n.S,"Promise",{try:function _try(t){var e=o.f(this),r=i(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},,function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCommaAccessToken=e.logOut=e.isAuthed=void 0;var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100)),i=(e.logOut=function(){var t=(0,o.default)(n.default.mark((function _callee(){return n.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.removeItem("authorization"),!s){t.next=4;break}return t.next=4,a.default.removeItem("authorization");case 4:case"end":return t.stop()}}),_callee,this)})));return function logOut(){return t.apply(this,arguments)}}(),e.getCommaAccessToken=function(){var t=(0,o.default)(n.default.mark((function _callee2(){var t;return n.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=getTokenInternal()){r.next=11;break}return r.prev=2,r.next=5,a.default.getItem("authorization");case 5:t=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),s=!1;case 11:if(!t){r.next=16;break}if(e.isAuthed=!0,!s){r.next=16;break}return r.next=16,a.default.setItem("authorization",t);case 16:return r.abrupt("return",t);case 17:case"end":return r.stop()}}),_callee2,this,[[2,8]])})));return function getCommaAccessToken(){return t.apply(this,arguments)}}());e.getTokenInternal=getTokenInternal,e.setCommaAccessToken=function setCommaAccessToken(t){return localStorage.setItem("authorization",t),i()};var a=_interopRequireDefault(r(620));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.isAuthed=!1;var s=!0;function getTokenInternal(){return"undefined"!==typeof localStorage&&localStorage.authorization?localStorage.authorization:null}},function(t,e,r){(function(r){var n;t.exports=function e(t,r,o){function s(a,u){if(!r[a]){if(!t[a]){if(!u&&"function"==typeof n&&n)return n(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){var r=t[a][1][e];return s(r||e)}),c,c.exports,e,t,r,o)}return r[a].exports}for(var i="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e,n){(function(t){"use strict";var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(nextTick),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function scheduleDrain(){s.data=i=++i%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function scheduleDrain(){var e=t.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function scheduleDrain(){setTimeout(nextTick,0)};else{var u=new t.MessageChannel;u.port1.onmessage=nextTick,r=function scheduleDrain(){u.port2.postMessage(0)}}var l=[];function nextTick(){var t,e;n=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}n=!1}e.exports=function immediate(t){1!==l.push(t)||n||r()}}).call(this,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function INTERNAL(){}var o={},i=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function Promise(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==INTERNAL&&safelyResolveThenable(this,t)}function QueueItem(t,e,r){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function unwrap(t,e,r){n((function(){var n;try{n=e(r)}catch(i){return o.reject(t,i)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)}))}function getThen(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function appyThen(){e.apply(t,arguments)}}function safelyResolveThenable(t,e){var r=!1;function onError(e){r||(r=!0,o.reject(t,e))}function onSuccess(e){r||(r=!0,o.resolve(t,e))}var n=tryCatch((function tryToUnwrap(){e(onSuccess,onError)}));"error"===n.status&&onError(n.value)}function tryCatch(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}e.exports=Promise,Promise.prototype.catch=function(t){return this.then(null,t)},Promise.prototype.then=function(t,e){if("function"!==typeof t&&this.state===a||"function"!==typeof e&&this.state===i)return this;var r=new this.constructor(INTERNAL);return this.state!==s?unwrap(r,this.state===a?t:e,this.outcome):this.queue.push(new QueueItem(r,t,e)),r},QueueItem.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},QueueItem.prototype.otherCallFulfilled=function(t){unwrap(this.promise,this.onFulfilled,t)},QueueItem.prototype.callRejected=function(t){o.reject(this.promise,t)},QueueItem.prototype.otherCallRejected=function(t){unwrap(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=tryCatch(getThen,e);if("error"===r.status)return o.reject(t,r.value);var n=r.value;if(n)safelyResolveThenable(t,n);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=i,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},Promise.resolve=function resolve(t){return t instanceof this?t:o.resolve(new this(INTERNAL),t)},Promise.reject=function reject(t){var e=new this(INTERNAL);return o.reject(e,t)},Promise.all=function all(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,s=-1,u=new this(INTERNAL);++s<r;)allResolver(t[s],s);return u;function allResolver(t,s){e.resolve(t).then((function resolveFromAll(t){i[s]=t,++a!==r||n||(n=!0,o.resolve(u,i))}),(function(t){n||(n=!0,o.reject(u,t))}))}},Promise.race=function race(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i,a=-1,s=new this(INTERNAL);++a<r;)i=t[a],e.resolve(i).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function createBlob(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var i=Promise;function executeCallback(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function executeTwoCallbacks(t,e,r){"function"===typeof e&&t.then(e),"function"===typeof r&&t.catch(r)}function normalizeKey(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",s=void 0,u={},l=Object.prototype.toString,c="readonly",p="readwrite";function _checkBlobSupport(t){return"boolean"===typeof s?i.resolve(s):function _checkBlobSupportWithoutCaching(t){return new i((function(e){var r=t.transaction(a,p),n=createBlob([""]);r.objectStore(a).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return s=t}))}function _deferReadiness(t){var e=u[t.name],r={};r.promise=new i((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function _advanceReadiness(t){var e=u[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _rejectReadiness(t,e){var r=u[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function _getConnection(t,e){return new i((function(r,n){if(u[t.name]=u[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);_deferReadiness(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var s=o.open.apply(o,i);e&&(s.onupgradeneeded=function(e){var r=s.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(a)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),n(s.error)},s.onsuccess=function(){r(s.result),_advanceReadiness(t)}}))}function _getOriginalConnection(t){return _getConnection(t,!1)}function _getUpgradedConnection(t){return _getConnection(t,!0)}function _isUpgradeNeeded(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function _decodeBlob(t){return createBlob([function _binStringToArrayBuffer(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}(atob(t.data))],{type:t.type})}function _isEncodedBlob(t){return t&&t.__local_forage_encoded_blob}function _fullyReady(t){var e=this,r=e._initReady().then((function(){var t=u[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return executeTwoCallbacks(r,t,t),r}function createTransaction(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(a){if(n>0&&(!t.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return i.resolve().then((function(){if(!t.db||"NotFoundError"===a.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),_getUpgradedConnection(t)})).then((function(){return function _tryReconnect(t){_deferReadiness(t);for(var e=u[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,_getOriginalConnection(t).then((function(e){return t.db=e,_isUpgradeNeeded(t)?_getUpgradedConnection(t):e})).then((function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(e){throw _rejectReadiness(t,e),e}))}(t).then((function(){createTransaction(t,e,r,n-1)}))})).catch(r);r(a)}}var f={_driver:"asyncStorage",_initStorage:function _initStorage(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=u[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},u[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=_fullyReady);var a=[];function ignoreErrors(){return i.resolve()}for(var s=0;s<o.forages.length;s++){var l=o.forages[s];l!==e&&a.push(l._initReady().catch(ignoreErrors))}var c=o.forages.slice(0);return i.all(a).then((function(){return r.db=o.db,_getOriginalConnection(r)})).then((function(t){return r.db=t,_isUpgradeNeeded(r,e._defaultConfig.version)?_getUpgradedConnection(r):t})).then((function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<c.length;n++){var i=c[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},_support:function isIndexedDBValid(){try{if(!o)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(r){return!1}}(),iterate:function iterate(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;_isEncodedBlob(n)&&(n=_decodeBlob(n));var o=t(n,r.key,s++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(u){n(u)}}))})).catch(n)}));return executeCallback(n,e),n},getItem:function getItem(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_isEncodedBlob(t)&&(t=_decodeBlob(t)),e(t)},a.onerror=function(){n(a.error)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,e),n},setItem:function setItem(t,e,r){var n=this;t=normalizeKey(t);var o=new i((function(r,o){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===l.call(e)?_checkBlobSupport(a.db).then((function(t){return t?e:function _encodeBlob(t){return new i((function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)}))}(e)})):e})).then((function(e){createTransaction(n._dbInfo,p,(function(i,a){if(i)return o(i);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(l){o(l)}}))})).catch(o)}));return executeCallback(o,r),o},removeItem:function removeItem(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){createTransaction(r._dbInfo,p,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(s){n(s)}}))})).catch(n)}));return executeCallback(n,e),n},clear:function clear(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,p,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;r(t)}}catch(a){r(a)}}))})).catch(r)}));return executeCallback(r,t),r},length:function length(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}}))})).catch(r)}));return executeCallback(r,t),r},key:function key(t,e){var r=this,n=new i((function(e,n){t<0?e(null):r.ready().then((function(){createTransaction(r._dbInfo,c,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var r=u.result;r?0===t?e(r.key):s?e(r.key):(s=!0,r.advance(t)):e(null)},u.onerror=function(){n(u.error)}}catch(l){n(l)}}))})).catch(n)}));return executeCallback(n,e),n},keys:function keys(t){var e=this,r=new i((function(t,r){e.ready().then((function(){createTransaction(e._dbInfo,c,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){r(i.error)}}catch(s){r(s)}}))})).catch(r)}));return executeCallback(r,t),r},dropInstance:function dropInstance(t,e){e=getCallback.apply(this,arguments);var r,n=this.config();if((t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName),t.name){var a=t.name===n.name&&this._dbInfo.db?i.resolve(this._dbInfo.db):_getOriginalConnection(t).then((function(e){var r=u[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e}));r=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;_deferReadiness(t);var n=u[t.name],a=n.forages;e.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=r}return new i((function(e,n){var i=o.open(t.name,r);i.onerror=function(t){i.result.close(),n(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<a.length;e++){var r=a[e];r._dbInfo.db=t,_advanceReadiness(r._dbInfo)}})).catch((function(e){throw(_rejectReadiness(t,e)||i.resolve()).catch((function(){})),e}))}})):a.then((function(e){_deferReadiness(t);var r=u[t.name],n=r.forages;e.close();for(var a=0;a<n.length;a++)n[a]._dbInfo.db=null;return new i((function(e,r){var n=o.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;e&&e.close(),r(t)},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<n.length;e++)_advanceReadiness(n[e]._dbInfo)})).catch((function(e){throw(_rejectReadiness(t,e)||i.resolve()).catch((function(){})),e}))}))}else r=i.reject("Invalid arguments");return executeCallback(r,e),r}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="~~local_forage_type~",m=/^~~local_forage_type~([^~]+)~/,y="__lfsc__:",g=y.length,v="arbf",_="blob",b="si08",S="ui08",x="uic8",w="si16",E="si32",P="ur16",C="ui32",T="fl32",D="fl64",M=g+v.length,A=Object.prototype.toString;function stringToBuffer(t){var e,r,n,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)r=d.indexOf(t[e]),n=d.indexOf(t[e+1]),o=d.indexOf(t[e+2]),i=d.indexOf(t[e+3]),c[u++]=r<<2|n>>4,c[u++]=(15&n)<<4|o>>2,c[u++]=(3&o)<<6|63&i;return l}function bufferToString(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=d[r[e]>>2],n+=d[(3&r[e])<<4|r[e+1]>>4],n+=d[(15&r[e+1])<<2|r[e+2]>>6],n+=d[63&r[e+2]];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}var R={serialize:function serialize(t,e){var r="";if(t&&(r=A.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===A.call(t.buffer))){var n,o=y;t instanceof ArrayBuffer?(n=t,o+=v):(n=t.buffer,"[object Int8Array]"===r?o+=b:"[object Uint8Array]"===r?o+=S:"[object Uint8ClampedArray]"===r?o+=x:"[object Int16Array]"===r?o+=w:"[object Uint16Array]"===r?o+=P:"[object Int32Array]"===r?o+=E:"[object Uint32Array]"===r?o+=C:"[object Float32Array]"===r?o+=T:"[object Float64Array]"===r?o+=D:e(new Error("Failed to get type for BinaryArray"))),e(o+bufferToString(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=h+t.type+"~"+bufferToString(this.result);e(y+_+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function deserialize(t){if(t.substring(0,g)!==y)return JSON.parse(t);var e,r=t.substring(M),n=t.substring(g,M);if(n===_&&m.test(r)){var o=r.match(m);e=o[1],r=r.substring(o[0].length)}var i=stringToBuffer(r);switch(n){case v:return i;case _:return createBlob([i],{type:e});case b:return new Int8Array(i);case S:return new Uint8Array(i);case x:return new Uint8ClampedArray(i);case w:return new Int16Array(i);case P:return new Uint16Array(i);case E:return new Int32Array(i);case C:return new Uint32Array(i);case T:return new Float32Array(i);case D:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function tryExecuteSql(t,e,r,n,o,i){t.executeSql(r,n,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?i(t,a):createDbTable(t,e,(function(){t.executeSql(r,n,o,i)}),i)}),i):i(t,a)}),i)}function _setItem(t,e,r,n){var o=this;t=normalizeKey(t);var a=new i((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,u=o._dbInfo;u.serializer.serialize(e,(function(e,l){l?a(l):u.db.transaction((function(r){tryExecuteSql(r,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i(_setItem.apply(o,[t,s,r,n-1]));a(e)}}))}))})).catch(a)}));return executeCallback(a,r),a}var L={_driver:"webSQLStorage",_initStorage:function _initStorage$1(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!==typeof t[n]?t[n].toString():t[n];var o=new i((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return n(o)}r.db.transaction((function(o){createDbTable(o,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=R,o},_support:function isWebSQLValid(){return"function"===typeof openDatabase}(),iterate:function iterate$1(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),l=u.value;if(l&&(l=o.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},getItem:function getItem$1(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},setItem:function setItem$1(t,e,r){return _setItem.apply(this,[t,e,r,1])},removeItem:function removeItem$1(t,e){var r=this;t=normalizeKey(t);var n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},clear:function clear$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},length:function length$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},key:function key$1(t,e){var r=this,n=new i((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){tryExecuteSql(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return executeCallback(n,e),n},keys:function keys$1(t){var e=this,r=new i((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){tryExecuteSql(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return executeCallback(r,t),r},dropInstance:function dropInstance$1(t,e){e=getCallback.apply(this,arguments);var r=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return executeCallback(n=t.name?new i((function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(function getAllStoreNames(t){return new i((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}(n))})).then((function(t){return new i((function(e,r){t.db.transaction((function(n){function dropTable(t){return new i((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var o=[],a=0,s=t.storeNames.length;a<s;a++)o.push(dropTable(t.storeNames[a]));i.all(o).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):i.reject("Invalid arguments"),e),n}};function _getKeyPrefix(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var I={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=_getKeyPrefix(t,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=e,e.serializer=R,i.resolve()):i.reject()},_support:function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function iterate$2(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(n)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(o),a++)))return l}}}));return executeCallback(n,e),n},getItem:function getItem$2(t,e){var r=this;t=normalizeKey(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return executeCallback(n,e),n},setItem:function setItem$2(t,e,r){var n=this;t=normalizeKey(t);var o=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new i((function(o,i){var a=n._dbInfo;a.serializer.serialize(e,(function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}}))}))}));return executeCallback(o,r),o},removeItem:function removeItem$2(t,e){var r=this;t=normalizeKey(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return executeCallback(n,e),n},clear:function clear$2(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return executeCallback(r,t),r},length:function length$2(t){var e=this.keys().then((function(t){return t.length}));return executeCallback(e,t),e},key:function key$2(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(o){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return executeCallback(n,e),n},keys:function keys$2(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n}));return executeCallback(r,t),r},dropInstance:function dropInstance$2(t,e){if(e=getCallback.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return executeCallback(n=t.name?new i((function(e){t.storeName?e(_getKeyPrefix(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):i.reject("Invalid arguments"),e),n}},O=function sameValue(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},k=function includes(t,e){for(var r=t.length,n=0;n<r;){if(O(t[n],e))return!0;n++}return!1},F=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},N={},B={},U={INDEXEDDB:f,WEBSQL:L,LOCALSTORAGE:I},z=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver],j=["dropInstance"],G=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(j),V={description:"",driver:z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function extend(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(F(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var W=new(function(){function LocalForage(t){for(var e in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),U)if(U.hasOwnProperty(e)){var r=U[e],n=r._driver;this[e]=n,N[n]||this.defineDriver(r)}this._defaultConfig=extend({},V),this._config=extend({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(t){if("object"===("undefined"===typeof t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},LocalForage.prototype.defineDriver=function defineDriver(t,e,r){var n=new i((function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var a=G.concat("_initStorage"),s=0,u=a.length;s<u;s++){var l=a[s];if((!k(j,l)||t[l])&&"function"!==typeof t[l])return void r(o)}!function configureMissingMethods(){for(var e=function methodNotImplementedFactory(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=i.reject(e);return executeCallback(r,arguments[arguments.length-1]),r}},r=0,n=j.length;r<n;r++){var o=j[r];t[o]||(t[o]=e(o))}}();var c=function setDriverSupport(r){N[n]&&console.info("Redefining LocalForage driver: "+n),N[n]=t,B[n]=r,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(c,r):c(!!t._support):c(!0)}catch(p){r(p)}}));return executeTwoCallbacks(n,e,r),n},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(t,e,r){var n=N[t]?i.resolve(N[t]):i.reject(new Error("Driver not found."));return executeTwoCallbacks(n,e,r),n},LocalForage.prototype.getSerializer=function getSerializer(t){var e=i.resolve(R);return executeTwoCallbacks(e,t),e},LocalForage.prototype.ready=function ready(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return executeTwoCallbacks(r,t,t),r},LocalForage.prototype.setDriver=function setDriver(t,e,r){var n=this;F(t)||(t=[t]);var o=this._getSupportedDrivers(t);function setDriverToConfig(){n._config.driver=n.driver()}function extendSelfWithDriver(t){return n._extend(t),setDriverToConfig(),n._ready=n._initStorage(n._config),n._ready}var a=null!==this._driverSet?this._driverSet.catch((function(){return i.resolve()})):i.resolve();return this._driverSet=a.then((function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,setDriverToConfig(),n._wrapLibraryMethodsWithReady(),n._initDriver=function initDriver(t){return function(){var e=0;return function driverPromiseLoop(){for(;e<t.length;){var r=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(r).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var o=new Error("No available storage method found.");return n._driverSet=i.reject(o),n._driverSet}()}}(o)}))})).catch((function(){setDriverToConfig();var t=new Error("No available storage method found.");return n._driverSet=i.reject(t),n._driverSet})),executeTwoCallbacks(this._driverSet,e,r),this._driverSet},LocalForage.prototype.supports=function supports(t){return!!B[t]},LocalForage.prototype._extend=function _extend(t){extend(this,t)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var t=0,e=G.length;t<e;t++)callWhenReady(this,G[t])},LocalForage.prototype.createInstance=function createInstance(t){return new LocalForage(t)},LocalForage}());e.exports=W},{3:3}]},{},[4])(4)}).call(this,r(32))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oauthRedirectLink=e.OAUTH_PARAMS=e.REDIRECT_URI=e.GOOGLE_URL_ROOT=e.GOOGLE_CLIENT_ID=e.GOOGLE_AUTH_ENDPOINT=void 0;var n=_interopRequireDefault(r(333)),o=_interopRequireDefault(r(167));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var i=e.GOOGLE_AUTH_ENDPOINT="https://accounts.google.com/o/oauth2/auth",a=e.GOOGLE_CLIENT_ID="45471411055-ornt4svd2miog6dnopve7qtmh5mnu6id.apps.googleusercontent.com",s=(e.GOOGLE_URL_ROOT="https://www.googleapis.com/","http://127.0.0.1");n.default.location&&(s=n.default.location.origin);var u=e.REDIRECT_URI=s+"/auth/g/redirect",l=e.OAUTH_PARAMS={type:"web_server",client_id:a,redirect_uri:u,response_type:"code",scope:"https://www.googleapis.com/auth/userinfo.email",prompt:"select_account"};e.oauthRedirectLink=[i,o.default.stringify(l)].join("?")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProfile=function getProfile(t){var e=t||"me";return n.get("v1/"+e+"/")};var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102))},function(t,e,r){var n=r(171),o=r(624),i=r(175),a=r(625),s=r(626),u="application/json",l=function noop(){};t.exports=function xhrRequest(t,e,r){if(!t||"string"!==typeof t)throw new TypeError("must specify a URL");"function"===typeof e&&(r=e,e={});if(r&&"function"!==typeof r)throw new TypeError("expected cb to be undefined or a function");r=r||l;var c=(e=e||{}).json?"json":"text",p=(e=i({responseType:c},e)).headers||{},f=(e.method||"GET").toUpperCase(),d=e.query;d&&("string"!==typeof d&&(d=n.stringify(d)),t=o(t,d));"json"===e.responseType&&a(p,"Accept",u);e.json&&"GET"!==f&&"HEAD"!==f&&(a(p,"Content-Type",u),e.body=JSON.stringify(e.body));return e.method=f,e.url=t,e.headers=p,delete e.query,delete e.json,s(e,r)}},function(t,e){t.exports=function urlSetQuery(t,e){if(e){e=(e=e.trim().replace(/^(\?|#|&)/,""))?"?"+e:e;var r=t.split(/[\?\#]/)[0];e&&/\:\/\/[^\/]*$/.test(r)&&(r+="/");var n=t.match(/(\#.*)$/);t=r+e,n&&(t+=n[0])}return t}},function(t,e){t.exports=function ensureHeader(t,e,r){var n=e.toLowerCase();t[e]||t[n]||(t[e]=r)}},function(t,e,r){var n=r(627),o=r(631),i=function noop(){};t.exports=function xhrRequest(t,e){delete t.uri;var r=!1;"json"===t.responseType&&(t.responseType="text",r=!0);var a=n(t,(function xhrRequestResult(n,a,s){if(r&&!n)try{var u=a.rawRequest.responseText;s=JSON.parse(u)}catch(l){n=l}a=o(t,a),e(n,n?null:s,a),e=i})),s=a.onabort;return a.onabort=function(){var t=s.apply(a,Array.prototype.slice.call(arguments));return e(new Error("XHR Aborted")),e=i,t},a}},function(t,e,r){"use strict";var n=r(85),o=r(242),i=r(628),a=r(116);function initParams(t,e,r){var n=t;return o(e)?(r=e,"string"===typeof t&&(n={uri:t})):n=a(e,{uri:t}),n.callback=r,n}function createXHR(t,e,r){return _createXHR(e=initParams(t,e,r))}function _createXHR(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,r=function cbOnce(r,n,o){e||(e=!0,t.callback(r,n,o))};function getBody(){var t=void 0;if(t=a.response?a.response:a.responseText||function getXml(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(r){}return null}(a),d)try{t=JSON.parse(t)}catch(e){}return t}function errorFunc(t){return clearTimeout(s),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,h)}function loadFunc(){if(!o){var e;clearTimeout(s),e=t.useXDR&&void 0===a.status?200:1223===a.status?204:a.status;var n=h,c=null;return 0!==e?(n={body:getBody(),statusCode:e,method:l,headers:{},url:u,rawRequest:a},a.getAllResponseHeaders&&(n.headers=i(a.getAllResponseHeaders()))):c=new Error("Internal XMLHttpRequest Error"),r(c,n,n.body)}}var n,o,a=t.xhr||null;a||(a=t.cors||t.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var s,u=a.url=t.uri||t.url,l=a.method=t.method||"GET",c=t.body||t.data,p=a.headers=t.headers||{},f=!!t.sync,d=!1,h={body:void 0,headers:{},statusCode:0,method:l,url:u,rawRequest:a};if("json"in t&&!1!==t.json&&(d=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),c=JSON.stringify(!0===t.json?c:t.json))),a.onreadystatechange=function readystatechange(){4===a.readyState&&setTimeout(loadFunc,0)},a.onload=loadFunc,a.onerror=errorFunc,a.onprogress=function(){},a.onabort=function(){o=!0},a.ontimeout=errorFunc,a.open(l,u,!f,t.username,t.password),f||(a.withCredentials=!!t.withCredentials),!f&&t.timeout>0&&(s=setTimeout((function(){if(!o){o=!0,a.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",errorFunc(t)}}),t.timeout)),a.setRequestHeader)for(n in p)p.hasOwnProperty(n)&&a.setRequestHeader(n,p[n]);else if(t.headers&&!function isEmpty(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(a),a.send(c||null),a}t.exports=createXHR,createXHR.XMLHttpRequest=n.XMLHttpRequest||function noop(){},createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:n.XDomainRequest,function forEachArray(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],(function(t){createXHR["delete"===t?"del":t]=function(e,r,n){return(r=initParams(e,r,n)).method=t.toUpperCase(),_createXHR(r)}}))},function(t,e,r){var n=r(629),o=r(630);t.exports=function(t){if(!t)return{};var e={};return o(n(t).split("\n"),(function(t){var r=t.indexOf(":"),o=n(t.slice(0,r)).toLowerCase(),i=n(t.slice(r+1));"undefined"===typeof e[o]?e[o]=i:!function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}(e[o])?e[o]=[e[o],i]:e[o].push(i)})),e}},function(t,e){(e=t.exports=function trim(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,r){var n=r(242);t.exports=function forEach(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this);"[object Array]"===o.call(t)?function forEachArray(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r):"string"===typeof t?function forEachString(t,e,r){for(var n=0,o=t.length;n<o;n++)e.call(r,t.charAt(n),n,t)}(t,e,r):function forEachObject(t,e,r){for(var n in t)i.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r)};var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty},function(t,e){t.exports=function getResponse(t,e){return e?{statusCode:e.statusCode,headers:e.headers,method:t.method,url:t.url,rawRequest:e.rawRequest?e.rawRequest:e}:null}},function(t,e){t.exports=function extend(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)r.call(n,o)&&(t[o]=n[o])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";var n=r(634),o=r(635),i=r(334);t.exports=function httpStatusError(t){return n("number"===typeof t,"expected http status number"),i(t)?function createError(t){var e=new Error(o[t]+" ("+t+")");return e.statusCode=t,e}(t):null}},function(t,e,r){"use strict";t.exports=function assertOk(t,e){if(!t)throw new Error(e||"Expected true, got "+t)}},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e){t.exports=function SafeParseCallback(t,e,r){2===arguments.length&&(r=e,e=null);var n;try{n=JSON.parse(t,e)}catch(o){return r(o)}r(null,n)}},function(t,e,r){"use strict";t.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},function(t,e,r){"use strict";var n=r(639),o=r(640),i=r(649);t.exports=i(o,n.stringify)},function(t,e,r){"use strict";var n=r(317);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!==typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""))?t.split("&").reduce((function(t,e){var r=e.replace(/\+/g," ").split("="),n=r.shift(),o=r.length>0?r.join("="):void 0;return n=decodeURIComponent(n),o=void 0===o?null:decodeURIComponent(o),t.hasOwnProperty(n)?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o,t}),{}):{}},e.stringify=function(t){return t?Object.keys(t).sort().map((function(e){var r=t[e];return void 0===r?"":null===r?e:Array.isArray(r)?r.slice().sort().map((function(t){return n(e)+"="+n(t)})).join("&"):n(e)+"="+n(r)})).filter((function(t){return t.length>0})).join("&"):""}},function(t,e,r){"use strict";var n=r(335),o=r(641),i=r(336),a=r(644),s=r(645),u=r(646);function flatten(t,e){return i(e,(function(e,r){return[t+"["+e+"]",u(r)]}))}t.exports=function objectQuery(t){return n(t)?function format(t){return o(t,(function(t,e,r){var o=n(e)?flatten:a;return s(t,o(r,e))}),{})}(t):t}},function(t,e,r){"use strict";var n=r(642);t.exports=function reduce(t,e,r,o){var i=arguments.length>2;return!t||Object.keys(t).length||i?(n(t,(function(t,n,a){i?r=e.call(o,r,t,n,a):(r=t,i=!0)})),r):null}},function(t,e,r){"use strict";var n=r(643),o=Object.prototype.hasOwnProperty;t.exports=function forOwn(t,e,r){n(t,(function(n,i){if(o.call(t,i))return e.call(r,t[i],i,t)}))}},function(t,e,r){"use strict";t.exports=function forIn(t,e,r){for(var n in t)if(!1===e.call(r,t[n],n,t))break}},function(t,e,r){"use strict";t.exports=function objectPair(t,e){var r={};return r[t]=e,r}},function(t,e){t.exports=function extend(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)r.call(n,o)&&(t[o]=n[o])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";var n=r(647),o=r(648);function stringify(t){return o(t,null,"")}t.exports=function print(t){return(function isJson(t){return n(t)||Array.isArray(t)}(t)?stringify:String)(t)}},function(t,e,r){"use strict";var n=r(228);t.exports=function isObject(t){return null!=t&&"object"===typeof t&&!n(t)}},function(t,e){function serializer(t,e){var r=[],n=[];return null==e&&(e=function cycleReplacer(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(e)).join(".")+"]"}),function(o,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~r.indexOf(i)&&(i=e.call(this,o,i))}else r.push(i);return null==t?i:t.call(this,o,i)}}(t.exports=function stringify(t,e,r,n){return JSON.stringify(t,serializer(e,n),r)}).getSerialize=serializer},function(t,e,r){"use strict";t.exports=function valuePipe(t){if(!t)throw new TypeError("At least one function is required");Array.isArray(t)||(t=Array.prototype.slice.call(arguments));return function valuePipeline(e){for(var r=0;r<t.length;r++)e=t[r](e);return e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(337));e.createAnnotation=function createAnnotation(t){if((t=i.AnnotationValidator.validate(t)).error)throw t.error;return t=t.value,o.post("v1/annotations/new",t)},e.getAnnotation=function getAnnotation(t){return o.get("v1/annotations/"+t)},e.updateAnnotation=function updateAnnotation(t,e){return o.patch("v1/annotations/"+t,{data:e})},e.listAnnotations=function listAnnotations(t,e,r){if(!r.length)throw new Error("Invalid or empty dongleId");var n=verifyAnnotationStartEnd(t,e),i=n.start,a=n.end;return o.get("v1/devices/"+r+"/annotations/",{from:i,to:a})},e.listMyAnnotations=function listMyAnnotations(t,e){var r=verifyAnnotationStartEnd(t,e),n=r.start,i=r.end;return o.get("v1/me/annotations/",{from:n,to:i})};var o=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102)),i=r(653);function verifyAnnotationStartEnd(t,e){if(t=Number(t),e=Number(e),!(0,n.default)(t))throw new Error("Invalid start time");if(!(0,n.default)(e))throw new Error("Invalid end time");return{start:t,end:e}}},function(t,e,r){r(652),t.exports=r(53).Number.isFinite},function(t,e,r){var n=r(82),o=r(68).isFinite;n(n.S,"Number",{isFinite:function isFinite(t){return"number"==typeof t&&o(t)}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(654);e.AnnotationValidator=n.object().keys({canonical_segment_name:n.string().required(),offset_nanos_part:n.number().required(),offset_millis:n.number().required(),start_time_utc_millis:n.number().required(),end_time_utc_millis:n.number().required(),type:n.string().required(),data:n.object().keys({reason:n.string().required(),comment:n.string().allow("").optional()})})},function(t,e,r){!function webpackUniversalModuleDefinition(e,r){t.exports=r()}(0,(function(){return function(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=32)}([function(t,e,r){"use strict";(function(t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(17),a=r(15),s=r(37),u=r(16),l=r(18),c={};e.clone=function(r,n){if("object"!==("undefined"===typeof r?"undefined":o(r))||null===r)return r;var i=(n=n||new Map).get(r);if(i)return i;var a=void 0,s=!1;if(Array.isArray(r))a=[],s=!0;else if(t.isBuffer(r))a=t.from(r);else if(r instanceof Date)a=new Date(r.getTime());else if(r instanceof RegExp)a=new RegExp(r);else{var u=Object.getPrototypeOf(r);u&&u.isImmutable?a=r:(a=Object.create(u),s=!0)}if(n.set(r,a),s)for(var l=Object.getOwnPropertyNames(r),c=0;c<l.length;++c){var p=l[c],f=Object.getOwnPropertyDescriptor(r,p);f&&(f.get||f.set)?Object.defineProperty(a,p,f):a[p]=e.clone(r[p],n)}return a},e.merge=function(r,n,i,a){if(e.assert(r&&"object"===("undefined"===typeof r?"undefined":o(r)),"Invalid target value: must be an object"),e.assert(null===n||void 0===n||"object"===("undefined"===typeof n?"undefined":o(n)),"Invalid source value: must be null, undefined, or an object"),!n)return r;if(Array.isArray(n)){e.assert(Array.isArray(r),"Cannot merge array onto an object"),!1===a&&(r.length=0);for(var s=0;s<n.length;++s)r.push(e.clone(n[s]));return r}for(var u=Object.keys(n),l=0;l<u.length;++l){var c=u[l];if("__proto__"!==c){var p=n[c];p&&"object"===("undefined"===typeof p?"undefined":o(p))?!r[c]||"object"!==o(r[c])||Array.isArray(r[c])!==Array.isArray(p)||p instanceof Date||t.isBuffer(p)||p instanceof RegExp?r[c]=e.clone(p):e.merge(r[c],p,i,a):null!==p&&void 0!==p?r[c]=p:!1!==i&&(r[c]=p)}}return r},e.applyToDefaults=function(t,r,n){if(e.assert(t&&"object"===("undefined"===typeof t?"undefined":o(t)),"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"===("undefined"===typeof r?"undefined":o(r)),"Invalid options value: must be true, falsy or an object"),!r)return null;var i=e.clone(t);return!0===r?i:e.merge(i,r,!0===n,!1)},e.cloneWithShallow=function(t,r){if(!t||"object"!==("undefined"===typeof t?"undefined":o(t)))return t;var n=c.store(t,r),i=e.clone(t);return c.restore(i,t,n),i},c.store=function(t,r){for(var n={},o=0;o<r.length;++o){var i=r[o],a=e.reach(t,i);void 0!==a&&(n[i]=a,c.reachSet(t,i,void 0))}return n},c.restore=function(t,e,r){for(var n=Object.keys(r),o=0;o<n.length;++o){var i=n[o];c.reachSet(t,i,r[i]),c.reachSet(e,i,r[i])}},c.reachSet=function(t,e,r){for(var n=e.split("."),o=t,i=0;i<n.length;++i){var a=n[i];i+1===n.length&&(o[a]=r),o=o[a]}},e.applyToDefaultsWithShallow=function(t,r,n){if(e.assert(t&&"object"===("undefined"===typeof t?"undefined":o(t)),"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"===("undefined"===typeof r?"undefined":o(r)),"Invalid options value: must be true, falsy or an object"),e.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var i=e.cloneWithShallow(t,n);if(!0===r)return i;var a=c.store(r,n);return e.merge(i,r,!1,!1),c.restore(i,r,a),i},e.deepEqual=function(r,n,i,a){i=i||{prototype:!0};var s="undefined"===typeof r?"undefined":o(r);if(s!==("undefined"===typeof n?"undefined":o(n)))return!1;if("object"!==s||null===r||null===n)return r===n?0!==r||1/r===1/n:r!==r&&n!==n;if(-1!==(a=a||[]).indexOf(r))return!0;if(a.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!i.part&&r.length!==n.length)return!1;for(var u=0;u<r.length;++u){if(i.part){for(var l=!1,c=0;c<n.length;++c)if(e.deepEqual(r[u],n[c],i)){l=!0;break}return l}if(!e.deepEqual(r[u],n[u],i))return!1}return!0}if(t.isBuffer(r)){if(!t.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var p=0;p<r.length;++p)if(r[p]!==n[p])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(i.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var f=Object.getOwnPropertyNames(r);if(!i.part&&f.length!==Object.getOwnPropertyNames(n).length)return!1;for(var d=0;d<f.length;++d){var h=f[d],m=Object.getOwnPropertyDescriptor(r,h);if(m.get){if(!e.deepEqual(m,Object.getOwnPropertyDescriptor(n,h),i,a))return!1}else if(!e.deepEqual(r[h],n[h],i,a))return!1}return!0},e.unique=function(t,e){var r=void 0;if(e){r=[];var n=new Set;t.forEach((function(t){var o=t[e];n.has(o)||(n.add(o),r.push(t))}))}else r=Array.from(new Set(t));return r},e.mapToObject=function(t,e){if(!t)return null;for(var r={},n=0;n<t.length;++n)e?t[n][e]&&(r[t[n][e]]=!0):r[t[n]]=!0;return r},e.intersect=function(t,r,n){if(!t||!r)return[];for(var o=[],i=Array.isArray(t)?e.mapToObject(t):t,a={},s=0;s<r.length;++s)if(i[r[s]]&&!a[r[s]]){if(n)return r[s];o.push(r[s]),a[r[s]]=!0}return n?null:o},e.contain=function(t,r,n){var i=null;"object"!==("undefined"===typeof t?"undefined":o(t))||"object"!==("undefined"===typeof r?"undefined":o(r))||Array.isArray(t)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},e.assert("string"===typeof t||"object"===("undefined"===typeof t?"undefined":o(t)),"Reference must be string or an object"),e.assert(r.length,"Values array cannot be empty");var a=void 0,s=void 0;if(n.deep){a=e.deepEqual;var u=n.hasOwnProperty("only"),l=n.hasOwnProperty("part");s={prototype:u?n.only:!!l&&!n.part,part:u?!n.only:!l||n.part}}else a=function compare(t,e){return t===e};for(var c=!1,p=new Array(r.length),f=0;f<p.length;++f)p[f]=0;if("string"===typeof t){for(var d="(",h=0;h<r.length;++h){var m=r[h];e.assert("string"===typeof m,"Cannot compare string reference to non-string value"),d+=(h?"|":"")+e.escapeRegex(m)}var y=new RegExp(d+")","g");c=!!t.replace(y,(function(t,e){var n=r.indexOf(e);return++p[n],""}))}else if(Array.isArray(t))for(var g=0;g<t.length;++g){for(var v=!1,_=0;_<r.length&&!1===v;++_)v=a(r[_],t[g],s)&&_;!1!==v?++p[v]:c=!0}else for(var b=Object.getOwnPropertyNames(t),S=0;S<b.length;++S){var x=b[S],w=r.indexOf(x);if(-1!==w){if(i&&!a(i[x],t[x],s))return!1;++p[w]}else c=!0}for(var E=!1,P=0;P<p.length;++P)if(E=E||!!p[P],n.once&&p[P]>1||!n.part&&!p[P])return!1;return(!n.only||!c)&&E},e.flatten=function(t,r){for(var n=r||[],o=0;o<t.length;++o)Array.isArray(t[o])?e.flatten(t[o],n):n.push(t[o]);return n},e.reach=function(t,r,n){if(!1===r||null===r||"undefined"===typeof r)return t;"string"===typeof(n=n||{})&&(n={separator:n});for(var i=r.split(n.separator||"."),a=t,s=0;s<i.length;++s){var u=i[s];if("-"===u[0]&&Array.isArray(a)&&(u=u.slice(1,u.length),u=a.length-u),!a||"object"!==("undefined"===typeof a?"undefined":o(a))&&"function"!==typeof a||!(u in a)||"object"!==("undefined"===typeof a?"undefined":o(a))&&!1===n.functions){e.assert(!n.strict||s+1===i.length,"Missing segment",u,"in reach path ",r),e.assert("object"===("undefined"===typeof a?"undefined":o(a))||!0===n.functions||"function"!==typeof a,"Invalid segment",u,"in reach path ",r),a=n.default;break}a=a[u]}return a},e.reachTemplate=function(t,r,n){return r.replace(/{([^}]+)}/g,(function(r,o){var i=e.reach(t,o,n);return void 0===i||null===i?"":i}))},e.formatStack=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return e},e.formatTrace=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return e},e.callStack=function(t){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var n={};Error.captureStackTrace(n,this);var o=n.stack;return Error.prepareStackTrace=r,e.formatStack(o).slice(1+t)},e.displayStack=function(t){var r=e.callStack(void 0===t?1:t+1);return e.formatTrace(r)},e.abortThrow=!1,e.abort=function(t,r){if("test"===n.env.NODE_ENV||!0===e.abortThrow)throw new Error(t||"Unknown error");var o="";r||(o=e.displayStack(1).join("\n\t")),console.log("ABORT: "+t+"\n\t"+o),n.exit(1)},e.assert=function(t){if(!t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(1===n.length&&n[0]instanceof Error)throw n[0];var a=n.filter((function(t){return""!==t})).map((function(t){return"string"===typeof t?t:t instanceof Error?t.message:e.stringify(t)}));throw new i.AssertionError({message:a.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:e.assert})}},e.Bench=function(){this.ts=0,this.reset()},e.Bench.prototype.reset=function(){this.ts=e.Bench.now()},e.Bench.prototype.elapsed=function(){return e.Bench.now()-this.ts},e.Bench.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6},e.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},e.base64urlEncode=function(r,n){return e.assert("string"===typeof r||t.isBuffer(r),"value must be string or buffer"),(t.isBuffer(r)?r:t.from(r,n||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},e.base64urlDecode=function(e,r){if("string"!==typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");var n=t.from(e,"base64");return"buffer"===r?n:n.toString(r||"binary")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},e.escapeHtml=function(t){return l.escapeHtml(t)},e.escapeJavaScript=function(t){return l.escapeJavaScript(t)},e.escapeJson=function(t){return l.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;var e=!1,r=function wrapped(){if(!e){e=!0;for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(null,n)}};return r._hoekOnce=!0,r},e.isInteger=Number.isSafeInteger,e.ignore=function(){},e.inherits=u.inherits,e.format=u.format,e.transform=function(t,r,n){e.assert(null===t||void 0===t||"object"===("undefined"===typeof t?"undefined":o(t))||Array.isArray(t),"Invalid source object: must be null, undefined, an object, or an array");var i="object"===("undefined"===typeof n?"undefined":o(n))&&null!==n&&n.separator||".";if(Array.isArray(t)){for(var a=[],s=0;s<t.length;++s)a.push(e.transform(t[s],r,n));return a}for(var u={},l=Object.keys(r),c=0;c<l.length;++c){var p=l[c],f=p.split(i),d=r[p];e.assert("string"===typeof d,'All mappings must be "." delineated strings');for(var h=void 0,m=u;f.length>1;)m[h=f.shift()]||(m[h]={}),m=m[h];m[h=f.shift()]=e.reach(t,d,n)}return u},e.uniqueFilename=function(t,e){e=e?"."!==e[0]?"."+e:e:"",t=s.resolve(t);var r=[Date.now(),n.pid,a.randomBytes(8).toString("hex")].join("-")+e;return s.join(t,r)},e.stringify=function(){try{for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return JSON.stringify.apply(null,e)}catch(n){return"[Cannot display object: "+n.message+"]"}},e.shallow=function(t){for(var e={},r=Object.keys(t),n=0;n<r.length;++n){var o=r[n];e[o]=t[o]}return e},e.wait=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.block=function(){return new Promise(e.ignore)}}).call(e,r(3).Buffer,r(7))},function(t,e,r){"use strict";var n=r(0);e.create=function(t,e){n.assert("string"===typeof t,"Invalid reference key:",t);var r=n.clone(e),o=function ref(t,e){return n.reach(ref.isContext?e.context:t,ref.key,r)};return o.isContext=t[0]===(r&&r.contextPrefix||"$"),o.key=o.isContext?t.slice(1):t,o.path=o.key.split(r&&r.separator||"."),o.depth=o.path.length,o.root=o.path[0],o.isJoi=!0,o.toString=function(){return(o.isContext?"context:":"ref:")+o.key},o},e.isRef=function(t){return"function"===typeof t&&t.isJoi},e.push=function(t,r){e.isRef(r)&&!r.isContext&&t.push(r.root)}},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var i=r(0),a=r(11),s=r(1),u=r(6),l=null,c=null,p={Set:r(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};t.exports=p.Any=function(){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class),c=c||r(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new p.Set,this._invalids=new p.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return _class.prototype._init=function _init(){return this},_class.prototype.createError=function createError(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return u.create(t,e,r,n,o)},_class.prototype.createOverrideError=function createOverrideError(t,e,r,n,o,i){return u.create(t,e,r,n,this._flags,o,i)},_class.prototype.checkOptions=function checkOptions(t){var e=r(21).options.validate(t);if(e.error)throw new Error(e.error.details[0].message)},_class.prototype.clone=function clone(){var t=Object.create(Object.getPrototypeOf(this));t.isJoi=!0,t._currentJoi=this._currentJoi,t._type=this._type,t._settings=this._settings,t._baseType=this._baseType,t._valids=this._valids.slice(),t._invalids=this._invalids.slice(),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=i.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};for(var e=Object.keys(this._inner),r=0;r<e.length;++r){var n=e[r];t._inner[n]=this._inner[n]?this._inner[n].slice():null}return t},_class.prototype.concat=function concat(t){i.assert(t instanceof p.Any,"Invalid schema object"),i.assert("any"===this._type||"any"===t._type||t._type===this._type,"Cannot merge type",this._type,"with another type:",t._type);var e=this.clone();if("any"===this._type&&"any"!==t._type){for(var r=t.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],o=0;o<n.length;++o)r[n[o]]=e[n[o]];e=r}e._settings=e._settings?a.concat(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests=e._tests.concat(t._tests),e._refs=e._refs.concat(t._refs),i.merge(e._flags,t._flags),e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes=e._notes.concat(t._notes),e._tags=e._tags.concat(t._tags),e._examples=e._examples.concat(t._examples),e._meta=e._meta.concat(t._meta);for(var s=Object.keys(t._inner),u="object"===e._type,l=0;l<s.length;++l){var c=s[l],f=t._inner[c];if(f){var d=e._inner[c];if(d)if(u&&"children"===c){for(var h={},m=0;m<d.length;++m)h[d[m].key]=m;for(var y=0;y<f.length;++y){var g=f[y].key;h[g]>=0?d[h[g]]={key:g,schema:d[h[g]].schema.concat(f[y].schema)}:d.push(f[y])}}else e._inner[c]=e._inner[c].concat(f);else e._inner[c]=f.slice()}}return e},_class.prototype._test=function _test(t,e,r,n){var o=this.clone();return o._tests.push({func:r,name:t,arg:e,options:n}),o},_class.prototype.options=function options(t){i.assert(!t.context,"Cannot override context"),this.checkOptions(t);var e=this.clone();return e._settings=a.concat(e._settings,t),e},_class.prototype.strict=function strict(t){var e=this.clone(),r=void 0!==t&&!t;return e._settings=a.concat(e._settings,{convert:r}),e},_class.prototype.raw=function raw(t){var e=void 0===t||t;if(this._flags.raw===e)return this;var r=this.clone();return r._flags.raw=e,r},_class.prototype.error=function error(t){i.assert(t&&(t instanceof Error||"function"===typeof t),"Must provide a valid Error object or a function");var e=this.clone();return e._flags.error=t,e},_class.prototype.allow=function allow(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=i.flatten(e);for(var o=0;o<e.length;++o){var a=e[o];i.assert(void 0!==a,"Cannot call allow/valid/invalid with undefined"),n._invalids.remove(a),n._valids.add(a,n._refs)}return n},_class.prototype.valid=function valid(){var t=this.allow.apply(this,arguments);return t._flags.allowOnly=!0,t},_class.prototype.invalid=function invalid(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=i.flatten(e);for(var o=0;o<e.length;++o){var a=e[o];i.assert(void 0!==a,"Cannot call allow/valid/invalid with undefined"),n._valids.remove(a),n._invalids.add(a,n._refs)}return n},_class.prototype.required=function required(){if("required"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="required",t},_class.prototype.optional=function optional(){if("optional"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="optional",t},_class.prototype.forbidden=function forbidden(){if("forbidden"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="forbidden",t},_class.prototype.strip=function strip(){if(this._flags.strip)return this;var t=this.clone();return t._flags.strip=!0,t},_class.prototype.applyFunctionToChildren=function applyFunctionToChildren(t,e,r,n){if(1!==(t=[].concat(t)).length||""!==t[0]){n=n?n+".":"";var o=(""===t[0]?t.slice(1):t).map((function(t){return n+t}));throw new Error("unknown key(s) "+o.join(", "))}return this[e].apply(this,r)},_class.prototype.default=function _default(t,e){"function"!==typeof t||s.isRef(t)||(!t.description&&e&&(t.description=e),this._flags.func||i.assert("string"===typeof t.description&&t.description.length>0,"description must be provided when default value is a function"));var r=this.clone();return r._flags.default=t,s.push(r._refs,t),r},_class.prototype.empty=function empty(t){var e=this.clone();return void 0===t?delete e._flags.empty:e._flags.empty=c.schema(this._currentJoi,t),e},_class.prototype.when=function when(t,e){i.assert(e&&"object"===("undefined"===typeof e?"undefined":n(e)),"Invalid options"),i.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var o=e.hasOwnProperty("then")?this.concat(c.schema(this._currentJoi,e.then)):void 0,a=e.hasOwnProperty("otherwise")?this.concat(c.schema(this._currentJoi,e.otherwise)):void 0;l=l||r(10);var s={then:o,otherwise:a};Object.prototype.hasOwnProperty.call(e,"is")&&(s.is=e.is);var u=l.when(t,s);return u._flags.presence="ignore",u._baseType=this,u},_class.prototype.description=function description(t){i.assert(t&&"string"===typeof t,"Description must be a non-empty string");var e=this.clone();return e._description=t,e},_class.prototype.notes=function notes(t){i.assert(t&&("string"===typeof t||Array.isArray(t)),"Notes must be a non-empty string or array");var e=this.clone();return e._notes=e._notes.concat(t),e},_class.prototype.tags=function tags(t){i.assert(t&&("string"===typeof t||Array.isArray(t)),"Tags must be a non-empty string or array");var e=this.clone();return e._tags=e._tags.concat(t),e},_class.prototype.meta=function meta(t){i.assert(void 0!==t,"Meta cannot be undefined");var e=this.clone();return e._meta=e._meta.concat(t),e},_class.prototype.example=function example(){i.assert(1===arguments.length,"Missing example");var t=arguments.length<=0?void 0:arguments[0],e=this.clone();return e._examples.push(t),e},_class.prototype.unit=function unit(t){i.assert(t&&"string"===typeof t,"Unit name must be a non-empty string");var e=this.clone();return e._unit=t,e},_class.prototype._prepareEmptyValue=function _prepareEmptyValue(t){return"string"===typeof t&&this._flags.trim?t.trim():t},_class.prototype._validate=function _validate(t,e,r,n){var o=this,l=t;e=e||{key:"",path:[],parent:null,reference:n},this._settings&&(r=a.concat(r,this._settings));var c=[],f=function finish(){var n=void 0;if(void 0!==t)n=o._flags.raw?l:t;else if(r.noDefaults)n=t;else if(s.isRef(o._flags.default))n=o._flags.default(e.parent,r);else if("function"!==typeof o._flags.default||o._flags.func&&!o._flags.default.description)n=i.clone(o._flags.default);else{var a=void 0;null!==e.parent&&o._flags.default.length>0&&(a=[i.clone(e.parent),r]);var u=p._try(o._flags.default,a);n=u.value,u.error&&c.push(o.createError("any.default",{error:u.error},e,r))}if(c.length&&"function"===typeof o._flags.error){var f=o._flags.error.call(o,c);c="string"===typeof f?[o.createOverrideError("override",{reason:c},e,r,f)]:[].concat(f).map((function(t){return t instanceof Error?t:o.createOverrideError(t.type||"override",t.context,e,r,t.message,t.template)}))}return{value:o._flags.strip?void 0:n,finalValue:n,errors:c.length?c:null}};if(this._coerce){var d=this._coerce.call(this,t,e,r);if(d.errors)return t=d.value,c=c.concat(d.errors),f();t=d.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(t),null,p.defaults).errors&&(t=void 0);var h=this._flags.presence||r.presence;if("optional"===h){if(void 0===t){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return f();t={}}}else{if("required"===h&&void 0===t)return c.push(this.createError("any.required",null,e,r)),f();if("forbidden"===h)return void 0===t?f():(c.push(this.createError("any.unknown",null,e,r)),f())}if(this._valids.has(t,e,r,this._flags.insensitive))return f();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly||void 0===t))return f();if(this._base){var m=this._base.call(this,t,e,r);if(m.errors)return t=m.value,c=c.concat(m.errors),f();if(m.value!==t){if(t=m.value,this._valids.has(t,e,r,this._flags.insensitive))return f();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly))return f()}}if(this._flags.allowOnly&&(c.push(this.createError("any.allowOnly",{value:t,valids:this._valids.values({stripUndefined:!0})},e,r)),r.abortEarly))return f();for(var y=0;y<this._tests.length;++y){var g=this._tests[y].func.call(this,t,e,r);if(g instanceof u.Err){if(c.push(g),r.abortEarly)return f()}else t=g}return f()},_class.prototype._validateWithOptions=function _validateWithOptions(t,e,r){e&&this.checkOptions(e);var n=a.concat(p.defaults,e),o=this._validate(t,null,n),i=u.process(o.errors,t);return r?r(i,o.value):{error:i,value:o.value,then:function then(t,e){return i?Promise.reject(i).catch(e):Promise.resolve(o.value).then(t)},catch:function _catch(t){return i?Promise.reject(i).catch(t):Promise.resolve(o.value)}}},_class.prototype.validate=function validate(t,e,r){return"function"===typeof e?this._validateWithOptions(t,null,e):this._validateWithOptions(t,e,r)},_class.prototype.describe=function describe(){var t=this,e={type:this._type},r=Object.keys(this._flags);if(r.length)if(["empty","default","lazy","label"].some((function(e){return t._flags.hasOwnProperty(e)}))){e.flags={};for(var n=0;n<r.length;++n){var o=r[n];"empty"===o?e.flags[o]=this._flags[o].describe():"default"===o?s.isRef(this._flags[o])?e.flags[o]=this._flags[o].toString():"function"===typeof this._flags[o]?e.flags[o]={description:this._flags[o].description,function:this._flags[o]}:e.flags[o]=this._flags[o]:"lazy"===o||"label"===o||(e.flags[o]=this._flags[o])}}else e.flags=this._flags;this._settings&&(e.options=i.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var a=this._valids.values();a.length&&(e.valids=a.map((function(t){return s.isRef(t)?t.toString():t})));var u=this._invalids.values();u.length&&(e.invalids=u.map((function(t){return s.isRef(t)?t.toString():t}))),e.rules=[];for(var l=0;l<this._tests.length;++l){var c=this._tests[l],p={name:c.name};void 0!==c.arg&&(p.arg=s.isRef(c.arg)?c.arg.toString():c.arg);var f=c.options;if(f){if(f.hasRef){p.arg={};for(var d=Object.keys(c.arg),h=0;h<d.length;++h){var m=d[h],y=c.arg[m];p.arg[m]=s.isRef(y)?y.toString():y}}"string"===typeof f.description?p.description=f.description:"function"===typeof f.description&&(p.description=f.description(p.arg))}e.rules.push(p)}e.rules.length||delete e.rules;var g=this._getLabel();return g&&(e.label=g),e},_class.prototype.label=function label(t){i.assert(t&&"string"===typeof t,"Label name must be a non-empty string");var e=this.clone();return e._flags.label=t,e},_class.prototype._getLabel=function _getLabel(t){return this._flags.label||t},o(_class,[{key:"schemaType",get:function get(){return this._type}}]),_class}(),p.Any.prototype.isImmutable=!0,p.Any.prototype.only=p.Any.prototype.equal=p.Any.prototype.valid,p.Any.prototype.disallow=p.Any.prototype.not=p.Any.prototype.invalid,p.Any.prototype.exist=p.Any.prototype.required,p._try=function(t,e){var r=void 0,n=void 0;try{n=t.apply(null,e)}catch(o){r=o}return{value:n,error:r}}},function(t,e,r){"use strict";(function(t){var n=r(33),o=r(34),i=r(35);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e);return t}(t,e,r,n):"string"===typeof e?function fromString(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r),o=(t=createBuffer(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return 0===(t=createBuffer(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||function isnan(t){return t!==t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&i(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,o){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,o);if("number"===typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function read(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(read(t,i)===read(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var c=!0,p=0;p<u;p++)if(read(t,i+p)!==read(e,p)){c=!1;break}if(c)return i}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(function utf16leToBytes(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,u,l,c=t[o],p=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(p=c);break;case 2:128===(192&(i=t[o+1]))&&(l=(31&c)<<6|63&i)>127&&(p=l);break;case 3:i=t[o+1],s=t[o+2],128===(192&i)&&128===(192&s)&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(p=l);break;case 4:i=t[o+1],s=t[o+2],u=t[o+3],128===(192&i)&&128===(192&s)&&128===(192&u)&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(p=l)}null===p?(p=65533,f=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|1023&p),n.push(p),o+=f}return function decodeCodePointsArray(t){var e=t.length;if(e<=a)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=a));return r}(n)}e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"===typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,r,n,o){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),u=this.slice(n,o),l=t.slice(e,r),c=0;c<s;++c)if(u[c]!==l[c]){i=u[c],a=l[c];break}return i<a?-1:a<i?1:0},Buffer.prototype.includes=function includes(t,e,r){return-1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function indexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function write(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=toHex(t[i]);return o}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,o,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function checkIEEE754(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,0,r,8),o.write(t,e,r,n,52,8),r+8}Buffer.prototype.slice=function slice(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Buffer.prototype;else{var o=e-t;r=new Buffer(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},Buffer.prototype.readUIntLE=function readUIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},Buffer.prototype.readUIntBE=function readUIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function readIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,r,n){(t=+t,e|=0,r|=0,n)||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,r,n){(t=+t,e|=0,r|=0,n)||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function writeUInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeIntBE=function writeIntBE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeInt8=function writeInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function copy(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function fill(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function base64ToBytes(t){return n.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(s,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function blitBuffer(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(e,r(5))},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(0),i=r(1);e.schema=function(t,e){return void 0!==e&&null!==e&&"object"===("undefined"===typeof e?"undefined":n(e))?e.isJoi?e:Array.isArray(e)?t.alternatives().try(e):e instanceof RegExp?t.string().regex(e):e instanceof Date?t.date().valid(e):t.object().keys(e):"string"===typeof e?t.string().valid(e):"number"===typeof e?t.number().valid(e):"boolean"===typeof e?t.boolean().valid(e):i.isRef(e)?t.valid(e):(o.assert(null===e,"Invalid schema content:",e),t.valid(null))},e.ref=function(t){return i.isRef(t)?t:i.create(t)}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=r(0),i=r(20),a={annotations:Symbol("joi-annotations"),stringify:function(t,r){var o="undefined"===typeof t?"undefined":n(t);if(null===t)return"null";if("string"===o)return t;if(t instanceof e.Err||"function"===o||"symbol"===o)return t.toString();if("object"===o){if(Array.isArray(t)){for(var i="",s=0;s<t.length;++s)i=i+(i.length?", ":"")+a.stringify(t[s],r);return r?"["+i+"]":i}return t.toString()}return JSON.stringify(t)}};e.Err=function(){function _class(t,e,r,n,o,a,s){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class),this.isJoi=!0,this.type=t,this.context=e||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=n,this.flags=o,this.message=a,this.template=s;var u=this.options.language;this.flags.label?this.context.label=this.flags.label:!u||""!==this.context.label&&null!==this.context.label||(this.context.label=u.root||i.errors.root)}return _class.prototype.toString=function toString(){var t=this;if(this.message)return this.message;var e=void 0;this.template&&(e=this.template);var r=this.options.language;if(void 0===(e=e||o.reach(r,this.type)||o.reach(i.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var n=o.reach(r,"messages.wrapArrays");if("boolean"!==typeof n&&(n=i.errors.messages.wrapArrays),null===e){var s=a.stringify(this.context.reason,n);return n?s.slice(1,-1):s}var u=/\{\{\!?label\}\}/.test(e),l=e.length>2&&"!"===e[0]&&"!"===e[1];if(l&&(e=e.slice(2)),!u&&!l){var c=o.reach(r,"key");e="string"===typeof c?c+e:o.reach(i.errors,"key")+e}return e.replace(/\{\{(\!?)([^}]+)\}\}/g,(function(e,r,i){var s=o.reach(t.context,i),u=a.stringify(s,n);return r&&t.options.escapeHtml?o.escapeHtml(u):u}))},_class}(),e.create=function(t,r,n,o,i,a,s){return new e.Err(t,r,n,o,i,a,s)},e.process=function(t,e){if(!t||!t.length)return null;var r="",n=[],o=function processErrors(t,e){for(var o=0;o<t.length;++o){var i=t[o];if(i instanceof Error)return i;if(i.flags.error&&"function"!==typeof i.flags.error)return i.flags.error;var a=void 0;if(void 0===e&&(a=i.toString(),r=r+(r?". ":"")+a),i.context.reason&&i.context.reason.length){var s=processErrors(i.context.reason,i.path);if(s)return s}else n.push({message:a||i.toString(),path:i.path,type:i.type,context:i.context})}}(t);if(o)return o;var i=new Error(r);return i.isJoi=!0,i.name="ValidationError",i.details=n,i._object=e,i.annotate=a.annotate,i},a.safeStringify=function(t,e){return JSON.stringify(t,a.serializer(),e)},a.serializer=function(){var t=[],e=[],r=function cycleReplacer(r,n){return e[0]===n?"[Circular ~]":"[Circular ~."+t.slice(0,e.indexOf(n)).join(".")+"]"};return function(o,i){if(e.length>0){var s=e.indexOf(this);~s?(e.length=s+1,t.length=s+1,t[s]=o):(e.push(this),t.push(o)),~e.indexOf(i)&&(i=r.call(this,o,i))}else e.push(i);if(i){var u=i[a.annotations];if(u){if(Array.isArray(i)){for(var l=[],c=0;c<i.length;++c)u.errors[c]&&l.push("_$idx$_"+u.errors[c].sort().join(", ")+"_$end$_"),l.push(i[c]);i=l}else{for(var p=Object.keys(u.errors),f=0;f<p.length;++f){var d=p[f];i[d+"_$key$_"+u.errors[d].sort().join(", ")+"_$end$_"]=i[d],i[d]=void 0}for(var h=Object.keys(u.missing),m=0;m<h.length;++m){var y=h[m];i["_$miss$_"+y+"|"+u.missing[y]+"_$end$_"]="__missing__"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"===typeof i||"symbol"===("undefined"===typeof i?"undefined":n(i))?"["+i.toString()+"]":i}},a.annotate=function(t){var e=t?"":"\x1b[31m",r=t?"":"\x1b[41m",i=t?"":"\x1b[0m";if("object"!==n(this._object))return this.details[0].message;for(var s=o.clone(this._object||{}),u=this.details.length-1;u>=0;--u)for(var l=u+1,c=this.details[u],p=c.path,f=s,d=0;;++d){var h=p[d];if(f.isImmutable&&(f=f.clone()),!(d+1<p.length&&f[h]&&"string"!==typeof f[h])){var m=f[a.annotations]=f[a.annotations]||{errors:{},missing:{}},y=f[h],g=h||c.context.label;void 0!==y?(m.errors[g]=m.errors[g]||[],m.errors[g].push(l)):m.missing[g]=l;break}f=f[h]}var v=/_\$key\$_([, \d]+)_\$end\$_\"/g,_=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,b=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,S=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,x=a.safeStringify(s,2).replace(v,(function(t,r){return'" '+e+"["+r+"]"+i})).replace(_,(function(t,n,o){return r+'"'+n+'"'+i+e+" ["+o+"]: -- missing --"+i})).replace(b,(function(t,r,n){return"\n"+n+" "+e+"["+r+"]"+i})).replace(S,(function(t,e){return e}));x=x+"\n"+e;for(var w=0;w<this.details.length;++w){x=x+"\n["+(w+1)+"] "+this.details[w].message}return x+=i}},function(t,e){var r,n,o=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(r===setTimeout)return setTimeout(t,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{n="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){n=defaultClearTimeout}}();var i,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=a.length;e;){for(i=a,a=[];++u<e;)i&&i[u].run();u=-1,e=a.length}i=null,s=!1,function runClearTimeout(t){if(n===clearTimeout)return clearTimeout(t);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new Item(t,e)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var o=r(0),i=r(2),a=r(4),s=r(6),u=r(26),l=r(1),c=r(11),p={alternatives:r(10),array:r(22),boolean:r(24),binary:r(23),date:r(12),func:r(25),number:r(27),object:r(13),string:r(28)};p.callWithDefaults=function(t,e){var r;return o.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(t=this._defaults(t)),t._currentJoi=this,(r=t)._init.apply(r,function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e))},p.root=function(){var t=new i,e=t.clone();return i.prototype._currentJoi=e,e._currentJoi=e,e.any=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return o.assert(0===r.length,"Joi.any() does not allow arguments."),p.callWithDefaults.call(this,t,r)},e.alternatives=e.alt=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.callWithDefaults.call(this,p.alternatives,e)},e.array=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.array() does not allow arguments."),p.callWithDefaults.call(this,p.array,e)},e.boolean=e.bool=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.boolean() does not allow arguments."),p.callWithDefaults.call(this,p.boolean,e)},e.binary=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.binary() does not allow arguments."),p.callWithDefaults.call(this,p.binary,e)},e.date=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.date() does not allow arguments."),p.callWithDefaults.call(this,p.date,e)},e.func=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.func() does not allow arguments."),p.callWithDefaults.call(this,p.func,e)},e.number=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.number() does not allow arguments."),p.callWithDefaults.call(this,p.number,e)},e.object=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.callWithDefaults.call(this,p.object,e)},e.string=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,"Joi.string() does not allow arguments."),p.callWithDefaults.call(this,p.string,e)},e.ref=function(){return l.create.apply(l,arguments)},e.isRef=function(t){return l.isRef(t)},e.validate=function(r){var n,o=(n=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=n?void 0:arguments[n]),i="function"===typeof o?o:null,a=(arguments.length<=1?0:arguments.length-1)-(i?1:0);if(0===a)return t.validate(r,i);var s=2===a?arguments.length<=2?void 0:arguments[2]:{},u=e.compile(arguments.length<=1?void 0:arguments[1]);return u._validateWithOptions(r,s,i)},e.describe=function(){var r=arguments.length?e.compile(arguments.length<=0?void 0:arguments[0]):t;return r.describe()},e.compile=function(t){try{return a.schema(this,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},e.assert=function(t,r,n){e.attempt(t,r,n)},e.attempt=function(t,r,n){var o=e.validate(t,r),i=o.error;if(i){if(!n)throw"function"===typeof i.annotate&&(i.message=i.annotate()),i;if(!(n instanceof Error))throw"function"===typeof i.annotate&&(i.message=n+" "+i.annotate()),i;throw n}return o.value},e.reach=function(t,e){o.assert(t&&t instanceof i,"you must provide a joi schema"),o.assert(Array.isArray(e)||"string"===typeof e,"path must be a string or an array of strings");return function reach(t,e){if(!e.length)return t;var r=t._inner.children;if(r)for(var n=e.shift(),o=0;o<r.length;++o){var i=r[o];if(i.key===n)return reach(i.schema,e)}}(t,"string"===typeof e?e?e.split("."):[]:e.slice())},e.lazy=function(t){return u.set(t)},e.defaults=function(t){var e=this;o.assert("function"===typeof t,"Defaults must be a function");var r=Object.create(this.any());return r=t(r),o.assert(r&&r instanceof this.constructor,"defaults() must return a schema"),n(r,this,r.clone()),r._defaults=function(r){return e._defaults&&(r=e._defaults(r),o.assert(r instanceof e.constructor,"defaults() must return a schema")),r=t(r),o.assert(r instanceof e.constructor,"defaults() must return a schema"),r},r},e.extend=function(){for(var t=this,r=arguments.length,u=Array(r),f=0;f<r;f++)u[f]=arguments[f];var d=o.flatten(u);o.assert(d.length>0,"You need to provide at least one extension"),this.assert(d,e.extensionsSchema);var h=Object.create(this.any());n(h,this);for(var m=function _loop(r){var u=d[r];"function"===typeof u&&(u=u(h)),t.assert(u,e.extensionSchema);var f=(u.base||t.any()).clone(),m=f.constructor,y=function(t){function type(){_classCallCheck(this,type);var e=_possibleConstructorReturn(this,t.call(this));return u.base&&n(e,f),e._type=u.name,u.language&&(e._settings=c.concat(e._settings,{language:_defineProperty({},u.name,u.language)})),e}return _inherits(type,t),type}(m);if(u.coerce&&(y.prototype._coerce=function(t,e,r){if(m.prototype._coerce){var n=m.prototype._coerce.call(this,t,e,r);if(n.errors)return n;t=n.value}var o=u.coerce.call(this,t,e,r);return o instanceof s.Err?{value:t,errors:o}:{value:o}}),u.pre&&(y.prototype._base=function(t,e,r){if(m.prototype._base){var n=m.prototype._base.call(this,t,e,r);if(n.errors)return n;t=n.value}var o=u.pre.call(this,t,e,r);return o instanceof s.Err?{value:t,errors:o}:{value:o}}),u.rules)for(var g=function _loop2(e){var r=u.rules[e],n=r.params?r.params instanceof i?r.params._inner.children.map((function(t){return t.key})):Object.keys(r.params):[],s=r.params?a.schema(t,r.params):null;y.prototype[r.name]=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];if(e.length>n.length)throw new Error("Unexpected number of arguments");for(var u=!1,c={},p=0;p<n.length;++p)c[n[p]]=e[p],!u&&l.isRef(e[p])&&(u=!0);s&&(c=h.attempt(c,s));var f=void 0;if(r.validate){var d=function validate(t,e,n){return r.validate.call(this,c,t,e,n)};f=this._test(r.name,c,d,{description:r.description,hasRef:u})}else f=this.clone();if(r.setup){var m=r.setup.call(f,c);void 0!==m&&(o.assert(m instanceof i,"Setup of extension Joi."+this._type+"()."+r.name+"() must return undefined or a Joi object"),f=m)}return f}},v=0;v<u.rules.length;++v)g(v);u.describe&&(y.prototype.describe=function(){var t=m.prototype.describe.call(this);return u.describe.call(this,t)});var _=new y;h[u.name]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.callWithDefaults.call(this,_,e)}},y=0;y<d.length;++y)m(y);return h},e.extensionSchema=p.object.keys({base:p.object.type(i,"Joi object"),name:p.string.required(),coerce:p.func.arity(3),pre:p.func.arity(3),language:p.object,describe:p.func.arity(1),rules:p.array.items(p.object.keys({name:p.string.required(),setup:p.func.arity(1),validate:p.func.arity(4),params:[p.object.pattern(/.*/,p.object.type(i,"Joi object")),p.object.type(p.object.constructor,"Joi object")],description:[p.string,p.func.arity(1)]}).or("setup","validate"))}).strict(),e.extensionsSchema=p.array.items([p.object,p.func.arity(1)]).strict(),e.version=r(36).version,e},t.exports=p.root()},function(t,e,r){"use strict";(function(e){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(1),i={extendedCheckForValue:function(t,r){var o="undefined"===typeof t?"undefined":n(t);if("object"===o){if(t instanceof Date)return function(e){return e instanceof Date&&t.getTime()===e.getTime()};if(e.isBuffer(t))return function(r){return e.isBuffer(r)&&t.length===r.length&&t.toString("binary")===r.toString("binary")}}else if(r&&"string"===o){var i=t.toLowerCase();return function(t){return"string"===typeof t&&i===t.toLowerCase()}}return null}};t.exports=function(){function InternalSet(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InternalSet),this._set=new Set(t),this._hasRef=!1}return InternalSet.prototype.add=function add(t,e){var r=o.isRef(t);return!r&&this.has(t,null,null,!1)?this:(void 0!==e&&o.push(e,t),this._set.add(t),this._hasRef|=r,this)},InternalSet.prototype.merge=function merge(t,e){var r=!0,n=!1,o=void 0;try{for(var i,a=t._set[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;this.add(s)}}catch(h){n=!0,o=h}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}var u=!0,l=!1,c=void 0;try{for(var p,f=e._set[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value;this.remove(d)}}catch(h){l=!0,c=h}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return this},InternalSet.prototype.remove=function remove(t){return this._set.delete(t),this},InternalSet.prototype.has=function has(t,e,r,n){if(!this._set.size)return!1;var a=this._set.has(t);if(a)return a;var s=i.extendedCheckForValue(t,n);if(!s){if(e&&this._hasRef){var u=!0,l=!1,c=void 0;try{for(var p,f=this._set[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value;if(o.isRef(d)&&(t===(d=d(e.reference||e.parent,r))||Array.isArray(d)&&d.includes(t)))return!0}}catch(h){l=!0,c=h}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}return!1}return this._has(t,e,r,s)},InternalSet.prototype._has=function _has(t,e,r,n){var i=!(!e||!this._hasRef),a=function isReallyEqual(e){return t===e||n(e)},s=!0,u=!1,l=void 0;try{for(var c,p=this._set[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=c.value;if(i&&o.isRef(f)&&(f=f(e.reference||e.parent,r),Array.isArray(f))){if(f.find(a))return!0}else if(a(f))return!0}}catch(d){u=!0,l=d}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}return!1},InternalSet.prototype.values=function values(t){if(t&&t.stripUndefined){var values=[],e=!0,r=!1,n=void 0;try{for(var o,i=this._set[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;void 0!==a&&values.push(a)}}catch(s){r=!0,n=s}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}return values}return Array.from(this._set)},InternalSet.prototype.slice=function slice(){var t=new InternalSet(this._set);return t._hasRef=this._hasRef,t},InternalSet.prototype.concat=function concat(t){var e=new InternalSet([].concat(_toConsumableArray(this._set),_toConsumableArray(t._set)));return e._hasRef=!!(this._hasRef|t._hasRef),e},InternalSet}()}).call(e,r(3).Buffer)},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var o=r(0),i=r(2),a=r(4),s=r(1),u={};u.Alternatives=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="alternatives",e._invalids.remove(null),e._inner.matches=[],e}return _inherits(_class,t),_class.prototype._init=function _init(){return arguments.length?this.try.apply(this,arguments):this},_class.prototype._base=function _base(t,e,r){for(var n=[],o=this._inner.matches.length,i=this._baseType,a=0;a<o;++a){var s=this._inner.matches[a];if(s.schema){var u=s.schema._validate(t,e,r);if(!u.errors)return u;n=n.concat(u.errors)}else{var l=s.peek||s.is,c=s.is?s.ref(e.reference||e.parent,r):t;if(l._validate(c,null,r,e.parent).errors){if(s.otherwise)return s.otherwise._validate(t,e,r)}else if(s.then)return s.then._validate(t,e,r);if(a===o-1&&i)return i._validate(t,e,r)}}return n.length?{errors:this.createError("alternatives.child",{reason:n},e,r)}:{errors:this.createError("alternatives.base",null,e,r)}},_class.prototype.try=function _try(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e=o.flatten(e),o.assert(e.length,"Cannot add other alternatives without at least one schema");for(var n=this.clone(),i=0;i<e.length;++i){var s=a.schema(this._currentJoi,e[i]);s._refs.length&&(n._refs=n._refs.concat(s._refs)),n._inner.matches.push({schema:s})}return n},_class.prototype.when=function when(t,e){var r=!1;o.assert(s.isRef(t)||"string"===typeof t||(r=t instanceof i),"Invalid condition:",t),o.assert(e,"Missing options"),o.assert("object"===("undefined"===typeof e?"undefined":n(e)),"Invalid options"),r?o.assert(!e.hasOwnProperty("is"),'"is" can not be used with a schema condition'):o.assert(e.hasOwnProperty("is"),'Missing "is" directive'),o.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var u=this.clone(),l=void 0;r||(l=a.schema(this._currentJoi,e.is),null!==e.is&&(s.isRef(e.is)||e.is instanceof i)||(l=l.required()));var c={ref:r?null:a.ref(t),peek:r?t:null,is:l,then:void 0!==e.then?a.schema(this._currentJoi,e.then):void 0,otherwise:void 0!==e.otherwise?a.schema(this._currentJoi,e.otherwise):void 0};return u._baseType&&(c.then=c.then&&u._baseType.concat(c.then),c.otherwise=c.otherwise&&u._baseType.concat(c.otherwise)),r||(s.push(u._refs,c.ref),u._refs=u._refs.concat(c.is._refs)),c.then&&c.then._refs&&(u._refs=u._refs.concat(c.then._refs)),c.otherwise&&c.otherwise._refs&&(u._refs=u._refs.concat(c.otherwise._refs)),u._inner.matches.push(c),u},_class.prototype.describe=function describe(){for(var t=i.prototype.describe.call(this),e=[],r=0;r<this._inner.matches.length;++r){var n=this._inner.matches[r];if(n.schema)e.push(n.schema.describe());else{var o=n.is?{ref:n.ref.toString(),is:n.is.describe()}:{peek:n.peek.describe()};n.then&&(o.then=n.then.describe()),n.otherwise&&(o.otherwise=n.otherwise.describe()),e.push(o)}}return t.alternatives=e,t},_class}(i),t.exports=new u.Alternatives},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=r(0);e.concat=function(t,e){if(!e)return t;for(var r=n({},t),i=Object.keys(e),a=0;a<i.length;++a){var s=i[a];"language"===s&&r.hasOwnProperty(s)?r[s]=o.applyToDefaults(r[s],e[s]):r[s]=e[s]}return r}},function(t,e,r){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(2),o=r(1),i=r(0),a={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};a.invalidDate=new Date(""),a.isIsoDate=function(){var t=a.isoDate.toString();return function(e){return e&&e.toString()===t}}(),a.Date=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="date",e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){var n={value:r.convert&&a.Date.toDate(t,this._flags.format,this._flags.timestamp,this._flags.multiplier)||t};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){var o=void 0;o=a.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",n.errors=this.createError("date."+o,null,e,r)}else n.errors=this.createError("date.strict",null,e,r);return n},_class.toDate=function toDate(t,e,r,n){if(t instanceof Date)return t;if("string"===typeof t||"number"===typeof t&&!isNaN(t)&&isFinite(t)){"string"===typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=parseFloat(t));var o=void 0;if(o=e&&a.isIsoDate(e)?e.test(t)?new Date(t):a.invalidDate:r&&n?/^\s*$/.test(t)?a.invalidDate:new Date(t*n):new Date(t),!isNaN(o.getTime()))return o}return null},_class.prototype.iso=function iso(){if(this._flags.format===a.isoDate)return this;var t=this.clone();return t._flags.format=a.isoDate,t},_class.prototype.timestamp=function timestamp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",e=["javascript","unix"];if(i.assert(e.includes(t),'"type" must be one of "'+e.join('", "')+'"'),this._flags.timestamp===t)return this;var r=this.clone();return r._flags.timestamp=t,r._flags.multiplier="unix"===t?1e3:1,r},_class.prototype._isIsoDate=function _isIsoDate(t){return a.isoDate.test(t)},_class}(n),a.compare=function(t,e){return function(r){var n="now"===r,s=o.isRef(r);return n||s||(r=a.Date.toDate(r)),i.assert(r,"Invalid date format"),this._test(t,r,(function(o,i,u){var l=void 0;if(n)l=Date.now();else if(s){if(!(l=a.Date.toDate(r(i.reference||i.parent,u))))return this.createError("date.ref",{ref:r.key},i,u);l=l.getTime()}else l=r.getTime();return e(o.getTime(),l)?o:this.createError("date."+t,{limit:new Date(l)},i,u)}))}},a.Date.prototype.min=a.compare("min",(function(t,e){return t>=e})),a.Date.prototype.max=a.compare("max",(function(t,e){return t<=e})),a.Date.prototype.greater=a.compare("greater",(function(t,e){return t>e})),a.Date.prototype.less=a.compare("less",(function(t,e){return t<e})),t.exports=new a.Date},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var o=r(0),i=r(31),a=r(2),s=r(6),u=r(4),l={};l.Object=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="object",e._inner.children=null,e._inner.renames=[],e._inner.dependencies=[],e._inner.patterns=[],e}return _inherits(_class,t),_class.prototype._init=function _init(){return arguments.length?this.keys.apply(this,arguments):this},_class.prototype._base=function _base(t,e,r){var i=t,a=[],u=function finish(){return{value:i,errors:a.length?a:null}};"string"===typeof t&&r.convert&&(t=l.safeParse(t));var c=this._flags.func?"function":"object";if(!t||("undefined"===typeof t?"undefined":n(t))!==c||Array.isArray(t))return a.push(this.createError(c+".base",null,e,r)),u();if(!this._inner.renames.length&&!this._inner.dependencies.length&&!this._inner.children&&!this._inner.patterns.length)return i=t,u();if(i===t){"object"===c?i=Object.create(Object.getPrototypeOf(t)):(i=function target(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}).prototype=o.clone(t.prototype);for(var p=Object.keys(t),f=0;f<p.length;++f)i[p[f]]=t[p[f]]}else i=t;for(var d={},h=0;h<this._inner.renames.length;++h){var m=this._inner.renames[h];if(m.isRegExp){for(var y=Object.keys(i),g=[],v=0;v<y.length;++v)m.from.test(y[v])&&g.push(y[v]);var _=g.every((function(t){return void 0===i[t]}));if(m.options.ignoreUndefined&&_)continue;if(!m.options.multiple&&d[m.to]&&(a.push(this.createError("object.rename.regex.multiple",{from:g,to:m.to},e,r)),r.abortEarly))return u();if(Object.prototype.hasOwnProperty.call(i,m.to)&&!m.options.override&&!d[m.to]&&(a.push(this.createError("object.rename.regex.override",{from:g,to:m.to},e,r)),r.abortEarly))return u();if(_?delete i[m.to]:i[m.to]=i[g[g.length-1]],d[m.to]=!0,!m.options.alias)for(var b=0;b<g.length;++b)delete i[g[b]]}else{if(m.options.ignoreUndefined&&void 0===i[m.from])continue;if(!m.options.multiple&&d[m.to]&&(a.push(this.createError("object.rename.multiple",{from:m.from,to:m.to},e,r)),r.abortEarly))return u();if(Object.prototype.hasOwnProperty.call(i,m.to)&&!m.options.override&&!d[m.to]&&(a.push(this.createError("object.rename.override",{from:m.from,to:m.to},e,r)),r.abortEarly))return u();void 0===i[m.from]?delete i[m.to]:i[m.to]=i[m.from],d[m.to]=!0,m.options.alias||delete i[m.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return u();var S=new Set(Object.keys(i));if(this._inner.children){for(var x=[],w=0;w<this._inner.children.length;++w){var E=this._inner.children[w],P=E.key,C=i[P];S.delete(P);var T={key:P,path:e.path.concat(P),parent:i,reference:e.reference},D=E.schema._validate(C,T,r);if(D.errors){if(a.push(this.createError("object.child",{key:P,child:E.schema._getLabel(P),reason:D.errors},T,r)),r.abortEarly)return u()}else E.schema._flags.strip||void 0===D.value&&D.value!==C?(x.push(P),i[P]=D.finalValue):void 0!==D.value&&(i[P]=D.value)}for(var M=0;M<x.length;++M)delete i[x[M]]}if(S.size&&this._inner.patterns.length){var A=!0,R=!1,L=void 0;try{for(var I,O=S[Symbol.iterator]();!(A=(I=O.next()).done);A=!0)for(var k=I.value,F={key:k,path:e.path.concat(k),parent:i,reference:e.reference},N=i[k],B=0;B<this._inner.patterns.length;++B){var U=this._inner.patterns[B];if(U.regex?U.regex.test(k):!U.schema.validate(k).error){S.delete(k);var z=U.rule._validate(N,F,r);if(z.errors&&(a.push(this.createError("object.child",{key:k,child:U.rule._getLabel(k),reason:z.errors},F,r)),r.abortEarly))return u();i[k]=z.value}}}catch(rt){R=!0,L=rt}finally{try{!A&&O.return&&O.return()}finally{if(R)throw L}}}if(S.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){var j=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.objects),G=!0,V=!1,W=void 0;try{for(var q,H=S[Symbol.iterator]();!(G=(q=H.next()).done);G=!0){var K=q.value;j?(delete i[K],S.delete(K)):"function"===typeof i[K]&&S.delete(K)}}catch(rt){V=!0,W=rt}finally{try{!G&&H.return&&H.return()}finally{if(V)throw W}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown){var Y=!0,Z=!1,X=void 0;try{for(var Q,$=S[Symbol.iterator]();!(Y=(Q=$.next()).done);Y=!0){var J=Q.value;a.push(this.createError("object.allowUnknown",{child:J},{key:J,path:e.path.concat(J)},r,{}))}}catch(rt){Z=!0,X=rt}finally{try{!Y&&$.return&&$.return()}finally{if(Z)throw X}}}}for(var tt=0;tt<this._inner.dependencies.length;++tt){var et=this._inner.dependencies[tt],rt=l[et.type].call(this,null!==et.key&&i[et.key],et.peers,i,{key:et.key,path:null===et.key?e.path:e.path.concat(et.key)},r);if(rt instanceof s.Err&&(a.push(rt),r.abortEarly))return u()}return u()},_class.prototype.keys=function keys(t){o.assert(null===t||void 0===t||"object"===("undefined"===typeof t?"undefined":n(t)),"Object schema must be a valid object"),o.assert(!t||!(t instanceof a),"Object schema cannot be a joi schema");var e=this.clone();if(!t)return e._inner.children=null,e;var r=Object.keys(t);if(!r.length)return e._inner.children=[],e;var s=new i;if(e._inner.children)for(var l=0;l<e._inner.children.length;++l){var c=e._inner.children[l];r.includes(c.key)||s.add(c,{after:c._refs,group:c.key})}for(var p=0;p<r.length;++p){var f=r[p],d=t[f];try{var h=u.schema(this._currentJoi,d);s.add({key:f,schema:h},{after:h._refs,group:f})}catch(m){throw m.hasOwnProperty("path")?m.path=f+"."+m.path:m.path=f,m}}return e._inner.children=s.nodes,e},_class.prototype.append=function append(t){return null===t||void 0===t||0===Object.keys(t).length?this:this.keys(t)},_class.prototype.unknown=function unknown(t){var e=!1!==t;if(this._flags.allowUnknown===e)return this;var r=this.clone();return r._flags.allowUnknown=e,r},_class.prototype.length=function length(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,(function(e,r,n){return Object.keys(e).length===t?e:this.createError("object.length",{limit:t},r,n)}))},_class.prototype.min=function min(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,(function(e,r,n){return Object.keys(e).length>=t?e:this.createError("object.min",{limit:t},r,n)}))},_class.prototype.max=function max(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,(function(e,r,n){return Object.keys(e).length<=t?e:this.createError("object.max",{limit:t},r,n)}))},_class.prototype.pattern=function pattern(t,e){var r=t instanceof RegExp;o.assert(r||t instanceof a,"pattern must be a regex or schema"),o.assert(void 0!==e,"Invalid rule"),r&&(t=new RegExp(t.source,t.ignoreCase?"i":void 0));try{e=u.schema(this._currentJoi,e)}catch(i){throw i.hasOwnProperty("path")&&(i.message=i.message+"("+i.path+")"),i}var n=this.clone();return r?n._inner.patterns.push({regex:t,rule:e}):n._inner.patterns.push({schema:t,rule:e}),n},_class.prototype.schema=function schema(){return this._test("schema",null,(function(t,e,r){return t instanceof a?t:this.createError("object.schema",null,e,r)}))},_class.prototype.with=function _with(t,e){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",t,e)},_class.prototype.without=function without(t,e){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",t,e)},_class.prototype.xor=function xor(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("xor",null,e)},_class.prototype.or=function or(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("or",null,e)},_class.prototype.and=function and(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("and",null,e)},_class.prototype.nand=function nand(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("nand",null,e)},_class.prototype.requiredKeys=function requiredKeys(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"required")},_class.prototype.optionalKeys=function optionalKeys(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"optional")},_class.prototype.forbiddenKeys=function forbiddenKeys(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"forbidden")},_class.prototype.rename=function rename(t,e,r){o.assert("string"===typeof t||t instanceof RegExp,"Rename missing the from argument"),o.assert("string"===typeof e,"Rename missing the to argument"),o.assert(e!==t,"Cannot rename key to same name:",t);for(var n=0;n<this._inner.renames.length;++n)o.assert(this._inner.renames[n].from!==t,"Cannot rename the same key multiple times");var i=this.clone();return i._inner.renames.push({from:t,to:e,options:o.applyToDefaults(l.renameDefaults,r||{}),isRegExp:t instanceof RegExp}),i},_class.prototype.applyFunctionToChildren=function applyFunctionToChildren(t,e,r,n){t=[].concat(t),o.assert(t.length>0,"expected at least one children");var i=l.groupChildren(t),a=void 0;if(""in i?(a=this[e].apply(this,r),delete i[""]):a=this.clone(),a._inner.children){n=n?n+".":"";for(var s=0;s<a._inner.children.length;++s){var u=a._inner.children[s],c=i[u.key];c&&(a._inner.children[s]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(c,e,r,n+u.key)},delete i[u.key])}}var p=Object.keys(i);return o.assert(0===p.length,"unknown key(s)",p.join(", ")),a},_class.prototype._dependency=function _dependency(t,e,r){r=[].concat(r);for(var n=0;n<r.length;++n)o.assert("string"===typeof r[n],t,"peers must be a string or array of strings");var i=this.clone();return i._inner.dependencies.push({type:t,key:e,peers:r}),i},_class.prototype.describe=function describe(t){var e=a.prototype.describe.call(this);if(e.rules)for(var r=0;r<e.rules.length;++r){var i=e.rules[r];i.arg&&"object"===n(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!t){e.children={};for(var s=0;s<this._inner.children.length;++s){var u=this._inner.children[s];e.children[u.key]=u.schema.describe()}}if(this._inner.dependencies.length&&(e.dependencies=o.clone(this._inner.dependencies)),this._inner.patterns.length){e.patterns=[];for(var l=0;l<this._inner.patterns.length;++l){var c=this._inner.patterns[l];c.regex?e.patterns.push({regex:c.regex.toString(),rule:c.rule.describe()}):e.patterns.push({schema:c.schema.describe(),rule:c.rule.describe()})}}return this._inner.renames.length>0&&(e.renames=o.clone(this._inner.renames)),e},_class.prototype.assert=function assert(t,e,r){t=u.ref(t),o.assert(t.isContext||t.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";try{e=u.schema(this._currentJoi,e)}catch(a){throw a.hasOwnProperty("path")&&(a.message=a.message+"("+a.path+")"),a}var n=t.path[t.path.length-1],i=t.path.join(".");return this._test("assert",{schema:e,ref:t},(function(a,s,u){if(!e._validate(t(a),null,u,a).errors)return a;var l=o.merge({},s);return l.key=n,l.path=t.path,this.createError("object.assert",{ref:i,message:r},l,u)}))},_class.prototype.type=function type(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name;o.assert("function"===typeof t,"type must be a constructor function");var r={name:e,ctor:t};return this._test("type",r,(function(e,n,o){return e instanceof t?e:this.createError("object.type",{type:r.name},n,o)}))},_class}(a),l.safeParse=function(t){try{return JSON.parse(t)}catch(e){}return t},l.renameDefaults={alias:!1,multiple:!1,override:!1},l.groupChildren=function(t){t.sort();for(var e={},r=0;r<t.length;++r){var n=t[r];o.assert("string"===typeof n,"children must be strings");var i=n.split(".")[0];(e[i]=e[i]||[]).push(n.substring(i.length+1))}return e},l.keysToLabels=function(t,e){var r=t._inner.children;if(!r)return e;var n=function findLabel(t){var e=r.find((function(e){return e.key===t}));return e?e.schema._getLabel(t):t};return Array.isArray(e)?e.map(n):n(e)},l.with=function(t,e,r,n,o){if(void 0===t)return t;for(var i=0;i<e.length;++i){var a=e[i];if(!Object.prototype.hasOwnProperty.call(r,a)||void 0===r[a])return this.createError("object.with",{main:n.key,mainWithLabel:l.keysToLabels(this,n.key),peer:a,peerWithLabel:l.keysToLabels(this,a)},n,o)}return t},l.without=function(t,e,r,n,o){if(void 0===t)return t;for(var i=0;i<e.length;++i){var a=e[i];if(Object.prototype.hasOwnProperty.call(r,a)&&void 0!==r[a])return this.createError("object.without",{main:n.key,mainWithLabel:l.keysToLabels(this,n.key),peer:a,peerWithLabel:l.keysToLabels(this,a)},n,o)}return t},l.xor=function(t,e,r,n,o){for(var i=[],a=0;a<e.length;++a){var s=e[a];Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&i.push(s)}if(1===i.length)return t;var u={peers:e,peersWithLabels:l.keysToLabels(this,e)};return 0===i.length?this.createError("object.missing",u,n,o):this.createError("object.xor",u,n,o)},l.or=function(t,e,r,n,o){for(var i=0;i<e.length;++i){var a=e[i];if(Object.prototype.hasOwnProperty.call(r,a)&&void 0!==r[a])return t}return this.createError("object.missing",{peers:e,peersWithLabels:l.keysToLabels(this,e)},n,o)},l.and=function(t,e,r,n,o){for(var i=[],a=[],s=e.length,u=0;u<s;++u){var c=e[u];Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]?a.push(c):i.push(c)}if(!(i.length===s||a.length===s))return this.createError("object.and",{present:a,presentWithLabels:l.keysToLabels(this,a),missing:i,missingWithLabels:l.keysToLabels(this,i)},n,o)},l.nand=function(t,e,r,n,i){for(var a=[],s=0;s<e.length;++s){var u=e[s];Object.prototype.hasOwnProperty.call(r,u)&&void 0!==r[u]&&a.push(u)}var c=o.clone(e),p=c.splice(0,1)[0];return a.length===e.length?this.createError("object.nand",{main:p,mainWithLabel:l.keysToLabels(this,p),peers:c,peersWithLabels:l.keysToLabels(this,c)},n,i):null},t.exports=new l.Object},function(t,e,r){"use strict";var n={rfc3986:{},generate:function(){var t="|";n.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var e="a-zA-Z0-9-\\._~",r="!\\$&'\\(\\)\\*\\+,;=",o=e+"%0-9A-Fa-f"+r+":@",i="["+o+"]",a="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+a+"\\.){3}"+a;var s="[0-9A-Fa-f]{1,4}",u="(?:"+s+":"+s+"|"+n.rfc3986.IPv4address+")",l="(?:"+s+":){6}"+u,c="::(?:"+s+":){5}"+u,p="(?:"+s+")?::(?:"+s+":){4}"+u,f="(?:(?:"+s+":){0,1}"+s+")?::(?:"+s+":){3}"+u,d="(?:(?:"+s+":){0,2}"+s+")?::(?:"+s+":){2}"+u,h="(?:(?:"+s+":){0,3}"+s+")?::"+s+":"+u,m="(?:(?:"+s+":){0,4}"+s+")?::"+u;n.rfc3986.IPv6address="(?:"+l+t+c+t+p+t+f+t+d+t+h+t+m+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+e+r+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var y="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+n.rfc3986.IPv6address+t+n.rfc3986.IPvFuture+")\\]")+t+n.rfc3986.IPv4address+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",g=i+"+",v="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",_="\\/(?:"+g+v+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+y+v+")"+t+_+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+y+v+")"+t+_+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+t+")",n.rfc3986.query="["+o+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+o+"\\/\\?]*"}};n.generate(),t.exports=n.rfc3986},function(t,e){},function(t,e,r){(function(t,n){var o=/%[sdj%]/g;e.format=function(t){if(!isString(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(inspect(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}})),s=n[r];r<i;s=n[++r])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},e.deprecate=function(r,o){if(isUndefined(t.process))return function(){return e.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function deprecated(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return r.apply(this,arguments)}};var i,a={};function inspect(t,r){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(r)?n.showHidden=r:r&&e._extend(n,r),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}function stylizeWithColor(t,e){var r=inspect.styles[e];return r?"\x1b["+inspect.colors[r][0]+"m"+t+"\x1b["+inspect.colors[r][1]+"m":t}function stylizeNoColor(t,e){return t}function formatValue(t,r,n){if(t.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return isString(o)||(o=formatValue(t,o,n)),o}var i=function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}(t,r);if(i)return i;var a=Object.keys(r),s=function arrayToHash(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),isError(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(r);if(0===a.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(isRegExp(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return t.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var l,c="",p=!1,f=["{","}"];(isArray(r)&&(p=!0,f=["[","]"]),isFunction(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0!==a.length||p&&0!=r.length?n<0?isRegExp(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),l=p?function formatArray(t,e,r,n,o){for(var i=[],a=0,s=e.length;a<s;++a)hasOwnProperty(e,String(a))?i.push(formatProperty(t,e,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(formatProperty(t,e,r,n,o,!0))})),i}(t,r,n,s,a):a.map((function(e){return formatProperty(t,r,n,s,e,p)})),t.seen.pop(),function reduceToSingleString(t,e,r){if(t.reduce((function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(l,c,f)):f[0]+c+f[1]}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatProperty(t,e,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),hasOwnProperty(n,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=isNull(r)?formatValue(t,u.value,null):formatValue(t,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),isUndefined(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"===typeof t}function isNull(t){return null===t}function isNumber(t){return"number"===typeof t}function isString(t){return"string"===typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"===typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(isUndefined(i)&&(i=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var r=n.pid;a[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=isArray,e.isBoolean=isBoolean,e.isNull=isNull,e.isNullOrUndefined=function isNullOrUndefined(t){return null==t},e.isNumber=isNumber,e.isString=isString,e.isSymbol=function isSymbol(t){return"symbol"===typeof t},e.isUndefined=isUndefined,e.isRegExp=isRegExp,e.isObject=isObject,e.isDate=isDate,e.isError=isError,e.isFunction=isFunction,e.isPrimitive=function isPrimitive(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=r(40);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),s[t.getMonth()],e].join(" ")}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",timestamp(),e.format.apply(e,arguments))},e.inherits=r(39),e._extend=function(t,e){if(!e||!isObject(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,r(5),r(7))},function(t,e,r){"use strict";(function(e){function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function isBuffer(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var n=r(16),o=Object.prototype.hasOwnProperty,i=Array.prototype.slice,a="foo"===function foo(){}.name;function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return!isBuffer(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var s=t.exports=ok,u=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(n.isFunction(t)){if(a)return t.name;var e=t.toString().match(u);return e&&e[1]}}function truncate(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function inspect(t){if(a||!n.isFunction(t))return n.inspect(t);var e=getName(t);return"[Function"+(e?": "+e:"")+"]"}function fail(t,e,r,n,o){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function ok(t,e){t||fail(t,!0,e,"==",s.ok)}function _deepEqual(t,e,r,o){if(t===e)return!0;if(isBuffer(t)&&isBuffer(e))return 0===compare(t,e);if(n.isDate(t)&&n.isDate(e))return t.getTime()===e.getTime();if(n.isRegExp(t)&&n.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(isBuffer(t)!==isBuffer(e))return!1;var a=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function objEquiv(t,e,r,o){if(null===t||void 0===t||null===e||void 0===e)return!1;if(n.isPrimitive(t)||n.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var a=isArguments(t),s=isArguments(e);if(a&&!s||!a&&s)return!1;if(a)return t=i.call(t),e=i.call(e),_deepEqual(t,e,r);var u,c,p=l(t),f=l(e);if(p.length!==f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!==f[c])return!1;for(c=p.length-1;c>=0;c--)if(u=p[c],!_deepEqual(t[u],e[u],r,o))return!1;return!0}(t,e,r,o))}return r?t===e:t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function expectedException(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _throws(t,e,r,o){var i;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(o=r,r=null),i=function _tryBlock(t){var e;try{t()}catch(r){e=r}return e}(e),o=(r&&r.name?" ("+r.name+").":".")+(o?" "+o:"."),t&&!i&&fail(i,r,"Missing expected exception"+o);var a="string"===typeof o,s=!t&&i&&!r;if((!t&&n.isError(i)&&a&&expectedException(i,r)||s)&&fail(i,r,"Got unwanted exception"+o),t&&i&&r&&!expectedException(i,r)||!t&&i)throw i}s.AssertionError=function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=getName(e),i=n.indexOf("\n"+o);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},n.inherits(s.AssertionError,Error),s.fail=fail,s.ok=ok,s.equal=function equal(t,e,r){t!=e&&fail(t,e,r,"==",s.equal)},s.notEqual=function notEqual(t,e,r){t==e&&fail(t,e,r,"!=",s.notEqual)},s.deepEqual=function deepEqual(t,e,r){_deepEqual(t,e,!1)||fail(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail(t,e,r,"notDeepStrictEqual",notDeepStrictEqual)},s.strictEqual=function strictEqual(t,e,r){t!==e&&fail(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function notStrictEqual(t,e,r){t===e&&fail(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){_throws(!0,t,e,r)},s.doesNotThrow=function(t,e,r){_throws(!1,t,e,r)},s.ifError=function(t){if(t)throw t};var l=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e}}).call(e,r(5))},function(t,e,r){"use strict";(function(t){var r={};e.escapeJavaScript=function(t){if(!t)return"";for(var e="",n=0;n<t.length;++n){var o=t.charCodeAt(n);r.isSafe(o)?e+=t[n]:e+=r.escapeJavaScriptChar(o)}return e},e.escapeHtml=function(t){if(!t)return"";for(var e="",n=0;n<t.length;++n){var o=t.charCodeAt(n);r.isSafe(o)?e+=t[n]:e+=r.escapeHtmlChar(o)}return e},e.escapeJson=function(t){if(!t)return"";var e=void 0;return t.replace(/[<>&\u2028\u2029]/g,(function(t){return 60===(e=t.charCodeAt(0))?"\\u003c":62===e?"\\u003e":38===e?"\\u0026":8232===e?"\\u2028":"\\u2029"}))},r.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+r.padLeft(""+e,4);var n=t.from(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+r.padLeft(n,2)},r.escapeHtmlChar=function(e){var n=r.namedHtml[e];if("undefined"!==typeof n)return n;if(e>=256)return"&#"+e+";";var o=t.from(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+r.padLeft(o,2)+";"},r.padLeft=function(t,e){for(;t.length<e;)t="0"+t;return t},r.isSafe=function(t){return"undefined"!==typeof r.safeCharCodes[t]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(e,r(3).Buffer)},function(t,e,r){"use strict";(function(t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(38),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.specials=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<'()<>[]:;@\\,."'.length;++e)t['()<>[]:;@\\,."'.codePointAt(e)]=!0;return function(e){return t[e]}}(),i.c0Controls=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<33;++e)t[e]=!0;return function(e){return t[e]}}(),i.c1Controls=function(){var t=new Array(256);t.fill(!1);for(var e=127;e<160;++e)t[e]=!0;return function(e){return t[e]}}(),i.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},i.normalizeSupportsNul="\0"==="\0".normalize("NFC"),i.nulNormalize=function(t){return t.split("\0").map((function(t){return t.normalize("NFC")})).join("\0")},i.normalize=function(t){return!i.normalizeSupportsNul&&t.indexOf("\0")>=0?i.nulNormalize(t):t.normalize("NFC")},i.checkIpV6=function(t){return t.every((function(t){return i.regex.ipV6.test(t)}))},i.validDomain=function(t,e){return e.tldBlacklist?Array.isArray(e.tldBlacklist)?-1===i.indexOf.call(e.tldBlacklist,t):!i.hasOwn.call(e.tldBlacklist,t):Array.isArray(e.tldWhitelist)?-1!==i.indexOf.call(e.tldWhitelist,t):i.hasOwn.call(e.tldWhitelist,t)},e.validate=i.validate=function(e,r,a){r=r||{},e=i.normalize(e),"function"===typeof r&&(a=r,r={}),"function"!==typeof a&&(a=null);var s=void 0,u=void 0;if("number"===typeof r.errorLevel?(s=!0,u=r.errorLevel):(s=!!r.errorLevel,u=i.diagnoses.valid),r.tldWhitelist)if("string"===typeof r.tldWhitelist)r.tldWhitelist=[r.tldWhitelist];else if("object"!==n(r.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(r.tldBlacklist)if("string"===typeof r.tldBlacklist)r.tldBlacklist=[r.tldBlacklist];else if("object"!==n(r.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(r.minDomainAtoms&&(r.minDomainAtoms!==(0|+r.minDomainAtoms)||r.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var l=i.diagnoses.valid,c=function updateResult(t){t>l&&(l=t)};!(void 0===r.allowUnicode||!!r.allowUnicode)&&/[^\x00-\x7f]/.test(e)&&c(i.diagnoses.undesiredNonAscii);for(var p={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]},f="",d={local:"",domain:""},h={locals:[""],domains:[""]},m=0,y=0,g=0,v=void 0,_=!1,b=!1,S=e.length,x=void 0,w=0;w<S;w+=x.length){switch(x=String.fromCodePoint(e.codePointAt(w)),p.now){case i.components.localpart:switch(x){case"(":0===y?c(0===m?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(c(i.diagnoses.cfwsComment),b=!0),p.stack.push(p.now),p.now=i.components.contextComment;break;case".":0===y?c(0===m?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(b&&c(i.diagnoses.deprecatedLocalPart),b=!1,y=0,++m,d.local+=x,h.locals[m]="");break;case'"':0===y?(c(0===m?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),d.local+=x,h.locals[m]+=x,y+=t.byteLength(x,"utf8"),b=!0,p.stack.push(p.now),p.now=i.components.contextQuotedString):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(S===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?c(0===m?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):b=!0,p.stack.push(p.now),p.now=i.components.contextFWS,f=x;break;case"@":if(1!==p.stack.length)throw new Error("unexpected item on context stack");0===d.local.length?c(i.diagnoses.errNoLocalPart):0===y?c(i.diagnoses.errDotEnd):t.byteLength(d.local,"utf8")>64?c(i.diagnoses.rfc5322LocalTooLong):p.prev!==i.components.contextComment&&p.prev!==i.components.contextFWS||c(i.diagnoses.deprecatedCFWSNearAt),p.now=i.components.domain,p.stack[0]=i.components.domain,m=0,y=0,b=!1;break;default:if(b)switch(p.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:c(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+p.prev)}else p.prev=p.now,v=x.codePointAt(0),(i.specials(v)||i.c0Controls(v)||i.c1Controls(v))&&c(i.diagnoses.errExpectingATEXT),d.local+=x,h.locals[m]+=x,y+=t.byteLength(x,"utf8")}break;case i.components.domain:switch(x){case"(":0===y?c(0===m?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(b=!0,c(i.diagnoses.cfwsComment)),p.stack.push(p.now),p.now=i.components.contextComment;break;case".":var E=o.encode(h.domains[m]).length;0===y?c(0===m?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):_?c(i.diagnoses.errDomainHyphenEnd):E>63&&c(i.diagnoses.rfc5322LabelTooLong),b=!1,y=0,++m,h.domains[m]="",d.domain+=x;break;case"[":0===d.domain.length?(b=!0,y+=t.byteLength(x,"utf8"),p.stack.push(p.now),p.now=i.components.literal,d.domain+=x,h.domains[m]+=x,d.literal=""):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(S===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===y?c(0===m?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(c(i.diagnoses.cfwsFWS),b=!0),p.stack.push(p.now),p.now=i.components.contextFWS,f=x;break;default:if(b)switch(p.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:c(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+p.prev)}v=x.codePointAt(0),_=!1,i.specials(v)||i.c0Controls(v)||i.c1Controls(v)?c(i.diagnoses.errExpectingATEXT):"-"===x?(0===y&&c(i.diagnoses.errDomainHyphenStart),_=!0):(v<48||v>122&&v<192||v>57&&v<65||v>90&&v<97)&&c(i.diagnoses.rfc5322Domain),d.domain+=x,h.domains[m]+=x,y+=t.byteLength(x,"utf8")}break;case i.components.literal:switch(x){case"]":if(l<i.categories.deprecated){var P=-1,C=d.literal,T=i.regex.ipV4.exec(C);if(T&&0!==(P=T.index)&&(C=C.slice(0,P)+"0:0"),0===P)c(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==C.slice(0,5).toLowerCase())c(i.diagnoses.rfc5322DomainLiteral);else{var D=C.slice(5),M=i.maxIPv6Groups,A=D.split(":");~(P=D.indexOf("::"))?P!==D.lastIndexOf("::")?c(i.diagnoses.rfc5322IPv62x2xColon):(0!==P&&P!==D.length-2||++M,A.length>M?c(i.diagnoses.rfc5322IPv6MaxGroups):A.length===M&&c(i.diagnoses.deprecatedIPv6)):A.length!==M&&c(i.diagnoses.rfc5322IPv6GroupCount),":"===D[0]&&":"!==D[1]?c(i.diagnoses.rfc5322IPv6ColonStart):":"===D[D.length-1]&&":"!==D[D.length-2]?c(i.diagnoses.rfc5322IPv6ColonEnd):i.checkIpV6(A)?c(i.diagnoses.rfc5321AddressLiteral):c(i.diagnoses.rfc5322IPv6BadCharacter)}}else c(i.diagnoses.rfc5322DomainLiteral);d.domain+=x,h.domains[m]+=x,y+=t.byteLength(x,"utf8"),p.prev=p.now,p.now=p.stack.pop();break;case"\\":c(i.diagnoses.rfc5322DomainLiteralOBSDText),p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(S===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":c(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,f=x;break;default:if(127!==(v=x.codePointAt(0))&&i.c1Controls(v)||0===v||"["===x){c(i.diagnoses.errExpectingDTEXT);break}(i.c0Controls(v)||127===v)&&c(i.diagnoses.rfc5322DomainLiteralOBSDText),d.literal+=x,d.domain+=x,h.domains[m]+=x,y+=t.byteLength(x,"utf8")}break;case i.components.contextQuotedString:switch(x){case"\\":p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(S===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case"\t":d.local+=" ",h.locals[m]+=" ",y+=t.byteLength(x,"utf8"),c(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,f=x;break;case'"':d.local+=x,h.locals[m]+=x,y+=t.byteLength(x,"utf8"),p.prev=p.now,p.now=p.stack.pop();break;default:127!==(v=x.codePointAt(0))&&i.c1Controls(v)||0===v||10===v?c(i.diagnoses.errExpectingQTEXT):(i.c0Controls(v)||127===v)&&c(i.diagnoses.deprecatedQTEXT),d.local+=x,h.locals[m]+=x,y+=t.byteLength(x,"utf8")}break;case i.components.contextQuotedPair:127!==(v=x.codePointAt(0))&&i.c1Controls(v)?c(i.diagnoses.errExpectingQPair):(v<31&&9!==v||127===v)&&c(i.diagnoses.deprecatedQP),p.prev=p.now,p.now=p.stack.pop();var R="\\"+x;switch(p.now){case i.components.contextComment:break;case i.components.contextQuotedString:d.local+=R,h.locals[m]+=R,y+=2;break;case i.components.literal:d.domain+=R,h.domains[m]+=R,y+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+p.now)}break;case i.components.contextComment:switch(x){case"(":p.stack.push(p.now),p.now=i.components.contextComment;break;case")":p.prev=p.now,p.now=p.stack.pop();break;case"\\":p.stack.push(p.now),p.now=i.components.contextQuotedPair;break;case"\r":if(S===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":c(i.diagnoses.cfwsFWS),p.stack.push(p.now),p.now=i.components.contextFWS,f=x;break;default:if(0===(v=x.codePointAt(0))||10===v||127!==v&&i.c1Controls(v)){c(i.diagnoses.errExpectingCTEXT);break}(i.c0Controls(v)||127===v)&&c(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===f){if("\r"===x){c(i.diagnoses.errFWSCRLFx2);break}++g>1?c(i.diagnoses.deprecatedFWS):g=1}switch(x){case"\r":S!==++w&&"\n"===e[w]||c(i.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===f&&c(i.diagnoses.errFWSCRLFEnd),g=0,p.prev=p.now,p.now=p.stack.pop(),--w}f=x;break;default:throw new Error("unknown context: "+p.now)}if(l>i.categories.rfc5322)break}if(l<i.categories.rfc5322){var L=o.encode(d.domain).length;if(p.now===i.components.contextQuotedString)c(i.diagnoses.errUnclosedQuotedString);else if(p.now===i.components.contextQuotedPair)c(i.diagnoses.errBackslashEnd);else if(p.now===i.components.contextComment)c(i.diagnoses.errUnclosedComment);else if(p.now===i.components.literal)c(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===x)c(i.diagnoses.errFWSCRLFEnd);else if(0===d.domain.length)c(i.diagnoses.errNoDomain);else if(0===y)c(i.diagnoses.errDotEnd);else if(_)c(i.diagnoses.errDomainHyphenEnd);else if(L>255)c(i.diagnoses.rfc5322DomainTooLong);else if(t.byteLength(d.local,"utf8")+L+1>254)c(i.diagnoses.rfc5322TooLong);else if(y>63)c(i.diagnoses.rfc5322LabelTooLong);else if(r.minDomainAtoms&&h.domains.length<r.minDomainAtoms)c(i.diagnoses.errDomainTooShort);else if(r.tldWhitelist||r.tldBlacklist){var I=h.domains[m];i.validDomain(I,r)||c(i.diagnoses.errUnknownTLD)}}l<i.categories.dnsWarn&&(h.domains[m].codePointAt(0)<=57&&c(i.diagnoses.rfc5321TLDNumeric));l<u&&(l=i.diagnoses.valid);var O=s?l:l<i.defaultThreshold;return a&&a(O),O},e.diagnoses=i.validate.diagnoses=function(){for(var t={},e=Object.keys(i.diagnoses),r=0;r<e.length;++r){var n=e[r];t[n]=i.diagnoses[n]}return t}(),e.normalize=i.normalize}).call(e,r(3).Buffer)},function(t,e,r){"use strict";e.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(t,e,r){"use strict";var n=r(8);e.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(t,e,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var o=r(2),i=r(4),a=r(1),s=r(0),u={fastSplice:function(t,e){for(var r=e;r<t.length;)t[r++]=t[r];--t.length}};u.Array=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="array",e._inner.items=[],e._inner.ordereds=[],e._inner.inclusions=[],e._inner.exclusions=[],e._inner.requireds=[],e._flags.sparse=!1,e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){var n={value:t};"string"===typeof t&&r.convert&&u.safeParse(t,n);var o=Array.isArray(n.value),i=o;if(r.convert&&this._flags.single&&!o&&(n.value=[n.value],o=!0),!o)return n.errors=this.createError("array.base",null,e,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(i&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,i,e,r),n.errors&&i&&r.convert&&this._flags.single)){var a=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,i,e,r),n.errors&&(n.errors=a,n.value=n.value[0])}return n},_class.prototype._checkItems=function _checkItems(t,e,r,n){for(var o=[],i=void 0,a=this._inner.requireds.slice(),s=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(a),c=t.length,p=0;p<c;++p){i=!1;var f=t[p],d=!1,h={key:e?p:r.key,path:e?r.path.concat(p):r.path,parent:r.parent,reference:r.reference},m=void 0;if(this._flags.sparse||void 0!==f){for(var y=0;y<this._inner.exclusions.length;++y)if(!(m=this._inner.exclusions[y]._validate(f,h,{})).errors){if(o.push(this.createError(e?"array.excludes":"array.excludesSingle",{pos:p,value:f},{key:r.key,path:h.path},n)),i=!0,n.abortEarly)return o;s.shift();break}if(!i){if(this._inner.ordereds.length){if(s.length>0){var g=s.shift();if((m=g._validate(f,h,n)).errors){if(o.push(this.createError("array.ordered",{pos:p,reason:m.errors,value:f},{key:r.key,path:h.path},n)),n.abortEarly)return o}else if(g._flags.strip)u.fastSplice(t,p),--p,--c;else{if(!this._flags.sparse&&void 0===m.value){if(o.push(this.createError("array.sparse",null,{key:r.key,path:h.path,pos:p},n)),n.abortEarly)return o;continue}t[p]=m.value}continue}if(!this._inner.items.length){if(o.push(this.createError("array.orderedLength",{pos:p,limit:this._inner.ordereds.length},{key:r.key,path:h.path},n)),n.abortEarly)return o;continue}}for(var v=[],_=a.length,b=0;b<_;++b)if(!(m=v[b]=a[b]._validate(f,h,n)).errors){if(t[p]=m.value,d=!0,u.fastSplice(a,b),--b,--_,!this._flags.sparse&&void 0===m.value&&(o.push(this.createError("array.sparse",null,{key:r.key,path:h.path,pos:p},n)),n.abortEarly))return o;break}if(!d){var S=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.arrays);_=l.length;for(var x=0;x<_;++x){var w=l[x],E=a.indexOf(w);if(-1!==E)m=v[E];else if(!(m=w._validate(f,h,n)).errors){w._flags.strip?(u.fastSplice(t,p),--p,--c):this._flags.sparse||void 0!==m.value?t[p]=m.value:(o.push(this.createError("array.sparse",null,{key:r.key,path:h.path,pos:p},n)),i=!0),d=!0;break}if(1===_){if(S){u.fastSplice(t,p),--p,--c,d=!0;break}if(o.push(this.createError(e?"array.includesOne":"array.includesOneSingle",{pos:p,reason:m.errors,value:f},{key:r.key,path:h.path},n)),i=!0,n.abortEarly)return o;break}}if(!i&&this._inner.inclusions.length&&!d){if(S){u.fastSplice(t,p),--p,--c;continue}if(o.push(this.createError(e?"array.includes":"array.includesSingle",{pos:p,value:f},{key:r.key,path:h.path},n)),n.abortEarly)return o}}}}else{if(o.push(this.createError("array.sparse",null,{key:r.key,path:h.path,pos:p},n)),n.abortEarly)return o;s.shift()}}return a.length&&this._fillMissedErrors.call(this,o,a,r,n),s.length&&this._fillOrderedErrors.call(this,o,s,r,n),o.length?o:null},_class.prototype.describe=function describe(){var t=o.prototype.describe.call(this);if(this._inner.ordereds.length){t.orderedItems=[];for(var e=0;e<this._inner.ordereds.length;++e)t.orderedItems.push(this._inner.ordereds[e].describe())}if(this._inner.items.length){t.items=[];for(var r=0;r<this._inner.items.length;++r)t.items.push(this._inner.items[r].describe())}return t},_class.prototype.items=function items(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return s.flatten(n).forEach((function(r,n){try{r=i.schema(t._currentJoi,r)}catch(o){throw o.hasOwnProperty("path")?o.path=n+"."+o.path:o.path=n,o.message=o.message+"("+o.path+")",o}e._inner.items.push(r),"required"===r._flags.presence?e._inner.requireds.push(r):"forbidden"===r._flags.presence?e._inner.exclusions.push(r.optional()):e._inner.inclusions.push(r)})),e},_class.prototype.ordered=function ordered(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return s.flatten(n).forEach((function(r,n){try{r=i.schema(t._currentJoi,r)}catch(o){throw o.hasOwnProperty("path")?o.path=n+"."+o.path:o.path=n,o.message=o.message+"("+o.path+")",o}e._inner.ordereds.push(r)})),e},_class.prototype.min=function min(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("min",t,(function(r,n,o){var i=void 0;if(e){if(i=t(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:t.key},n,o)}else i=t;return r.length>=i?r:this.createError("array.min",{limit:t,value:r},n,o)}))},_class.prototype.max=function max(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("max",t,(function(r,n,o){var i=void 0;if(e){if(i=t(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:t.key},n,o)}else i=t;return r.length<=i?r:this.createError("array.max",{limit:t,value:r},n,o)}))},_class.prototype.length=function length(t){var e=a.isRef(t);return s.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("length",t,(function(r,n,o){var i=void 0;if(e){if(i=t(n.reference||n.parent,o),!(Number.isSafeInteger(i)&&i>=0))return this.createError("array.ref",{ref:t.key},n,o)}else i=t;return r.length===i?r:this.createError("array.length",{limit:t,value:r},n,o)}))},_class.prototype.unique=function unique(t){s.assert(void 0===t||"function"===typeof t||"string"===typeof t,"comparator must be a function or a string");var e={};return"string"===typeof t?e.path=t:"function"===typeof t&&(e.comparator=t),this._test("unique",e,(function(t,r,o){for(var i={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},a=e.comparator||s.deepEqual,u=0;u<t.length;++u){var l=e.path?s.reach(t[u],e.path):t[u],c=e.comparator?i.custom:i["undefined"===typeof l?"undefined":n(l)];if(c)if(c instanceof Map){for(var p=c.entries(),f=void 0;!(f=p.next()).done;)if(a(f.value[0],l)){var d={key:r.key,path:r.path.concat(u),parent:r.parent,reference:r.reference},h={pos:u,value:t[u],dupePos:f.value[1],dupeValue:t[f.value[1]]};return e.path&&(h.path=e.path),this.createError("array.unique",h,d,o)}c.set(l,u)}else{if(void 0!==c[l]){var m={key:r.key,path:r.path.concat(u),parent:r.parent,reference:r.reference},y={pos:u,value:t[u],dupePos:c[l],dupeValue:t[c[l]]};return e.path&&(y.path=e.path),this.createError("array.unique",y,m,o)}c[l]=u}}return t}))},_class.prototype.sparse=function sparse(t){var e=void 0===t||!!t;if(this._flags.sparse===e)return this;var r=this.clone();return r._flags.sparse=e,r},_class.prototype.single=function single(t){var e=void 0===t||!!t;if(this._flags.single===e)return this;var r=this.clone();return r._flags.single=e,r},_class.prototype._fillMissedErrors=function _fillMissedErrors(t,e,r,n){for(var o=[],i=0,a=0;a<e.length;++a){var s=e[a]._getLabel();s?o.push(s):++i}o.length?i?t.push(this.createError("array.includesRequiredBoth",{knownMisses:o,unknownMisses:i},{key:r.key,path:r.path},n)):t.push(this.createError("array.includesRequiredKnowns",{knownMisses:o},{key:r.key,path:r.path},n)):t.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:i},{key:r.key,path:r.path},n))},_class.prototype._fillOrderedErrors=function _fillOrderedErrors(t,e,r,n){for(var o=[],i=0;i<e.length;++i){"required"===s.reach(e[i],"_flags.presence")&&o.push(e[i])}o.length&&this._fillMissedErrors.call(this,t,o,r,n)},_class}(o),u.safeParse=function(t,e){try{var r=JSON.parse(t);Array.isArray(r)&&(e.value=r)}catch(n){}},t.exports=new u.Array},function(t,e,r){"use strict";(function(e){function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(2),o=r(0),i={};i.Binary=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="binary",e}return _inherits(_class,t),_class.prototype._base=function _base(t,r,n){var o={value:t};if("string"===typeof t&&n.convert)try{o.value=e.from(t,this._flags.encoding)}catch(i){}return o.errors=e.isBuffer(o.value)?null:this.createError("binary.base",null,r,n),o},_class.prototype.encoding=function encoding(t){if(o.assert(e.isEncoding(t),"Invalid encoding:",t),this._flags.encoding===t)return this;var r=this.clone();return r._flags.encoding=t,r},_class.prototype.min=function min(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,(function(e,r,n){return e.length>=t?e:this.createError("binary.min",{limit:t,value:e},r,n)}))},_class.prototype.max=function max(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,(function(e,r,n){return e.length<=t?e:this.createError("binary.max",{limit:t,value:e},r,n)}))},_class.prototype.length=function length(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,(function(e,r,n){return e.length===t?e:this.createError("binary.length",{limit:t,value:e},r,n)}))},_class}(n),t.exports=new i.Binary}).call(e,r(3).Buffer)},function(t,e,r){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(2),o=r(0),i={Set:r(9)};i.Boolean=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="boolean",e._flags.insensitive=!0,e._inner.truthySet=new i.Set,e._inner.falsySet=new i.Set,e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){var n={value:t};if("string"===typeof t&&r.convert){var o=this._flags.insensitive?t.toLowerCase():t;n.value="true"===o||"false"!==o&&t}return"boolean"!==typeof n.value&&(n.value=!!this._inner.truthySet.has(t,null,null,this._flags.insensitive)||!this._inner.falsySet.has(t,null,null,this._flags.insensitive)&&t),n.errors="boolean"===typeof n.value?null:this.createError("boolean.base",null,e,r),n},_class.prototype.truthy=function truthy(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var a=e[i];o.assert(void 0!==a,"Cannot call truthy with undefined"),n._inner.truthySet.add(a)}return n},_class.prototype.falsy=function falsy(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var a=e[i];o.assert(void 0!==a,"Cannot call falsy with undefined"),n._inner.falsySet.add(a)}return n},_class.prototype.insensitive=function insensitive(t){var insensitive=void 0===t||!!t;if(this._flags.insensitive===insensitive)return this;var e=this.clone();return e._flags.insensitive=insensitive,e},_class.prototype.describe=function describe(){var t=n.prototype.describe.call(this);return t.truthy=[!0].concat(this._inner.truthySet.values()),t.falsy=[!1].concat(this._inner.falsySet.values()),t},_class}(n),t.exports=new i.Boolean},function(t,e,r){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(0),o=r(13),i=r(1),a={};a.Func=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._flags.func=!0,e}return _inherits(_class,t),_class.prototype.arity=function arity(t){return n.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("arity",t,(function(e,r,n){return e.length===t?e:this.createError("function.arity",{n:t},r,n)}))},_class.prototype.minArity=function minArity(t){return n.assert(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this._test("minArity",t,(function(e,r,n){return e.length>=t?e:this.createError("function.minArity",{n:t},r,n)}))},_class.prototype.maxArity=function maxArity(t){return n.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("maxArity",t,(function(e,r,n){return e.length<=t?e:this.createError("function.maxArity",{n:t},r,n)}))},_class.prototype.ref=function ref(){return this._test("ref",null,(function(t,e,r){return i.isRef(t)?t:this.createError("function.ref",null,e,r)}))},_class.prototype.class=function _class(){return this._test("class",null,(function(t,e,r){return/^\s*class\s/.test(t.toString())?t:this.createError("function.class",null,e,r)}))},_class}(o.constructor),t.exports=new a.Func},function(t,e,r){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(2),o=r(0),i={};i.Lazy=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="lazy",e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){var o={value:t},i=this._flags.lazy;if(!i)return o.errors=this.createError("lazy.base",null,e,r),o;var a=i();return a instanceof n?a._validate(t,e,r):(o.errors=this.createError("lazy.schema",null,e,r),o)},_class.prototype.set=function set(t){o.assert("function"===typeof t,"You must provide a function as first argument");var e=this.clone();return e._flags.lazy=t,e},_class}(n),t.exports=new i.Lazy},function(t,e,r){"use strict";function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var n=r(2),o=r(1),i=r(0),a={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};a.Number=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="number",e._invalids.add(1/0),e._invalids.add(-1/0),e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){var n={errors:null,value:t};if("string"===typeof t&&r.convert){var o=parseFloat(t);n.value=isNaN(o)||!isFinite(t)?NaN:o}var i="number"===typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&i){var a=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*a)/a}return n.errors=i?null:this.createError("number.base",null,e,r),n},_class.prototype.multiple=function multiple(t){var e=o.isRef(t);return e||(i.assert("number"===typeof t&&isFinite(t),"multiple must be a number"),i.assert(t>0,"multiple must be greater than 0")),this._test("multiple",t,(function(r,n,o){var i=e?t(n.reference||n.parent,o):t;return!e||"number"===typeof i&&isFinite(i)?r%i===0?r:this.createError("number.multiple",{multiple:t,value:r},n,o):this.createError("number.ref",{ref:t.key},n,o)}))},_class.prototype.integer=function integer(){return this._test("integer",void 0,(function(t,e,r){return Number.isSafeInteger(t)?t:this.createError("number.integer",{value:t},e,r)}))},_class.prototype.negative=function negative(){return this._test("negative",void 0,(function(t,e,r){return t<0?t:this.createError("number.negative",{value:t},e,r)}))},_class.prototype.positive=function positive(){return this._test("positive",void 0,(function(t,e,r){return t>0?t:this.createError("number.positive",{value:t},e,r)}))},_class.prototype.precision=function precision(t){i.assert(Number.isSafeInteger(t),"limit must be an integer"),i.assert(!("precision"in this._flags),"precision already set");var e=this._test("precision",t,(function(e,r,n){var o=e.toString().match(a.precisionRx);return Math.max((o[1]?o[1].length:0)-(o[2]?parseInt(o[2],10):0),0)<=t?e:this.createError("number.precision",{limit:t,value:e},r,n)}));return e._flags.precision=t,e},_class.prototype.port=function port(){return this._test("port",void 0,(function(t,e,r){return!Number.isSafeInteger(t)||t<0||t>65535?this.createError("number.port",{value:t},e,r):t}))},_class}(n),a.compare=function(t,e){return function(r){var n=o.isRef(r),a="number"===typeof r&&!isNaN(r);return i.assert(a||n,"limit must be a number or reference"),this._test(t,r,(function(o,i,a){var s=void 0;if(n){if("number"!==typeof(s=r(i.reference||i.parent,a))||isNaN(s))return this.createError("number.ref",{ref:r.key},i,a)}else s=r;return e(o,s)?o:this.createError("number."+t,{limit:s,value:o},i,a)}))}},a.Number.prototype.min=a.compare("min",(function(t,e){return t>=e})),a.Number.prototype.max=a.compare("max",(function(t,e){return t<=e})),a.Number.prototype.greater=a.compare("greater",(function(t,e){return t>e})),a.Number.prototype.less=a.compare("less",(function(t,e){return t<e})),t.exports=new a.Number},function(t,e,r){"use strict";(function(e){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function _defaults(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}(t,e))}var o=r(15),i=r(0),a=void 0,s=r(2),u=r(1),l=r(12),c=r(30),p=r(29),f={uriRegex:c.createUriRegex(),ipRegex:p.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};f.String=function(t){function _class(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_class);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return e._type="string",e._invalids.add(""),e}return _inherits(_class,t),_class.prototype._base=function _base(t,e,r){if("string"===typeof t&&r.convert){if(this._flags.normalize&&(t=t.normalize(this._flags.normalize)),this._flags.case&&(t="upper"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim()),this._inner.replacements)for(var n=0;n<this._inner.replacements.length;++n){var o=this._inner.replacements[n];t=t.replace(o.pattern,o.replacement)}if(this._flags.truncate)for(var i=0;i<this._tests.length;++i){var a=this._tests[i];if("max"===a.name){t=t.slice(0,a.arg);break}}this._flags.byteAligned&&t.length%2!==0&&(t="0"+t)}return{value:t,errors:"string"===typeof t?null:this.createError("string.base",{value:t},e,r)}},_class.prototype.insensitive=function insensitive(){if(this._flags.insensitive)return this;var t=this.clone();return t._flags.insensitive=!0,t},_class.prototype.creditCard=function creditCard(){return this._test("creditCard",void 0,(function(t,e,r){for(var n=t.length,o=0,i=1;n--;){var a=t.charAt(n)*i;o+=a-9*(a>9),i^=3}return o%10===0&&o>0?t:this.createError("string.creditCard",{value:t},e,r)}))},_class.prototype.regex=function regex(t,e){i.assert(t instanceof RegExp,"pattern must be a RegExp");var r={pattern:new RegExp(t.source,t.ignoreCase?"i":void 0)};"string"===typeof e?r.name=e:"object"===("undefined"===typeof e?"undefined":n(e))&&(r.invert=!!e.invert,e.name&&(r.name=e.name));var o=["string.regex",r.invert?".invert":"",r.name?".name":".base"].join("");return this._test("regex",r,(function(t,e,n){return r.pattern.test(t)^r.invert?t:this.createError(o,{name:r.name,pattern:r.pattern,value:t},e,n)}))},_class.prototype.alphanum=function alphanum(){return this._test("alphanum",void 0,(function(t,e,r){return/^[a-zA-Z0-9]+$/.test(t)?t:this.createError("string.alphanum",{value:t},e,r)}))},_class.prototype.token=function token(){return this._test("token",void 0,(function(t,e,r){return/^\w+$/.test(t)?t:this.createError("string.token",{value:t},e,r)}))},_class.prototype.email=function email(t){return t&&(i.assert("object"===("undefined"===typeof t?"undefined":n(t)),"email options must be an object"),i.assert("undefined"===typeof t.checkDNS,"checkDNS option is not supported"),i.assert("undefined"===typeof t.tldWhitelist||"object"===n(t.tldWhitelist),"tldWhitelist must be an array or object"),i.assert("undefined"===typeof t.minDomainAtoms||Number.isSafeInteger(t.minDomainAtoms)&&t.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),i.assert("undefined"===typeof t.errorLevel||"boolean"===typeof t.errorLevel||Number.isSafeInteger(t.errorLevel)&&t.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",t,(function(e,n,o){a=a||r(19);try{var i=a.validate(e,t);if(!0===i||0===i)return e}catch(s){}return this.createError("string.email",{value:e},n,o)}))},_class.prototype.ip=function ip(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=f.ipRegex;i.assert("object"===("undefined"===typeof t?"undefined":n(t)),"options must be an object"),t.cidr?(i.assert("string"===typeof t.cidr,"cidr must be a string"),t.cidr=t.cidr.toLowerCase(),i.assert(i.contain(f.cidrPresences,t.cidr),"cidr must be one of "+f.cidrPresences.join(", ")),t.version||"optional"===t.cidr||(e=p.createIpRegex(["ipv4","ipv6","ipvfuture"],t.cidr))):t.cidr="optional";var r=void 0;if(t.version){Array.isArray(t.version)||(t.version=[t.version]),i.assert(t.version.length>=1,"version must have at least 1 version specified"),r=[];for(var o=0;o<t.version.length;++o){var a=t.version[o];i.assert("string"===typeof a,"version at position "+o+" must be a string"),a=a.toLowerCase(),i.assert(p.versions[a],"version at position "+o+" must be one of "+Object.keys(p.versions).join(", ")),r.push(a)}r=i.unique(r),e=p.createIpRegex(r,t.cidr)}return this._test("ip",t,(function(n,o,i){return e.test(n)?n:r?this.createError("string.ipVersion",{value:n,cidr:t.cidr,version:r},o,i):this.createError("string.ip",{value:n,cidr:t.cidr},o,i)}))},_class.prototype.uri=function uri(t){var e="",r=!1,o=!1,a=f.uriRegex;if(t){if(i.assert("object"===("undefined"===typeof t?"undefined":n(t)),"options must be an object"),t.scheme){i.assert(t.scheme instanceof RegExp||"string"===typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(t.scheme)||(t.scheme=[t.scheme]),i.assert(t.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var s=0;s<t.scheme.length;++s){var u=t.scheme[s];i.assert(u instanceof RegExp||"string"===typeof u,"scheme at position "+s+" must be a RegExp or String"),e+=e?"|":"",u instanceof RegExp?e+=u.source:(i.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(u),"scheme at position "+s+" must be a valid scheme"),e+=i.escapeRegex(u))}}t.allowRelative&&(r=!0),t.relativeOnly&&(o=!0)}return(e||r||o)&&(a=c.createUriRegex(e,r,o)),this._test("uri",t,(function(t,r,n){return a.test(t)?t:o?this.createError("string.uriRelativeOnly",{value:t},r,n):e?this.createError("string.uriCustomScheme",{scheme:e,value:t},r,n):this.createError("string.uri",{value:t},r,n)}))},_class.prototype.isoDate=function isoDate(){return this._test("isoDate",void 0,(function(t,e,r){if(l._isIsoDate(t)){if(!r.convert)return t;var n=new Date(t);if(!isNaN(n.getTime()))return n.toISOString()}return this.createError("string.isoDate",{value:t},e,r)}))},_class.prototype.guid=function guid(t){var e="";if(t&&t.version){Array.isArray(t.version)||(t.version=[t.version]),i.assert(t.version.length>=1,"version must have at least 1 valid version specified");for(var r=new Set,n=0;n<t.version.length;++n){var o=t.version[n];i.assert("string"===typeof o,"version at position "+n+" must be a string"),o=o.toLowerCase();var a=f.guidVersions[o];i.assert(a,"version at position "+n+" must be one of "+Object.keys(f.guidVersions).join(", ")),i.assert(!r.has(a),"version at position "+n+" must not be a duplicate."),e+=a,r.add(a)}}var s=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(e||"0-9A-F")+"][0-9A-F]{3}\\2?["+(e?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",t,(function(t,e,r){var n=s.exec(t);return n?f.guidBrackets[n[1]]!==n[n.length-1]?this.createError("string.guid",{value:t},e,r):t:this.createError("string.guid",{value:t},e,r)}))},_class.prototype.hex=function hex(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.assert("object"===("undefined"===typeof t?"undefined":n(t)),"hex options must be an object"),i.assert("undefined"===typeof t.byteAligned||"boolean"===typeof t.byteAligned,"byteAligned must be boolean");var e=!0===t.byteAligned,r=/^[a-f0-9]+$/i,o=this._test("hex",r,(function(t,n,o){return r.test(t)?e&&t.length%2!==0?this.createError("string.hexAlign",{value:t},n,o):t:this.createError("string.hex",{value:t},n,o)}));return e&&(o._flags.byteAligned=!0),o},_class.prototype.base64=function base64(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.assert("object"===("undefined"===typeof t?"undefined":n(t)),"base64 options must be an object"),i.assert("undefined"===typeof t.paddingRequired||"boolean"===typeof t.paddingRequired,"paddingRequired must be boolean");var e=!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0,r=e?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",r,(function(t,e,n){return r.test(t)?t:this.createError("string.base64",{value:t},e,n)}))},_class.prototype.hostname=function hostname(){var t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(e,r,n){return e.length<=255&&t.test(e)||o.isIPv6(e)?e:this.createError("string.hostname",{value:e},r,n)}))},_class.prototype.normalize=function normalize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";i.assert(i.contain(f.normalizationForms,t),"normalization form must be one of "+f.normalizationForms.join(", "));var e=this._test("normalize",t,(function(e,r,n){return n.convert||e===e.normalize(t)?e:this.createError("string.normalize",{value:e,form:t},r,n)}));return e._flags.normalize=t,e},_class.prototype.lowercase=function lowercase(){var t=this._test("lowercase",void 0,(function(t,e,r){return r.convert||t===t.toLocaleLowerCase()?t:this.createError("string.lowercase",{value:t},e,r)}));return t._flags.case="lower",t},_class.prototype.uppercase=function uppercase(){var t=this._test("uppercase",void 0,(function(t,e,r){return r.convert||t===t.toLocaleUpperCase()?t:this.createError("string.uppercase",{value:t},e,r)}));return t._flags.case="upper",t},_class.prototype.trim=function trim(){var t=this._test("trim",void 0,(function(t,e,r){return r.convert||t===t.trim()?t:this.createError("string.trim",{value:t},e,r)}));return t._flags.trim=!0,t},_class.prototype.replace=function replace(t,e){"string"===typeof t&&(t=new RegExp(i.escapeRegex(t),"g")),i.assert(t instanceof RegExp,"pattern must be a RegExp"),i.assert("string"===typeof e,"replacement must be a String");var r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:t,replacement:e}),r},_class.prototype.truncate=function truncate(t){var e=void 0===t||!!t;if(this._flags.truncate===e)return this;var r=this.clone();return r._flags.truncate=e,r},_class}(s),f.compare=function(t,r){return function(n,o){var a=u.isRef(n);return i.assert(Number.isSafeInteger(n)&&n>=0||a,"limit must be a positive integer or reference"),i.assert(!o||e.isEncoding(o),"Invalid encoding:",o),this._test(t,n,(function(e,i,s){var u=void 0;if(a){if(u=n(i.reference||i.parent,s),!Number.isSafeInteger(u))return this.createError("string.ref",{ref:n.key},i,s)}else u=n;return r(e,u,o)?e:this.createError("string."+t,{limit:u,value:e,encoding:o},i,s)}))}},f.String.prototype.min=f.compare("min",(function(t,r,n){return(n?e.byteLength(t,n):t.length)>=r})),f.String.prototype.max=f.compare("max",(function(t,r,n){return(n?e.byteLength(t,n):t.length)<=r})),f.String.prototype.length=f.compare("length",(function(t,r,n){return(n?e.byteLength(t,n):t.length)===r})),f.String.prototype.uuid=f.String.prototype.guid,t.exports=new f.String}).call(e,r(3).Buffer)},function(t,e,r){"use strict";var n=r(14),o={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};o.Ip.createIpRegex=function(t,e){for(var r=void 0,n=0;n<t.length;++n){var i=t[n];r?r+="|"+o.Ip.versions[i]+o.Ip.cidrs[i][e]:r="^(?:"+o.Ip.versions[i]+o.Ip.cidrs[i][e]}return new RegExp(r+")$")},t.exports=o.Ip},function(t,e,r){"use strict";var n=r(14),o={Uri:{createUriRegex:function createUriRegex(t,e,r){var o=n.scheme,i=void 0;if(r)i="(?:"+n.relativeRef+")";else{t&&(o="(?:"+t+")");var a="(?:"+o+":"+n.hierPart+")";i=e?"(?:"+a+"|"+n.relativeRef+")":a}return new RegExp("^"+i+"(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")}}};t.exports=o.Uri},function(t,e,r){"use strict";var n=r(0),o={};t.exports=o.Topo=function(){this._items=[],this.nodes=[]},o.Topo.prototype.add=function(t,e){var r=this,o=[].concat((e=e||{}).before||[]),i=[].concat(e.after||[]),a=e.group||"?",s=e.sort||0;n.assert(-1===o.indexOf(a),"Item cannot come before itself:",a),n.assert(-1===o.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===i.indexOf(a),"Item cannot come after itself:",a),n.assert(-1===i.indexOf("?"),"Item cannot come after unassociated items"),[].concat(t).forEach((function(t,e){var n={seq:r._items.length,sort:s,before:o,after:i,group:a,node:t};r._items.push(n)}));var u=this._sort();return n.assert(!u,"item","?"!==a?"added into group "+a:"","created a dependencies error"),this.nodes},o.Topo.prototype.merge=function(t){t=[].concat(t);for(var e=0;e<t.length;++e){var r=t[e];if(r)for(var i=0;i<r._items.length;++i){var a=n.shallow(r._items[i]);this._items.push(a)}}this._items.sort(o.mergeSort);for(var s=0;s<this._items.length;++s)this._items[s].seq=s;var u=this._sort();return n.assert(!u,"merge created a dependencies error"),this.nodes},o.mergeSort=function(t,e){return t.sort===e.sort?0:t.sort<e.sort?-1:1},o.Topo.prototype._sort=function(){for(var t={},e=Object.create(null),r=Object.create(null),n=0;n<this._items.length;++n){var o=this._items[n],i=o.seq,a=o.group;r[a]=r[a]||[],r[a].push(i),t[i]=o.before;for(var s=o.after,u=0;u<s.length;++u)e[s[u]]=(e[s[u]]||[]).concat(i)}for(var l=Object.keys(t),c=0;c<l.length;++c){for(var p=l[c],f=[],d=Object.keys(t[p]),h=0;h<d.length;++h){var m=t[p][d[h]];r[m]=r[m]||[];for(var y=0;y<r[m].length;++y)f.push(r[m][y])}t[p]=f}for(var g=Object.keys(e),v=0;v<g.length;++v){var _=g[v];if(r[_])for(var b=0;b<r[_].length;++b){var S=r[_][b];t[S]=t[S].concat(e[_])}}var x=void 0,w={};l=Object.keys(t);for(var E=0;E<l.length;++E){var P=l[E];x=t[P];for(var C=0;C<x.length;++C)w[x[C]]=(w[x[C]]||[]).concat(P)}for(var T={},D=[],M=0;M<this._items.length;++M){var A=M;if(w[M]){A=null;for(var R=0;R<this._items.length;++R)if(!0!==T[R]){w[R]||(w[R]=[]);for(var L=w[R].length,I=0,O=0;O<L;++O)T[w[R][O]]&&++I;if(I===L){A=R;break}}}null!==A&&(T[A]=!0,D.push(A))}if(D.length!==this._items.length)return new Error("Invalid dependencies");for(var k={},F=0;F<this._items.length;++F){var N=this._items[F];k[N.seq]=N}var B=[];this._items=D.map((function(t){var e=k[t];return B.push(e.node),e})),this.nodes=B}},function(t,e,r){"use strict";var n=r(8);t.exports=n},function(t,e,r){"use strict";e.byteLength=function byteLength(t){return 3*t.length/4-placeHoldersCount(t)},e.toByteArray=function toByteArray(t){var e,r,n,a,s,u=t.length;a=placeHoldersCount(t),s=new i(3*u/4-a),r=a>0?u-4:u;var l=0;for(e=0;e<r;e+=4)n=o[t.charCodeAt(e)]<<18|o[t.charCodeAt(e+1)]<<12|o[t.charCodeAt(e+2)]<<6|o[t.charCodeAt(e+3)],s[l++]=n>>16&255,s[l++]=n>>8&255,s[l++]=255&n;2===a?(n=o[t.charCodeAt(e)]<<2|o[t.charCodeAt(e+1)]>>4,s[l++]=255&n):1===a&&(n=o[t.charCodeAt(e)]<<10|o[t.charCodeAt(e+1)]<<4|o[t.charCodeAt(e+2)]>>2,s[l++]=n>>8&255,s[l++]=255&n);return s},e.fromByteArray=function fromByteArray(t){for(var e,r=t.length,o=r%3,i="",a=[],s=0,u=r-o;s<u;s+=16383)a.push(encodeChunk(t,s,s+16383>u?u:s+16383));1===o?(e=t[r-1],i+=n[e>>2],i+=n[e<<4&63],i+="=="):2===o&&(e=(t[r-2]<<8)+t[r-1],i+=n[e>>10],i+=n[e>>4&63],i+=n[e<<2&63],i+="=");return a.push(i),a.join("")};for(var n=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function placeHoldersCount(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function encodeChunk(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16)+(t[s+1]<<8)+t[s+2],a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,p=r?o-1:0,f=r?-1:1,d=t[e+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=l}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*u-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[r+d]=255&a,d+=h,a/=256,l-=8);t[r+d-h]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){t.exports={_args:[["joi@13.4.0","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(t,e,r){(function(t){function normalizeArray(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function splitPath(t){return r.exec(t).slice(1)};function filter(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var o=n>=0?arguments[n]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,r="/"===o.charAt(0))}return(r?"/":"")+(e=normalizeArray(filter(e.split("/"),(function(t){return!!t})),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),n="/"===o(t,-1);return(t=normalizeArray(filter(t.split("/"),(function(t){return!!t})),!r).join("/"))||r||(t="."),t&&n&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(filter(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function trim(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=trim(t.split("/")),o=trim(r.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=n(t),r=e[0],o=e[1];return r||o?(o&&(o=o.substr(0,o.length-1)),r+o):"."},e.basename=function(t,e){var r=n(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return n(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(7))},function(t,e,r){(function(t,n){var o;!function(i){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,p=26,f=38,d=700,h=72,m=128,y="-",g=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-c,x=Math.floor,w=String.fromCharCode;function error(t){throw new RangeError(b[t])}function map(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function mapDomain(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+map((t=t.replace(_,".")).split("."),e).join(".")}function ucs2decode(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function ucs2encode(t){return map(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function digitToBasic(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function adapt(t,e,r){var n=0;for(t=r?x(t/d):t>>1,t+=x(t/e);t>S*p>>1;n+=l)t=x(t/S);return x(n+(S+1)*t/(t+f))}function decode(t){var e,r,n,o,i,a,s,f,d,g,v,_=[],b=t.length,S=0,w=m,E=h;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&error("not-basic"),_.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<b;){for(i=S,a=1,s=l;o>=b&&error("invalid-input"),((f=(v=t.charCodeAt(o++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:l)>=l||f>x((u-S)/a))&&error("overflow"),S+=f*a,!(f<(d=s<=E?c:s>=E+p?p:s-E));s+=l)a>x(u/(g=l-d))&&error("overflow"),a*=g;E=adapt(S-i,e=_.length+1,0==i),x(S/e)>u-w&&error("overflow"),w+=x(S/e),S%=e,_.splice(S++,0,w)}return ucs2encode(_)}function encode(t){var e,r,n,o,i,a,s,f,d,g,v,_,b,S,E,P=[];for(_=(t=ucs2decode(t)).length,e=m,r=0,i=h,a=0;a<_;++a)(v=t[a])<128&&P.push(w(v));for(n=o=P.length,o&&P.push(y);n<_;){for(s=u,a=0;a<_;++a)(v=t[a])>=e&&v<s&&(s=v);for(s-e>x((u-r)/(b=n+1))&&error("overflow"),r+=(s-e)*b,e=s,a=0;a<_;++a)if((v=t[a])<e&&++r>u&&error("overflow"),v==e){for(f=r,d=l;!(f<(g=d<=i?c:d>=i+p?p:d-i));d+=l)E=f-g,S=l-g,P.push(w(digitToBasic(g+E%S,0))),f=x(E/S);P.push(w(digitToBasic(f,0))),i=adapt(r,b,n==o),r=0,++n}++r,++e}return P.join("")}s={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(t){return mapDomain(t,(function(t){return v.test(t)?"xn--"+encode(t):t}))},toUnicode:function toUnicode(t){return mapDomain(t,(function(t){return g.test(t)?decode(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return s}.call(e,r,e,t))||(t.exports=o)}()}).call(e,r(41)(t),r(5))},function(t,e){"function"===typeof Object.create?t.exports=function inherits(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(t,e){t.super_=e;var r=function TempCtor(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=function isBuffer(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}}),t.webpackPolyfill=1),t}}])}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.post=e.configure=void 0;var n=_interopRequireDefault(r(144)),o=_interopRequireDefault(r(99)),i=_interopRequireDefault(r(100)),a=e.configure=function(){var t=(0,i.default)(o.default.mark((function _callee(t){var e;return o.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:e={baseUrl:c.ATHENA_URL_ROOT,jwt:!1,parse:null},t&&(e.token="JWT "+t),f.configure(e);case 3:case"end":return r.stop()}}),_callee,this)})));return function configure(e){return t.apply(this,arguments)}}(),s=e.post=function(){var t=(0,i.default)(o.default.mark((function _callee2(t,e){return o.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ensureInit();case 2:return r.abrupt("return",new n.default((function(r,n){f.post(t,{body:e,json:!0},(0,l.default)(r,n))})));case 3:case"end":return r.stop()}}),_callee2,this)})));return function post(e,r){return t.apply(this,arguments)}}();e.postJsonRpcPayload=function postJsonRpcPayload(t,e){return s(t,e)};var u=_interopRequireDefault(r(241)),l=_interopRequireDefault(r(182)),c=r(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p,f=(0,u.default)();function ensureInit(){return p||(p=a()),p}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshAccessToken=void 0;var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100)),i=(e.refreshAccessToken=function(){var t=(0,o.default)(n.default.mark((function _callee(t,e){var r,o;return n.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.postForm("v2/auth/",{code:t,redirect_uri:e});case 2:if(r=n.sent,null==(o=JSON.parse(r)).access_token){n.next=10;break}return n.next=7,i.configure(o.access_token);case 7:return n.abrupt("return",o.access_token);case 10:if(void 0===o.response){n.next=14;break}throw new Error("Could not exchange oauth code for access token: response "+o.response.status);case 14:throw new Error("Could not exchange oauth code for access token: response "+r);case 15:case"end":return n.stop()}}),_callee,this)})));return function refreshAccessToken(e,r){return t.apply(this,arguments)}}(),function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchLocation=void 0;var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(658)),i=_interopRequireDefault(r(100));e.fetchLocation=function(){var t=(0,i.default)(n.default.mark((function _callee(t){var e,r;return n.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e="v1/devices/"+t+"/location",n.next=3,a.get(e);case 3:if(void 0===(r=n.sent)||void 0!==r.error){n.next=8;break}return n.abrupt("return",r);case 8:throw Error("Could not fetch device location: "+(0,o.default)(r));case 9:case"end":return n.stop()}}),_callee,this)})));return function fetchLocation(e){return t.apply(this,arguments)}}();e.listDevices=function listDevices(){return a.get("v1/me/devices/")},e.setDeviceAlias=function setDeviceAlias(t,e){return a.patch("v1/devices/"+t+"/",{alias:e})},e.setDeviceVehicleId=function setDeviceVehicleId(t,e){return a.patch("v1/devices/"+t+"/",{vehicle_id:e})},e.grantDeviceReadPermission=function grantDeviceReadPermission(t,e){return a.post("v1/devices/"+t+"/add_user",{email:e})},e.removeDeviceReadPermission=function removeDeviceReadPermission(t,e){return a.post("v1/devices/"+t+"/del_user",{email:e})},e.fetchVehicles=function fetchVehicles(t){var e="v1/vehicles/"+t;return a.get(e)},e.fetchDevice=function fetchDevice(t){var e="v1.1/devices/"+t+"/";return a.get(e)},e.pilotPair=function pilotPair(t,e,r){return a.postForm("v2/pilotpair/",{imei:t,serial:e,pair_token:r})},e.fetchDeviceStats=function fetchDeviceStats(t){return a.get("v1.1/devices/"+t+"/stats")},e.unpair=function unpair(t){return a.post("v1/devices/"+t+"/unpair")},e.fetchDeviceOwner=function fetchDeviceOwner(t){return a.get("v1/devices/"+t+"/owner")};var a=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){t.exports={default:r(659),__esModule:!0}},function(t,e,r){var n=r(53),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function stringify(t){return o.stringify.apply(o,arguments)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100));e.default=function routeApi(t){var e=(0,a.default)(),r=t+"/";return e.configure({baseUrl:r,parse:null}),{getCoords:function(){var t=(0,o.default)(n.default.mark((function _callee(){var t;return n.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.get("route.coords");case 2:return t=r.sent,r.abrupt("return",JSON.parse(t));case 4:case"end":return r.stop()}}),_callee,this)})));return function getCoords(){return t.apply(this,arguments)}}(),getJpegUrl:function getJpegUrl(t){return(0,i.default)(r,"sec"+t.toString()+".jpg")}}};var i=_interopRequireDefault(r(243)),a=_interopRequireDefault(r(338));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchRoutes=void 0;var n=_interopRequireDefault(r(284)),o=_interopRequireDefault(r(337)),i=_interopRequireDefault(r(99)),a=_interopRequireDefault(r(100));e.fetchRoutes=function(){var t=(0,a.default)(i.default.mark((function _callee(t,e,r){var n;return i.default.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,getSegmentMetadata(e,r,t);case 2:return n=o.sent,n=parseSegmentMetadata(e,r,n),o.abrupt("return",segmentsFromMetadata(n).reverse());case 5:case"end":return o.stop()}}),_callee,this)})));return function fetchRoutes(e,r,n){return t.apply(this,arguments)}}();e.getSegmentMetadata=getSegmentMetadata,e.getRouteInfo=function getRouteInfo(t){return s.get("v1/route/"+t+"/")},e.getShareSignature=function getShareSignature(t){return s.get("v1/route/"+t+"/share_signature")},e.getRouteSegments=function getRouteSegments(t){return s.get("v1/route/"+t+"/segments")},e.listRoutes=function listRoutes(t,e,r){var n={limit:e};"undefined"!==typeof r&&(n.createdAfter=r);return s.get("v1/devices/"+t+"/routes",n)};var s=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=6e4;function getSegmentMetadata(t,e,r){return s.get("v1/devices/"+r+"/segments",{from:t,to:e})}function parseSegmentMetadata(t,e,r){var n={};return r.map((function(e){if(e.offset=Math.round(e.start_time_utc_millis)-t,n[e.canonical_route_name])e.routeOffset=n[e.canonical_route_name];else{var r=Number(e.canonical_name.split("--")[2]);e.segment=r,n[e.canonical_route_name]=r>0?e.offset-u*r:e.offset,e.routeOffset=n[e.canonical_route_name]}return e.offset,e.duration=Math.round(e.end_time_utc_millis-e.start_time_utc_millis),e}))}function segmentsFromMetadata(t){var e=null,r=null,i=[];return t.forEach((function(t){if(t.url&&(40===t.proc_log||40===t.proc_qlog)){var n=t.proc_dcamera>=0,a=40===t.proc_dcamera,s=40===t.proc_camera;if(s&&null===r&&(r=t.offset),t.start_time_utc_millis,!e||e.route!==t.canonical_route_name){e&&finishSegment(e);var l=t.url,c=l.split("/");(0,o.default)(Number(c.pop()))&&(l=c.join("/")),e={dongleId:t.dongle_id,offset:t.offset-t.segment*u,route:t.canonical_route_name,startTime:t.start_time_utc_millis,startCoord:[t.start_lng,t.start_lat],duration:0,segments:0,url:l.replace("chffrprivate.blob.core.windows.net","chffrprivate-vzn.azureedge.net"),events:[],videoAvailableBetweenOffsets:[],hasVideo:s,deviceType:t.devicetype,hpgps:t.hpgps,hasDriverCamera:n,hasDriverCameraStream:a,locStart:"",locEnd:"",distanceMiles:0,cameraStreamSegCount:0,driverCameraStreamSegCount:0},i.push(e)}s||null===r||(e.videoAvailableBetweenOffsets.push([r,t.offset]),r=null),e.hasVideo=e.hasVideo||s,e.hasDriverCamera=e.hasDriverCamera||n,e.hasDriverCameraStream=e.hasDriverCameraStream||a,e.hpgps=e.hpgps||t.hpgps,e.duration=t.offset-e.offset+t.duration,e.segments=Math.max(e.segments,Number(t.canonical_name.split("--").pop())+1),e.events=e.events.concat(t.events),e.endCoord=[t.end_lng,t.end_lat],e.distanceMiles+=t.length,e.cameraStreamSegCount+=Math.floor(s),e.driverCameraStreamSegCount+=Math.floor(a)}})),e&&finishSegment(e),i;function finishSegment(t){if(t.hasVideo){var e=t.videoAvailableBetweenOffsets[t.videoAvailableBetweenOffsets.length-1]||[t.offset,t.offset+t.duration];t.videoAvailableBetweenOffsets=[].concat((0,n.default)(t.videoAvailableBetweenOffsets.slice(0,t.videoAvailableBetweenOffsets.length-1)),[[e[0],t.offset+t.duration]])}}}},function(t,e,r){t.exports={default:r(663),__esModule:!0}},function(t,e,r){r(155),r(664),t.exports=r(53).Array.from},function(t,e,r){"use strict";var n=r(135),o=r(82),i=r(160),a=r(326),s=r(327),u=r(234),l=r(665),c=r(239);o(o.S+o.F*!r(332)((function(t){Array.from(t)})),"Array",{from:function from(t){var e,r,o,p,f=i(t),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,g=0,v=c(f);if(y&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==v||d==Array&&s(v))for(r=new d(e=u(f.length));e>g;g++)l(r,g,y?m(f[g],g):f[g]);else for(p=v.call(f),r=new d;!(o=p.next()).done;g++)l(r,g,y?a(p,m,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,e,r){"use strict";var n=r(101),o=r(157);t.exports=function(t,e,r){e in t?n.f(t,e,o(0,r)):t[e]=r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeaderboard=function getLeaderboard(){return n.get("v2/leaderboard/")};var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(99)),o=_interopRequireDefault(r(100)),i=function(){var t=(0,o.default)(n.default.mark((function _callee(t,e,r){var o,i;return n.default.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!u[e]){n.next=2;break}return n.abrupt("return",u[e]);case 2:return o="v1/route/"+e+"/"+t,void 0!==r&&(o+="?"+a.default.stringify(r)),n.next=6,s.get(o);case 6:return i=n.sent,u[e]=i,setTimeout((function(){delete u[e]}),27e5),n.abrupt("return",u[e]);case 10:case"end":return n.stop()}}),_callee,this)})));return function getCached(e,r,n){return t.apply(this,arguments)}}();e.getRouteFiles=function getRouteFiles(t){return i("files",t)},e.getLogUrls=function getLogUrls(t,e){return i("log_urls",t,e)};var a=_interopRequireDefault(r(167)),s=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchMakes=function fetchMakes(){return n.get("v1/vehicles/makes/")},e.fetchModels=function fetchModels(t){return n.get("v1/vehicles/makes/"+t)},e.fetchVehicle=function fetchVehicle(t){return n.get("v1/vehicles/"+t.toString())};var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(102))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(285));e.default=function videoApi(t,e){e||(e=a.VIDEO_HOST);var r=t.split("/").slice(5,7),s=(0,n.default)(r,2),u=s[0],l=s[1],c=(0,i.default)(),p=e+"/hls/"+u+"/"+l+"/";c.configure({baseUrl:p,parse:null});var f=(0,i.default)();return f.configure({baseUrl:t+"/",parse:null}),{getRearCameraStreamIndexUrl:function getRearCameraStreamIndexUrl(){return(0,o.default)(p,"index.m3u8")},getFrontCameraStreamIndexUrl:function getFrontCameraStreamIndexUrl(){return(0,o.default)(p,"dcamera/index.m3u8")},getQcameraStreamIndexUrl:function getQcameraStreamIndexUrl(){return(0,o.default)(t,"qcamera.m3u8")},getRearCameraStreamIndex:function getRearCameraStreamIndex(){return c.get("index.m3u8")},getFrontCameraStreamIndexPath:function getFrontCameraStreamIndexPath(){return c.get("dcamera/index.m3u8")},getQcameraStreamIndex:function getQcameraStreamIndex(t){return f.get("qcamera.m3u8")}}};var o=_interopRequireDefault(r(243)),i=_interopRequireDefault(r(338)),a=r(244);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){t.exports={default:r(671),__esModule:!0}},function(t,e,r){r(181),r(155),t.exports=r(672)},function(t,e,r){var n=r(238),o=r(72)("iterator"),i=r(137);t.exports=r(53).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(n(e))}},function(t,e,r){t.exports={default:r(674),__esModule:!0}},function(t,e,r){r(181),r(155),t.exports=r(675)},function(t,e,r){var n=r(91),o=r(239);t.exports=r(53).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){"use strict";t.exports=function isObject(t){return"object"===typeof t&&null!==t}},function(t,e,r){"use strict";function isObjOrFn(t){return("object"===typeof t||"function"===typeof t)&&null!==t}t.exports.get=function(t,e){return isObjOrFn(t)&&"string"===typeof e?(e.split(".").some((function(e,r){if(void 0===(t=t[e]))return!0})),t):t},t.exports.set=function(t,e,r){if(isObjOrFn(t)&&"string"===typeof e){var n=e.split(".");n.forEach((function(e,o){isObjOrFn(t[e])||(t[e]={}),o===n.length-1&&(t[e]=r),t=t[e]}))}}},function(t,e,r){var n=r(183);t.exports=function optional(t){var e=t;return"function"!==typeof e&&(e=n(t)),function optionalValue(t){if(null!=t)return e(t)}}},function(t,e,r){"use strict";var n=r(183);t.exports=function arraySchema(t){var e=t;return"function"!==typeof e&&(e=n(t)),function mapArray(t){return t.map(e)}}},function(t,e,r){"use strict";var n=r(183);t.exports=function parent(t){var e=t;return"function"!==typeof e&&(e=n(t)),function parseParent(t,r){return e(r)}}},function(t,e,r){},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){var n=r(339),o=r(685);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?o(t):e}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e,r){var n=r(688);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e,r){var n=r(690);t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var r,o,i=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}},function(t,e){t.exports=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}},function(t,e){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}t.exports=_extends},function(t,e,r){t.exports=r(693)()},function(t,e,r){"use strict";var n=r(694);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=function warning(){};t.exports=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(18)),c=n(r(8)),p=function styles(t){return{root:{display:"flex",maxHeight:"2em",alignItems:"center"},positionStart:{marginRight:t.spacing.unit},positionEnd:{marginLeft:t.spacing.unit}}};function InputAdornment(t){var e,r=t.children,n=t.component,c=t.classes,p=t.className,f=t.disableTypography,d=t.position,h=(0,a.default)(t,["children","component","classes","className","disableTypography","position"]);return s.default.createElement(n,(0,o.default)({className:(0,u.default)(c.root,(e={},(0,i.default)(e,c.positionStart,"start"===d),(0,i.default)(e,c.positionEnd,"end"===d),e),p)},h),"string"!==typeof r||f?r:s.default.createElement(l.default,{color:"textSecondary"},r))}e.styles=p,InputAdornment.propTypes={},InputAdornment.defaultProps={component:"div",disableTypography:!1};var f=(0,c.default)(p,{name:"MuiInputAdornment"})(InputAdornment);e.default=f},function(t,e,r){"use strict";var n=r(698);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(73),p=function styles(t){return{root:{display:"block",margin:0},display4:t.typography.display4,display3:t.typography.display3,display2:t.typography.display2,display1:t.typography.display1,headline:t.typography.headline,title:t.typography.title,subheading:t.typography.subheading,body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:2*t.spacing.unit},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main}}};function Typography(t){var e,r=t.align,n=t.classes,l=t.className,p=t.component,f=t.color,d=t.gutterBottom,h=t.headlineMapping,m=t.noWrap,y=t.paragraph,g=t.variant,v=(0,a.default)(t,["align","classes","className","component","color","gutterBottom","headlineMapping","noWrap","paragraph","variant"]),_=(0,u.default)(n.root,n[g],(e={},(0,i.default)(e,n["color".concat((0,c.capitalize)(f))],"default"!==f),(0,i.default)(e,n.noWrap,m),(0,i.default)(e,n.gutterBottom,d),(0,i.default)(e,n.paragraph,y),(0,i.default)(e,n["align".concat((0,c.capitalize)(r))],"inherit"!==r),e),l),b=p||(y?"p":h[g])||"span";return s.default.createElement(b,(0,o.default)({className:_},v))}e.styles=p,Typography.propTypes={},Typography.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:{display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3",body2:"aside",body1:"p"},noWrap:!1,paragraph:!1,variant:"body1"};var f=(0,l.default)(p,{name:"MuiTypography"})(Typography);e.default=f},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var o=r(341),i=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(342)),a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(704));function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.default=(_defineProperty(n={},i.jss,a.default.jss),_defineProperty(n,i.sheetOptions,o.object),_defineProperty(n,i.sheetsRegistry,a.default.registry),_defineProperty(n,i.managers,o.object),n)},function(t,e,r){"use strict";var n=r(703);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(341);e.default={jss:(0,n.shape)({options:(0,n.shape)({createGenerateClassName:n.func.isRequired}).isRequired,createStyleSheet:n.func.isRequired,removeStyleSheet:n.func.isRequired}),registry:(0,n.shape)({add:n.func.isRequired,toString:n.func.isRequired})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function getDynamicStyles(t){var e=null;for(var r in t){var o=t[r],i="undefined"===typeof o?"undefined":n(o);if("function"===i)e||(e={}),e[r]=o;else if("object"===i&&null!==o&&!Array.isArray(o)){var a=getDynamicStyles(o);a&&(e||(e={}),e[r]=a)}}return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(25));var i=function(){function SheetsManager(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SheetsManager),this.sheets=[],this.refs=[],this.keys=[]}return n(SheetsManager,[{key:"get",value:function get(t){var e=this.keys.indexOf(t);return this.sheets[e]}},{key:"add",value:function add(t,e){var r=this.sheets,n=this.refs,o=this.keys,i=r.indexOf(e);return-1!==i?i:(r.push(e),n.push(0),o.push(t),r.length-1)}},{key:"manage",value:function manage(t){var e=this.keys.indexOf(t),r=this.sheets[e];return 0===this.refs[e]&&r.attach(),this.refs[e]++,this.keys[e]||this.keys.splice(e,0,t),r}},{key:"unmanage",value:function unmanage(t){var e=this.keys.indexOf(t);-1!==e?this.refs[e]>0&&(this.refs[e]--,0===this.refs[e]&&this.sheets[e].detach()):(0,o.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function get(){return this.keys.length}}]),SheetsManager}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function cloneStyle(t){if(null==t)return t;var e="undefined"===typeof t?"undefined":n(t);if("string"===e||"number"===e||"function"===e)return t;if(i(t))return t.map(cloneStyle);if((0,o.default)(t))return t;var r={};for(var a in t){var s=t[a];"object"!==("undefined"===typeof s?"undefined":n(s))?r[a]=s:r[a]=cloneStyle(s)}return r};var o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(345));var i=Array.isArray},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});t.CSS;e.default=function(t){return t}}).call(this,r(32))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="2f1acc6c3a606b082e5eef5e54414ffb";null==t[r]&&(t[r]=0),e.default=t[r]++}).call(this,r(32))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),a=_interopRequireDefault(r(188)),s=_interopRequireDefault(r(348)),u=_interopRequireDefault(r(711)),l=_interopRequireDefault(r(712)),c=_interopRequireDefault(r(718)),p=_interopRequireDefault(r(719)),f=_interopRequireDefault(r(248)),d=_interopRequireDefault(r(138)),h=_interopRequireDefault(r(347)),m=_interopRequireDefault(r(187)),y=_interopRequireDefault(r(720)),g=_interopRequireDefault(r(721));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v=l.default.concat([c.default,p.default]),_=0,b=function(){function Jss(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Jss),this.id=_++,this.version="9.8.7",this.plugins=new u.default,this.options={createGenerateClassName:h.default,Renderer:a.default?y.default:g.default,plugins:[]},this.generateClassName=(0,h.default)(),this.use.apply(this,v),this.setup(t)}return i(Jss,[{key:"setup",value:function setup(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.createGenerateClassName&&(this.options.createGenerateClassName=t.createGenerateClassName,this.generateClassName=t.createGenerateClassName()),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),(t.virtual||t.Renderer)&&(this.options.Renderer=t.Renderer||(t.virtual?g.default:y.default)),t.plugins&&this.use.apply(this,t.plugins),this}},{key:"createStyleSheet",value:function createStyleSheet(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.index;"number"!==typeof r&&(r=0===f.default.index?0:f.default.index+1);var n=new s.default(t,o({},e,{jss:this,generateClassName:e.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n}},{key:"removeStyleSheet",value:function removeStyleSheet(t){return t.detach(),f.default.remove(t),this}},{key:"createRule",value:function createRule(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===("undefined"===typeof t?"undefined":n(t))&&(r=e,e=t,t=void 0);var o=r;o.jss=this,o.Renderer=this.options.Renderer,o.generateClassName||(o.generateClassName=this.generateClassName),o.classes||(o.classes={});var i=(0,m.default)(t,e,o);return!o.selector&&i instanceof d.default&&(i.selector="."+o.generateClassName(i)),this.plugins.onProcessRule(i),i}},{key:"use",value:function use(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach((function(e){-1===t.options.plugins.indexOf(e)&&(t.options.plugins.push(e),t.plugins.use(e))})),this}}]),Jss}();e.default=b},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(25));var i=function(){function PluginsRegistry(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,PluginsRegistry),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return n(PluginsRegistry,[{key:"onCreateRule",value:function onCreateRule(t,e,r){for(var n=0;n<this.hooks.onCreateRule.length;n++){var o=this.hooks.onCreateRule[n](t,e,r);if(o)return o}return null}},{key:"onProcessRule",value:function onProcessRule(t){if(!t.isProcessed){for(var e=t.options.sheet,r=0;r<this.hooks.onProcessRule.length;r++)this.hooks.onProcessRule[r](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}}},{key:"onProcessStyle",value:function onProcessStyle(t,e,r){for(var n=t,o=0;o<this.hooks.onProcessStyle.length;o++)n=this.hooks.onProcessStyle[o](n,e,r),e.style=n}},{key:"onProcessSheet",value:function onProcessSheet(t){for(var e=0;e<this.hooks.onProcessSheet.length;e++)this.hooks.onProcessSheet[e](t)}},{key:"onUpdate",value:function onUpdate(t,e,r){for(var n=0;n<this.hooks.onUpdate.length;n++)this.hooks.onUpdate[n](t,e,r)}},{key:"onChangeValue",value:function onChangeValue(t,e,r){for(var n=t,o=0;o<this.hooks.onChangeValue.length;o++)n=this.hooks.onChangeValue[o](n,e,r);return n}},{key:"use",value:function use(t){for(var e in t)this.hooks[e]?this.hooks[e].push(t[e]):(0,o.default)(!1,'[JSS] Unknown hook "%s".',e)}}]),PluginsRegistry}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(713)),o=_interopRequireDefault(r(714)),i=_interopRequireDefault(r(715)),a=_interopRequireDefault(r(716)),s=_interopRequireDefault(r(717));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u={"@charset":n.default,"@import":n.default,"@namespace":n.default,"@keyframes":o.default,"@media":i.default,"@supports":i.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},l=Object.keys(u).map((function(t){var e=new RegExp("^"+t),r=u[t];return{onCreateRule:function onCreateRule(t,n,o){return e.test(t)?new r(t,n,o):null}}}));e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var o=function(){function SimpleRule(t,e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SimpleRule),this.type="simple",this.isProcessed=!1,this.key=t,this.value=e,this.options=r}return n(SimpleRule,[{key:"toString",value:function toString(t){if(Array.isArray(this.value)){for(var e="",r=0;r<this.value.length;r++)e+=this.key+" "+this.value[r]+";",this.value[r+1]&&(e+="\n");return e}return this.key+" "+this.value+";"}}]),SimpleRule}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(161));var a=function(){function KeyframesRule(t,e,r){for(var o in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,KeyframesRule),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new i.default(n({},r,{parent:this})),e)this.rules.add(o,e[o],n({},this.options,{parent:this,selector:o}));this.rules.process()}return o(KeyframesRule,[{key:"toString",value:function toString(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},e=this.rules.toString(t);return e&&(e+="\n"),this.key+" {\n"+e+"}"}}]),KeyframesRule}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(161));var a=function(){function ConditionalRule(t,e,r){for(var o in function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ConditionalRule),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new i.default(n({},r,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}return o(ConditionalRule,[{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"addRule",value:function addRule(t,e,r){var n=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"toString",value:function toString(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},e=this.rules.toString(t);return e?this.key+" {\n"+e+"\n}":""}}]),ConditionalRule}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(247));var i=function(){function FontFaceRule(t,e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,FontFaceRule),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=e,this.options=r}return n(FontFaceRule,[{key:"toString",value:function toString(t){if(Array.isArray(this.style)){for(var e="",r=0;r<this.style.length;r++)e+=(0,o.default)(this.key,this.style[r]),this.style[r+1]&&(e+="\n");return e}return(0,o.default)(this.key,this.style,t)}}]),FontFaceRule}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(247));var i=function(){function ViewportRule(t,e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ViewportRule),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=e,this.options=r}return n(ViewportRule,[{key:"toString",value:function toString(t){return(0,o.default)(this.key,this.style,t)}}]),ViewportRule}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(138)),o=_interopRequireDefault(r(187)),i=_interopRequireDefault(r(345));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default={onCreateRule:function onCreateRule(t,e,r){if(!(0,i.default)(e))return null;var n=e,a=(0,o.default)(t,{},r);return n.subscribe((function(t){for(var e in t)a.prop(e,t[e])})),a},onProcessRule:function onProcessRule(t){if(t instanceof n.default){var e=t,r=e.style,o=function _loop(t){var n=r[t];if(!(0,i.default)(n))return"continue";delete r[t],n.subscribe({next:function next(r){e.prop(t,r)}})};for(var a in r)o(a)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(161)),o=_interopRequireDefault(r(138)),i=_interopRequireDefault(r(187));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=Date.now(),s="fnValues"+a,u="fnStyle"+ ++a;e.default={onCreateRule:function onCreateRule(t,e,r){if("function"!==typeof e)return null;var n=(0,i.default)(t,{},r);return n[u]=e,n},onProcessStyle:function onProcessStyle(t,e){var r={};for(var n in t){var o=t[n];"function"===typeof o&&(delete t[n],r[n]=o)}return(e=e)[s]=r,t},onUpdate:function onUpdate(t,e){if(e.rules instanceof n.default)e.rules.update(t);else if(e instanceof o.default){if((e=e)[s])for(var r in e[s])e.prop(r,e[s][r](t));var i=(e=e)[u];if(i){var a=i(t);for(var l in a)e.prop(l,a[l])}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}(),o=_interopRequireDefault(r(25)),i=_interopRequireDefault(r(248)),a=_interopRequireDefault(r(138)),s=_interopRequireDefault(r(186));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=function memoize(t){var e=void 0;return function(){return e||(e=t()),e}};function getPropertyValue(t,e){try{return t.style.getPropertyValue(e)}catch(r){return""}}function setProperty(t,e,r){try{var n=r;if(Array.isArray(r)&&(n=(0,s.default)(r,!0),"!important"===r[r.length-1]))return t.style.setProperty(e,n,"important"),!0;t.style.setProperty(e,n)}catch(o){return!1}return!0}function removeProperty(t,e){try{t.style.removeProperty(e)}catch(r){(0,o.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',r.message,e)}}var l=1,c=7,p=function(){var t=function extractKey(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.substr(e,t.indexOf("{")-1)};return function(e){if(e.type===l)return e.selectorText;if(e.type===c){var r=e.name;if(r)return"@keyframes "+r;var n=e.cssText;return"@"+t(n,n.indexOf("keyframes"))}return t(e.cssText)}}();function setSelector(t,e){return t.selectorText=e,t.selectorText===e}var f=u((function(){return document.head||document.getElementsByTagName("head")[0]})),d=function(){var t=void 0,e=!1;return function(r){var n={};t||(t=document.createElement("style"));for(var o=0;o<r.length;o++){var i=r[o];if(i instanceof a.default){var s=i.selector;if(s&&-1!==s.indexOf("\\")){e||(f().appendChild(t),e=!0),t.textContent=s+" {}";var u=t.sheet;if(u){var l=u.cssRules;l&&(n[l[0].selectorText]=i.key)}}}}return e&&(f().removeChild(t),e=!1),n}}();function findPrevNode(t){var e=i.default.registry;if(e.length>0){var r=function findHigherSheet(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}(e,t);if(r)return r.renderer.element;if(r=function findHighestSheet(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}(e,t))return r.renderer.element.nextElementSibling}var n=t.insertionPoint;if(n&&"string"===typeof n){var a=function findCommentNode(t){for(var e=f(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===t)return n}return null}(n);if(a)return a.nextSibling;(0,o.default)("jss"===n,'[JSS] Insertion point "%s" not found.',n)}return null}var h=u((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),m=function(){function DomRenderer(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DomRenderer),this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.getKey=p,this.getUnescapedKeysMap=d,this.hasInsertedRules=!1,t&&i.default.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},r=e.media,n=e.meta,o=e.element;this.element=o||document.createElement("style"),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),n&&this.element.setAttribute("data-meta",n);var a=h();a&&this.element.setAttribute("nonce",a)}return n(DomRenderer,[{key:"attach",value:function attach(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function insertStyle(t,e){var r=e.insertionPoint,n=findPrevNode(e);if(n){var i=n.parentNode;i&&i.insertBefore(t,n)}else if(r&&"number"===typeof r.nodeType){var a=r,s=a.parentNode;s?s.insertBefore(t,a.nextSibling):(0,o.default)(!1,"[JSS] Insertion point is not in the DOM.")}else f().insertBefore(t,n)}(this.element,this.sheet.options))}},{key:"detach",value:function detach(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function deploy(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function insertRule(t,e){var r=this.element.sheet,n=r.cssRules,i=t.toString();if(e||(e=n.length),!i)return!1;try{r.insertRule(i,e)}catch(a){return(0,o.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",t),!1}return this.hasInsertedRules=!0,n[e]}},{key:"deleteRule",value:function deleteRule(t){var e=this.element.sheet,r=this.indexOf(t);return-1!==r&&(e.deleteRule(r),!0)}},{key:"indexOf",value:function indexOf(t){for(var e=this.element.sheet.cssRules,r=0;r<e.length;r++)if(t===e[r])return r;return-1}},{key:"replaceRule",value:function replaceRule(t,e){var r=this.indexOf(t),n=this.insertRule(e,r);return this.element.sheet.deleteRule(r),n}},{key:"getRules",value:function getRules(){return this.element.sheet.cssRules}}]),DomRenderer}();e.default=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();var o=function(){function VirtualRenderer(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,VirtualRenderer)}return n(VirtualRenderer,[{key:"setProperty",value:function setProperty(){return!0}},{key:"getPropertyValue",value:function getPropertyValue(){return""}},{key:"removeProperty",value:function removeProperty(){}},{key:"setSelector",value:function setSelector(){return!0}},{key:"getKey",value:function getKey(){return""}},{key:"attach",value:function attach(){}},{key:"detach",value:function detach(){}},{key:"deploy",value:function deploy(){}},{key:"insertRule",value:function insertRule(){return!1}},{key:"deleteRule",value:function deleteRule(){return!0}},{key:"replaceRule",value:function replaceRule(){return!1}},{key:"getRules",value:function getRules(){}},{key:"indexOf",value:function indexOf(){return-1}}]),VirtualRenderer}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();e.default=function jssGlobal(){return{onCreateRule:function onCreateRule(t,e,r){if(t===a)return new u(t,e,r);if("@"===t[0]&&t.substr(0,s.length)===s)return new l(t,e,r);var n=r.parent;return n&&("global"!==n.type&&"global"!==n.options.parent.type||(r.global=!0)),r.global&&(r.selector=t),null},onProcessRule:function onProcessRule(t){"style"===t.type&&(!function handleNestedGlobalContainerRule(t){var e=t.options,r=t.style,o=r[a];if(!o)return;for(var i in o)e.sheet.addRule(i,o[i],n({},e,{selector:addScope(i,t.selector)}));delete r[a]}(t),function handlePrefixedGlobalRule(t){var e=t.options,r=t.style;for(var o in r)if(o.substr(0,a.length)===a){var i=addScope(o.substr(a.length),t.selector);e.sheet.addRule(i,r[o],n({},e,{selector:i})),delete r[o]}}(t))}}};var i=r(343);function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a="@global",s="@global ",u=function(){function GlobalContainerRule(t,e,r){for(var o in _classCallCheck(this,GlobalContainerRule),this.type="global",this.key=t,this.options=r,this.rules=new i.RuleList(n({},r,{parent:this})),e)this.rules.add(o,e[o],{selector:o});this.rules.process()}return o(GlobalContainerRule,[{key:"getRule",value:function getRule(t){return this.rules.get(t)}},{key:"addRule",value:function addRule(t,e,r){var n=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"indexOf",value:function indexOf(t){return this.rules.indexOf(t)}},{key:"toString",value:function toString(){return this.rules.toString()}}]),GlobalContainerRule}(),l=function(){function GlobalPrefixedRule(t,e,r){_classCallCheck(this,GlobalPrefixedRule),this.name=t,this.options=r;var o=t.substr(s.length);this.rule=r.jss.createRule(o,e,n({},r,{parent:this,selector:o}))}return o(GlobalPrefixedRule,[{key:"toString",value:function toString(t){return this.rule.toString(t)}}]),GlobalPrefixedRule}(),c=/\s*,\s*/g;function addScope(t,e){for(var r=t.split(c),n="",o=0;o<r.length;o++)n+=e+" "+r[o].trim(),r[o+1]&&(n+=", ");return n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function jssNested(){function getReplaceRef(t){return function(e,r){var n=t.getRule(r);return n?n.selector:((0,o.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",r,t.options.meta||t),r)}}var t=function hasAnd(t){return-1!==t.indexOf("&")};function replaceParentRefs(e,r){for(var n=r.split(i),o=e.split(i),s="",u=0;u<n.length;u++)for(var l=n[u],c=0;c<o.length;c++){var p=o[c];s&&(s+=", "),s+=t(p)?p.replace(a,l):l+" "+p}return s}function getOptions(t,e,r){if(r)return n({},r,{index:r.index+1});var o=t.options.nestingLevel;return o=void 0===o?1:o+1,n({},t.options,{nestingLevel:o,index:e.indexOf(t)+1})}return{onProcessStyle:function onProcessStyle(e,r){if("style"!==r.type)return e;var o=r.options.parent,i=void 0,a=void 0;for(var u in e){var l=t(u),c="@"===u[0];if(l||c){if(i=getOptions(r,o,i),l){var p=replaceParentRefs(u,r.selector);a||(a=getReplaceRef(o)),p=p.replace(s,a),o.addRule(p,e[u],n({},i,{selector:p}))}else c&&o.addRule(u,null,i).addRule(r.key,e[u],{selector:r.selector});delete e[u]}}return e}}};var o=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(25));var i=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelCase(){return{onProcessStyle:function onProcessStyle(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=convertCase(t[e]);return t}return convertCase(t)},onChangeValue:function onChangeValue(t,e,r){var o=(0,n.default)(e);return e===o?t:(r.prop(o,t),null)}}};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(725));function convertCase(t){var e={};for(var r in t)e[(0,n.default)(r)]=t[r];return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(convertCase):e.fallbacks=convertCase(t.fallbacks)),e}},function(t,e,r){"use strict";var n=/[A-Z]/g,o=/^ms-/,i={};t.exports=function hyphenateStyleName(t){return t in i?i[t]:i[t]=t.replace(n,"-$&").toLowerCase().replace(o,"-ms-")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function addCamelCasedVersion(t){var e=/(-[a-z])/g,r=function replace(t){return t[1].toUpperCase()},n={};for(var o in t)n[o]=t[o],n[o.replace(e,r)]=t[o];return n}e.default=function defaultUnit(){var t=addCamelCasedVersion(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{onProcessStyle:function onProcessStyle(e,r){if("style"!==r.type)return e;for(var n in e)e[n]=iterate(n,e[n],t);return e},onChangeValue:function onChangeValue(e,r){return iterate(r,e,t)}}};var o=addCamelCasedVersion(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(727)).default);function iterate(t,e,r){if(!e)return e;var i=e,a="undefined"===typeof e?"undefined":n(e);switch("object"===a&&Array.isArray(e)&&(a="array"),a){case"object":if("fallbacks"===t){for(var s in e)e[s]=iterate(s,e[s],r);break}for(var u in e)e[u]=iterate(t+"-"+u,e[u],r);break;case"array":for(var l=0;l<e.length;l++)e[l]=iterate(t,e[l],r);break;case"number":0!==e&&(i=e+(r[t]||o[t]||""))}return i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function jssVendorPrefixer(){return{onProcessRule:function onProcessRule(t){"keyframes"===t.type&&(t.key="@"+n.prefix.css+t.key.substr(1))},onProcessStyle:function onProcessStyle(t,e){if("style"!==e.type)return t;for(var r in t){var o=t[r],i=!1,a=n.supportedProperty(r);a&&a!==r&&(i=!0);var s=!1,u=n.supportedValue(a,o);u&&u!==o&&(s=!0),(i||s)&&(i&&delete t[r],t[a||r]=u||o)}return t},onChangeValue:function onChangeValue(t,e){return n.supportedValue(e,t)}}};var n=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(729))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedValue=e.supportedProperty=e.prefix=void 0;var n=_interopRequireDefault(r(249)),o=_interopRequireDefault(r(730)),i=_interopRequireDefault(r(732));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default={prefix:n.default,supportedProperty:o.default,supportedValue:i.default},e.prefix=n.default,e.supportedProperty=o.default,e.supportedValue=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function supportedProperty(t){if(!a)return t;if(null!=s[t])return s[t];(0,i.default)(t)in a.style?s[t]=t:o.default.js+(0,i.default)("-"+t)in a.style?s[t]=o.default.css+t:s[t]=!1;return s[t]};var n=_interopRequireDefault(r(188)),o=_interopRequireDefault(r(249)),i=_interopRequireDefault(r(731));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=void 0,s={};if(n.default){a=document.createElement("p");var u=window.getComputedStyle(document.documentElement,"");for(var l in u)isNaN(l)||(s[u[l]]=u[l])}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelize(t){return t.replace(n,toUpper)};var n=/[-\s]+(.)?/g;function toUpper(t,e){return e?e.toUpperCase():""}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function supportedValue(t,e){if(!a)return e;if("string"!==typeof e||!isNaN(parseInt(e,10)))return e;var r=t+e;if(null!=i[r])return i[r];try{a.style[t]=e}catch(n){return i[r]=!1,!1}""!==a.style[t]?i[r]=e:("-ms-flex"===(e=o.default.css+e)&&(e="-ms-flexbox"),a.style[t]=e,""!==a.style[t]&&(i[r]=e));i[r]||(i[r]=!1);return a.style[t]="",i[r]};var n=_interopRequireDefault(r(188)),o=_interopRequireDefault(r(249));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var i={},a=void 0;n.default&&(a=document.createElement("p"))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function jssPropsSort(){function sort(t,e){return t.length-e.length}return{onProcessStyle:function onProcessStyle(t,e){if("style"!==e.type)return t;var r={},n=Object.keys(t).sort(sort);for(var o in n)r[n[o]]=t[n[o]];return r}}}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createMixins(t,e,r){var n;return(0,i.default)({gutters:function gutters(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)({paddingLeft:2*e.unit,paddingRight:2*e.unit},r,(0,o.default)({},t.up("sm"),(0,i.default)({paddingLeft:3*e.unit,paddingRight:3*e.unit},r[t.up("sm")])))},toolbar:(n={minHeight:56},(0,o.default)(n,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.default)(n,t.up("sm"),{minHeight:64}),n)},r)};var o=n(r(28)),i=n(r(36))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createPalette(t){var e=t.primary,r=void 0===e?{light:s.default[300],main:s.default[500],dark:s.default[700]}:e,n=t.secondary,m=void 0===n?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:n,y=t.error,g=void 0===y?{light:c.default[300],main:c.default[500],dark:c.default[700]}:y,v=t.type,_=void 0===v?"light":v,b=t.contrastThreshold,S=void 0===b?3:b,x=t.tonalOffset,w=void 0===x?.2:x,E=(0,i.default)(t,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function getContrastText(t){return(0,f.getContrastRatio)(t,h.text.primary)>=S?h.text.primary:d.text.primary}function augmentColor(t,e,r,n){!t.main&&t[e]&&(t.main=t[e]),addLightOrDark(t,"light",r,w),addLightOrDark(t,"dark",n,w),t.contrastText||(t.contrastText=getContrastText(t.main))}augmentColor(r,500,300,700),augmentColor(m,"A400","A200","A700"),augmentColor(g,500,300,700);var P={dark:h,light:d};return(0,a.default)((0,o.default)({common:p.default,type:_,primary:r,secondary:m,error:g,grey:l.default,contrastThreshold:S,getContrastText:getContrastText,augmentColor:augmentColor,tonalOffset:w},P[_]),E,{clone:!1})},e.dark=e.light=void 0;var o=n(r(36)),i=n(r(11)),a=(n(r(64)),n(r(189))),s=n(r(736)),u=n(r(737)),l=n(r(738)),c=n(r(739)),p=n(r(352)),f=r(139),d={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:p.default.white,default:l.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};e.light=d;var h={text:{primary:p.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.default[800],default:"#303030"},action:{active:p.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function addLightOrDark(t,e,r,n){t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:"light"===e?t.light=(0,f.lighten)(t.main,n):"dark"===e&&(t.dark=(0,f.darken)(t.main,1.5*n)))}e.dark=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};e.default=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function createTypography(t,e){var r="function"===typeof e?e(t):e,n=r.fontFamily,s=void 0===n?'"Roboto", "Helvetica", "Arial", sans-serif':n,u=r.fontSize,l=void 0===u?14:u,c=r.fontWeightLight,p=void 0===c?300:c,f=r.fontWeightRegular,d=void 0===f?400:f,h=r.fontWeightMedium,m=void 0===h?500:h,y=r.htmlFontSize,g=void 0===y?16:y,v=r.allVariants,_=(0,i.default)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","allVariants"]),b=l/14;function pxToRem(t){return"".concat(t/g*b,"rem")}return(0,a.default)({pxToRem:pxToRem,round:round,fontFamily:s,fontSize:l,fontWeightLight:p,fontWeightRegular:d,fontWeightMedium:m,display4:(0,o.default)({fontSize:pxToRem(112),fontWeight:p,fontFamily:s,letterSpacing:"-.04em",lineHeight:"".concat(round(128/112),"em"),marginLeft:"-.04em",color:t.text.secondary},v),display3:(0,o.default)({fontSize:pxToRem(56),fontWeight:d,fontFamily:s,letterSpacing:"-.02em",lineHeight:"".concat(round(73/56),"em"),marginLeft:"-.02em",color:t.text.secondary},v),display2:(0,o.default)({fontSize:pxToRem(45),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(48/45),"em"),marginLeft:"-.02em",color:t.text.secondary},v),display1:(0,o.default)({fontSize:pxToRem(34),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(41/34),"em"),color:t.text.secondary},v),headline:(0,o.default)({fontSize:pxToRem(24),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(32.5/24),"em"),color:t.text.primary},v),title:(0,o.default)({fontSize:pxToRem(21),fontWeight:m,fontFamily:s,lineHeight:"".concat(round(24.5/21),"em"),color:t.text.primary},v),subheading:(0,o.default)({fontSize:pxToRem(16),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(1.5),"em"),color:t.text.primary},v),body2:(0,o.default)({fontSize:pxToRem(14),fontWeight:m,fontFamily:s,lineHeight:"".concat(round(24/14),"em"),color:t.text.primary},v),body1:(0,o.default)({fontSize:pxToRem(14),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(20.5/14),"em"),color:t.text.primary},v),caption:(0,o.default)({fontSize:pxToRem(12),fontWeight:d,fontFamily:s,lineHeight:"".concat(round(1.375),"em"),color:t.text.secondary},v),button:(0,o.default)({fontSize:pxToRem(14),textTransform:"uppercase",fontWeight:m,fontFamily:s,color:t.text.primary},v)},_,{clone:!1})};var o=n(r(36)),i=n(r(11)),a=n(r(189));function round(t){return Math.round(1e5*t)/1e5}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=.2,o=.14,i=.12;function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0, 0, 0, ").concat(n,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0, 0, 0, ").concat(o,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0, 0, 0, ").concat(i,")")].join(",")}var a=["none",createShadow(0,1,3,0,0,1,1,0,0,2,1,-1),createShadow(0,1,5,0,0,2,2,0,0,3,1,-2),createShadow(0,1,8,0,0,3,4,0,0,3,3,-2),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={borderRadius:4};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={unit:8};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};e.default=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(36)),i=(n(r(245)),n(r(64)),n(r(189)));function arrayMerge(t,e){return e}var a=function getStylesCreator(t){var e="function"===typeof t;return{create:function create(r,n){var a=e?t(r):t;if(!n||!r.overrides||!r.overrides[n])return a;var s=r.overrides[n],u=(0,o.default)({},a);return Object.keys(s).forEach((function(t){u[t]=(0,i.default)(u[t],s[t],{arrayMerge:arrayMerge})})),u},options:{},themingEnabled:e}};e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function getThemeProps(t){var e=t.theme,r=t.name;return r&&e.props&&e.props[r]?e.props[r]:{}};e.default=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(139),p=n(r(112)),f=r(73),d=function styles(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),width:48,height:48,padding:0,borderRadius:"50%",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,c.fade)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,c.fade)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,c.fade)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function IconButton(t){var e,r=t.children,n=t.classes,l=t.className,c=t.color,d=t.disabled,h=(0,a.default)(t,["children","classes","className","color","disabled"]);return s.default.createElement(p.default,(0,o.default)({className:(0,u.default)(n.root,(e={},(0,i.default)(e,n["color".concat((0,f.capitalize)(c))],"default"!==c),(0,i.default)(e,n.disabled,d),e),l),centerRipple:!0,focusRipple:!0,disabled:d},h),s.default.createElement("span",{className:n.label},r))}e.styles=d,IconButton.propTypes={},IconButton.defaultProps={color:"default",disabled:!1};var h=(0,l.default)(d,{name:"MuiIconButton"})(IconButton);e.default=h},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(184)),f=n(r(0)),d=(n(r(9)),n(r(52))),h=n(r(3)),m=n(r(105)),y=n(r(190)),g=n(r(8)),v=r(749),_=n(r(750)),b=n(r(760)),S={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};e.styles=S;var x=function(t){function ButtonBase(){var t,e,r;(0,s.default)(this,ButtonBase);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=ButtonBase.__proto__||Object.getPrototypeOf(ButtonBase)).call.apply(t,[this].concat(o))),r.ripple=null,r.keyDown=!1,r.button=null,r.focusVisibleTimeout=null,r.focusVisibleCheckTime=50,r.focusVisibleMaxCheckTimes=5,r.handleMouseDown=(0,b.default)((0,p.default)(r),"MouseDown","start",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.handleMouseUp=(0,b.default)((0,p.default)(r),"MouseUp","stop"),r.handleMouseLeave=(0,b.default)((0,p.default)(r),"MouseLeave","stop",(function(t){r.state.focusVisible&&t.preventDefault()})),r.handleTouchStart=(0,b.default)((0,p.default)(r),"TouchStart","start"),r.handleTouchEnd=(0,b.default)((0,p.default)(r),"TouchEnd","stop"),r.handleTouchMove=(0,b.default)((0,p.default)(r),"TouchMove","stop"),r.handleBlur=(0,b.default)((0,p.default)(r),"Blur","stop",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.state={},r.onRippleRef=function(t){r.ripple=t},r.onFocusVisibleHandler=function(t){r.keyDown=!1,r.setState({focusVisible:!0}),r.props.onFocusVisible&&r.props.onFocusVisible(t)},r.handleKeyDown=function(t){var e=r.props,n=e.component,o=e.focusRipple,i=e.onKeyDown,a=e.onClick,s=(0,m.default)(t);o&&!r.keyDown&&r.state.focusVisible&&r.ripple&&"space"===s&&(r.keyDown=!0,t.persist(),r.ripple.stop(t,(function(){r.ripple.start(t)}))),i&&i(t),t.target!==t.currentTarget||!n||"button"===n||"space"!==s&&"enter"!==s||"A"===r.button.tagName&&r.button.href||(t.preventDefault(),a&&a(t))},r.handleKeyUp=function(t){r.props.focusRipple&&"space"===(0,m.default)(t)&&r.ripple&&r.state.focusVisible&&(r.keyDown=!1,t.persist(),r.ripple.stop(t,(function(){r.ripple.pulsate(t)}))),r.props.onKeyUp&&r.props.onKeyUp(t)},r.handleFocus=function(t){r.props.disabled||(r.button||(r.button=t.currentTarget),t.persist(),(0,v.detectFocusVisible)((0,p.default)(r),r.button,(function(){r.onFocusVisibleHandler(t)})),r.props.onFocus&&r.props.onFocus(t))},e))}return(0,c.default)(ButtonBase,t),(0,u.default)(ButtonBase,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.button=d.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,y.default)(this.button)),this.props.action&&this.props.action({focusVisible:function focusVisible(){t.setState({focusVisible:!0}),t.button.focus()}})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.props.focusRipple&&!this.props.disableRipple&&!e.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.button=null,clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function render(){var t,e=this.props,r=(e.action,e.buttonRef),n=e.centerRipple,s=e.children,u=e.classes,l=e.className,c=e.component,p=e.disabled,d=e.disableRipple,m=(e.disableTouchRipple,e.focusRipple,e.focusVisibleClassName),y=(e.onBlur,e.onFocus,e.onFocusVisible,e.onKeyDown,e.onKeyUp,e.onMouseDown,e.onMouseLeave,e.onMouseUp,e.onTouchEnd,e.onTouchMove,e.onTouchStart,e.tabIndex),g=e.TouchRippleProps,v=e.type,b=(0,a.default)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),S=(0,h.default)(u.root,(t={},(0,i.default)(t,u.disabled,p),(0,i.default)(t,u.focusVisible,this.state.focusVisible),(0,i.default)(t,m,this.state.focusVisible),t),l),x={},w=c;return"button"===w&&b.href&&(w="a"),"button"===w?(x.type=v||"button",x.disabled=p):x.role="button",f.default.createElement(w,(0,o.default)({onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,tabIndex:p?"-1":y,className:S,ref:r},x,b),s,d||p?null:f.default.createElement(_.default,(0,o.default)({innerRef:this.onRippleRef,center:n},g)))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return"undefined"===typeof e.focusVisible?{focusVisible:!1,lastDisabled:t.disabled}:!e.prevState&&t.disabled&&e.focusVisible?{focusVisible:!1,lastDisabled:t.disabled}:{lastDisabled:t.disabled}}}]),ButtonBase}(f.default.Component);x.propTypes={},x.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var w=(0,g.default)(S,{name:"MuiButtonBase"})(x);e.default=w},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.detectFocusVisible=function detectFocusVisible(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var o=(0,i.default)(e);a.focusKeyPressed&&(o.activeElement===e||e.contains(o.activeElement))?r():n<t.focusVisibleMaxCheckTimes&&detectFocusVisible(t,e,r,n+1)}),t.focusVisibleCheckTime)},e.listenForFocusKeys=function listenForFocusKeys(t){t.addEventListener("keyup",u)};var o=n(r(105)),i=(n(r(64)),n(r(103))),a={focusKeyPressed:!1,keyUpEventTimeout:-1};var s=["tab","enter","space","esc","up","down","left","right"];var u=function handleKeyUpEvent(t){(function isFocusKey(t){return s.indexOf((0,o.default)(t))>-1})(t)&&(a.focusKeyPressed=!0,clearTimeout(a.keyUpEventTimeout),a.keyUpEventTimeout=setTimeout((function(){a.focusKeyPressed=!1}),1e3))}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=e.DELAY_RIPPLE=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(354)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(184)),f=n(r(0)),d=(n(r(9)),n(r(52))),h=n(r(754)),m=n(r(3)),y=n(r(8)),g=n(r(758)),v=550,_=80;e.DELAY_RIPPLE=_;var b=function styles(t){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(v,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(v,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};e.styles=b;var S=function(t){function TouchRipple(){var t,e,r;(0,s.default)(this,TouchRipple);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=TouchRipple.__proto__||Object.getPrototypeOf(TouchRipple)).call.apply(t,[this].concat(o))),r.ignoringMouseDown=!1,r.startTimer=null,r.startTimerCommit=null,r.state={nextKey:0,ripples:[]},r.pulsate=function(){r.start({},{pulsate:!0})},r.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=e.pulsate,i=void 0!==o&&o,a=e.center,s=void 0===a?r.props.center||e.pulsate:a,u=e.fakeElement,l=void 0!==u&&u;if("mousedown"===t.type&&r.ignoringMouseDown)r.ignoringMouseDown=!1;else{"touchstart"===t.type&&(r.ignoringMouseDown=!0);var c,f,h,m=l?null:d.default.findDOMNode((0,p.default)(r)),y=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(y.width/2),f=Math.round(y.height/2);else{var g=t.clientX?t.clientX:t.touches[0].clientX,v=t.clientY?t.clientY:t.touches[0].clientY;c=Math.round(g-y.left),f=Math.round(v-y.top)}if(s)(h=Math.sqrt((2*Math.pow(y.width,2)+Math.pow(y.height,2))/3))%2===0&&(h+=1);else{var b=2*Math.max(Math.abs((m?m.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((m?m.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(b,2)+Math.pow(S,2))}t.touches?(r.startTimerCommit=function(){r.startCommit({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})},r.startTimer=setTimeout((function(){r.startTimerCommit&&(r.startTimerCommit(),r.startTimerCommit=null)}),_)):r.startCommit({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})}},r.startCommit=function(t){var e=t.pulsate,n=t.rippleX,o=t.rippleY,i=t.rippleSize,s=t.cb;r.setState((function(t){return{nextKey:t.nextKey+1,ripples:(0,a.default)(t.ripples).concat([f.default.createElement(g.default,{key:t.nextKey,classes:r.props.classes,timeout:{exit:v,enter:v},pulsate:e,rippleX:n,rippleY:o,rippleSize:i})])}}),s)},r.stop=function(t,e){clearTimeout(r.startTimer);var n=r.state.ripples;if("touchend"===t.type&&r.startTimerCommit)return t.persist(),r.startTimerCommit(),r.startTimerCommit=null,void(r.startTimer=setTimeout((function(){r.stop(t,e)}),0));r.startTimerCommit=null,n&&n.length&&r.setState({ripples:n.slice(1)},e)},e))}return(0,c.default)(TouchRipple,t),(0,u.default)(TouchRipple,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.startTimer)}},{key:"render",value:function render(){var t=this.props,e=(t.center,t.classes),r=t.className,n=(0,i.default)(t,["center","classes","className"]);return f.default.createElement(h.default,(0,o.default)({component:"span",enter:!0,exit:!0,className:(0,m.default)(e.root,r)},n),this.state.ripples)}}]),TouchRipple}(f.default.PureComponent);S.propTypes={},S.defaultProps={center:!1};var x=(0,y.default)(b,{flip:!1,name:"MuiTouchRipple"})(S);e.default=x},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=_interopRequireDefault(r(252)),i=r(0),a=_interopRequireDefault(i),s=r(757);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var u=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},l=(o.default.any,o.default.node,o.default.bool,o.default.bool,o.default.bool,o.default.func,function(t){function TransitionGroup(e,r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TransitionGroup);var n=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,e,r));return n.state={children:(0,s.getChildMapping)(e.children,(function(t){return(0,i.cloneElement)(t,{onExited:n.handleExited.bind(n,t),in:!0,appear:n.getProp(t,"appear"),enter:n.getProp(t,"enter"),exit:n.getProp(t,"exit")})}))},n}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(TransitionGroup,t),TransitionGroup.prototype.getChildContext=function getChildContext(){return{transitionGroup:{isMounting:!this.appeared}}},TransitionGroup.prototype.getProp=function getProp(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=r[e]?r[e]:t.props[e]},TransitionGroup.prototype.componentDidMount=function componentDidMount(){this.appeared=!0},TransitionGroup.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){var e=this,r=this.state.children,n=(0,s.getChildMapping)(t.children),o=(0,s.mergeChildMappings)(r,n);Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var u=a in r,l=a in n,c=r[a],p=(0,i.isValidElement)(c)&&!c.props.in;!l||u&&!p?l||!u||p?l&&u&&(0,i.isValidElement)(c)&&(o[a]=(0,i.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:c.props.in,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:e.handleExited.bind(e,s),in:!0,exit:e.getProp(s,"exit",t),enter:e.getProp(s,"enter",t)})}})),this.setState({children:o})},TransitionGroup.prototype.handleExited=function handleExited(t,e){var r=(0,s.getChildMapping)(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.setState((function(e){var r=n({},e.children);return delete r[t.key],{children:r}})))},TransitionGroup.prototype.render=function render(){var t=this.props,e=t.component,r=t.childFactory,n=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["component","childFactory"]),o=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===e?o:a.default.createElement(e,n,o)},TransitionGroup}(a.default.Component));l.childContextTypes={transitionGroup:o.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function childFactory(t){return t}},e.default=l,t.exports=e.default},function(t,e,r){"use strict";var n=r(756);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";e.__esModule=!0,e.getChildMapping=function getChildMapping(t,e){var r=Object.create(null);t&&n.Children.map(t,(function(t){return t})).forEach((function(t){r[t.key]=function mapper(t){return e&&(0,n.isValidElement)(t)?e(t):t}(t)}));return r},e.mergeChildMappings=function mergeChildMappings(t,e){function getValueForKey(r){return r in e?e[r]:t[r]}t=t||{},e=e||{};var r=Object.create(null),n=[];for(var o in t)o in e?n.length&&(r[o]=n,n=[]):n.push(o);var i=void 0,a={};for(var s in e){if(r[s])for(i=0;i<r[s].length;i++){var u=r[s][i];a[r[s][i]]=getValueForKey(u)}a[s]=getValueForKey(s)}for(i=0;i<n.length;i++)a[n[i]]=getValueForKey(n[i]);return a};var n=r(0)},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(3))),d=n(r(162)),h=function(t){function Ripple(){var t,e,r;(0,s.default)(this,Ripple);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Ripple.__proto__||Object.getPrototypeOf(Ripple)).call.apply(t,[this].concat(o))),r.state={visible:!1,leaving:!1},r.handleEnter=function(){r.setState({visible:!0})},r.handleExit=function(){r.setState({leaving:!0})},e))}return(0,c.default)(Ripple,t),(0,u.default)(Ripple,[{key:"render",value:function render(){var t,e,r=this.props,n=r.classes,s=r.className,u=r.pulsate,l=r.rippleX,c=r.rippleY,h=r.rippleSize,m=(0,a.default)(r,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),y=this.state,g=y.visible,v=y.leaving,_=(0,f.default)(n.ripple,(t={},(0,i.default)(t,n.rippleVisible,g),(0,i.default)(t,n.ripplePulsate,u),t),s),b={width:h,height:h,top:-h/2+c,left:-h/2+l},S=(0,f.default)(n.child,(e={},(0,i.default)(e,n.childLeaving,v),(0,i.default)(e,n.childPulsate,u),e));return p.default.createElement(d.default,(0,o.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),p.default.createElement("span",{className:_,style:b},p.default.createElement("span",{className:S})))}}]),Ripple}(p.default.Component);h.propTypes={},h.defaultProps={pulsate:!1};var m=h;e.default=m},function(t,e,r){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0,e.transitionTimeout=function transitionTimeout(t){var e="transition"+t+"Timeout",r="transition"+t;return function(t){if(t[r]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(252));e.timeoutsShape=n.default.oneOfType([n.default.number,n.default.shape({enter:n.default.number,exit:n.default.number}).isRequired]),e.classNamesShape=n.default.oneOfType([n.default.string,n.default.shape({enter:n.default.string,exit:n.default.string,active:n.default.string}),n.default.shape({enter:n.default.string,enterDone:n.default.string,enterActive:n.default.string,exit:n.default.string,exitDone:n.default.string,exitActive:n.default.string})])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function createRippleHandler(t,e,r,n){return function handleEvent(o){n&&n.call(t,o);var i=!1;return o.defaultPrevented&&(i=!0),t.props.disableTouchRipple&&"Blur"!==e&&(i=!0),!i&&t.ripple&&t.ripple[r](o),"function"===typeof t.props["on".concat(e)]&&t.props["on".concat(e)](o),!0}};e.default=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(73),p=function styles(t){return{root:{userSelect:"none",fontSize:24,width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled}}};function Icon(t){var e=t.children,r=t.classes,n=t.className,l=t.color,p=(0,a.default)(t,["children","classes","className","color"]);return s.default.createElement("span",(0,o.default)({className:(0,u.default)("material-icons",r.root,(0,i.default)({},r["color".concat((0,c.capitalize)(l))],"inherit"!==l),n),"aria-hidden":"true"},p),e)}e.styles=p,Icon.propTypes={},Icon.defaultProps={color:"inherit"},Icon.muiName="Icon";var f=(0,l.default)(p,{name:"MuiIcon"})(Icon);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(64)),n(r(9)),n(r(141))),u=n(r(191)),l=n(r(145)),c=n(r(255)),p=n(r(146));function TextField(t){var e=t.autoComplete,r=t.autoFocus,n=t.children,f=t.className,d=t.defaultValue,h=t.disabled,m=t.error,y=t.FormHelperTextProps,g=t.fullWidth,v=t.helperText,_=t.id,b=t.InputLabelProps,S=t.inputProps,x=t.InputProps,w=t.inputRef,E=t.label,P=t.multiline,C=t.name,T=t.onBlur,D=t.onChange,M=t.onFocus,A=t.placeholder,R=t.required,L=t.rows,I=t.rowsMax,O=t.select,k=t.SelectProps,F=t.type,N=t.value,B=(0,i.default)(t,["autoComplete","autoFocus","children","className","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value"]),U=v&&_?"".concat(_,"-helper-text"):void 0,z=a.default.createElement(s.default,(0,o.default)({autoComplete:e,autoFocus:r,defaultValue:d,disabled:h,fullWidth:g,multiline:P,name:C,rows:L,rowsMax:I,type:F,value:N,id:_,inputRef:w,onBlur:T,onChange:D,onFocus:M,placeholder:A,inputProps:S},x));return a.default.createElement(l.default,(0,o.default)({"aria-describedby":U,className:f,error:m,fullWidth:g,required:R},B),E&&a.default.createElement(u.default,(0,o.default)({htmlFor:_},b),E),O?a.default.createElement(p.default,(0,o.default)({value:N,input:z},k),n):z,v&&a.default.createElement(c.default,(0,o.default)({id:U},y),v))}TextField.propTypes={},TextField.defaultProps={required:!1,select:!1};var f=TextField;e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(0)),p=(n(r(9)),n(r(3))),f=n(r(87)),d=n(r(113)),h=n(r(8)),m=19,y={root:{position:"relative",width:"100%"},textarea:{width:"100%",height:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit",boxSizing:"border-box",lineHeight:"inherit",border:"none",outline:"none",background:"transparent"},shadow:{resize:"none",overflow:"hidden",visibility:"hidden",position:"absolute",height:"auto",whiteSpace:"pre-wrap"}};e.styles=y;var g=function(t){function Textarea(t){var e;return(0,a.default)(this,Textarea),(e=(0,u.default)(this,(Textarea.__proto__||Object.getPrototypeOf(Textarea)).call(this,t))).shadow=null,e.singlelineShadow=null,e.input=null,e.value=null,e.handleResize=(0,f.default)((function(){e.syncHeightWithShadow()}),166),e.state={height:null},e.handleRefInput=function(t){e.input=t;var r=e.props.textareaRef;r&&("function"===typeof r?r(t):r.current=t)},e.handleRefSinglelineShadow=function(t){e.singlelineShadow=t},e.handleRefShadow=function(t){e.shadow=t},e.handleChange=function(t){e.value=t.target.value,"undefined"===typeof e.props.value&&e.shadow&&(e.shadow.value=e.value,e.syncHeightWithShadow()),e.props.onChange&&e.props.onChange(t)},e.value=t.value||t.defaultValue||"",e.state={height:Number(t.rows)*m},e}return(0,l.default)(Textarea,t),(0,s.default)(Textarea,[{key:"componentDidMount",value:function componentDidMount(){this.syncHeightWithShadow()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.syncHeightWithShadow()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"syncHeightWithShadow",value:function syncHeightWithShadow(){var t=this.props;if(this.shadow&&this.singlelineShadow){"undefined"!==typeof t.value&&(this.shadow.value=null==t.value?"":String(t.value));var e=this.singlelineShadow.scrollHeight,r=this.shadow.scrollHeight;void 0!==r&&(Number(t.rowsMax)>=Number(t.rows)&&(r=Math.min(Number(t.rowsMax)*e,r)),r=Math.max(r,e),Math.abs(this.state.height-r)>1&&this.setState({height:r}))}}},{key:"render",value:function render(){var t=this.props,e=t.classes,r=t.className,n=t.defaultValue,a=(t.onChange,t.rows),s=(t.rowsMax,t.textareaRef,t.value),u=(0,i.default)(t,["classes","className","defaultValue","onChange","rows","rowsMax","textareaRef","value"]);return c.default.createElement("div",{className:e.root,style:{height:this.state.height}},c.default.createElement(d.default,{target:"window",onResize:this.handleResize}),c.default.createElement("textarea",{ref:this.handleRefSinglelineShadow,className:(0,p.default)(e.shadow,e.textarea),tabIndex:-1,rows:"1",readOnly:!0,"aria-hidden":"true",value:""}),c.default.createElement("textarea",{ref:this.handleRefShadow,className:(0,p.default)(e.shadow,e.textarea),tabIndex:-1,rows:a,"aria-hidden":"true",readOnly:!0,defaultValue:n,value:s}),c.default.createElement("textarea",(0,o.default)({rows:a,className:(0,p.default)(e.textarea,r),defaultValue:n,value:s,onChange:this.handleChange,ref:this.handleRefInput},u)))}}]),Textarea}(c.default.Component);g.propTypes={},g.defaultProps={rows:1};var v=(0,h.default)(y)(g);e.default=v},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){var n=r(355),o=r(767);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?o(t):e}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){var n=r(769);t.exports=function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e){t.exports=function _objectWithoutProperties(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}},function(t,e,r){var n=r(772);t.exports=function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){n(t,e,r[e])}))}return t}},function(t,e){t.exports=function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){t.exports=r(774)()},function(t,e,r){"use strict";var n=r(775);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=function warning(){};t.exports=n},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=n(r(9)),l=n(r(3)),c=n(r(8)),p=n(r(254)),f=function styles(t){return{root:{transformOrigin:"top left"},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, ".concat(3*t.spacing.unit,"px) scale(1)")},marginDense:{transform:"translate(0, ".concat(2.5*t.spacing.unit+1,"px) scale(1)")},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}}};function InputLabel(t,e){var r,n=t.children,u=t.classes,c=t.className,f=t.disableAnimation,d=t.FormLabelClasses,h=t.margin,m=t.shrink,y=(0,a.default)(t,["children","classes","className","disableAnimation","FormLabelClasses","margin","shrink"]),g=e.muiFormControl,v=m;"undefined"===typeof v&&g&&(v=g.filled||g.focused||g.adornedStart);var _=h;"undefined"===typeof _&&g&&(_=g.margin);var b=(0,l.default)(u.root,(r={},(0,i.default)(r,u.formControl,g),(0,i.default)(r,u.animated,!f),(0,i.default)(r,u.shrink,v),(0,i.default)(r,u.marginDense,"dense"===_),r),c);return s.default.createElement(p.default,(0,o.default)({"data-shrink":v,className:b,classes:d},y),n)}e.styles=f,InputLabel.propTypes={},InputLabel.defaultProps={disableAnimation:!1},InputLabel.contextTypes={muiFormControl:u.default.object};var d=(0,c.default)(f,{name:"MuiInputLabel"})(InputLabel);e.default=d},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=n(r(9)),l=n(r(3)),c=n(r(8)),p=function styles(t){return{root:{fontFamily:t.typography.fontFamily,color:t.palette.text.secondary,fontSize:t.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:t.palette.primary["light"===t.palette.type?"dark":"light"]},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}},focused:{},disabled:{},error:{},asterisk:{"&$error":{color:t.palette.error.main}}}};function FormLabel(t,e){var r,n=t.children,u=t.classes,c=t.className,p=t.component,f=t.disabled,d=t.error,h=t.focused,m=t.required,y=(0,a.default)(t,["children","classes","className","component","disabled","error","focused","required"]),g=e.muiFormControl,v=m,_=h,b=f,S=d;g&&("undefined"===typeof v&&(v=g.required),"undefined"===typeof _&&(_=g.focused),"undefined"===typeof b&&(b=g.disabled),"undefined"===typeof S&&(S=g.error));var x=(0,l.default)(u.root,(r={},(0,i.default)(r,u.focused,_),(0,i.default)(r,u.disabled,b),(0,i.default)(r,u.error,S),r),c);return s.default.createElement(p,(0,o.default)({className:x},y),n,v&&s.default.createElement("span",{className:(0,l.default)(u.asterisk,(0,i.default)({},u.error,S))},"\u2009*"))}e.styles=p,FormLabel.propTypes={},FormLabel.defaultProps={component:"label"},FormLabel.contextTypes={muiFormControl:u.default.object};var f=(0,c.default)(p,{name:"MuiFormLabel"})(FormLabel);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=n(r(9)),d=n(r(3)),h=n(r(8)),m=r(253),y=r(73),g=r(163),v=function styles(t){return{root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0},marginNormal:{marginTop:2*t.spacing.unit,marginBottom:t.spacing.unit},marginDense:{marginTop:t.spacing.unit,marginBottom:t.spacing.unit/2},fullWidth:{width:"100%"}}};e.styles=v;var _=function(t){function FormControl(t){var e;(0,s.default)(this,FormControl),(e=(0,l.default)(this,(FormControl.__proto__||Object.getPrototypeOf(FormControl)).call(this,t))).state={adornedStart:!1,filled:!1,focused:!1},e.handleFocus=function(){e.setState((function(t){return t.focused?null:{focused:!0}}))},e.handleBlur=function(){e.setState((function(t){return t.focused?{focused:!1}:null}))},e.handleDirty=function(){e.state.filled||e.setState({filled:!0})},e.handleClean=function(){e.state.filled&&e.setState({filled:!1})};var r=e.props.children;return r&&p.default.Children.forEach(r,(function(t){if((0,g.isMuiElement)(t,["Input","Select","NativeSelect"])){(0,m.isFilled)(t.props,!0)&&(e.state.filled=!0);var r=(0,g.isMuiElement)(t,["Select","NativeSelect"])?t.props.input:t;r&&(0,m.isAdornedStart)(r.props)&&(e.state.adornedStart=!0)}})),e}return(0,c.default)(FormControl,t),(0,u.default)(FormControl,[{key:"getChildContext",value:function getChildContext(){var t=this.props,e=t.disabled,r=t.error,n=t.required,o=t.margin,i=this.state;return{muiFormControl:{adornedStart:i.adornedStart,disabled:e,error:r,filled:i.filled,focused:i.focused,margin:o,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:n}}}},{key:"render",value:function render(){var t,e=this.props,r=e.classes,n=e.className,s=e.component,u=(e.disabled,e.error,e.fullWidth),l=e.margin,c=(e.required,(0,a.default)(e,["classes","className","component","disabled","error","fullWidth","margin","required"]));return p.default.createElement(s,(0,o.default)({className:(0,d.default)(r.root,(t={},(0,i.default)(t,r["margin".concat((0,y.capitalize)(l))],"none"!==l),(0,i.default)(t,r.fullWidth,u),t),n)},c))}}]),FormControl}(p.default.Component);_.propTypes={},_.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1},_.childContextTypes={muiFormControl:f.default.object};var b=(0,h.default)(v,{name:"MuiFormControl"})(_);e.default=b},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=n(r(9)),l=n(r(3)),c=n(r(8)),p=function styles(t){return{root:{color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),textAlign:"left",marginTop:t.spacing.unit,lineHeight:"1em",minHeight:"1em",margin:0,"&$error":{color:t.palette.error.main},"&$disabled":{color:t.palette.text.disabled}},error:{},disabled:{},marginDense:{marginTop:t.spacing.unit/2}}};function FormHelperText(t,e){var r,n=t.classes,u=t.className,c=t.disabled,p=t.error,f=t.margin,d=t.component,h=(0,a.default)(t,["classes","className","disabled","error","margin","component"]),m=e.muiFormControl,y=c,g=p,v=f;m&&("undefined"===typeof y&&(y=m.disabled),"undefined"===typeof g&&(g=m.error),"undefined"===typeof v&&(v=m.margin));var _=(0,l.default)(n.root,(r={},(0,i.default)(r,n.disabled,y),(0,i.default)(r,n.error,g),(0,i.default)(r,n.marginDense,"dense"===v),r),u);return s.default.createElement(d,(0,o.default)({className:_},h))}e.styles=p,FormHelperText.propTypes={},FormHelperText.defaultProps={component:"p"},FormHelperText.contextTypes={muiFormControl:u.default.object};var f=(0,c.default)(p,{name:"MuiFormHelperText"})(FormHelperText);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(36)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(782))),u=n(r(8)),l=n(r(350)),c=n(r(361)),p=n(r(141)),f=r(827),d=n(r(365)),h=f.styles;function Select(t){var e=t.autoWidth,r=t.children,n=t.classes,u=t.displayEmpty,c=t.IconComponent,p=t.input,f=t.inputProps,h=t.MenuProps,m=t.multiple,y=t.native,g=t.onClose,v=t.onOpen,_=t.open,b=t.renderValue,S=t.SelectDisplayProps,x=(0,i.default)(t,["autoWidth","children","classes","displayEmpty","IconComponent","input","inputProps","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps"]),w=y?d.default:s.default;return a.default.cloneElement(p,(0,o.default)({inputComponent:w,inputProps:(0,o.default)({children:r,IconComponent:c,type:void 0},y?{}:{autoWidth:e,displayEmpty:u,MenuProps:h,multiple:m,onClose:g,onOpen:v,open:_,renderValue:b,SelectDisplayProps:S},f,{classes:f?(0,l.default)({baseClasses:n,newClasses:f.classes,Component:Select}):n},p?p.props.inputProps:{})},x))}e.styles=h,Select.propTypes={},Select.defaultProps={autoWidth:!1,displayEmpty:!1,IconComponent:c.default,input:a.default.createElement(p.default,null),multiple:!1,native:!1},Select.muiName="Select";var m=(0,u.default)(f.styles,{name:"MuiSelect"})(Select);e.default=m},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(36)),u=n(r(354)),l=n(r(37)),c=n(r(38)),p=n(r(40)),f=n(r(41)),d=n(r(0)),h=(n(r(9)),n(r(3))),m=n(r(105)),y=n(r(356)),g=r(253),v=function(t){function SelectInput(){var t,e,r;(0,l.default)(this,SelectInput);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,p.default)(r,(e=r=(0,p.default)(this,(t=SelectInput.__proto__||Object.getPrototypeOf(SelectInput)).call.apply(t,[this].concat(o))),r.ignoreNextBlur=!1,r.displayNode=null,r.isOpenControlled=void 0!==r.props.open,r.state={menuMinWidth:null,open:!1},r.update=function(t){var e=t.event,n=t.open;r.isOpenControlled?n?r.props.onOpen(e):r.props.onClose(e):r.setState({menuMinWidth:r.props.autoWidth?null:r.displayNode.clientWidth,open:n})},r.handleClick=function(t){r.ignoreNextBlur=!0,r.update({open:!0,event:t})},r.handleClose=function(t){r.update({open:!1,event:t})},r.handleItemClick=function(t){return function(e){r.props.multiple||r.update({open:!1,event:e});var n=r.props,o=n.onChange,i=n.name;if(o){var a,l;if(e.target&&(l=e.target),r.props.multiple){var c=(a=Array.isArray(r.props.value)?(0,u.default)(r.props.value):[]).indexOf(t.props.value);-1===c?a.push(t.props.value):a.splice(c,1)}else a=t.props.value;e.persist(),e.target=(0,s.default)({},l,{value:a,name:i}),o(e,t)}}},r.handleBlur=function(t){if(!0===r.ignoreNextBlur)return t.stopPropagation(),void(r.ignoreNextBlur=!1);r.props.onBlur&&r.props.onBlur(t)},r.handleKeyDown=function(t){r.props.readOnly||-1!==["space","up","down"].indexOf((0,m.default)(t))&&(t.preventDefault(),r.ignoreNextBlur=!0,r.update({open:!0,event:t}))},r.handleDisplayRef=function(t){r.displayNode=t},r.handleInputRef=function(t){var e=r.props.inputRef;if(e){var n={node:t,value:r.props.value};"function"===typeof e?e(n):e.current=n}},e))}return(0,f.default)(SelectInput,t),(0,c.default)(SelectInput,[{key:"componentDidMount",value:function componentDidMount(){this.isOpenControlled&&this.props.open&&(this.displayNode.focus(),this.forceUpdate()),this.props.autoFocus&&this.displayNode.focus()}},{key:"render",value:function render(){var t,e=this,r=this.props,n=r.autoWidth,u=r.children,l=r.classes,c=r.className,p=r.disabled,f=r.displayEmpty,m=r.IconComponent,v=(r.inputRef,r.MenuProps),_=void 0===v?{}:v,b=r.multiple,S=r.name,x=(r.onBlur,r.onChange,r.onClose,r.onFocus),w=(r.onOpen,r.open),E=r.readOnly,P=r.renderValue,C=r.SelectDisplayProps,T=r.tabIndex,D=r.type,M=void 0===D?"hidden":D,A=r.value,R=(0,a.default)(r,["autoWidth","children","classes","className","disabled","displayEmpty","IconComponent","inputRef","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value"]),L=this.isOpenControlled&&this.displayNode?w:this.state.open,I="",O=[],k=!1;((0,g.isFilled)(this.props)||f)&&(P?t=P(A):k=!0);var F=d.default.Children.map(u,(function(t){if(!d.default.isValidElement(t))return null;var r;if(b){if(!Array.isArray(A))throw new Error("Material-UI: the `value` property must be an array when using the `Select` component with `multiple`.");(r=-1!==A.indexOf(t.props.value))&&k&&O.push(t.props.children)}else(r=A===t.props.value)&&k&&(I=t.props.children);return d.default.cloneElement(t,{onClick:e.handleItemClick(t),role:"option",selected:r,value:void 0,"data-value":t.props.value})}));k&&(t=b?O.join(", "):I);var N,B=this.state.menuMinWidth;return!n&&this.isOpenControlled&&this.displayNode&&(B=this.displayNode.clientWidth),N="undefined"!==typeof T?T:p?null:0,d.default.createElement("div",{className:l.root},d.default.createElement("div",(0,o.default)({className:(0,h.default)(l.select,l.selectMenu,(0,i.default)({},l.disabled,p),c),ref:this.handleDisplayRef,"aria-pressed":L?"true":"false",tabIndex:N,role:"button","aria-owns":L?"menu-".concat(S||""):null,"aria-haspopup":"true",onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:p||E?null:this.handleClick,onFocus:x},C),t||d.default.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})),d.default.createElement("input",(0,o.default)({value:Array.isArray(A)?A.join(","):A,name:S,readOnly:E,ref:this.handleInputRef,type:M},R)),d.default.createElement(m,{className:l.icon}),d.default.createElement(y.default,(0,o.default)({id:"menu-".concat(S||""),anchorEl:this.displayNode,open:L,onClose:this.handleClose},_,{MenuListProps:(0,s.default)({role:"listbox"},_.MenuListProps),PaperProps:(0,s.default)({},_.PaperProps,{style:(0,s.default)({minWidth:B},null!=_.PaperProps?_.PaperProps.style:null)})}),F))}}]),SelectInput}(d.default.Component);v.propTypes={};var _=v;e.default=_},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(0)),p=(n(r(9)),n(r(52))),f=(n(r(64)),n(r(87))),d=n(r(113)),h=n(r(103)),m=n(r(190)),y=n(r(8)),g=n(r(93)),v=n(r(257)),_=n(r(74));function getOffsetTop(t,e){var r=0;return"number"===typeof e?r=e:"center"===e?r=t.height/2:"bottom"===e&&(r=t.height),r}function getOffsetLeft(t,e){var r=0;return"number"===typeof e?r=e:"center"===e?r=t.width/2:"right"===e&&(r=t.width),r}function getTransformOriginValue(t){return[t.horizontal,t.vertical].map((function(t){return"number"===typeof t?"".concat(t,"px"):t})).join(" ")}function getAnchorEl(t){return"function"===typeof t?t():t}var b={paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:"none"}};e.styles=b;var S=function(t){function Popover(){var t,e,r;(0,a.default)(this,Popover);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,u.default)(r,(e=r=(0,u.default)(this,(t=Popover.__proto__||Object.getPrototypeOf(Popover)).call.apply(t,[this].concat(o))),r.transitionEl=null,r.handleGetOffsetTop=getOffsetTop,r.handleGetOffsetLeft=getOffsetLeft,r.handleResize=(0,f.default)((function(){var t=p.default.findDOMNode(r.transitionEl);r.setPositioningStyles(t)}),166),r.componentWillUnmount=function(){r.handleResize.clear()},r.setPositioningStyles=function(t){if(t&&t.style){var e=r.getPositioningStyle(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}},r.getPositioningStyle=function(t){var e=r.props,n=e.anchorEl,o=e.anchorReference,i=e.marginThreshold,a=r.getContentAnchorOffset(t),s={width:t.clientWidth,height:t.clientHeight},u=r.getTransformOrigin(s,a);if("none"===o)return{top:null,left:null,transformOrigin:getTransformOriginValue(u)};var l=r.getAnchorOffset(a),c=l.top-u.vertical,p=l.left-u.horizontal,f=c+s.height,d=p+s.width,h=(0,m.default)(getAnchorEl(n)),y=h.innerHeight-i,g=h.innerWidth-i;if(c<i){var v=c-i;c-=v,u.vertical+=v}else if(f>y){var _=f-y;c-=_,u.vertical+=_}if(p<i){var b=p-i;p-=b,u.horizontal+=b}else if(d>g){var S=d-g;p-=S,u.horizontal+=S}return{top:"".concat(c,"px"),left:"".concat(p,"px"),transformOrigin:getTransformOriginValue(u)}},r.handleEnter=function(t){r.props.onEnter&&r.props.onEnter(t),r.setPositioningStyles(t)},e))}return(0,l.default)(Popover,t),(0,s.default)(Popover,[{key:"componentDidMount",value:function componentDidMount(){this.props.action&&this.props.action({updatePosition:this.handleResize})}},{key:"getAnchorOffset",value:function getAnchorOffset(t){var e=this.props,r=e.anchorEl,n=e.anchorOrigin,o=e.anchorReference,i=e.anchorPosition;if("anchorPosition"===o)return i;var a=(getAnchorEl(r)||(0,h.default)(p.default.findDOMNode(this.transitionEl)).body).getBoundingClientRect(),s=0===t?n.vertical:"center";return{top:a.top+this.handleGetOffsetTop(a,s),left:a.left+this.handleGetOffsetLeft(a,n.horizontal)}}},{key:"getContentAnchorOffset",value:function getContentAnchorOffset(t){var e=this.props,r=e.getContentAnchorEl,n=e.anchorReference,o=0;if(r&&"anchorEl"===n){var i=r(t);if(i&&t.contains(i)){var a=function getScrollParent(t,e){for(var r=e,n=0;r&&r!==t;)n+=(r=r.parentNode).scrollTop;return n}(t,i);o=i.offsetTop+i.clientHeight/2-a||0}}return o}},{key:"getTransformOrigin",value:function getTransformOrigin(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.props.transformOrigin;return{vertical:this.handleGetOffsetTop(t,r.vertical)+e,horizontal:this.handleGetOffsetLeft(t,r.horizontal)}}},{key:"render",value:function render(){var t=this,e=this.props,r=(e.action,e.anchorEl),n=(e.anchorOrigin,e.anchorPosition,e.anchorReference,e.children),a=e.classes,s=e.container,u=e.elevation,l=(e.getContentAnchorEl,e.marginThreshold,e.onEnter,e.onEntered),p=e.onEntering,f=e.onExit,m=e.onExited,y=e.onExiting,v=e.open,b=e.PaperProps,S=e.role,x=(e.transformOrigin,e.TransitionComponent),w=e.transitionDuration,E=e.TransitionProps,P=(0,i.default)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","role","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),C=w;"auto"!==w||x.muiSupportAuto||(C=void 0);var T=s||(r?(0,h.default)(getAnchorEl(r)).body:void 0);return c.default.createElement(g.default,(0,o.default)({container:T,open:v,BackdropProps:{invisible:!0}},P),c.default.createElement(x,(0,o.default)({appear:!0,in:v,onEnter:this.handleEnter,onEntered:l,onEntering:p,onExit:f,onExited:m,onExiting:y,role:S,ref:function ref(e){t.transitionEl=e},timeout:C},E),c.default.createElement(_.default,(0,o.default)({className:a.paper,elevation:u},b),c.default.createElement(d.default,{target:"window",onResize:this.handleResize}),n)))}}]),Popover}(c.default.Component);S.propTypes={},S.defaultProps={anchorReference:"anchorEl",anchorOrigin:{vertical:"top",horizontal:"left"},elevation:8,marginThreshold:16,transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:v.default,transitionDuration:"auto"};var x=(0,y.default)(b,{name:"MuiPopover"})(S);e.default=x},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(184)),f=n(r(0)),d=n(r(52)),h=(n(r(9)),n(r(3))),m=(n(r(64)),n(r(105))),y=n(r(103)),g=n(r(192)),v=n(r(194)),_=r(73),b=n(r(8)),S=n(r(359)),x=n(r(256));function getHasTransition(t){return!!t.children&&t.children.props.hasOwnProperty("in")}var w=function styles(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}};e.styles=w;var E=function(t){function Modal(t){var e;return(0,s.default)(this,Modal),(e=(0,l.default)(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,t))).dialogElement=null,e.mounted=!1,e.mountNode=null,e.handleRendered=function(){e.autoFocus(),e.props.onRendered&&e.props.onRendered()},e.handleOpen=function(){var t=(0,y.default)(e.mountNode),r=function getContainer(t,e){return t="function"===typeof t?t():t,d.default.findDOMNode(t)||e}(e.props.container,t.body);e.props.manager.add((0,p.default)(e),r),t.addEventListener("keydown",e.handleDocumentKeyDown),t.addEventListener("focus",e.enforceFocus,!0)},e.handleClose=function(){e.props.manager.remove((0,p.default)(e));var t=(0,y.default)(e.mountNode);t.removeEventListener("keydown",e.handleDocumentKeyDown),t.removeEventListener("focus",e.enforceFocus,!0),e.restoreLastFocus()},e.handleExited=function(){e.setState({exited:!0}),e.handleClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!e.props.disableBackdropClick&&e.props.onClose&&e.props.onClose(t,"backdropClick"))},e.handleDocumentKeyDown=function(t){e.isTopModal()&&"esc"===(0,m.default)(t)&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),!e.props.disableEscapeKeyDown&&e.props.onClose&&e.props.onClose(t,"escapeKeyDown"))},e.checkForFocus=function(){e.lastFocus=(0,y.default)(e.mountNode).activeElement},e.enforceFocus=function(){if(!e.props.disableEnforceFocus&&e.mounted&&e.isTopModal()){var t=(0,y.default)(e.mountNode).activeElement;e.dialogElement&&!e.dialogElement.contains(t)&&e.dialogElement.focus()}},e.state={exited:!e.props.open},e}return(0,c.default)(Modal,t),(0,u.default)(Modal,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=!0,this.props.open&&this.handleOpen()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){!t.open&&this.props.open&&this.checkForFocus(),!t.open||this.props.open||getHasTransition(this.props)?!t.open&&this.props.open&&this.handleOpen():this.handleClose()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1,(this.props.open||getHasTransition(this.props)&&!this.state.exited)&&this.handleClose()}},{key:"autoFocus",value:function autoFocus(){if(!this.props.disableAutoFocus){var t=(0,y.default)(this.mountNode).activeElement;this.dialogElement&&!this.dialogElement.contains(t)&&(this.lastFocus=t,this.dialogElement.hasAttribute("tabIndex")||this.dialogElement.setAttribute("tabIndex",-1),this.dialogElement.focus())}}},{key:"restoreLastFocus",value:function restoreLastFocus(){this.props.disableRestoreFocus||this.lastFocus&&(this.lastFocus.focus&&this.lastFocus.focus(),this.lastFocus=null)}},{key:"isTopModal",value:function isTopModal(){return this.props.manager.isTopModal(this)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.BackdropComponent,n=e.BackdropProps,s=e.children,u=e.classes,l=e.className,c=e.container,p=(e.disableAutoFocus,e.disableBackdropClick,e.disableEnforceFocus,e.disableEscapeKeyDown,e.disableRestoreFocus,e.hideBackdrop),d=e.keepMounted,m=(e.onBackdropClick,e.onClose,e.onEscapeKeyDown,e.onRendered,e.open),y=(e.manager,(0,a.default)(e,["BackdropComponent","BackdropProps","children","classes","className","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disableRestoreFocus","hideBackdrop","keepMounted","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open","manager"])),b=this.state.exited,S=getHasTransition(this.props),x={};return d||m||S&&!b?(S&&(x.onExited=(0,_.createChainedFunction)(this.handleExited,s.props.onExited)),void 0===s.props.role&&(x.role=s.props.role||"document"),void 0===s.props.tabIndex&&(x.tabIndex=s.props.tabIndex||"-1"),f.default.createElement(v.default,{ref:function ref(e){t.mountNode=e?e.getMountNode():e},container:c,onRendered:this.handleRendered},f.default.createElement("div",(0,o.default)({className:(0,h.default)(u.root,l,(0,i.default)({},u.hidden,b))},y),p?null:f.default.createElement(r,(0,o.default)({open:m,onClick:this.handleBackdropClick},n)),f.default.createElement(g.default,{rootRef:function rootRef(e){t.dialogElement=e}},f.default.cloneElement(s,x))))):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t){return t.open?{exited:!1}:getHasTransition(t)?null:{exited:!0}}}]),Modal}(f.default.Component);E.propTypes={},E.defaultProps={disableAutoFocus:!1,disableBackdropClick:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disableRestoreFocus:!1,hideBackdrop:!1,keepMounted:!1,manager:new S.default,BackdropComponent:x.default};var P=(0,b.default)(w,{flip:!1,name:"MuiModal"})(E);e.default=P},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(37)),i=n(r(38)),a=n(r(40)),s=n(r(41)),u=n(r(0)),l=n(r(52)),c=(n(r(9)),n(r(193)),function(t){function RootRef(){return(0,o.default)(this,RootRef),(0,a.default)(this,(RootRef.__proto__||Object.getPrototypeOf(RootRef)).apply(this,arguments))}return(0,s.default)(RootRef,t),(0,i.default)(RootRef,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.rootRef,e=l.default.findDOMNode(this);"function"===typeof t?t(e):t&&(t.current=e)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.rootRef;"function"===typeof t?t(null):t&&(t.current=null)}},{key:"render",value:function render(){return this.props.children}}]),RootRef}(u.default.Component));c.propTypes={},c.propTypes={};var p=c;e.default=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(37)),i=n(r(38)),a=n(r(40)),s=n(r(41)),u=n(r(0)),l=n(r(52)),c=(n(r(9)),n(r(103)));n(r(193));var p=function(t){function Portal(){var t,e,r;(0,o.default)(this,Portal);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(0,a.default)(r,(e=r=(0,a.default)(this,(t=Portal.__proto__||Object.getPrototypeOf(Portal)).call.apply(t,[this].concat(i))),r.getMountNode=function(){return r.mountNode},e))}return(0,s.default)(Portal,t),(0,i.default)(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.container!==this.props.container&&(this.setContainer(this.props.container),this.forceUpdate())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mountNode=null}},{key:"setContainer",value:function setContainer(t){this.mountNode=function getContainer(t,e){return t="function"===typeof t?t():t,l.default.findDOMNode(t)||e}(t,function getOwnerDocument(t){return(0,c.default)(l.default.findDOMNode(t))}(this).body)}},{key:"render",value:function render(){var t=this.props.children;return this.mountNode?l.default.createPortal(t,this.mountNode):null}}]),Portal}(u.default.Component);p.propTypes={},p.propTypes={};var f=p;e.default=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function style(t,e,r){var l="",c="",p=e;if("string"===typeof e){if(void 0===r)return t.style[(0,n.default)(e)]||(0,i.default)(t).getPropertyValue((0,o.default)(e));(p={})[e]=r}Object.keys(p).forEach((function(e){var r=p[e];r||0===r?(0,u.default)(e)?c+=e+"("+r+") ":l+=(0,o.default)(e)+": "+r+";":(0,a.default)(t,(0,o.default)(e))})),c&&(l+=s.transform+": "+c+";");t.style.cssText+=";"+l};var n=_interopRequireDefault(r(360)),o=_interopRequireDefault(r(789)),i=_interopRequireDefault(r(791)),a=_interopRequireDefault(r(792)),s=r(793),u=_interopRequireDefault(r(794));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function camelize(t){return t.replace(n,(function(t,e){return e.toUpperCase()}))};var n=/-(.)/g;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function hyphenateStyleName(t){return(0,n.default)(t).replace(o,"-ms-")};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(790));var o=/^ms-/;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function hyphenate(t){return t.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function _getComputedStyle(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function getPropertyValue(e){var r=t.style;"float"==(e=(0,n.default)(e))&&(e="styleFloat");var a=t.currentStyle[e]||null;if(null==a&&r&&r[e]&&(a=r[e]),i.test(a)&&!o.test(e)){var s=r.left,u=t.runtimeStyle,l=u&&u.left;l&&(u.left=t.currentStyle.left),r.left="fontSize"===e?"1em":a,a=r.pixelLeft+"px",r.left=s,l&&(u.left=l)}return a}}};var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(360));var o=/^(top|right|bottom|left)$/,i=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function removeStyle(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var n="transform",o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,p=void 0,f=void 0,d=void 0,h=void 0;if(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(358)).default){var m=function getTransitionProperties(){for(var t=document.createElement("div").style,e={O:function O(t){return"o"+t.toLowerCase()},Moz:function Moz(t){return t.toLowerCase()},Webkit:function Webkit(t){return"webkit"+t},ms:function ms(t){return"MS"+t}},r=Object.keys(e),n=void 0,o=void 0,i="",a=0;a<r.length;a++){var s=r[a];if(s+"TransitionProperty"in t){i="-"+s.toLowerCase(),n=e[s]("TransitionEnd"),o=e[s]("AnimationEnd");break}}!n&&"transitionProperty"in t&&(n="transitionend");!o&&"animationName"in t&&(o="animationend");return t=null,{animationEnd:o,transitionEnd:n,prefix:i}}();o=m.prefix,e.transitionEnd=i=m.transitionEnd,e.animationEnd=a=m.animationEnd,e.transform=n=o+"-"+n,e.transitionProperty=s=o+"-transition-property",e.transitionDuration=u=o+"-transition-duration",e.transitionDelay=c=o+"-transition-delay",e.transitionTiming=l=o+"-transition-timing-function",e.animationName=p=o+"-animation-name",e.animationDuration=f=o+"-animation-duration",e.animationTiming=d=o+"-animation-delay",e.animationDelay=h=o+"-animation-timing-function"}e.transform=n,e.transitionProperty=s,e.transitionTiming=l,e.transitionDelay=c,e.transitionDuration=u,e.transitionEnd=i,e.animationName=p,e.animationDuration=f,e.animationTiming=d,e.animationDelay=h,e.animationEnd=a,e.default={transform:n,end:i,property:s,timing:l,delay:c,duration:u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function isTransform(t){return!(!t||!n.test(t))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.isBody=isBody,e.default=function isOverflowing(t){var e=(0,i.default)(t),r=(0,a.default)(e);if(!(0,o.default)(e)&&!isBody(t))return t.scrollHeight>t.clientHeight;var n=r.getComputedStyle(e.body),s=parseInt(n.getPropertyValue("margin-left"),10),u=parseInt(n.getPropertyValue("margin-right"),10);return s+e.body.clientWidth+u<r.innerWidth};var o=n(r(796)),i=n(r(103)),a=n(r(190));function isBody(t){return t&&"body"===t.tagName.toLowerCase()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getWindow(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ariaHidden=ariaHidden,e.hideSiblings=function hideSiblings(t,e){siblings(t,e,(function(t){return ariaHidden(!0,t)}))},e.showSiblings=function showSiblings(t,e){siblings(t,e,(function(t){return ariaHidden(!1,t)}))};var n=["template","script","style"];function siblings(t,e,r){e=[].concat(e),[].forEach.call(t.children,(function(t){-1===e.indexOf(t)&&function isHidable(t){return 1===t.nodeType&&-1===n.indexOf(t.tagName.toLowerCase())}(t)&&r(t)}))}function ariaHidden(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=n(r(195)),p={root:{zIndex:-1,width:"100%",height:"100%",position:"fixed",top:0,left:0,WebkitTapHighlightColor:"transparent",backgroundColor:"rgba(0, 0, 0, 0.5)"},invisible:{backgroundColor:"transparent"}};function Backdrop(t){var e=t.classes,r=t.className,n=t.invisible,l=t.open,p=t.transitionDuration,f=(0,a.default)(t,["classes","className","invisible","open","transitionDuration"]);return s.default.createElement(c.default,(0,o.default)({appear:!0,in:l,timeout:p},f),s.default.createElement("div",{className:(0,u.default)(e.root,(0,i.default)({},e.invisible,n),r),"aria-hidden":"true"}))}e.styles=p,Backdrop.propTypes={},Backdrop.defaultProps={invisible:!1};var f=(0,l.default)(p,{name:"MuiBackdrop"})(Backdrop);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(162))),d=r(140),h=n(r(147)),m=r(196),y={entering:{opacity:1},entered:{opacity:1}},g=function(t){function Fade(){var t,e,r;(0,s.default)(this,Fade);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Fade.__proto__||Object.getPrototypeOf(Fade)).call.apply(t,[this].concat(o))),r.handleEnter=function(t){var e=r.props.theme;(0,m.reflow)(t);var n=(0,m.getTransitionProps)(r.props,{mode:"enter"});t.style.webkitTransition=e.transitions.create("opacity",n),t.style.transition=e.transitions.create("opacity",n),r.props.onEnter&&r.props.onEnter(t)},r.handleExit=function(t){var e=r.props.theme,n=(0,m.getTransitionProps)(r.props,{mode:"exit"});t.style.webkitTransition=e.transitions.create("opacity",n),t.style.transition=e.transitions.create("opacity",n),r.props.onExit&&r.props.onExit(t)},e))}return(0,c.default)(Fade,t),(0,u.default)(Fade,[{key:"render",value:function render(){var t=this.props,e=t.children,r=(t.onEnter,t.onExit,t.style),n=(t.theme,(0,a.default)(t,["children","onEnter","onExit","style","theme"])),s=(0,i.default)({},r,p.default.isValidElement(e)?e.props.style:{});return p.default.createElement(f.default,(0,o.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit},n),(function(t,r){return p.default.cloneElement(e,(0,i.default)({style:(0,i.default)({opacity:0,willChange:"opacity"},y[t],s)},r))}))}}]),Fade}(p.default.Component);g.propTypes={},g.defaultProps={timeout:{enter:d.duration.enteringScreen,exit:d.duration.leavingScreen}};var v=(0,h.default)()(g);e.default=v},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(162))),d=n(r(147)),h=r(196);function getScale(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var m={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:getScale(1)}},y=function(t){function Grow(){var t,e,r;(0,s.default)(this,Grow);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Grow.__proto__||Object.getPrototypeOf(Grow)).call.apply(t,[this].concat(o))),r.autoTimeout=null,r.timer=null,r.handleEnter=function(t){var e=r.props,n=e.theme,o=e.timeout;(0,h.reflow)(t);var i=(0,h.getTransitionProps)(r.props,{mode:"enter"}),a=i.duration,s=i.delay,u=0;"auto"===o?(u=n.transitions.getAutoHeightDuration(t.clientHeight),r.autoTimeout=u):u=a,t.style.transition=[n.transitions.create("opacity",{duration:u,delay:s}),n.transitions.create("transform",{duration:.666*u,delay:s})].join(","),r.props.onEnter&&r.props.onEnter(t)},r.handleExit=function(t){var e=r.props,n=e.theme,o=e.timeout,i=0,a=(0,h.getTransitionProps)(r.props,{mode:"exit"}),s=a.duration,u=a.delay;"auto"===o?(i=n.transitions.getAutoHeightDuration(t.clientHeight),r.autoTimeout=i):i=s,t.style.transition=[n.transitions.create("opacity",{duration:i,delay:u}),n.transitions.create("transform",{duration:.666*i,delay:u||.333*i})].join(","),t.style.opacity="0",t.style.transform=getScale(.75),r.props.onExit&&r.props.onExit(t)},r.addEndListener=function(t,e){"auto"===r.props.timeout&&(r.timer=setTimeout(e,r.autoTimeout||0))},e))}return(0,c.default)(Grow,t),(0,u.default)(Grow,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timer)}},{key:"render",value:function render(){var t=this.props,e=t.children,r=(t.onEnter,t.onExit,t.style),n=(t.theme,t.timeout),s=(0,a.default)(t,["children","onEnter","onExit","style","theme","timeout"]),u=(0,i.default)({},r,p.default.isValidElement(e)?e.props.style:{});return p.default.createElement(f.default,(0,o.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit,addEndListener:this.addEndListener,timeout:"auto"===n?null:n},s),(function(t,r){return p.default.cloneElement(e,(0,i.default)({style:(0,i.default)({opacity:0,transform:getScale(.75)},m[t],u)},r))}))}}]),Grow}(p.default.Component);y.propTypes={},y.defaultProps={timeout:"auto"},y.muiSupportAuto=!0;var g=(0,d.default)()(y);e.default=g},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(36)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=(n(r(64)),n(r(8))),p=function styles(t){var e={};return t.shadows.forEach((function(t,r){e["elevation".concat(r)]={boxShadow:t}})),(0,s.default)({root:{backgroundColor:t.palette.background.paper},rounded:{borderRadius:t.shape.borderRadius}},e)};function Paper(t){var e=t.classes,r=t.className,n=t.component,s=t.square,c=t.elevation,p=(0,a.default)(t,["classes","className","component","square","elevation"]),f=(0,l.default)(e.root,e["elevation".concat(c)],(0,i.default)({},e.rounded,!s),r);return u.default.createElement(n,(0,o.default)({className:f},p))}e.styles=p,Paper.propTypes={},Paper.defaultProps={component:"div",elevation:2,square:!1};var f=(0,c.default)(p,{name:"MuiPaper"})(Paper);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(0)),p=(n(r(9)),n(r(52))),f=n(r(105)),d=n(r(103)),h=n(r(259)),m=function(t){function MenuList(){var t,e,r;(0,a.default)(this,MenuList);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,u.default)(r,(e=r=(0,u.default)(this,(t=MenuList.__proto__||Object.getPrototypeOf(MenuList)).call.apply(t,[this].concat(o))),r.list=null,r.selectedItem=null,r.blurTimer=null,r.state={currentTabIndex:null},r.handleBlur=function(t){r.blurTimer=setTimeout((function(){if(r.list){var t=p.default.findDOMNode(r.list),e=(0,d.default)(t).activeElement;t.contains(e)||r.resetTabIndex()}}),30),r.props.onBlur&&r.props.onBlur(t)},r.handleKeyDown=function(t){var e=p.default.findDOMNode(r.list),n=(0,f.default)(t),o=(0,d.default)(e).activeElement;"up"!==n&&"down"!==n||o&&(!o||e.contains(o))?"down"===n?(t.preventDefault(),o.nextElementSibling&&o.nextElementSibling.focus()):"up"===n&&(t.preventDefault(),o.previousElementSibling&&o.previousElementSibling.focus()):r.selectedItem?p.default.findDOMNode(r.selectedItem).focus():e.firstChild.focus(),r.props.onKeyDown&&r.props.onKeyDown(t,n)},r.handleItemFocus=function(t){var e=p.default.findDOMNode(r.list);if(e)for(var n=0;n<e.children.length;n+=1)if(e.children[n]===t.currentTarget){r.setTabIndex(n);break}},e))}return(0,l.default)(MenuList,t),(0,s.default)(MenuList,[{key:"componentDidMount",value:function componentDidMount(){this.resetTabIndex()}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.blurTimer)}},{key:"setTabIndex",value:function setTabIndex(t){this.setState({currentTabIndex:t})}},{key:"focus",value:function focus(){var t=this.state.currentTabIndex,e=p.default.findDOMNode(this.list);e&&e.children&&e.firstChild&&(t&&t>=0?e.children[t].focus():e.firstChild.focus())}},{key:"resetTabIndex",value:function resetTabIndex(){for(var t=p.default.findDOMNode(this.list),e=(0,d.default)(t).activeElement,r=[],n=0;n<t.children.length;n+=1)r.push(t.children[n]);var o=r.indexOf(e);return-1!==o?this.setTabIndex(o):this.selectedItem?this.setTabIndex(r.indexOf(p.default.findDOMNode(this.selectedItem))):this.setTabIndex(0)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=e.className,a=(e.onBlur,e.onKeyDown,(0,i.default)(e,["children","className","onBlur","onKeyDown"]));return c.default.createElement(h.default,(0,o.default)({role:"menu",ref:function ref(e){t.list=e},className:n,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur},a),c.default.Children.map(r,(function(e,r){return c.default.isValidElement(e)?c.default.cloneElement(e,{tabIndex:r===t.state.currentTabIndex?0:-1,ref:e.props.selected?function(e){t.selectedItem=e}:void 0,onFocus:t.handleItemFocus}):null})))}}]),MenuList}(c.default.Component);m.propTypes={};var y=m;e.default=y},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=n(r(9)),d=n(r(3)),h=n(r(8)),m=function styles(t){return{root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:t.spacing.unit,paddingBottom:t.spacing.unit},dense:{paddingTop:t.spacing.unit/2,paddingBottom:t.spacing.unit/2},subheader:{paddingTop:0}}};e.styles=m;var y=function(t){function List(){return(0,s.default)(this,List),(0,l.default)(this,(List.__proto__||Object.getPrototypeOf(List)).apply(this,arguments))}return(0,c.default)(List,t),(0,u.default)(List,[{key:"getChildContext",value:function getChildContext(){return{dense:this.props.dense}}},{key:"render",value:function render(){var t,e=this.props,r=e.children,n=e.classes,s=e.className,u=e.component,l=e.dense,c=e.disablePadding,f=e.subheader,h=(0,a.default)(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=(0,d.default)(n.root,(t={},(0,i.default)(t,n.dense,l&&!c),(0,i.default)(t,n.padding,!c),(0,i.default)(t,n.subheader,f),t),s);return p.default.createElement(u,(0,o.default)({className:m},h),f,r)}}]),List}(p.default.Component);y.propTypes={},y.defaultProps={component:"ul",dense:!1,disablePadding:!1},y.childContextTypes={dense:f.default.bool};var g=(0,h.default)(m,{name:"MuiList"})(y);e.default=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=_interopRequireDefault(r(24)),o=_interopRequireDefault(r(30)),i=_interopRequireDefault(r(43)),a=r(0);_interopRequireDefault(r(364)),_interopRequireDefault(r(185));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=function shouldUpdate(t){return function(e){var r=(0,a.createFactory)(e);return function(e){function ShouldUpdate(){return(0,n.default)(this,ShouldUpdate),(0,o.default)(this,e.apply(this,arguments))}return(0,i.default)(ShouldUpdate,e),ShouldUpdate.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return t(this.props,e)},ShouldUpdate.prototype.render=function render(){return r(this.props)},ShouldUpdate}(a.Component)}}},function(t,e,r){t.exports={default:r(806),__esModule:!0}},function(t,e,r){r(155),r(181),t.exports=r(260).f("iterator")},function(t,e,r){t.exports={default:r(808),__esModule:!0}},function(t,e,r){r(809),r(318),r(814),r(815),t.exports=r(53).Symbol},function(t,e,r){"use strict";var n=r(68),o=r(122),i=r(111),a=r(82),s=r(321),u=r(810).KEY,l=r(136),c=r(236),p=r(180),f=r(179),d=r(72),h=r(260),m=r(261),y=r(811),g=r(812),v=r(91),_=r(110),b=r(123),S=r(232),x=r(157),w=r(233),E=r(813),P=r(263),C=r(101),T=r(158),D=P.f,M=C.f,A=E.f,R=n.Symbol,L=n.JSON,I=L&&L.stringify,O=d("_hidden"),k=d("toPrimitive"),F={}.propertyIsEnumerable,N=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),z=Object.prototype,j="function"==typeof R,G=n.QObject,V=!G||!G.prototype||!G.prototype.findChild,W=i&&l((function(){return 7!=w(M({},"a",{get:function get(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=D(z,e);n&&delete z[e],M(t,e,r),n&&t!==z&&M(z,e,n)}:M,q=function wrap(t){var e=B[t]=w(R.prototype);return e._k=t,e},H=j&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},K=function defineProperty(t,e,r){return t===z&&K(U,e,r),v(t),e=S(e,!0),v(r),o(B,e)?(r.enumerable?(o(t,O)&&t[O][e]&&(t[O][e]=!1),r=w(r,{enumerable:x(0,!1)})):(o(t,O)||M(t,O,x(1,{})),t[O][e]=!0),W(t,e,r)):M(t,e,r)},Y=function defineProperties(t,e){v(t);for(var r,n=y(e=b(e)),o=0,i=n.length;i>o;)K(t,r=n[o++],e[r]);return t},Z=function propertyIsEnumerable(t){var e=F.call(this,t=S(t,!0));return!(this===z&&o(B,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(B,t)||o(this,O)&&this[O][t])||e)},X=function getOwnPropertyDescriptor(t,e){if(t=b(t),e=S(e,!0),t!==z||!o(B,e)||o(U,e)){var r=D(t,e);return!r||!o(B,e)||o(t,O)&&t[O][e]||(r.enumerable=!0),r}},Q=function getOwnPropertyNames(t){for(var e,r=A(b(t)),n=[],i=0;r.length>i;)o(B,e=r[i++])||e==O||e==u||n.push(e);return n},$=function getOwnPropertySymbols(t){for(var e,r=t===z,n=A(r?U:b(t)),i=[],a=0;n.length>a;)!o(B,e=n[a++])||r&&!o(z,e)||i.push(B[e]);return i};j||(s((R=function Symbol(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function $set(e){this===z&&$set.call(U,e),o(this,O)&&o(this[O],t)&&(this[O][t]=!1),W(this,t,x(1,e))};return i&&V&&W(z,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",(function toString(){return this._k})),P.f=X,C.f=K,r(363).f=E.f=Q,r(198).f=Z,r(262).f=$,i&&!r(156)&&s(z,"propertyIsEnumerable",Z,!0),h.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!j,{Symbol:R});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)d(J[tt++]);for(var et=T(d.store),rt=0;et.length>rt;)m(et[rt++]);a(a.S+a.F*!j,"Symbol",{for:function _for(t){return o(N,t+="")?N[t]:N[t]=R(t)},keyFor:function keyFor(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function useSetter(){V=!0},useSimple:function useSimple(){V=!1}}),a(a.S+a.F*!j,"Object",{create:function create(t,e){return void 0===e?w(t):Y(w(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),L&&a(a.S+a.F*(!j||l((function(){var t=R();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function stringify(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(_(e)||void 0!==t)&&!H(t))return g(e)||(e=function replacer(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!H(e))return e}),n[1]=e,I.apply(L,n)}}),R.prototype[k]||r(121)(R.prototype,k,R.prototype.valueOf),p(R,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(t,e,r){var n=r(179)("meta"),o=r(110),i=r(122),a=r(101).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(136)((function(){return u(Object.preventExtensions({}))})),c=function setMeta(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},p=t.exports={KEY:n,NEED:!1,fastKey:function fastKey(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},getWeak:function getWeak(t,e){if(!i(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},onFreeze:function onFreeze(t){return l&&p.NEED&&u(t)&&!i(t,n)&&c(t),t}}},function(t,e,r){var n=r(158),o=r(262),i=r(198);t.exports=function(t){var e=n(t),r=o.f;if(r)for(var a,s=r(t),u=i.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,r){var n=r(159);t.exports=Array.isArray||function isArray(t){return"Array"==n(t)}},function(t,e,r){var n=r(123),o=r(363).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return a&&"[object Window]"==i.call(t)?function getWindowNames(t){try{return o(t)}catch(e){return a.slice()}}(t):o(n(t))}},function(t,e,r){r(261)("asyncIterator")},function(t,e,r){r(261)("observable")},function(t,e,r){t.exports={default:r(817),__esModule:!0}},function(t,e,r){r(818),t.exports=r(53).Object.setPrototypeOf},function(t,e,r){var n=r(82);n(n.S,"Object",{setPrototypeOf:r(819).set})},function(t,e,r){var n=r(110),o=r(91),i=function check(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(135)(Function.call,r(263).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function setPrototypeOf(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},function(t,e,r){t.exports={default:r(821),__esModule:!0}},function(t,e,r){r(822);var n=r(53).Object;t.exports=function create(t,e){return n.create(t,e)}},function(t,e,r){var n=r(82);n(n.S,"Object",{create:r(233)})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function setStatic(t,e){return function(r){return r[t]=e,r}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(r(825));e.default=n.default},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty;function is(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function shallowEqual(t,e){if(is(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(!n.call(e,r[i])||!is(t[r[i]],e[r[i]]))return!1;return!0}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(73),p=function styles(t){return{root:{userSelect:"none",fontSize:24,width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled}}};function SvgIcon(t){var e=t.children,r=t.classes,n=t.className,l=t.color,p=t.nativeColor,f=t.titleAccess,d=t.viewBox,h=(0,a.default)(t,["children","classes","className","color","nativeColor","titleAccess","viewBox"]),m=(0,u.default)(r.root,(0,i.default)({},r["color".concat((0,c.capitalize)(l))],"inherit"!==l),n);return s.default.createElement("svg",(0,o.default)({className:m,focusable:"false",viewBox:d,color:p,"aria-hidden":f?"false":"true"},h),f?s.default.createElement("title",null,f):null,e)}e.styles=p,SvgIcon.propTypes={},SvgIcon.defaultProps={color:"inherit",viewBox:"0 0 24 24"},SvgIcon.muiName="SvgIcon";var f=(0,l.default)(p,{name:"MuiSvgIcon"})(SvgIcon);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(36)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(365))),u=n(r(8)),l=n(r(361)),c=n(r(141)),p=function styles(t){return{root:{position:"relative",width:"100%"},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",paddingRight:4*t.spacing.unit,width:"calc(100% - ".concat(4*t.spacing.unit,"px)"),minWidth:2*t.spacing.unit,cursor:"pointer","&:focus":{background:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&:-moz-focusring":{color:"transparent",textShadow:"0 0 0 #000"},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"}},selectMenu:{width:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",minHeight:"1.1875em"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",color:t.palette.action.active,"pointer-events":"none"}}};function NativeSelect(t){var e=t.children,r=t.classes,n=t.IconComponent,u=t.input,l=t.inputProps,c=(0,i.default)(t,["children","classes","IconComponent","input","inputProps"]);return a.default.cloneElement(u,(0,o.default)({inputComponent:s.default,inputProps:(0,o.default)({children:e,classes:r,IconComponent:n,type:void 0},l,u?u.props.inputProps:{})},c))}e.styles=p,NativeSelect.propTypes={},NativeSelect.defaultProps={IconComponent:l.default,input:a.default.createElement(c.default,null)},NativeSelect.muiName="NativeSelect";var f=(0,u.default)(p,{name:"MuiNativeSelect"})(NativeSelect);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(28)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=r(73),f=n(r(93)),d=n(r(195)),h=r(140),m=n(r(74)),y=function styles(t){return{root:{},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden"},paper:{display:"flex",flexDirection:"column",margin:48,position:"relative",overflowY:"auto",outline:"none"},paperScrollPaper:{flex:"0 1 auto",maxHeight:"calc(100% - ".concat(96,"px)")},paperScrollBody:{margin:"48px auto"},paperWidthXs:{maxWidth:Math.max(t.breakpoints.values.xs,360),"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,360)+96),{margin:48})},paperWidthSm:{maxWidth:t.breakpoints.values.sm,"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(t.breakpoints.values.sm+96),{margin:48})},paperWidthMd:{maxWidth:t.breakpoints.values.md,"&$paperScrollBody":(0,s.default)({},t.breakpoints.down(t.breakpoints.values.md+96),{margin:48})},paperFullWidth:{width:"100%"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0}}};function Dialog(t){var e,r=t.BackdropProps,n=t.children,c=t.classes,d=t.className,h=t.disableBackdropClick,y=t.disableEscapeKeyDown,g=t.fullScreen,v=t.fullWidth,_=t.maxWidth,b=t.onBackdropClick,S=t.onClose,x=t.onEnter,w=t.onEntered,E=t.onEntering,P=t.onEscapeKeyDown,C=t.onExit,T=t.onExited,D=t.onExiting,M=t.open,A=t.PaperProps,R=t.scroll,L=t.TransitionComponent,I=t.transitionDuration,O=t.TransitionProps,k=(0,a.default)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]);return u.default.createElement(f.default,(0,o.default)({className:(0,l.default)(c.root,c["scroll".concat((0,p.capitalize)(R))],d),BackdropProps:(0,i.default)({transitionDuration:I},r),disableBackdropClick:h,disableEscapeKeyDown:y,onBackdropClick:b,onEscapeKeyDown:P,onClose:S,open:M,role:"dialog"},k),u.default.createElement(L,(0,o.default)({appear:!0,in:M,timeout:I,onEnter:x,onEntering:E,onEntered:w,onExit:C,onExiting:D,onExited:T},O),u.default.createElement(m.default,(0,o.default)({elevation:24,className:(0,l.default)(c.paper,c["paperScroll".concat((0,p.capitalize)(R))],(e={},(0,s.default)(e,c["paperWidth".concat(_?(0,p.capitalize)(_):"")],_),(0,s.default)(e,c.paperFullScreen,g),(0,s.default)(e,c.paperFullWidth,v),e))},A),n)))}e.styles=y,Dialog.propTypes={},Dialog.defaultProps={disableBackdropClick:!1,disableEscapeKeyDown:!1,fullScreen:!1,fullWidth:!1,maxWidth:"sm",scroll:"paper",TransitionComponent:d.default,transitionDuration:{enter:h.duration.enteringScreen,exit:h.duration.leavingScreen}};var g=(0,c.default)(y,{name:"MuiDialog"})(Dialog);e.default=g},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(8)),l=function styles(t){var e=3*t.spacing.unit;return{root:{flex:"1 1 auto",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:"0 ".concat(e,"px ").concat(e,"px ").concat(e,"px"),"&:first-child":{paddingTop:e}}}};function DialogContent(t){var e=t.classes,r=t.children,n=t.className,u=(0,i.default)(t,["classes","children","className"]);return a.default.createElement("div",(0,o.default)({className:(0,s.default)(e.root,n)},u),r)}e.styles=l,DialogContent.propTypes={};var c=(0,u.default)(l,{name:"MuiDialogContent"})(DialogContent);e.default=c},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(8)),l=r(163);r(61);var c=function styles(t){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",margin:"".concat(t.spacing.unit,"px ").concat(t.spacing.unit/2,"px")},action:{margin:"0 ".concat(t.spacing.unit/2,"px"),minWidth:64}}};function DialogActions(t){var e=t.disableActionSpacing,r=t.children,n=t.classes,u=t.className,c=(0,i.default)(t,["disableActionSpacing","children","classes","className"]);return a.default.createElement("div",(0,o.default)({className:(0,s.default)(n.root,u)},c),e?r:(0,l.cloneChildrenWithClassName)(r,n.action))}e.styles=c,DialogActions.propTypes={},DialogActions.defaultProps={disableActionSpacing:!1};var p=(0,u.default)(c,{name:"MuiDialogActions"})(DialogActions);e.default=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(36)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=r(139),f=n(r(112)),d=r(73),h=function styles(t){return{root:(0,s.default)({},t.typography.button,{lineHeight:"1.4em",boxSizing:"border-box",minWidth:88,minHeight:36,padding:"8px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,p.fade)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:(0,p.fade)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:(0,p.fade)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},flat:{},flatPrimary:{},flatSecondary:{},outlined:{border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground},"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},raised:{},raisedPrimary:{},raisedSecondary:{},fab:{borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]}},extendedFab:{borderRadius:24,padding:"0 16px",width:"initial",minWidth:48,height:48},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},mini:{width:40,height:40},sizeSmall:{padding:"7px 8px",minWidth:64,minHeight:32,fontSize:t.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",minWidth:112,minHeight:40,fontSize:t.typography.pxToRem(15)},fullWidth:{width:"100%"}}};function Button(t){var e,r=t.children,n=t.classes,s=t.className,c=t.color,p=t.disabled,h=t.disableFocusRipple,m=t.fullWidth,y=t.focusVisibleClassName,g=t.mini,v=t.size,_=t.variant,b=(0,a.default)(t,["children","classes","className","color","disabled","disableFocusRipple","fullWidth","focusVisibleClassName","mini","size","variant"]),S="fab"===_||"extendedFab"===_,x="contained"===_||"raised"===_,w="text"===_||"flat"===_||"outlined"===_,E=(0,l.default)(n.root,(e={},(0,i.default)(e,n.fab,S),(0,i.default)(e,n.mini,S&&g),(0,i.default)(e,n.extendedFab,"extendedFab"===_),(0,i.default)(e,n.text,w),(0,i.default)(e,n.textPrimary,w&&"primary"===c),(0,i.default)(e,n.textSecondary,w&&"secondary"===c),(0,i.default)(e,n.flat,"text"===_||"flat"===_),(0,i.default)(e,n.flatPrimary,("text"===_||"flat"===_)&&"primary"===c),(0,i.default)(e,n.flatSecondary,("text"===_||"flat"===_)&&"secondary"===c),(0,i.default)(e,n.contained,x||S),(0,i.default)(e,n.containedPrimary,(x||S)&&"primary"===c),(0,i.default)(e,n.containedSecondary,(x||S)&&"secondary"===c),(0,i.default)(e,n.raised,x||S),(0,i.default)(e,n.raisedPrimary,(x||S)&&"primary"===c),(0,i.default)(e,n.raisedSecondary,(x||S)&&"secondary"===c),(0,i.default)(e,n.outlined,"outlined"===_),(0,i.default)(e,n["size".concat((0,d.capitalize)(v))],"medium"!==v),(0,i.default)(e,n.disabled,p),(0,i.default)(e,n.fullWidth,m),(0,i.default)(e,n.colorInherit,"inherit"===c),e),s);return u.default.createElement(f.default,(0,o.default)({className:E,disabled:p,focusRipple:!h,focusVisibleClassName:(0,l.default)(n.focusVisible,y)},b),u.default.createElement("span",{className:n.label},r))}e.styles=h,Button.propTypes={},Button.defaultProps={color:"default",component:"button",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"text"};var m=(0,c.default)(h,{name:"MuiButton"})(Button);e.default=m},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(36)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=function styles(t){return{root:(0,s.default)({},t.mixins.toolbar,{position:"relative",display:"flex",alignItems:"center"}),gutters:t.mixins.gutters()}};function Toolbar(t){var e=t.children,r=t.classes,n=t.className,s=t.disableGutters,c=(0,a.default)(t,["children","classes","className","disableGutters"]),p=(0,l.default)(r.root,(0,i.default)({},r.gutters,!s),n);return u.default.createElement("div",(0,o.default)({className:p},c),e)}e.styles=p,Toolbar.propTypes={},Toolbar.defaultProps={disableGutters:!1};var f=(0,c.default)(p,{name:"MuiToolbar"})(Toolbar);e.default=f},function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;(function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e})(r(164));var n=_interopRequireDefault(r(836)),o=_interopRequireDefault(r(839)),i=_interopRequireDefault(r(0)),a=_interopRequireDefault(r(366));r(367);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var s=function addClass(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,n.default)(t,e)}))},u=function removeClass(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,o.default)(t,e)}))},l=function(t){function CSSTransition(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).onEnter=function(t,r){var n=e.getClassNames(r?"appear":"enter").className;e.removeClasses(t,"exit"),s(t,n),e.props.onEnter&&e.props.onEnter(t,r)},e.onEntering=function(t,r){var n=e.getClassNames(r?"appear":"enter").activeClassName;e.reflowAndAddClass(t,n),e.props.onEntering&&e.props.onEntering(t,r)},e.onEntered=function(t,r){var n=e.getClassNames("appear").doneClassName,o=e.getClassNames("enter").doneClassName,i=r?n+" "+o:o;e.removeClasses(t,r?"appear":"enter"),s(t,i),e.props.onEntered&&e.props.onEntered(t,r)},e.onExit=function(t){var r=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),s(t,r),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var r=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,r),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var r=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),s(t,r),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var r=e.props.classNames,n="string"===typeof r,o=n?(n&&r?r+"-":"")+t:r[t];return{className:o,activeClassName:n?o+"-active":r[t+"Active"],doneClassName:n?o+"-done":r[t+"Done"]}},e}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(CSSTransition,t);var e=CSSTransition.prototype;return e.removeClasses=function removeClasses(t,e){var r=this.getClassNames(e),n=r.className,o=r.activeClassName,i=r.doneClassName;n&&u(t,n),o&&u(t,o),i&&u(t,i)},e.reflowAndAddClass=function reflowAndAddClass(t,e){e&&(t&&t.scrollTop,s(t,e))},e.render=function render(){var t=_extends({},this.props);return delete t.classNames,i.default.createElement(a.default,_extends({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},CSSTransition}(i.default.Component);l.defaultProps={classNames:""},l.propTypes={};var c=l;e.default=c,t.exports=e.default},function(t,e,r){"use strict";var n=r(835);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=r(837);e.__esModule=!0,e.default=function addClass(t,e){t.classList?t.classList.add(e):(0,o.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var o=n(r(838));t.exports=e.default},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function hasClass(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,r){"use strict";function replaceClassName(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function removeClass(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=replaceClassName(t.className,e):t.setAttribute("class",replaceClassName(t.className&&t.className.baseVal||"",e))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;_interopRequireDefault(r(164));var n=_interopRequireDefault(r(0)),o=r(52),i=_interopRequireDefault(r(368));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function ReplaceTransition(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).handleEnter=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEnter",0,r)},e.handleEntering=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEntering",0,r)},e.handleEntered=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEntered",0,r)},e.handleExit=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExit",1,r)},e.handleExiting=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExiting",1,r)},e.handleExited=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExited",1,r)},e}!function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(ReplaceTransition,t);var e=ReplaceTransition.prototype;return e.handleLifecycle=function handleLifecycle(t,e,r){var i,a=this.props.children,s=n.default.Children.toArray(a)[e];s.props[t]&&(i=s.props)[t].apply(i,r),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},e.render=function render(){var t=this.props,e=t.children,r=t.in,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,["children","in"]),a=n.default.Children.toArray(e),s=a[0],u=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(i.default,o,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},ReplaceTransition}(n.default.Component);a.propTypes={};var s=a;e.default=s,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.getChildMapping=getChildMapping,e.mergeChildMappings=mergeChildMappings,e.getInitialChildMapping=function getInitialChildMapping(t,e){return getChildMapping(t.children,(function(r){return(0,n.cloneElement)(r,{onExited:e.bind(null,r),in:!0,appear:getProp(r,"appear",t),enter:getProp(r,"enter",t),exit:getProp(r,"exit",t)})}))},e.getNextChildMapping=function getNextChildMapping(t,e,r){var o=getChildMapping(t.children),i=mergeChildMappings(e,o);return Object.keys(i).forEach((function(a){var s=i[a];if((0,n.isValidElement)(s)){var u=a in e,l=a in o,c=e[a],p=(0,n.isValidElement)(c)&&!c.props.in;!l||u&&!p?l||!u||p?l&&u&&(0,n.isValidElement)(c)&&(i[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:getProp(s,"exit",t),enter:getProp(s,"enter",t)})):i[a]=(0,n.cloneElement)(s,{in:!1}):i[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:getProp(s,"exit",t),enter:getProp(s,"enter",t)})}})),i};var n=r(0);function getChildMapping(t,e){var r=Object.create(null);return t&&n.Children.map(t,(function(t){return t})).forEach((function(t){r[t.key]=function mapper(t){return e&&(0,n.isValidElement)(t)?e(t):t}(t)})),r}function mergeChildMappings(t,e){function getValueForKey(r){return r in e?e[r]:t[r]}t=t||{},e=e||{};var r,n=Object.create(null),o=[];for(var i in t)i in e?o.length&&(n[i]=o,o=[]):o.push(i);var a={};for(var s in e){if(n[s])for(r=0;r<n[s].length;r++){var u=n[s][r];a[n[s][r]]=getValueForKey(u)}a[s]=getValueForKey(s)}for(r=0;r<o.length;r++)a[o[r]]=getValueForKey(o[r]);return a}function getProp(t,e,r){return null!=r[e]?r[e]:t.props[e]}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(28)),f=n(r(0)),d=(n(r(9)),n(r(64)),n(r(3))),h=n(r(113)),m=n(r(87)),y=r(843),g=n(r(844)),v=n(r(846)),_=n(r(8)),b=n(r(847)),S=n(r(848)),x=function styles(t){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch"},flexContainer:{display:"flex"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll"},centered:{justifyContent:"center"},scrollButtons:{},scrollButtonsAuto:(0,p.default)({},t.breakpoints.down("xs"),{display:"none"}),indicator:{}}};e.styles=x;var w=function(t){function Tabs(){var t,e,r;(0,s.default)(this,Tabs);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Tabs.__proto__||Object.getPrototypeOf(Tabs)).call.apply(t,[this].concat(o))),r.tabs=null,r.valueToIndex=new Map,r.handleResize=(0,m.default)((function(){r.updateIndicatorState(r.props),r.updateScrollButtonState()}),166),r.handleTabsScroll=(0,m.default)((function(){r.updateScrollButtonState()}),166),r.state={indicatorStyle:{},scrollerStyle:{marginBottom:0},showLeftScroll:!1,showRightScroll:!1,mounted:!1},r.getConditionalElements=function(){var t=r.props,e=t.classes,n=t.scrollable,o=t.ScrollButtonComponent,i=t.scrollButtons,a=t.theme,s={};s.scrollbarSizeListener=n?f.default.createElement(v.default,{onLoad:r.handleScrollbarSizeChange,onChange:r.handleScrollbarSizeChange}):null;var u=n&&("auto"===i||"on"===i);return s.scrollButtonLeft=u?f.default.createElement(o,{direction:a&&"rtl"===a.direction?"right":"left",onClick:r.handleLeftScrollClick,visible:r.state.showLeftScroll,className:(0,d.default)(e.scrollButtons,(0,p.default)({},e.scrollButtonsAuto,"auto"===i))}):null,s.scrollButtonRight=u?f.default.createElement(o,{direction:a&&"rtl"===a.direction?"left":"right",onClick:r.handleRightScrollClick,visible:r.state.showRightScroll,className:(0,d.default)(e.scrollButtons,(0,p.default)({},e.scrollButtonsAuto,"auto"===i))}):null,s},r.getTabsMeta=function(t,e){var n,o;if(r.tabs){var i=r.tabs.getBoundingClientRect();n={clientWidth:r.tabs?r.tabs.clientWidth:0,scrollLeft:r.tabs?r.tabs.scrollLeft:0,scrollLeftNormalized:r.tabs?(0,y.getNormalizedScrollLeft)(r.tabs,e):0,scrollWidth:r.tabs?r.tabs.scrollWidth:0,left:i.left,right:i.right}}if(r.tabs&&!1!==t){var a=r.tabs.children[0].children;if(a.length>0){var s=a[r.valueToIndex.get(t)];o=s?s.getBoundingClientRect():null}}return{tabsMeta:n,tabMeta:o}},r.handleLeftScrollClick=function(){r.tabs&&r.moveTabsScroll(-r.tabs.clientWidth)},r.handleRightScrollClick=function(){r.tabs&&r.moveTabsScroll(r.tabs.clientWidth)},r.handleScrollbarSizeChange=function(t){var e=t.scrollbarHeight;r.setState({scrollerStyle:{marginBottom:-e}})},r.moveTabsScroll=function(t){var e=r.props.theme;if(r.tabs){var n="rtl"===e.direction?-1:1,o=r.tabs.scrollLeft+t*n,i="rtl"===e.direction&&"reverse"===(0,y.detectScrollType)()?-1:1;g.default.left(r.tabs,i*o)}},r.scrollSelectedIntoView=function(){var t=r.props,e=t.theme,n=t.value,o=r.getTabsMeta(n,e.direction),i=o.tabsMeta,a=o.tabMeta;if(a&&i)if(a.left<i.left){var s=i.scrollLeft+(a.left-i.left);g.default.left(r.tabs,s)}else if(a.right>i.right){var u=i.scrollLeft+(a.right-i.right);g.default.left(r.tabs,u)}},r.updateScrollButtonState=function(){var t=r.props,e=t.scrollable,n=t.scrollButtons,o=t.theme;if(r.tabs&&e&&"off"!==n){var i=r.tabs,a=i.scrollWidth,s=i.clientWidth,u=(0,y.getNormalizedScrollLeft)(r.tabs,o.direction),l="rtl"===o.direction?a>s+u:u>0,c="rtl"===o.direction?u>0:a>s+u;l===r.state.showLeftScroll&&c===r.state.showRightScroll||r.setState({showLeftScroll:l,showRightScroll:c})}},e))}return(0,c.default)(Tabs,t),(0,u.default)(Tabs,[{key:"componentDidMount",value:function componentDidMount(){this.setState({mounted:!0}),this.updateIndicatorState(this.props),this.updateScrollButtonState(),this.props.action&&this.props.action({updateIndicator:this.handleResize})}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.updateScrollButtonState(),this.updateIndicatorState(this.props),this.state.indicatorStyle!==e.indicatorStyle&&this.scrollSelectedIntoView()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear(),this.handleTabsScroll.clear()}},{key:"updateIndicatorState",value:function updateIndicatorState(t){var e=t.theme,r=t.value,n=this.getTabsMeta(r,e.direction),o=n.tabsMeta,i=n.tabMeta,a=0;if(i&&o){var s="rtl"===e.direction?o.scrollLeftNormalized+o.clientWidth-o.scrollWidth:o.scrollLeft;a=i.left-o.left+s}var u={left:a,width:i?i.width:0};u.left===this.state.indicatorStyle.left&&u.width===this.state.indicatorStyle.width||isNaN(u.left)||isNaN(u.width)||this.setState({indicatorStyle:u})}},{key:"render",value:function render(){var t,e=this,r=this.props,n=(r.action,r.centered),s=r.children,u=r.classes,l=r.className,c=r.component,m=r.fullWidth,y=r.indicatorColor,g=r.onChange,v=r.scrollable,_=(r.ScrollButtonComponent,r.scrollButtons,r.TabIndicatorProps),S=void 0===_?{}:_,x=r.textColor,w=(r.theme,r.value),E=(0,a.default)(r,["action","centered","children","classes","className","component","fullWidth","indicatorColor","onChange","scrollable","ScrollButtonComponent","scrollButtons","TabIndicatorProps","textColor","theme","value"]),P=(0,d.default)(u.root,l),C=(0,d.default)(u.scroller,(t={},(0,p.default)(t,u.fixed,!v),(0,p.default)(t,u.scrollable,v),t)),T=(0,d.default)(u.flexContainer,(0,p.default)({},u.centered,n&&!v)),D=f.default.createElement(b.default,(0,o.default)({className:u.indicator,color:y},S,{style:(0,i.default)({},this.state.indicatorStyle,S.style)}));this.valueToIndex=new Map;var M=0,A=f.default.Children.map(s,(function(t){if(!f.default.isValidElement(t))return null;var r=void 0===t.props.value?M:t.props.value;e.valueToIndex.set(r,M);var n=r===w;return M+=1,f.default.cloneElement(t,{fullWidth:m,indicator:n&&!e.state.mounted&&D,selected:n,onChange:g,textColor:x,value:r})})),R=this.getConditionalElements();return f.default.createElement(c,(0,o.default)({className:P},E),f.default.createElement(h.default,{target:"window",onResize:this.handleResize}),R.scrollbarSizeListener,f.default.createElement("div",{className:u.flexContainer},R.scrollButtonLeft,f.default.createElement("div",{className:C,style:this.state.scrollerStyle,ref:function ref(t){e.tabs=t},role:"tablist",onScroll:this.handleTabsScroll},f.default.createElement("div",{className:T},A),this.state.mounted&&D),R.scrollButtonRight))}}]),Tabs}(f.default.Component);w.propTypes={},w.defaultProps={centered:!1,component:"div",fullWidth:!1,indicatorColor:"secondary",scrollable:!1,ScrollButtonComponent:S.default,scrollButtons:"auto",textColor:"inherit"};var E=(0,_.default)(x,{name:"MuiTabs",withTheme:!0})(w);e.default=E},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=!("undefined"===typeof window||!window.document||!window.document.createElement);function detectScrollType(){if(n)return n;if(!o||!window.document.body)return"indeterminate";var t=window.document.createElement("div");return t.appendChild(document.createTextNode("ABCD")),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),n="reverse",t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),document.body.removeChild(t),n}e._setScrollType=function _setScrollType(t){n=t},e.detectScrollType=detectScrollType,e.getNormalizedScrollLeft=function getNormalizedScrollLeft(t,e){var r=t.scrollLeft;if("rtl"!==e)return r;var n=detectScrollType();if("indeterminate"===n)return Number.NaN;switch(n){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r}return r},e.setNormalizedScrollLeft=function setNormalizedScrollLeft(t,e,r){if("rtl"===r){var n=detectScrollType();if("indeterminate"!==n)switch(n){case"negative":t.scrollLeft=t.clientWidth-t.scrollWidth+e;break;case"reverse":t.scrollLeft=t.scrollWidth-t.clientWidth-e;break;default:t.scrollLeft=e}}else t.scrollLeft=e}},function(t,e,r){var n=r(845),o=new Error("Element already at target scroll position"),i=new Error("Scroll cancelled"),a=Math.min;function make(t){return function scroll(e,r,s,u){"function"==typeof(s=s||{})&&(u=s,s={}),"function"!=typeof u&&(u=noop);var l=+new Date,c=e[t],p=s.ease||inOutSine,f=isNaN(s.duration)?350:+s.duration,d=!1;return c===r?u(o,e[t]):n((function animate(o){if(d)return u(i,e[t]);var s=+new Date;var h=a(1,(s-l)/f);var m=p(h);e[t]=m*(r-c)+c;n(h<1?animate:function(){u(null,e[t])})})),function cancel(){d=!0}}}function inOutSine(t){return.5*(1-Math.cos(Math.PI*t))}function noop(){}t.exports={left:make("scrollLeft"),top:make("scrollTop")}},function(t,e,r){var n=r(85),o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function fallback(t){var e=+new Date,r=Math.max(0,16-(e-i)),n=setTimeout(t,r);return i=e,n},i=+new Date;var a=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(o=o.bind(n),a=a.bind(n)),(t.exports=o).cancel=a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(37)),i=n(r(38)),a=n(r(40)),s=n(r(41)),u=n(r(0)),l=(n(r(9)),n(r(113))),c=n(r(87)),p={width:"100px",height:"100px",position:"absolute",top:"-10000px",overflow:"scroll",msOverflowStyle:"scrollbar"},f=function(t){function ScrollbarSize(){var t,e,r;(0,o.default)(this,ScrollbarSize);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(0,a.default)(r,(e=r=(0,a.default)(this,(t=ScrollbarSize.__proto__||Object.getPrototypeOf(ScrollbarSize)).call.apply(t,[this].concat(i))),r.handleResize=(0,c.default)((function(){var t=r.props.onChange,e=r.scrollbarHeight,n=r.scrollbarWidth;r.setMeasurements(),e===r.scrollbarHeight&&n===r.scrollbarWidth||t({scrollbarHeight:r.scrollbarHeight,scrollbarWidth:r.scrollbarWidth})}),166),r.setMeasurements=function(){r.node&&(r.scrollbarHeight=r.node.offsetHeight-r.node.clientHeight,r.scrollbarWidth=r.node.offsetWidth-r.node.clientWidth)},e))}return(0,s.default)(ScrollbarSize,t),(0,i.default)(ScrollbarSize,[{key:"componentDidMount",value:function componentDidMount(){this.setMeasurements(),this.props.onLoad({scrollbarHeight:this.scrollbarHeight,scrollbarWidth:this.scrollbarWidth})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"render",value:function render(){var t=this,e=this.props.onChange;return u.default.createElement("div",null,e?u.default.createElement(l.default,{target:"window",onResize:this.handleResize}):null,u.default.createElement("div",{style:p,ref:function ref(e){t.node=e}}))}}]),ScrollbarSize}(u.default.Component);f.propTypes={};var d=f;e.default=d},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(8)),l=r(73),c=function styles(t){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),willChange:"left, width"},colorPrimary:{backgroundColor:t.palette.primary.main},colorSecondary:{backgroundColor:t.palette.secondary.main}}};function TabIndicator(t){var e=t.classes,r=t.className,n=t.color,u=(0,i.default)(t,["classes","className","color"]);return a.default.createElement("span",(0,o.default)({className:(0,s.default)(e.root,e["color".concat((0,l.capitalize)(n))],r)},u))}e.styles=c,TabIndicator.propTypes={};var p=(0,u.default)(c)(TabIndicator);e.default=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(849)),l=n(r(850)),c=n(r(8)),p=n(r(112)),f=function styles(t){return{root:{color:"inherit",flex:"0 0 ".concat(7*t.spacing.unit,"px")}}};e.styles=f;var d=a.default.createElement(u.default,null),h=a.default.createElement(l.default,null);function TabScrollButton(t){var e=t.classes,r=t.className,n=t.direction,u=t.onClick,l=t.visible,c=(0,i.default)(t,["classes","className","direction","onClick","visible"]),f=(0,s.default)(e.root,r);return l?a.default.createElement(p.default,(0,o.default)({className:f,onClick:u,tabIndex:-1},c),"left"===n?d:h):a.default.createElement("div",{className:f})}TabScrollButton.propTypes={},TabScrollButton.defaultProps={visible:!0};var m=(0,c.default)(f,{name:"MuiTabScrollButton"})(TabScrollButton);e.default=m},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=n(r(197)),a=n(r(75)),s=o.default.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),u=function KeyboardArrowLeft(t){return o.default.createElement(a.default,t,s)};(u=(0,i.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(0)),i=n(r(197)),a=n(r(75)),s=o.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),u=function KeyboardArrowRight(t){return o.default.createElement(a.default,t,s)};(u=(0,i.default)(u)).muiName="SvgIcon";var l=u;e.default=l},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(28)),p=n(r(36)),f=n(r(0)),d=(n(r(9)),n(r(3))),h=n(r(8)),m=n(r(112)),y=r(73),g=(n(r(852)),function styles(t){return{root:(0,p.default)({},t.typography.button,(0,c.default)({maxWidth:264,position:"relative",minWidth:72,padding:0,minHeight:48,flexShrink:0,overflow:"hidden"},t.breakpoints.up("md"),{minWidth:160})),labelIcon:{minHeight:72},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.4}},textColorPrimary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled}},textColorSecondary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.secondary.main},"&$disabled":{color:t.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"},labelContainer:(0,c.default)({paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12},t.breakpoints.up("md"),{paddingLeft:3*t.spacing.unit,paddingRight:3*t.spacing.unit}),label:(0,c.default)({fontSize:t.typography.pxToRem(14),whiteSpace:"normal"},t.breakpoints.up("md"),{fontSize:t.typography.pxToRem(13)}),labelWrapped:(0,c.default)({},t.breakpoints.down("sm"),{fontSize:t.typography.pxToRem(12)})}});e.styles=g;var v=function(t){function Tab(){var t,e,r;(0,a.default)(this,Tab);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,u.default)(r,(e=r=(0,u.default)(this,(t=Tab.__proto__||Object.getPrototypeOf(Tab)).call.apply(t,[this].concat(o))),r.label=null,r.state={labelWrapped:!1},r.handleChange=function(t){var e=r.props,n=e.onChange,o=e.value,i=e.onClick;n&&n(t,o),i&&i(t)},r.checkTextWrap=function(){if(r.label){var t=r.label.getClientRects().length>1;r.state.labelWrapped!==t&&r.setState({labelWrapped:t})}},e))}return(0,l.default)(Tab,t),(0,s.default)(Tab,[{key:"componentDidMount",value:function componentDidMount(){this.checkTextWrap()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,e){this.state.labelWrapped===e.labelWrapped&&this.checkTextWrap()}},{key:"render",value:function render(){var t,e,r=this,n=this.props,a=n.classes,s=n.className,u=n.disabled,l=n.fullWidth,p=n.icon,h=n.indicator,g=n.label,v=(n.onChange,n.selected),_=n.textColor,b=(n.value,(0,i.default)(n,["classes","className","disabled","fullWidth","icon","indicator","label","onChange","selected","textColor","value"]));void 0!==g&&(e=f.default.createElement("span",{className:a.labelContainer},f.default.createElement("span",{className:(0,d.default)(a.label,(0,c.default)({},a.labelWrapped,this.state.labelWrapped)),ref:function ref(t){r.label=t}},g)));var S=(0,d.default)(a.root,a["textColor".concat((0,y.capitalize)(_))],(t={},(0,c.default)(t,a.disabled,u),(0,c.default)(t,a.selected,v),(0,c.default)(t,a.labelIcon,p&&e),(0,c.default)(t,a.fullWidth,l),t),s);return f.default.createElement(m.default,(0,o.default)({focusRipple:!0,className:S,role:"tab","aria-selected":v,disabled:u},b,{onClick:this.handleChange}),f.default.createElement("span",{className:a.wrapper},p,e),h)}}]),Tab}(f.default.Component);v.propTypes={},v.defaultProps={disabled:!1,textColor:"inherit"};var _=(0,h.default)(g,{name:"MuiTab"})(v);e.default=_},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function unsupportedProp(t,e,r,n,o){return null};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54);n.__exportStar(r(854),e);var o=r(59);e.ListElementSize=o.ListElementSize;var i=r(855);e.Message=i.Message;var a=r(142);e.ObjectSize=a.ObjectSize,n.__exportStar(r(264),e)},function(t,e,r){"use strict";function _makePrimitiveMaskFn(t,e){return function(r){var n=new DataView(new ArrayBuffer(t));return e.call(n,0,r,!0),n}}Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setFloat32),e.getFloat64Mask=_makePrimitiveMaskFn(8,DataView.prototype.setFloat64),e.getInt16Mask=_makePrimitiveMaskFn(2,DataView.prototype.setInt16),e.getInt32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setInt32),e.getInt8Mask=_makePrimitiveMaskFn(1,DataView.prototype.setInt8),e.getUint16Mask=_makePrimitiveMaskFn(2,DataView.prototype.setUint16),e.getUint32Mask=_makePrimitiveMaskFn(4,DataView.prototype.setUint32),e.getUint8Mask=_makePrimitiveMaskFn(1,DataView.prototype.setUint8),e.getBitMask=function getBitMask(t,e){var r=new DataView(new ArrayBuffer(1));return t?(r.setUint8(0,1<<e%8),r):r},e.getInt64Mask=function getInt64Mask(t){return t.toDataView()},e.getUint64Mask=function getUint64Mask(t){return t.toDataView()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78),a=r(79),s=r(858),u=r(860),l=r(264),c=r(880),p=r(50),f=r(266),d=n.default("capnp:message");d("load");var h=function(){function Message(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this._capnp=initMessage(t,e,r),t&&!isAnyArena(t)&&preallocateSegments(this),d("new %s",this)}return Message.prototype.allocateSegment=function(t){return allocateSegment(t,this)},Message.prototype.dump=function(){return dump(this)},Message.prototype.getRoot=function(t){return getRoot(t,this)},Message.prototype.getSegment=function(t){return getSegment(t,this)},Message.prototype.initRoot=function(t){return initRoot(t,this)},Message.prototype.toArrayBuffer=function(){return toArrayBuffer(this)},Message.prototype.toPackedArrayBuffer=function(){return toPackedArrayBuffer(this)},Message.prototype.toString=function(){return"Message_arena:"+this._capnp.arena},Message.allocateSegment=allocateSegment,Message.dump=dump,Message.getRoot=getRoot,Message.getSegment=getSegment,Message.initRoot=initRoot,Message.toArrayBuffer=toArrayBuffer,Message.toPackedArrayBuffer=toPackedArrayBuffer,Message}();function initMessage(t,e,r){if(void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===t)return{arena:new s.SingleSegmentArena,segments:[],traversalLimit:o.DEFAULT_TRAVERSE_LIMIT};if(isAnyArena(t))return{arena:t,segments:[],traversalLimit:o.DEFAULT_TRAVERSE_LIMIT};var n=t;return function isArrayBufferView(t){return void 0!==t.byteOffset}(n)&&(n=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)),e&&(n=u.unpack(n)),r?{arena:new s.SingleSegmentArena(n),segments:[],traversalLimit:o.DEFAULT_TRAVERSE_LIMIT}:{arena:new s.MultiSegmentArena(getFramedSegments(n)),segments:[],traversalLimit:o.DEFAULT_TRAVERSE_LIMIT}}function getFramedSegments(t){var e=new DataView(t),r=e.getUint32(0,!0)+1,n=new Array(r);d("reading %d framed segments from stream",r);var o=4+4*r;if((o+=o%8)+4*r>t.byteLength)throw new Error(i.MSG_INVALID_FRAME_HEADER);for(var a=0;a<r;a++){var s=8*e.getUint32(4+4*a,!0);if(o+s>t.byteLength)throw new Error(i.MSG_INVALID_FRAME_HEADER);n[a]=t.slice(o,o+s),o+=s}return n}function preallocateSegments(t){var e=s.Arena.getNumSegments(t._capnp.arena);if(e<1)throw new Error(i.MSG_NO_SEGMENTS_IN_ARENA);t._capnp.segments=new Array(e);for(var r=0;r<e;r++){var n=s.Arena.getBuffer(r,t._capnp.arena),o=new c.Segment(r,t,n,n.byteLength);t._capnp.segments[r]=o}}function isAnyArena(t){return void 0!==t.kind}function allocateSegment(t,e){d("allocating %x bytes for %s",t,e);var r,n=s.Arena.allocate(t,e._capnp.segments,e._capnp.arena);if(n.id===e._capnp.segments.length)r=new c.Segment(n.id,e,n.buffer),d("adding new segment %s",r),e._capnp.segments.push(r);else{if(n.id<0||n.id>e._capnp.segments.length)throw new Error(a.format(i.MSG_SEGMENT_OUT_OF_BOUNDS,n.id,e));r=e._capnp.segments[n.id],d("replacing segment %s with buffer (len:%d)",r,n.buffer.byteLength),r.replaceBuffer(n.buffer)}return r}function dump(t){var e="";if(0===t._capnp.segments.length)return"================\nNo Segments\n================\n";for(var r=0;r<t._capnp.segments.length;r++){e+="================\nSegment #"+r+"\n================\n";var n=t._capnp.segments[r],o=n.buffer,i=n.byteLength,s=new Uint8Array(o,0,i);e+=a.dumpBuffer(s)}return e}function getRoot(t,e){var r=new t(e.getSegment(0),0);p.validate(l.PointerType.STRUCT,r);var n=p.getTargetStructSize(r);return(n.dataByteLength<t._capnp.size.dataByteLength||n.pointerLength<t._capnp.size.pointerLength)&&(d("need to resize root struct %s",r),f.resize(t._capnp.size,r)),r}function getSegment(t,e){var r=e._capnp.segments.length;if(0===t&&0===r){if(0===s.Arena.getNumSegments(e._capnp.arena)?allocateSegment(o.DEFAULT_BUFFER_SIZE,e):e._capnp.segments[0]=new c.Segment(0,e,s.Arena.getBuffer(0,e._capnp.arena)),!e._capnp.segments[0].hasCapacity(8))throw new Error(i.MSG_SEGMENT_TOO_SMALL);return e._capnp.segments[0].allocate(8),e._capnp.segments[0]}if(t<0||t>=r)throw new Error(a.format(i.MSG_SEGMENT_OUT_OF_BOUNDS,t,e));return e._capnp.segments[t]}function initRoot(t,e){var r=new t(e.getSegment(0),0);return f.initStruct(t._capnp.size,r),d("Initialized root pointer %s for %s.",r,e),r}function toArrayBuffer(t){var e=getStreamFrame(t);0===t._capnp.segments.length&&getSegment(0,t);var r=t._capnp.segments,n=e.byteLength+r.reduce((function(t,e){return t+a.padToWord(e.byteLength)}),0),o=new Uint8Array(new ArrayBuffer(n)),i=e.byteLength;return o.set(new Uint8Array(e)),r.forEach((function(t){var e=a.padToWord(t.byteLength);o.set(new Uint8Array(t.buffer,0,e),i),i+=e})),o.buffer}function toPackedArrayBuffer(t){var e=u.pack(getStreamFrame(t));0===t._capnp.segments.length&&t.getSegment(0);var r=t._capnp.segments.map((function(t){return u.pack(t.buffer,0,a.padToWord(t.byteLength))})),n=e.byteLength+r.reduce((function(t,e){return t+e.byteLength}),0),o=new Uint8Array(new ArrayBuffer(n)),i=e.byteLength;return o.set(new Uint8Array(e)),r.forEach((function(t){o.set(new Uint8Array(t),i),i+=t.byteLength})),o.buffer}function getStreamFrame(t){var e=t._capnp.segments.length;if(0===e)return new Float64Array(1).buffer;var r=new DataView(new ArrayBuffer(4+4*e+4*(1-e%2)));return d("Writing message stream frame with segment count: %d.",e),r.setUint32(0,e-1,!0),t._capnp.segments.forEach((function(t,e){d("Message segment %d word count: %d.",t.id,t.byteLength/8),r.setUint32(4*e+4,t.byteLength/8,!0)})),r.buffer}e.Message=h,e.initMessage=initMessage,e.getFramedSegments=getFramedSegments,e.preallocateSegments=preallocateSegments,e.allocateSegment=allocateSegment,e.dump=dump,e.getRoot=getRoot,e.getSegment=getSegment,e.initRoot=initRoot,e.toArrayBuffer=toArrayBuffer,e.toPackedArrayBuffer=toPackedArrayBuffer,e.getStreamFrame=getStreamFrame},function(t,e,r){var n;function createDebug(t){function debug(){if(debug.enabled){var t=debug,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=e.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;s++;var o=e.formatters[n];if("function"===typeof o){var a=i[s];r=o.call(t,a),i.splice(s,1),s--}return r})),e.formatArgs.call(t,i),(debug.log||e.log||console.log.bind(console)).apply(t,i)}}return debug.namespace=t,debug.enabled=e.enabled(t),debug.useColors=e.useColors(),debug.color=function selectColor(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"===typeof e.init&&e.init(debug),debug}(e=t.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(t){return t instanceof Error?t.stack||t.message:t},e.disable=function disable(){e.enable("")},e.enable=function enable(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"===typeof t?t:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(t=r[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function enabled(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(857),e.names=[],e.skips=[],e.formatters={}},function(t,e){var r=1e3,n=60*r,o=60*n,i=24*o,a=365.25*i;function plural(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function parse(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===s&&!1===isNaN(t))return e.long?function fmtLong(t){return plural(t,i,"day")||plural(t,o,"hour")||plural(t,n,"minute")||plural(t,r,"second")||t+" ms"}(t):function fmtShort(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=n)return Math.round(t/n)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(859);e.Arena=n.Arena;var o=r(199);e.ArenaKind=o.ArenaKind;var i=r(369);e.MultiSegmentArena=i.MultiSegmentArena;var a=r(371);e.SingleSegmentArena=a.SingleSegmentArena},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(78),i=r(199),a=r(369),s=r(371);n.default("capnp:arena")("load");var u=function(){function Arena(){}return Arena.allocate=allocate,Arena.getBuffer=getBuffer,Arena.getNumSegments=getNumSegments,Arena}();function allocate(t,e,r){switch(r.kind){case i.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.allocate(t,r);case i.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.allocate(t,e,r);default:return o.assertNever(r)}}function getBuffer(t,e){switch(e.kind){case i.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.getBuffer(t,e);case i.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.getBuffer(t,e);default:return o.assertNever(e)}}function getNumSegments(t){switch(t.kind){case i.ArenaKind.MULTI_SEGMENT:return a.MultiSegmentArena.getNumSegments(t);case i.ArenaKind.SINGLE_SEGMENT:return s.SingleSegmentArena.getNumSegments();default:return o.assertNever(t)}}e.Arena=u,e.allocate=allocate,e.getBuffer=getBuffer,e.getNumSegments=getNumSegments},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(83),o=r(78);function getHammingWeight(t){var e=t-(t>>1&1431655765);return 16843009*((e=(858993459&e)+(e>>2&858993459))+(e>>4)&252645135)>>24}function getTagByte(t,e,r,n,o,i,a,s){return(0===t?0:1)|(0===e?0:2)|(0===r?0:4)|(0===n?0:8)|(0===o?0:16)|(0===i?0:32)|(0===a?0:64)|(0===s?0:128)}function getUnpackedByteLength(t){for(var e=new Uint8Array(t),r=0,n=119,o=0;o<e.byteLength;){var i=e[o];0===n?(r+=i,o++,n=119):255===n?(r+=i,o+=8*i+1,n=119):(r++,o+=getHammingWeight(i)+1,n=i)}return 8*r}function getZeroByteCount(t,e,r,n,o,i,a,s){return(0===t?1:0)+(0===e?1:0)+(0===r?1:0)+(0===n?1:0)+(0===o?1:0)+(0===i?1:0)+(0===a?1:0)+(0===s?1:0)}e.getHammingWeight=getHammingWeight,e.getTagByte=getTagByte,e.getUnpackedByteLength=getUnpackedByteLength,e.getZeroByteCount=getZeroByteCount,e.pack=function pack(t,e,r){if(void 0===e&&(e=0),t.byteLength%8!==0)throw new Error(o.MSG_PACK_NOT_WORD_ALIGNED);for(var i=new Uint8Array(t,e,r),a=[],s=119,u=NaN,l=0,c=n.PACK_SPAN_THRESHOLD,p=0;p<i.byteLength;p+=8){var f=i[p],d=i[p+1],h=i[p+2],m=i[p+3],y=i[p+4],g=i[p+5],v=i[p+6],_=i[p+7],b=getTagByte(f,d,h,m,y,g,v,_),S=!0;switch(s){case 0:0!==b||l>=255?(a.push(l),l=0,S=!1):l++;break;case 255:(c-=getZeroByteCount(f,d,h,m,y,g,v,_))<=0||l>=255?(a[u]=l,l=0,c=n.PACK_SPAN_THRESHOLD,S=!1):(a.push(f,d,h,m,y,g,v,_),l++);break;default:S=!1}S||(a.push(b),s=b,0!==f&&a.push(f),0!==d&&a.push(d),0!==h&&a.push(h),0!==m&&a.push(m),0!==y&&a.push(y),0!==g&&a.push(g),0!==v&&a.push(v),0!==_&&a.push(_),255===b&&(u=a.length,a.push(0)))}return 0===s?a.push(l):255===s&&(a[u]=l),new Uint8Array(a).buffer},e.unpack=function unpack(t){for(var e=new Uint8Array(t),r=new Uint8Array(new ArrayBuffer(getUnpackedByteLength(t))),n=119,o=0,i=0;o<e.byteLength;){var a=e[o];if(0===n)i+=8*a,o++,n=119;else if(255===n){var s=8*a;r.set(e.subarray(o+1,o+1+s),i),i+=s,o+=1+s,n=119}else{o++;for(var u=1;u<=128;u<<=1)0!==(a&u)&&(r[i]=e[o++]),i++;n=a}}return r.buffer}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(50),o=r(165);e.AnyPointerList=o.PointerList(n.Pointer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(39).default("capnp:pointer-allocation-result")("load");var n=function n(t,e){this.pointer=t,this.offsetWords=e};e.PointerAllocationResult=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function BoolList(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(BoolList,t),BoolList.prototype.get=function(t){var e=1<<t%8,r=t>>>3,n=s.getContent(this);return 0!==(n.segment.getUint8(n.byteOffset+r)&e)},BoolList.prototype.set=function(t,e){var r=1<<t%8,n=s.getContent(this),o=n.byteOffset+(t>>>3),i=n.segment.getUint8(o);n.segment.setUint8(o,e?i|r:i&~r)},BoolList.prototype.toString=function(){return"Bool_"+t.prototype.toString.call(this)},BoolList._capnp={displayName:"List<boolean>",size:i.ListElementSize.BIT},BoolList}(a.List);e.BoolList=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load"),e.CompositeList=function CompositeList(t){return(e=function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(class_1,e),class_1.prototype.get=function(e){return new t(this.segment,this.byteOffset,this._capnp.depthLimit-1,e)},class_1.prototype.set=function(t,e){s.copyFrom(e,this.get(t))},class_1.prototype.toString=function(){return"Composite_"+e.prototype.toString.call(this)+",cls:"+t.toString()},class_1}(a.List))._capnp={compositeSize:t._capnp.size,displayName:"List<"+t._capnp.displayName+">",size:i.ListElementSize.COMPOSITE},e;var e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(265),o=r(165);e.DataList=o.PointerList(n.Data)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Float32List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Float32List,t),Float32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getFloat32(e.byteOffset+4*t)},Float32List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setFloat32(r.byteOffset+4*t,e)},Float32List.prototype.toString=function(){return"Float32_"+t.prototype.toString.call(this)},Float32List._capnp={displayName:"List<Float32>",size:i.ListElementSize.BYTE_4},Float32List}(a.List);e.Float32List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Float64List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Float64List,t),Float64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getFloat64(e.byteOffset+8*t)},Float64List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setFloat64(r.byteOffset+8*t,e)},Float64List.prototype.toString=function(){return"Float64_"+t.prototype.toString.call(this)},Float64List._capnp={displayName:"List<Float64>",size:i.ListElementSize.BYTE_8},Float64List}(a.List);e.Float64List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Int8List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Int8List,t),Int8List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt8(e.byteOffset+t)},Int8List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setInt8(r.byteOffset+t,e)},Int8List.prototype.toString=function(){return"Int8_"+t.prototype.toString.call(this)},Int8List._capnp={displayName:"List<Int8>",size:i.ListElementSize.BYTE},Int8List}(a.List);e.Int8List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Int16List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Int16List,t),Int16List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt16(e.byteOffset+2*t)},Int16List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setInt16(r.byteOffset+2*t,e)},Int16List.prototype.toString=function(){return"Int16_"+t.prototype.toString.call(this)},Int16List._capnp={displayName:"List<Int16>",size:i.ListElementSize.BYTE_2},Int16List}(a.List);e.Int16List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Int32List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Int32List,t),Int32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt32(e.byteOffset+4*t)},Int32List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setInt32(r.byteOffset+4*t,e)},Int32List.prototype.toString=function(){return"Int32_"+t.prototype.toString.call(this)},Int32List._capnp={displayName:"List<Int32>",size:i.ListElementSize.BYTE_4},Int32List}(a.List);e.Int32List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Int64List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Int64List,t),Int64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getInt64(e.byteOffset+8*t)},Int64List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setInt64(r.byteOffset+8*t,e)},Int64List.prototype.toString=function(){return"Int64_"+t.prototype.toString.call(this)},Int64List._capnp={displayName:"List<Int64>",size:i.ListElementSize.BYTE_8},Int64List}(a.List);e.Int64List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(373),o=r(165);e.InterfaceList=o.PointerList(n.Interface)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(83),a=r(79),s=r(374),u=o.default("capnp:int64");u("load");var l=function(t){function Int64(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Int64,t),Int64.fromArrayBuffer=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},Int64.fromDataView=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},Int64.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},Int64.fromHexString=function(t){if("0x"===t.substr(0,2)&&(t=t.substr(2)),t.length<1)return Int64.fromNumber(0);var e="-"===t[0];if(e&&(t=t.substr(1)),16!==(t=a.pad(t,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var r=t.toLowerCase().replace(/[^\da-f]/g,""),n=new Uint8Array(new ArrayBuffer(8)),o=0;o<8;o++)n[7-o]=parseInt(r.substr(2*o,2),16);var i=new Int64(n);return e&&i.negate(),i},Int64.fromUint8Array=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!1),new this(r?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},Int64.prototype.equals=function(e){return t.prototype.equals.call(this,e)},Int64.prototype.inspect=function(){return"[Int64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},Int64.prototype.negate=function(){for(var t=this.buffer,e=1,r=0;r<8;r++){var n=(255^t[r])+e;t[r]=255&n,e=n>>8}},Int64.prototype.setValue=function(t,e){var r=!1,n=t,o=e;if(void 0===o){if(r=(o=n)<0,n=(o=Math.abs(o))%i.VAL32,(o/=i.VAL32)>i.VAL32)throw new RangeError(t+" is outside Int64 range");o>>>=0}for(var a=0;a<8;a++)this.buffer[a]=255&n,n=3===a?o:n>>>8;r&&this.negate()},Int64.prototype.toHexString=function(){var t=this.buffer,e=128&t[7];e&&this.negate();for(var r="",n=7;n>=0;n--){var o=t[n].toString(16);1===o.length&&(o="0"+o),r+=o}return e&&(this.negate(),r="-"+r),r},Int64.prototype.toNumber=function(t){for(var e=this.buffer,r=128&e[7],n=0,o=1,a=0,s=1;a<8;){var l=e[a];r&&(o=(l=(255^l)+o)>>8,l&=255),n+=l*s,s*=256,a++}return!t&&n>=i.MAX_SAFE_INTEGER?(u("Coercing out of range value %d to Infinity.",n),r?-1/0:1/0):r?-n:n},Int64}(s.Uint64);e.Int64=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(268),u=r(50);o.default("capnp:list:composite")("load");var l=function(t){function TextList(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(TextList,t),TextList.prototype.get=function(t){var e=u.getContent(this);return e.byteOffset+=8*t,s.Text.fromPointer(e).get(0)},TextList.prototype.set=function(t,e){var r=u.getContent(this);r.byteOffset+=8*t,s.Text.fromPointer(r).set(0,e)},TextList.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},TextList._capnp={displayName:"List<Text>",size:i.ListElementSize.POINTER},TextList}(a.List);e.TextList=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Uint8List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Uint8List,t),Uint8List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint8(e.byteOffset+t)},Uint8List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setUint8(r.byteOffset+t,e)},Uint8List.prototype.toString=function(){return"Uint8_"+t.prototype.toString.call(this)},Uint8List._capnp={displayName:"List<Uint8>",size:i.ListElementSize.BYTE},Uint8List}(a.List);e.Uint8List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Uint16List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Uint16List,t),Uint16List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint16(e.byteOffset+2*t)},Uint16List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setUint16(r.byteOffset+2*t,e)},Uint16List.prototype.toString=function(){return"Uint16_"+t.prototype.toString.call(this)},Uint16List._capnp={displayName:"List<Uint16>",size:i.ListElementSize.BYTE_2},Uint16List}(a.List);e.Uint16List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Uint32List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Uint32List,t),Uint32List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint32(e.byteOffset+4*t)},Uint32List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setUint32(r.byteOffset+4*t,e)},Uint32List.prototype.toString=function(){return"Uint32_"+t.prototype.toString.call(this)},Uint32List._capnp={displayName:"List<Uint32>",size:i.ListElementSize.BYTE_4},Uint32List}(a.List);e.Uint32List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54),o=r(39),i=r(59),a=r(65),s=r(50);o.default("capnp:list:composite")("load");var u=function(t){function Uint64List(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(Uint64List,t),Uint64List.prototype.get=function(t){var e=s.getContent(this);return e.segment.getUint64(e.byteOffset+8*t)},Uint64List.prototype.set=function(t,e){var r=s.getContent(this);r.segment.setUint64(r.byteOffset+8*t,e)},Uint64List.prototype.toString=function(){return"Uint64_"+t.prototype.toString.call(this)},Uint64List._capnp={displayName:"List<Uint64>",size:i.ListElementSize.BYTE_8},Uint64List}(a.List);e.Uint64List=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(165),o=r(375);e.VoidList=n.PointerList(o.Void)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(39),o=r(83),i=r(78),a=r(267),s=r(79),u=r(264),l=n.default("capnp:segment");l("load");var c=function(){function Segment(t,e,r,n){void 0===n&&(n=0),this[Symbol.toStringTag]="Segment",this.id=t,this.message=e,this.buffer=r,this._dv=new DataView(r),this.byteOffset=0,this.byteLength=n}return Segment.prototype.allocate=function(t){l("allocate(%d)",t);var e=this;if((t=s.padToWord(t))>o.MAX_SEGMENT_LENGTH-8)throw new Error(s.format(i.SEG_SIZE_OVERFLOW,t));e.hasCapacity(t)||(e=e.message.allocateSegment(t));var r=e.byteLength;return e.byteLength=e.byteLength+t,l("Allocated %x bytes in %s (requested segment: %s).",t,this,e),new u.Pointer(e,r)},Segment.prototype.copyWord=function(t,e,r){var n=e._dv.getFloat64(r,o.NATIVE_LITTLE_ENDIAN);this._dv.setFloat64(t,n,o.NATIVE_LITTLE_ENDIAN)},Segment.prototype.copyWords=function(t,e,r,n){var o=new Float64Array(this.buffer,t,n),i=new Float64Array(e.buffer,r,n);o.set(i)},Segment.prototype.fillZeroWords=function(t,e){new Float64Array(this.buffer,t,e).fill(0)},Segment.prototype.getCapacity=function(){return this.buffer.byteLength},Segment.prototype.getFloat32=function(t){return this._dv.getFloat32(t,!0)},Segment.prototype.getFloat64=function(t){return this._dv.getFloat64(t,!0)},Segment.prototype.getInt16=function(t){return this._dv.getInt16(t,!0)},Segment.prototype.getInt32=function(t){return this._dv.getInt32(t,!0)},Segment.prototype.getInt64=function(t){return new a.Int64(new Uint8Array(this.buffer.slice(t,t+8)))},Segment.prototype.getInt8=function(t){return this._dv.getInt8(t)},Segment.prototype.getUint16=function(t){return this._dv.getUint16(t,!0)},Segment.prototype.getUint32=function(t){return this._dv.getUint32(t,!0)},Segment.prototype.getUint64=function(t){return new a.Uint64(new Uint8Array(this.buffer.slice(t,t+8)))},Segment.prototype.getUint8=function(t){return this._dv.getUint8(t)},Segment.prototype.hasCapacity=function(t){return l("hasCapacity(%d)",t),this.buffer.byteLength-this.byteLength>=t},Segment.prototype.isWordZero=function(t){return 0===this._dv.getFloat64(t,o.NATIVE_LITTLE_ENDIAN)},Segment.prototype.replaceBuffer=function(t){if(l("replaceBuffer(%p)",t),this.buffer!==t){if(t.byteLength<this.byteLength)throw new Error(i.SEG_REPLACEMENT_BUFFER_TOO_SMALL);this._dv=new DataView(t),this.buffer=t}},Segment.prototype.setFloat32=function(t,e){this._dv.setFloat32(t,e,!0)},Segment.prototype.setFloat64=function(t,e){this._dv.setFloat64(t,e,!0)},Segment.prototype.setInt16=function(t,e){this._dv.setInt16(t,e,!0)},Segment.prototype.setInt32=function(t,e){this._dv.setInt32(t,e,!0)},Segment.prototype.setInt8=function(t,e){this._dv.setInt8(t,e)},Segment.prototype.setInt64=function(t,e){this._dv.setUint8(t,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},Segment.prototype.setUint16=function(t,e){this._dv.setUint16(t,e,!0)},Segment.prototype.setUint32=function(t,e){this._dv.setUint32(t,e,!0)},Segment.prototype.setUint64=function(t,e){this._dv.setUint8(t+0,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},Segment.prototype.setUint8=function(t,e){this._dv.setUint8(t,e)},Segment.prototype.setWordZero=function(t){this._dv.setFloat64(t,0,o.NATIVE_LITTLE_ENDIAN)},Segment.prototype.toString=function(){return s.format("Segment_id:%d,off:%a,len:%a,cap:%a",this.id,this.byteLength,this.byteOffset,this.buffer.byteLength)},Segment}();e.Segment=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function __(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}();e.__esModule=!0;var o,i=r(80),a=r(80);e._capnpFileId="8e2af1e708af8b8d",function(t){t[t.CAN_ERROR=0]="CAN_ERROR",t[t.STEER_UNAVAILABLE=1]="STEER_UNAVAILABLE",t[t.BRAKE_UNAVAILABLE=2]="BRAKE_UNAVAILABLE",t[t.GAS_UNAVAILABLE=3]="GAS_UNAVAILABLE",t[t.WRONG_GEAR=4]="WRONG_GEAR",t[t.DOOR_OPEN=5]="DOOR_OPEN",t[t.SEATBELT_NOT_LATCHED=6]="SEATBELT_NOT_LATCHED",t[t.ESP_DISABLED=7]="ESP_DISABLED",t[t.WRONG_CAR_MODE=8]="WRONG_CAR_MODE",t[t.STEER_TEMP_UNAVAILABLE=9]="STEER_TEMP_UNAVAILABLE",t[t.REVERSE_GEAR=10]="REVERSE_GEAR",t[t.BUTTON_CANCEL=11]="BUTTON_CANCEL",t[t.BUTTON_ENABLE=12]="BUTTON_ENABLE",t[t.PEDAL_PRESSED=13]="PEDAL_PRESSED",t[t.CRUISE_DISABLED=14]="CRUISE_DISABLED",t[t.RADAR_CAN_ERROR=15]="RADAR_CAN_ERROR",t[t.DATA_NEEDED=16]="DATA_NEEDED",t[t.SPEED_TOO_LOW=17]="SPEED_TOO_LOW",t[t.OUT_OF_SPACE=18]="OUT_OF_SPACE",t[t.OVERHEAT=19]="OVERHEAT",t[t.CALIBRATION_INCOMPLETE=20]="CALIBRATION_INCOMPLETE",t[t.CALIBRATION_INVALID=21]="CALIBRATION_INVALID",t[t.CONTROLS_MISMATCH=22]="CONTROLS_MISMATCH",t[t.PCM_ENABLE=23]="PCM_ENABLE",t[t.PCM_DISABLE=24]="PCM_DISABLE",t[t.NO_TARGET=25]="NO_TARGET",t[t.RADAR_FAULT=26]="RADAR_FAULT",t[t.MODEL_COMM_ISSUE_DEPRECATED=27]="MODEL_COMM_ISSUE_DEPRECATED",t[t.BRAKE_HOLD=28]="BRAKE_HOLD",t[t.PARK_BRAKE=29]="PARK_BRAKE",t[t.MANUAL_RESTART=30]="MANUAL_RESTART",t[t.LOW_SPEED_LOCKOUT=31]="LOW_SPEED_LOCKOUT",t[t.PLANNER_ERROR=32]="PLANNER_ERROR",t[t.IPAS_OVERRIDE=33]="IPAS_OVERRIDE",t[t.DEBUG_ALERT=34]="DEBUG_ALERT",t[t.STEER_TEMP_UNAVAILABLE_MUTE=35]="STEER_TEMP_UNAVAILABLE_MUTE",t[t.RESUME_REQUIRED=36]="RESUME_REQUIRED",t[t.PRE_DRIVER_DISTRACTED=37]="PRE_DRIVER_DISTRACTED",t[t.PROMPT_DRIVER_DISTRACTED=38]="PROMPT_DRIVER_DISTRACTED",t[t.DRIVER_DISTRACTED=39]="DRIVER_DISTRACTED",t[t.GEOFENCE=40]="GEOFENCE",t[t.DRIVER_MONITOR_ON=41]="DRIVER_MONITOR_ON",t[t.DRIVER_MONITOR_OFF=42]="DRIVER_MONITOR_OFF",t[t.PRE_DRIVER_UNRESPONSIVE=43]="PRE_DRIVER_UNRESPONSIVE",t[t.PROMPT_DRIVER_UNRESPONSIVE=44]="PROMPT_DRIVER_UNRESPONSIVE",t[t.DRIVER_UNRESPONSIVE=45]="DRIVER_UNRESPONSIVE",t[t.BELOW_STEER_SPEED=46]="BELOW_STEER_SPEED",t[t.CALIBRATION_PROGRESS=47]="CALIBRATION_PROGRESS",t[t.LOW_BATTERY=48]="LOW_BATTERY",t[t.INVALID_GIRAFFE_HONDA=49]="INVALID_GIRAFFE_HONDA",t[t.VEHICLE_MODEL_INVALID=50]="VEHICLE_MODEL_INVALID",t[t.CONTROLS_FAILED=51]="CONTROLS_FAILED",t[t.SENSOR_DATA_INVALID=52]="SENSOR_DATA_INVALID",t[t.COMM_ISSUE=53]="COMM_ISSUE",t[t.TOO_DISTRACTED=54]="TOO_DISTRACTED",t[t.POSENET_INVALID=55]="POSENET_INVALID",t[t.SOUNDS_UNAVAILABLE=56]="SOUNDS_UNAVAILABLE"}(o=e.CarEvent_EventName||(e.CarEvent_EventName={}));var s=function(t){function CarEvent(){return null!==t&&t.apply(this,arguments)||this}return n(CarEvent,t),CarEvent.prototype.getName=function(){return a.Struct.getUint16(0,this)},CarEvent.prototype.setName=function(t){a.Struct.setUint16(0,t,this)},CarEvent.prototype.getEnable=function(){return a.Struct.getBit(16,this)},CarEvent.prototype.setEnable=function(t){a.Struct.setBit(16,t,this)},CarEvent.prototype.getNoEntry=function(){return a.Struct.getBit(17,this)},CarEvent.prototype.setNoEntry=function(t){a.Struct.setBit(17,t,this)},CarEvent.prototype.getWarning=function(){return a.Struct.getBit(18,this)},CarEvent.prototype.setWarning=function(t){a.Struct.setBit(18,t,this)},CarEvent.prototype.getUserDisable=function(){return a.Struct.getBit(19,this)},CarEvent.prototype.setUserDisable=function(t){a.Struct.setBit(19,t,this)},CarEvent.prototype.getSoftDisable=function(){return a.Struct.getBit(20,this)},CarEvent.prototype.setSoftDisable=function(t){a.Struct.setBit(20,t,this)},CarEvent.prototype.getImmediateDisable=function(){return a.Struct.getBit(21,this)},CarEvent.prototype.setImmediateDisable=function(t){a.Struct.setBit(21,t,this)},CarEvent.prototype.getPreEnable=function(){return a.Struct.getBit(22,this)},CarEvent.prototype.setPreEnable=function(t){a.Struct.setBit(22,t,this)},CarEvent.prototype.getPermanent=function(){return a.Struct.getBit(23,this)},CarEvent.prototype.setPermanent=function(t){a.Struct.setBit(23,t,this)},CarEvent.prototype.toString=function(){return"CarEvent_"+t.prototype.toString.call(this)},CarEvent.EventName=o,CarEvent._capnp={displayName:"CarEvent",id:"9b1657f34caf3ad3",size:new a.ObjectSize(8,0)},CarEvent}(a.Struct);e.CarEvent=s;var u=function(t){function CarState_WheelSpeeds(){return null!==t&&t.apply(this,arguments)||this}return n(CarState_WheelSpeeds,t),CarState_WheelSpeeds.prototype.getFl=function(){return a.Struct.getFloat32(0,this)},CarState_WheelSpeeds.prototype.setFl=function(t){a.Struct.setFloat32(0,t,this)},CarState_WheelSpeeds.prototype.getFr=function(){return a.Struct.getFloat32(4,this)},CarState_WheelSpeeds.prototype.setFr=function(t){a.Struct.setFloat32(4,t,this)},CarState_WheelSpeeds.prototype.getRl=function(){return a.Struct.getFloat32(8,this)},CarState_WheelSpeeds.prototype.setRl=function(t){a.Struct.setFloat32(8,t,this)},CarState_WheelSpeeds.prototype.getRr=function(){return a.Struct.getFloat32(12,this)},CarState_WheelSpeeds.prototype.setRr=function(t){a.Struct.setFloat32(12,t,this)},CarState_WheelSpeeds.prototype.toString=function(){return"CarState_WheelSpeeds_"+t.prototype.toString.call(this)},CarState_WheelSpeeds._capnp={displayName:"WheelSpeeds",id:"991a37a6155935a3",size:new a.ObjectSize(16,0)},CarState_WheelSpeeds}(a.Struct);e.CarState_WheelSpeeds=u;var l,c,p=function(t){function CarState_CruiseState(){return null!==t&&t.apply(this,arguments)||this}return n(CarState_CruiseState,t),CarState_CruiseState.prototype.getEnabled=function(){return a.Struct.getBit(0,this)},CarState_CruiseState.prototype.setEnabled=function(t){a.Struct.setBit(0,t,this)},CarState_CruiseState.prototype.getSpeed=function(){return a.Struct.getFloat32(4,this)},CarState_CruiseState.prototype.setSpeed=function(t){a.Struct.setFloat32(4,t,this)},CarState_CruiseState.prototype.getAvailable=function(){return a.Struct.getBit(1,this)},CarState_CruiseState.prototype.setAvailable=function(t){a.Struct.setBit(1,t,this)},CarState_CruiseState.prototype.getSpeedOffset=function(){return a.Struct.getFloat32(8,this)},CarState_CruiseState.prototype.setSpeedOffset=function(t){a.Struct.setFloat32(8,t,this)},CarState_CruiseState.prototype.getStandstill=function(){return a.Struct.getBit(2,this)},CarState_CruiseState.prototype.setStandstill=function(t){a.Struct.setBit(2,t,this)},CarState_CruiseState.prototype.toString=function(){return"CarState_CruiseState_"+t.prototype.toString.call(this)},CarState_CruiseState._capnp={displayName:"CruiseState",id:"e64e81478e6e60af",size:new a.ObjectSize(16,0)},CarState_CruiseState}(a.Struct);e.CarState_CruiseState=p,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.PARK=1]="PARK",t[t.DRIVE=2]="DRIVE",t[t.NEUTRAL=3]="NEUTRAL",t[t.REVERSE=4]="REVERSE",t[t.SPORT=5]="SPORT",t[t.LOW=6]="LOW",t[t.BRAKE=7]="BRAKE"}(l=e.CarState_GearShifter||(e.CarState_GearShifter={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.LEFT_BLINKER=1]="LEFT_BLINKER",t[t.RIGHT_BLINKER=2]="RIGHT_BLINKER",t[t.ACCEL_CRUISE=3]="ACCEL_CRUISE",t[t.DECEL_CRUISE=4]="DECEL_CRUISE",t[t.CANCEL=5]="CANCEL",t[t.ALT_BUTTON1=6]="ALT_BUTTON1",t[t.ALT_BUTTON2=7]="ALT_BUTTON2",t[t.ALT_BUTTON3=8]="ALT_BUTTON3"}(c=e.CarState_ButtonEvent_Type||(e.CarState_ButtonEvent_Type={}));var f=function(t){function CarState_ButtonEvent(){return null!==t&&t.apply(this,arguments)||this}return n(CarState_ButtonEvent,t),CarState_ButtonEvent.prototype.getPressed=function(){return a.Struct.getBit(0,this)},CarState_ButtonEvent.prototype.setPressed=function(t){a.Struct.setBit(0,t,this)},CarState_ButtonEvent.prototype.getType=function(){return a.Struct.getUint16(2,this)},CarState_ButtonEvent.prototype.setType=function(t){a.Struct.setUint16(2,t,this)},CarState_ButtonEvent.prototype.toString=function(){return"CarState_ButtonEvent_"+t.prototype.toString.call(this)},CarState_ButtonEvent.Type=c,CarState_ButtonEvent._capnp={displayName:"ButtonEvent",id:"ff5ca6835b4acef6",size:new a.ObjectSize(8,0)},CarState_ButtonEvent}(a.Struct);e.CarState_ButtonEvent=f;var d,h=function(t){function CarState(){return null!==t&&t.apply(this,arguments)||this}return n(CarState,t),CarState.prototype.adoptErrorsDEPRECATED=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},CarState.prototype.disownErrorsDEPRECATED=function(){return a.Struct.disown(this.getErrorsDEPRECATED())},CarState.prototype.getErrorsDEPRECATED=function(){return a.Struct.getList(0,i.Uint16List,this)},CarState.prototype.hasErrorsDEPRECATED=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},CarState.prototype.initErrorsDEPRECATED=function(t){return a.Struct.initList(0,i.Uint16List,t,this)},CarState.prototype.setErrorsDEPRECATED=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},CarState.prototype.adoptEvents=function(t){a.Struct.adopt(t,a.Struct.getPointer(5,this))},CarState.prototype.disownEvents=function(){return a.Struct.disown(this.getEvents())},CarState.prototype.getEvents=function(){return a.Struct.getList(5,CarState._Events,this)},CarState.prototype.hasEvents=function(){return!a.Struct.isNull(a.Struct.getPointer(5,this))},CarState.prototype.initEvents=function(t){return a.Struct.initList(5,CarState._Events,t,this)},CarState.prototype.setEvents=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(5,this))},CarState.prototype.getVEgo=function(){return a.Struct.getFloat32(0,this)},CarState.prototype.setVEgo=function(t){a.Struct.setFloat32(0,t,this)},CarState.prototype.getAEgo=function(){return a.Struct.getFloat32(28,this)},CarState.prototype.setAEgo=function(t){a.Struct.setFloat32(28,t,this)},CarState.prototype.getVEgoRaw=function(){return a.Struct.getFloat32(32,this)},CarState.prototype.setVEgoRaw=function(t){a.Struct.setFloat32(32,t,this)},CarState.prototype.getYawRate=function(){return a.Struct.getFloat32(36,this)},CarState.prototype.setYawRate=function(t){a.Struct.setFloat32(36,t,this)},CarState.prototype.getStandstill=function(){return a.Struct.getBit(67,this)},CarState.prototype.setStandstill=function(t){a.Struct.setBit(67,t,this)},CarState.prototype.adoptWheelSpeeds=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},CarState.prototype.disownWheelSpeeds=function(){return a.Struct.disown(this.getWheelSpeeds())},CarState.prototype.getWheelSpeeds=function(){return a.Struct.getStruct(1,u,this)},CarState.prototype.hasWheelSpeeds=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},CarState.prototype.initWheelSpeeds=function(){return a.Struct.initStructAt(1,u,this)},CarState.prototype.setWheelSpeeds=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},CarState.prototype.getGas=function(){return a.Struct.getFloat32(4,this)},CarState.prototype.setGas=function(t){a.Struct.setFloat32(4,t,this)},CarState.prototype.getGasPressed=function(){return a.Struct.getBit(64,this)},CarState.prototype.setGasPressed=function(t){a.Struct.setBit(64,t,this)},CarState.prototype.getBrake=function(){return a.Struct.getFloat32(12,this)},CarState.prototype.setBrake=function(t){a.Struct.setFloat32(12,t,this)},CarState.prototype.getBrakePressed=function(){return a.Struct.getBit(65,this)},CarState.prototype.setBrakePressed=function(t){a.Struct.setBit(65,t,this)},CarState.prototype.getBrakeLights=function(){return a.Struct.getBit(68,this)},CarState.prototype.setBrakeLights=function(t){a.Struct.setBit(68,t,this)},CarState.prototype.getSteeringAngle=function(){return a.Struct.getFloat32(16,this)},CarState.prototype.setSteeringAngle=function(t){a.Struct.setFloat32(16,t,this)},CarState.prototype.getSteeringRate=function(){return a.Struct.getFloat32(24,this)},CarState.prototype.setSteeringRate=function(t){a.Struct.setFloat32(24,t,this)},CarState.prototype.getSteeringTorque=function(){return a.Struct.getFloat32(20,this)},CarState.prototype.setSteeringTorque=function(t){a.Struct.setFloat32(20,t,this)},CarState.prototype.getSteeringTorqueEps=function(){return a.Struct.getFloat32(40,this)},CarState.prototype.setSteeringTorqueEps=function(t){a.Struct.setFloat32(40,t,this)},CarState.prototype.getSteeringPressed=function(){return a.Struct.getBit(66,this)},CarState.prototype.setSteeringPressed=function(t){a.Struct.setBit(66,t,this)},CarState.prototype.adoptCruiseState=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarState.prototype.disownCruiseState=function(){return a.Struct.disown(this.getCruiseState())},CarState.prototype.getCruiseState=function(){return a.Struct.getStruct(2,p,this)},CarState.prototype.hasCruiseState=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarState.prototype.initCruiseState=function(){return a.Struct.initStructAt(2,p,this)},CarState.prototype.setCruiseState=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarState.prototype.getGearShifter=function(){return a.Struct.getUint16(10,this)},CarState.prototype.setGearShifter=function(t){a.Struct.setUint16(10,t,this)},CarState.prototype.adoptButtonEvents=function(t){a.Struct.adopt(t,a.Struct.getPointer(3,this))},CarState.prototype.disownButtonEvents=function(){return a.Struct.disown(this.getButtonEvents())},CarState.prototype.getButtonEvents=function(){return a.Struct.getList(3,CarState._ButtonEvents,this)},CarState.prototype.hasButtonEvents=function(){return!a.Struct.isNull(a.Struct.getPointer(3,this))},CarState.prototype.initButtonEvents=function(t){return a.Struct.initList(3,CarState._ButtonEvents,t,this)},CarState.prototype.setButtonEvents=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(3,this))},CarState.prototype.getLeftBlinker=function(){return a.Struct.getBit(69,this)},CarState.prototype.setLeftBlinker=function(t){a.Struct.setBit(69,t,this)},CarState.prototype.getRightBlinker=function(){return a.Struct.getBit(70,this)},CarState.prototype.setRightBlinker=function(t){a.Struct.setBit(70,t,this)},CarState.prototype.getGenericToggle=function(){return a.Struct.getBit(71,this)},CarState.prototype.setGenericToggle=function(t){a.Struct.setBit(71,t,this)},CarState.prototype.getDoorOpen=function(){return a.Struct.getBit(72,this)},CarState.prototype.setDoorOpen=function(t){a.Struct.setBit(72,t,this)},CarState.prototype.getSeatbeltUnlatched=function(){return a.Struct.getBit(73,this)},CarState.prototype.setSeatbeltUnlatched=function(t){a.Struct.setBit(73,t,this)},CarState.prototype.getCanValid=function(){return a.Struct.getBit(74,this)},CarState.prototype.setCanValid=function(t){a.Struct.setBit(74,t,this)},CarState.prototype.adoptCanMonoTimes=function(t){a.Struct.adopt(t,a.Struct.getPointer(4,this))},CarState.prototype.disownCanMonoTimes=function(){return a.Struct.disown(this.getCanMonoTimes())},CarState.prototype.getCanMonoTimes=function(){return a.Struct.getList(4,i.Uint64List,this)},CarState.prototype.hasCanMonoTimes=function(){return!a.Struct.isNull(a.Struct.getPointer(4,this))},CarState.prototype.initCanMonoTimes=function(t){return a.Struct.initList(4,i.Uint64List,t,this)},CarState.prototype.setCanMonoTimes=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(4,this))},CarState.prototype.toString=function(){return"CarState_"+t.prototype.toString.call(this)},CarState.WheelSpeeds=u,CarState.CruiseState=p,CarState.GearShifter=l,CarState.ButtonEvent=f,CarState._capnp={displayName:"CarState",id:"9da4fa09e052903c",size:new a.ObjectSize(48,6)},CarState}(a.Struct);e.CarState=h,function(t){t[t.CAN_ERROR=0]="CAN_ERROR",t[t.FAULT=1]="FAULT",t[t.WRONG_CONFIG=2]="WRONG_CONFIG"}(d=e.RadarData_Error||(e.RadarData_Error={}));var m=function(t){function RadarData_RadarPoint(){return null!==t&&t.apply(this,arguments)||this}return n(RadarData_RadarPoint,t),RadarData_RadarPoint.prototype.getTrackId=function(){return a.Struct.getUint64(0,this)},RadarData_RadarPoint.prototype.setTrackId=function(t){a.Struct.setUint64(0,t,this)},RadarData_RadarPoint.prototype.getDRel=function(){return a.Struct.getFloat32(8,this)},RadarData_RadarPoint.prototype.setDRel=function(t){a.Struct.setFloat32(8,t,this)},RadarData_RadarPoint.prototype.getYRel=function(){return a.Struct.getFloat32(12,this)},RadarData_RadarPoint.prototype.setYRel=function(t){a.Struct.setFloat32(12,t,this)},RadarData_RadarPoint.prototype.getVRel=function(){return a.Struct.getFloat32(16,this)},RadarData_RadarPoint.prototype.setVRel=function(t){a.Struct.setFloat32(16,t,this)},RadarData_RadarPoint.prototype.getARel=function(){return a.Struct.getFloat32(20,this)},RadarData_RadarPoint.prototype.setARel=function(t){a.Struct.setFloat32(20,t,this)},RadarData_RadarPoint.prototype.getYvRel=function(){return a.Struct.getFloat32(24,this)},RadarData_RadarPoint.prototype.setYvRel=function(t){a.Struct.setFloat32(24,t,this)},RadarData_RadarPoint.prototype.getMeasured=function(){return a.Struct.getBit(224,this)},RadarData_RadarPoint.prototype.setMeasured=function(t){a.Struct.setBit(224,t,this)},RadarData_RadarPoint.prototype.toString=function(){return"RadarData_RadarPoint_"+t.prototype.toString.call(this)},RadarData_RadarPoint._capnp={displayName:"RadarPoint",id:"8ff333ebac1fdf36",size:new a.ObjectSize(32,0)},RadarData_RadarPoint}(a.Struct);e.RadarData_RadarPoint=m;var y=function(t){function RadarData(){return null!==t&&t.apply(this,arguments)||this}return n(RadarData,t),RadarData.prototype.adoptErrors=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},RadarData.prototype.disownErrors=function(){return a.Struct.disown(this.getErrors())},RadarData.prototype.getErrors=function(){return a.Struct.getList(0,i.Uint16List,this)},RadarData.prototype.hasErrors=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},RadarData.prototype.initErrors=function(t){return a.Struct.initList(0,i.Uint16List,t,this)},RadarData.prototype.setErrors=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},RadarData.prototype.adoptPoints=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},RadarData.prototype.disownPoints=function(){return a.Struct.disown(this.getPoints())},RadarData.prototype.getPoints=function(){return a.Struct.getList(1,RadarData._Points,this)},RadarData.prototype.hasPoints=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},RadarData.prototype.initPoints=function(t){return a.Struct.initList(1,RadarData._Points,t,this)},RadarData.prototype.setPoints=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},RadarData.prototype.adoptCanMonoTimes=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},RadarData.prototype.disownCanMonoTimes=function(){return a.Struct.disown(this.getCanMonoTimes())},RadarData.prototype.getCanMonoTimes=function(){return a.Struct.getList(2,i.Uint64List,this)},RadarData.prototype.hasCanMonoTimes=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},RadarData.prototype.initCanMonoTimes=function(t){return a.Struct.initList(2,i.Uint64List,t,this)},RadarData.prototype.setCanMonoTimes=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},RadarData.prototype.toString=function(){return"RadarData_"+t.prototype.toString.call(this)},RadarData.Error=d,RadarData.RadarPoint=m,RadarData._capnp={displayName:"RadarData",id:"888ad6581cf0aacb",size:new a.ObjectSize(0,3)},RadarData}(a.Struct);e.RadarData=y;var g=function(t){function CarControl_Actuators(){return null!==t&&t.apply(this,arguments)||this}return n(CarControl_Actuators,t),CarControl_Actuators.prototype.getGas=function(){return a.Struct.getFloat32(0,this)},CarControl_Actuators.prototype.setGas=function(t){a.Struct.setFloat32(0,t,this)},CarControl_Actuators.prototype.getBrake=function(){return a.Struct.getFloat32(4,this)},CarControl_Actuators.prototype.setBrake=function(t){a.Struct.setFloat32(4,t,this)},CarControl_Actuators.prototype.getSteer=function(){return a.Struct.getFloat32(8,this)},CarControl_Actuators.prototype.setSteer=function(t){a.Struct.setFloat32(8,t,this)},CarControl_Actuators.prototype.getSteerAngle=function(){return a.Struct.getFloat32(12,this)},CarControl_Actuators.prototype.setSteerAngle=function(t){a.Struct.setFloat32(12,t,this)},CarControl_Actuators.prototype.toString=function(){return"CarControl_Actuators_"+t.prototype.toString.call(this)},CarControl_Actuators._capnp={displayName:"Actuators",id:"e97275a919432828",size:new a.ObjectSize(16,0)},CarControl_Actuators}(a.Struct);e.CarControl_Actuators=g;var v,_,b=function(t){function CarControl_CruiseControl(){return null!==t&&t.apply(this,arguments)||this}return n(CarControl_CruiseControl,t),CarControl_CruiseControl.prototype.getCancel=function(){return a.Struct.getBit(0,this)},CarControl_CruiseControl.prototype.setCancel=function(t){a.Struct.setBit(0,t,this)},CarControl_CruiseControl.prototype.getOverride=function(){return a.Struct.getBit(1,this)},CarControl_CruiseControl.prototype.setOverride=function(t){a.Struct.setBit(1,t,this)},CarControl_CruiseControl.prototype.getSpeedOverride=function(){return a.Struct.getFloat32(4,this)},CarControl_CruiseControl.prototype.setSpeedOverride=function(t){a.Struct.setFloat32(4,t,this)},CarControl_CruiseControl.prototype.getAccelOverride=function(){return a.Struct.getFloat32(8,this)},CarControl_CruiseControl.prototype.setAccelOverride=function(t){a.Struct.setFloat32(8,t,this)},CarControl_CruiseControl.prototype.toString=function(){return"CarControl_CruiseControl_"+t.prototype.toString.call(this)},CarControl_CruiseControl._capnp={displayName:"CruiseControl",id:"b20e386e0e0ba8d3",size:new a.ObjectSize(16,0)},CarControl_CruiseControl}(a.Struct);e.CarControl_CruiseControl=b,function(t){t[t.NONE=0]="NONE",t[t.FCW=1]="FCW",t[t.STEER_REQUIRED=2]="STEER_REQUIRED",t[t.BRAKE_PRESSED=3]="BRAKE_PRESSED",t[t.WRONG_GEAR=4]="WRONG_GEAR",t[t.SEATBELT_UNBUCKLED=5]="SEATBELT_UNBUCKLED",t[t.SPEED_TOO_HIGH=6]="SPEED_TOO_HIGH"}(v=e.CarControl_HUDControl_VisualAlert||(e.CarControl_HUDControl_VisualAlert={})),function(t){t[t.NONE=0]="NONE",t[t.CHIME_ENGAGE=1]="CHIME_ENGAGE",t[t.CHIME_DISENGAGE=2]="CHIME_DISENGAGE",t[t.CHIME_ERROR=3]="CHIME_ERROR",t[t.CHIME_WARNING1=4]="CHIME_WARNING1",t[t.CHIME_WARNING2=5]="CHIME_WARNING2",t[t.CHIME_WARNING_REPEAT=6]="CHIME_WARNING_REPEAT",t[t.CHIME_PROMPT=7]="CHIME_PROMPT"}(_=e.CarControl_HUDControl_AudibleAlert||(e.CarControl_HUDControl_AudibleAlert={}));var S=function(t){function CarControl_HUDControl(){return null!==t&&t.apply(this,arguments)||this}return n(CarControl_HUDControl,t),CarControl_HUDControl.prototype.getSpeedVisible=function(){return a.Struct.getBit(0,this)},CarControl_HUDControl.prototype.setSpeedVisible=function(t){a.Struct.setBit(0,t,this)},CarControl_HUDControl.prototype.getSetSpeed=function(){return a.Struct.getFloat32(4,this)},CarControl_HUDControl.prototype.setSetSpeed=function(t){a.Struct.setFloat32(4,t,this)},CarControl_HUDControl.prototype.getLanesVisible=function(){return a.Struct.getBit(1,this)},CarControl_HUDControl.prototype.setLanesVisible=function(t){a.Struct.setBit(1,t,this)},CarControl_HUDControl.prototype.getLeadVisible=function(){return a.Struct.getBit(2,this)},CarControl_HUDControl.prototype.setLeadVisible=function(t){a.Struct.setBit(2,t,this)},CarControl_HUDControl.prototype.getVisualAlert=function(){return a.Struct.getUint16(2,this)},CarControl_HUDControl.prototype.setVisualAlert=function(t){a.Struct.setUint16(2,t,this)},CarControl_HUDControl.prototype.getAudibleAlert=function(){return a.Struct.getUint16(8,this)},CarControl_HUDControl.prototype.setAudibleAlert=function(t){a.Struct.setUint16(8,t,this)},CarControl_HUDControl.prototype.getRightLaneVisible=function(){return a.Struct.getBit(3,this)},CarControl_HUDControl.prototype.setRightLaneVisible=function(t){a.Struct.setBit(3,t,this)},CarControl_HUDControl.prototype.getLeftLaneVisible=function(){return a.Struct.getBit(4,this)},CarControl_HUDControl.prototype.setLeftLaneVisible=function(t){a.Struct.setBit(4,t,this)},CarControl_HUDControl.prototype.getRightLaneDepart=function(){return a.Struct.getBit(5,this)},CarControl_HUDControl.prototype.setRightLaneDepart=function(t){a.Struct.setBit(5,t,this)},CarControl_HUDControl.prototype.getLeftLaneDepart=function(){return a.Struct.getBit(6,this)},CarControl_HUDControl.prototype.setLeftLaneDepart=function(t){a.Struct.setBit(6,t,this)},CarControl_HUDControl.prototype.toString=function(){return"CarControl_HUDControl_"+t.prototype.toString.call(this)},CarControl_HUDControl.VisualAlert=v,CarControl_HUDControl.AudibleAlert=_,CarControl_HUDControl._capnp={displayName:"HUDControl",id:"d895c87c4eb03a38",size:new a.ObjectSize(16,0)},CarControl_HUDControl}(a.Struct);e.CarControl_HUDControl=S;var x=function(t){function CarControl(){return null!==t&&t.apply(this,arguments)||this}return n(CarControl,t),CarControl.prototype.getEnabled=function(){return a.Struct.getBit(0,this)},CarControl.prototype.setEnabled=function(t){a.Struct.setBit(0,t,this)},CarControl.prototype.getActive=function(){return a.Struct.getBit(1,this)},CarControl.prototype.setActive=function(t){a.Struct.setBit(1,t,this)},CarControl.prototype.getGasDEPRECATED=function(){return a.Struct.getFloat32(4,this)},CarControl.prototype.setGasDEPRECATED=function(t){a.Struct.setFloat32(4,t,this)},CarControl.prototype.getBrakeDEPRECATED=function(){return a.Struct.getFloat32(8,this)},CarControl.prototype.setBrakeDEPRECATED=function(t){a.Struct.setFloat32(8,t,this)},CarControl.prototype.getSteeringTorqueDEPRECATED=function(){return a.Struct.getFloat32(12,this)},CarControl.prototype.setSteeringTorqueDEPRECATED=function(t){a.Struct.setFloat32(12,t,this)},CarControl.prototype.adoptActuators=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarControl.prototype.disownActuators=function(){return a.Struct.disown(this.getActuators())},CarControl.prototype.getActuators=function(){return a.Struct.getStruct(2,g,this)},CarControl.prototype.hasActuators=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarControl.prototype.initActuators=function(){return a.Struct.initStructAt(2,g,this)},CarControl.prototype.setActuators=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarControl.prototype.adoptCruiseControl=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},CarControl.prototype.disownCruiseControl=function(){return a.Struct.disown(this.getCruiseControl())},CarControl.prototype.getCruiseControl=function(){return a.Struct.getStruct(0,b,this)},CarControl.prototype.hasCruiseControl=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},CarControl.prototype.initCruiseControl=function(){return a.Struct.initStructAt(0,b,this)},CarControl.prototype.setCruiseControl=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},CarControl.prototype.adoptHudControl=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},CarControl.prototype.disownHudControl=function(){return a.Struct.disown(this.getHudControl())},CarControl.prototype.getHudControl=function(){return a.Struct.getStruct(1,S,this)},CarControl.prototype.hasHudControl=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},CarControl.prototype.initHudControl=function(){return a.Struct.initStructAt(1,S,this)},CarControl.prototype.setHudControl=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},CarControl.prototype.toString=function(){return"CarControl_"+t.prototype.toString.call(this)},CarControl.Actuators=g,CarControl.CruiseControl=b,CarControl.HUDControl=S,CarControl._capnp={displayName:"CarControl",id:"f78829049ab814af",size:new a.ObjectSize(16,3)},CarControl}(a.Struct);e.CarControl=x;var w=function(t){function CarParams_LateralPIDTuning(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams_LateralPIDTuning,t),CarParams_LateralPIDTuning.prototype.adoptKpBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},CarParams_LateralPIDTuning.prototype.disownKpBP=function(){return a.Struct.disown(this.getKpBP())},CarParams_LateralPIDTuning.prototype.getKpBP=function(){return a.Struct.getList(0,i.Float32List,this)},CarParams_LateralPIDTuning.prototype.hasKpBP=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},CarParams_LateralPIDTuning.prototype.initKpBP=function(t){return a.Struct.initList(0,i.Float32List,t,this)},CarParams_LateralPIDTuning.prototype.setKpBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},CarParams_LateralPIDTuning.prototype.adoptKpV=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},CarParams_LateralPIDTuning.prototype.disownKpV=function(){return a.Struct.disown(this.getKpV())},CarParams_LateralPIDTuning.prototype.getKpV=function(){return a.Struct.getList(1,i.Float32List,this)},CarParams_LateralPIDTuning.prototype.hasKpV=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},CarParams_LateralPIDTuning.prototype.initKpV=function(t){return a.Struct.initList(1,i.Float32List,t,this)},CarParams_LateralPIDTuning.prototype.setKpV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},CarParams_LateralPIDTuning.prototype.adoptKiBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarParams_LateralPIDTuning.prototype.disownKiBP=function(){return a.Struct.disown(this.getKiBP())},CarParams_LateralPIDTuning.prototype.getKiBP=function(){return a.Struct.getList(2,i.Float32List,this)},CarParams_LateralPIDTuning.prototype.hasKiBP=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarParams_LateralPIDTuning.prototype.initKiBP=function(t){return a.Struct.initList(2,i.Float32List,t,this)},CarParams_LateralPIDTuning.prototype.setKiBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarParams_LateralPIDTuning.prototype.adoptKiV=function(t){a.Struct.adopt(t,a.Struct.getPointer(3,this))},CarParams_LateralPIDTuning.prototype.disownKiV=function(){return a.Struct.disown(this.getKiV())},CarParams_LateralPIDTuning.prototype.getKiV=function(){return a.Struct.getList(3,i.Float32List,this)},CarParams_LateralPIDTuning.prototype.hasKiV=function(){return!a.Struct.isNull(a.Struct.getPointer(3,this))},CarParams_LateralPIDTuning.prototype.initKiV=function(t){return a.Struct.initList(3,i.Float32List,t,this)},CarParams_LateralPIDTuning.prototype.setKiV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(3,this))},CarParams_LateralPIDTuning.prototype.getKf=function(){return a.Struct.getFloat32(0,this)},CarParams_LateralPIDTuning.prototype.setKf=function(t){a.Struct.setFloat32(0,t,this)},CarParams_LateralPIDTuning.prototype.toString=function(){return"CarParams_LateralPIDTuning_"+t.prototype.toString.call(this)},CarParams_LateralPIDTuning._capnp={displayName:"LateralPIDTuning",id:"9622723fcbd14c2e",size:new a.ObjectSize(8,4)},CarParams_LateralPIDTuning}(a.Struct);e.CarParams_LateralPIDTuning=w;var E=function(t){function CarParams_LongitudinalPIDTuning(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams_LongitudinalPIDTuning,t),CarParams_LongitudinalPIDTuning.prototype.adoptKpBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},CarParams_LongitudinalPIDTuning.prototype.disownKpBP=function(){return a.Struct.disown(this.getKpBP())},CarParams_LongitudinalPIDTuning.prototype.getKpBP=function(){return a.Struct.getList(0,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasKpBP=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},CarParams_LongitudinalPIDTuning.prototype.initKpBP=function(t){return a.Struct.initList(0,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setKpBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},CarParams_LongitudinalPIDTuning.prototype.adoptKpV=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},CarParams_LongitudinalPIDTuning.prototype.disownKpV=function(){return a.Struct.disown(this.getKpV())},CarParams_LongitudinalPIDTuning.prototype.getKpV=function(){return a.Struct.getList(1,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasKpV=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},CarParams_LongitudinalPIDTuning.prototype.initKpV=function(t){return a.Struct.initList(1,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setKpV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},CarParams_LongitudinalPIDTuning.prototype.adoptKiBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarParams_LongitudinalPIDTuning.prototype.disownKiBP=function(){return a.Struct.disown(this.getKiBP())},CarParams_LongitudinalPIDTuning.prototype.getKiBP=function(){return a.Struct.getList(2,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasKiBP=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarParams_LongitudinalPIDTuning.prototype.initKiBP=function(t){return a.Struct.initList(2,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setKiBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarParams_LongitudinalPIDTuning.prototype.adoptKiV=function(t){a.Struct.adopt(t,a.Struct.getPointer(3,this))},CarParams_LongitudinalPIDTuning.prototype.disownKiV=function(){return a.Struct.disown(this.getKiV())},CarParams_LongitudinalPIDTuning.prototype.getKiV=function(){return a.Struct.getList(3,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasKiV=function(){return!a.Struct.isNull(a.Struct.getPointer(3,this))},CarParams_LongitudinalPIDTuning.prototype.initKiV=function(t){return a.Struct.initList(3,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setKiV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(3,this))},CarParams_LongitudinalPIDTuning.prototype.adoptDeadzoneBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(4,this))},CarParams_LongitudinalPIDTuning.prototype.disownDeadzoneBP=function(){return a.Struct.disown(this.getDeadzoneBP())},CarParams_LongitudinalPIDTuning.prototype.getDeadzoneBP=function(){return a.Struct.getList(4,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasDeadzoneBP=function(){return!a.Struct.isNull(a.Struct.getPointer(4,this))},CarParams_LongitudinalPIDTuning.prototype.initDeadzoneBP=function(t){return a.Struct.initList(4,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setDeadzoneBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(4,this))},CarParams_LongitudinalPIDTuning.prototype.adoptDeadzoneV=function(t){a.Struct.adopt(t,a.Struct.getPointer(5,this))},CarParams_LongitudinalPIDTuning.prototype.disownDeadzoneV=function(){return a.Struct.disown(this.getDeadzoneV())},CarParams_LongitudinalPIDTuning.prototype.getDeadzoneV=function(){return a.Struct.getList(5,i.Float32List,this)},CarParams_LongitudinalPIDTuning.prototype.hasDeadzoneV=function(){return!a.Struct.isNull(a.Struct.getPointer(5,this))},CarParams_LongitudinalPIDTuning.prototype.initDeadzoneV=function(t){return a.Struct.initList(5,i.Float32List,t,this)},CarParams_LongitudinalPIDTuning.prototype.setDeadzoneV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(5,this))},CarParams_LongitudinalPIDTuning.prototype.toString=function(){return"CarParams_LongitudinalPIDTuning_"+t.prototype.toString.call(this)},CarParams_LongitudinalPIDTuning._capnp={displayName:"LongitudinalPIDTuning",id:"c342cefc303e9b8e",size:new a.ObjectSize(0,6)},CarParams_LongitudinalPIDTuning}(a.Struct);e.CarParams_LongitudinalPIDTuning=E;var P=function(t){function CarParams_LateralINDITuning(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams_LateralINDITuning,t),CarParams_LateralINDITuning.prototype.getOuterLoopGain=function(){return a.Struct.getFloat32(0,this)},CarParams_LateralINDITuning.prototype.setOuterLoopGain=function(t){a.Struct.setFloat32(0,t,this)},CarParams_LateralINDITuning.prototype.getInnerLoopGain=function(){return a.Struct.getFloat32(4,this)},CarParams_LateralINDITuning.prototype.setInnerLoopGain=function(t){a.Struct.setFloat32(4,t,this)},CarParams_LateralINDITuning.prototype.getTimeConstant=function(){return a.Struct.getFloat32(8,this)},CarParams_LateralINDITuning.prototype.setTimeConstant=function(t){a.Struct.setFloat32(8,t,this)},CarParams_LateralINDITuning.prototype.getActuatorEffectiveness=function(){return a.Struct.getFloat32(12,this)},CarParams_LateralINDITuning.prototype.setActuatorEffectiveness=function(t){a.Struct.setFloat32(12,t,this)},CarParams_LateralINDITuning.prototype.toString=function(){return"CarParams_LateralINDITuning_"+t.prototype.toString.call(this)},CarParams_LateralINDITuning._capnp={displayName:"LateralINDITuning",id:"a334472e045533b3",size:new a.ObjectSize(16,0)},CarParams_LateralINDITuning}(a.Struct);e.CarParams_LateralINDITuning=P;var C,T,D,M=function(t){function CarParams_LateralLQRTuning(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams_LateralLQRTuning,t),CarParams_LateralLQRTuning.prototype.getScale=function(){return a.Struct.getFloat32(0,this)},CarParams_LateralLQRTuning.prototype.setScale=function(t){a.Struct.setFloat32(0,t,this)},CarParams_LateralLQRTuning.prototype.getKi=function(){return a.Struct.getFloat32(4,this)},CarParams_LateralLQRTuning.prototype.setKi=function(t){a.Struct.setFloat32(4,t,this)},CarParams_LateralLQRTuning.prototype.getDcGain=function(){return a.Struct.getFloat32(8,this)},CarParams_LateralLQRTuning.prototype.setDcGain=function(t){a.Struct.setFloat32(8,t,this)},CarParams_LateralLQRTuning.prototype.adoptA=function(t){a.Struct.adopt(t,a.Struct.getPointer(0,this))},CarParams_LateralLQRTuning.prototype.disownA=function(){return a.Struct.disown(this.getA())},CarParams_LateralLQRTuning.prototype.getA=function(){return a.Struct.getList(0,i.Float32List,this)},CarParams_LateralLQRTuning.prototype.hasA=function(){return!a.Struct.isNull(a.Struct.getPointer(0,this))},CarParams_LateralLQRTuning.prototype.initA=function(t){return a.Struct.initList(0,i.Float32List,t,this)},CarParams_LateralLQRTuning.prototype.setA=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(0,this))},CarParams_LateralLQRTuning.prototype.adoptB=function(t){a.Struct.adopt(t,a.Struct.getPointer(1,this))},CarParams_LateralLQRTuning.prototype.disownB=function(){return a.Struct.disown(this.getB())},CarParams_LateralLQRTuning.prototype.getB=function(){return a.Struct.getList(1,i.Float32List,this)},CarParams_LateralLQRTuning.prototype.hasB=function(){return!a.Struct.isNull(a.Struct.getPointer(1,this))},CarParams_LateralLQRTuning.prototype.initB=function(t){return a.Struct.initList(1,i.Float32List,t,this)},CarParams_LateralLQRTuning.prototype.setB=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(1,this))},CarParams_LateralLQRTuning.prototype.adoptC=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarParams_LateralLQRTuning.prototype.disownC=function(){return a.Struct.disown(this.getC())},CarParams_LateralLQRTuning.prototype.getC=function(){return a.Struct.getList(2,i.Float32List,this)},CarParams_LateralLQRTuning.prototype.hasC=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarParams_LateralLQRTuning.prototype.initC=function(t){return a.Struct.initList(2,i.Float32List,t,this)},CarParams_LateralLQRTuning.prototype.setC=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarParams_LateralLQRTuning.prototype.adoptK=function(t){a.Struct.adopt(t,a.Struct.getPointer(3,this))},CarParams_LateralLQRTuning.prototype.disownK=function(){return a.Struct.disown(this.getK())},CarParams_LateralLQRTuning.prototype.getK=function(){return a.Struct.getList(3,i.Float32List,this)},CarParams_LateralLQRTuning.prototype.hasK=function(){return!a.Struct.isNull(a.Struct.getPointer(3,this))},CarParams_LateralLQRTuning.prototype.initK=function(t){return a.Struct.initList(3,i.Float32List,t,this)},CarParams_LateralLQRTuning.prototype.setK=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(3,this))},CarParams_LateralLQRTuning.prototype.adoptL=function(t){a.Struct.adopt(t,a.Struct.getPointer(4,this))},CarParams_LateralLQRTuning.prototype.disownL=function(){return a.Struct.disown(this.getL())},CarParams_LateralLQRTuning.prototype.getL=function(){return a.Struct.getList(4,i.Float32List,this)},CarParams_LateralLQRTuning.prototype.hasL=function(){return!a.Struct.isNull(a.Struct.getPointer(4,this))},CarParams_LateralLQRTuning.prototype.initL=function(t){return a.Struct.initList(4,i.Float32List,t,this)},CarParams_LateralLQRTuning.prototype.setL=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(4,this))},CarParams_LateralLQRTuning.prototype.toString=function(){return"CarParams_LateralLQRTuning_"+t.prototype.toString.call(this)},CarParams_LateralLQRTuning._capnp={displayName:"LateralLQRTuning",id:"9d151e3f28616a12",size:new a.ObjectSize(16,5)},CarParams_LateralLQRTuning}(a.Struct);e.CarParams_LateralLQRTuning=M,function(t){t[t.NO_OUTPUT=0]="NO_OUTPUT",t[t.HONDA=1]="HONDA",t[t.TOYOTA=2]="TOYOTA",t[t.ELM327=3]="ELM327",t[t.GM=4]="GM",t[t.HONDA_BOSCH=5]="HONDA_BOSCH",t[t.FORD=6]="FORD",t[t.CADILLAC=7]="CADILLAC",t[t.HYUNDAI=8]="HYUNDAI",t[t.CHRYSLER=9]="CHRYSLER",t[t.TESLA=10]="TESLA",t[t.SUBARU=11]="SUBARU"}(C=e.CarParams_SafetyModel||(e.CarParams_SafetyModel={})),function(t){t[t.TORQUE=0]="TORQUE",t[t.ANGLE=1]="ANGLE"}(T=e.CarParams_SteerControlType||(e.CarParams_SteerControlType={})),function(t){t[t.PID=0]="PID",t[t.INDI=1]="INDI",t[t.LQR=2]="LQR"}(D=e.CarParams_LateralTuning_Which||(e.CarParams_LateralTuning_Which={}));var A=function(t){function CarParams_LateralTuning(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams_LateralTuning,t),CarParams_LateralTuning.prototype.adoptPid=function(t){a.Struct.setUint16(14,0,this),a.Struct.adopt(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.disownPid=function(){return a.Struct.disown(this.getPid())},CarParams_LateralTuning.prototype.getPid=function(){return a.Struct.testWhich("pid",a.Struct.getUint16(14,this),0,this),a.Struct.getStruct(9,w,this)},CarParams_LateralTuning.prototype.hasPid=function(){return!a.Struct.isNull(a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.initPid=function(){return a.Struct.setUint16(14,0,this),a.Struct.initStructAt(9,w,this)},CarParams_LateralTuning.prototype.isPid=function(){return 0===a.Struct.getUint16(14,this)},CarParams_LateralTuning.prototype.setPid=function(t){a.Struct.setUint16(14,0,this),a.Struct.copyFrom(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.adoptIndi=function(t){a.Struct.setUint16(14,1,this),a.Struct.adopt(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.disownIndi=function(){return a.Struct.disown(this.getIndi())},CarParams_LateralTuning.prototype.getIndi=function(){return a.Struct.testWhich("indi",a.Struct.getUint16(14,this),1,this),a.Struct.getStruct(9,P,this)},CarParams_LateralTuning.prototype.hasIndi=function(){return!a.Struct.isNull(a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.initIndi=function(){return a.Struct.setUint16(14,1,this),a.Struct.initStructAt(9,P,this)},CarParams_LateralTuning.prototype.isIndi=function(){return 1===a.Struct.getUint16(14,this)},CarParams_LateralTuning.prototype.setIndi=function(t){a.Struct.setUint16(14,1,this),a.Struct.copyFrom(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.adoptLqr=function(t){a.Struct.setUint16(14,2,this),a.Struct.adopt(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.disownLqr=function(){return a.Struct.disown(this.getLqr())},CarParams_LateralTuning.prototype.getLqr=function(){return a.Struct.testWhich("lqr",a.Struct.getUint16(14,this),2,this),a.Struct.getStruct(9,M,this)},CarParams_LateralTuning.prototype.hasLqr=function(){return!a.Struct.isNull(a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.initLqr=function(){return a.Struct.setUint16(14,2,this),a.Struct.initStructAt(9,M,this)},CarParams_LateralTuning.prototype.isLqr=function(){return 2===a.Struct.getUint16(14,this)},CarParams_LateralTuning.prototype.setLqr=function(t){a.Struct.setUint16(14,2,this),a.Struct.copyFrom(t,a.Struct.getPointer(9,this))},CarParams_LateralTuning.prototype.toString=function(){return"CarParams_LateralTuning_"+t.prototype.toString.call(this)},CarParams_LateralTuning.prototype.which=function(){return a.Struct.getUint16(14,this)},CarParams_LateralTuning.PID=D.PID,CarParams_LateralTuning.INDI=D.INDI,CarParams_LateralTuning.LQR=D.LQR,CarParams_LateralTuning._capnp={displayName:"lateralTuning",id:"93fc580a35339568",size:new a.ObjectSize(72,11)},CarParams_LateralTuning}(a.Struct);e.CarParams_LateralTuning=A;var R=function(t){function CarParams(){return null!==t&&t.apply(this,arguments)||this}return n(CarParams,t),CarParams.prototype.getCarName=function(){return a.Struct.getText(0,this)},CarParams.prototype.setCarName=function(t){a.Struct.setText(0,t,this)},CarParams.prototype.getCarFingerprint=function(){return a.Struct.getText(1,this)},CarParams.prototype.setCarFingerprint=function(t){a.Struct.setText(1,t,this)},CarParams.prototype.getEnableGasInterceptor=function(){return a.Struct.getBit(0,this)},CarParams.prototype.setEnableGasInterceptor=function(t){a.Struct.setBit(0,t,this)},CarParams.prototype.getEnableCruise=function(){return a.Struct.getBit(1,this)},CarParams.prototype.setEnableCruise=function(t){a.Struct.setBit(1,t,this)},CarParams.prototype.getEnableCamera=function(){return a.Struct.getBit(2,this)},CarParams.prototype.setEnableCamera=function(t){a.Struct.setBit(2,t,this)},CarParams.prototype.getEnableDsu=function(){return a.Struct.getBit(3,this)},CarParams.prototype.setEnableDsu=function(t){a.Struct.setBit(3,t,this)},CarParams.prototype.getEnableApgs=function(){return a.Struct.getBit(4,this)},CarParams.prototype.setEnableApgs=function(t){a.Struct.setBit(4,t,this)},CarParams.prototype.getMinEnableSpeed=function(){return a.Struct.getFloat32(4,this)},CarParams.prototype.setMinEnableSpeed=function(t){a.Struct.setFloat32(4,t,this)},CarParams.prototype.getMinSteerSpeed=function(){return a.Struct.getFloat32(8,this)},CarParams.prototype.setMinSteerSpeed=function(t){a.Struct.setFloat32(8,t,this)},CarParams.prototype.getSafetyModel=function(){return a.Struct.getUint16(2,this)},CarParams.prototype.setSafetyModel=function(t){a.Struct.setUint16(2,t,this)},CarParams.prototype.getSafetyParam=function(){return a.Struct.getInt16(12,this)},CarParams.prototype.setSafetyParam=function(t){a.Struct.setInt16(12,t,this)},CarParams.prototype.adoptSteerMaxBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(2,this))},CarParams.prototype.disownSteerMaxBP=function(){return a.Struct.disown(this.getSteerMaxBP())},CarParams.prototype.getSteerMaxBP=function(){return a.Struct.getList(2,i.Float32List,this)},CarParams.prototype.hasSteerMaxBP=function(){return!a.Struct.isNull(a.Struct.getPointer(2,this))},CarParams.prototype.initSteerMaxBP=function(t){return a.Struct.initList(2,i.Float32List,t,this)},CarParams.prototype.setSteerMaxBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(2,this))},CarParams.prototype.adoptSteerMaxV=function(t){a.Struct.adopt(t,a.Struct.getPointer(3,this))},CarParams.prototype.disownSteerMaxV=function(){return a.Struct.disown(this.getSteerMaxV())},CarParams.prototype.getSteerMaxV=function(){return a.Struct.getList(3,i.Float32List,this)},CarParams.prototype.hasSteerMaxV=function(){return!a.Struct.isNull(a.Struct.getPointer(3,this))},CarParams.prototype.initSteerMaxV=function(t){return a.Struct.initList(3,i.Float32List,t,this)},CarParams.prototype.setSteerMaxV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(3,this))},CarParams.prototype.adoptGasMaxBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(4,this))},CarParams.prototype.disownGasMaxBP=function(){return a.Struct.disown(this.getGasMaxBP())},CarParams.prototype.getGasMaxBP=function(){return a.Struct.getList(4,i.Float32List,this)},CarParams.prototype.hasGasMaxBP=function(){return!a.Struct.isNull(a.Struct.getPointer(4,this))},CarParams.prototype.initGasMaxBP=function(t){return a.Struct.initList(4,i.Float32List,t,this)},CarParams.prototype.setGasMaxBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(4,this))},CarParams.prototype.adoptGasMaxV=function(t){a.Struct.adopt(t,a.Struct.getPointer(5,this))},CarParams.prototype.disownGasMaxV=function(){return a.Struct.disown(this.getGasMaxV())},CarParams.prototype.getGasMaxV=function(){return a.Struct.getList(5,i.Float32List,this)},CarParams.prototype.hasGasMaxV=function(){return!a.Struct.isNull(a.Struct.getPointer(5,this))},CarParams.prototype.initGasMaxV=function(t){return a.Struct.initList(5,i.Float32List,t,this)},CarParams.prototype.setGasMaxV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(5,this))},CarParams.prototype.adoptBrakeMaxBP=function(t){a.Struct.adopt(t,a.Struct.getPointer(6,this))},CarParams.prototype.disownBrakeMaxBP=function(){return a.Struct.disown(this.getBrakeMaxBP())},CarParams.prototype.getBrakeMaxBP=function(){return a.Struct.getList(6,i.Float32List,this)},CarParams.prototype.hasBrakeMaxBP=function(){return!a.Struct.isNull(a.Struct.getPointer(6,this))},CarParams.prototype.initBrakeMaxBP=function(t){return a.Struct.initList(6,i.Float32List,t,this)},CarParams.prototype.setBrakeMaxBP=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(6,this))},CarParams.prototype.adoptBrakeMaxV=function(t){a.Struct.adopt(t,a.Struct.getPointer(7,this))},CarParams.prototype.disownBrakeMaxV=function(){return a.Struct.disown(this.getBrakeMaxV())},CarParams.prototype.getBrakeMaxV=function(){return a.Struct.getList(7,i.Float32List,this)},CarParams.prototype.hasBrakeMaxV=function(){return!a.Struct.isNull(a.Struct.getPointer(7,this))},CarParams.prototype.initBrakeMaxV=function(t){return a.Struct.initList(7,i.Float32List,t,this)},CarParams.prototype.setBrakeMaxV=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(7,this))},CarParams.prototype.getMass=function(){return a.Struct.getFloat32(16,this)},CarParams.prototype.setMass=function(t){a.Struct.setFloat32(16,t,this)},CarParams.prototype.getWheelbase=function(){return a.Struct.getFloat32(20,this)},CarParams.prototype.setWheelbase=function(t){a.Struct.setFloat32(20,t,this)},CarParams.prototype.getCenterToFront=function(){return a.Struct.getFloat32(24,this)},CarParams.prototype.setCenterToFront=function(t){a.Struct.setFloat32(24,t,this)},CarParams.prototype.getSteerRatio=function(){return a.Struct.getFloat32(28,this)},CarParams.prototype.setSteerRatio=function(t){a.Struct.setFloat32(28,t,this)},CarParams.prototype.getSteerRatioRear=function(){return a.Struct.getFloat32(32,this)},CarParams.prototype.setSteerRatioRear=function(t){a.Struct.setFloat32(32,t,this)},CarParams.prototype.getRotationalInertia=function(){return a.Struct.getFloat32(36,this)},CarParams.prototype.setRotationalInertia=function(t){a.Struct.setFloat32(36,t,this)},CarParams.prototype.getTireStiffnessFront=function(){return a.Struct.getFloat32(40,this)},CarParams.prototype.setTireStiffnessFront=function(t){a.Struct.setFloat32(40,t,this)},CarParams.prototype.getTireStiffnessRear=function(){return a.Struct.getFloat32(44,this)},CarParams.prototype.setTireStiffnessRear=function(t){a.Struct.setFloat32(44,t,this)},CarParams.prototype.adoptLongitudinalTuning=function(t){a.Struct.adopt(t,a.Struct.getPointer(8,this))},CarParams.prototype.disownLongitudinalTuning=function(){return a.Struct.disown(this.getLongitudinalTuning())},CarParams.prototype.getLongitudinalTuning=function(){return a.Struct.getStruct(8,E,this)},CarParams.prototype.hasLongitudinalTuning=function(){return!a.Struct.isNull(a.Struct.getPointer(8,this))},CarParams.prototype.initLongitudinalTuning=function(){return a.Struct.initStructAt(8,E,this)},CarParams.prototype.setLongitudinalTuning=function(t){a.Struct.copyFrom(t,a.Struct.getPointer(8,this))},CarParams.prototype.getLateralTuning=function(){return a.Struct.getAs(A,this)},CarParams.prototype.initLateralTuning=function(){return a.Struct.getAs(A,this)},CarParams.prototype.getSteerLimitAlert=function(){return a.Struct.getBit(5,this)},CarParams.prototype.setSteerLimitAlert=function(t){a.Struct.setBit(5,t,this)},CarParams.prototype.getVEgoStopping=function(){return a.Struct.getFloat32(48,this)},CarParams.prototype.setVEgoStopping=function(t){a.Struct.setFloat32(48,t,this)},CarParams.prototype.getDirectAccelControl=function(){return a.Struct.getBit(6,this)},CarParams.prototype.setDirectAccelControl=function(t){a.Struct.setBit(6,t,this)},CarParams.prototype.getStoppingControl=function(){return a.Struct.getBit(7,this)},CarParams.prototype.setStoppingControl=function(t){a.Struct.setBit(7,t,this)},CarParams.prototype.getStartAccel=function(){return a.Struct.getFloat32(52,this)},CarParams.prototype.setStartAccel=function(t){a.Struct.setFloat32(52,t,this)},CarParams.prototype.getSteerRateCost=function(){return a.Struct.getFloat32(56,this)},CarParams.prototype.setSteerRateCost=function(t){a.Struct.setFloat32(56,t,this)},CarParams.prototype.getSteerControlType=function(){return a.Struct.getUint16(60,this)},CarParams.prototype.setSteerControlType=function(t){a.Struct.setUint16(60,t,this)},CarParams.prototype.getRadarOffCan=function(){return a.Struct.getBit(8,this)},CarParams.prototype.setRadarOffCan=function(t){a.Struct.setBit(8,t,this)},CarParams.prototype.getSteerActuatorDelay=function(){return a.Struct.getFloat32(64,this)},CarParams.prototype.setSteerActuatorDelay=function(t){a.Struct.setFloat32(64,t,this)},CarParams.prototype.getOpenpilotLongitudinalControl=function(){return a.Struct.getBit(9,this)},CarParams.prototype.setOpenpilotLongitudinalControl=function(t){a.Struct.setBit(9,t,this)},CarParams.prototype.getCarVin=function(){return a.Struct.getText(10,this)},CarParams.prototype.setCarVin=function(t){a.Struct.setText(10,t,this)},CarParams.prototype.getIsPandaBlack=function(){return a.Struct.getBit(10,this)},CarParams.prototype.setIsPandaBlack=function(t){a.Struct.setBit(10,t,this)},CarParams.prototype.toString=function(){return"CarParams_"+t.prototype.toString.call(this)},CarParams.LateralPIDTuning=w,CarParams.LongitudinalPIDTuning=E,CarParams.LateralINDITuning=P,CarParams.LateralLQRTuning=M,CarParams.SafetyModel=C,CarParams.SteerControlType=T,CarParams._capnp={displayName:"CarParams",id:"8c69372490aaa9da",size:new a.ObjectSize(72,11)},CarParams}(a.Struct);e.CarParams=R,h._Events=i.CompositeList(s),h._ButtonEvents=i.CompositeList(f),y._Points=i.CompositeList(m)},function(t,e,r){"use strict";(function(t){var n=r(883),o=r(884),i=r(885);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e);return t}(t,e,r,n):"string"===typeof e?function fromString(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r),o=(t=createBuffer(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return 0===(t=createBuffer(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||function isnan(t){return t!==t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&i(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,o){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,o);if("number"===typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function read(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(read(t,i)===read(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var c=!0,p=0;p<u;p++)if(read(t,i+p)!==read(e,p)){c=!1;break}if(c)return i}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(function utf16leToBytes(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,u,l,c=t[o],p=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(p=c);break;case 2:128===(192&(i=t[o+1]))&&(l=(31&c)<<6|63&i)>127&&(p=l);break;case 3:i=t[o+1],s=t[o+2],128===(192&i)&&128===(192&s)&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(p=l);break;case 4:i=t[o+1],s=t[o+2],u=t[o+3],128===(192&i)&&128===(192&s)&&128===(192&u)&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(p=l)}null===p?(p=65533,f=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|1023&p),n.push(p),o+=f}return function decodeCodePointsArray(t){var e=t.length;if(e<=a)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=a));return r}(n)}e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"===typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,r,n,o){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),u=this.slice(n,o),l=t.slice(e,r),c=0;c<s;++c)if(u[c]!==l[c]){i=u[c],a=l[c];break}return i<a?-1:a<i?1:0},Buffer.prototype.includes=function includes(t,e,r){return-1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function indexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function write(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=toHex(t[i]);return o}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,o,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function checkIEEE754(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,0,r,8),o.write(t,e,r,n,52,8),r+8}Buffer.prototype.slice=function slice(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Buffer.prototype;else{var o=e-t;r=new Buffer(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},Buffer.prototype.readUIntLE=function readUIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},Buffer.prototype.readUIntBE=function readUIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function readIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,r,n){(t=+t,e|=0,r|=0,n)||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,r,n){(t=+t,e|=0,r|=0,n)||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function writeUInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeIntBE=function writeIntBE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeInt8=function writeInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function copy(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function fill(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function base64ToBytes(t){return n.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(s,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function blitBuffer(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(32))},function(t,e,r){"use strict";e.byteLength=function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function toByteArray(t){for(var e,r=getLens(t),n=r[0],a=r[1],s=new i(function _byteLength(t,e,r){return 3*(e+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,c=0;c<l;c+=4)e=o[t.charCodeAt(c)]<<18|o[t.charCodeAt(c+1)]<<12|o[t.charCodeAt(c+2)]<<6|o[t.charCodeAt(c+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=o[t.charCodeAt(c)]<<2|o[t.charCodeAt(c+1)]>>4,s[u++]=255&e);1===a&&(e=o[t.charCodeAt(c)]<<10|o[t.charCodeAt(c+1)]<<4|o[t.charCodeAt(c+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function fromByteArray(t){for(var e,r=t.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(encodeChunk(t,a,a+16383>s?s:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function encodeChunk(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,p=r?o-1:0,f=r?-1:1,d=t[e+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=l}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*u-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[r+d]=255&a,d+=h,a/=256,l-=8);t[r+d-h]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";function readSize(t,e){if((e=e||0)+8>=t.byteLength)return null;var r=0,n=t.readUInt32LE(e)+1;r=0;for(var o=[],i=0;i<n;++i){r+=4;var a=t.readUInt32LE(e+r);o.push(8*a)}var s=o.reduce((function(t,e){return t+e}),r);return s+=8-s%8}t.exports={readMessage:function readMessage(t,e){var r=readSize(t,e=e||0);return t.slice(e,e+r)},readSize:readSize}},function(t,e){t.exports=function hiddenStore(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function value(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},,,,,,function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(36)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=n(r(169)),f=function styles(t){return{root:(0,s.default)({},t.typography.subheading,{height:3*t.spacing.unit,boxSizing:"content-box",width:"auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:2*t.spacing.unit,paddingRight:2*t.spacing.unit,"&$selected":{backgroundColor:t.palette.action.selected}}),selected:{}}};function MenuItem(t){var e=t.classes,r=t.className,n=t.component,s=t.selected,c=t.role,f=(0,a.default)(t,["classes","className","component","selected","role"]);return u.default.createElement(p.default,(0,o.default)({button:!0,role:c,tabIndex:-1,className:(0,l.default)(e.root,(0,i.default)({},e.selected,s),r),component:n},f))}e.styles=f,MenuItem.propTypes={},MenuItem.defaultProps={component:"li",role:"menuitem",selected:!1};var d=(0,c.default)(f,{name:"MuiMenuItem"})(MenuItem);e.default=d},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(28)),s=n(r(11)),u=n(r(37)),l=n(r(38)),c=n(r(40)),p=n(r(41)),f=n(r(0)),d=n(r(9)),h=n(r(3)),m=n(r(8)),y=n(r(112)),g=r(163),v=function styles(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},container:{position:"relative"},focusVisible:{backgroundColor:t.palette.action.hover},default:{paddingTop:12,paddingBottom:12},dense:{paddingTop:t.spacing.unit,paddingBottom:t.spacing.unit},disabled:{opacity:.5},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:t.mixins.gutters(),button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:4*t.spacing.unit}}};e.styles=v;var _=function(t){function ListItem(){return(0,u.default)(this,ListItem),(0,c.default)(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).apply(this,arguments))}return(0,p.default)(ListItem,t),(0,l.default)(ListItem,[{key:"getChildContext",value:function getChildContext(){return{dense:this.props.dense||this.context.dense||!1}}},{key:"render",value:function render(){var t,e=this.props,r=e.button,n=e.children,u=e.classes,l=e.className,c=e.component,p=e.ContainerComponent,d=e.ContainerProps,m=(d=void 0===d?{}:d).className,v=(0,s.default)(d,["className"]),_=e.dense,b=e.disabled,S=e.disableGutters,x=e.divider,w=e.focusVisibleClassName,E=(0,s.default)(e,["button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName"]),P=_||this.context.dense||!1,C=f.default.Children.toArray(n),T=C.some((function(t){return(0,g.isMuiElement)(t,["ListItemAvatar"])})),D=C.length&&(0,g.isMuiElement)(C[C.length-1],["ListItemSecondaryAction"]),M=(0,h.default)(u.root,P||T?u.dense:u.default,(t={},(0,a.default)(t,u.gutters,!S),(0,a.default)(t,u.divider,x),(0,a.default)(t,u.disabled,b),(0,a.default)(t,u.button,r),(0,a.default)(t,u.secondaryAction,D),t),l),A=(0,i.default)({className:M,disabled:b},E),R=c||"li";return r&&(A.component=c||"div",A.focusVisibleClassName=(0,h.default)(u.focusVisible,w),R=y.default),D?(R=A.component||c?R:"div","li"===p&&("li"===R?R="div":"li"===A.component&&(A.component="div")),f.default.createElement(p,(0,o.default)({className:(0,h.default)(u.container,m)},v),f.default.createElement(R,A,C),C.pop())):f.default.createElement(R,A,C)}}]),ListItem}(f.default.Component);_.propTypes={},_.defaultProps={button:!1,ContainerComponent:"li",dense:!1,disabled:!1,disableGutters:!1,divider:!1},_.contextTypes={dense:d.default.bool},_.childContextTypes={dense:d.default.bool};var b=(0,m.default)(v,{name:"MuiListItem"})(_);e.default=b},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(139),p=function styles(t){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:t.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:9*t.spacing.unit},light:{backgroundColor:(0,c.fade)(t.palette.divider,.08)}}};function Divider(t){var e,r=t.absolute,n=t.classes,l=t.className,c=t.component,p=t.inset,f=t.light,d=(0,a.default)(t,["absolute","classes","className","component","inset","light"]),h=(0,u.default)(n.root,(e={},(0,i.default)(e,n.absolute,r),(0,i.default)(e,n.inset,p),(0,i.default)(e,n.light,f),e),l);return s.default.createElement(c,(0,o.default)({className:h},d))}e.styles=p,Divider.propTypes={},Divider.defaultProps={absolute:!1,component:"hr",inset:!1,light:!1};var f=(0,l.default)(p,{name:"MuiDivider"})(Divider);e.default=f},function(t,e,r){"use strict";var n=r(340),o=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(36)),a=o(r(28)),s=o(r(37)),u=o(r(38)),l=o(r(40)),c=o(r(41)),p=o(r(0)),f=o(r(9)),d=(o(r(64)),o(r(897))),h=n(r(251)),m=(o(r(193)),function(t){function MuiThemeProvider(t,e){var r;return(0,s.default)(this,MuiThemeProvider),(r=(0,l.default)(this,(MuiThemeProvider.__proto__||Object.getPrototypeOf(MuiThemeProvider)).call(this,t,e))).broadcast=(0,d.default)(),r.unsubscribeId=null,r.outerTheme=null,r.outerTheme=h.default.initial(e),r.broadcast.setState(r.mergeOuterLocalTheme(r.props.theme)),r}return(0,c.default)(MuiThemeProvider,t),(0,u.default)(MuiThemeProvider,[{key:"getChildContext",value:function getChildContext(){var t,e=this.props,r=e.sheetsManager,n=e.disableStylesGeneration,o=this.context.muiThemeProviderOptions||{};return void 0!==r&&(o.sheetsManager=r),void 0!==n&&(o.disableStylesGeneration=n),t={},(0,a.default)(t,h.CHANNEL,this.broadcast),(0,a.default)(t,"muiThemeProviderOptions",o),t}},{key:"componentDidMount",value:function componentDidMount(){var t=this;this.unsubscribeId=h.default.subscribe(this.context,(function(e){t.outerTheme=e,t.broadcast.setState(t.mergeOuterLocalTheme(t.props.theme))}))}},{key:"componentDidUpdate",value:function componentDidUpdate(t){this.props.theme!==t.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.unsubscribeId&&h.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function mergeOuterLocalTheme(t){return"function"===typeof t?t(this.outerTheme):this.outerTheme?(0,i.default)({},this.outerTheme,t):t}},{key:"render",value:function render(){return this.props.children}}]),MuiThemeProvider}(p.default.Component));m.propTypes={},m.propTypes={},m.childContextTypes=(0,i.default)({},h.default.contextTypes,{muiThemeProviderOptions:f.default.object}),m.contextTypes=(0,i.default)({},h.default.contextTypes,{muiThemeProviderOptions:f.default.object});var y=m;e.default=y},function(t,e,r){"use strict";r.r(e),e.default=function createBroadcast(t){var e={},r=1,n=t;return{getState:function getState(){return n},setState:function setState(t){n=t;for(var r=Object.keys(e),o=0,i=r.length;o<i;o++)e[r[o]]&&e[r[o]](t)},subscribe:function subscribe(t){if("function"!==typeof t)throw new Error("listener must be a function.");var n=r;return e[n]=t,r+=1,n},unsubscribe:function unsubscribe(t){e[t]=void 0}}}},function(t,e,r){(function(e){(function(){var r,n,o,i,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(r()-a)/1e6},n=e.hrtime,i=(r=function getNanoSeconds(){var t;return 1e9*(t=n())[0]+t[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r(114))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(28)),i=n(r(11)),a=n(r(36)),s=n(r(13)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=r(351),f=(n(r(900)),[0,8,16,24,32,40]),d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var h=function styles(t){return(0,a.default)({container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"}},function generateGutter(t,e){var r={};return f.forEach((function(t,n){0!==n&&(r["spacing-".concat(e,"-").concat(t)]={margin:-t/2,width:"calc(100% + ".concat(t,"px)"),"& > $item":{padding:t/2}})})),r}(0,"xs"),p.keys.reduce((function(e,r){return function generateGrid(t,e,r){var n={};d.forEach((function(t){var e="grid-".concat(r,"-").concat(t);if(!0!==t)if("auto"!==t){var o="".concat(Math.round(t/12*1e7)/1e5,"%");n[e]={flexBasis:o,flexGrow:0,maxWidth:o}}else n[e]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[e]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===r?(0,s.default)(t,n):t[e.breakpoints.up(r)]=n}(e,t,r),e}),{}))};function Grid(t){var e,r=t.alignContent,n=t.alignItems,a=t.classes,c=t.className,p=t.component,f=t.container,d=t.direction,h=t.item,m=t.justify,y=t.lg,g=t.md,v=t.sm,_=t.spacing,b=t.wrap,S=t.xl,x=t.xs,w=t.zeroMinWidth,E=(0,i.default)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),P=(0,l.default)((e={},(0,o.default)(e,a.container,f),(0,o.default)(e,a.item,h),(0,o.default)(e,a.zeroMinWidth,w),(0,o.default)(e,a["spacing-xs-".concat(String(_))],f&&0!==_),(0,o.default)(e,a["direction-xs-".concat(String(d))],d!==Grid.defaultProps.direction),(0,o.default)(e,a["wrap-xs-".concat(String(b))],b!==Grid.defaultProps.wrap),(0,o.default)(e,a["align-items-xs-".concat(String(n))],n!==Grid.defaultProps.alignItems),(0,o.default)(e,a["align-content-xs-".concat(String(r))],r!==Grid.defaultProps.alignContent),(0,o.default)(e,a["justify-xs-".concat(String(m))],m!==Grid.defaultProps.justify),(0,o.default)(e,a["grid-xs-".concat(String(x))],!1!==x),(0,o.default)(e,a["grid-sm-".concat(String(v))],!1!==v),(0,o.default)(e,a["grid-md-".concat(String(g))],!1!==g),(0,o.default)(e,a["grid-lg-".concat(String(y))],!1!==y),(0,o.default)(e,a["grid-xl-".concat(String(S))],!1!==S),e),c);return u.default.createElement(p,(0,s.default)({className:P},E))}e.styles=h,Grid.propTypes={},Grid.defaultProps={alignContent:"stretch",alignItems:"stretch",component:"div",container:!1,direction:"row",item:!1,justify:"flex-start",lg:!1,md:!1,sm:!1,spacing:0,wrap:"wrap",xl:!1,xs:!1,zeroMinWidth:!1};var m=(0,c.default)(h,{name:"MuiGrid"})(Grid);e.default=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function requirePropFactory(t){return function(){return null}};e.default=n},function(t,e,r){"use strict";var n=r(902);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(36)),f=n(r(0)),d=(n(r(9)),n(r(3))),h=n(r(269)),m=n(r(74)),y=n(r(8)),g=r(163),v="undefined"!==typeof window&&/jsdom/.test(window.navigator.userAgent)?{}:{"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},_=function styles(t){var e={duration:t.transitions.duration.shortest};return{root:{position:"relative",transition:t.transitions.create(["margin"],e),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:t.palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-child":{borderTopLeftRadius:2,borderTopRightRadius:2,"&:before":{display:"none"}},"&:last-child":(0,p.default)({borderBottomLeftRadius:2,borderBottomRightRadius:2},v),"&$expanded + &":{"&:before":{display:"none"}}},expanded:{margin:"".concat(2*t.spacing.unit,"px 0"),"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},disabled:{backgroundColor:t.palette.action.disabledBackground}}};e.styles=_;var b=function(t){function ExpansionPanel(t){var e;return(0,s.default)(this,ExpansionPanel),(e=(0,l.default)(this,(ExpansionPanel.__proto__||Object.getPrototypeOf(ExpansionPanel)).call(this,t))).isControlled=null,e.state={},e.handleChange=function(t){var r=e.isControlled?e.props.expanded:e.state.expanded;e.isControlled||e.setState({expanded:!r}),e.props.onChange&&e.props.onChange(t,!r)},e.isControlled=null!=t.expanded,e.isControlled||(e.state.expanded=void 0!==t.defaultExpanded&&t.defaultExpanded),e}return(0,c.default)(ExpansionPanel,t),(0,u.default)(ExpansionPanel,[{key:"render",value:function render(){var t,e=this,r=this.props,n=r.children,s=r.classes,u=r.className,l=r.CollapseProps,c=(r.defaultExpanded,r.disabled),p=r.expanded,y=(r.onChange,(0,a.default)(r,["children","classes","className","CollapseProps","defaultExpanded","disabled","expanded","onChange"])),v=this.isControlled?p:this.state.expanded,_=(0,d.default)(s.root,(t={},(0,i.default)(t,s.expanded,v),(0,i.default)(t,s.disabled,c),t),u),b=null,S=f.default.Children.map(n,(function(t){return f.default.isValidElement(t)?(0,g.isMuiElement)(t,["ExpansionPanelSummary"])?(b=f.default.cloneElement(t,{disabled:c,expanded:v,onChange:e.handleChange}),null):t:null})),x=v?null:{"aria-hidden":"true"};return f.default.createElement(m.default,(0,o.default)({className:_,elevation:1,square:!0},y),b,f.default.createElement(h.default,(0,o.default)({in:v,timeout:"auto"},x,l),S))}}]),ExpansionPanel}(f.default.Component);b.propTypes={},b.defaultProps={defaultExpanded:!1,disabled:!1};var S=(0,y.default)(_,{name:"MuiExpansionPanel"})(b);e.default=S},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(28)),s=n(r(11)),u=n(r(37)),l=n(r(38)),c=n(r(40)),p=n(r(41)),f=n(r(0)),d=n(r(3)),h=(n(r(9)),n(r(162))),m=n(r(8)),y=r(140),g=r(196),v=function styles(t){return{container:{height:0,overflow:"hidden",transition:t.transitions.create("height")},entered:{height:"auto"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};e.styles=v;var _=function(t){function Collapse(){var t,e,r;(0,u.default)(this,Collapse);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,c.default)(r,(e=r=(0,c.default)(this,(t=Collapse.__proto__||Object.getPrototypeOf(Collapse)).call.apply(t,[this].concat(o))),r.wrapper=null,r.autoTransitionDuration=null,r.timer=null,r.handleEnter=function(t){t.style.height=r.props.collapsedHeight,r.props.onEnter&&r.props.onEnter(t)},r.handleEntering=function(t){var e=r.props,n=e.timeout,o=e.theme,i=r.wrapper?r.wrapper.clientHeight:0,a=(0,g.getTransitionProps)(r.props,{mode:"enter"}).duration;if("auto"===n){var s=o.transitions.getAutoHeightDuration(i);t.style.transitionDuration="".concat(s,"ms"),r.autoTransitionDuration=s}else t.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");t.style.height="".concat(i,"px"),r.props.onEntering&&r.props.onEntering(t)},r.handleEntered=function(t){t.style.height="auto",r.props.onEntered&&r.props.onEntered(t)},r.handleExit=function(t){var e=r.wrapper?r.wrapper.clientHeight:0;t.style.height="".concat(e,"px"),r.props.onExit&&r.props.onExit(t)},r.handleExiting=function(t){var e=r.props,n=e.timeout,o=e.theme,i=r.wrapper?r.wrapper.clientHeight:0,a=(0,g.getTransitionProps)(r.props,{mode:"exit"}).duration;if("auto"===n){var s=o.transitions.getAutoHeightDuration(i);t.style.transitionDuration="".concat(s,"ms"),r.autoTransitionDuration=s}else t.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");t.style.height=r.props.collapsedHeight,r.props.onExiting&&r.props.onExiting(t)},r.addEndListener=function(t,e){"auto"===r.props.timeout&&(r.timer=setTimeout(e,r.autoTransitionDuration||0))},e))}return(0,p.default)(Collapse,t),(0,l.default)(Collapse,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timer)}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=e.classes,u=e.className,l=e.collapsedHeight,c=e.component,p=(e.onEnter,e.onEntered,e.onEntering,e.onExit,e.onExiting,e.style),m=(e.theme,e.timeout),y=(0,s.default)(e,["children","classes","className","collapsedHeight","component","onEnter","onEntered","onEntering","onExit","onExiting","style","theme","timeout"]);return f.default.createElement(h.default,(0,o.default)({onEnter:this.handleEnter,onEntered:this.handleEntered,onEntering:this.handleEntering,onExit:this.handleExit,onExiting:this.handleExiting,addEndListener:this.addEndListener,timeout:"auto"===m?null:m},y),(function(e,s){return f.default.createElement(c,(0,o.default)({className:(0,d.default)(n.container,(0,a.default)({},n.entered,"entered"===e),u),style:(0,i.default)({},p,{minHeight:l})},s),f.default.createElement("div",{className:n.wrapper,ref:function ref(e){t.wrapper=e}},f.default.createElement("div",{className:n.wrapperInner},r)))}))}}]),Collapse}(f.default.Component);_.propTypes={},_.defaultProps={collapsedHeight:"0px",component:"div",timeout:y.duration.standard},_.muiSupportAuto=!0;var b=(0,m.default)(v,{withTheme:!0,name:"MuiCollapse"})(_);e.default=b},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(8)),l=r(163);r(61);var c=function styles(t){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"".concat(2*t.spacing.unit,"px ").concat(t.spacing.unit,"px")},action:{marginLeft:t.spacing.unit}}};function ExpansionPanelActions(t){var e=t.children,r=t.classes,n=t.className,u=(0,i.default)(t,["children","classes","className"]);return a.default.createElement("div",(0,o.default)({className:(0,s.default)(r.root,n)},u),(0,l.cloneChildrenWithClassName)(e,r.action))}e.styles=c,ExpansionPanelActions.propTypes={};var p=(0,u.default)(c,{name:"MuiExpansionPanelActions"})(ExpansionPanelActions);e.default=p},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(0)),s=(n(r(9)),n(r(3))),u=n(r(8)),l=function styles(t){return{root:{display:"flex",padding:"".concat(t.spacing.unit,"px ").concat(3*t.spacing.unit,"px ").concat(3*t.spacing.unit,"px")}}};function ExpansionPanelDetails(t){var e=t.classes,r=t.children,n=t.className,u=(0,i.default)(t,["classes","children","className"]);return a.default.createElement("div",(0,o.default)({className:(0,s.default)(e.root,n)},u),r)}e.styles=l,ExpansionPanelDetails.propTypes={};var c=(0,u.default)(l,{name:"MuiExpansionPanelDetails"})(ExpansionPanelDetails);e.default=c},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(3))),d=n(r(112)),h=n(r(63)),m=n(r(8)),y=function styles(t){var e={duration:t.transitions.duration.shortest};return{root:{display:"flex",minHeight:6*t.spacing.unit,transition:t.transitions.create(["min-height","background-color"],e),padding:"0 ".concat(3*t.spacing.unit,"px 0 ").concat(3*t.spacing.unit,"px"),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:t.palette.grey[300]},"&$disabled":{opacity:.38}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:t.transitions.create(["margin"],e),margin:"12px 0","& > :last-child":{paddingRight:4*t.spacing.unit},"&$expanded":{margin:"20px 0"}},expandIcon:{position:"absolute",top:"50%",right:t.spacing.unit,transform:"translateY(-50%) rotate(0deg)",transition:t.transitions.create("transform",e),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"translateY(-50%) rotate(180deg)"}}}};e.styles=y;var g=function(t){function ExpansionPanelSummary(){var t,e,r;(0,s.default)(this,ExpansionPanelSummary);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=ExpansionPanelSummary.__proto__||Object.getPrototypeOf(ExpansionPanelSummary)).call.apply(t,[this].concat(o))),r.state={focused:!1},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleChange=function(t){var e=r.props,n=e.onChange,o=e.onClick;n&&n(t),o&&o(t)},e))}return(0,c.default)(ExpansionPanelSummary,t),(0,u.default)(ExpansionPanelSummary,[{key:"render",value:function render(){var t,e=this.props,r=e.children,n=e.classes,s=e.className,u=e.disabled,l=e.expanded,c=e.expandIcon,m=(e.onChange,(0,a.default)(e,["children","classes","className","disabled","expanded","expandIcon","onChange"])),y=this.state.focused;return p.default.createElement(d.default,(0,o.default)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":l,className:(0,f.default)(n.root,(t={},(0,i.default)(t,n.disabled,u),(0,i.default)(t,n.expanded,l),(0,i.default)(t,n.focused,y),t),s)},m,{onFocusVisible:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleChange}),p.default.createElement("div",{className:(0,f.default)(n.content,(0,i.default)({},n.expanded,l))},r),c&&p.default.createElement(h.default,{disabled:u,className:(0,f.default)(n.expandIcon,(0,i.default)({},n.expanded,l)),component:"div",tabIndex:-1,"aria-hidden":"true"},c))}}]),ExpansionPanelSummary}(p.default.Component);g.propTypes={},g.defaultProps={disabled:!1},g.muiName="ExpansionPanelSummary";var v=(0,m.default)(y,{name:"MuiExpansionPanelSummary"})(g);e.default=v},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=(n(r(64)),n(r(8))),c=r(139),p=function styles(t){return{root:{position:"relative",overflow:"hidden",height:5},colorPrimary:{backgroundColor:(0,c.lighten)(t.palette.primary.light,.6)},colorSecondary:{backgroundColor:(0,c.lighten)(t.palette.secondary.light,.4)},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat((0,c.lighten)(t.palette.primary.light,.6)," 0%, ").concat((0,c.lighten)(t.palette.primary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat((0,c.lighten)(t.palette.secondary.light,.4)," 0%, ").concat((0,c.lighten)(t.palette.secondary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:t.palette.primary.main},barColorSecondary:{backgroundColor:t.palette.secondary.main},bar1Indeterminate:{width:"auto",willChange:"left, right",animation:"mui-indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar2Indeterminate:{width:"auto",willChange:"left, right",animation:"mui-indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite",animationDelay:"1.15s"},bar1Determinate:{willChange:"transform",transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes mui-indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes mui-indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}};function LinearProgress(t){var e,r,n,l,c=t.classes,p=t.className,f=t.color,d=t.value,h=t.valueBuffer,m=t.variant,y=(0,a.default)(t,["classes","className","color","value","valueBuffer","variant"]),g=(0,u.default)(c.root,(e={},(0,i.default)(e,c.colorPrimary,"primary"===f),(0,i.default)(e,c.colorSecondary,"secondary"===f),(0,i.default)(e,c.buffer,"buffer"===m),(0,i.default)(e,c.query,"query"===m),e),p),v=(0,u.default)(c.dashed,(r={},(0,i.default)(r,c.dashedColorPrimary,"primary"===f),(0,i.default)(r,c.dashedColorSecondary,"secondary"===f),r)),_=(0,u.default)(c.bar,(n={},(0,i.default)(n,c.barColorPrimary,"primary"===f),(0,i.default)(n,c.barColorSecondary,"secondary"===f),(0,i.default)(n,c.bar1Indeterminate,"indeterminate"===m||"query"===m),(0,i.default)(n,c.bar1Determinate,"determinate"===m),(0,i.default)(n,c.bar1Buffer,"buffer"===m),n)),b=(0,u.default)(c.bar,(l={},(0,i.default)(l,c.barColorPrimary,"primary"===f&&"buffer"!==m),(0,i.default)(l,c.colorPrimary,"primary"===f&&"buffer"===m),(0,i.default)(l,c.barColorSecondary,"secondary"===f&&"buffer"!==m),(0,i.default)(l,c.colorSecondary,"secondary"===f&&"buffer"===m),(0,i.default)(l,c.bar2Indeterminate,"indeterminate"===m||"query"===m),(0,i.default)(l,c.bar2Buffer,"buffer"===m),l)),S={},x={bar1:{},bar2:{}};return"determinate"!==m&&"buffer"!==m||void 0!==d&&(S["aria-valuenow"]=Math.round(d),x.bar1.transform="scaleX(".concat(d/100,")")),"buffer"===m&&void 0!==h&&(x.bar2.transform="scaleX(".concat((h||0)/100,")")),s.default.createElement("div",(0,o.default)({className:g,role:"progressbar"},S,y),"buffer"===m?s.default.createElement("div",{className:v}):null,s.default.createElement("div",{className:_,style:x.bar1}),"determinate"===m?null:s.default.createElement("div",{className:b,style:x.bar2}))}e.styles=p,LinearProgress.propTypes={},LinearProgress.defaultProps={color:"primary",variant:"indeterminate"};var f=(0,l.default)(p,{name:"MuiLinearProgress"})(LinearProgress);e.default=f},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(11)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(28)),f=n(r(0)),d=(n(r(9)),n(r(113))),h=n(r(87)),m=(n(r(64)),n(r(3))),y=r(1010),g=r(73),v=n(r(192)),_=n(r(194)),b=n(r(352)),S=n(r(8)),x=function styles(t){return{popper:{zIndex:t.zIndex.tooltip,pointerEvents:"none","&$open":{pointerEvents:"auto"}},open:{},tooltip:{backgroundColor:t.palette.grey[700],borderRadius:t.shape.borderRadius,color:b.default.white,fontFamily:t.typography.fontFamily,opacity:0,transform:"scale(0)",transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shortest,easing:t.transitions.easing.easeIn}),minHeight:0,padding:"".concat(t.spacing.unit/2,"px ").concat(t.spacing.unit,"px"),fontSize:t.typography.pxToRem(10),lineHeight:"".concat(t.typography.round(1.4),"em"),"&$open":{opacity:.9,transform:"scale(1)",transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shortest,easing:t.transitions.easing.easeOut})}},touch:{padding:"".concat(t.spacing.unit,"px ").concat(2*t.spacing.unit,"px"),fontSize:t.typography.pxToRem(14),lineHeight:"".concat(t.typography.round(16/14),"em")},tooltipPlacementLeft:(0,p.default)({transformOrigin:"right center",margin:"0 ".concat(3*t.spacing.unit,"px")},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,p.default)({transformOrigin:"left center",margin:"0 ".concat(3*t.spacing.unit,"px")},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,p.default)({transformOrigin:"center bottom",margin:"".concat(3*t.spacing.unit,"px 0")},t.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,p.default)({transformOrigin:"center top",margin:"".concat(3*t.spacing.unit,"px 0")},t.breakpoints.up("sm"),{margin:"14px 0"})}};e.styles=x;var w=function(t){function Tooltip(t){var e;return(0,s.default)(this,Tooltip),(e=(0,l.default)(this,(Tooltip.__proto__||Object.getPrototypeOf(Tooltip)).call(this,t))).enterTimer=null,e.leaveTimer=null,e.touchTimer=null,e.closeTimer=null,e.isControlled=null,e.popper=null,e.children=null,e.ignoreNonTouchEvents=!1,e.handleResize=(0,h.default)((function(){e.popper&&e.popper._popper.scheduleUpdate()}),166),e.state={},e.handleEnter=function(t){var r=e.props,n=r.children,o=r.enterDelay,i=n.props;"focus"===t.type&&i.onFocus&&i.onFocus(t),"mouseover"===t.type&&i.onMouseOver&&i.onMouseOver(t),e.ignoreNonTouchEvents&&"touchstart"!==t.type||(clearTimeout(e.enterTimer),clearTimeout(e.leaveTimer),o?(t.persist(),e.enterTimer=setTimeout((function(){e.handleOpen(t)}),o)):e.handleOpen(t))},e.handleOpen=function(t){e.isControlled||e.setState({open:!0}),e.props.onOpen&&e.props.onOpen(t,!0)},e.handleLeave=function(t){var r=e.props,n=r.children,o=r.leaveDelay,i=n.props;"blur"===t.type&&i.onBlur&&i.onBlur(t),"mouseleave"===t.type&&i.onMouseLeave&&i.onMouseLeave(t),clearTimeout(e.enterTimer),clearTimeout(e.leaveTimer),o?(t.persist(),e.leaveTimer=setTimeout((function(){e.handleClose(t)}),o)):e.handleClose(t)},e.handleClose=function(t){e.isControlled||e.setState({open:!1}),e.props.onClose&&e.props.onClose(t,!1),clearTimeout(e.closeTimer),e.closeTimer=setTimeout((function(){e.ignoreNonTouchEvents=!1}),e.props.theme.transitions.duration.shortest)},e.handleTouchStart=function(t){e.ignoreNonTouchEvents=!0;var r=e.props,n=r.children,o=r.enterTouchDelay,i=n.props;i.onTouchStart&&i.onTouchStart(t),clearTimeout(e.leaveTimer),clearTimeout(e.closeTimer),clearTimeout(e.touchTimer),t.persist(),e.touchTimer=setTimeout((function(){e.handleEnter(t)}),o)},e.handleTouchEnd=function(t){var r=e.props,n=r.children,o=r.leaveTouchDelay,i=n.props;i.onTouchEnd&&i.onTouchEnd(t),clearTimeout(e.touchTimer),clearTimeout(e.leaveTimer),t.persist(),e.leaveTimer=setTimeout((function(){e.handleClose(t)}),o)},e.isControlled=null!=t.open,e.isControlled||(e.state.open=!1),e}return(0,c.default)(Tooltip,t),(0,u.default)(Tooltip,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.enterTimer),clearTimeout(this.leaveTimer),clearTimeout(this.touchTimer),clearTimeout(this.closeTimer),this.handleResize.clear()}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=e.classes,s=(e.className,e.disableFocusListener),u=e.disableHoverListener,l=e.disableTouchListener,c=(e.enterDelay,e.enterTouchDelay,e.id),h=(e.leaveDelay,e.leaveTouchDelay,e.onClose,e.onOpen,e.open),b=e.placement,S=e.PopperProps,x=(S=void 0===S?{}:S).className,w=(0,a.default)(S,["className"]),E=e.theme,P=e.title,C=(0,a.default)(e,["children","classes","className","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterTouchDelay","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","theme","title"]),T="rtl"===E.direction?function flipPlacement(t){switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(b):b,D=this.isControlled?h:this.state.open,M={"aria-describedby":c};return""===P&&(D=!1),l||(M.onTouchStart=this.handleTouchStart,M.onTouchEnd=this.handleTouchEnd),u||(M.onMouseOver=this.handleEnter,M.onMouseLeave=this.handleLeave),s||(M.onFocus=this.handleEnter,M.onBlur=this.handleLeave),f.default.createElement(y.Manager,(0,o.default)({tag:!1},C),f.default.createElement(d.default,{target:"window",onResize:this.handleResize}),f.default.createElement(y.Target,null,(function(e){var n=e.targetProps;return f.default.createElement(v.default,{rootRef:function rootRef(e){t.children=e,n.ref(t.children)}},f.default.cloneElement(r,M))})),f.default.createElement(_.default,null,f.default.createElement(y.Popper,(0,o.default)({placement:T,eventsEnabled:D,className:(0,m.default)(n.popper,(0,p.default)({},n.open,D),x),ref:function ref(e){t.popper=e}},w),(function(e){var r=e.popperProps,a=e.restProps,s=(r["data-placement"]||T).split("-")[0];return f.default.createElement("div",(0,o.default)({},r,a,{style:(0,i.default)({},r.style,{top:r.style.top||0,left:r.style.left||0},a.style)}),f.default.createElement("div",{id:c,role:"tooltip","aria-hidden":!D,className:(0,m.default)(n.tooltip,(0,p.default)({},n.open,D),(0,p.default)({},n.touch,t.ignoreNonTouchEvents),n["tooltipPlacement".concat((0,g.capitalize)(s))])},P))}))))}}]),Tooltip}(f.default.Component);w.propTypes={},w.defaultProps={disableFocusListener:!1,disableHoverListener:!1,disableTouchListener:!1,enterDelay:0,enterTouchDelay:1e3,leaveDelay:0,leaveTouchDelay:1500,placement:"bottom"};var E=(0,S.default)(x,{name:"MuiTooltip",withTheme:!0})(w);e.default=E},function(t,e,r){"use strict";var n=r(911);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(36)),a=n(r(28)),s=n(r(11)),u=n(r(0)),l=(n(r(9)),n(r(3))),c=n(r(8)),p=r(73),f=44;function easeOut(t){return t=function getRelativeValue(t,e,r){return(Math.min(Math.max(e,t),r)-e)/(r-e)}(t,0,1),t=(t-=1)*t*t+1}var d=function styles(t){return{root:{display:"inline-block",lineHeight:1},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"mui-progress-circular-rotate 1.4s linear infinite"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"mui-progress-circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes mui-progress-circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes mui-progress-circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-120px"}}}};function CircularProgress(t){var e,r,n=t.classes,c=t.className,d=t.color,h=t.size,m=t.style,y=t.thickness,g=t.value,v=t.variant,_=(0,s.default)(t,["classes","className","color","size","style","thickness","value","variant"]),b={},S={},x={};if("determinate"===v||"static"===v){var w=2*Math.PI*((f-y)/2);b.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(g),"static"===v?(b.strokeDashoffset="".concat(((100-g)/100*w).toFixed(3),"px"),S.transform="rotate(-90deg)"):(b.strokeDashoffset="".concat((function easeIn(t){return t*t}((100-g)/100)*w).toFixed(3),"px"),S.transform="rotate(".concat((270*easeOut(g/70)).toFixed(3),"deg)"))}return u.default.createElement("div",(0,o.default)({className:(0,l.default)(n.root,(e={},(0,a.default)(e,n["color".concat((0,p.capitalize)(d))],"inherit"!==d),(0,a.default)(e,n.indeterminate,"indeterminate"===v),(0,a.default)(e,n.static,"static"===v),e),c),style:(0,i.default)({width:h,height:h},S,m),role:"progressbar"},x,_),u.default.createElement("svg",{className:n.svg,viewBox:"".concat(f/2," ").concat(f/2," ").concat(f," ").concat(f)},u.default.createElement("circle",{className:(0,l.default)(n.circle,(r={},(0,a.default)(r,n.circleIndeterminate,"indeterminate"===v),(0,a.default)(r,n.circleStatic,"static"===v),r)),style:b,cx:f,cy:f,r:(f-y)/2,fill:"none",strokeWidth:y})))}e.styles=d,CircularProgress.propTypes={},CircularProgress.defaultProps={color:"primary",size:40,thickness:3.6,value:0,variant:"indeterminate"};var h=(0,c.default)(d,{name:"MuiCircularProgress",flip:!1})(CircularProgress);e.default=h},function(t,e,r){t.exports=r(914)()},function(t,e,r){"use strict";var n=r(915);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";t.exports=function(t,e){e=Object.assign({},e);var r=function filter(t){var r=function match(e){return"string"===typeof e?t===e:e.test(t)};return e.include?e.include.some(r):!e.exclude||!e.exclude.some(r)},n=!0,o=!1,i=void 0;try{for(var a,s=Object.getOwnPropertyNames(t.constructor.prototype)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,l=t[u];"constructor"!==u&&"function"===typeof l&&r(u)&&(t[u]=l.bind(t))}}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return t};var n=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];t.exports.react=function(e,r){return(r=Object.assign({},r)).exclude=(r.exclude||[]).concat(n),t.exports(e,r)}},function(t,e,r){"use strict";var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}t.exports=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=new Set,a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value,f="undefined"===typeof p?"undefined":o(p);if("string"===f&&p.length>0)i.add(p);else if("object"===f&&null!==p){var d=!0,h=!1,m=void 0;try{for(var y,g=Object.entries(p)[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value,_=n(v,2),b=_[0],S=_[1];S&&i.add(b)}}catch(x){h=!0,m=x}finally{try{!d&&g.return&&g.return()}finally{if(h)throw m}}}}}catch(x){s=!0,u=x}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return[].concat(_toConsumableArray(i)).join(" ")}},function(t,e,r){"use strict";var n=r(116),o=r(919),i=r(921),a=r(922),s=r(924),u={},l=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){o.assertShape({query:o.required(o.string),mode:o.oneOf("mapbox.places","mapbox.places-permanent"),countries:o.arrayOf(o.string),proximity:o.coordinates,types:o.arrayOf(o.oneOf(l)),autocomplete:o.boolean,bbox:o.arrayOf(o.number),limit:o.number,language:o.arrayOf(o.string)})(t),t.mode=t.mode||"mapbox.places";var e=a(n({country:t.countries},i(t,["proximity","types","autocomplete","bbox","limit","language"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:i(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){o.assertShape({query:o.required(o.coordinates),mode:o.oneOf("mapbox.places","mapbox.places-permanent"),countries:o.arrayOf(o.string),types:o.arrayOf(o.oneOf(l)),bbox:o.arrayOf(o.number),limit:o.number,language:o.arrayOf(o.string),reverseMode:o.oneOf("distance","score")})(t),t.mode=t.mode||"mapbox.places";var e=a(n({country:t.countries},i(t,["country","types","bbox","limit","language","reverseMode"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:i(t,["mode","query"]),query:e})},t.exports=s(u)},function(t,e,r){"use strict";(function(e){var n=r(116),o=r(920);t.exports=n(o,{file:function file(t){if("undefined"!==typeof window){if(t instanceof e.Blob||t instanceof e.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!==typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function date(t){if("boolean"===typeof t)return"date";try{var e=new Date(t);if(e.getTime&&isNaN(e.getTime()))return"date"}catch(r){return"date"}},coordinates:function coordinates(t){return o.tuple(o.number,o.number)(t)},assertShape:function assertShape(t,e){return o.assert(o.strictShape(t),e)}})}).call(this,r(32))},function(t,e,r){"use strict";var n=r(335),o=r(116),i="value",a={};function createArrayValidator(t){var e=Array.isArray(t),r=function getValidator(r){return e?t[r]:t};return function arrayValidator(n){var o=validate(a.plainArray,n);if(o)return o;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var i=0;i<n.length;i++)if(o=validate(r(i),n[i]))return[i].concat(o)}}function validate(t,e){if(null!=e||t.hasOwnProperty("__required")){var r=t(e);return r?Array.isArray(r)?r:[r]:void 0}}function processMessage(t,e){var r=t.length,n=t[r-1],a=t.slice(0,r-1);return 0===a.length&&(a=[i]),e=o(e,{path:a}),"function"===typeof n?n(e):formatErrorMessage(e,function prettifyResult(t){return"must be "+function addArticle(t){if(/^an? /.test(t))return t;if(/^[aeiou]/i.test(t))return"an "+t;if(/^[a-z]/i.test(t))return"a "+t;return t}(t)+"."}(n))}function orList(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function formatErrorMessage(t,e){return(isArrayCulprit(t.path)?"Item at position ":"")+(t.path.join(".")+" "+e)}function isArrayCulprit(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}a.assert=function(t,e){return e=e||{},function(r){var n=validate(t,r);if(n){var o=processMessage(n,e);throw e.apiName&&(o=e.apiName+": "+o),new Error(o)}}},a.shape=function shape(t){var e=function objectEntries(t){return Object.keys(t||{}).map((function(e){return{key:e,value:t[e]}}))}(t);return function shapeValidator(t){var r,n=validate(a.plainObject,t);if(n)return n;for(var o=[],s=0;s<e.length;s++)r=e[s].key,(n=validate(e[s].value,t[r]))&&o.push([r].concat(n));return o.length<2?o[0]:function(t){o=o.map((function(e){return"- "+e[0]+": "+processMessage(e,t).split("\n").join("\n  ")}));var e=t.path.join(".");return"The following properties"+(e===i?"":" of "+e)+" have invalid values:\n  "+o.join("\n  ")}}},a.strictShape=function strictShape(t){var e=a.shape(t);return function strictShapeValidator(r){var n=e(r);if(n)return n;var o=Object.keys(r).reduce((function(e,r){return void 0===t[r]&&e.push(r),e}),[]);return 0!==o.length?function(){return"The following keys are invalid: "+o.join(", ")}:void 0}},a.arrayOf=function arrayOf(t){return createArrayValidator(t)},a.tuple=function tuple(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return createArrayValidator(t)},a.required=function required(t){function requiredValidator(e){return null==e?function(t){return formatErrorMessage(t,isArrayCulprit(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return requiredValidator.__required=!0,requiredValidator},a.oneOfType=function oneOfType(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function oneOfTypeValidator(e){var r=t.map((function(t){return validate(t,e)})).filter(Boolean);if(r.length===t.length)return r.every((function(t){return 1===t.length&&"string"===typeof t[0]}))?orList(r.map((function(t){return t[0]}))):r.reduce((function(t,e){return e.length>t.length?e:t}))}},a.equal=function equal(t){return function equalValidator(e){if(e!==t)return JSON.stringify(t)}},a.oneOf=function oneOf(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return a.equal(t)}));return a.oneOfType.apply(this,e)},a.range=function range(t){var e=t[0],r=t[1];return function rangeValidator(t){if(validate(a.number,t)||t<e||t>r)return"number between "+e+" & "+r+" (inclusive)"}},a.any=function any(){},a.boolean=function boolean(t){if("boolean"!==typeof t)return"boolean"},a.number=function number(t){if("number"!==typeof t)return"number"},a.plainArray=function plainArray(t){if(!Array.isArray(t))return"array"},a.plainObject=function plainObject(t){if(!n(t))return"object"},a.string=function string(t){if("string"!==typeof t)return"string"},a.func=function func(t){if("function"!==typeof t)return"function"},a.validate=validate,a.processMessage=processMessage,t.exports=a},function(t,e,r){"use strict";t.exports=function pick(t,e){var r=function filter(t,r){return-1!==e.indexOf(t)&&void 0!==r};return"function"===typeof e&&(r=e),Object.keys(t).filter((function(e){return r(e,t[e])})).reduce((function(e,r){return e[r]=t[r],e}),{})}},function(t,e,r){"use strict";var n=r(923);t.exports=function stringifyBoolean(t){return n(t,(function(t,e){return"boolean"===typeof e?JSON.stringify(e):e}))}},function(t,e,r){"use strict";t.exports=function objectMap(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=e(n,t[n]),r}),{})}},function(t,e,r){"use strict";var n=r(381),o=r(930);t.exports=function createServiceFactory(t){return function(e){var r;r=n.prototype.isPrototypeOf(e)?e:o(e);var i=Object.create(t);return i.client=r,i}}},function(t,e,r){(function(t,n){var o;!function(i){var a=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var u=function InvalidCharacterError(t){this.message=t};(u.prototype=new Error).name="InvalidCharacterError";var l=function error(t){throw new u(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=/[\t\n\f\r ]/g,f={encode:function encode(t){t=String(t),/[^\0-\xFF]/.test(t)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,o,i=t.length%3,a="",s=-1,u=t.length-i;++s<u;)e=t.charCodeAt(s)<<16,r=t.charCodeAt(++s)<<8,n=t.charCodeAt(++s),a+=c.charAt((o=e+r+n)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(e=t.charCodeAt(s)<<8,r=t.charCodeAt(++s),a+=c.charAt((o=e+r)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=t.charCodeAt(s),a+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),a},decode:function decode(t){var e=(t=String(t).replace(p,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,i="",a=-1;++a<e;)n=c.indexOf(t.charAt(a)),r=o%4?64*r+n:n,o++%4&&(i+=String.fromCharCode(255&r>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(926)(t),r(32))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(382),o=r(116),i=r(928),a=r(929),s=r(200),u=1;function MapiRequest(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var r={};e.body&&(r["content-type"]="application/json");var n=o(r,e.headers),a=Object.keys(n).reduce((function(t,e){return t[e.toLowerCase()]=n[e],t}),{});this.id=u++,this._options=e,this.emitter=new i,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.headers=a}MapiRequest.prototype.url=function url(t){var url=a.prependOrigin(this.path,this.origin);url=a.appendQueryObject(url,this.query);var e=this.params;if(t){url=a.appendQueryParam(url,"access_token",t);var r=n(t).user;e=o({ownerId:r},e)}return url=a.interpolateRouteParams(url,e),url},MapiRequest.prototype.send=function send(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(s.EVENT_RESPONSE,e),e}),(function(e){throw t.error=e,t.emitter.emit(s.EVENT_ERROR,e),e}))},MapiRequest.prototype.abort=function abort(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},MapiRequest.prototype.eachPage=function eachPage(t){var e=this;function handleResponse(r){t(null,r,(function getNextPage(){delete e._nextPageRequest;var t=r.nextPage();t&&(e._nextPageRequest=t,getPage(t))}))}function handleError(e){t(e,null,(function(){}))}function getPage(t){t.send().then(handleResponse,handleError)}getPage(this)},MapiRequest.prototype.clone=function clone(){return this._extend()},MapiRequest.prototype._extend=function _extend(t){var e=o(this._options,t);return new MapiRequest(this.client,e)},t.exports=MapiRequest},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function Events(){}function EE(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function addListener(t,e,r,n,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new EE(r,n||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function clearEvent(t,e){0===--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(o=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},EventEmitter.prototype.listeners=function listeners(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},EventEmitter.prototype.listenerCount=function listenerCount(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},EventEmitter.prototype.emit=function emit(t,e,r,n,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,a),!0}for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),p){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(p-1);f<p;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},EventEmitter.prototype.on=function on(t,e,r){return addListener(this,t,e,r,!1)},EventEmitter.prototype.once=function once(t,e,r){return addListener(this,t,e,r,!0)},EventEmitter.prototype.removeListener=function removeListener(t,e,r,n){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return clearEvent(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||clearEvent(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==e||n&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]);u.length?this._events[i]=1===u.length?u[0]:u:clearEvent(this,i)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e;return t?(e=o?o+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=o,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},function(t,e,r){"use strict";function encodeValue(t){return Array.isArray(t)?function encodeArray(t){return t.map(encodeURIComponent).join(",")}(t):encodeURIComponent(String(t))}function appendQueryParam(t,e,r){if(!1===r||null===r)return t;var n=/\?/.test(t)?"&":"?",o=encodeURIComponent(e);return void 0!==r&&""!==r&&!0!==r&&(o+="="+encodeValue(r)),""+t+n+o}t.exports={appendQueryObject:function appendQueryObject(t,e){if(!e)return t;var r=t;return Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(Array.isArray(n)&&(n=n.filter((function(t){return!!t})).join(",")),r=appendQueryParam(r,t,n))})),r},appendQueryParam:appendQueryParam,prependOrigin:function prependOrigin(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var r="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+r+t},interpolateRouteParams:function interpolateRouteParams(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,r){var n=e[r];if(void 0===n)throw new Error("Unspecified route parameter "+r);return"/"+encodeValue(n)})):t}}},function(t,e,r){"use strict";var n=r(931),o=r(381);function BrowserClient(t){o.call(this,t)}BrowserClient.prototype=Object.create(o.prototype),BrowserClient.prototype.constructor=BrowserClient,BrowserClient.prototype.sendRequest=n.browserSend,BrowserClient.prototype.abortRequest=n.browserAbort,t.exports=function createBrowserClient(t){return new BrowserClient(t)}},function(t,e,r){"use strict";var n=r(932),o=r(934),i=r(200),a=r(935),s={};function normalizeBrowserProgressEvent(t){var e=t.total,r=t.loaded;return{total:e,transferred:r,percent:100*r/e}}function sendRequestXhr(t,e){return new Promise((function(r,n){e.onprogress=function(e){t.emitter.emit(i.EVENT_PROGRESS_DOWNLOAD,normalizeBrowserProgressEvent(e))},e.upload.onprogress=function(e){t.emitter.emit(i.EVENT_PROGRESS_UPLOAD,normalizeBrowserProgressEvent(e))},e.onerror=function(t){n(t)},e.onabort=function(){var e=new o({request:t,type:i.ERROR_REQUEST_ABORTED});n(e)},e.onload=function(){if(delete s[t.id],e.status<200||e.status>=400){var i=new o({request:t,body:e.response,statusCode:e.status});n(i)}else r(e)};var a=t.body,u=t.file;"string"===typeof a?e.send(a):a?e.send(JSON.stringify(a)):u?e.send(u):e.send(),s[t.id]=e})).then((function(e){return function createResponse(t,e){return new n(t,{body:e.response,headers:a(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)}))}function createRequestXhr(t,e){var r=t.url(e),n=new window.XMLHttpRequest;return n.open(t.method,r),t.headers&&Object.keys(t.headers).forEach((function(e){n.setRequestHeader(e,t.headers[e])})),n}t.exports={browserAbort:function browserAbort(t){var e=s[t.id];e&&(e.abort(),delete s[t.id])},sendRequestXhr:sendRequestXhr,browserSend:function browserSend(t){return Promise.resolve().then((function(){var e=createRequestXhr(t,t.client.accessToken);return sendRequestXhr(t,e)}))},createRequestXhr:createRequestXhr}},function(t,e,r){"use strict";var n=r(933);function MapiResponse(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(r){this.body=e.body}this.links=n(this.headers.link)}MapiResponse.prototype.hasNextPage=function hasNextPage(){return!!this.links.next},MapiResponse.prototype.nextPage=function nextPage(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=MapiResponse},function(t,e,r){"use strict";t.exports=function parseLinkHeader(t){return t?t.split(/,\s*</).reduce((function(t,e){var r=function parseLink(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var r=e[1],n=e[2].split(";"),o=null,i=n.reduce((function(t,e){var r=function parseParam(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return r?"rel"===r.key?(o||(o=r.value),t):(t[r.key]=r.value,t):t}),{});return o?{url:r,rel:o,params:i}:null}(e);return r?(r.rel.split(/\s+/).forEach((function(e){t[e]||(t[e]={url:r.url,params:r.params})})),t):t}),{}):{}}},function(t,e,r){"use strict";var n=r(200);t.exports=function MapiError(t){var e,r=t.type||n.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(i){e=t.body}else e=null;var o=t.message||null;o||("string"===typeof e?o=e:e&&"string"===typeof e.message?o=e.message:r===n.ERROR_REQUEST_ABORTED&&(o="Request aborted")),this.message=o,this.type=r,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}},function(t,e,r){"use strict";t.exports=function parseHeaders(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var r=function parseSingleHeader(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[r.name]=r.value})),e):e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});_interopRequireDefault(r(0));var n=_interopRequireDefault(r(383));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)()((function Measure(t){var e=t.measure,r=t.measureRef,n=t.contentRect;return(0,t.children)({measure:e,measureRef:r,contentRect:n})})),t.exports=e.default},function(t,e,r){t.exports=r(938)()},function(t,e,r){"use strict";var n=r(939),o=r(940),i=r(941);t.exports=function(){function shim(t,e,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=n,t.PropTypes=t,t}},function(t,e,r){"use strict";function makeEmptyFunction(t){return function(){return t}}var n=function emptyFunction(){};n.thatReturns=makeEmptyFunction,n.thatReturnsFalse=makeEmptyFunction(!1),n.thatReturnsTrue=makeEmptyFunction(!0),n.thatReturnsNull=makeEmptyFunction(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,r){"use strict";var n=function validateFormat(t){};t.exports=function invariant(t,e,r,o,i,a,s,u){if(n(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,a,s,u],p=0;(l=new Error(e.replace(/%s/g,(function(){return c[p++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";r.r(e),function(t){var r=function(){if("undefined"!==typeof Map)return Map;function getIndex(t,e){var r=-1;return t.some((function(t,n){return t[0]===e&&(r=n,!0)})),r}return function(){function anonymous(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},anonymous.prototype.get=function(t){var e=getIndex(this.__entries__,t),r=this.__entries__[e];return r&&r[1]},anonymous.prototype.set=function(t,e){var r=getIndex(this.__entries__,t);~r?this.__entries__[r][1]=e:this.__entries__.push([t,e])},anonymous.prototype.delete=function(t){var e=this.__entries__,r=getIndex(e,t);~r&&e.splice(r,1)},anonymous.prototype.has=function(t){return!!~getIndex(this.__entries__,t)},anonymous.prototype.clear=function(){this.__entries__.splice(0)},anonymous.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r+=1){var o=n[r];t.call(e,o[1],o[0])}},Object.defineProperties(anonymous.prototype,t),anonymous}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),i="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=2,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,l=function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(t,e){var r=!1,n=!1,o=0;function resolvePending(){r&&(r=!1,t()),n&&proxy()}function timeoutCallback(){i(resolvePending)}function proxy(){var t=Date.now();if(r){if(t-o<a)return;n=!0}else r=!0,n=!1,setTimeout(timeoutCallback,e);o=t}return proxy}(this.refresh.bind(this),20)};l.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},l.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},l.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),s.some((function(t){return!!~e.indexOf(t)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var c=function defineConfigurable(t,e){for(var r=0,n=Object.keys(e);r<n.length;r+=1){var o=n[r];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},p=function getWindowOf(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},f=createRectInit(0,0,0,0);function toFloat(t){return parseFloat(t)||0}function getBordersSize(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e.reduce((function(e,r){return e+toFloat(t["border-"+r+"-width"])}),0)}function getHTMLElementContentRect(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return f;var n=p(t).getComputedStyle(t),o=function getPaddings(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r+=1){var o=n[r],i=t["padding-"+o];e[o]=toFloat(i)}return e}(n),i=o.left+o.right,a=o.top+o.bottom,s=toFloat(n.width),u=toFloat(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==e&&(s-=getBordersSize(n,"left","right")+i),Math.round(u+a)!==r&&(u-=getBordersSize(n,"top","bottom")+a)),!function isDocumentElement(t){return t===p(t).document.documentElement}(t)){var l=Math.round(s+i)-e,c=Math.round(u+a)-r;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return createRectInit(o.left,o.top,s,u)}var d="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"===typeof t.getBBox};function getContentRect(t){return n?d(t)?function getSVGContentRect(t){var e=t.getBBox();return createRectInit(0,0,e.width,e.height)}(t):getHTMLElementContentRect(t):f}function createRectInit(t,e,r,n){return{x:t,y:e,width:r,height:n}}var h=function ResizeObservation(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=t};h.prototype.isActive=function(){var t=getContentRect(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},h.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var m=function ResizeObserverEntry(t,e){var r=function createReadOnlyRect(t){var e=t.x,r=t.y,n=t.width,o=t.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return c(a,{x:e,y:r,width:n,height:o,top:r,right:e+n,bottom:o+r,left:e}),a}(e);c(this,{target:t,contentRect:r})},y=function ResizeObserverSPI(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};y.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new h(t)),this.controller_.addObserver(this),this.controller_.refresh())}},y.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},y.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},y.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},y.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new m(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},y.prototype.clearActive=function(){this.activeObservations_.splice(0)},y.prototype.hasActive=function(){return this.activeObservations_.length>0};var g="undefined"!==typeof WeakMap?new WeakMap:new r,v=function ResizeObserver(t){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=l.getInstance(),r=new y(t,e,this);g.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){v.prototype[t]=function(){return(e=g.get(this))[t].apply(e,arguments);var e}}));var _="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:v;e.default=_}.call(this,r(32))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getTypes(t){var e=[];return n.forEach((function(r){t[r]&&e.push(r)})),e};var n=["client","offset","scroll","bounds","margin"];t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function getContentRect(t,e){var r={};if(e.indexOf("client")>-1&&(r.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(r.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(r.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var n=t.getBoundingClientRect();r.bounds={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}if(e.indexOf("margin")>-1){var o=getComputedStyle(t);r.margin={top:parseInt(o.marginTop),right:parseInt(o.marginRight),bottom:parseInt(o.marginBottom),left:parseInt(o.marginLeft)}}return r},t.exports=e.default},function(t,e,r){r(946),t.exports=r(53).Object.getPrototypeOf},function(t,e,r){var n=r(160),o=r(325);r(270)("getPrototypeOf",(function(){return function getPrototypeOf(t){return o(n(t))}}))},function(t,e,r){r(948);var n=r(53).Object;t.exports=function defineProperty(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(82);n(n.S+n.F*!r(111),"Object",{defineProperty:r(101).f})},function(t,e,r){r(950),t.exports=r(53).Object.assign},function(t,e,r){var n=r(82);n(n.S+n.F,"Object",{assign:r(951)})},function(t,e,r){"use strict";var n=r(158),o=r(262),i=r(198),a=r(160),s=r(323),u=Object.assign;t.exports=!u||r(136)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n}))?function assign(t,e){for(var r=a(t),u=arguments.length,l=1,c=o.f,p=i.f;u>l;)for(var f,d=s(arguments[l++]),h=c?n(d).concat(c(d)):n(d),m=h.length,y=0;m>y;)p.call(d,f=h[y++])&&(r[f]=d[f]);return r}:u},function(t,e,r){"use strict";var n=r(953);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){r(955),t.exports=r(53).Object.keys},function(t,e,r){var n=r(160),o=r(158);r(270)("keys",(function(){return function keys(t){return o(n(t))}}))},function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=!("undefined"===typeof window||!window.document||!window.document.createElement);e.default=n,t.exports=e.default},function(t,e,r){r(958);var n=r(53).Object;t.exports=function getOwnPropertyDescriptor(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,r){var n=r(123),o=r(263).f;r(270)("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(t,e){return o(n(t),e)}}))},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(28)),a=n(r(11)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=r(73),p=function styles(t){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:-12,right:-12,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeight,fontSize:t.typography.pxToRem(12),width:24,height:24,borderRadius:"50%",backgroundColor:t.palette.color,color:t.palette.textColor,zIndex:1},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorError:{backgroundColor:t.palette.error.main,color:t.palette.error.contrastText}}};function Badge(t){var e=t.badgeContent,r=t.children,n=t.classes,l=t.className,p=t.color,f=t.component,d=(0,a.default)(t,["badgeContent","children","classes","className","color","component"]),h=(0,u.default)(n.badge,(0,i.default)({},n["color".concat((0,c.capitalize)(p))],"default"!==p));return s.default.createElement(f,(0,o.default)({className:(0,u.default)(n.root,l)},d),r,s.default.createElement("span",{className:h},e))}e.styles=p,Badge.propTypes={},Badge.defaultProps={color:"default",component:"span"};var f=(0,l.default)(p,{name:"MuiBadge"})(Badge);e.default=f},function(t,e,r){t.exports=function(){"use strict";var t,e,r;function define(n,o){if(t)if(e){var i="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(r=o(a)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else e=o;else t=o}return define(0,(function(E){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var P=n;function n(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var r,n,o,i,a;for(void 0===e&&(e=1e-6),o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=t)<(r=0))return r;if(o>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?r=o:n=o,o=.5*(n-r)+r}return o},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var T=a;function a(t,e){this.x=t,this.y=e}function o(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!o(t[r],e[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!o(t[n],e[n]))return!1;return!0}return t===e}function s(t,e,r,n){var o=new P(t,e,r,n);return function(t){return o.solve(t)}}a.prototype={clone:function clone(){return new a(this.x,this.y)},add:function add(t){return this.clone()._add(t)},sub:function sub(t){return this.clone()._sub(t)},multByPoint:function multByPoint(t){return this.clone()._multByPoint(t)},divByPoint:function divByPoint(t){return this.clone()._divByPoint(t)},mult:function mult(t){return this.clone()._mult(t)},div:function div(t){return this.clone()._div(t)},rotate:function rotate(t){return this.clone()._rotate(t)},rotateAround:function rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult:function matMult(t){return this.clone()._matMult(t)},unit:function unit(){return this.clone()._unit()},perp:function perp(){return this.clone()._perp()},round:function round(){return this.clone()._round()},mag:function mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function equals(t){return this.x===t.x&&this.y===t.y},dist:function dist(t){return Math.sqrt(this.distSqr(t))},distSqr:function distSqr(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function angle(){return Math.atan2(this.y,this.x)},angleTo:function angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function _matMult(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function _add(t){return this.x+=t.x,this.y+=t.y,this},_sub:function _sub(t){return this.x-=t.x,this.y-=t.y,this},_mult:function _mult(t){return this.x*=t,this.y*=t,this},_div:function _div(t){return this.x/=t,this.y/=t,this},_multByPoint:function _multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function _divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit:function _unit(){return this._div(this.mag()),this},_perp:function _perp(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function _rotate(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,o=r*this.x+e*this.y;return this.x=n,this.y=o,this},_rotateAround:function _rotateAround(t,e){var r=Math.cos(t),n=Math.sin(t),o=e.x+r*(this.x-e.x)-n*(this.y-e.y),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=o,this.y=i,this},_round:function _round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var D=s(.25,.1,.25,1);function l(t,e,r){return Math.min(r,Math.max(e,t))}function p(t,e,r){var n=r-e,o=((t-e)%n+n)%n+e;return o===e?r:o}function c(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,o=e;n<o.length;n+=1){var i=o[n];for(var a in i)t[a]=i[a]}return t}var M=1;function f(){return M++}function y(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function m(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function g(t,e,r){var n={};for(var o in t)n[o]=e.call(r||this,t[o],o,t);return n}function x(t,e,r){var n={};for(var o in t)e.call(r||this,t[o],o,t)&&(n[o]=t[o]);return n}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?g(t,b):t}var R={};function w(t){R[t]||("undefined"!=typeof console&&console.warn(t),R[t]=!0)}function A(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function k(t){for(var e=0,r=0,n=t.length,o=n-1,i=void 0,a=void 0;r<n;o=r++)i=t[r],e+=((a=t[o]).x-i.x)*(i.y+a.y);return e}function S(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,r,n,o){var i=n||o;return e[r]=!i||i.toLowerCase(),""})),e["max-age"]){var r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r}return e}function z(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var L,I,O,F,N=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,V=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,W={now:N,frame:function frame(t){var e=j(t);return{cancel:function cancel(){return V(e)}}},getImageData:function getImageData(t,e){void 0===e&&(e=0);var r=self.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=t.width,r.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function resolveURL(t){return L||(L=self.document.createElement("a")),L.href=t,L.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==I&&(I=self.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},H={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Y={supported:!1,testSupport:function testSupport(t){!Z&&F&&(Q?U(t):O=t)}},Z=!1,Q=!1;function U(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,F),t.isContextLost())return;Y.supported=!0}catch(t){}t.deleteTexture(e),Z=!0}self.document&&((F=self.document.createElement("img")).onload=function(){O&&U(O),O=null,Q=!0},F.onerror=function(){Z=!0,O=null},F.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var $="01",tt=function j(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function q(t){return 0===t.indexOf("mapbox:")}tt.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",$,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},tt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},tt.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},tt.prototype.normalizeStyleURL=function(t,e){if(!q(t))return t;var r=X(t);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||e)},tt.prototype.normalizeGlyphsURL=function(t,e){if(!q(t))return t;var r=X(t);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||e)},tt.prototype.normalizeSourceURL=function(t,e){if(!q(t))return t;var r=X(t);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||e)},tt.prototype.normalizeSpriteURL=function(t,e,r,n){var o=X(t);return q(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+r,this._makeAPIURL(o,this._customAccessToken||n)):(o.path+=""+e+r,G(o))},tt.prototype.normalizeTileURL=function(t,e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),!e||!q(e))return t;var n=X(t),o=W.devicePixelRatio>=2||512===r?"@2x":"",i=Y.supported?".webp":"$1";return n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+o+i),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path,H.REQUIRE_ACCESS_TOKEN&&(H.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,this._customAccessToken)},tt.prototype.canonicalizeTileURL=function(t){var e=X(t);if(!e.path.match(/(^\/v4\/)/)||!e.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=e.path.replace("/v4/","");var n=e.params.filter((function(t){return!t.match(/^access_token=/)}));return n.length&&(r+="?"+n.join("&")),r},tt.prototype.canonicalizeTileset=function(t,e){if(!q(e))return t.tiles||[];for(var r=[],n=0,o=t.tiles;n<o.length;n+=1){var i=o[n],a=this.canonicalizeTileURL(i);r.push(a)}return r},tt.prototype._makeAPIURL=function(t,e){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=X(H.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!H.REQUIRE_ACCESS_TOKEN)return G(t);if(!(e=e||H.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),G(t)};var et=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(t){return et.test(t)}var rt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(t){var e=t.match(rt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function G(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e,r=t.split(".");if(!r||3!==r.length)return null;try{return JSON.parse((e=r[1],decodeURIComponent(self.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(t){return null}}var nt=function H(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};nt.prototype.getStorageKey=function(t){var e,r=J(H.ACCESS_TOKEN),n="";return r&&r.u?(e=r.u,n=self.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))})))):n=H.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+n:"mapbox.eventData:"+n},nt.prototype.fetchEventData=function(){var t=z("localStorage"),e=this.getStorageKey(),r=this.getStorageKey("uuid");if(t)try{var n=self.localStorage.getItem(e);n&&(this.eventData=JSON.parse(n));var o=self.localStorage.getItem(r);o&&(this.anonId=o)}catch(t){w("Unable to read from LocalStorage")}},nt.prototype.saveEventData=function(){var t=z("localStorage"),e=this.getStorageKey(),r=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){w("Unable to write to LocalStorage")}},nt.prototype.processRequests=function(t){},nt.prototype.postEvent=function(t,e,r,n){var o=this;if(H.EVENTS_URL){var i=X(H.EVENTS_URL);i.params.push("access_token="+(n||H.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.4.0",skuId:$,userId:this.anonId},s=e?c(a,e):a,u={url:G(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ut(u,(function(t){o.pendingRequest=null,r(t),o.saveEventData(),o.processRequests(n)}))}},nt.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var it,at=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postMapLoadEvent=function(t,e,r,n){this.skuToken=r,(H.EVENTS_URL&&n||H.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return q(t)||K(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},n)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,o=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(o,{skuToken:this.skuToken},(function(t){t||n&&(e.success[n]=!0)}),t))}},e}(nt),lt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postTurnstileEvent=function(t,e){H.EVENTS_URL&&H.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return q(t)||K(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=J(H.ACCESS_TOKEN),n=r?r.u:H.ACCESS_TOKEN,o=n!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),o=!0);var i=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(i),u=(i-this.eventData.lastSuccess)/864e5;o=o||u>=1||u<-1||a.getDate()!==s.getDate()}else o=!0;if(!o)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=i,e.eventData.tokenU=n)}),t)}},e}(nt)),ct=lt.postTurnstileEvent.bind(lt),pt=new at,ft=pt.postMapLoadEvent.bind(pt),gt="mapbox-tiles",St=500,xt=50,Tt=42e4;function st(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var Dt=1/0,Rt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Rt);var Lt=function(t){function e(e,r,n){401===r&&K(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=r,this.url=n,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function ht(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var It=ht()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function yt(t,e){var r,n=new self.AbortController,o=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:It(),signal:n.signal}),i=!1,a=!1,s=(r=o.url).indexOf("sku=")>0&&K(r);"json"===t.type&&o.headers.set("Accept","application/json");var c=function u(r,n,i){if(!a){if(r&&"SecurityError"!==r.message&&w(r),n&&i)return p(n);var u=Date.now();self.fetch(o).then((function(r){if(r.ok){var n=s?r.clone():null;return p(r,n,u)}return e(new Lt(r.statusText,r.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},p=function l(r,n,s){("arrayBuffer"===t.type?r.arrayBuffer():"json"===t.type?r.json():r.text()).then((function(t){a||(n&&s&&function ot(t,e,r){if(self.caches){var n={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return n.headers.set(e,t)}));var o=S(e.headers.get("Cache-Control")||"");o["no-store"]||(o["max-age"]&&n.headers.set("Expires",new Date(r+1e3*o["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<Tt||function(t,e){if(void 0===it)try{new Response(new ReadableStream),it=!0}catch(t){it=!1}it?e(t.body):t.blob().then(e)}(e,(function(e){var r=new self.Response(e,n);self.caches.open(gt).then((function(e){return e.put(st(t.url),r)})).catch((function(t){return w(t.message)}))})))}}(o,n,s),i=!0,e(null,t,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(t){return e(new Error(t.message))}))};return s?function ut(t,e){if(!self.caches)return e(null);var r=st(t.url);self.caches.open(gt).then((function(t){t.match(r).catch(e).then((function(n){var o=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")),r=S(t.headers.get("Cache-Control")||"");return e>Date.now()&&!r["no-cache"]}(n);t.delete(r),o&&t.put(r,n.clone()),e(null,n,o)}))})).catch(e)}(o,c):c(null,null),{cancel:function cancel(){a=!0,i||n.abort()}}}var Ot,kt,Ft=function dt(t,e){if(r=t.url,!(/^file:/.test(r)||/^file:/.test(It())&&!/^\w+:/.test(r))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return yt(t,e);if(ht()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e)}var r;return function(t,e){var r=new self.XMLHttpRequest;for(var n in r.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(r.responseType="arraybuffer"),t.headers)r.setRequestHeader(n,t.headers[n]);return"json"===t.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===t.credentials,r.onerror=function(){e(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===t.type)try{n=JSON.parse(r.response)}catch(t){return e(t)}e(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else e(new Lt(r.statusText,r.status,t.url))},r.send(t.body),{cancel:function cancel(){return r.abort()}}}(t,e)},Nt=function mt(t,e){return Ft(c(t,{type:"arrayBuffer"}),e)},Ut=function vt(t,e){return Ft(c(t,{method:"POST"}),e)};function _t(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e))}function wt(t,e,r){if(r&&r[t]){var n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1)}}Ot=[],kt=0;var zt=function At(t,e){void 0===e&&(e={}),c(this,e),this.type=t},jt=function(t){function e(e,r){void 0===r&&(r={}),t.call(this,"error",c({error:e},r))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zt),Gt=function St(){};Gt.prototype.on=function(t,e){return this._listeners=this._listeners||{},_t(t,e,this._listeners),this},Gt.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Gt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},_t(t,e,this._oneTimeListeners),this},Gt.prototype.fire=function(t,e){"string"==typeof t&&(t=new zt(t,e||{}));var r=t.type;if(this.listens(r)){t.target=this;for(var n=0,o=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<o.length;n+=1)o[n].call(this,t);for(var i=0,a=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];i<a.length;i+=1){var s=a[i];wt(r,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(c(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof jt&&console.error(t.error);return this},Gt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Gt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Vt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"image",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"image",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Wt=function It(t,e,r,n){this.message=(t?t+": ":"")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)};function Ct(t){var e=t.key,r=t.value;return r?[new Wt(e,r,"constants have been deprecated as of v8")]:[]}function Bt(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,o=e;n<o.length;n+=1){var i=o[n];for(var a in i)t[a]=i[a]}return t}function Et(t){return t instanceof Number||t instanceof String||t instanceof Boolean}function Mt(t){return Et(t)?t.valueOf():t}function Pt(t){if(Array.isArray(t))return t.map(Pt);if(t instanceof Object&&!Et(t)){var e={};for(var r in t)e[r]=Pt(t[r]);return e}return Mt(t)}var qt=function(t){function e(e,r){t.call(this,r),this.message=r,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ht=function Vt(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o[0],a=o[1];this.bindings[i]=a}};Ht.prototype.concat=function(t){return new Ht(this,t)},Ht.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ht.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Kt={kind:"null"},Yt={kind:"number"},Qt={kind:"string"},$t={kind:"boolean"},te={kind:"color"},oe={kind:"object"},ie={kind:"value"},ae={kind:"collator"},se={kind:"formatted"},ce={kind:"image"};function Zt(t,e){return{kind:"array",itemType:t,N:e}}function Xt(t){if("array"===t.kind){var e=Xt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var pe=[Kt,Yt,Qt,$t,te,se,oe,Zt(ie),ce];function Jt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Jt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var r=0,n=pe;r<n.length;r+=1)if(!Jt(n[r],e))return null}return"Expected "+Xt(t)+" but found "+Xt(e)+" instead."}var fe=e((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function a(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),p=i.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=o(p.pop());case"rgb":return 3!==p.length?null:[a(p[0]),a(p[1]),a(p[2]),f];case"hsla":if(4!==p.length)return null;f=o(p.pop());case"hsl":if(3!==p.length)return null;var d=(parseFloat(p[0])%360+360)%360/360,h=o(p[1]),m=o(p[2]),y=m<=.5?m*(h+1):m+h-m*h,g=2*m-y;return[n(255*s(g,y,d+1/3)),n(255*s(g,y,d)),n(255*s(g,y,d-1/3)),f];default:return null}}return null}}catch(t){}})).parseCSSColor,he=function Yt(t,e,r,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=r,this.a=n};he.parse=function(t){if(t){if(t instanceof he)return t;if("string"==typeof t){var e=fe(t);if(e)return new he(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},he.prototype.toString=function(){var t=this.toArray(),e=t[0],r=t[1],n=t[2],o=t[3];return"rgba("+Math.round(e)+","+Math.round(r)+","+Math.round(n)+","+o+")"},he.prototype.toArray=function(){var t=this.r,e=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]},he.black=new he(0,0,0,1),he.white=new he(1,1,1,1),he.transparent=new he(0,0,0,0),he.red=new he(1,0,0,1);var ye=function $t(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ye.prototype.compare=function(t,e){return this.collator.compare(t,e)},ye.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Se=function Wt(t,e,r,n){this.text=t,this.scale=e,this.fontStack=r,this.textColor=n},xe=function Qt(t){this.sections=t};xe.fromString=function(t){return new xe([new Se(t,null,null,null)])},xe.prototype.toString=function(){return this.sections.map((function(t){return t.text})).join("")},xe.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t.push(n.text);var o={};n.fontStack&&(o["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(o["font-scale"]=n.scale),n.textColor&&(o["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(o)}return t};var we=function te(t){this.name=t.name,this.available=t.available};function ee(t,e,r,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[t,e,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,r,n]:[t,e,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function re(t){if(null===t)return Kt;if("string"==typeof t)return Qt;if("boolean"==typeof t)return $t;if("number"==typeof t)return Yt;if(t instanceof he)return te;if(t instanceof ye)return ae;if(t instanceof xe)return se;if(t instanceof we)return ce;if(Array.isArray(t)){for(var e,r=t.length,n=0,o=t;n<o.length;n+=1){var i=re(o[n]);if(e){if(e===i)continue;e=ie;break}e=i}return Zt(e||ie,r)}return oe}function ne(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof he||t instanceof xe||t instanceof we?t.toString():JSON.stringify(t)}we.prototype.toString=function(){return this.name},we.fromString=function(t){return new we(t)},we.prototype.serialize=function(){return["image",this.name]};var Ee=function ie(t,e){this.type=t,this.value=e};Ee.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof he)return!0;if(e instanceof ye)return!0;if(e instanceof xe)return!0;if(e instanceof we)return!0;if(Array.isArray(e)){for(var r=0,n=e;r<n.length;r+=1)if(!t(n[r]))return!1;return!0}if("object"==typeof e){for(var o in e)if(!t(e[o]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var r=t[1],n=re(r),o=e.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(n=o),new Ee(n,r)},Ee.prototype.evaluate=function(){return this.value},Ee.prototype.eachChild=function(){},Ee.prototype.possibleOutputs=function(){return[this.value]},Ee.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof he?["rgba"].concat(this.value.toArray()):this.value instanceof xe?this.value.serialize():this.value};var Pe=function ae(t){this.name="ExpressionEvaluationError",this.message=t};Pe.prototype.toJSON=function(){return this.message};var Ce={string:Qt,number:Yt,boolean:$t,object:oe},Te=function se(t,e){this.type=t,this.args=e};Te.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r,n=1,o=t[0];if("array"===o){var i,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in Ce)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ce[s],n++}else i=ie;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],n++}r=Zt(i,a)}else r=Ce[o];for(var u=[];n<t.length;n++){var l=e.parse(t[n],n,ie);if(!l)return null;u.push(l)}return new Te(r,u)},Te.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var r=this.args[e].evaluate(t);if(!Jt(this.type,re(r)))return r;if(e===this.args.length-1)throw new Pe("Expected value to be of type "+Xt(this.type)+", but found "+Xt(re(r))+" instead.")}return null},Te.prototype.eachChild=function(t){this.args.forEach(t)},Te.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Te.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var r=t.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){e.push(r.kind);var n=t.N;("number"==typeof n||this.args.length>1)&&e.push(n)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var Me=function ue(t){this.type=se,this.sections=t};Me.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var r=[],n=1;n<t.length-1;n+=2){var o=e.parse(t[n],1,ie);if(!o)return null;var i=o.type.kind;if("string"!==i&&"value"!==i&&"null"!==i)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[n+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Yt)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Zt(Qt))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,te)))return null;r.push({text:o,scale:s,font:u,textColor:l})}return new Me(r)},Me.prototype.evaluate=function(t){return new xe(this.sections.map((function(e){return new Se(ne(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},Me.prototype.eachChild=function(t){for(var e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t(n.text),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}},Me.prototype.possibleOutputs=function(){return[void 0]},Me.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t.push(n.text.serialize());var o={};n.scale&&(o["font-scale"]=n.scale.serialize()),n.font&&(o["text-font"]=n.font.serialize()),n.textColor&&(o["text-color"]=n.textColor.serialize()),t.push(o)}return t};var Ie=function le(t){this.type=ce,this.input=t};Ie.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var r=e.parse(t[1],1,Qt);return r?new Ie(r):e.error("No image name provided.")},Ie.prototype.evaluate=function(t){var e=this.input.evaluate(t),r=!1;return t.availableImages&&t.availableImages.indexOf(e)>-1&&(r=!0),{name:e,available:r}},Ie.prototype.eachChild=function(t){t(this.input)},Ie.prototype.possibleOutputs=function(){return[void 0]},Ie.prototype.serialize=function(){return["image",this.input.serialize()]};var ke={"to-boolean":$t,"to-color":te,"to-number":Yt,"to-string":Qt},Ne=function ce(t,e){this.type=t,this.args=e};Ne.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return e.error("Expected one argument.");for(var n=ke[r],o=[],i=1;i<t.length;i++){var a=e.parse(t[i],i,ie);if(!a)return null;o.push(a)}return new Ne(n,o)},Ne.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,r,n=0,o=this.args;n<o.length;n+=1){if(r=null,(e=o[n].evaluate(t))instanceof he)return e;if("string"==typeof e){var i=t.parseColor(e);if(i)return i}else if(Array.isArray(e)&&!(r=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ee(e[0],e[1],e[2],e[3])))return new he(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Pe(r||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new Pe("Could not convert "+JSON.stringify(a)+" to number.")}if("formatted"===this.type.kind)return xe.fromString(ne(this.args[0].evaluate(t)));if("image"===this.type.kind){var c=ne(this.args[0].evaluate(t));return we.fromString({name:c,available:!1})}return ne(this.args[0].evaluate(t))},Ne.prototype.eachChild=function(t){this.args.forEach(t)},Ne.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Ne.prototype.serialize=function(){if("formatted"===this.type.kind)return new Me([{text:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("image"===this.type.kind)return new Ie(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Be=["Unknown","Point","LineString","Polygon"],ze=function fe(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};ze.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ze.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Be[this.feature.type]:this.feature.type:null},ze.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ze.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=he.parse(t)),e};var je=function ye(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n};je.prototype.evaluate=function(t){return this._evaluate(t,this.args)},je.prototype.eachChild=function(t){this.args.forEach(t)},je.prototype.possibleOutputs=function(){return[void 0]},je.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},je.parse=function(t,e){var r,n=t[0],o=je.definitions[n];if(!o)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(o)?o[0]:o.type,a=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,s=a.filter((function(e){var r=e[0];return!Array.isArray(r)||r.length===t.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var p=c[l],f=p[0],d=p[1];u=new He(e.registry,e.path,null,e.scope);for(var h=[],m=!1,y=1;y<t.length;y++){var g=t[y],v=Array.isArray(f)?f[y-1]:f.type,_=u.parse(g,1+h.length,v);if(!_){m=!0;break}h.push(_)}if(!m)if(Array.isArray(f)&&f.length!==h.length)u.error("Expected "+f.length+" arguments, but found "+h.length+" instead.");else{for(var b=0;b<h.length;b++){var S=Array.isArray(f)?f[b]:f.type,x=h[b];u.concat(b+1).checkSubtype(S,x.type)}if(0===u.errors.length)return new je(n,i,d,h)}}if(1===s.length)(r=e.errors).push.apply(r,u.errors);else{for(var w=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Xt).join(", ")+")":"("+Xt(e.type)+"...)"})).join(" | "),E=[],P=1;P<t.length;P++){var C=e.parse(t[P],1+E.length);if(!C)return null;E.push(Xt(C.type))}e.error("Expected arguments of type "+w+", but found ("+E.join(", ")+") instead.")}return null},je.register=function(t,e){for(var r in je.definitions=e,e)t[r]=je};var Ge=function de(t,e,r){this.type=ae,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e};function me(t){if(t instanceof je){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!me(t)&&(e=!1)})),e}function ve(t){if(t instanceof je&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!ve(t)&&(e=!1)})),e}function ge(t,e){if(t instanceof je&&e.indexOf(t.name)>=0)return!1;var r=!0;return t.eachChild((function(t){r&&!ge(t,e)&&(r=!1)})),r}Ge.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");var n=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,$t);if(!n)return null;var o=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,$t);if(!o)return null;var i=null;return r.locale&&!(i=e.parse(r.locale,1,Qt))?null:new Ge(n,o,i)},Ge.prototype.evaluate=function(t){return new ye(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Ge.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Ge.prototype.possibleOutputs=function(){return[void 0]},Ge.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var qe=function xe(t,e){this.type=e.type,this.name=t,this.boundExpression=e};qe.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var r=t[1];return e.scope.has(r)?new qe(r,e.scope.get(r)):e.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},qe.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},qe.prototype.eachChild=function(){},qe.prototype.possibleOutputs=function(){return[void 0]},qe.prototype.serialize=function(){return["var",this.name]};var He=function be(t,e,r,n,o){void 0===e&&(e=[]),void 0===n&&(n=new Ht),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=n,this.errors=o,this.expectedType=r};function _e(t,e){for(var r,n,o=t.length-1,i=0,a=o,s=0;i<=a;)if(r=t[s=Math.floor((i+a)/2)],n=t[s+1],r<=e){if(s===o||e<n)return s;i=s+1}else{if(!(r>e))throw new Pe("Input is not a number.");a=s-1}return 0}He.prototype.parse=function(t,e,r,n,o){return void 0===o&&(o={}),e?this.concat(e,r,n)._parse(t,o):this._parse(t,o)},He.prototype._parse=function(t,e){function r(t,e,r){return"assert"===r?new Te(e,[t]):"coerce"===r?new Ne(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[n];if(o){var i=o.parse(t,this);if(!i)return null;if(this.expectedType){var a=this.expectedType,s=i.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"image"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else i=r(i,a,e.typeAnnotation||"coerce");else i=r(i,a,e.typeAnnotation||"assert")}if(!(i instanceof Ee)&&"image"!==i.type.kind&&function t(e){if(e instanceof qe)return t(e.boundExpression);if(e instanceof je&&"error"===e.name)return!1;if(e instanceof Ge)return!1;var r=e instanceof Ne||e instanceof Te,n=!0;return e.eachChild((function(e){n=r?n&&t(e):n&&e instanceof Ee})),!!n&&me(e)&&ge(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(i)){var u=new ze;try{i=new Ee(i.type,i.evaluate(u))}catch(t){return this.error(t.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},He.prototype.concat=function(t,e,r){var n="number"==typeof t?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new He(this.registry,n,e||null,o,this.errors)},He.prototype.error=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var n=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new qt(n,t))},He.prototype.checkSubtype=function(t,e){var r=Jt(t,e);return r&&this.error(r),r};var Ke=function we(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var n=0,o=r;n<o.length;n+=1){var i=o[n],a=i[0],s=i[1];this.labels.push(a),this.outputs.push(s)}};function Ae(t,e,r){return t*(1-r)+e*r}Ke.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var r=e.parse(t[1],1,Yt);if(!r)return null;var n=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType);for(var i=1;i<t.length;i+=2){var a=1===i?-1/0:t[i],s=t[i+1],u=i,l=i+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,o);if(!c)return null;o=o||c.type,n.push([a,c])}return new Ke(o,r,n)},Ke.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var o=e.length;return n>=e[o-1]?r[o-1].evaluate(t):r[_e(e,n)].evaluate(t)},Ke.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1)t(r[e])},Ke.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Ke.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ye=Object.freeze({number:Ae,color:function color(t,e,r){return new he(Ae(t.r,e.r,r),Ae(t.g,e.g,r),Ae(t.b,e.b,r),Ae(t.a,e.a,r))},array:function array(t,e,r){return t.map((function(t,n){return Ae(t,e[n],r)}))}}),Xe=.95047,Je=1,tr=1.08883,er=4/29,rr=6/29,nr=3*rr*rr,ir=rr*rr*rr,ar=Math.PI/180,ur=180/Math.PI;function Ve(t){return t>ir?Math.pow(t,1/3):t/nr+er}function Fe(t){return t>rr?t*t*t:nr*(t-er)}function Oe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Le(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function De(t){var e=Le(t.r),r=Le(t.g),n=Le(t.b),o=Ve((.4124564*e+.3575761*r+.1804375*n)/Xe),i=Ve((.2126729*e+.7151522*r+.072175*n)/Je);return{l:116*i-16,a:500*(o-i),b:200*(i-Ve((.0193339*e+.119192*r+.9503041*n)/tr)),alpha:t.a}}function Ue(t){var e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=Je*Fe(e),r=Xe*Fe(r),n=tr*Fe(n),new he(Oe(3.2404542*r-1.5371385*e-.4985314*n),Oe(-.969266*r+1.8760108*e+.041556*n),Oe(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function Re(t,e,r){var n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var Rr={forward:De,reverse:Ue,interpolate:function interpolate(t,e,r){return{l:Ae(t.l,e.l,r),a:Ae(t.a,e.a,r),b:Ae(t.b,e.b,r),alpha:Ae(t.alpha,e.alpha,r)}}},rn={forward:function forward(t){var e=De(t),r=e.l,n=e.a,o=e.b,i=Math.atan2(o,n)*ur;return{h:i<0?i+360:i,c:Math.sqrt(n*n+o*o),l:r,alpha:t.a}},reverse:function reverse(t){var e=t.h*ar,r=t.c;return Ue({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function interpolate(t,e,r){return{h:Re(t.h,e.h,r),c:Ae(t.c,e.c,r),l:Ae(t.l,e.l,r),alpha:Ae(t.alpha,e.alpha,r)}}},ln=Object.freeze({lab:Rr,hcl:rn}),cn=function Ke(t,e,r,n,o){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var i=0,a=o;i<a.length;i+=1){var s=a[i],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function Ze(t,e,r,n){var o=n-r,i=t-r;return 0===o?0:1===e?i/o:(Math.pow(e,i)-1)/(Math.pow(e,o)-1)}cn.interpolationFactor=function(t,e,r,n){var o=0;if("exponential"===t.name)o=Ze(e,t.base,r,n);else if("linear"===t.name)o=Ze(e,1,r,n);else if("cubic-bezier"===t.name){var i=t.controlPoints;o=new P(i[0],i[1],i[2],i[3]).solve(Ze(e,1,r,n))}return o},cn.parse=function(t,e){var r=t[0],n=t[1],o=t[2],i=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(o=e.parse(o,2,Yt)))return null;var u=[],l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=te:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<i.length;c+=2){var p=i[c],f=i[c+1],d=c+3,h=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var m=e.parse(f,h,l);if(!m)return null;l=l||m.type,u.push([p,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new cn(l,r,n,o,u):e.error("Type "+Xt(l)+" is not interpolatable.")},cn.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var o=e.length;if(n>=e[o-1])return r[o-1].evaluate(t);var i=_e(e,n),a=e[i],s=e[i+1],u=cn.interpolationFactor(this.interpolation,n,a,s),l=r[i].evaluate(t),c=r[i+1].evaluate(t);return"interpolate"===this.operator?Ye[this.type.kind.toLowerCase()](l,c,u):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(l),rn.forward(c),u)):Rr.reverse(Rr.interpolate(Rr.forward(l),Rr.forward(c),u))},cn.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1)t(r[e])},cn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},cn.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],r=0;r<this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e};var pn=function Xe(t,e){this.type=t,this.args=e};pn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var r=null,n=e.expectedType;n&&"value"!==n.kind&&(r=n);for(var o=[],i=0,a=t.slice(1);i<a.length;i+=1){var s=a[i],u=e.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,o.push(u)}var l=n&&o.some((function(t){return Jt(n,t.type)}));return new pn(l?ie:r,o)},pn.prototype.evaluate=function(t){for(var e,r=null,n=0,o=0,i=this.args;o<i.length;o+=1){var a=i[o];if(n++,r=a.evaluate(t),"image"!==a.type.kind||r.available||(e||(e=a.evaluate(t).name),r=null,n===this.args.length&&(r=e)),null!==r)break}return r},pn.prototype.eachChild=function(t){this.args.forEach(t)},pn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},pn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var dn=function Ge(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};dn.prototype.evaluate=function(t){return this.result.evaluate(t)},dn.prototype.eachChild=function(t){for(var e=0,r=this.bindings;e<r.length;e+=1)t(r[e][1]);t(this.result)},dn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],n=1;n<t.length-1;n+=2){var o=t[n];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=e.parse(t[n+1],n+1);if(!i)return null;r.push([o,i])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return a?new dn(r,a):null},dn.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},dn.prototype.serialize=function(){for(var t=["let"],e=0,r=this.bindings;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];t.push(o,i.serialize())}return t.push(this.result.serialize()),t};var hn=function Je(t,e,r){this.type=t,this.index=e,this.input=r};hn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1,Yt),n=e.parse(t[2],2,Zt(e.expectedType||ie));if(!r||!n)return null;var o=n.type;return new hn(o.itemType,r,n)},hn.prototype.evaluate=function(t){var e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new Pe("Array index out of bounds: "+e+" < 0.");if(e>=r.length)throw new Pe("Array index out of bounds: "+e+" > "+(r.length-1)+".");if(e!==Math.floor(e))throw new Pe("Array index must be an integer, but found "+e+" instead.");return r[e]},hn.prototype.eachChild=function(t){t(this.index),t(this.input)},hn.prototype.possibleOutputs=function(){return[void 0]},hn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var yn=function He(t,e,r,n,o,i){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=o,this.otherwise=i};yn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var r,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var o={},i=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var f=p[c];if("number"!=typeof f&&"string"!=typeof f)return l.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,re(f)))return null}else r=re(f);if(void 0!==o[String(f)])return l.error("Branch labels must be unique.");o[String(f)]=i.length}var d=e.parse(u,a,n);if(!d)return null;n=n||d.type,i.push(d)}var h=e.parse(t[1],1,ie);if(!h)return null;var m=e.parse(t[t.length-1],t.length-1,n);return m?"value"!==h.type.kind&&e.concat(1).checkSubtype(r,h.type)?null:new yn(r,n,h,o,i,m):null},yn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(re(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},yn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},yn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},yn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],r=[],n={},o=0,i=Object.keys(this.cases).sort();o<i.length;o+=1){var a=i[o];void 0===(f=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[f][1].push(a)}for(var u=function s(e){return"number"===t.inputType.kind?Number(e):e},l=0,c=r;l<c.length;l+=1){var p=c[l],f=p[0],d=p[1];1===d.length?e.push(u(d[0])):e.push(d.map(u)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var gn=function Ye(t,e,r){this.type=t,this.branches=e,this.otherwise=r};function $e(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function We(t,e,r,n){return 0===n.compare(e,r)}function Qe(t,e,r){var n="=="!==t&&"!="!==t;return function(){function i(t,e,r){this.type=$t,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var r=t[0],o=e.parse(t[1],1,ie);if(!o)return null;if(!$e(r,o.type))return e.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Xt(o.type)+"'.");var a=e.parse(t[2],2,ie);if(!a)return null;if(!$e(r,a.type))return e.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Xt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Xt(o.type)+"' and '"+Xt(a.type)+"'.");n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Te(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Te(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,ae)))return null}return new i(o,a,s)},i.prototype.evaluate=function(o){var i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){var s=re(i),u=re(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new Pe('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var l=re(i),c=re(a);if("string"!==l.kind||"string"!==c.kind)return e(o,i,a)}return this.collator?r(o,i,a,this.collator.evaluate(o)):e(o,i,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}gn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n=[],o=1;o<t.length-1;o+=2){var i=e.parse(t[o],o,$t);if(!i)return null;var a=e.parse(t[o+1],o+1,r);if(!a)return null;n.push([i,a]),r=r||a.type}var s=e.parse(t[t.length-1],t.length-1,r);return s?new gn(r,n,s):null},gn.prototype.evaluate=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];if(o.evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},gn.prototype.eachChild=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];t(o),t(i)}t(this.otherwise)},gn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},gn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var vn=Qe("==",(function(t,e,r){return e===r}),We),bn=Qe("!=",(function(t,e,r){return e!==r}),(function(t,e,r,n){return!We(0,e,r,n)})),Pn=Qe("<",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),Tn=Qe(">",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),Mn=Qe("<=",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),An=Qe(">=",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0})),Rn=function or(t,e,r,n,o){this.type=Qt,this.number=t,this.locale=e,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=o};Rn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var r=e.parse(t[1],1,Yt);if(!r)return null;var n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");var o=null;if(n.locale&&!(o=e.parse(n.locale,1,Qt)))return null;var i=null;if(n.currency&&!(i=e.parse(n.currency,1,Qt)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=e.parse(n["min-fraction-digits"],1,Yt)))return null;var s=null;return n["max-fraction-digits"]&&!(s=e.parse(n["max-fraction-digits"],1,Yt))?null:new Rn(r,o,i,a,s)},Rn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Rn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Rn.prototype.possibleOutputs=function(){return[void 0]},Rn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var kn=function sr(t){this.type=Yt,this.input=t};kn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error("Expected argument of type string or array, but found "+Xt(r.type)+" instead."):new kn(r):null},kn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Pe("Expected value to be of type string or array, but found "+Xt(re(e))+" instead.")},kn.prototype.eachChild=function(t){t(this.input)},kn.prototype.possibleOutputs=function(){return[void 0]},kn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Fn={"==":vn,"!=":bn,">":Tn,"<":Pn,">=":An,"<=":Mn,array:Te,at:hn,boolean:Te,case:gn,coalesce:pn,collator:Ge,format:Me,image:Ie,interpolate:cn,"interpolate-hcl":cn,"interpolate-lab":cn,length:kn,let:dn,literal:Ee,match:yn,number:Te,"number-format":Rn,object:Te,step:Ke,string:Te,"to-boolean":Ne,"to-color":Ne,"to-number":Ne,"to-string":Ne,var:qe};function lr(t,e){var r=e[0],n=e[1],o=e[2],i=e[3];r=r.evaluate(t),n=n.evaluate(t),o=o.evaluate(t);var a=i?i.evaluate(t):1,s=ee(r,n,o,a);if(s)throw new Pe(s);return new he(r/255*a,n/255*a,o/255*a,a)}function pr(t,e){return t in e}function cr(t,e){var r=e[t];return void 0===r?null:r}function hr(t){return{type:t}}function fr(t){return{result:"success",value:t}}function yr(t){return{result:"error",value:t}}function dr(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function mr(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function vr(t){return!!t.expression&&t.expression.interpolated}function gr(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function xr(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function br(t){return t}function _r(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function wr(t,e,r,n,o){return _r(typeof r===o?n[r]:void 0,t.default,e.default)}function Ar(t,e,r){if("number"!==gr(r))return _r(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];var o=_e(t.stops.map((function(t){return t[0]})),r);return t.stops[o][1]}function kr(t,e,r){var n=void 0!==t.base?t.base:1;if("number"!==gr(r))return _r(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[o-1][0])return t.stops[o-1][1];var i=_e(t.stops.map((function(t){return t[0]})),r),a=function(t,e,r,n){var o=n-r,i=t-r;return 0===o?0:1===e?i/o:(Math.pow(e,i)-1)/(Math.pow(e,o)-1)}(r,n,t.stops[i][0],t.stops[i+1][0]),s=t.stops[i][1],u=t.stops[i+1][1],c=Ye[e.type]||br;if(t.colorSpace&&"rgb"!==t.colorSpace){var p=ln[t.colorSpace];c=function l(t,e){return p.reverse(p.interpolate(p.forward(t),p.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function evaluate(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=s.evaluate.apply(void 0,t),n=u.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==n)return c(r,n,a)}}:c(s,u,a)}function Sr(t,e,r){return"color"===e.type?r=he.parse(r):"formatted"===e.type?r=xe.fromString(r.toString()):"image"===e.type?r=we.fromString({name:r.toString(),available:!1}):gr(r)===e.type||"enum"===e.type&&e.values[r]||(r=void 0),_r(r,t.default,e.default)}je.register(Fn,{error:[{kind:"error"},[Qt],function(t,e){var r=e[0];throw new Pe(r.evaluate(t))}],typeof:[Qt,[ie],function(t,e){return Xt(re(e[0].evaluate(t)))}],"to-rgba":[Zt(Yt,4),[te],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[te,[Yt,Yt,Yt],lr],rgba:[te,[Yt,Yt,Yt,Yt],lr],has:{type:$t,overloads:[[[Qt],function(t,e){return pr(e[0].evaluate(t),t.properties())}],[[Qt,oe],function(t,e){var r=e[0],n=e[1];return pr(r.evaluate(t),n.evaluate(t))}]]},get:{type:ie,overloads:[[[Qt],function(t,e){return cr(e[0].evaluate(t),t.properties())}],[[Qt,oe],function(t,e){var r=e[0],n=e[1];return cr(r.evaluate(t),n.evaluate(t))}]]},"feature-state":[ie,[Qt],function(t,e){return cr(e[0].evaluate(t),t.featureState||{})}],properties:[oe,[],function(t){return t.properties()}],"geometry-type":[Qt,[],function(t){return t.geometryType()}],id:[ie,[],function(t){return t.id()}],zoom:[Yt,[],function(t){return t.globals.zoom}],"heatmap-density":[Yt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Yt,[],function(t){return t.globals.lineProgress||0}],accumulated:[ie,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Yt,hr(Yt),function(t,e){for(var r=0,n=0,o=e;n<o.length;n+=1)r+=o[n].evaluate(t);return r}],"*":[Yt,hr(Yt),function(t,e){for(var r=1,n=0,o=e;n<o.length;n+=1)r*=o[n].evaluate(t);return r}],"-":{type:Yt,overloads:[[[Yt,Yt],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)-n.evaluate(t)}],[[Yt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Yt,[Yt,Yt],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)/n.evaluate(t)}],"%":[Yt,[Yt,Yt],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)%n.evaluate(t)}],ln2:[Yt,[],function(){return Math.LN2}],pi:[Yt,[],function(){return Math.PI}],e:[Yt,[],function(){return Math.E}],"^":[Yt,[Yt,Yt],function(t,e){var r=e[0],n=e[1];return Math.pow(r.evaluate(t),n.evaluate(t))}],sqrt:[Yt,[Yt],function(t,e){var r=e[0];return Math.sqrt(r.evaluate(t))}],log10:[Yt,[Yt],function(t,e){var r=e[0];return Math.log(r.evaluate(t))/Math.LN10}],ln:[Yt,[Yt],function(t,e){var r=e[0];return Math.log(r.evaluate(t))}],log2:[Yt,[Yt],function(t,e){var r=e[0];return Math.log(r.evaluate(t))/Math.LN2}],sin:[Yt,[Yt],function(t,e){var r=e[0];return Math.sin(r.evaluate(t))}],cos:[Yt,[Yt],function(t,e){var r=e[0];return Math.cos(r.evaluate(t))}],tan:[Yt,[Yt],function(t,e){var r=e[0];return Math.tan(r.evaluate(t))}],asin:[Yt,[Yt],function(t,e){var r=e[0];return Math.asin(r.evaluate(t))}],acos:[Yt,[Yt],function(t,e){var r=e[0];return Math.acos(r.evaluate(t))}],atan:[Yt,[Yt],function(t,e){var r=e[0];return Math.atan(r.evaluate(t))}],min:[Yt,hr(Yt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Yt,hr(Yt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Yt,[Yt],function(t,e){var r=e[0];return Math.abs(r.evaluate(t))}],round:[Yt,[Yt],function(t,e){var r=e[0].evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[Yt,[Yt],function(t,e){var r=e[0];return Math.floor(r.evaluate(t))}],ceil:[Yt,[Yt],function(t,e){var r=e[0];return Math.ceil(r.evaluate(t))}],"filter-==":[$t,[Qt,ie],function(t,e){var r=e[0],n=e[1];return t.properties()[r.value]===n.value}],"filter-id-==":[$t,[ie],function(t,e){var r=e[0];return t.id()===r.value}],"filter-type-==":[$t,[Qt],function(t,e){var r=e[0];return t.geometryType()===r.value}],"filter-<":[$t,[Qt,ie],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o<i}],"filter-id-<":[$t,[ie],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n<o}],"filter->":[$t,[Qt,ie],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o>i}],"filter-id->":[$t,[ie],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n>o}],"filter-<=":[$t,[Qt,ie],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o<=i}],"filter-id-<=":[$t,[ie],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n<=o}],"filter->=":[$t,[Qt,ie],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o>=i}],"filter-id->=":[$t,[ie],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n>=o}],"filter-has":[$t,[ie],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[$t,[],function(t){return null!==t.id()}],"filter-type-in":[$t,[Zt(Qt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[$t,[Zt(ie)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[$t,[Qt,Zt(ie)],function(t,e){var r=e[0];return e[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[$t,[Qt,Zt(ie)],function(t,e){var r=e[0],n=e[1];return function(t,e,r,n){for(;r<=n;){var o=r+n>>1;if(e[o]===t)return!0;e[o]>t?n=o-1:r=o+1}return!1}(t.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:$t,overloads:[[[$t,$t],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)&&n.evaluate(t)}],[hr($t),function(t,e){for(var r=0,n=e;r<n.length;r+=1)if(!n[r].evaluate(t))return!1;return!0}]]},any:{type:$t,overloads:[[[$t,$t],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)||n.evaluate(t)}],[hr($t),function(t,e){for(var r=0,n=e;r<n.length;r+=1)if(n[r].evaluate(t))return!0;return!1}]]},"!":[$t,[$t],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[$t,[Qt],function(t,e){var r=e[0],n=t.globals&&t.globals.isSupportedScript;return!n||n(r.evaluate(t))}],upcase:[Qt,[Qt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Qt,[Qt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Qt,hr(ie),function(t,e){return e.map((function(e){return ne(e.evaluate(t))})).join("")}],"resolved-locale":[Qt,[ae],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Nn=function zr(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ze,this._defaultValue=e?function(t){return"color"===t.type&&xr(t.default)?new he(0,0,0,0):"color"===t.type?he.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Ir(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Fn}function Cr(t,e){var r=new He(Fn,[],e?function(t){var e={color:te,string:Qt,number:Yt,enum:Qt,boolean:$t,formatted:se,image:ce};return"array"===t.type?Zt(e[t.value]||ie,t.length):e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?fr(new Nn(n,e)):yr(r.errors)}Nn.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Nn.prototype.evaluate=function(t,e,r,n,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o||null;try{var i=this.expression.evaluate(this._evaluator);if(null==i)return this._defaultValue;if(this._enumValues&&!(i in this._enumValues))throw new Pe("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(i)+" instead.");return i}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Un=function Br(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!ve(e.expression)};Un.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,o)},Un.prototype.evaluate=function(t,e,r,n,o){return this._styleExpression.evaluate(t,e,r,n,o)};var jn=function Er(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent="camera"!==t&&!ve(e.expression),this.interpolationType=n};function Mr(t,e){if("error"===(t=Cr(t,e)).result)return t;var r=t.value.expression,n=me(r);if(!n&&!dr(e))return yr([new qt("","data expressions not supported")]);var o=ge(r,["zoom"]);if(!o&&!mr(e))return yr([new qt("","zoom expressions not supported")]);var i=function t(e){var r=null;if(e instanceof dn)r=t(e.result);else if(e instanceof pn)for(var n=0,o=e.args;n<o.length;n+=1){var i=o[n];if(r=t(i))break}else(e instanceof Ke||e instanceof cn)&&e.input instanceof je&&"zoom"===e.input.name&&(r=e);return r instanceof qt?r:(e.eachChild((function(e){var n=t(e);n instanceof qt?r=n:!r&&n?r=new qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new qt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r)}(r);if(!i&&!o)return yr([new qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(i instanceof qt)return yr([i]);if(i instanceof cn&&!vr(e))return yr([new qt("",'"interpolate" expressions cannot be used with this property')]);if(!i)return fr(new Un(n?"constant":"source",t.value));var a=i instanceof cn?i.interpolation:void 0;return fr(new jn(n?"camera":"composite",t.value,i.labels,a))}jn.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,o)},jn.prototype.evaluate=function(t,e,r,n,o){return this._styleExpression.evaluate(t,e,r,n,o)},jn.prototype.interpolationFactor=function(t,e,r){return this.interpolationType?cn.interpolationFactor(this.interpolationType,t,e,r):0};var Gn=function Pr(t,e){this._parameters=t,this._specification=e,Bt(this,function t(e,r){var n,o,i,a="color"===r.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,c=e.type||(vr(r)?"exponential":"interval");if(a&&((e=Bt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],he.parse(t[1])]}))),e.default?e.default=he.parse(e.default):e.default=he.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!ln[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)n=kr;else if("interval"===c)n=Ar;else if("categorical"===c){n=wr,o=Object.create(null);for(var p=0,f=e.stops;p<f.length;p+=1){var d=f[p];o[d[0]]=d[1]}i=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=Sr}if(s){for(var h={},m=[],y=0;y<e.stops.length;y++){var g=e.stops[y],v=g[0].zoom;void 0===h[v]&&(h[v]={zoom:v,type:e.type,property:e.property,default:e.default,stops:[]},m.push(v)),h[v].stops.push([g[0].value,g[1]])}for(var _=[],b=0,S=m;b<S.length;b+=1){var x=S[b];_.push([h[x].zoom,t(h[x],r)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:cn.interpolationFactor.bind(void 0,w),zoomStops:_.map((function(t){return t[0]})),evaluate:function evaluate(t,n){var o=t.zoom;return kr({stops:_,base:e.base},r,o).evaluate(o,n)}}}if(l){var E="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:cn.interpolationFactor.bind(void 0,E),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function evaluate(t){var a=t.zoom;return n(e,r,a,o,i)}}}return{kind:"source",evaluate:function evaluate(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?_r(e.default,r.default):n(e,r,s,o,i)}}}(this._parameters,this._specification))};function Tr(t){var e=t.key,r=t.value,n=t.valueSpec||{},o=t.objectElementValidators||{},i=t.style,a=t.styleSpec,s=[],u=gr(r);if("object"!==u)return[new Wt(e,r,"object expected, "+u+" found")];for(var l in r){var c=l.split(".")[0],p=n[c]||n["*"],f=void 0;if(o[c])f=o[c];else if(n[c])f=nn;else if(o["*"])f=o["*"];else{if(!n["*"]){s.push(new Wt(e,r[l],'unknown property "'+l+'"'));continue}f=nn}s=s.concat(f({key:(e?e+".":e)+l,value:r[l],valueSpec:p,style:i,styleSpec:a,object:r,objectKey:l},r))}for(var d in n)o[d]||n[d].required&&void 0===n[d].default&&void 0===r[d]&&s.push(new Wt(e,r,'missing required property "'+d+'"'));return s}function Vr(t){var e=t.value,r=t.valueSpec,n=t.style,o=t.styleSpec,i=t.key,a=t.arrayElementValidator||nn;if("array"!==gr(e))return[new Wt(i,e,"array expected, "+gr(e)+" found")];if(r.length&&e.length!==r.length)return[new Wt(i,e,"array length "+r.length+" expected, length "+e.length+" found")];if(r["min-length"]&&e.length<r["min-length"])return[new Wt(i,e,"array length at least "+r["min-length"]+" expected, length "+e.length+" found")];var s={type:r.value,values:r.values};o.$version<7&&(s.function=r.function),"object"===gr(r.value)&&(s=r.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:n,styleSpec:o,key:i+"["+l+"]"}));return u}function Fr(t){var e=t.key,r=t.value,n=t.valueSpec,o=gr(r);return"number"!==o?[new Wt(e,r,"number expected, "+o+" found")]:"minimum"in n&&r<n.minimum?[new Wt(e,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new Wt(e,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Or(t){var e,r,n,o=t.valueSpec,i=Mt(t.value.type),a={},s="categorical"!==i&&void 0===t.value.property,u=!s,l="array"===gr(t.value.stops)&&"array"===gr(t.value.stops[0])&&"object"===gr(t.value.stops[0][0]),p=Tr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function stops(t){if("identity"===i)return[new Wt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],r=t.value;return e=e.concat(Vr({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:c})),"array"===gr(r)&&0===r.length&&e.push(new Wt(t.key,r,"array must have at least one stop")),e},default:function _default(t){return nn({key:t.key,value:t.value,valueSpec:o,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===i&&s&&p.push(new Wt(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||p.push(new Wt(t.key,t.value,'missing required property "stops"')),"exponential"===i&&t.valueSpec.expression&&!vr(t.valueSpec)&&p.push(new Wt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!dr(t.valueSpec)?p.push(new Wt(t.key,t.value,"property functions not supported")):s&&!mr(t.valueSpec)&&p.push(new Wt(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!l||void 0!==t.value.property||p.push(new Wt(t.key,t.value,'"property" property is required')),p;function c(t){var e=[],i=t.value,s=t.key;if("array"!==gr(i))return[new Wt(s,i,"array expected, "+gr(i)+" found")];if(2!==i.length)return[new Wt(s,i,"array length 2 expected, length "+i.length+" found")];if(l){if("object"!==gr(i[0]))return[new Wt(s,i,"object expected, "+gr(i[0])+" found")];if(void 0===i[0].zoom)return[new Wt(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Wt(s,i,"object stop key must have value")];if(n&&n>Mt(i[0].zoom))return[new Wt(s,i[0].zoom,"stop zoom values must appear in ascending order")];Mt(i[0].zoom)!==n&&(n=Mt(i[0].zoom),r=void 0,a={}),e=e.concat(Tr({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Fr,value:h}}))}else e=e.concat(h({key:s+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return Ir(Pt(i[1]))?e.concat([new Wt(s+"[1]",i[1],"expressions are not allowed in function stops.")]):e.concat(nn({key:s+"[1]",value:i[1],valueSpec:o,style:t.style,styleSpec:t.styleSpec}))}function h(t,n){var s=gr(t.value),u=Mt(t.value),l=null!==t.value?t.value:n;if(e){if(s!==e)return[new Wt(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Wt(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, "+s+" found";return dr(o)&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wt(t.key,l,c)]}return"categorical"!==i||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==i&&"number"===s&&void 0!==r&&u<r?[new Wt(t.key,l,"stop domain values must appear in ascending order")]:(r=u,"categorical"===i&&u in a?[new Wt(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Wt(t.key,l,"integer expected, found "+u)]}}function Lr(t){var e=("property"===t.expressionContext?Mr:Cr)(Pt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Wt(""+t.key+e.key,t.value,e.message)}));var r=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new Wt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!ve(r))return[new Wt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!ve(r))return[new Wt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ge(r,["zoom","feature-state"]))return[new Wt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!me(r))return[new Wt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dr(t){var e=t.key,r=t.value,n=t.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(Mt(r))&&o.push(new Wt(e,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(Mt(r))&&o.push(new Wt(e,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),o}function Ur(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,r=t.slice(1);e<r.length;e+=1){var n=r[e];if(!Ur(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Gn.deserialize=function(t){return new Gn(t._parameters,t._specification)},Gn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Vn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function jr(t){if(null==t)return function(){return!0};Ur(t)||(t=Nr(t));var e=Cr(t,Vn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,r){return e.value.evaluate(t,r)}}function qr(t,e){return t<e?-1:t>e?1:0}function Nr(t){if(!t)return!0;var e,r=t[0];return t.length<=1?"any"!==r:"=="===r?Kr(t[1],t[2],"=="):"!="===r?Gr(Kr(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Kr(t[1],t[2],r):"any"===r?(e=t.slice(1),["any"].concat(e.map(Nr))):"all"===r?["all"].concat(t.slice(1).map(Nr)):"none"===r?["all"].concat(t.slice(1).map(Nr).map(Gr)):"in"===r?Zr(t[1],t.slice(2)):"!in"===r?Gr(Zr(t[1],t.slice(2))):"has"===r?Xr(t[1]):"!has"!==r||Gr(Xr(t[1]))}function Kr(t,e,r){switch(t){case"$type":return["filter-type-"+r,e];case"$id":return["filter-id-"+r,e];default:return["filter-"+r,t,e]}}function Zr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(qr)]]:["filter-in-small",t,["literal",e]]}}function Xr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Gr(t){return["!",t]}function Jr(t){return Ur(Pt(t.value))?Lr(Bt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var r=e.value,n=e.key;if("array"!==gr(r))return[new Wt(n,r,"array expected, "+gr(r)+" found")];var o,i=e.styleSpec,a=[];if(r.length<1)return[new Wt(n,r,"filter array must have at least 1 element")];switch(a=a.concat(Dr({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),Mt(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Mt(r[1])&&a.push(new Wt(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new Wt(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(o=gr(r[1]))&&a.push(new Wt(n+"[1]",r[1],"string expected, "+o+" found"));for(var s=2;s<r.length;s++)o=gr(r[s]),"$type"===Mt(r[1])?a=a.concat(Dr({key:n+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new Wt(n+"["+s+"]",r[s],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var u=1;u<r.length;u++)a=a.concat(t({key:n+"["+u+"]",value:r[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":o=gr(r[1]),2!==r.length?a.push(new Wt(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==o&&a.push(new Wt(n+"[1]",r[1],"string expected, "+o+" found"))}return a}(t)}function Hr(t,e){var r=t.key,n=t.style,o=t.styleSpec,i=t.value,a=t.objectKey,s=o[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return nn({key:r,value:i,valueSpec:o.transition,style:n,styleSpec:o});var l,c=t.valueSpec||s[a];if(!c)return[new Wt(r,i,'unknown property "'+a+'"')];if("string"===gr(i)&&dr(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(i)))return[new Wt(r,i,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&n&&!n.glyphs&&p.push(new Wt(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&xr(Pt(i))&&"identity"===Mt(i.type)&&p.push(new Wt(r,i,'"text-font" does not support identity functions'))),p.concat(nn({key:t.key,value:i,valueSpec:c,style:n,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function Yr(t){return Hr(t,"paint")}function $r(t){return Hr(t,"layout")}function Wr(t){var e=[],r=t.value,n=t.key,o=t.style,i=t.styleSpec;r.type||r.ref||e.push(new Wt(n,r,'either "type" or "ref" is required'));var a,s=Mt(r.type),u=Mt(r.ref);if(r.id)for(var l=Mt(r.id),c=0;c<t.arrayIndex;c++){var p=o.layers[c];Mt(p.id)===l&&e.push(new Wt(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(t){t in r&&e.push(new Wt(n,r[t],'"'+t+'" is prohibited for ref layers'))})),o.layers.forEach((function(t){Mt(t.id)===u&&(a=t)})),a?a.ref?e.push(new Wt(n,r.ref,"ref cannot reference another ref layer")):s=Mt(a.type):e.push(new Wt(n,r.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(r.source){var f=o.sources&&o.sources[r.source],d=f&&Mt(f.type);f?"vector"===d&&"raster"===s?e.push(new Wt(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new Wt(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==d||r["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new Wt(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===d&&f.lineMetrics||e.push(new Wt(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Wt(n,r,'layer "'+r.id+'" must specify a "source-layer"')):e.push(new Wt(n,r.source,'source "'+r.source+'" not found'))}else e.push(new Wt(n,r,'missing required property "source"'));return e=e.concat(Tr({key:n,value:r,valueSpec:i.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(){return[]},type:function type(){return nn({key:n+".type",value:r.type,valueSpec:i.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"})},filter:Jr,layout:function layout(t){return Tr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return $r(Bt({layerType:s},t))}}})},paint:function paint(t){return Tr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Yr(Bt({layerType:s},t))}}})}}}))}function Qr(t){var e=t.value,r=t.key,n=t.styleSpec,o=t.style;if(!e.type)return[new Wt(r,e,'"type" is required')];var i,a=Mt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Tr({key:r,value:e,valueSpec:n["source_"+a.replace("-","_")],style:t.style,styleSpec:n});case"geojson":if(i=Tr({key:r,value:e,valueSpec:n.source_geojson,style:o,styleSpec:n}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c=u[1],p="string"==typeof l?[l,["accumulated"],["get",s]]:l;i.push.apply(i,Lr({key:r+"."+s+".map",value:c,expressionContext:"cluster-map"})),i.push.apply(i,Lr({key:r+"."+s+".reduce",value:p,expressionContext:"cluster-reduce"}))}return i;case"video":return Tr({key:r,value:e,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return Tr({key:r,value:e,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return[new Wt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Dr({key:r+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function tn(t){var e=t.value,r=t.styleSpec,n=r.light,o=t.style,i=[],a=gr(e);if(void 0===e)return i;if("object"!==a)return i.concat([new Wt("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);i=u&&n[u[1]]&&n[u[1]].transition?i.concat(nn({key:s,value:e[s],valueSpec:r.transition,style:o,styleSpec:r})):n[s]?i.concat(nn({key:s,value:e[s],valueSpec:n[s],style:o,styleSpec:r})):i.concat([new Wt(s,e[s],'unknown property "'+s+'"')])}return i}function en(t){var e=t.value,r=t.key,n=gr(e);return"string"!==n?[new Wt(r,e,"string expected, "+n+" found")]:[]}var Wn={"*":function _(){return[]},array:Vr,boolean:function boolean(t){var e=t.value,r=t.key,n=gr(e);return"boolean"!==n?[new Wt(r,e,"boolean expected, "+n+" found")]:[]},number:Fr,color:function color(t){var e=t.key,r=t.value,n=gr(r);return"string"!==n?[new Wt(e,r,"color expected, "+n+" found")]:null===fe(r)?[new Wt(e,r,'color expected, "'+r+'" found')]:[]},constants:Ct,enum:Dr,filter:Jr,function:Or,layer:Wr,object:Tr,source:Qr,light:tn,string:en,formatted:function formatted(t){return 0===en(t).length?[]:Lr(t)},image:function image(t){return 0===en(t).length?[]:Lr(t)}};function nn(t){var e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&&xr(Mt(e))?Or(t):r.expression&&Ir(Pt(e))?Lr(t):r.type&&Wn[r.type]?Wn[r.type](t):Tr(Bt({},t,{valueSpec:r.type?n[r.type]:r}))}function an(t){var e=t.value,r=t.key,n=en(t);return n.length?n:(-1===e.indexOf("{fontstack}")&&n.push(new Wt(r,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new Wt(r,e,'"glyphs" url must include a "{range}" token')),n)}function on(t,e){void 0===e&&(e=Vt);var r=[];return r=r.concat(nn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:an,"*":function _(){return[]}}})),t.constants&&(r=r.concat(Ct({key:"constants",value:t.constants,style:t,styleSpec:e}))),sn(r)}function sn(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function un(t){return function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return sn(t.apply(this,e))}}on.source=un(Qr),on.light=un(tn),on.layer=un(Wr),on.filter=un(Jr),on.paintProperty=un(Yr),on.layoutProperty=un($r);var qn=on,Hn=qn.light,Kn=qn.paintProperty,Zn=qn.layoutProperty;function fn(t,e){var r=!1;if(e&&e.length)for(var n=0,o=e;n<o.length;n+=1){var i=o[n];t.fire(new jt(new Error(i.message))),r=!0}return r}var Xn=mn,Qn=3;function mn(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],r=o[2],this.d=e+2*r;for(var i=0;i<this.d*this.d;i++){var a=o[Qn+i],s=o[Qn+i+1];n.push(a===s?null:o.subarray(a,s))}var u=o[Qn+n.length],l=o[Qn+n.length+1];this.keys=o.subarray(u,l),this.bboxes=o.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var p=r/e*t;this.min=-p,this.max=t+p}mn.prototype.insert=function(t,e,r,n,o){this._forEachCell(e,r,n,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},mn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},mn.prototype._insertCell=function(t,e,r,n,o,i){this.cells[o].push(i)},mn.prototype.query=function(t,e,r,n,o){var i=this.min,a=this.max;if(t<=i&&e<=i&&a<=r&&a<=n&&!o)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,r,n,this._queryCell,s,{},o),s},mn.prototype._queryCell=function(t,e,r,n,o,i,a,s){var u=this.cells[o];if(null!==u)for(var l=this.keys,c=this.bboxes,p=0;p<u.length;p++){var f=u[p];if(void 0===a[f]){var d=4*f;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):t<=c[d+2]&&e<=c[d+3]&&r>=c[d+0]&&n>=c[d+1])?(a[f]=!0,i.push(l[f])):a[f]=!1}}},mn.prototype._forEachCell=function(t,e,r,n,o,i,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(r),p=this._convertToCellCoord(n),f=u;f<=c;f++)for(var d=l;d<=p;d++){var h=this.d*d+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(d),this._convertFromCellCoord(f+1),this._convertFromCellCoord(d+1)))&&o.call(this,t,e,r,n,h,i,a,s))return}},mn.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},mn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},mn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Qn+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var o=new Int32Array(e+r+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=e,a=0;a<t.length;a++){var s=t[a];o[Qn+a]=i,o.set(s,i),i+=s.length}return o[Qn+t.length]=i,o.set(this.keys,i),i+=this.keys.length,o[Qn+t.length+1]=i,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer};var $n=self.ImageData,Jn={};function xn(t,e,r){void 0===r&&(r={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Jn[t]={klass:e,omit:r.omit||[],shallow:r.shallow||[]}}for(var Eo in xn("Object",Object),Xn.serialize=function(t,e){var r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}},Xn.deserialize=function(t){return new Xn(t.buffer)},xn("Grid",Xn),xn("Color",he),xn("Error",Error),xn("StylePropertyFunction",Gn),xn("StyleExpression",Nn,{omit:["_evaluator"]}),xn("ZoomDependentExpression",jn),xn("ZoomConstantExpression",Un),xn("CompoundExpression",je,{omit:["_evaluate"]}),Fn)Fn[Eo]._classRegistryKey||xn("Expression_"+Eo,Fn[Eo]);function _n(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return e&&e.push(r.buffer),r}if(t instanceof $n)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],o=0,i=t;o<i.length;o+=1){var a=i[o];n.push(_n(a,e))}return n}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(Jn[u].omit.indexOf(c)>=0)){var p=t[c];l[c]=Jn[u].shallow.indexOf(c)>=0?p:_n(p,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(l.$name=u),l}throw new Error("can't serialize object of type "+typeof t)}function wn(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof $n)return t;if(Array.isArray(t))return t.map(wn);if("object"==typeof t){var e=t.$name||"Object",r=Jn[e].klass;if(!r)throw new Error("can't deserialize unregistered class "+e);if(r.deserialize)return r.deserialize(t);for(var n=Object.create(r.prototype),o=0,i=Object.keys(t);o<i.length;o+=1){var a=i[o];if("$name"!==a){var s=t[a];n[a]=Jn[e].shallow.indexOf(a)>=0?s:wn(s)}}return n}throw new Error("can't deserialize object of type "+typeof t)}var Po=function An(){this.first=!0};Po.prototype.update=function(t,e){var r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))};var To={"Latin-1 Supplement":function Latin1Supplement(t){return t>=128&&t<=255},Arabic:function Arabic(t){return t>=1536&&t<=1791},"Arabic Supplement":function ArabicSupplement(t){return t>=1872&&t<=1919},"Arabic Extended-A":function ArabicExtendedA(t){return t>=2208&&t<=2303},"Hangul Jamo":function HangulJamo(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function UnifiedCanadianAboriginalSyllabics(t){return t>=5120&&t<=5759},Khmer:function Khmer(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function UnifiedCanadianAboriginalSyllabicsExtended(t){return t>=6320&&t<=6399},"General Punctuation":function GeneralPunctuation(t){return t>=8192&&t<=8303},"Letterlike Symbols":function LetterlikeSymbols(t){return t>=8448&&t<=8527},"Number Forms":function NumberForms(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function MiscellaneousTechnical(t){return t>=8960&&t<=9215},"Control Pictures":function ControlPictures(t){return t>=9216&&t<=9279},"Optical Character Recognition":function OpticalCharacterRecognition(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function EnclosedAlphanumerics(t){return t>=9312&&t<=9471},"Geometric Shapes":function GeometricShapes(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function MiscellaneousSymbols(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function MiscellaneousSymbolsAndArrows(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function CJKRadicalsSupplement(t){return t>=11904&&t<=12031},"Kangxi Radicals":function KangxiRadicals(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function IdeographicDescriptionCharacters(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function CJKSymbolsAndPunctuation(t){return t>=12288&&t<=12351},Hiragana:function Hiragana(t){return t>=12352&&t<=12447},Katakana:function Katakana(t){return t>=12448&&t<=12543},Bopomofo:function Bopomofo(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function HangulCompatibilityJamo(t){return t>=12592&&t<=12687},Kanbun:function Kanbun(t){return t>=12688&&t<=12703},"Bopomofo Extended":function BopomofoExtended(t){return t>=12704&&t<=12735},"CJK Strokes":function CJKStrokes(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function KatakanaPhoneticExtensions(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function EnclosedCJKLettersAndMonths(t){return t>=12800&&t<=13055},"CJK Compatibility":function CJKCompatibility(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function CJKUnifiedIdeographsExtensionA(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function YijingHexagramSymbols(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function CJKUnifiedIdeographs(t){return t>=19968&&t<=40959},"Yi Syllables":function YiSyllables(t){return t>=40960&&t<=42127},"Yi Radicals":function YiRadicals(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function HangulJamoExtendedA(t){return t>=43360&&t<=43391},"Hangul Syllables":function HangulSyllables(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function HangulJamoExtendedB(t){return t>=55216&&t<=55295},"Private Use Area":function PrivateUseArea(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function CJKCompatibilityIdeographs(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function ArabicPresentationFormsA(t){return t>=64336&&t<=65023},"Vertical Forms":function VerticalForms(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function CJKCompatibilityForms(t){return t>=65072&&t<=65103},"Small Form Variants":function SmallFormVariants(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function ArabicPresentationFormsB(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function HalfwidthAndFullwidthForms(t){return t>=65280&&t<=65519}};function Sn(t){for(var e=0,r=t;e<r.length;e+=1)if(In(r[e].charCodeAt(0)))return!0;return!1}function zn(t){return!To.Arabic(t)&&!To["Arabic Supplement"](t)&&!To["Arabic Extended-A"](t)&&!To["Arabic Presentation Forms-A"](t)&&!To["Arabic Presentation Forms-B"](t)}function In(t){return 746===t||747===t||!(t<4352)&&(!!To["Bopomofo Extended"](t)||!!To.Bopomofo(t)||!(!To["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!To["CJK Compatibility Ideographs"](t)||!!To["CJK Compatibility"](t)||!!To["CJK Radicals Supplement"](t)||!!To["CJK Strokes"](t)||!(!To["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!To["CJK Unified Ideographs Extension A"](t)||!!To["CJK Unified Ideographs"](t)||!!To["Enclosed CJK Letters and Months"](t)||!!To["Hangul Compatibility Jamo"](t)||!!To["Hangul Jamo Extended-A"](t)||!!To["Hangul Jamo Extended-B"](t)||!!To["Hangul Jamo"](t)||!!To["Hangul Syllables"](t)||!!To.Hiragana(t)||!!To["Ideographic Description Characters"](t)||!!To.Kanbun(t)||!!To["Kangxi Radicals"](t)||!!To["Katakana Phonetic Extensions"](t)||!(!To.Katakana(t)||12540===t)||!(!To["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!To["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!To["Unified Canadian Aboriginal Syllabics"](t)||!!To["Unified Canadian Aboriginal Syllabics Extended"](t)||!!To["Vertical Forms"](t)||!!To["Yijing Hexagram Symbols"](t)||!!To["Yi Syllables"](t)||!!To["Yi Radicals"](t))}function Cn(t){return!(In(t)||function(t){return!(!To["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||!(!To["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||!!To["Letterlike Symbols"](t)||!!To["Number Forms"](t)||!(!To["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||!(!To["Control Pictures"](t)||9251===t)||!!To["Optical Character Recognition"](t)||!!To["Enclosed Alphanumerics"](t)||!!To["Geometric Shapes"](t)||!(!To["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||!(!To["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||!!To["CJK Symbols and Punctuation"](t)||!!To.Katakana(t)||!!To["Private Use Area"](t)||!!To["CJK Compatibility Forms"](t)||!!To["Small Form Variants"](t)||!!To["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t}(t))}function Bn(t,e){return!(!e&&(t>=1424&&t<=2303||To["Arabic Presentation Forms-A"](t)||To["Arabic Presentation Forms-B"](t)))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||To.Khmer(t))}var Mo,Lo=!1,No=null,Bo=!1,jo=new Gt,Wo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function isLoaded(){return Bo||null!=Wo.applyArabicShaping}},qo=function On(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Po,this.transition={})};qo.prototype.isSupportedScript=function(t){return function(t,e){for(var r=0,n=t;r<n.length;r+=1)if(!Bn(n[r].charCodeAt(0),e))return!1;return!0}(t,Wo.isLoaded())},qo.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},qo.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}};var Ho=function Ln(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(xr(t))return new Gn(t,e);if(Ir(t)){var r=Mr(t,e);if("error"===r.result)throw new Error(r.value.map((function(t){return t.key+": "+t.message})).join(", "));return r.value}var n=t;return"string"==typeof t&&"color"===e.type&&(n=he.parse(t)),{kind:"constant",evaluate:function evaluate(){return n}}}(void 0===e?t.specification.default:e,t.specification)};Ho.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ho.prototype.possiblyEvaluate=function(t,e){return this.property.possiblyEvaluate(this,t,e)};var Qo=function Dn(t){this.property=t,this.value=new Ho(t,void 0)};Qo.prototype.transitioned=function(t,e){return new ti(this.property,this.value,e,c({},t.transition,this.transition),t.now)},Qo.prototype.untransitioned=function(){return new ti(this.property,this.value,null,{},0)};var Jo=function Un(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Jo.prototype.getValue=function(t){return b(this._values[t].value.value)},Jo.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Qo(this._values[t].property)),this._values[t].value=new Ho(this._values[t].property,null===e?void 0:b(e))},Jo.prototype.getTransition=function(t){return b(this._values[t].transition)},Jo.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Qo(this._values[t].property)),this._values[t].transition=b(e)||void 0},Jo.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],o=this.getValue(n);void 0!==o&&(t[n]=o);var i=this.getTransition(n);void 0!==i&&(t[n+"-transition"]=i)}return t},Jo.prototype.transitioned=function(t,e){for(var r=new ni(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].transitioned(t,e._values[i])}return r},Jo.prototype.untransitioned=function(){for(var t=new ni(this._properties),e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e];t._values[n]=this._values[n].untransitioned()}return t};var ti=function Rn(t,e,r,n,o){this.property=t,this.value=e,this.begin=o+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};ti.prototype.possiblyEvaluate=function(t,e){var r=t.now||0,n=this.value.possiblyEvaluate(t,e),o=this.prior;if(o){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return o.possiblyEvaluate(t,e);var i=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e),n,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}(i))}return n};var ni=function jn(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};ni.prototype.possiblyEvaluate=function(t,e){for(var r=new ai(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].possiblyEvaluate(t,e)}return r},ni.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var r=e[t];if(this._values[r].prior)return!0}return!1};var oi=function qn(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};oi.prototype.getValue=function(t){return b(this._values[t].value)},oi.prototype.setValue=function(t,e){this._values[t]=new Ho(this._values[t].property,null===e?void 0:b(e))},oi.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],o=this.getValue(n);void 0!==o&&(t[n]=o)}return t},oi.prototype.possiblyEvaluate=function(t,e){for(var r=new ai(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].possiblyEvaluate(t,e)}return r};var ii=function Nn(t,e,r){this.property=t,this.value=e,this.parameters=r};ii.prototype.isConstant=function(){return"constant"===this.value.kind},ii.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},ii.prototype.evaluate=function(t,e,r){return this.property.evaluate(this.value,this.parameters,t,e,r)};var ai=function Kn(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ai.prototype.get=function(t){return this._values[t]};var si=function Zn(t){this.specification=t};si.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},si.prototype.interpolate=function(t,e,r){var n=Ye[this.specification.type];return n?n(t,e,r):t};var ui=function Xn(t,e){this.specification=t,this.overrides=e};ui.prototype.possiblyEvaluate=function(t,e,r){return"constant"===t.expression.kind||"camera"===t.expression.kind?new ii(this,{kind:"constant",value:t.expression.evaluate(e,null,{},r)},e):new ii(this,t.expression,e)},ui.prototype.interpolate=function(t,e,r){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new ii(this,{kind:"constant",value:void 0},t.parameters);var n=Ye[this.specification.type];return n?new ii(this,{kind:"constant",value:n(t.value.value,e.value.value,r)},t.parameters):t},ui.prototype.evaluate=function(t,e,r,n,o){return"constant"===t.kind?t.value:t.evaluate(e,r,n,o)};var li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(t,e,r){if(void 0===t.value)return new ii(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var n=t.expression.evaluate(e,null,{},r),o="image"===t.property.specification.type&&"string"!=typeof n?n.name:n,i=this._calculate(o,o,o,e);return new ii(this,{kind:"constant",value:i},e)}if("camera"===t.expression.kind){var a=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new ii(this,{kind:"constant",value:a},e)}return new ii(this,t.expression,e)},e.prototype.evaluate=function(t,e,r,n,o){if("source"===t.kind){var i=t.evaluate(e,r,n,o);return this._calculate(i,i,i,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value},e.prototype._calculate=function(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},e.prototype.interpolate=function(t){return t},e}(ui),ci=function Jn(t){this.specification=t};ci.prototype.possiblyEvaluate=function(t,e,r){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e,null,{},r);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate(new qo(Math.floor(e.zoom-1),e)),t.expression.evaluate(new qo(Math.floor(e.zoom),e)),t.expression.evaluate(new qo(Math.floor(e.zoom+1),e)),e)}},ci.prototype._calculate=function(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},ci.prototype.interpolate=function(t){return t};var pi=function Hn(t){this.specification=t};pi.prototype.possiblyEvaluate=function(t,e,r){return!!t.expression.evaluate(e,null,{},r)},pi.prototype.interpolate=function(){return!1};var fi=function Yn(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var r=t[e];r.specification.overridable&&this.overridableProperties.push(e);var n=this.defaultPropertyValues[e]=new Ho(r,void 0),o=this.defaultTransitionablePropertyValues[e]=new Qo(r);this.defaultTransitioningPropertyValues[e]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}};xn("DataDrivenProperty",ui),xn("DataConstantProperty",si),xn("CrossFadedDataDrivenProperty",li),xn("CrossFadedProperty",ci),xn("ColorRampProperty",pi);var di=function(t){function e(e,r){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter=function(){return!0},"custom"!==e.type&&(e=e,this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),r.layout&&(this._unevaluatedLayout=new oi(r.layout)),r.paint)){for(var n in this._transitionablePaint=new Jo(r.paint),e.paint)this.setPaintProperty(n,e.paint[n],{validate:!1});for(var o in e.layout)this.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,r){if(void 0===r&&(r={}),null!=e){var n="layers."+this.id+".layout."+t;if(this._validate(Zn,n,t,e,r))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,r){if(void 0===r&&(r={}),null!=e){var n="layers."+this.id+".paint."+t;if(this._validate(Kn,n,t,e,r))return!1}if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var o=this._transitionablePaint._values[t],i="cross-faded-data-driven"===o.property.specification["property-type"],a=o.value.isDataDriven(),s=o.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var u=this._transitionablePaint._values[t].value;return u.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(t,s,u)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,r){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),x(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,r,n,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&fn(this,t.call(qn,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:Vt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof ii&&dr(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Gt),hi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},mi=function Qn(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},yi=function ti(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ei(t,e){void 0===e&&(e=1);var r=0,n=0;return{members:t.map((function(t){var o,i=(o=t.type,hi[o].BYTES_PER_ELEMENT),a=r=ri(r,Math.max(e,i)),s=t.components||1;return n=Math.max(n,i),r+=i*s,{name:t.name,type:t.type,components:s,offset:a}})),size:ri(r,Math.max(n,e)),alignment:e}}function ri(t,e){return Math.ceil(t/e)*e}yi.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},yi.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},yi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},yi.prototype.clear=function(){this.length=0},yi.prototype.resize=function(t){this.reserve(t),this.length=t},yi.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},yi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t},e}(yi);gi.prototype.bytesPerElement=4,xn("StructArrayLayout2i4",gi);var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,o){var i=4*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,this.int16[i+3]=o,t},e}(yi);vi.prototype.bytesPerElement=8,xn("StructArrayLayout4i8",vi);var _i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,o,i)},e.prototype.emplace=function(t,e,r,n,o,i,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,t},e}(yi);_i.prototype.bytesPerElement=12,xn("StructArrayLayout2i4i12",_i);var bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,o,i)},e.prototype.emplace=function(t,e,r,n,o,i,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=o,this.uint8[u+6]=i,this.uint8[u+7]=a,t},e}(yi);bi.prototype.bytesPerElement=8,xn("StructArrayLayout2i4ub8",bi);var Si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,r,n,o,i,a,s)},e.prototype.emplace=function(t,e,r,n,o,i,a,s,u){var l=8*t;return this.uint16[l+0]=e,this.uint16[l+1]=r,this.uint16[l+2]=n,this.uint16[l+3]=o,this.uint16[l+4]=i,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=u,t},e}(yi);Si.prototype.bytesPerElement=16,xn("StructArrayLayout8ui16",Si);var xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,r,n,o,i,a,s)},e.prototype.emplace=function(t,e,r,n,o,i,a,s,u){var l=8*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+3]=o,this.uint16[l+4]=i,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=u,t},e}(yi);xi.prototype.bytesPerElement=16,xn("StructArrayLayout4i4ui16",xi);var wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var o=3*t;return this.float32[o+0]=e,this.float32[o+1]=r,this.float32[o+2]=n,t},e}(yi);wi.prototype.bytesPerElement=12,xn("StructArrayLayout3f12",wi);var Ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var r=1*t;return this.uint32[r+0]=e,t},e}(yi);Ei.prototype.bytesPerElement=4,xn("StructArrayLayout1ul4",Ei);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s,u,l,c){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,r,n,o,i,a,s,u,l,c)},e.prototype.emplace=function(t,e,r,n,o,i,a,s,u,l,c,p){var f=12*t,d=6*t;return this.int16[f+0]=e,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=o,this.int16[f+4]=i,this.int16[f+5]=a,this.uint32[d+3]=s,this.uint16[f+8]=u,this.uint16[f+9]=l,this.int16[f+10]=c,this.int16[f+11]=p,t},e}(yi);Pi.prototype.bytesPerElement=24,xn("StructArrayLayout6i1ul2ui2i24",Pi);var Ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,o,i)},e.prototype.emplace=function(t,e,r,n,o,i,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,t},e}(yi);Ci.prototype.bytesPerElement=12,xn("StructArrayLayout2i2i2i12",Ci);var Ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,o){var i=12*t,a=3*t;return this.uint8[i+0]=e,this.uint8[i+1]=r,this.float32[a+1]=n,this.float32[a+2]=o,t},e}(yi);Ti.prototype.bytesPerElement=12,xn("StructArrayLayout2ub2f12",Ti);var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y){var g=this.length;return this.resize(g+1),this.emplace(g,t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y)},e.prototype.emplace=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y,g){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=r,this.uint16[v+2]=n,this.uint16[v+3]=o,this.uint32[_+2]=i,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=u,this.uint16[v+11]=l,this.uint16[v+12]=c,this.float32[_+7]=p,this.float32[_+8]=f,this.uint8[b+36]=d,this.uint8[b+37]=h,this.uint8[b+38]=m,this.uint32[_+10]=y,this.int16[v+22]=g,t},e}(yi);Mi.prototype.bytesPerElement=48,xn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mi);var Ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y,g,v,_,b,S){var x=this.length;return this.resize(x+1),this.emplace(x,t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y,g,v,_,b,S)},e.prototype.emplace=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y,g,v,_,b,S,x){var w=26*t,E=13*t;return this.int16[w+0]=e,this.int16[w+1]=r,this.int16[w+2]=n,this.int16[w+3]=o,this.int16[w+4]=i,this.int16[w+5]=a,this.int16[w+6]=s,this.uint16[w+7]=u,this.uint16[w+8]=l,this.uint16[w+9]=c,this.uint16[w+10]=p,this.uint16[w+11]=f,this.uint16[w+12]=d,this.uint16[w+13]=h,this.uint16[w+14]=m,this.uint16[w+15]=y,this.uint16[w+16]=g,this.uint16[w+17]=v,this.uint32[E+9]=_,this.float32[E+10]=b,this.float32[E+11]=S,this.float32[E+12]=x,t},e}(yi);Ai.prototype.bytesPerElement=52,xn("StructArrayLayout7i11ui1ul3f52",Ai);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var r=1*t;return this.float32[r+0]=e,t},e}(yi);Li.prototype.bytesPerElement=4,xn("StructArrayLayout1f4",Li);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var o=3*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,t},e}(yi);Ii.prototype.bytesPerElement=6,xn("StructArrayLayout3i6",Ii);var Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var o=2*t,i=4*t;return this.uint32[o+0]=e,this.uint16[i+2]=r,this.uint16[i+3]=n,t},e}(yi);Oi.prototype.bytesPerElement=8,xn("StructArrayLayout1ul2ui8",Oi);var ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var o=3*t;return this.uint16[o+0]=e,this.uint16[o+1]=r,this.uint16[o+2]=n,t},e}(yi);ki.prototype.bytesPerElement=6,xn("StructArrayLayout3ui6",ki);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t},e}(yi);Fi.prototype.bytesPerElement=4,xn("StructArrayLayout2ui4",Fi);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var r=1*t;return this.uint16[r+0]=e,t},e}(yi);Ni.prototype.bytesPerElement=2,xn("StructArrayLayout1ui2",Ni);var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t},e}(yi);Bi.prototype.bytesPerElement=8,xn("StructArrayLayout2f8",Bi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,o){var i=4*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,this.float32[i+3]=o,t},e}(yi);Ui.prototype.bytesPerElement=16,xn("StructArrayLayout4f16",Ui);var zi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},r.anchorPoint.get=function(){return new T(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,r),e}(mi);zi.prototype.size=24;var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new zi(this,t)},e}(Pi);xn("CollisionBoxArray",ji);var Gi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},r.associatedIconIndex.set=function(t){this._structArray.int16[this._pos2+22]=t},Object.defineProperties(e.prototype,r),e}(mi);Gi.prototype.size=48;var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Gi(this,t)},e}(Mi);xn("PlacedSymbolArray",Vi);var Wi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.placedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+6]=t},r.key.get=function(){return this._structArray.uint16[this._pos2+7]},r.key.set=function(t){this._structArray.uint16[this._pos2+7]=t},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+12]=t},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+13]=t},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.featureIndex.set=function(t){this._structArray.uint16[this._pos2+14]=t},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+15]},r.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+15]=t},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+16]},r.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+16]=t},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+17]},r.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+17]=t},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+9]},r.crossTileID.set=function(t){this._structArray.uint32[this._pos4+9]=t},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+10]},r.textBoxScale.set=function(t){this._structArray.float32[this._pos4+10]=t},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+11]},r.textOffset0.set=function(t){this._structArray.float32[this._pos4+11]=t},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+12]},r.textOffset1.set=function(t){this._structArray.float32[this._pos4+12]=t},Object.defineProperties(e.prototype,r),e}(mi);Wi.prototype.size=52;var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Wi(this,t)},e}(Ai);xn("SymbolInstanceArray",qi);var Hi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,r),e}(mi);Hi.prototype.size=4;var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new Hi(this,t)},e}(Li);xn("GlyphOffsetArray",Ki);var Zi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(t){this._structArray.int16[this._pos2+0]=t},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(t){this._structArray.int16[this._pos2+1]=t},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,r),e}(mi);Zi.prototype.size=6;var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new Zi(this,t)},e}(Ii);xn("SymbolLineVertexArray",Xi);var Qi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,r),e}(mi);Qi.prototype.size=8;var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Qi(this,t)},e}(Oi);xn("FeatureIndexArray",$i);var Ji=ei([{name:"a_pos",components:2,type:"Int16"}],4).members,ta=function Li(t){void 0===t&&(t=[]),this.segments=t};function Di(t,e){return 256*(t=l(Math.floor(t),0,255))+l(Math.floor(e),0,255)}ta.prototype.prepareSegment=function(t,e,r,n){var o=this.segments[this.segments.length-1];return t>ta.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+ta.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!o||o.vertexLength+t>ta.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==n)&&(o={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(o.sortKey=n),this.segments.push(o)),o},ta.prototype.get=function(){return this.segments},ta.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var r=e[t];for(var n in r.vaos)r.vaos[n].destroy()}},ta.simpleSegment=function(t,e,r,n){return new ta([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},ta.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xn("SegmentVector",ta);var ea=function Ui(){this.ids=[],this.positions=[],this.indexed=!1};function Ri(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}ea.prototype.add=function(t,e,r,n){this.ids.push(t),this.positions.push(e,r,n)},ea.prototype.getPositions=function(t){for(var e=0,r=this.ids.length-1;e<r;){var n=e+r>>1;this.ids[n]>=t?r=n:e=n+1}for(var o=[];this.ids[e]===t;){var i=this.positions[3*e],a=this.positions[3*e+1],s=this.positions[3*e+2];o.push({index:i,start:a,end:s}),e++}return o},ea.serialize=function(t,e){var r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return function t(e,r,n,o){if(!(n>=o)){for(var i=e[n+o>>1],a=n-1,s=o+1;;){do{a++}while(e[a]<i);do{s--}while(e[s]>i);if(a>=s)break;Ri(e,a,s),Ri(r,3*a,3*s),Ri(r,3*a+1,3*s+1),Ri(r,3*a+2,3*s+2)}t(e,r,n,s),t(e,r,s+1,o)}}(r,n,0,r.length-1),e.push(r.buffer,n.buffer),{ids:r,positions:n}},ea.deserialize=function(t){var e=new ea;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},xn("FeaturePositionMap",ea);var oa=function ji(t,e){this.gl=t.gl,this.location=e},sa=function(t){function e(e,r){t.call(this,e,r),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(oa),ua=function(t){function e(e,r){t.call(this,e,r),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(oa),Ea=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(oa),Pa=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(oa),Ca=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(oa),Ra=function(t){function e(e,r){t.call(this,e,r),this.current=he.transparent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(oa),Ia=new Float32Array(16),Na=function(t){function e(e,r){t.call(this,e,r),this.current=Ia}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(oa);function Yi(t){return[Di(255*t.r,255*t.g),Di(255*t.b,255*t.a)]}var Ba=function $i(t,e,r){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=r,this.maxValue=-1/0};Ba.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},Ba.prototype.setConstantPatternPositions=function(){},Ba.prototype.populatePaintArray=function(){},Ba.prototype.updatePaintArray=function(){},Ba.prototype.upload=function(){},Ba.prototype.destroy=function(){},Ba.prototype.setUniforms=function(t,e,r,n){e.set(n.constantOr(this.value))},Ba.prototype.getBinding=function(t,e){return"color"===this.type?new Ra(t,e):new ua(t,e)},Ba.serialize=function(t){var e=t.value,r=t.names,n=t.type;return{value:_n(e),names:r,type:n}},Ba.deserialize=function(t){var e=t.value,r=t.names,n=t.type;return new Ba(wn(e),r,n)};var za=function Wi(t,e,r){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};za.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},za.prototype.populatePaintArray=function(){},za.prototype.updatePaintArray=function(){},za.prototype.upload=function(){},za.prototype.destroy=function(){},za.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},za.prototype.setUniforms=function(t,e,r,n,o){var i=this.patternPositions;"u_pattern_to"===o&&i.patternTo&&e.set(i.patternTo),"u_pattern_from"===o&&i.patternFrom&&e.set(i.patternFrom)},za.prototype.getBinding=function(t,e){return new Ca(t,e)};var Ga=function Qi(t,e,r,n){this.expression=t,this.names=e,this.type=r,this.uniformNames=this.names.map((function(t){return"a_"+t})),this.maxValue=-1/0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};Ga.prototype.defines=function(){return[]},Ga.prototype.setConstantPatternPositions=function(){},Ga.prototype.populatePaintArray=function(t,e,r,n){var o=this.paintVertexArray,i=o.length;o.reserve(t);var a=this.expression.evaluate(new qo(0),e,{},[],n);if("color"===this.type)for(var s=Yi(a),u=i;u<t;u++)o.emplaceBack(s[0],s[1]);else{for(var l=i;l<t;l++)o.emplaceBack(a);this.maxValue=Math.max(this.maxValue,a)}},Ga.prototype.updatePaintArray=function(t,e,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var a=Yi(i),s=t;s<e;s++)o.emplace(s,a[0],a[1]);else{for(var u=t;u<e;u++)o.emplace(u,i);this.maxValue=Math.max(this.maxValue,i)}},Ga.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ga.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ga.prototype.setUniforms=function(t,e){e.set(0)},Ga.prototype.getBinding=function(t,e){return new ua(t,e)};var Va=function ta(t,e,r,n,o,i){this.expression=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0;var a=i;this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new a};Va.prototype.defines=function(){return[]},Va.prototype.setConstantPatternPositions=function(){},Va.prototype.populatePaintArray=function(t,e,r,n){var o=this.paintVertexArray,i=o.length;o.reserve(t);var a=this.expression.evaluate(new qo(this.zoom),e,{},[],n),s=this.expression.evaluate(new qo(this.zoom+1),e,{},[],n);if("color"===this.type)for(var u=Yi(a),l=Yi(s),c=i;c<t;c++)o.emplaceBack(u[0],u[1],l[0],l[1]);else{for(var p=i;p<t;p++)o.emplaceBack(a,s);this.maxValue=Math.max(this.maxValue,a,s)}},Va.prototype.updatePaintArray=function(t,e,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=Yi(i),u=Yi(a),l=t;l<e;l++)o.emplace(l,s[0],s[1],u[0],u[1]);else{for(var c=t;c<e;c++)o.emplace(c,i,a);this.maxValue=Math.max(this.maxValue,i,a)}},Va.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Va.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Va.prototype.setUniforms=function(t,e,r){e.set(this.interpolationFactor(r.zoom))},Va.prototype.getBinding=function(t,e){return new ua(t,e)};var qa=function ea(t,e,r,n,o,i,a){this.expression=t,this.names=e,this.type=r,this.uniformNames=this.names.map((function(t){return"u_"+t+"_t"})),this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};qa.prototype.defines=function(){return[]},qa.prototype.setConstantPatternPositions=function(){},qa.prototype.populatePaintArray=function(t,e,r){var n=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,i=this.layerId,a=n.length;if(n.reserve(t),o.reserve(t),r&&e.patterns&&e.patterns[i]){var s=e.patterns[i],u=s.min,l=s.mid,c=s.max,p=r[u],f=r[l],d=r[c];if(!p||!f||!d)return;for(var h=a;h<t;h++)n.emplaceBack(f.tl[0],f.tl[1],f.br[0],f.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),o.emplaceBack(f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},qa.prototype.updatePaintArray=function(t,e,r,n,o){var i=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(o&&r.patterns&&r.patterns[s]){var u=r.patterns[s],l=u.min,c=u.mid,p=u.max,f=o[l],d=o[c],h=o[p];if(!f||!d||!h)return;for(var m=t;m<e;m++)i.emplace(m,d.tl[0],d.tl[1],d.br[0],d.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1]),a.emplace(m,d.tl[0],d.tl[1],d.br[0],d.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},qa.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},qa.prototype.setUniforms=function(t,e){e.set(0)},qa.prototype.getBinding=function(t,e){return new ua(t,e)};var Ka=function ra(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new ea,this._bufferOffset=0};Ka.createDynamic=function(t,e,r){var n=new Ka,o=[];for(var i in t.paint._values)if(r(i)){var a=t.paint.get(i);if(a instanceof ii&&dr(a.property.specification)){var s=ia(i,t.type),u=a.property.specification.type,l=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)n.binders[i]=new za(a.value.value,s,u),o.push("/u_"+i);else{var c=aa(i,u,"source");n.binders[i]=new qa(a.value,s,u,l,e,c,t.id),o.push("/a_"+i)}else if("constant"===a.value.kind)n.binders[i]=new Ba(a.value.value,s,u),o.push("/u_"+i);else if("source"===a.value.kind){var p=aa(i,u,"source");n.binders[i]=new Ga(a.value,s,u,p),o.push("/a_"+i)}else{var f=aa(i,u,"composite");n.binders[i]=new Va(a.value,s,u,l,e,f),o.push("/z_"+i)}}}return n.cacheKey=o.sort().join(""),n},Ka.prototype.populatePaintArrays=function(t,e,r,n,o){for(var i in this.binders)this.binders[i].populatePaintArray(t,e,n,o);void 0!==e.id&&this._featureMap.add(+e.id,r,this._bufferOffset,t),this._bufferOffset=t},Ka.prototype.setConstantPatternPositions=function(t,e){for(var r in this.binders)this.binders[r].setConstantPatternPositions(t,e)},Ka.prototype.updatePaintArrays=function(t,e,r,n){var o=!1;for(var i in t)for(var a=0,s=this._featureMap.getPositions(+i);a<s.length;a+=1){var u=s[a],l=e.feature(u.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof Ba||p instanceof za)&&!0===p.expression.isStateDependent){var f=r.paint.get(c);p.expression=f.value,p.updatePaintArray(u.start,u.end,l,t[i],n),o=!0}}}return o},Ka.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Ka.prototype.getPaintVertexBuffers=function(){return this._buffers},Ka.prototype.getUniforms=function(t,e){var r=[];for(var n in this.binders)for(var o=this.binders[n],i=0,a=o.uniformNames;i<a.length;i+=1){var s=a[i];if(e[s]){var u=o.getBinding(t,e[s]);r.push({name:s,property:n,binding:u})}}return r},Ka.prototype.setUniforms=function(t,e,r,n){for(var o=0,i=e;o<i.length;o+=1){var a=i[o],s=a.name,u=a.property,l=a.binding;this.binders[u].setUniforms(t,l,n,r.get(u),s)}},Ka.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof qa){var o=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;o&&e.push(o)}else(n instanceof Ga||n instanceof Va)&&n.paintVertexBuffer&&e.push(n.paintVertexBuffer)}this._buffers=e},Ka.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var r=[];for(var n in this.binders){var o=this.binders[n];(o instanceof Ga||o instanceof Va)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},Ka.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Za=function na(t,e,r,n){void 0===n&&(n=function n(){return!0}),this.programConfigurations={};for(var o=0,i=e;o<i.length;o+=1){var a=i[o];this.programConfigurations[a.id]=Ka.createDynamic(a,r,n),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};function ia(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function aa(t,e,r){var n={color:{source:Bi,composite:Ui},number:{source:Li,composite:Bi}},o=function(t){return{"line-pattern":{source:Si,composite:Si},"fill-pattern":{source:Si,composite:Si},"fill-extrusion-pattern":{source:Si,composite:Si}}[t]}(t);return o&&o[r]||n[e][r]}Za.prototype.populatePaintArrays=function(t,e,r,n,o){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,r,n,o);this.needsUpload=!0},Za.prototype.updatePaintArrays=function(t,e,r,n){for(var o=0,i=r;o<i.length;o+=1){var a=i[o];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,n)||this.needsUpload}},Za.prototype.get=function(t){return this.programConfigurations[t]},Za.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Za.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},xn("ConstantBinder",Ba),xn("CrossFadedConstantBinder",za),xn("SourceExpressionBinder",Ga),xn("CrossFadedCompositeBinder",qa),xn("CompositeExpressionBinder",Va),xn("ProgramConfiguration",Ka,{omit:["_buffers"]}),xn("ProgramConfigurationSet",Za);var Xa=8192,ts={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function la(t){for(var e=Xa/t.extent,r=t.loadGeometry(),n=0;n<r.length;n++)for(var o=r[n],i=0;i<o.length;i++){var a=o[i];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<ts.min||a.x>ts.max||a.y<ts.min||a.y>ts.max)&&(w("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a.x=l(a.x,ts.min,ts.max),a.y=l(a.y,ts.min,ts.max))}return r}function pa(t,e,r,n,o){t.emplaceBack(2*e+(n+1)/2,2*r+(o+1)/2)}var es=function ca(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new gi,this.indexArray=new ki,this.segments=new ta,this.programConfigurations=new Za(Ji,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function ha(t,e){for(var r=0;r<t.length;r++)if(_a(e,t[r]))return!0;for(var n=0;n<e.length;n++)if(_a(t,e[n]))return!0;return!!ma(t,e)}function fa(t,e,r){return!!_a(t,e)||!!ga(e,t,r)}function ya(t,e){if(1===t.length)return ba(e,t[0]);for(var r=0;r<e.length;r++)for(var n=e[r],o=0;o<n.length;o++)if(_a(t,n[o]))return!0;for(var i=0;i<t.length;i++)if(ba(e,t[i]))return!0;for(var a=0;a<e.length;a++)if(ma(t,e[a]))return!0;return!1}function da(t,e,r){if(t.length>1){if(ma(t,e))return!0;for(var n=0;n<e.length;n++)if(ga(e[n],t,r))return!0}for(var o=0;o<t.length;o++)if(ga(t[o],e,r))return!0;return!1}function ma(t,e){if(0===t.length||0===e.length)return!1;for(var r=0;r<t.length-1;r++)for(var n=t[r],o=t[r+1],i=0;i<e.length-1;i++)if(va(n,o,e[i],e[i+1]))return!0;return!1}function va(t,e,r,n){return A(t,r,n)!==A(e,r,n)&&A(t,e,r)!==A(t,e,n)}function ga(t,e,r){var n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(var o=1;o<e.length;o++)if(xa(t,e[o-1],e[o])<n)return!0;return!1}function xa(t,e,r){var n=e.distSqr(r);if(0===n)return t.distSqr(e);var o=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return o<0?t.distSqr(e):o>1?t.distSqr(r):t.distSqr(r.sub(e)._mult(o)._add(e))}function ba(t,e){for(var r,n,o,i=!1,a=0;a<t.length;a++)for(var s=0,u=(r=t[a]).length-1;s<r.length;u=s++)n=r[s],o=r[u],n.y>e.y!=o.y>e.y&&e.x<(o.x-n.x)*(e.y-n.y)/(o.y-n.y)+n.x&&(i=!i);return i}function _a(t,e){for(var r=!1,n=0,o=t.length-1;n<t.length;o=n++){var i=t[n],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function wa(t,e,r){var n=r[0],o=r[2];if(t.x<n.x&&e.x<n.x||t.x>o.x&&e.x>o.x||t.y<n.y&&e.y<n.y||t.y>o.y&&e.y>o.y)return!1;var i=A(t,e,r[0]);return i!==A(t,e,r[1])||i!==A(t,e,r[2])||i!==A(t,e,r[3])}function Aa(t,e,r){var n=e.paint.get(t).value;return"constant"===n.kind?n.value:r.programConfigurations.get(e.id).binders[t].maxValue}function ka(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Sa(t,e,r,n,o){if(!e[0]&&!e[1])return t;var i=T.convert(e)._mult(o);"viewport"===r&&i._rotate(-n);for(var a=[],s=0;s<t.length;s++){var u=t[s];a.push(u.sub(i))}return a}es.prototype.populate=function(t,e){var r=this.layers[0],n=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var i=0,a=t;i<a.length;i+=1){var s=a[i],u=s.feature,l=s.index,c=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new qo(this.zoom),u)){var p=la(u),f=o?o.evaluate(u,{}):void 0,d={id:u.id,properties:u.properties,type:u.type,sourceLayerIndex:c,index:l,geometry:p,patterns:{},sortKey:f};n.push(d)}}o&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var h=0,m=n;h<m.length;h+=1){var y=m[h],g=y,v=g.geometry,_=g.index,b=g.sourceLayerIndex,S=t[_].feature;this.addFeature(y,v,_),e.featureIndex.insert(S,v,_,b,this.index)}},es.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},es.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ji),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},es.prototype.addFeature=function(t,e,r){for(var n=0,o=e;n<o.length;n+=1)for(var i=0,a=o[n];i<a.length;i+=1){var s=a[i],u=s.x,l=s.y;if(!(u<0||u>=Xa||l<0||l>=Xa)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=c.vertexLength;pa(this.layoutVertexArray,u,l,-1,-1),pa(this.layoutVertexArray,u,l,1,-1),pa(this.layoutVertexArray,u,l,1,1),pa(this.layoutVertexArray,u,l,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{})},xn("CircleBucket",es,{omit:["layers"]});var ns,os=new fi({"circle-sort-key":new ui(Vt.layout_circle["circle-sort-key"])}),is={paint:new fi({"circle-radius":new ui(Vt.paint_circle["circle-radius"]),"circle-color":new ui(Vt.paint_circle["circle-color"]),"circle-blur":new ui(Vt.paint_circle["circle-blur"]),"circle-opacity":new ui(Vt.paint_circle["circle-opacity"]),"circle-translate":new si(Vt.paint_circle["circle-translate"]),"circle-translate-anchor":new si(Vt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new si(Vt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new si(Vt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ui(Vt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ui(Vt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ui(Vt.paint_circle["circle-stroke-opacity"])}),layout:os},as="undefined"!=typeof Float32Array?Float32Array:Array;function Ma(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,r=arguments.length;r--;)e+=t[r]*t[r];return Math.sqrt(e)}),ns=new as(3),as!=Float32Array&&(ns[0]=0,ns[1]=0,ns[2]=0),function(){var t=new as(4);as!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var us=function(t){function e(e){t.call(this,e,is)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new es(t)},e.prototype.queryRadius=function(t){var e=t;return Aa("circle-radius",this,e)+Aa("circle-stroke-width",this,e)+ka(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i,a,s){for(var u=Sa(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,a),l=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r),c="map"===this.paint.get("circle-pitch-alignment"),p=c?u:function(t,e){return t.map((function(t){return Ta(t,e)}))}(u,s),f=c?l*a:l,d=0,h=n;d<h.length;d+=1)for(var m=0,y=h[d];m<y.length;m+=1){var g=y[m],v=c?g:Ta(g,s),_=f,b=Ma([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=i.cameraToCenterDistance/b[3]),fa(p,v,_))return!0}return!1},e}(di);function Ta(t,e){var r=Ma([],[t.x,t.y,0,1],e);return new T(r[0]/r[3],r[1]/r[3])}var ls=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(es);function Fa(t,e,r,n){var o=e.width,i=e.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==o*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*i*r);return t.width=o,t.height=i,t.data=n,t}function Oa(t,e,r){var n=e.width,o=e.height;if(n!==t.width||o!==t.height){var i=Fa({},{width:n,height:o},r);La(t,i,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,o)},r),t.width=n,t.height=o,t.data=i.data}}function La(t,e,r,n,o,i){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||r.x>t.width-o.width||r.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||n.x>e.width-o.width||n.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<o.height;u++)for(var l=((r.y+u)*t.width+r.x)*i,c=((n.y+u)*e.width+n.x)*i,p=0;p<o.width*i;p++)s[c+p]=a[l+p];return e}xn("HeatmapBucket",ls,{omit:["layers"]});var cs=function Da(t,e){Fa(this,t,1,e)};cs.prototype.resize=function(t){Oa(this,t,1)},cs.prototype.clone=function(){return new cs({width:this.width,height:this.height},new Uint8Array(this.data))},cs.copy=function(t,e,r,n,o){La(t,e,r,n,o,1)};var ps=function Ua(t,e){Fa(this,t,4,e)};ps.prototype.resize=function(t){Oa(this,t,4)},ps.prototype.replace=function(t,e){e?this.data.set(t):t instanceof Uint8ClampedArray?this.data=new Uint8Array(t.buffer):this.data=t},ps.prototype.clone=function(){return new ps({width:this.width,height:this.height},new Uint8Array(this.data))},ps.copy=function(t,e,r,n,o){La(t,e,r,n,o,4)},xn("AlphaImage",cs),xn("RGBAImage",ps);var ds={paint:new fi({"heatmap-radius":new ui(Vt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ui(Vt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new si(Vt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new pi(Vt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new si(Vt.paint_heatmap["heatmap-opacity"])})};function ja(t,e){for(var r=new Uint8Array(1024),n={},o=0,i=0;o<256;o++,i+=4){n[e]=o/255;var a=t.evaluate(n);r[i+0]=Math.floor(255*a.r/a.a),r[i+1]=Math.floor(255*a.g/a.a),r[i+2]=Math.floor(255*a.b/a.a),r[i+3]=Math.floor(255*a.a)}return new ps({width:256,height:1},r)}var hs=function(t){function e(e){t.call(this,e,ds),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new ls(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ja(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(di),ms={paint:new fi({"hillshade-illumination-direction":new si(Vt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new si(Vt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new si(Vt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new si(Vt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new si(Vt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new si(Vt.paint_hillshade["hillshade-accent-color"])})},ys=function(t){function e(e){t.call(this,e,ms)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(di),vs=ei([{name:"a_pos",components:2,type:"Int16"}],4).members,bs=Ja,xs=Ja;function Ja(t,e,r){r=r||2;var n,o,i,a,s,u,l,c=e&&e.length,p=c?e[0]*r:t.length,f=Ha(t,0,p,r,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(t,e,r,n){var o,i,a,s=[];for(o=0,i=e.length;o<i;o++)(a=Ha(t,e[o]*n,o<i-1?e[o+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),s.push(oo(a));for(s.sort(ro),o=0;o<s.length;o++)no(s[o],r),r=Ya(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=i=t[0],o=a=t[1];for(var h=r;h<p;h+=r)(s=t[h])<n&&(n=s),(u=t[h+1])<o&&(o=u),s>i&&(i=s),u>a&&(a=u);l=0!==(l=Math.max(i-n,a-o))?1/l:0}return $a(f,d,r,n,o,l),d}function Ha(t,e,r,n,o){var i,a;if(o===bo(t,e,r,n)>0)for(i=e;i<r;i+=n)a=vo(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=vo(i,t[i],t[i+1],a);return a&&po(a,a.next)&&(go(a),a=a.next),a}function Ya(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!po(n,n.next)&&0!==lo(n.prev,n,n.next))n=n.next;else{if(go(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function $a(t,e,r,n,o,i,a){if(t){!a&&i&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=ao(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,s,u,l=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(a>1)}(o)}(t,n,o,i);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,i?Qa(t,n,o,i):Wa(t))e.push(s.i/r),e.push(t.i/r),e.push(u.i/r),go(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?$a(t=to(Ya(t),e,r),e,r,n,o,i,2):2===a&&eo(t,e,r,n,o,i):$a(Ya(t),e,r,n,o,i,1);break}}}function Wa(t){var e=t.prev,r=t,n=t.next;if(lo(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(so(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&lo(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Qa(t,e,r,n){var o=t.prev,i=t,a=t.next;if(lo(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,l=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=ao(s,u,e,r,n),f=ao(l,c,e,r,n),d=t.prevZ,h=t.nextZ;d&&d.z>=p&&h&&h.z<=f;){if(d!==t.prev&&d!==t.next&&so(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&lo(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&so(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&lo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=p;){if(d!==t.prev&&d!==t.next&&so(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&lo(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=f;){if(h!==t.prev&&h!==t.next&&so(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&lo(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function to(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!po(o,i)&&co(o,n,n.next,i)&&yo(o,i)&&yo(i,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(i.i/r),go(n),go(n.next),n=t=i),n=n.next}while(n!==t);return Ya(n)}function eo(t,e,r,n,o,i){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&uo(a,s)){var u=mo(a,s);return a=Ya(a,a.next),u=Ya(u,u.next),$a(a,e,r,n,o,i),void $a(u,e,r,n,o,i)}s=s.next}a=a.next}while(a!==t)}function ro(t,e){return t.x-e.x}function no(t,e){if(e=function(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r;var u,l=r,c=r.x,p=r.y,f=1/0;n=r;do{o>=n.x&&n.x>=c&&o!==n.x&&so(i<p?o:a,i,c,p,i<p?a:o,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(o-n.x),yo(n,t)&&(u<f||u===f&&(n.x>r.x||n.x===r.x&&io(r,n)))&&(r=n,f=u)),n=n.next}while(n!==l);return r}(t,e)){var r=mo(e,t);Ya(r,r.next)}}function io(t,e){return lo(t.prev,t,e.prev)<0&&lo(e.next,t,t.next)<0}function ao(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function oo(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function so(t,e,r,n,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function uo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&co(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(yo(t,e)&&yo(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(lo(t.prev,t,e.prev)||lo(t,e.prev,e))||po(t,e)&&lo(t.prev,t,t.next)>0&&lo(e.prev,e,e.next)>0)}function lo(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function po(t,e){return t.x===e.x&&t.y===e.y}function co(t,e,r,n){var o=fo(lo(t,e,r)),i=fo(lo(t,e,n)),a=fo(lo(r,n,t)),s=fo(lo(r,n,e));return o!==i&&a!==s||!(0!==o||!ho(t,r,e))||!(0!==i||!ho(t,n,e))||!(0!==a||!ho(r,t,n))||!(0!==s||!ho(r,e,n))}function ho(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function fo(t){return t>0?1:t<0?-1:0}function yo(t,e){return lo(t.prev,t,t.next)<0?lo(t,e,t.next)>=0&&lo(t,t.prev,e)>=0:lo(t,e,t.prev)<0||lo(t,t.next,e)<0}function mo(t,e){var r=new xo(t.i,t.x,t.y),n=new xo(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function vo(t,e,r,n){var o=new xo(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function go(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function xo(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bo(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}function _o(t,e,r,n,o){!function t(e,r,n,o,i){for(;o>n;){if(o-n>600){var a=o-n+1,s=r-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,r,Math.max(n,Math.floor(r-s*l/a+c)),Math.min(o,Math.floor(r+(a-s)*l/a+c)),i)}var p=e[r],f=n,d=o;for(wo(e,n,r),i(e[o],p)>0&&wo(e,n,o);f<d;){for(wo(e,f,d),f++,d--;i(e[f],p)<0;)f++;for(;i(e[d],p)>0;)d--}0===i(e[n],p)?wo(e,n,d):wo(e,++d,o),d<=r&&(n=d+1),r<=d&&(o=d-1)}}(t,e,r||0,n||t.length-1,o||Ao)}function wo(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ao(t,e){return t<e?-1:t>e?1:0}function ko(t,e){var r=t.length;if(r<=1)return[t];for(var n,o,i=[],a=0;a<r;a++){var s=k(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(n&&i.push(n),n=[t[a]]):n.push(t[a]))}if(n&&i.push(n),e>1)for(var u=0;u<i.length;u++)i[u].length<=e||(_o(i[u],e,1,i[u].length-1,So),i[u]=i[u].slice(0,e));return i}function So(t,e){return e.area-t.area}function zo(t,e,r){for(var n=r.patternDependencies,o=!1,i=0,a=e;i<a.length;i+=1){var s=a[i].paint.get(t+"-pattern");s.isConstant()||(o=!0);var u=s.constantOr(null);u&&(o=!0,n[u.to]=!0,n[u.from]=!0)}return o}function Io(t,e,r,n,o){for(var i=o.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.paint.get(t+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:n-1},r,{},o.availableImages),p=l.evaluate({zoom:n},r,{},o.availableImages),f=l.evaluate({zoom:n+1},r,{},o.availableImages);c=c&&c.name?c.name:c,p=p&&p.name?p.name:p,f=f&&f.name?f.name:f,i[c]=!0,i[p]=!0,i[f]=!0,r.patterns[u.id]={min:c,mid:p,max:f}}}return r}Ja.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(bo(t,0,i,r));if(o)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(bo(t,l,c,r))}var p=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,h=n[s+2]*r;p+=Math.abs((t[f]-t[h])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[h+1]-t[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},Ja.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r},bs.default=xs;var Ps=function Co(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gi,this.indexArray=new ki,this.indexArray2=new Fi,this.programConfigurations=new Za(vs,t.layers,t.zoom),this.segments=new ta,this.segments2=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Ps.prototype.populate=function(t,e){this.hasPattern=zo("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),n=[],o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.feature,u=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new qo(this.zoom),s)){var c=la(s),p=r?r.evaluate(s,{},e.availableImages):void 0,f={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:u,geometry:c,patterns:{},sortKey:p};n.push(f)}}r&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=n;d<h.length;d+=1){var m=h[d],y=m,g=y.geometry,v=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var b=Io("fill",this.layers,m,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(m,g,v,{});var S=t[v].feature;e.featureIndex.insert(S,g,v,_,this.index)}},Ps.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},Ps.prototype.addFeatures=function(t,e){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var o=n[r];this.addFeature(o,o.geometry,o.index,e)}},Ps.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,vs),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ps.prototype.addFeature=function(t,e,r,n){for(var o=0,i=ko(e,500);o<i.length;o+=1){for(var a=i[o],s=0,u=0,l=a;u<l.length;u+=1)s+=l[u].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,f=[],d=[],h=0,m=a;h<m.length;h+=1){var y=m[h];if(0!==y.length){y!==a[0]&&d.push(f.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),v=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(v+y.length-1,v),f.push(y[0].x),f.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(v+_-1,v+_),f.push(y[_].x),f.push(y[_].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var b=bs(f,d),S=0;S<b.length;S+=3)this.indexArray.emplaceBack(p+b[S],p+b[S+1],p+b[S+2]);c.vertexLength+=s,c.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,n)},xn("FillBucket",Ps,{omit:["layers","patternFeatures"]});var Cs=new fi({"fill-sort-key":new ui(Vt.layout_fill["fill-sort-key"])}),Ts={paint:new fi({"fill-antialias":new si(Vt.paint_fill["fill-antialias"]),"fill-opacity":new ui(Vt.paint_fill["fill-opacity"]),"fill-color":new ui(Vt.paint_fill["fill-color"]),"fill-outline-color":new ui(Vt.paint_fill["fill-outline-color"]),"fill-translate":new si(Vt.paint_fill["fill-translate"]),"fill-translate-anchor":new si(Vt.paint_fill["fill-translate-anchor"]),"fill-pattern":new li(Vt.paint_fill["fill-pattern"])}),layout:Cs},Rs=function(t){function e(e){t.call(this,e,Ts)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e,r){t.prototype.recalculate.call(this,e,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new Ps(t)},e.prototype.queryRadius=function(){return ka(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i,a){return ya(Sa(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,a),n)},e.prototype.isTileClipped=function(){return!0},e}(di),Is=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Ns=Vo;function Vo(t,e,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(Fo,this,e)}function Fo(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function Oo(t){for(var e,r,n=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n+=((r=t[a]).x-e.x)*(e.y+r.y);return n}Vo.types=["Unknown","Point","LineString","Polygon"],Vo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,o=0,i=0,a=0,s=[];t.pos<r;){if(o<=0){var u=t.readVarint();n=7&u,o=u>>3}if(o--,1===n||2===n)i+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new T(i,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},Vo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,o=0,i=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(o+=t.readSVarint())<a&&(a=o),o>s&&(s=o),(i+=t.readSVarint())<u&&(u=i),i>l&&(l=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,u,s,l]},Vo.prototype.toGeoJSON=function(t,e,r){var n,o,i=this.extent*Math.pow(2,r),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=Vo.types[this.type];function p(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+s)/i;t[e]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(n=0;n<u.length;n++)c[n]=u[n][0];p(u=c);break;case 2:for(n=0;n<u.length;n++)p(u[n]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var r,n,o=[],i=0;i<e;i++){var a=Oo(t[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[t[i]]):r.push(t[i]))}return r&&o.push(r),o}(u),n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)p(u[n][o])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var js=Do;function Do(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Uo,this,e),this.length=this._features.length}function Uo(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(r))}function Ro(t,e,r){if(3===t){var n=new js(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}Do.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Ns(this._pbf,e,this.extent,this._keys,this._values)};var Gs={VectorTile:function VectorTile(t,e){this.layers=t.readFields(Ro,{},e)},VectorTileFeature:Ns,VectorTileLayer:js},Vs=Gs.VectorTileFeature.types,Ws=Math.pow(2,13);function Ko(t,e,r,n,o,i,a,s){t.emplaceBack(e,r,2*Math.floor(n*Ws)+a,o*Ws*2,i*Ws*2,Math.round(s))}var Hs=function Zo(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new _i,this.indexArray=new ki,this.programConfigurations=new Za(Is,t.layers,t.zoom),this.segments=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Xo(t,e){return t.x===e.x&&(t.x<0||t.x>Xa)||t.y===e.y&&(t.y<0||t.y>Xa)}function Go(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>Xa}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>Xa}))}Hs.prototype.populate=function(t,e){this.features=[],this.hasPattern=zo("fill-extrusion",this.layers,e);for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new qo(this.zoom),i)){var u=la(i),l={sourceLayerIndex:s,index:a,geometry:u,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(l.id=i.id),this.hasPattern?this.features.push(Io("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,u,a,{}),e.featureIndex.insert(i,u,a,s,this.index,!0)}}},Hs.prototype.addFeatures=function(t,e){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,e)}},Hs.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},Hs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Hs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Is),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Hs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Hs.prototype.addFeature=function(t,e,r,n){for(var o=0,i=ko(e,500);o<i.length;o+=1){for(var a=i[o],s=0,u=0,l=a;u<l.length;u+=1)s+=l[u].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,f=a;p<f.length;p+=1){var d=f[p];if(0!==d.length&&!Go(d))for(var h=0,m=0;m<d.length;m++){var y=d[m];if(m>=1){var g=d[m-1];if(!Xo(y,g)){c.vertexLength+4>ta.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=y.sub(g)._perp()._unit(),_=g.dist(y);h+_>32768&&(h=0),Ko(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,h),Ko(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,h),h+=_,Ko(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,0,h),Ko(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,1,h);var b=c.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>ta.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Vs[t.type]){for(var S=[],x=[],w=c.vertexLength,E=0,P=a;E<P.length;E+=1){var C=P[E];if(0!==C.length){C!==a[0]&&x.push(S.length/2);for(var T=0;T<C.length;T++){var D=C[T];Ko(this.layoutVertexArray,D.x,D.y,0,0,1,1,0),S.push(D.x),S.push(D.y)}}}for(var M=bs(S,x),A=0;A<M.length;A+=3)this.indexArray.emplaceBack(w+M[A],w+M[A+2],w+M[A+1]);c.primitiveLength+=M.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,n)},xn("FillExtrusionBucket",Hs,{omit:["layers","features"]});var Ks={paint:new fi({"fill-extrusion-opacity":new si(Vt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ui(Vt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new si(Vt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new si(Vt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new li(Vt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ui(Vt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ui(Vt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new si(Vt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Zs=function(t){function e(e){t.call(this,e,Ks)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Hs(t)},e.prototype.queryRadius=function(){return ka(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i,a,s){var u=Sa(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,a),l=this.paint.get("fill-extrusion-height").evaluate(e,r),c=this.paint.get("fill-extrusion-base").evaluate(e,r),p=function(t,e,r,n){for(var o=[],i=0,a=t;i<a.length;i+=1){var s=a[i],u=[s.x,s.y,0,1];Ma(u,u,e),o.push(new T(u[0]/u[3],u[1]/u[3]))}return o}(u,s),f=function(t,e,r,n){for(var o=[],i=[],a=n[8]*e,s=n[9]*e,u=n[10]*e,l=n[11]*e,c=n[8]*r,p=n[9]*r,f=n[10]*r,d=n[11]*r,h=0,m=t;h<m.length;h+=1){for(var y=[],g=[],v=0,_=m[h];v<_.length;v+=1){var b=_[v],S=b.x,x=b.y,w=n[0]*S+n[4]*x+n[12],E=n[1]*S+n[5]*x+n[13],P=n[2]*S+n[6]*x+n[14],C=n[3]*S+n[7]*x+n[15],D=P+u,M=C+l,A=w+c,R=E+p,L=P+f,I=C+d,O=new T((w+a)/M,(E+s)/M);O.z=D/M,y.push(O);var k=new T(A/I,R/I);k.z=L/I,g.push(k)}o.push(y),i.push(g)}return[o,i]}(n,c,l,s);return function(t,e,r){var n=1/0;ya(r,e)&&(n=$o(r,e[0]));for(var o=0;o<e.length;o++)for(var i=e[o],a=t[o],s=0;s<i.length-1;s++){var u=i[s],l=i[s+1],c=a[s],p=[u,l,a[s+1],c,u];ha(r,p)&&(n=Math.min(n,$o(r,p)))}return n!==1/0&&n}(f[0],f[1],p)},e}(di);function Yo(t,e){return t.x*e.x+t.y*e.y}function $o(t,e){if(1===t.length){var r=e[0],n=e[1],o=e[3],i=t[0],a=n.sub(r),s=o.sub(r),u=i.sub(r),l=Yo(a,a),c=Yo(a,s),p=Yo(s,s),f=Yo(u,a),d=Yo(u,s),h=l*p-c*c,m=(p*f-c*d)/h,y=(l*d-c*f)/h,g=1-m-y;return r.z*g+n.z*m+o.z*y}for(var v=1/0,_=0,b=e;_<b.length;_+=1){var S=b[_];v=Math.min(v,S.z)}return v}var Xs=ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,$s=Gs.VectorTileFeature.types,Js=Math.cos(Math.PI/180*37.5),tu=Math.pow(2,14)/.5,eu=function rs(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bi,this.indexArray=new ki,this.programConfigurations=new Za(Xs,t.layers,t.zoom),this.segments=new ta,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};eu.prototype.populate=function(t,e){this.hasPattern=zo("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),n=[],o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.feature,u=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new qo(this.zoom),s)){var c=la(s),p=r?r.evaluate(s,{}):void 0,f={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:l,index:u,geometry:c,patterns:{},sortKey:p};n.push(f)}}r&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var d=0,h=n;d<h.length;d+=1){var m=h[d],y=m,g=y.geometry,v=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var b=Io("line",this.layers,m,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(m,g,v,{});var S=t[v].feature;e.featureIndex.insert(S,g,v,_,this.index)}},eu.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},eu.prototype.addFeatures=function(t,e){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var o=n[r];this.addFeature(o,o.geometry,o.index,e)}},eu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},eu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},eu.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Xs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},eu.prototype.addFeature=function(t,e,r,n){for(var o=this.layers[0].layout,i=o.get("line-join").evaluate(t,{}),a=o.get("line-cap"),s=o.get("line-miter-limit"),u=o.get("line-round-limit"),l=0,c=e;l<c.length;l+=1){var p=c[l];this.addLine(p,t,i,a,s,u,r,n)}},eu.prototype.addLine=function(t,e,r,n,o,i,a,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var u=0;u<t.length-1;u++)this.totalDistance+=t[u].dist(t[u+1])}for(var l="Polygon"===$s[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var p=0;p<c-1&&t[p].equals(t[p+1]);)p++;if(!(c<(l?3:2))){"bevel"===r&&(o=1.05);var f,d=Xa/(512*this.overscaling)*15,h=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray),m=void 0,y=void 0,g=void 0,v=void 0;this.e1=this.e2=-1,l&&(f=t[c-2],v=t[p].sub(f)._unit()._perp());for(var _=p;_<c;_++)if(!(y=l&&_===c-1?t[p+1]:t[_+1])||!t[_].equals(y)){v&&(g=v),f&&(m=f),f=t[_],v=y?y.sub(f)._unit()._perp():g;var b=(g=g||v).add(v);0===b.x&&0===b.y||b._unit();var S=g.x*v.x+g.y*v.y,x=b.x*v.x+b.y*v.y,w=0!==x?1/x:1/0,E=2*Math.sqrt(2-2*x),P=x<Js&&m&&y,C=g.x*v.y-g.y*v.x>0;if(P&&_>p){var T=f.dist(m);if(T>2*d){var D=f.sub(f.sub(m)._mult(d/T)._round());this.updateDistance(m,D),this.addCurrentVertex(D,g,0,0,h),m=D}}var M=m&&y,A=M?r:l?"butt":n;if(M&&"round"===A&&(w<i?A="miter":w<=2&&(A="fakeround")),"miter"===A&&w>o&&(A="bevel"),"bevel"===A&&(w>2&&(A="flipbevel"),w<o&&(A="miter")),m&&this.updateDistance(m,f),"miter"===A)b._mult(w),this.addCurrentVertex(f,b,0,0,h);else if("flipbevel"===A){if(w>100)b=v.mult(-1);else{var R=w*g.add(v).mag()/g.sub(v).mag();b._perp()._mult(R*(C?-1:1))}this.addCurrentVertex(f,b,0,0,h),this.addCurrentVertex(f,b.mult(-1),0,0,h)}else if("bevel"===A||"fakeround"===A){var L=-Math.sqrt(w*w-1),I=C?L:0,O=C?0:L;if(m&&this.addCurrentVertex(f,g,I,O,h),"fakeround"===A)for(var k=Math.round(180*E/Math.PI/20),F=1;F<k;F++){var N=F/k;if(.5!==N){var B=N-.5;N+=N*B*(N-1)*((1.0904+S*(S*(3.55645-1.43519*S)-3.2452))*B*B+(.848013+S*(.215638*S-1.06021)))}var U=v.sub(g)._mult(N)._add(g)._unit()._mult(C?-1:1);this.addHalfVertex(f,U.x,U.y,!1,C,0,h)}y&&this.addCurrentVertex(f,v,-I,-O,h)}else if("butt"===A)this.addCurrentVertex(f,b,0,0,h);else if("square"===A){var z=m?1:-1;this.addCurrentVertex(f,b,z,z,h)}else"round"===A&&(m&&(this.addCurrentVertex(f,g,0,0,h),this.addCurrentVertex(f,g,1,1,h,!0)),y&&(this.addCurrentVertex(f,v,-1,-1,h,!0),this.addCurrentVertex(f,v,0,0,h)));if(P&&_<c-1){var j=f.dist(y);if(j>2*d){var G=f.add(y.sub(f)._mult(d/j)._round());this.updateDistance(f,G),this.addCurrentVertex(G,v,0,0,h),f=G}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},eu.prototype.addCurrentVertex=function(t,e,r,n,o,i){void 0===i&&(i=!1);var a=e.x+e.y*r,s=e.y-e.x*r,u=-e.x+e.y*n,l=-e.y-e.x*n;this.addHalfVertex(t,a,s,i,!1,r,o),this.addHalfVertex(t,u,l,i,!0,-n,o),this.distance>tu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,r,n,o,i))},eu.prototype.addHalfVertex=function(t,e,r,n,o,i,a){var s=t.x,u=t.y,l=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((s<<1)+(n?1:0),(u<<1)+(o?1:0),Math.round(63*e)+128,Math.round(63*r)+128,1+(0===i?0:i<0?-1:1)|(63&l)<<2,l>>6);var c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),o?this.e2=c:this.e1=c},eu.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(tu-1):this.distance},xn("LineBucket",eu,{omit:["layers","patternFeatures"]});var ru=new fi({"line-cap":new si(Vt.layout_line["line-cap"]),"line-join":new ui(Vt.layout_line["line-join"]),"line-miter-limit":new si(Vt.layout_line["line-miter-limit"]),"line-round-limit":new si(Vt.layout_line["line-round-limit"]),"line-sort-key":new ui(Vt.layout_line["line-sort-key"])}),nu={paint:new fi({"line-opacity":new ui(Vt.paint_line["line-opacity"]),"line-color":new ui(Vt.paint_line["line-color"]),"line-translate":new si(Vt.paint_line["line-translate"]),"line-translate-anchor":new si(Vt.paint_line["line-translate-anchor"]),"line-width":new ui(Vt.paint_line["line-width"]),"line-gap-width":new ui(Vt.paint_line["line-gap-width"]),"line-offset":new ui(Vt.paint_line["line-offset"]),"line-blur":new ui(Vt.paint_line["line-blur"]),"line-dasharray":new ci(Vt.paint_line["line-dasharray"]),"line-pattern":new li(Vt.paint_line["line-pattern"]),"line-gradient":new pi(Vt.paint_line["line-gradient"])}),layout:ru},ou=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,r){return r=new qo(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),t.prototype.possiblyEvaluate.call(this,e,r)},e.prototype.evaluate=function(e,r,n,o){return r=c({},r,{zoom:Math.floor(r.zoom)}),t.prototype.evaluate.call(this,e,r,n,o)},e}(ui))(nu.paint.properties["line-width"].specification);ou.useIntegerZoom=!0;var iu=function(t){function e(e){t.call(this,e,nu)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=ja(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e,r){t.prototype.recalculate.call(this,e,r),this.paint._values["line-floorwidth"]=ou.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new eu(t)},e.prototype.queryRadius=function(t){var e=t,r=ss(Aa("line-width",this,e),Aa("line-gap-width",this,e)),n=Aa("line-offset",this,e);return r/2+Math.abs(n)+ka(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i,a){var s=Sa(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,a),u=a/2*ss(this.paint.get("line-width").evaluate(e,r),this.paint.get("line-gap-width").evaluate(e,r)),l=this.paint.get("line-offset").evaluate(e,r);return l&&(n=function(t,e){for(var r=[],n=new T(0,0),o=0;o<t.length;o++){for(var i=t[o],a=[],s=0;s<i.length;s++){var u=i[s-1],l=i[s],c=i[s+1],p=0===s?n:l.sub(u)._unit()._perp(),f=s===i.length-1?n:c.sub(l)._unit()._perp(),d=p._add(f)._unit(),h=d.x*f.x+d.y*f.y;d._mult(1/h),a.push(d._mult(e)._add(l))}r.push(a)}return r}(n,l*a)),function(t,e,r){for(var n=0;n<e.length;n++){var o=e[n];if(t.length>=3)for(var i=0;i<o.length;i++)if(_a(t,o[i]))return!0;if(da(t,o,r))return!0}return!1}(s,n,u)},e.prototype.isTileClipped=function(){return!0},e}(di);function ss(t,e){return e>0?e+2*t:t}var au=ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),su=ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Pu=(ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Cu=(ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Tu=ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function fs(t,e,r){return t.sections.forEach((function(t){t.text=function(t,e,r){var n=e.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),Wo.applyArabicShaping&&(t=Wo.applyArabicShaping(t)),t}(t.text,e,r)})),t}ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),ei([{type:"Float32",name:"offsetX"}]),ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ru={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},ku=24,Bu={horizontal:1,vertical:2,horizontalOnly:3},Gu=function vs(){this.text="",this.sectionIndex=[],this.sections=[]};function gs(t,e,r,n,o,i,a,s,u,l,c,p){var f,d=Gu.fromFeature(t,r);l===Bu.vertical&&d.verticalizePunctuation();var h=Wo.processBidirectionalText,m=Wo.processStyledBidirectionalText;if(h&&1===d.sections.length){f=[];for(var y=0,g=h(d.toString(),ks(d,s,n,e,p));y<g.length;y+=1){var v=g[y],_=new Gu;_.text=v,_.sections=d.sections;for(var b=0;b<v.length;b++)_.sectionIndex.push(0);f.push(_)}}else if(m){f=[];for(var S=0,x=m(d.text,d.sectionIndex,ks(d,s,n,e,p));S<x.length;S+=1){var w=x[S],E=new Gu;E.text=w[0],E.sectionIndex=w[1],E.sections=d.sections,f.push(E)}}else f=function(t,e){for(var r=[],n=t.text,o=0,i=0,a=e;i<a.length;i+=1){var s=a[i];r.push(t.substring(o,s)),o=s}return o<n.length&&r.push(t.substring(o,n.length)),r}(d,ks(d,s,n,e,p));var P=[],C={positionedGlyphs:P,text:d.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:l,lineCount:f.length,yOffset:-17};return function(t,e,r,n,o,i,a,s,u){for(var l=0,c=t.yOffset,p=0,f=t.positionedGlyphs,d="right"===i?1:"left"===i?0:.5,h=0,m=r;h<m.length;h+=1){var y=m[h];y.trim();var g=y.getMaxScale();if(y.length()){for(var v=f.length,_=0;_<y.length();_++){var b=y.getSection(_),S=y.getSectionIndex(_),x=y.getCharCode(_),w=24*(g-b.scale),E=e[b.fontStack],P=E&&E[x];P&&(a===Bu.horizontal||!u&&!In(x)||u&&(Vu[x]||(T=x,To.Arabic(T)||To["Arabic Supplement"](T)||To["Arabic Extended-A"](T)||To["Arabic Presentation Forms-A"](T)||To["Arabic Presentation Forms-B"](T)))?(f.push({glyph:x,x:l,y:c+w,vertical:!1,scale:b.scale,fontStack:b.fontStack,sectionIndex:S}),l+=P.metrics.advance*b.scale+s):(f.push({glyph:x,x:l,y:c+w,vertical:!0,scale:b.scale,fontStack:b.fontStack,sectionIndex:S}),l+=ku*b.scale+s))}if(f.length!==v){var C=l-s;p=Math.max(C,p),zs(f,e,v,f.length-1,d)}l=0,c+=n*g}else c+=n}var T,D=Ss(o),M=D.horizontalAlign,A=D.verticalAlign;!function(t,e,r,n,o,i,a){for(var s=(e-r)*o,u=(-n*a+.5)*i,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(f,d,M,A,p,n,r.length);var R=c-t.yOffset;t.top+=-A*R,t.bottom=t.top+R,t.left+=-M*p,t.right=t.left+p}(C,e,f,o,i,a,l,s,c),!!P.length&&C}Gu.fromFeature=function(t,e){for(var r=new Gu,n=0;n<t.sections.length;n++){var o=t.sections[n];r.sections.push({scale:o.scale||1,fontStack:o.fontStack||e}),r.text+=o.text;for(var i=0;i<o.text.length;i++)r.sectionIndex.push(n)}return r},Gu.prototype.length=function(){return this.text.length},Gu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Gu.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Gu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Gu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r+1)||null,o=t.charCodeAt(r-1)||null;n&&Cn(n)&&!Ru[t[r+1]]||o&&Cn(o)&&!Ru[t[r-1]]||!Ru[t[r]]?e+=t[r]:e+=Ru[t[r]]}return e}(this.text)},Gu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Vu[this.text.charCodeAt(e)];e++)t++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=t&&Vu[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)},Gu.prototype.substring=function(t,e){var r=new Gu;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r},Gu.prototype.toString=function(){return this.text},Gu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,r){return Math.max(e,t.sections[r].scale)}),0)};var Vu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hu={};function _s(t,e,r,n){var o=Math.pow(t-e,2);return n?t<e?o/2:2*o:o+Math.abs(r)*r}function ws(t,e,r){var n=0;return 10===t&&(n-=1e4),r&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function As(t,e,r,n,o,i){for(var a=null,s=_s(e,r,o,i),u=0,l=n;u<l.length;u+=1){var c=l[u],p=_s(e-c.x,r,o,i)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function ks(t,e,r,n,o){if("point"!==o)return[];if(!t)return[];for(var i,a=[],s=function(t,e,r,n){for(var o=0,i=0;i<t.length();i++){var a=t.getSection(i),s=n[a.fontStack],u=s&&s[t.getCharCode(i)];u&&(o+=u.metrics.advance*a.scale+e)}return o/Math.max(1,Math.ceil(o/r))}(t,e,r,n),u=t.text.indexOf("\u200b")>=0,l=0,c=0;c<t.length();c++){var p=t.getSection(c),f=t.getCharCode(c),d=n[p.fontStack],h=d&&d[f];if(h&&!Vu[f]&&(l+=h.metrics.advance*p.scale+e),c<t.length()-1){var m=!((i=f)<11904||!(To["Bopomofo Extended"](i)||To.Bopomofo(i)||To["CJK Compatibility Forms"](i)||To["CJK Compatibility Ideographs"](i)||To["CJK Compatibility"](i)||To["CJK Radicals Supplement"](i)||To["CJK Strokes"](i)||To["CJK Symbols and Punctuation"](i)||To["CJK Unified Ideographs Extension A"](i)||To["CJK Unified Ideographs"](i)||To["Enclosed CJK Letters and Months"](i)||To["Halfwidth and Fullwidth Forms"](i)||To.Hiragana(i)||To["Ideographic Description Characters"](i)||To["Kangxi Radicals"](i)||To["Katakana Phonetic Extensions"](i)||To.Katakana(i)||To["Vertical Forms"](i)||To["Yi Radicals"](i)||To["Yi Syllables"](i)));(Hu[f]||m)&&a.push(As(c+1,l,s,a,ws(f,t.getCharCode(c+1),m&&u),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(As(t.length(),l,s,a,0,!0))}function Ss(t){var e=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:e,verticalAlign:r}}function zs(t,e,r,n,o){if(o){var i=t[n],a=e[i.fontStack],s=a&&a[i.glyph];if(s)for(var u=s.metrics.advance*i.scale,l=(t[n].x+u)*o,c=r;c<=n;c++)t[c].x-=l}}Hu[10]=!0,Hu[32]=!0,Hu[38]=!0,Hu[40]=!0,Hu[41]=!0,Hu[43]=!0,Hu[45]=!0,Hu[47]=!0,Hu[173]=!0,Hu[183]=!0,Hu[8203]=!0,Hu[8208]=!0,Hu[8211]=!0,Hu[8231]=!0;var Yu=function(t){function e(e,r,n,o){t.call(this,e,r),this.angle=n,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(T);xn("Anchor",Yu);var Xu=256;function Bs(t,e){var r=e.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new qo(t+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,o=r.interpolationType,i=0;i<n.length&&n[i]<=t;)i++;for(var a=i=Math.max(0,i-1);a<n.length&&n[a]<t+1;)a++;a=Math.min(n.length-1,a);var s=n[i],u=n[a];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:o}:{kind:"camera",minZoom:s,maxZoom:u,minSize:r.evaluate(new qo(s)),maxSize:r.evaluate(new qo(u)),interpolationType:o}}function Es(t,e,r){var n=e.uSize,o=e.uSizeT,i=r.lowerSize,a=r.upperSize;return"source"===t.kind?i/Xu:"composite"===t.kind?Ae(i/Xu,a/Xu,o):n}function Ms(t,e){var r=0,n=0;if("constant"===t.kind)n=t.layoutSize;else if("source"!==t.kind){var o=t.interpolationType,i=t.minZoom,a=t.maxZoom,s=o?l(cn.interpolationFactor(o,e,i,a),0,1):0;"camera"===t.kind?n=Ae(t.minSize,t.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var Ju=Object.freeze({getSizeData:Bs,evaluateSizeForFeature:Es,evaluateSizeForZoom:Ms,SIZE_PACK_FACTOR:Xu}),fl=Gs.VectorTileFeature.types,dl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fs(t,e,r,n,o,i,a,s){t.emplaceBack(e,r,Math.round(32*n),Math.round(32*o),i,a,s?s[0]:0,s?s[1]:0)}function Os(t,e,r){t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r)}var ml=function Ls(t){this.layoutVertexArray=new xi,this.indexArray=new ki,this.programConfigurations=t,this.segments=new ta,this.dynamicLayoutVertexArray=new wi,this.opacityVertexArray=new Ei,this.placedSymbolArray=new Vi};ml.prototype.upload=function(t,e,r,n){r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,au.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,su.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,dl,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t)},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},xn("SymbolBuffers",ml);var yl=function Ds(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new ta,this.collisionVertexArray=new Ti};yl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Pu.members,!0)},yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},xn("CollisionBuffers",yl);var gl=function Us(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Bs(this.zoom,e["text-size"]),this.iconSizeData=Bs(this.zoom,e["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==o&&void 0!==n.constantOr(1);var i="viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey;this.sortFeaturesByY=i&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(t){return Bu[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};gl.prototype.createArrays=function(){var t=this.layers[0].layout;this.hasPaintOverrides=wl.hasPaintOverrides(t),this.text=new ml(new Za(au.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new ml(new Za(au.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.textCollisionBox=new yl(Ci,Cu.members,Fi),this.iconCollisionBox=new yl(Ci,Cu.members,Fi),this.textCollisionCircle=new yl(Ci,Tu.members,ki),this.iconCollisionCircle=new yl(Ci,Tu.members,ki),this.glyphOffsetArray=new Ki,this.lineVertexArray=new Xi,this.symbolInstances=new qi},gl.prototype.calculateGlyphDependencies=function(t,e,r,n,o){for(var i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,(r||n)&&o){var a=Ru[t.charAt(i)];a&&(e[a.charCodeAt(0)]=!0)}},gl.prototype.populate=function(t,e){var r=this.layers[0],n=r.layout,o=n.get("text-font"),i=n.get("text-field"),a=n.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==a.value.kind||!!a.value.value||Object.keys(a.parameters).length>0,l=n.get("symbol-sort-key");if(this.features=[],s||u){for(var c=e.iconDependencies,p=e.glyphDependencies,f=e.availableImages,d=new qo(this.zoom),h=0,m=t;h<m.length;h+=1){var y=m[h],g=y.feature,v=y.index,_=y.sourceLayerIndex;if(r._featureFilter(d,g)){var b=void 0;if(s){var S=r.getValueAndResolveTokens("text-field",g,f);b=fs(S instanceof xe?S:xe.fromString(S),r,g)}var x=void 0;if(u){var w=r.getValueAndResolveTokens("icon-image",g,f);x=w instanceof we?w:w&&"string"!=typeof w?we.fromString(w):we.fromString({name:w,available:!1})}if(b||x){var E=this.sortFeaturesByKey?l.evaluate(g,{}):void 0,P={text:b,icon:x,index:v,sourceLayerIndex:_,geometry:la(g),properties:g.properties,type:fl[g.type],sortKey:E};if(void 0!==g.id&&(P.id=g.id),this.features.push(P),x&&(c[x.name]=!0),b){var C=o.evaluate(g,{}).join(","),T="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Bu.vertical)>=0;for(var D=0,M=b.sections;D<M.length;D+=1){var A=M[D],R=Sn(b.toString()),L=A.fontStack||C,I=p[L]=p[L]||{};this.calculateGlyphDependencies(A.text,I,T,this.allowVerticalPlacement,R)}}}}}"line"===n.get("symbol-placement")&&(this.features=function(t){var e={},r={},n=[],i=0;function a(e){n.push(t[e]),i++}function o(t,e,o){var i=r[t];return delete r[t],r[e]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(o[0]),i}function s(t,r,o){var i=e[r];return delete e[r],e[t]=i,n[i].geometry[0].shift(),n[i].geometry[0]=o[0].concat(n[i].geometry[0]),i}function u(t,e,r){var n=r?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var l=0;l<t.length;l++){var c=t[l],p=c.geometry,f=c.text?c.text.toString():null;if(f){var d=u(f,p),h=u(f,p,!0);if(d in r&&h in e&&r[d]!==e[h]){var m=s(d,h,p),y=o(d,h,n[m].geometry);delete e[d],delete r[h],r[u(f,n[y].geometry,!0)]=y,n[m].geometry=null}else d in r?o(d,h,p):h in e?s(d,h,p):(a(l),e[d]=i-1,r[h]=i-1)}else a(l)}return n.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},gl.prototype.update=function(t,e,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r))},gl.prototype.isEmpty=function(){return 0===this.symbolInstances.length},gl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},gl.prototype.upload=function(t){this.uploaded||(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},gl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},gl.prototype.addToLineVertexArray=function(t,e){var r=this.lineVertexArray.length;if(void 0!==t.segment){for(var n=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),i={},a=t.segment+1;a<e.length;a++)i[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:n},a<e.length-1&&(n+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)i[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:o},s>0&&(o+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=i[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},gl.prototype.addSymbols=function(t,e,r,n,o,i,a,s,u,l,c){var p=this,f=t.indexArray,d=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,m=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray,i.sortKey),y=this.glyphOffsetArray.length,g=m.vertexLength,v=this.allowVerticalPlacement&&a===Bu.vertical?Math.PI/2:0,_=function x(t){var e=t.tl,n=t.tr,o=t.bl,i=t.br,a=t.tex,u=m.vertexLength,l=t.glyphOffset[1];Fs(d,s.x,s.y,e.x,l+e.y,a.x,a.y,r),Fs(d,s.x,s.y,n.x,l+n.y,a.x+a.w,a.y,r),Fs(d,s.x,s.y,o.x,l+o.y,a.x,a.y+a.h,r),Fs(d,s.x,s.y,i.x,l+i.y,a.x+a.w,a.y+a.h,r),Os(h,s,v),f.emplaceBack(u,u+1,u+2),f.emplaceBack(u+1,u+2,u+3),m.vertexLength+=4,m.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(t.glyphOffset[0])};if(i.text&&i.text.sections){var b=i.text.sections;if(this.hasPaintOverrides){for(var S,E=function w(e,r){void 0===S||S===e&&!r||t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,i,i.index,{},b[S]),S=e},P=0,C=e;P<C.length;P+=1){var T=C[P];E(T.sectionIndex,!1),_(T)}E(S,!0)}else{for(var D=0,M=e;D<M.length;D+=1)_(M[D]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,i,i.index,{},b[0])}}else{for(var A=0,R=e;A<R.length;A+=1)_(R[A]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,i,i.index,{})}t.placedSymbolArray.emplaceBack(s.x,s.y,y,this.glyphOffsetArray.length-y,g,u,l,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,c)},gl.prototype._addCollisionDebugVertex=function(t,e,r,n,o,i){return e.emplaceBack(0,0),t.emplaceBack(r.x,r.y,n,o,Math.round(i.x),Math.round(i.y))},gl.prototype.addCollisionDebugVertices=function(t,e,r,n,o,i,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,p=o.collisionVertexArray,f=a.anchorX,d=a.anchorY;if(this._addCollisionDebugVertex(c,p,i,f,d,new T(t,e)),this._addCollisionDebugVertex(c,p,i,f,d,new T(r,e)),this._addCollisionDebugVertex(c,p,i,f,d,new T(r,n)),this._addCollisionDebugVertex(c,p,i,f,d,new T(t,n)),u.vertexLength+=4,s){var h=o.indexArray;h.emplaceBack(l,l+1,l+2),h.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var m=o.indexArray;m.emplaceBack(l,l+1),m.emplaceBack(l+1,l+2),m.emplaceBack(l+2,l+3),m.emplaceBack(l+3,l),u.primitiveLength+=4}},gl.prototype.addDebugCollisionBoxes=function(t,e,r,n){for(var o=t;o<e;o++){var i=this.collisionBoxArray.get(o),a=i.x1,s=i.y1,u=i.x2,l=i.y2,c=i.radius>0;this.addCollisionDebugVertices(a,s,u,l,c?n?this.textCollisionCircle:this.iconCollisionCircle:n?this.textCollisionBox:this.iconCollisionBox,i.anchorPoint,r,c)}},gl.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1)}},gl.prototype._deserializeCollisionBoxesForSymbol=function(t,e,r,n,o,i,a){for(var s={},u=e;u<r;u++){var l=t.get(u);if(0===l.radius){s.textBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},s.textFeatureIndex=l.featureIndex;break}s.textCircles||(s.textCircles=[],s.textFeatureIndex=l.featureIndex),s.textCircles.push(l.anchorPointX,l.anchorPointY,l.radius,l.signedDistanceFromAnchor,1)}for(var c=n;c<o;c++){var p=t.get(c);if(0===p.radius){s.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},s.verticalTextFeatureIndex=p.featureIndex;break}}for(var f=i;f<a;f++){var d=t.get(f);if(0===d.radius){s.iconBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},s.iconFeatureIndex=d.featureIndex;break}}return s},gl.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex))}},gl.prototype.hasTextData=function(){return this.text.segments.get().length>0},gl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},gl.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},gl.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},gl.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},gl.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},gl.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),r=e.vertexStartIndex+4*e.numGlyphs,n=e.vertexStartIndex;n<r;n+=4)this.text.indexArray.emplaceBack(n,n+1,n+2),this.text.indexArray.emplaceBack(n+1,n+2,n+3)},gl.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),r=Math.cos(t),n=[],o=[],i=[],a=0;a<this.symbolInstances.length;++a){i.push(a);var s=this.symbolInstances.get(a);n.push(0|Math.round(e*s.anchorX+r*s.anchorY)),o.push(s.featureIndex)}return i.sort((function(t,e){return n[t]-n[e]||o[e]-o[t]})),i},gl.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var o=n[r],i=this.symbolInstances.get(o);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,r,n){t>=0&&n.indexOf(t)===r&&e.addIndicesForPlacedTextSymbol(t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(i.verticalPlacedTextSymbolIndex);var a=this.icon.placedSymbolArray.get(o);if(a.numGlyphs){var s=a.vertexStartIndex;this.icon.indexArray.emplaceBack(s,s+1,s+2),this.icon.indexArray.emplaceBack(s+1,s+2,s+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},xn("SymbolBucket",gl,{omit:["layers","collisionBoxArray","features","compareText"]}),gl.MAX_GLYPHS=65535,gl.addDynamicAttributes=Os;var vl=new fi({"symbol-placement":new si(Vt.layout_symbol["symbol-placement"]),"symbol-spacing":new si(Vt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new si(Vt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ui(Vt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new si(Vt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new si(Vt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new si(Vt.layout_symbol["icon-ignore-placement"]),"icon-optional":new si(Vt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new si(Vt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ui(Vt.layout_symbol["icon-size"]),"icon-text-fit":new si(Vt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new si(Vt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ui(Vt.layout_symbol["icon-image"]),"icon-rotate":new ui(Vt.layout_symbol["icon-rotate"]),"icon-padding":new si(Vt.layout_symbol["icon-padding"]),"icon-keep-upright":new si(Vt.layout_symbol["icon-keep-upright"]),"icon-offset":new ui(Vt.layout_symbol["icon-offset"]),"icon-anchor":new ui(Vt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new si(Vt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new si(Vt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new si(Vt.layout_symbol["text-rotation-alignment"]),"text-field":new ui(Vt.layout_symbol["text-field"]),"text-font":new ui(Vt.layout_symbol["text-font"]),"text-size":new ui(Vt.layout_symbol["text-size"]),"text-max-width":new ui(Vt.layout_symbol["text-max-width"]),"text-line-height":new si(Vt.layout_symbol["text-line-height"]),"text-letter-spacing":new ui(Vt.layout_symbol["text-letter-spacing"]),"text-justify":new ui(Vt.layout_symbol["text-justify"]),"text-radial-offset":new ui(Vt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new si(Vt.layout_symbol["text-variable-anchor"]),"text-anchor":new ui(Vt.layout_symbol["text-anchor"]),"text-max-angle":new si(Vt.layout_symbol["text-max-angle"]),"text-writing-mode":new si(Vt.layout_symbol["text-writing-mode"]),"text-rotate":new ui(Vt.layout_symbol["text-rotate"]),"text-padding":new si(Vt.layout_symbol["text-padding"]),"text-keep-upright":new si(Vt.layout_symbol["text-keep-upright"]),"text-transform":new ui(Vt.layout_symbol["text-transform"]),"text-offset":new ui(Vt.layout_symbol["text-offset"]),"text-allow-overlap":new si(Vt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new si(Vt.layout_symbol["text-ignore-placement"]),"text-optional":new si(Vt.layout_symbol["text-optional"])}),Sl={paint:new fi({"icon-opacity":new ui(Vt.paint_symbol["icon-opacity"]),"icon-color":new ui(Vt.paint_symbol["icon-color"]),"icon-halo-color":new ui(Vt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ui(Vt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ui(Vt.paint_symbol["icon-halo-blur"]),"icon-translate":new si(Vt.paint_symbol["icon-translate"]),"icon-translate-anchor":new si(Vt.paint_symbol["icon-translate-anchor"]),"text-opacity":new ui(Vt.paint_symbol["text-opacity"]),"text-color":new ui(Vt.paint_symbol["text-color"],{runtimeType:te,getOverride:function getOverride(t){return t.textColor},hasOverride:function hasOverride(t){return!!t.textColor}}),"text-halo-color":new ui(Vt.paint_symbol["text-halo-color"]),"text-halo-width":new ui(Vt.paint_symbol["text-halo-width"]),"text-halo-blur":new ui(Vt.paint_symbol["text-halo-blur"]),"text-translate":new si(Vt.paint_symbol["text-translate"]),"text-translate-anchor":new si(Vt.paint_symbol["text-translate-anchor"])}),layout:vl},xl=function qs(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Kt,this.defaultValue=t};xl.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},xl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},xl.prototype.possibleOutputs=function(){return[void 0]},xl.prototype.serialize=function(){return null},xn("FormatSectionOverride",xl,{omit:["defaultValue"]});var wl=function(t){function e(e){t.call(this,e,Sl)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e,r){if(t.prototype.recalculate.call(this,e,r),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var o=[],i=0,a=n;i<a.length;i+=1){var s=a[i];o.indexOf(s)<0&&o.push(s)}this.layout._values["text-writing-mode"]=o}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,r){var n=this.layout.get(t).evaluate(e,{},r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Ir(o.value)||!n?n:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,r){return r in t?String(t[r]):""}))}(e.properties,n)},e.prototype.createBucket=function(t){return new gl(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,r=Sl.paint.overridableProperties;t<r.length;t+=1){var n=r[t];if(e.hasPaintOverride(this.layout,n)){var o,i=this.paint.get(n),a=new xl(i),s=new Nn(a,i.property.specification);o="constant"===i.value.kind||"source"===i.value.kind?new Un("source",s):new jn("composite",s,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new ii(i.property,o,i.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var r=t.get("text-field"),n=Sl.paint.properties[e],i=!1,s=function a(t){for(var e=0,r=t;e<r.length;e+=1){var a=r[e];if(n.overrides&&n.overrides.hasOverride(a))return void(i=!0)}};if("constant"===r.value.kind&&r.value.value instanceof xe)s(r.value.value.sections);else if("source"===r.value.kind){var u=r.value;u._styleExpression&&function o(t){if(!i)if(t instanceof Ee&&re(t.value)===se){var e=t.value;s(e.sections)}else t instanceof Me?s(t.sections):t.eachChild(o)}(u._styleExpression.expression)}return i},e.hasPaintOverrides=function(t){for(var r=0,n=Sl.paint.overridableProperties;r<n.length;r+=1){var o=n[r];if(e.hasPaintOverride(t,o))return!0}return!1},e}(di),El={paint:new fi({"background-color":new si(Vt.paint_background["background-color"]),"background-pattern":new ci(Vt.paint_background["background-pattern"]),"background-opacity":new si(Vt.paint_background["background-opacity"])})},Pl=function(t){function e(e){t.call(this,e,El)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(di),Cl={paint:new fi({"raster-opacity":new si(Vt.paint_raster["raster-opacity"]),"raster-hue-rotate":new si(Vt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new si(Vt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new si(Vt.paint_raster["raster-brightness-max"]),"raster-saturation":new si(Vt.paint_raster["raster-saturation"]),"raster-contrast":new si(Vt.paint_raster["raster-contrast"]),"raster-resampling":new si(Vt.paint_raster["raster-resampling"]),"raster-fade-duration":new si(Vt.paint_raster["raster-fade-duration"])})},Tl=function(t){function e(e){t.call(this,e,Cl)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(di),Dl=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(di),Ml={circle:us,heatmap:hs,hillshade:ys,fill:Rs,"fill-extrusion":Zs,line:iu,symbol:wl,background:Pl,raster:Tl};function Ys(t){for(var e=0,r=0,n=0,o=t;n<o.length;n+=1){var i=o[n];e+=i.w*i.h,r=Math.max(r,i.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}],s=0,u=0,l=0,c=t;l<c.length;l+=1)for(var p=c[l],f=a.length-1;f>=0;f--){var d=a[f];if(!(p.w>d.w||p.h>d.h)){if(p.x=d.x,p.y=d.y,u=Math.max(u,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===d.w&&p.h===d.h){var h=a.pop();f<a.length&&(a[f]=h)}else p.h===d.h?(d.x+=p.w,d.w-=p.w):p.w===d.w?(d.y+=p.h,d.h-=p.h):(a.push({x:d.x+p.w,y:d.y,w:d.w-p.w,h:p.h}),d.y+=p.h,d.h-=p.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}var Rl=function $s(t,e){var r=e.pixelRatio,n=e.version;this.paddedRect=t,this.pixelRatio=r,this.version=n},Ll={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ll.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ll.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ll.tlbr.get=function(){return this.tl.concat(this.br)},Ll.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Rl.prototype,Ll);var Il=function Qs(t,e){var r={},n={};this.haveRenderCallbacks=[];var o=[];this.addImages(t,r,o),this.addImages(e,n,o);var i=Ys(o),a=i.w,s=i.h,u=new ps({width:a||1,height:s||1});for(var l in t){var c=t[l],p=r[l].paddedRect;ps.copy(c.data,u,{x:0,y:0},{x:p.x+1,y:p.y+1},c.data)}for(var f in e){var d=e[f],h=n[f].paddedRect,m=h.x+1,y=h.y+1,g=d.data.width,v=d.data.height;ps.copy(d.data,u,{x:0,y:0},{x:m,y:y},d.data),ps.copy(d.data,u,{x:0,y:v-1},{x:m,y:y-1},{width:g,height:1}),ps.copy(d.data,u,{x:0,y:0},{x:m,y:y+v},{width:g,height:1}),ps.copy(d.data,u,{x:g-1,y:0},{x:m-1,y:y},{width:1,height:v}),ps.copy(d.data,u,{x:0,y:0},{x:m+g,y:y},{width:1,height:v})}this.image=u,this.iconPositions=r,this.patternPositions=n};Il.prototype.addImages=function(t,e,r){for(var n in t){var o=t[n],i={x:0,y:0,w:o.data.width+2,h:o.data.height+2};r.push(i),e[n]=new Rl(i,o),o.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},Il.prototype.patchUpdatedImages=function(t,e){for(var r in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),e),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),e)},Il.prototype.patchUpdatedImage=function(t,e,r){if(t&&e&&t.version!==e.version){t.version=e.version;var n=t.tl,o=n[0],i=n[1];r.update(e.data,void 0,{x:o,y:i})}},xn("ImagePosition",Rl),xn("ImageAtlas",Il);var Ol=self.HTMLImageElement,Fl=self.HTMLCanvasElement,Nl=self.HTMLVideoElement,Bl=self.ImageData,Ul=function iu(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n)};Ul.prototype.update=function(t,e,r){var n=t.width,o=t.height,i=!(this.size&&this.size[0]===n&&this.size[1]===o||r),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),i)this.size=[n,o],t instanceof Ol||t instanceof Fl||t instanceof Nl||t instanceof Bl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,n,o,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=r||{x:0,y:0},l=u.x,c=u.y;t instanceof Ol||t instanceof Fl||t instanceof Nl||t instanceof Bl?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,c,n,o,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ul.prototype.bind=function(t,e,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},Ul.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ul.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var zl=function au(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,p=r?o-1:0,f=r?-1:1,d=t[e+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=l}return(d?-1:1)*a*Math.pow(2,i-n)},jl=function ou(t,e,r,n,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*u-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[r+d]=255&a,d+=h,a/=256,l-=8);t[r+d-h]|=128*m},Gl=uu;function uu(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function lu(t){return t.type===uu.Bytes?t.readVarint()+t.pos:t.pos+1}function pu(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function cu(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=t;o--)r.buf[o+n]=r.buf[o]}function hu(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function fu(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function yu(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function du(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function mu(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function vu(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function gu(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function xu(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function bu(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function _u(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function wu(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function Au(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}uu.Varint=0,uu.Fixed64=1,uu.Bytes=2,uu.Fixed32=5,uu.prototype={destroy:function destroy(){this.buf=null},readFields:function readFields(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,t(o,e,this),this.pos===i&&this.skip(n)}return e},readMessage:function readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function readFixed32(){var t=_u(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function readSFixed32(){var t=Au(this.buf,this.pos);return this.pos+=4,t},readFixed64:function readFixed64(){var t=_u(this.buf,this.pos)+4294967296*_u(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function readSFixed64(){var t=_u(this.buf,this.pos)+4294967296*Au(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function readFloat(){var t=zl(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function readDouble(){var t=zl(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function readVarint(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,o,i=r.buf;if(n=(112&(o=i[r.pos++]))>>4,o<128)return pu(t,n,e);if(n|=(127&(o=i[r.pos++]))<<3,o<128)return pu(t,n,e);if(n|=(127&(o=i[r.pos++]))<<10,o<128)return pu(t,n,e);if(n|=(127&(o=i[r.pos++]))<<17,o<128)return pu(t,n,e);if(n|=(127&(o=i[r.pos++]))<<24,o<128)return pu(t,n,e);if(n|=(1&(o=i[r.pos++]))<<31,o<128)return pu(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function readVarint64(){return this.readVarint(!0)},readSVarint:function readSVarint(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function readBoolean(){return Boolean(this.readVarint())},readString:function readString(){var t=this.readVarint()+this.pos,e=function(t,e,r){for(var n="",o=e;o<r;){var i,a,s,u=t[o],l=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c>r)break;1===c?u<128&&(l=u):2===c?128==(192&(i=t[o+1]))&&(l=(31&u)<<6|63&i)<=127&&(l=null):3===c?(i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&((l=(15&u)<<12|(63&i)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,n+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),n+=String.fromCharCode(l),o+=c}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function readBytes(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function readPackedVarint(t,e){if(this.type!==uu.Bytes)return t.push(this.readVarint(e));var r=lu(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function readPackedSVarint(t){if(this.type!==uu.Bytes)return t.push(this.readSVarint());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function readPackedBoolean(t){if(this.type!==uu.Bytes)return t.push(this.readBoolean());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function readPackedFloat(t){if(this.type!==uu.Bytes)return t.push(this.readFloat());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function readPackedDouble(t){if(this.type!==uu.Bytes)return t.push(this.readDouble());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function readPackedFixed32(t){if(this.type!==uu.Bytes)return t.push(this.readFixed32());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function readPackedSFixed32(t){if(this.type!==uu.Bytes)return t.push(this.readSFixed32());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function readPackedFixed64(t){if(this.type!==uu.Bytes)return t.push(this.readFixed64());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function readPackedSFixed64(t){if(this.type!==uu.Bytes)return t.push(this.readSFixed64());var e=lu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function skip(t){var e=7&t;if(e===uu.Varint)for(;this.buf[this.pos++]>127;);else if(e===uu.Bytes)this.pos=this.readVarint()+this.pos;else if(e===uu.Fixed32)this.pos+=4;else{if(e!==uu.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function writeTag(t,e){this.writeVarint(t<<3|e)},realloc:function realloc(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function writeFixed32(t){this.realloc(4),wu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function writeSFixed32(t){this.realloc(4),wu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function writeFixed64(t){this.realloc(8),wu(this.buf,-1&t,this.pos),wu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function writeSFixed64(t){this.realloc(8),wu(this.buf,-1&t,this.pos),wu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function writeVarint(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function writeSVarint(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function writeBoolean(t){this.writeVarint(Boolean(t))},writeString:function writeString(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,o,i=0;i<e.length;i++){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):o=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[r++]=239,t[r++]=191,t[r++]=189,o=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&cu(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function writeFloat(t){this.realloc(4),jl(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function writeDouble(t){this.realloc(8),jl(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function writeBytes(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function writeRawMessage(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&cu(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function writeMessage(t,e,r){this.writeTag(t,uu.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function writePackedVarint(t,e){e.length&&this.writeMessage(t,hu,e)},writePackedSVarint:function writePackedSVarint(t,e){e.length&&this.writeMessage(t,fu,e)},writePackedBoolean:function writePackedBoolean(t,e){e.length&&this.writeMessage(t,mu,e)},writePackedFloat:function writePackedFloat(t,e){e.length&&this.writeMessage(t,yu,e)},writePackedDouble:function writePackedDouble(t,e){e.length&&this.writeMessage(t,du,e)},writePackedFixed32:function writePackedFixed32(t,e){e.length&&this.writeMessage(t,vu,e)},writePackedSFixed32:function writePackedSFixed32(t,e){e.length&&this.writeMessage(t,gu,e)},writePackedFixed64:function writePackedFixed64(t,e){e.length&&this.writeMessage(t,xu,e)},writePackedSFixed64:function writePackedSFixed64(t,e){e.length&&this.writeMessage(t,bu,e)},writeBytesField:function writeBytesField(t,e){this.writeTag(t,uu.Bytes),this.writeBytes(e)},writeFixed32Field:function writeFixed32Field(t,e){this.writeTag(t,uu.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function writeSFixed32Field(t,e){this.writeTag(t,uu.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function writeFixed64Field(t,e){this.writeTag(t,uu.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function writeSFixed64Field(t,e){this.writeTag(t,uu.Fixed64),this.writeSFixed64(e)},writeVarintField:function writeVarintField(t,e){this.writeTag(t,uu.Varint),this.writeVarint(e)},writeSVarintField:function writeSVarintField(t,e){this.writeTag(t,uu.Varint),this.writeSVarint(e)},writeStringField:function writeStringField(t,e){this.writeTag(t,uu.Bytes),this.writeString(e)},writeFloatField:function writeFloatField(t,e){this.writeTag(t,uu.Fixed32),this.writeFloat(e)},writeDoubleField:function writeDoubleField(t,e){this.writeTag(t,uu.Fixed64),this.writeDouble(e)},writeBooleanField:function writeBooleanField(t,e){this.writeVarintField(t,Boolean(e))}};var Vl=3;function Su(t,e,r){1===t&&r.readMessage(zu,e)}function zu(t,e,r){if(3===t){var n=r.readMessage(Iu,{}),o=n.id,i=n.bitmap,a=n.width,s=n.height,u=n.left,l=n.top,c=n.advance;e.push({id:o,bitmap:new cs({width:a+2*Vl,height:s+2*Vl},i),metrics:{width:a,height:s,left:u,top:l,advance:c}})}}function Iu(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint())}var Wl=Vl,ql=function Bu(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};ql.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))};var Hl=function Eu(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new ql(this.process),this.target.addEventListener("message",this.receive,!1)};function Mu(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}Hl.prototype.send=function(t,e,r,n){var o=this,i=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[i]=r);var a=[];return this.target.postMessage({id:i,type:t,hasCallback:!!r,targetMapId:n,sourceMapId:this.mapId,data:_n(e,a)},a),{cancel:function cancel(){r&&delete o.callbacks[i],o.target.postMessage({id:i,type:"<cancel>",targetMapId:n,sourceMapId:o.mapId})}}},Hl.prototype.receive=function(t){var e=t.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else this.tasks[r]=e,this.taskQueue.push(r),this.invoker.trigger()},Hl.prototype.process=function(){var t=this;if(this.taskQueue.length){var e=this.taskQueue.shift(),r=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),r)if("<response>"===r.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(r.error?n(wn(r.error)):n(null,wn(r.data)))}else{var o=!1,i=r.hasCallback?function(r,n){o=!0,delete t.cancelCallbacks[e];var i=[];t.target.postMessage({id:e,type:"<response>",sourceMapId:t.mapId,error:r?_n(r):null,data:_n(n,i)},i)}:function(t){o=!0},a=null,s=wn(r.data);if(this.parent[r.type])a=this.parent[r.type](r.sourceMapId,s,i);else if(this.parent.getWorkerSource){var u=r.type.split(".");a=this.parent.getWorkerSource(r.sourceMapId,u[0],s.source)[u[1]](s,i)}else i(new Error("Could not find function "+r.type));!o&&a&&a.cancel&&(this.cancelCallbacks[e]=a.cancel)}}},Hl.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Kl=function Pu(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Kl.prototype.setNorthEast=function(t){return this._ne=t instanceof Yl?new Yl(t.lng,t.lat):Yl.convert(t),this},Kl.prototype.setSouthWest=function(t){return this._sw=t instanceof Yl?new Yl(t.lng,t.lat):Yl.convert(t),this},Kl.prototype.extend=function(t){var e,r,n=this._sw,o=this._ne;if(t instanceof Yl)e=t,r=t;else{if(!(t instanceof Kl))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Kl.convert(t)):this.extend(Yl.convert(t)):this;if(e=t._sw,r=t._ne,!e||!r)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this._sw=new Yl(e.lng,e.lat),this._ne=new Yl(r.lng,r.lat)),this},Kl.prototype.getCenter=function(){return new Yl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Kl.prototype.getSouthWest=function(){return this._sw},Kl.prototype.getNorthEast=function(){return this._ne},Kl.prototype.getNorthWest=function(){return new Yl(this.getWest(),this.getNorth())},Kl.prototype.getSouthEast=function(){return new Yl(this.getEast(),this.getSouth())},Kl.prototype.getWest=function(){return this._sw.lng},Kl.prototype.getSouth=function(){return this._sw.lat},Kl.prototype.getEast=function(){return this._ne.lng},Kl.prototype.getNorth=function(){return this._ne.lat},Kl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Kl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Kl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Kl.convert=function(t){return!t||t instanceof Kl?t:new Kl(t)};var Yl=function Tu(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Yl.prototype.wrap=function(){return new Yl(p(this.lng,-180,180),this.lat)},Yl.prototype.toArray=function(){return[this.lng,this.lat]},Yl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Yl.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new Kl(new Yl(this.lng-r,this.lat-e),new Yl(this.lng+r,this.lat+e))},Yl.convert=function(t){if(t instanceof Yl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Yl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Yl(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Zl=2*Math.PI*6378137;function Fu(t){return Zl*Math.cos(t*Math.PI/180)}function Ou(t){return(180+t)/360}function Lu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Du(t,e){return t/Fu(e)}function Uu(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}var Xl=function Ru(t,e,r){void 0===r&&(r=0),this.x=+t,this.y=+e,this.z=+r};Xl.fromLngLat=function(t,e){void 0===e&&(e=0);var r=Yl.convert(t);return new Xl(Ou(r.lng),Lu(r.lat),Du(e,r.lat))},Xl.prototype.toLngLat=function(){return new Yl(360*this.x-180,Uu(this.y))},Xl.prototype.toAltitude=function(){return this.z*Fu(Uu(this.y))},Xl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Zl*(t=Uu(this.y),1/Math.cos(t*Math.PI/180));var t};var Ql=function ju(t,e,r){this.z=t,this.x=e,this.y=r,this.key=Ku(0,t,e,r)};Ql.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Ql.prototype.url=function(t,e){var r,n,o,i,a,s=(r=this.x,n=this.y,o=this.z,i=Mu(256*r,256*(n=Math.pow(2,o)-n-1),o),a=Mu(256*(r+1),256*(n+1),o),i[0]+","+i[1]+","+a[0]+","+a[1]),u=function(t,e,r){for(var n,o="",i=t;i>0;i--)o+=(e&(n=1<<i-1)?1:0)+(r&n?2:0);return o}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Ql.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new T((t.x*e-this.x)*Xa,(t.y*e-this.y)*Xa)};var $l=function qu(t,e){this.wrap=t,this.canonical=e,this.key=Ku(t,e.z,e.x,e.y)},Jl=function Nu(t,e,r,n,o){this.overscaledZ=t,this.wrap=e,this.canonical=new Ql(r,+n,+o),this.key=Ku(e,t,n,o)};function Ku(t,e,r,n){(t*=2)<0&&(t=-1*t-1);var o=1<<e;return 32*(o*o*t+o*n+r)+e}Jl.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Jl.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Jl(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Jl(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Jl.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Jl.prototype.children=function(t){if(this.overscaledZ>=t)return[new Jl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Jl(e,this.wrap,e,r,n),new Jl(e,this.wrap,e,r+1,n),new Jl(e,this.wrap,e,r,n+1),new Jl(e,this.wrap,e,r+1,n+1)]},Jl.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Jl.prototype.wrapped=function(){return new Jl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Jl.prototype.unwrapTo=function(t){return new Jl(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Jl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Jl.prototype.toUnwrapped=function(){return new $l(this.wrap,this.canonical)},Jl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Jl.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Xl(t.x-this.wrap,t.y))},xn("CanonicalTileID",Ql),xn("OverscaledTileID",Jl,{omit:["posMatrix"]});var tc=function Zu(t,e,r){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return w('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var n=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=r||"mapbox";for(var o=0;o<n;o++)this.data[this._idx(-1,o)]=this.data[this._idx(0,o)],this.data[this._idx(n,o)]=this.data[this._idx(n-1,o)],this.data[this._idx(o,-1)]=this.data[this._idx(o,0)],this.data[this._idx(o,n)]=this.data[this._idx(o,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};tc.prototype.get=function(t,e){var r=new Uint8Array(this.data.buffer),n=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},tc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},tc.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},tc.prototype._unpackMapbox=function(t,e,r){return(256*t*256+256*e+r)/10-1e4},tc.prototype._unpackTerrarium=function(t,e,r){return 256*t+e+r/256-32768},tc.prototype.getPixels=function(){return new ps({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},tc.prototype.backfillBorder=function(t,e,r){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var n=e*this.dim,o=e*this.dim+this.dim,i=r*this.dim,a=r*this.dim+this.dim;switch(e){case-1:n=o-1;break;case 1:o=n+1}switch(r){case-1:i=a-1;break;case 1:a=i+1}for(var s=-e*this.dim,u=-r*this.dim,l=i;l<a;l++)for(var c=n;c<o;c++)this.data[this._idx(c,l)]=t.data[this._idx(c+s,l+u)]},xn("DEMData",tc);var ec=ei([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),rc=function Gu(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r}};rc.prototype.encode=function(t){return this._stringToNumber[t]},rc.prototype.decode=function(t){return this._numberToString[t]};var nc=function Ju(t,e,r,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},oc={geometry:{configurable:!0}};oc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},oc.geometry.set=function(t){this._geometry=t},nc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(nc.prototype,oc);var ic=function Yu(){this.state={},this.stateChanges={},this.deletedStates={}};ic.prototype.updateState=function(t,e,r){var n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},c(this.stateChanges[t][n],r),null===this.deletedStates[t])for(var o in this.deletedStates[t]={},this.state[t])o!==n&&(this.deletedStates[t][o]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][n])for(var i in this.deletedStates[t][n]={},this.state[t][n])r[i]||(this.deletedStates[t][n][i]=null);else for(var a in r)this.deletedStates[t]&&this.deletedStates[t][n]&&null===this.deletedStates[t][n][a]&&delete this.deletedStates[t][n][a]},ic.prototype.removeFeatureState=function(t,e,r){if(null!==this.deletedStates[t]){var n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},r&&void 0!==e&&e>=0)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][r]=null);else if(void 0!==e&&e>=0)if(this.stateChanges[t]&&this.stateChanges[t][n])for(r in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][r]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null}},ic.prototype.getState=function(t,e){var r=String(e),n=this.state[t]||{},o=this.stateChanges[t]||{},i=c({},n[r],o[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var a=this.deletedStates[t][e];if(null===a)return{};for(var s in a)delete i[s]}return i},ic.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},ic.prototype.coalesceChanges=function(t,e){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var o={};for(var i in this.stateChanges[n])this.state[n][i]||(this.state[n][i]={}),c(this.state[n][i],this.stateChanges[n][i]),o[i]=this.state[n][i];r[n]=o}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var p=0,f=Object.keys(this.deletedStates[a][l]);p<f.length;p+=1){var d=f[p];delete this.state[a][l][d]}s[l]=this.state[a][l]}r[a]=r[a]||{},c(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var h in t)t[h].setFeatureState(r,e)};var ac=function $u(t,e,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new Xn(Xa,16,0),this.grid3D=new Xn(Xa,16,0),this.featureIndexArray=r||new $i};function Wu(t){for(var e=1/0,r=1/0,n=-1/0,o=-1/0,i=0,a=t;i<a.length;i+=1){var s=a[i];e=Math.min(e,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),o=Math.max(o,s.y)}return{minX:e,minY:r,maxX:n,maxY:o}}function Qu(t,e){return e-t}ac.prototype.insert=function(t,e,r,n,o,i){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,o);for(var s=i?this.grid3D:this.grid,u=0;u<e.length;u++){for(var l=e[u],c=[1/0,1/0,-1/0,-1/0],p=0;p<l.length;p++){var f=l[p];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<Xa&&c[1]<Xa&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ac.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Gs.VectorTile(new Gl(this.rawTileData)).layers,this.sourceLayerCoder=new rc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ac.prototype.query=function(t,e,r){var n=this;this.loadVTLayers();for(var o=t.params||{},i=Xa/t.tileSize/t.scale,a=jr(o.filter),s=t.queryGeometry,u=t.queryPadding*i,l=Wu(s),c=this.grid.query(l.minX-u,l.minY-u,l.maxX+u,l.maxY+u),p=Wu(t.cameraQueryGeometry),f=0,d=this.grid3D.query(p.minX-u,p.minY-u,p.maxX+u,p.maxY+u,(function(e,r,n,o){return function(t,e,r,n,o){for(var i=0,a=t;i<a.length;i+=1){var s=a[i];if(e<=s.x&&r<=s.y&&n>=s.x&&o>=s.y)return!0}var u=[new T(e,r),new T(e,o),new T(n,o),new T(n,r)];if(t.length>2)for(var l=0,c=u;l<c.length;l+=1)if(_a(t,c[l]))return!0;for(var p=0;p<t.length-1;p++)if(wa(t[p],t[p+1],u))return!0;return!1}(t.cameraQueryGeometry,e-u,r-u,n+u,o+u)}));f<d.length;f+=1){var h=d[f];c.push(h)}c.sort(Qu);for(var m,y={},g=function x(u){var l=c[u];if(l!==m){m=l;var p=n.featureIndexArray.get(l),f=null;n.loadMatchingFeature(y,p.bucketIndex,p.sourceLayerIndex,p.featureIndex,a,o.layers,e,(function(e,o){f||(f=la(e));var a={};return e.id&&(a=r.getState(o.sourceLayer||"_geojsonTileLayer",e.id)),o.queryIntersectsFeature(s,e,a,f,n.z,t.transform,i,t.pixelPosMatrix)}))}},v=0;v<c.length;v++)g(v);return y},ac.prototype.loadMatchingFeature=function(t,e,r,n,o,i,a,s){var u=this.bucketLayerIDs[e];if(!i||function(t,e){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return!0;return!1}(i,u)){var l=this.sourceLayerCoder.decode(r),c=this.vtLayers[l].feature(n);if(o(new qo(this.tileID.overscaledZ),c))for(var p=0;p<u.length;p++){var f=u[p];if(!(i&&i.indexOf(f)<0)){var d=a[f];if(d){var h=!s||s(c,d);if(h){var m=new nc(c,this.z,this.x,this.y);m.layer=d.serialize();var y=t[f];void 0===y&&(y=t[f]=[]),y.push({featureIndex:n,feature:m,intersectionZ:h})}}}}}},ac.prototype.lookupSymbolFeatures=function(t,e,r,n,o,i){var a={};this.loadVTLayers();for(var s=jr(n),u=0,l=t;u<l.length;u+=1){var c=l[u];this.loadMatchingFeature(a,e,r,c,s,o,i)}return a},ac.prototype.hasLayer=function(t){for(var e=0,r=this.bucketLayerIDs;e<r.length;e+=1)for(var n=0,o=r[e];n<o.length;n+=1)if(t===o[n])return!0;return!1},xn("FeatureIndex",ac,{omit:["rawTileData","sourceLayerCoder"]});var sc=function tl(t,e){this.tileID=t,this.uid=f(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};function el(t,e,r,n,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<r/2;){var c=t[a-1],p=t[a],f=t[a+1];if(!f)return!1;var d=c.angleTo(p)-p.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>n;)l-=u.shift().angleDelta;if(l>o)return!1;a++,s+=p.dist(f)}return!0}function rl(t){for(var e=0,r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function nl(t,e,r){return t?.6*e*r:0}function il(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function al(t,e,r,n,o,i){for(var a=nl(r,o,i),s=il(r,n)*i,u=0,l=rl(t)/2,c=0;c<t.length-1;c++){var p=t[c],f=t[c+1],d=p.dist(f);if(u+d>l){var h=(l-u)/d,m=Ae(p.x,f.x,h),y=Ae(p.y,f.y,h),g=new Yu(m,y,f.angleTo(p),c);return g._round(),!a||el(t,g,s,a,e)?g:void 0}u+=d}}function ol(t,e,r,n,o,i,a,s,u){var l=nl(n,i,a),c=il(n,o),p=c*a,f=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-p<e/4&&(e=p+e/4),function t(e,r,n,o,i,a,s,u,l){for(var c=a/2,p=rl(e),f=0,d=r-n,h=[],m=0;m<e.length-1;m++){for(var y=e[m],g=e[m+1],v=y.dist(g),_=g.angleTo(y);d+n<f+v;){var b=((d+=n)-f)/v,S=Ae(y.x,g.x,b),x=Ae(y.y,g.y,b);if(S>=0&&S<l&&x>=0&&x<l&&d-c>=0&&d+c<=p){var w=new Yu(S,x,_,m);w._round(),o&&!el(e,w,a,o,i)||h.push(w)}}f+=v}return u||h.length||s||(h=t(e,f/2,n,o,i,a,s,!0,l)),h}(t,f?e/2*s%e:(c/2+2*i)*a*s%e,e,l,r,p,f,!1,u)}sc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<W.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},sc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},sc.prototype.loadVectorData=function(t,e,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var n in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var r={};if(!e)return r;for(var o=function n(){var t=a[i],n=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==n.length){t.layers=n,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return n.filter((function(e){return e.id===t}))[0]})));for(var o=0,s=n;o<s.length;o+=1){var u=s[o];r[u.id]=t}}},i=0,a=t;i<a.length;i+=1)o();return r}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var o=this.buckets[n];if(o instanceof gl){if(this.hasSymbolBuckets=!0,!r)break;o.justReloaded=!0}}for(var i in this.queryPadding=0,this.buckets){var a=this.buckets[i];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(i).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ji},sc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},sc.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},sc.prototype.getBucket=function(t){return this.buckets[t.id]},sc.prototype.upload=function(t){for(var e in this.buckets){var r=this.buckets[e];r.uploadPending()&&r.upload(t)}var n=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ul(t,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ul(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},sc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},sc.prototype.queryRenderedFeatures=function(t,e,r,n,o,i,a,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:a,params:i,queryPadding:this.queryPadding*s},t,e):{}},sc.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[n];if(o)for(var i=jr(e&&e.filter),a=this.tileID.canonical,s=a.z,u=a.x,l=a.y,c={z:s,x:u,y:l},p=0;p<o.length;p++){var f=o.feature(p);if(i(new qo(this.tileID.overscaledZ),f)){var d=new nc(f,s,u,l);d.tile=c,t.push(d)}}}},sc.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},sc.prototype.setMask=function(t,e){if(!o(this.mask,t)&&(this.mask=t,this.clearMask(),!o(t,{0:!0}))){var r=new vi,n=new ki;this.segments=new ta,this.segments.prepareSegment(0,r,n);for(var i=Object.keys(t),a=0;a<i.length;a++){var s=t[+i[a]],u=Xa>>s.z,l=new T(s.x*u,s.y*u),c=new T(l.x+u,l.y+u),p=this.segments.prepareSegment(4,r,n);r.emplaceBack(l.x,l.y,l.x,l.y),r.emplaceBack(c.x,l.y,c.x,l.y),r.emplaceBack(l.x,c.y,l.x,c.y),r.emplaceBack(c.x,c.y,c.x,c.y);var f=p.vertexLength;n.emplaceBack(f,f+1,f+2),n.emplaceBack(f+1,f+2,f+3),p.vertexLength+=4,p.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(r,ec.members),this.maskedIndexBuffer=e.createIndexBuffer(n)}},sc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},sc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},sc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var r=S(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var i=this.expirationTime-e;i?this.expirationTime=n+Math.max(i,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},sc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},sc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var o=this.buckets[n],i=o.layers[0].sourceLayer||"_geojsonTileLayer",a=r[i],s=t[i];a&&s&&0!==Object.keys(s).length&&(o.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(n).queryRadius(o))))}}},sc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},sc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()},sc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},sc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=W.now()+t};var uc=function sl(t,e,r,n,o,i,a,s,u,l,c,p){var f=a.top*s-u,d=a.bottom*s+u,h=a.left*s-u,m=a.right*s+u;if(this.boxStartIndex=t.length,l){var y=d-f,g=m-h;y>0&&(y=Math.max(10*s,y),this._addLineCollisionCircles(t,e,r,r.segment,g,y,n,o,i,c))}else{if(p){var v=new T(h,f),_=new T(m,f),b=new T(h,d),S=new T(m,d),x=p*Math.PI/180;v._rotate(x),_._rotate(x),b._rotate(x),S._rotate(x),h=Math.min(v.x,_.x,b.x,S.x),m=Math.max(v.x,_.x,b.x,S.x),f=Math.min(v.y,_.y,b.y,S.y),d=Math.max(v.y,_.y,b.y,S.y)}t.emplaceBack(r.x,r.y,h,f,m,d,n,o,i,0,0)}this.boxEndIndex=t.length};uc.prototype._addLineCollisionCircles=function(t,e,r,n,o,i,a,s,u,l){var c=i/2,p=Math.floor(o/c)||1,f=1+.4*Math.log(l)/Math.LN2,d=Math.floor(p*f/2),h=-i/2,m=r,y=n+1,g=h,v=-o/2,_=v-o/4;do{if(--y<0){if(g>v)return;y=0;break}g-=e[y].dist(m),m=e[y]}while(g>_);for(var b=e[y].dist(e[y+1]),S=-d;S<p+d;S++){var x=S*c,w=v+x;if(x<0&&(w+=x),x>o&&(w+=x-o),!(w<g)){for(;g+b<w;){if(g+=b,++y+1>=e.length)return;b=e[y].dist(e[y+1])}var E=w-g,P=e[y],C=e[y+1].sub(P)._unit()._mult(E)._add(P)._round(),T=Math.abs(w-h)<c?0:.8*(w-h);t.emplaceBack(C.x,C.y,-i/2,-i/2,i/2,i/2,a,s,u,i/2,T)}}};var lc=function ul(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=ll),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function ll(t,e){return t<e?-1:t>e?1:0}function pl(t,e,r){void 0===e&&(e=1),void 0===r&&(r=!1);for(var n=1/0,o=1/0,i=-1/0,a=-1/0,s=t[0],u=0;u<s.length;u++){var l=s[u];(!u||l.x<n)&&(n=l.x),(!u||l.y<o)&&(o=l.y),(!u||l.x>i)&&(i=l.x),(!u||l.y>a)&&(a=l.y)}var c=i-n,p=a-o,f=Math.min(c,p),d=f/2,h=new lc([],cl);if(0===f)return new T(n,o);for(var m=n;m<i;m+=f)for(var y=o;y<a;y+=f)h.push(new hl(m+d,y+d,d,t));for(var g=function(t){for(var e=0,r=0,n=0,o=t[0],i=0,a=o.length,s=a-1;i<a;s=i++){var u=o[i],l=o[s],c=u.x*l.y-l.x*u.y;r+=(u.x+l.x)*c,n+=(u.y+l.y)*c,e+=3*c}return new hl(r/e,n/e,0,t)}(t),v=h.length;h.length;){var _=h.pop();(_.d>g.d||!g.d)&&(g=_,r&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,v)),_.max-g.d<=e||(d=_.h/2,h.push(new hl(_.p.x-d,_.p.y-d,d,t)),h.push(new hl(_.p.x+d,_.p.y-d,d,t)),h.push(new hl(_.p.x-d,_.p.y+d,d,t)),h.push(new hl(_.p.x+d,_.p.y+d,d,t)),v+=4)}return r&&(console.log("num probes: "+v),console.log("best distance: "+g.d)),g.p}function cl(t,e){return e.max-t.max}function hl(t,e,r,n){this.p=new T(t,e),this.h=r,this.d=function(t,e){for(var r=!1,n=1/0,o=0;o<e.length;o++)for(var i=e[o],a=0,s=i.length,u=s-1;a<s;u=a++){var l=i[a],c=i[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(r=!r),n=Math.min(n,xa(t,l,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}lc.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},lc.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},lc.prototype.peek=function(){return this.data[0]},lc.prototype._up=function(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var o=t-1>>1,i=e[o];if(r(n,i)>=0)break;e[t]=i,t=o}e[t]=n},lc.prototype._down=function(t){for(var e=this.data,r=this.compare,n=this.length>>1,o=e[t];t<n;){var i=1+(t<<1),a=e[i],s=i+1;if(s<this.length&&r(e[s],a)<0&&(i=s,a=e[s]),r(a,o)>=0)break;e[t]=a,t=i}e[t]=o};var cc=e((function(t){t.exports=function(t,e){var r,n,o,i,a,s,u,l;for(r=3&t.length,n=t.length-r,o=e,a=3432918353,s=461845907,l=0;l<n;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,o=27492+(65535&(i=5*(65535&(o=(o^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:o^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return o^=t.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}})),pc=e((function(t){t.exports=function(t,e){for(var r,n=t.length,o=e^n,i=0;n>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&t.charCodeAt(i+2))<<16;case 2:o^=(255&t.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&t.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}})),fc=cc,dc=cc,hc=pc;fc.murmur3=dc,fc.murmur2=hc;var mc=7,yc=Number.POSITIVE_INFINITY;function bl(t,e){return e[1]!==yc?function(t,e,r){var n=0,o=0;switch(e=Math.abs(e),r=Math.abs(r),t){case"top-right":case"top-left":case"top":o=r-mc;break;case"bottom-right":case"bottom-left":case"bottom":o=-r+mc}switch(t){case"top-right":case"bottom-right":case"right":n=-e;break;case"top-left":case"bottom-left":case"left":n=e}return[n,o]}(t,e[0],e[1]):function(t,e){var r=0,n=0;e<0&&(e=0);var o=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":n=o-mc;break;case"bottom-right":case"bottom-left":n=-o+mc;break;case"bottom":n=-e+mc;break;case"top":n=e-mc}switch(t){case"top-right":case"bottom-right":r=-o;break;case"top-left":case"bottom-left":r=o;break;case"left":r=e;break;case"right":r=-e}return[r,n]}(t,e[0])}function _l(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var gc=65535;function Al(t,e,r,n,o,i,a,s,u,l,c,p,f,d){var h=function(t,e,r,n,o,i,a,s){for(var u=n.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,l=e.positionedGlyphs,c=[],p=0;p<l.length;p++){var f=l[p],d=a[f.fontStack],h=d&&d[f.glyph];if(h){var m=h.rect;if(m){var y=Wl+1,g=h.metrics.advance*f.scale/2,v=o?[f.x+g,f.y]:[0,0],_=o?[0,0]:[f.x+g+r[0],f.y+r[1]],b=(o||s)&&f.vertical,S=[0,0];b&&(S=_,_=[0,0]);var x=(h.metrics.left-y)*f.scale-g+_[0],w=(-h.metrics.top-y)*f.scale+_[1],E=x+m.w*f.scale,P=w+m.h*f.scale,C=new T(x,w),D=new T(E,w),M=new T(x,P),A=new T(E,P);if(b){var R=new T(-g,g-e.yOffset),L=-Math.PI/2,I=ku/2-g,O=new T(5-e.yOffset-I,0),k=new(Function.prototype.bind.apply(T,[null].concat(S)));C._rotateAround(L,R)._add(O)._add(k),D._rotateAround(L,R)._add(O)._add(k),M._rotateAround(L,R)._add(O)._add(k),A._rotateAround(L,R)._add(O)._add(k)}if(u){var F=Math.sin(u),N=Math.cos(u),B=[N,-F,F,N];C._matMult(B),D._matMult(B),M._matMult(B),A._matMult(B)}c.push({tl:C,tr:D,bl:M,br:A,tex:m,writingMode:e.writingMode,glyphOffset:v,sectionIndex:f.sectionIndex})}}}return c}(0,r,a,n,o,i,p,t.allowVerticalPlacement),m=t.textSizeData,y=null;"source"===m.kind?(y=[Xu*n.layout.get("text-size").evaluate(i,{})])[0]>gc&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===m.kind&&((y=[Xu*d.compositeTextSizes[0].evaluate(i,{}),Xu*d.compositeTextSizes[1].evaluate(i,{})])[0]>gc||y[1]>gc)&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,h,y,a,o,i,u,e,s.lineStartIndex,s.lineLength,f);for(var g=0,v=l;g<v.length;g+=1)c[v[g]]=t.text.placedSymbolArray.length-1;return 4*h.length}function kl(t,e,r,n){var o=t.compareText;if(e in o){for(var i=o[e],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return!0}else o[e]=[];return o[e].push(n),!1}E.Actor=Hl,E.AlphaImage=cs,E.CanonicalTileID=Ql,E.CollisionBoxArray=ji,E.Color=he,E.DEMData=tc,E.DataConstantProperty=si,E.DictionaryCoder=rc,E.EXTENT=Xa,E.ErrorEvent=jt,E.EvaluationParameters=qo,E.Event=zt,E.Evented=Gt,E.FeatureIndex=ac,E.FillBucket=Ps,E.FillExtrusionBucket=Hs,E.ImageAtlas=Il,E.ImagePosition=Rl,E.LineBucket=eu,E.LngLat=Yl,E.LngLatBounds=Kl,E.MercatorCoordinate=Xl,E.ONE_EM=ku,E.OverscaledTileID=Jl,E.Point=T,E.Point$1=T,E.ProgramConfiguration=Ka,E.Properties=fi,E.Protobuf=Gl,E.RGBAImage=ps,E.RequestManager=tt,E.ResourceType=Rt,E.SegmentVector=ta,E.SourceFeatureState=ic,E.StructArrayLayout1ui2=Ni,E.StructArrayLayout2i4=gi,E.StructArrayLayout2ui4=Fi,E.StructArrayLayout3ui6=ki,E.StructArrayLayout4i8=vi,E.SymbolBucket=gl,E.Texture=Ul,E.Tile=sc,E.Transitionable=Jo,E.Uniform1f=ua,E.Uniform1i=sa,E.Uniform2f=Ea,E.Uniform3f=Pa,E.Uniform4f=Ca,E.UniformColor=Ra,E.UniformMatrix4f=Na,E.UnwrappedTileID=$l,E.ValidationError=Wt,E.WritingMode=Bu,E.ZoomHistory=Po,E.addDynamicAttributes=Os,E.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var n=t.length,o=new Array(t.length),i=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(i=t),o[a]=e,0==--n&&r(i,o)}))}))},E.bezier=s,E.bindAll=m,E.browser=W,E.cacheEntryPossiblyAdded=function(t){++Dt>xt&&(t.getActor().send("enforceCacheSizeLimit",St),Dt=0)},E.clamp=l,E.clearTileCache=function(t){var e=self.caches.delete(gt);t&&e.catch(t).then((function(){return t()}))},E.clone=function(t){var e=new as(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},E.clone$1=b,E.config=H,E.create=function(){var t=new as(16);return as!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},E.create$1=function(){var t=new as(9);return as!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},E.create$2=function(){var t=new as(4);return as!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},E.createCommonjsModule=e,E.createExpression=Cr,E.createLayout=ei,E.createStyleLayer=function(t){return"custom"===t.type?new Dl(t):new Ml[t.type](t)},E.deepEqual=o,E.ease=D,E.emitValidationErrors=fn,E.endsWith=v,E.enforceCacheSizeLimit=function(t){self.caches&&self.caches.open(gt).then((function(e){e.keys().then((function(r){for(var n=0;n<r.length-t;n++)e.delete(r[n])}))}))},E.evaluateSizeForFeature=Es,E.evaluateSizeForZoom=Ms,E.evaluateVariableOffset=bl,E.evented=jo,E.extend=c,E.featureFilter=jr,E.filterObject=x,E.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},E.getAnchorAlignment=Ss,E.getAnchorJustification=_l,E.getArrayBuffer=Nt,E.getImage=function bt(t,e){if(kt>=H.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:e,cancelled:!1,cancel:function cancel(){this.cancelled=!0}};return Ot.push(r),r}kt++;var n=!1,o=function i(){if(!n)for(n=!0,kt--;Ot.length&&kt<H.MAX_PARALLEL_IMAGE_REQUESTS;){var t=Ot.shift(),e=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=bt(e,r).cancel)}},a=Nt(t,(function(t,r,n,i){if(o(),t)e(t);else if(r){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){e(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var u=new self.Blob([new Uint8Array(r)],{type:"image/png"});a.cacheControl=n,a.expires=i,a.src=r.byteLength?s.createObjectURL(u):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function cancel(){a.cancel(),o()}}},E.getJSON=function(t,e){return Ft(c(t,{type:"json"}),e)},E.getReferrer=It,E.getVideo=function(t,e){var r,n,o=self.document.createElement("video");o.muted=!0,o.onloadstart=function(){e(null,o)};for(var i=0;i<t.length;i++){var a=self.document.createElement("source");r=t[i],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(o.crossOrigin="Anonymous"),a.src=t[i],o.appendChild(a)}return{cancel:function cancel(){}}},E.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},E.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],p=e[9],f=e[10],d=e[11],h=e[12],m=e[13],y=e[14],g=e[15],v=r*s-n*a,_=r*u-o*a,b=r*l-i*a,S=n*u-o*s,x=n*l-i*s,w=o*l-i*u,E=c*m-p*h,P=c*y-f*h,C=c*g-d*h,T=p*y-f*m,D=p*g-d*m,M=f*g-d*y,A=v*M-_*D+b*T+S*C-x*P+w*E;return A?(A=1/A,t[0]=(s*M-u*D+l*T)*A,t[1]=(o*D-n*M-i*T)*A,t[2]=(m*w-y*x+g*S)*A,t[3]=(f*x-p*w-d*S)*A,t[4]=(u*C-a*M-l*P)*A,t[5]=(r*M-o*C+i*P)*A,t[6]=(y*b-h*w-g*_)*A,t[7]=(c*w-f*b+d*_)*A,t[8]=(a*D-s*C+l*E)*A,t[9]=(n*C-r*D-i*E)*A,t[10]=(h*x-m*b+g*v)*A,t[11]=(p*b-c*x-d*v)*A,t[12]=(s*P-a*T-u*E)*A,t[13]=(r*T-n*P+o*E)*A,t[14]=(m*_-h*S-y*v)*A,t[15]=(c*S-p*_+f*v)*A,t):null},E.isChar=To,E.isMapboxURL=q,E.keysDifference=function(t,e){var r=[];for(var n in t)n in e||r.push(n);return r},E.makeRequest=Ft,E.mapObject=g,E.mercatorXfromLng=Ou,E.mercatorYfromLat=Lu,E.mercatorZfromAltitude=Du,E.multiply=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],m=e[12],y=e[13],g=e[14],v=e[15],_=r[0],b=r[1],S=r[2],x=r[3];return t[0]=_*n+b*s+S*p+x*m,t[1]=_*o+b*u+S*f+x*y,t[2]=_*i+b*l+S*d+x*g,t[3]=_*a+b*c+S*h+x*v,_=r[4],b=r[5],S=r[6],x=r[7],t[4]=_*n+b*s+S*p+x*m,t[5]=_*o+b*u+S*f+x*y,t[6]=_*i+b*l+S*d+x*g,t[7]=_*a+b*c+S*h+x*v,_=r[8],b=r[9],S=r[10],x=r[11],t[8]=_*n+b*s+S*p+x*m,t[9]=_*o+b*u+S*f+x*y,t[10]=_*i+b*l+S*d+x*g,t[11]=_*a+b*c+S*h+x*v,_=r[12],b=r[13],S=r[14],x=r[15],t[12]=_*n+b*s+S*p+x*m,t[13]=_*o+b*u+S*f+x*y,t[14]=_*i+b*l+S*d+x*g,t[15]=_*a+b*c+S*h+x*v,t},E.mvt=Gs,E.number=Ae,E.ortho=function(t,e,r,n,o,i,a){var s=1/(e-r),u=1/(n-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(o+n)*u,t[14]=(a+i)*l,t[15]=1,t},E.parseGlyphPBF=function(t){return new Gl(t).readFields(Su,[])},E.pbf=Gl,E.performSymbolLayout=function(t,e,r,n,o,i){t.createArrays();var a=512*t.overscaling;t.tilePixelRatio=Xa/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,p=c.minZoom,f=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new qo(p)),u["text-size"].possiblyEvaluate(new qo(f))]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,h=d.minZoom,m=d.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new qo(h)),u["icon-size"].possiblyEvaluate(new qo(m))]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new qo(t.zoom+1)),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new qo(t.zoom+1)),l.textMaxSize=u["text-size"].possiblyEvaluate(new qo(18));for(var y=s.get("text-line-height")*ku,g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),_=function b(){var i=x[S],a=s.get("text-font").evaluate(i,{}).join(","),u=r,c={horizontal:{},vertical:void 0},p=i.text,f=[0,0];if(p){var d=p.toString(),h=s.get("text-letter-spacing").evaluate(i,{})*ku,m=function(t){for(var e=0,r=t;e<r.length;e+=1)if(!zn(r[e].charCodeAt(0)))return!1;return!0}(d)?h:0,b=s.get("text-anchor").evaluate(i,{}),_=s.get("text-variable-anchor");if(!_){var E=s.get("text-radial-offset").evaluate(i,{});f=E?bl(b,[E*ku,yc]):s.get("text-offset").evaluate(i,{}).map((function(t){return t*ku}))}var P=g?"center":s.get("text-justify").evaluate(i,{}),C=s.get("symbol-placement"),D="point"===C?s.get("text-max-width").evaluate(i,{})*ku:0,M=function B(){t.allowVerticalPlacement&&Sn(d)&&(c.vertical=gs(p,e,a,D,y,b,"left",m,f,Bu.vertical,!0,C))};if(!g&&_){for(var A="auto"===P?_.map((function(t){return _l(t)})):[P],R=!1,L=0;L<A.length;L++){var I=A[L];if(!c.horizontal[I])if(R)c.horizontal[I]=c.horizontal[0];else{var O=gs(p,e,a,D,y,"center",I,m,f,Bu.horizontal,!1,C);O&&(c.horizontal[I]=O,R=1===O.lineCount)}}M()}else{"auto"===P&&(P=_l(b));var k=gs(p,e,a,D,y,b,P,m,f,Bu.horizontal,!1,C);k&&(c.horizontal[P]=k),M(),Sn(d)&&g&&v&&(c.vertical=gs(p,e,a,D,y,b,P,m,f,Bu.vertical,!1,C))}}var F=void 0;if(i.icon&&i.icon.name){var N=n[i.icon.name];N&&(F=function(t,e,r){var n=Ss(r),o=n.horizontalAlign,i=n.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*o,l=u+t.displaySize[0],c=s-t.displaySize[1]*i;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}}(o[i.icon.name],s.get("icon-offset").evaluate(i,{}),s.get("icon-anchor").evaluate(i,{})),void 0===t.sdfIcons?t.sdfIcons=N.sdf:t.sdfIcons!==N.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),N.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(Object.keys(c.horizontal).length||F)&&function(t,e,r,n,o,i,a){var s=i.layoutTextSize.evaluate(e,{}),u=i.layoutIconSize.evaluate(e,{}),l=i.textMaxSize.evaluate(e,{});void 0===l&&(l=s);var c=t.layers[0].layout,p=c.get("icon-offset").evaluate(e,{}),f=function(t){for(var e in t)return t[e];return null}(r.horizontal),d=s/24,h=t.tilePixelRatio*d,m=t.tilePixelRatio*l/24,y=t.tilePixelRatio*u,g=t.tilePixelRatio*c.get("symbol-spacing"),v=c.get("text-padding")*t.tilePixelRatio,_=c.get("icon-padding")*t.tilePixelRatio,b=c.get("text-max-angle")/180*Math.PI,S="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),x="map"===c.get("icon-rotation-alignment")&&"point"!==c.get("symbol-placement"),E=c.get("symbol-placement"),P=g/2,D=c.get("icon-text-fit");n&&"none"!==D&&f&&(n=function(t,e,r,n,o,i){var a,s,u,l,c=t.image,p=e.left*i,f=e.right*i;"width"===r||"both"===r?(l=o[0]+p-n[3],s=o[0]+f+n[1]):s=(l=o[0]+(p+f-c.displaySize[0])/2)+c.displaySize[0];var d=e.top*i,h=e.bottom*i;return"height"===r||"both"===r?(a=o[1]+d-n[0],u=o[1]+h+n[2]):u=(a=o[1]+(d+h-c.displaySize[1])/2)+c.displaySize[1],{image:c,top:a,right:s,bottom:u,left:l}}(n,f,D,c.get("icon-text-fit-padding"),p,d));var M=function C(s,u){u.x<0||u.x>=Xa||u.y<0||u.y>=Xa||function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m,y,g,v,_,b){var S,x,E,P,C=t.addToLineVertexArray(e,r),D=0,M=0,A=0,R=-1,L={},I=fc(""),O=0,k=0;if(void 0===i._unevaluatedLayout.getValue("text-radial-offset")?(O=(S=i.layout.get("text-offset").evaluate(v,{}).map((function(t){return t*ku})))[0],k=S[1]):(O=i.layout.get("text-radial-offset").evaluate(v,{})*ku,k=yc),t.allowVerticalPlacement&&n.vertical){var F=i.layout.get("text-rotate").evaluate(v,{})+90,N=n.vertical;P=new uc(a,r,e,s,u,l,N,c,p,f,t.overscaling,F)}if(o){var B=i.layout.get("icon-rotate").evaluate(v,{}),U=function(t,e){var r=t.image,n=t.right-t.left,o=(n*r.paddedRect.w/(r.paddedRect.w-2)-n)/2,i=t.left-o,a=t.right+o,s=t.bottom-t.top,u=(s*r.paddedRect.h/(r.paddedRect.h-2)-s)/2,l=t.top-u,c=t.bottom+u,p=new T(i,l),f=new T(a,l),d=new T(a,c),h=new T(i,c),m=e*Math.PI/180;if(m){var y=Math.sin(m),g=Math.cos(m),v=[g,-y,y,g];p._matMult(v),f._matMult(v),h._matMult(v),d._matMult(v)}return[{tl:p,tr:f,bl:h,br:d,tex:r.paddedRect,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0}]}(o,B);E=new uc(a,r,e,s,u,l,o,h,m,!1,t.overscaling,B),D=4*U.length;var z=t.iconSizeData,j=null;"source"===z.kind?(j=[Xu*i.layout.get("icon-size").evaluate(v,{})])[0]>gc&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===z.kind&&((j=[Xu*b.compositeIconSizes[0].evaluate(v,{}),Xu*b.compositeIconSizes[1].evaluate(v,{})])[0]>gc||j[1]>gc)&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,U,j,g,y,v,!1,e,C.lineStartIndex,C.lineLength,-1),R=t.icon.placedSymbolArray.length-1}for(var G in n.horizontal){var V=n.horizontal[G];if(!x){I=fc(V.text);var W=i.layout.get("text-rotate").evaluate(v,{});x=new uc(a,r,e,s,u,l,V,c,p,f,t.overscaling,W)}var q=1===V.lineCount;if(M+=Al(t,e,V,i,f,v,d,C,n.vertical?Bu.horizontal:Bu.horizontalOnly,q?Object.keys(n.horizontal):[G],L,_,R,b),q)break}n.vertical&&(A+=Al(t,e,n.vertical,i,f,v,d,C,Bu.vertical,["vertical"],L,_,R,b));var H=x?x.boxStartIndex:t.collisionBoxArray.length,K=x?x.boxEndIndex:t.collisionBoxArray.length,Y=P?P.boxStartIndex:t.collisionBoxArray.length,Z=P?P.boxEndIndex:t.collisionBoxArray.length,X=E?E.boxStartIndex:t.collisionBoxArray.length,Q=E?E.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=gl.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(e.x,e.y,L.right>=0?L.right:-1,L.center>=0?L.center:-1,L.left>=0?L.left:-1,L.vertical||-1,R,I,H,K,Y,Z,X,Q,s,M,A,D,0,c,O,k)}(t,u,s,r,n,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,h,v,S,a,y,_,x,p,e,o,i)};if("line"===E)for(var A=0,R=function(t,e,r,n,o){for(var i=[],a=0;a<t.length;a++)for(var s=t[a],u=void 0,l=0;l<s.length-1;l++){var c=s[l],p=s[l+1];c.x<0&&p.x<0||(c.x<0?c=new T(0,c.y+(p.y-c.y)*((0-c.x)/(p.x-c.x)))._round():p.x<0&&(p=new T(0,c.y+(p.y-c.y)*((0-c.x)/(p.x-c.x)))._round()),c.y<0&&p.y<0||(c.y<0?c=new T(c.x+(p.x-c.x)*((0-c.y)/(p.y-c.y)),0)._round():p.y<0&&(p=new T(c.x+(p.x-c.x)*((0-c.y)/(p.y-c.y)),0)._round()),c.x>=n&&p.x>=n||(c.x>=n?c=new T(n,c.y+(p.y-c.y)*((n-c.x)/(p.x-c.x)))._round():p.x>=n&&(p=new T(n,c.y+(p.y-c.y)*((n-c.x)/(p.x-c.x)))._round()),c.y>=o&&p.y>=o||(c.y>=o?c=new T(c.x+(p.x-c.x)*((o-c.y)/(p.y-c.y)),o)._round():p.y>=o&&(p=new T(c.x+(p.x-c.x)*((o-c.y)/(p.y-c.y)),o)._round()),u&&c.equals(u[u.length-1])||(u=[c],i.push(u)),u.push(p)))))}return i}(e.geometry,0,0,Xa,Xa);A<R.length;A+=1)for(var L=R[A],I=0,O=ol(L,g,b,r.vertical||f,n,24,m,t.overscaling,Xa);I<O.length;I+=1){var k=O[I];f&&kl(t,f.text,P,k)||M(L,k)}else if("line-center"===E)for(var F=0,N=e.geometry;F<N.length;F+=1){var B=N[F];if(B.length>1){var U=al(B,b,r.vertical||f,n,24,m);U&&M(B,U)}}else if("Polygon"===e.type)for(var z=0,j=ko(e.geometry,0);z<j.length;z+=1){var G=j[z],V=pl(G,16);M(G[0],new Yu(V.x,V.y,0))}else if("LineString"===e.type)for(var W=0,q=e.geometry;W<q.length;W+=1){var H=q[W];M(H,new Yu(H[0].x,H[0].y,0))}else if("Point"===e.type)for(var K=0,Y=e.geometry;K<Y.length;K+=1)for(var Z=0,X=Y[K];Z<X.length;Z+=1){var Q=X[Z];M([Q],new Yu(Q.x,Q.y,0))}}(t,i,c,F,u,l,f)},S=0,x=t.features;S<x.length;S+=1)_();i&&t.generateCollisionDebugBuffers()},E.perspective=function(t,e,r,n,o){var i,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(n-o),t[10]=(o+n)*i,t[14]=2*o*n*i):(t[10]=-1,t[14]=-2*n),t},E.pick=function(t,e){for(var r={},n=0;n<e.length;n++){var o=e[n];o in t&&(r[o]=t[o])}return r},E.plugin=Wo,E.polygonIntersectsPolygon=ha,E.postMapLoadEvent=ft,E.postTurnstileEvent=ct,E.potpack=Ys,E.rasterBoundsAttributes=ec,E.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],E.register=xn,E.registerForPluginAvailability=function(t){return No?t({pluginURL:No,completionCallback:Mo}):jo.once("pluginAvailable",t),t},E.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=o*u+a*s,t[2]=n*-s+i*u,t[3]=o*-s+a*u,t},E.rotateX=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+l*n,t[5]=a*o+c*n,t[6]=s*o+p*n,t[7]=u*o+f*n,t[8]=l*o-i*n,t[9]=c*o-a*n,t[10]=p*o-s*n,t[11]=f*o-u*n,t},E.rotateZ=function(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+l*n,t[1]=a*o+c*n,t[2]=s*o+p*n,t[3]=u*o+f*n,t[4]=l*o-i*n,t[5]=c*o-a*n,t[6]=p*o-s*n,t[7]=f*o-u*n,t},E.scale=function(t,e,r){var n=r[0],o=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},E.setCacheLimits=function(t,e){St=t,xt=e},E.setRTLTextPlugin=function(t,e){if(Lo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Lo=!0,No=W.resolveURL(t),Mo=function En(t){t?(Lo=!1,No=null,e&&e(t)):Bo=!0},jo.fire(new zt("pluginAvailable",{pluginURL:No,completionCallback:Mo}))},E.sphericalToCartesian=function(t){var e=t[0],r=t[1],n=t[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n)}},E.styleSpec=Vt,E.symbolSize=Ju,E.transformMat3=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t},E.transformMat4=Ma,E.translate=function(t,e,r){var n,o,i,a,s,u,l,c,p,f,d,h,m=r[0],y=r[1],g=r[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*g+e[12],t[13]=e[1]*m+e[5]*y+e[9]*g+e[13],t[14]=e[2]*m+e[6]*y+e[10]*g+e[14],t[15]=e[3]*m+e[7]*y+e[11]*g+e[15]):(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=p,t[9]=f,t[10]=d,t[11]=h,t[12]=n*m+s*y+p*g+e[12],t[13]=o*m+u*y+f*g+e[13],t[14]=i*m+l*y+d*g+e[14],t[15]=a*m+c*y+h*g+e[15]),t},E.uniqueId=f,E.validateCustomStyleLayer=function(t){var e=[],r=t.id;return void 0===r&&e.push({message:"layers."+r+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+r+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),e},E.validateLight=Hn,E.validateStyle=qn,E.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},E.vectorTile=Gs,E.version="1.4.0",E.warnOnce=w,E.webpSupported=Y,E.window=self,E.wrap=p})),define(0,(function(i){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",o=0,i=e;o<i.length;o+=1)n+=t(i[o])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function r(e){for(var r="",n=0,o=i.refProperties;n<o.length;n+=1)r+="/"+t(e[o[n]]);return r}var s=function i(t){this.keyCache={},t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var n=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=i.createStyleLayer(s);u._featureFilter=i.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=e;l<c.length;l+=1){var p=c[l];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var f=0,d=function(t,e){for(var n={},o=0;o<t.length;o++){var i=e&&e[t[o].id]||r(t[o]);e&&(e[t[o].id]=i);var a=n[i];a||(a=n[i]=[]),a.push(t[o])}var s=[];for(var u in n)s.push(n[u]);return s}(i.values(this._layerConfigs),this.keyCache);f<d.length;f+=1){var h=d[f].map((function(t){return n._layers[t.id]})),m=h[0];if("none"!==m.visibility){var y=m.source||"",g=this.familiesBySource[y];g||(g=this.familiesBySource[y]={});var v=m.sourceLayer||"_geojsonTileLayer",_=g[v];_||(_=g[v]=[]),_.push(h)}}};var l=function o(t){var e={},r=[];for(var o in t){var n=t[o],a=e[o]={};for(var s in n){var u=n[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=i.potpack(r),p=c.w,f=c.h,d=new i.AlphaImage({width:p||1,height:f||1});for(var h in t){var m=t[h];for(var y in m){var g=m[+y];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var v=e[h][y].rect;i.AlphaImage.copy(g.bitmap,d,{x:0,y:0},{x:v.x+1,y:v.y+1},g.bitmap)}}}this.image=d,this.positions=e};i.register("GlyphAtlas",l);var p=function n(t){this.tileID=new i.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function a(t,e,r){for(var n=new i.EvaluationParameters(e),o=0,a=t;o<a.length;o+=1)a[o].recalculate(n,r)}p.prototype.parse=function(t,e,r,n,o){var s=this;this.status="parsing",this.data=t,this.collisionBoxArray=new i.CollisionBoxArray;var u=new i.DictionaryCoder(Object.keys(t.layers).sort()),c=new i.FeatureIndex(this.tileID);c.bucketLayerIDs=[];var p,f,d,h,m={},y={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},g=e.familiesBySource[this.source];for(var v in g){var _=t.layers[v];if(_){1===_.version&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(v),S=[],x=0;x<_.length;x++){var w=_.feature(x);S.push({feature:w,index:x,sourceLayerIndex:b})}for(var E=0,P=g[v];E<P.length;E+=1){var T=P[E],D=T[0];D.minzoom&&this.zoom<Math.floor(D.minzoom)||D.maxzoom&&this.zoom>=D.maxzoom||"none"!==D.visibility&&(a(T,this.zoom,r),(m[D.id]=D.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(S,y),c.bucketLayerIDs.push(T.map((function(t){return t.id}))))}}}var M=i.mapObject(y.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(M).length?n.send("getGlyphs",{uid:this.uid,stacks:M},(function(t,e){p||(p=t,f=e,C.call(s))})):f={};var A=Object.keys(y.iconDependencies);A.length?n.send("getImages",{icons:A},(function(t,e){p||(p=t,d=e,C.call(s))})):d={};var R=Object.keys(y.patternDependencies);function C(){if(p)return o(p);if(f&&d&&h){var t=new l(f),e=new i.ImageAtlas(d,h);for(var n in m){var s=m[n];s instanceof i.SymbolBucket?(a(s.layers,this.zoom,r),i.performSymbolLayout(s,f,t.positions,d,e.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof i.LineBucket||s instanceof i.FillBucket||s instanceof i.FillExtrusionBucket)&&(a(s.layers,this.zoom,r),s.addFeatures(y,e.patternPositions))}this.status="done",o(null,{buckets:i.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:e,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}R.length?n.send("getImages",{icons:R},(function(t,e){p||(p=t,h=e,C.call(s))})):h={},C.call(this)};var f="undefined"!=typeof performance,y={getEntriesByName:function getEntriesByName(t){return!!(f&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function mark(t){return!!(f&&performance&&performance.mark)&&performance.mark(t)},measure:function measure(t,e,r){return!!(f&&performance&&performance.measure)&&performance.measure(t,e,r)},clearMarks:function clearMarks(t){return!!(f&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function clearMeasures(t){return!!(f&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},v=function u(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},y.mark(this._marks.start)};function h(t,e){var r=i.getArrayBuffer(t.request,(function(t,r,n,o){t?e(t):r&&e(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(r)),rawData:r,cacheControl:n,expires:o})}));return function(){r.cancel(),e()}}v.prototype.finish=function(){y.mark(this._marks.end);var t=y.getEntriesByName(this._marks.measure);return 0===t.length&&(y.measure(this._marks.measure,this._marks.start,this._marks.end),t=y.getEntriesByName(this._marks.measure),y.clearMarks(this._marks.start),y.clearMarks(this._marks.end),y.clearMeasures(this._marks.measure)),t},y.Performance=v;var _=function c(t,e,r,n){this.actor=t,this.layerIndex=e,this.availableImages=r,this.loadVectorData=n||h,this.loading={},this.loaded={}};_.prototype.loadTile=function(t,e){var r=this,n=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new y.Performance(t.request),a=this.loading[n]=new p(t);a.abort=this.loadVectorData(t,(function(t,s){if(delete r.loading[n],t||!s)return a.status="done",r.loaded[n]=a,e(t);var u=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var c={};if(o){var p=o.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return e(t);e(null,i.extend({rawTileData:u.slice(0)},r,l,c))})),r.loaded=r.loaded||{},r.loaded[n]=a}))},_.prototype.reloadTile=function(t,e){var r=this,n=this.loaded,o=t.uid,i=this;if(n&&n[o]){var a=n[o];a.showCollisionBoxes=t.showCollisionBoxes;var u=function s(t,n){var o=a.reloadCallback;o&&(delete a.reloadCallback,a.parse(a.vectorTile,i.layerIndex,r.availableImages,i.actor,o)),e(t,n)};"parsing"===a.status?a.reloadCallback=u:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,u):u())}},_.prototype.abortTile=function(t,e){var r=this.loading,n=t.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),e()},_.prototype.removeTile=function(t,e){var r=this.loaded,n=t.uid;r&&r[n]&&delete r[n],e()};var D=function p(){this.loaded={}};D.prototype.loadTile=function(t,e){var r=t.uid,n=t.encoding,o=t.rawImageData,a=new i.DEMData(r,o,n);this.loaded=this.loaded||{},this.loaded[r]=a,e(null,a)},D.prototype.removeTile=function(t){var e=this.loaded,r=t.uid;e&&e[r]&&delete e[r]};var M={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function d(t){var e=0;if(t&&t.length>0){e+=Math.abs(g(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(g(t[r]))}return e}function g(t){var e,r,n,o,i,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(n=u-2,o=u-1,i=0):a===u-1?(n=u-1,o=0,i=1):(n=a,o=a+1,i=a+2),e=t[n],r=t[o],s+=(m(t[i][0])-m(e[0]))*Math.sin(m(r[1]));s=s*M.RADIUS*M.RADIUS/2}return s}function m(t){return t*Math.PI/180}var L={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return d(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=d(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:g};function x(t,e){return function(r){return t(r,e)}}function w(t,e){e=!!e,t[0]=S(t[0],e);for(var r=1;r<t.length;r++)t[r]=S(t[r],!e);return t}function S(t,e){return function(t){return L.ring(t)>=0}(t)===e?t:t.reverse()}var I=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,z=function b(t){this._feature=t,this.extent=i.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};z.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,r=this._feature.geometry;e<r.length;e+=1){var n=r[e];t.push([new i.Point$1(n[0],n[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var p=c[l];u.push(new i.Point$1(p[0],p[1]))}o.push(u)}return o},z.prototype.toGeoJSON=function(t,e,r){return I.call(this,t,e,r)};var W=function k(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=t.length,this._features=t};W.prototype.feature=function(t){return new z(this._features[t])};var q=i.vectorTile.VectorTileFeature,X=P;function P(t,e){this.options=e||{},this.features=t,this.length=t.length}function T(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}P.prototype.feature=function(t){return new T(this.features[t],this.options.extent)},T.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var r=t[e],n=[],o=0;o<r.length;o++)n.push(new i.Point$1(r[o][0],r[o][1]));this.geometry.push(n)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),r=Math.max(r,u.x),n=Math.min(n,u.y),o=Math.max(o,u.y)}return[e,n,r,o]},T.prototype.toGeoJSON=q.prototype.toGeoJSON;var tt=O,et=O,rt=X;function O(t){var e=new i.pbf;return function(t,e){for(var r in t.layers)e.writeMessage(3,E,t.layers[r])}(t,e),e.finish()}function E(t,e){var r;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<t.length;r++)n.feature=t.feature(r),e.writeMessage(2,N,n);var o=n.keys;for(r=0;r<o.length;r++)e.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)e.writeMessage(4,G,i[r])}function N(t,e){var r=t.feature;void 0!==r.id&&e.writeVarintField(1,r.id),e.writeMessage(2,F,t),e.writeVarintField(3,r.type),e.writeMessage(4,J,r)}function F(t,e){var r=t.feature,n=t.keys,o=t.values,i=t.keycache,a=t.valuecache;for(var s in r.properties){var u=i[s];void 0===u&&(n.push(s),u=n.length-1,i[s]=u),e.writeVarint(u);var l=r.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var p=c+":"+l,f=a[p];void 0===f&&(o.push(l),f=o.length-1,a[p]=f),e.writeVarint(f)}}function A(t,e){return(e<<3)+(7&t)}function B(t){return t<<1^t>>31}function J(t,e){for(var r=t.loadGeometry(),n=t.type,o=0,i=0,a=r.length,s=0;s<a;s++){var u=r[s],l=1;1===n&&(l=u.length),e.writeVarint(A(1,l));for(var c=3===n?u.length-1:u.length,p=0;p<c;p++){1===p&&1!==n&&e.writeVarint(A(2,c-1));var f=u[p].x-o,d=u[p].y-i;e.writeVarint(B(f)),e.writeVarint(B(d)),o+=f,i+=d}3===n&&e.writeVarint(A(7,1))}}function G(t,e){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(7,t):"number"===r&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function j(t,e,r,n){Y(t,r,n),Y(e,2*r,2*n),Y(e,2*r+1,2*n+1)}function Y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function V(t,e,r,n){var o=t-r,i=e-n;return o*o+i*i}tt.fromVectorTileJs=et,tt.fromGeojsonVt=function C(t,e){e=e||{};var r={};for(var n in t)r[n]=new X(t[n].features,e),r[n].name=n,r[n].version=e.version,r[n].extent=e.extent;return O({layers:r})},tt.GeoJSONWrapper=rt;var nt=function X(t){return t[0]},ot=function W(t){return t[1]},it=function R(t,e,r,n,o){void 0===e&&(e=nt),void 0===r&&(r=ot),void 0===n&&(n=64),void 0===o&&(o=Float64Array),this.nodeSize=n,this.points=t;for(var i=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(t.length),s=this.coords=new o(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=r(t[u]);!function Z(t,e,r,n,o,i){if(!(o-n<=r)){var a=n+o>>1;!function e(t,r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,r,n,Math.max(o,Math.floor(n-u*c/s+p)),Math.min(i,Math.floor(n+(s-u)*c/s+p)),a)}var f=r[2*n+a],d=o,h=i;for(j(t,r,o,n),r[2*i+a]>f&&j(t,r,o,i);d<h;){for(j(t,r,d,h),d++,h--;r[2*d+a]<f;)d++;for(;r[2*h+a]>f;)h--}r[2*o+a]===f?j(t,r,o,h):j(t,r,++h,i),h<=n&&(o=h+1),n<=h&&(i=h-1)}}(t,e,a,n,o,i%2),Z(t,e,r,n,a-1,i+1),Z(t,e,r,a+1,o,i+1)}}(a,s,n,0,a.length-1,0)};it.prototype.range=function(t,e,r,n){return function(t,e,r,n,o,i,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var p=l.pop(),f=l.pop(),d=l.pop();if(f-d<=a)for(var h=d;h<=f;h++)s=e[2*h],u=e[2*h+1],s>=r&&s<=o&&u>=n&&u<=i&&c.push(t[h]);else{var m=Math.floor((d+f)/2);s=e[2*m],u=e[2*m+1],s>=r&&s<=o&&u>=n&&u<=i&&c.push(t[m]);var y=(p+1)%2;(0===p?r<=s:n<=u)&&(l.push(d),l.push(m-1),l.push(y)),(0===p?o>=s:i>=u)&&(l.push(m+1),l.push(f),l.push(y))}}return c}(this.ids,this.coords,t,e,r,n,this.nodeSize)},it.prototype.within=function(t,e,r){return function(t,e,r,n,o,i){for(var a=[0,t.length-1,0],s=[],u=o*o;a.length;){var l=a.pop(),c=a.pop(),p=a.pop();if(c-p<=i)for(var f=p;f<=c;f++)V(e[2*f],e[2*f+1],r,n)<=u&&s.push(t[f]);else{var d=Math.floor((p+c)/2),h=e[2*d],m=e[2*d+1];V(h,m,r,n)<=u&&s.push(t[d]);var y=(l+1)%2;(0===l?r-o<=h:n-o<=m)&&(a.push(p),a.push(d-1),a.push(y)),(0===l?r+o>=h:n+o>=m)&&(a.push(d+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,t,e,r,this.nodeSize)};var at={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function map(t){return t}},st=function U(t){this.options=re(Object.create(at),t),this.trees=new Array(this.options.maxZoom+1)};function $(t,e,r,n,o){return{x:t,y:e,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function H(t,e){var r=t.geometry.coordinates,n=r[0],o=r[1];return{x:ee(n),y:te(o),zoom:1/0,index:e,parentId:-1}}function K(t){return{type:"Feature",id:t.id,properties:Q(t),geometry:{type:"Point",coordinates:[(n=t.x,360*(n-.5)),(e=t.y,r=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var e,r,n}function Q(t){var e=t.numPoints,r=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return re(re({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function ee(t){return t/360+.5}function te(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function re(t,e){for(var r in e)t[r]=e[r];return t}function ie(t){return t.x}function oe(t){return t.y}function ne(t,e,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var u=((t-r)*a+(e-n)*s)/(a*a+s*s);u>1?(r=o,n=i):u>0&&(r+=a*u,n+=s*u)}return(a=t-r)*a+(s=e-n)*s}function ae(t,e,r,n){var o={id:void 0===t?null:t,type:e,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,r=t.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)se(t,e);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<e.length;n++)se(t,e[n]);else if("MultiPolygon"===r)for(n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)se(t,e[n][o])}(o),o}function se(t,e){for(var r=0;r<e.length;r+=3)t.minX=Math.min(t.minX,e[r]),t.minY=Math.min(t.minY,e[r+1]),t.maxX=Math.max(t.maxX,e[r]),t.maxY=Math.max(t.maxY,e[r+1])}function le(t,e,r,n){if(e.geometry){var o=e.geometry.coordinates,i=e.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],u=e.id;if(r.promoteId?u=e.properties[r.promoteId]:r.generateId&&(u=n||0),"Point"===i)ue(o,s);else if("MultiPoint"===i)for(var l=0;l<o.length;l++)ue(o[l],s);else if("LineString"===i)he(o,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(l=0;l<o.length;l++)s=[],he(o[l],s,a,!1),t.push(ae(u,"LineString",s,e.properties));return}ce(o,s,a,!1)}else if("Polygon"===i)ce(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(l=0;l<e.geometry.geometries.length;l++)le(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<o.length;l++){var c=[];ce(o[l],c,a,!0),s.push(c)}}t.push(ae(u,i,s,e.properties))}}function ue(t,e){e.push(pe(t[0])),e.push(fe(t[1])),e.push(0)}function he(t,e,r,n){for(var o,i,a=0,s=0;s<t.length;s++){var u=pe(t[s][0]),l=fe(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=n?(o*l-u*i)/2:Math.sqrt(Math.pow(u-o,2)+Math.pow(l-i,2))),o=u,i=l}var c=e.length-3;e[2]=1,function e(t,r,n,o){for(var i,a=o,s=n-r>>1,u=n-r,l=t[r],c=t[r+1],p=t[n],f=t[n+1],d=r+3;d<n;d+=3){var h=ne(t[d],t[d+1],l,c,p,f);if(h>a)i=d,a=h;else if(h===a){var m=Math.abs(d-s);m<u&&(i=d,u=m)}}a>o&&(i-r>3&&e(t,r,i,o),t[i+2]=a,n-i>3&&e(t,i,n,o))}(e,0,c,r),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function ce(t,e,r,n){for(var o=0;o<t.length;o++){var i=[];he(t[o],i,r,n),e.push(i)}}function pe(t){return t/360+.5}function fe(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function de(t,e,r,n,o,i,a,s){if(n/=e,i>=(r/=e)&&a<n)return t;if(a<r||i>=n)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],p=c.geometry,f=c.type,d=0===o?c.minX:c.minY,h=0===o?c.maxX:c.maxY;if(d>=r&&h<n)u.push(c);else if(!(h<r||d>=n)){var m=[];if("Point"===f||"MultiPoint"===f)ge(p,m,r,n,o);else if("LineString"===f)me(p,m,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===f)ye(p,m,r,n,o,!1);else if("Polygon"===f)ye(p,m,r,n,o,!0);else if("MultiPolygon"===f)for(var y=0;y<p.length;y++){var g=[];ye(p[y],g,r,n,o,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(y=0;y<m.length;y++)u.push(ae(c.id,f,m[y],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),u.push(ae(c.id,f,m,c.tags))}}}return u.length?u:null}function ge(t,e,r,n,o){for(var i=0;i<t.length;i+=3){var a=t[i+o];a>=r&&a<=n&&(e.push(t[i]),e.push(t[i+1]),e.push(t[i+2]))}}function me(t,e,r,n,o,i,a){for(var s,u,l=ve(t),c=0===o?we:Se,p=t.start,f=0;f<t.length-3;f+=3){var d=t[f],h=t[f+1],m=t[f+2],y=t[f+3],g=t[f+4],v=0===o?d:h,_=0===o?y:g,b=!1;a&&(s=Math.sqrt(Math.pow(d-y,2)+Math.pow(h-g,2))),v<r?_>r&&(u=c(l,d,h,y,g,r),a&&(l.start=p+s*u)):v>n?_<n&&(u=c(l,d,h,y,g,n),a&&(l.start=p+s*u)):xe(l,d,h,m),_<r&&v>=r&&(u=c(l,d,h,y,g,r),b=!0),_>n&&v<=n&&(u=c(l,d,h,y,g,n),b=!0),!i&&b&&(a&&(l.end=p+s*u),e.push(l),l=ve(t)),a&&(p+=s)}var S=t.length-3;d=t[S],h=t[S+1],m=t[S+2],(v=0===o?d:h)>=r&&v<=n&&xe(l,d,h,m),S=l.length-3,i&&S>=3&&(l[S]!==l[0]||l[S+1]!==l[1])&&xe(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ve(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ye(t,e,r,n,o,i){for(var a=0;a<t.length;a++)me(t[a],e,r,n,o,i,!1)}function xe(t,e,r,n){t.push(e),t.push(r),t.push(n)}function we(t,e,r,n,o,i){var a=(i-e)/(n-e);return t.push(i),t.push(r+(o-r)*a),t.push(1),a}function Se(t,e,r,n,o,i){var a=(i-r)/(o-r);return t.push(e+(n-e)*a),t.push(i),t.push(1),a}function Me(t,e){for(var r=[],n=0;n<t.length;n++){var o,i=t[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=be(i.geometry,e);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(be(i.geometry[s],e))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var u=[],l=0;l<i.geometry[s].length;l++)u.push(be(i.geometry[s][l],e));o.push(u)}r.push(ae(i.id,a,o,i.tags))}return r}function be(t,e){var r=[];r.size=t.size,void 0!==t.start&&(r.start=t.start,r.end=t.end);for(var n=0;n<t.length;n+=3)r.push(t[n]+e,t[n+1],t[n+2]);return r}function ke(t,e){if(t.transformed)return t;var r,n,o,i=1<<t.z,a=t.x,s=t.y;for(r=0;r<t.features.length;r++){var u=t.features[r],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(n=0;n<l.length;n+=2)u.geometry.push(Ie(l[n],l[n+1],e,i,a,s));else for(n=0;n<l.length;n++){var p=[];for(o=0;o<l[n].length;o+=2)p.push(Ie(l[n][o],l[n][o+1],e,i,a,s));u.geometry.push(p)}}return t.transformed=!0,t}function Ie(t,e,r,n,o,i){return[Math.round(r*(t*n-o)),Math.round(r*(e*n-i))]}function _e(t,e,r,n,o){for(var i=e===o.maxZoom?0:o.tolerance/((1<<e)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Pe(a,t[s],i,o);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,p=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Pe(t,e,r,n){var o=e.geometry,i=e.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===i)Te(a,o,t,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)Te(a,o[s],t,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var u=0;u<o.length;u++){var l=o[u];for(s=0;s<l.length;s++)Te(a,l[s],t,r,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===i&&n.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var f={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==e.id&&(f.id=e.id),t.features.push(f)}}function Te(t,e,r,n,o,i){var a=n*n;if(n>0&&e.size<(o?a:n))r.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===n||e[u+2]>a)&&(r.numSimplified++,s.push(e[u]),s.push(e[u+1])),r.numPoints++;o&&function(t,e){for(var r=0,n=0,o=t.length,i=o-2;n<o;i=n,n+=2)r+=(t[n]-t[i])*(t[n+1]+t[i+1]);if(r>0===e)for(n=0,o=t.length;n<o/2;n+=2){var a=t[n],s=t[n+1];t[n]=t[o-2-n],t[n+1]=t[o-1-n],t[o-2-n]=a,t[o-1-n]=s}}(s,i),t.push(s)}}function Le(t,e){var r=(e=this.options=function(t,e){for(var r in e)t[r]=e[r];return t}(Object.create(this.options),e)).debug;if(r&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(t,e){var r=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)le(r,t.features[n],e,n);else"Feature"===t.type?le(r,t,e):le(r,{geometry:t},e);return r}(t,e);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(t,e){var r=e.buffer/e.extent,n=t,o=de(t,1,-1-r,r,0,-1,2,e),i=de(t,1,1-r,2+r,0,-1,2,e);return(o||i)&&(n=de(t,1,-r,1+r,0,-1,2,e)||[],o&&(n=Me(o,1).concat(n)),i&&(n=n.concat(Me(i,-1)))),n}(n,e)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function De(t,e,r){return 32*((1<<t)*r+e)+t}function Ce(t,e){var r=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return e(null,null);var o=new W(n.features),i=tt(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),e(null,{vectorTile:o,rawData:i.buffer})}st.prototype.load=function(t){var e=this.options,r=e.log,n=e.minZoom,o=e.maxZoom,i=e.nodeSize;r&&console.time("total time");var a="prepare "+t.length+" points";r&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(H(t[u],u));this.trees[o+1]=new it(s,ie,oe,i,Float32Array),r&&console.timeEnd(a);for(var l=o;l>=n;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new it(s,ie,oe,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this},st.prototype.getClusters=function(t,e){var r=((t[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,t[1])),o=180===t[2]?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){var a=this.getClusters([r,n,180,i],e),s=this.getClusters([-180,n,o,i],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,p=u.range(ee(r),te(i),ee(o),te(n));c<p.length;c+=1){var f=p[c],d=u.points[f];l.push(d.numPoints?K(d):this.points[d.index])}return l},st.prototype.getChildren=function(t){var e=t>>5,r=t%32,n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);var i=o.points[e];if(!i)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],u=0,l=o.within(i.x,i.y,a);u<l.length;u+=1){var c=l[u],p=o.points[c];p.parentId===t&&s.push(p.numPoints?K(p):this.points[p.index])}if(0===s.length)throw new Error(n);return s},st.prototype.getLeaves=function(t,e,r){e=e||10,r=r||0;var n=[];return this._appendLeaves(n,t,e,r,0),n},st.prototype.getTile=function(t,e,r){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),i=this.options,a=i.extent,s=i.radius/a,u=(r-s)/o,l=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((e-s)/o,u,(e+1+s)/o,l),n.points,e,r,o,c),0===e&&this._addTileFeatures(n.range(1-s/o,u,1,l),n.points,o,r,o,c),e===o-1&&this._addTileFeatures(n.range(0,u,s/o,l),n.points,-1,r,o,c),c.features.length?c:null},st.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e},st.prototype._appendLeaves=function(t,e,r,n,o){for(var i=0,a=this.getChildren(e);i<a.length;i+=1){var s=a[i],u=s.properties;if(u&&u.cluster?o+u.point_count<=n?o+=u.point_count:o=this._appendLeaves(t,u.cluster_id,r,n,o):o<n?o++:t.push(s),t.length===r)break}return o},st.prototype._addTileFeatures=function(t,e,r,n,o,i){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l={type:1,geometry:[[Math.round(this.options.extent*(u.x*o-r)),Math.round(this.options.extent*(u.y*o-n))]],tags:u.numPoints?Q(u):this.points[u.index].properties},c=u.numPoints?u.id:this.points[u.index].id;void 0!==c&&(l.id=c),i.features.push(l)}},st.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},st.prototype._cluster=function(t,e){for(var r=[],n=this.options,o=n.radius,i=n.extent,a=n.reduce,s=o/(i*Math.pow(2,e)),u=0;u<t.length;u++){var l=t[u];if(!(l.zoom<=e)){l.zoom=e;for(var c=this.trees[e+1],p=c.within(l.x,l.y,s),f=l.numPoints||1,d=l.x*f,h=l.y*f,m=a&&f>1?this._map(l,!0):null,y=(u<<5)+(e+1),g=0,v=p;g<v.length;g+=1){var _=v[g],b=c.points[_];if(!(b.zoom<=e)){b.zoom=e;var S=b.numPoints||1;d+=b.x*S,h+=b.y*S,f+=S,b.parentId=y,a&&(m||(m=this._map(l,!0)),a(m,this._map(b)))}}1===f?r.push(l):(l.parentId=y,r.push($(d/f,h/f,y,f,m)))}}return r},st.prototype._map=function(t,e){if(t.numPoints)return e?re({},t.properties):t.properties;var r=this.points[t.index].properties,n=this.options.map(r);return e&&n===r?re({},n):n},Le.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Le.prototype.splitTile=function(t,e,r,n,o,i,a){for(var s=[t,e,r,n],u=this.options,l=u.debug;s.length;){n=s.pop(),r=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=De(e,r,n),f=this.tiles[p];if(!f&&(l>1&&console.time("creation"),f=this.tiles[p]=_e(t,e,r,n,u),this.tileCoords.push({z:e,x:r,y:n}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,r,n,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(f.source=t,o){if(e===u.maxZoom||e===o)continue;var h=1<<o-e;if(r!==Math.floor(i/h)||n!==Math.floor(a/h))continue}else if(e===u.indexMaxZoom||f.numPoints<=u.indexMaxPoints)continue;if(f.source=null,0!==t.length){l>1&&console.time("clipping");var m,y,g,v,_,b,S=.5*u.buffer/u.extent,x=.5-S,w=.5+S,E=1+S;m=y=g=v=null,_=de(t,c,r-S,r+w,0,f.minX,f.maxX,u),b=de(t,c,r+x,r+E,0,f.minX,f.maxX,u),t=null,_&&(m=de(_,c,n-S,n+w,1,f.minY,f.maxY,u),y=de(_,c,n+x,n+E,1,f.minY,f.maxY,u),_=null),b&&(g=de(b,c,n-S,n+w,1,f.minY,f.maxY,u),v=de(b,c,n+x,n+E,1,f.minY,f.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*r,2*n),s.push(y||[],e+1,2*r,2*n+1),s.push(g||[],e+1,2*r+1,2*n),s.push(v||[],e+1,2*r+1,2*n+1)}}},Le.prototype.getTile=function(t,e,r){var n=this.options,o=n.extent,i=n.debug;if(t<0||t>24)return null;var a=1<<t,s=De(t,e=(e%a+a)%a,r);if(this.tiles[s])return ke(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",t,e,r);for(var u,l=t,c=e,p=r;!u&&l>0;)l--,c=Math.floor(c/2),p=Math.floor(p/2),u=this.tiles[De(l,c,p)];return u&&u.source?(i>1&&console.log("found parent tile z%d-%d-%d",l,c,p),i>1&&console.time("drilling down"),this.splitTile(u.source,l,c,p,t,e,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?ke(this.tiles[s],o):null):null};var ut=function(t){function r(e,r,n,o){t.call(this,e,r,n,Ce),o&&(this.loadGeoJSON=o)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var n=!!(r&&r.request&&r.request.collectResourceTiming)&&new y.Performance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return e(o);if("object"!=typeof a)return e(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(x(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(x(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=w(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(x(w,e))),t}(t,r);default:return t}}(a,!0);try{t._geoJSONIndex=r.cluster?new st(function(t){var e=t.superclusterOptions,r=t.clusterProperties;if(!r||!e)return e;for(var n={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l+=1){var p=c[l],f=r[p],d=f[0],h=f[1],m=i.createExpression(h),y=i.createExpression("string"==typeof d?[d,["accumulated"],["get",p]]:d);n[p]=m.value,o[p]=y.value}return e.map=function(t){s.properties=t;for(var e={},r=0,o=u;r<o.length;r+=1){var i=o[r];e[i]=n[i].evaluate(a,s)}return e},e.reduce=function(t,e){s.properties=e;for(var r=0,n=u;r<n.length;r+=1){var i=n[r];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},e}(r)).load(a.features):function(t,e){return new Le(t,e)}(a,r.geojsonVtOptions)}catch(o){return e(o)}t.loaded={};var s={};if(n){var u=n.finish();u&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(u)))}e(null,s)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded,o=e.uid;return n&&n[o]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,e){if(t.request)i.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(i){return e(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},r.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},r.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},r.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},r}(_),lt=function Oe(t){var e=this;this.self=t,this.actor=new i.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:_,geojson:ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,r){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=r},this.self.registerRTLTextPlugin=function(t){if(i.plugin.isLoaded())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=t.applyArabicShaping,i.plugin.processBidirectionalText=t.processBidirectionalText,i.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return lt.prototype.setReferrer=function(t,e){this.referrer=e},lt.prototype.setImages=function(t,e,r){this.availableImages[t]=e,r()},lt.prototype.setLayers=function(t,e,r){this.getLayerIndex(t).replace(e),r()},lt.prototype.updateLayers=function(t,e,r){this.getLayerIndex(t).update(e.layers,e.removedIds),r()},lt.prototype.loadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).loadTile(e,r)},lt.prototype.loadDEMTile=function(t,e,r){this.getDEMWorkerSource(t,e.source).loadTile(e,r)},lt.prototype.reloadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).reloadTile(e,r)},lt.prototype.abortTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).abortTile(e,r)},lt.prototype.removeTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).removeTile(e,r)},lt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},lt.prototype.removeSource=function(t,e,r){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var n=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==n.removeSource?n.removeSource(e,r):r()}},lt.prototype.loadWorkerSource=function(t,e,r){try{this.self.importScripts(e.url),r()}catch(t){r(t.toString())}},lt.prototype.loadRTLTextPlugin=function(t,e,r){try{i.plugin.isLoaded()||(this.self.importScripts(e),r(i.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(i){r(i.toString())}},lt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},lt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new s),e},lt.prototype.getWorkerSource=function(t,e,r){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][r]){var o={send:function send(e,r,o){n.actor.send(e,r,o,t)}};this.workerSources[t][e][r]=new this.workerSourceTypes[e](o,this.getLayerIndex(t),this.getAvailableImages(t))}return this.workerSources[t][e][r]},lt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new D),this.demWorkerSources[t][e]},lt.prototype.enforceCacheSizeLimit=function(t,e){i.enforceCacheSizeLimit(e)},"undefined"!=typeof WorkerGlobalScope&&void 0!==i.window&&i.window instanceof WorkerGlobalScope&&(i.window.worker=new lt(i.window)),lt})),define(0,(function(t){var l=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{e=new Worker(n),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===r[t]&&(r[t]=function(t){var r=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(t)),r[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),c={create:function create(e,r,n){var o=t.window.document.createElement(e);return void 0!==r&&(o.className=r),n&&n.appendChild(o),o},createNS:function createNS(e,r){return t.window.document.createElementNS(e,r)}},p=t.window.document.documentElement.style;function r(t){if(!p)return t[0];for(var e=0;e<t.length;e++)if(t[e]in p)return t[e];return t[0]}var f,d=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);c.disableDrag=function(){p&&d&&(f=p[d],p[d]="none")},c.enableDrag=function(){p&&d&&(p[d]=f)};var y=r(["transform","WebkitTransform"]);c.setTransform=function(t,e){t.style[y]=e};var _=!1;try{var b=Object.defineProperty({},"passive",{get:function get(){_=!0}});t.window.addEventListener("test",b,b),t.window.removeEventListener("test",b,b)}catch(t){_=!1}c.addEventListener=function(t,e,r,n){void 0===n&&(n={}),"passive"in n&&_?t.addEventListener(e,r,n):t.addEventListener(e,r,n.capture)},c.removeEventListener=function(t,e,r,n){void 0===n&&(n={}),"passive"in n&&_?t.removeEventListener(e,r,n):t.removeEventListener(e,r,n.capture)};var w=function u(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}c.suppressClick=function(){t.window.addEventListener("click",w,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",w,!0)}),0)},c.mousePos=function(e,r){var n=e.getBoundingClientRect(),o=t.window.TouchEvent&&r instanceof t.window.TouchEvent?r.touches[0]:r;return new t.Point(o.clientX-n.left-e.clientLeft,o.clientY-n.top-e.clientTop)},c.touchPos=function(e,r){for(var n=e.getBoundingClientRect(),o=[],i="touchend"===r.type?r.changedTouches:r.touches,a=0;a<i.length;a++)o.push(new t.Point(i[a].clientX-n.left-e.clientLeft,i[a].clientY-n.top-e.clientTop));return o},c.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},c.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var E=function(e){function i(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,r=this.requestors;e<r.length;e+=1){var n=r[e],o=n.ids,i=n.callback;this._notify(o,i)}this.requestors=[]}},i.prototype.getImage=function(t){return this.images[t]},i.prototype.addImage=function(t,e){this.images[t]=e},i.prototype.updateImage=function(t,e){var r=this.images[t];e.version=r.version+1,this.images[t]=e,this.updatedImages[t]=!0},i.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(t,e){var r=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var i=o[n];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(t,e):this.requestors.push({ids:t,callback:e})},i.prototype._notify=function(e,r){for(var n={},o=0,i=e;o<i.length;o+=1){var a=i[o];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},i.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},i.prototype.getPattern=function(e){var r=this.patterns[e],n=this.getImage(e);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new t.ImagePosition(o,n);this.patterns[e]={bin:o,position:i}}return this._updatePatternAtlas(),this.patterns[e].position},i.prototype.bind=function(e){var r=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var e=[];for(var r in this.patterns)e.push(this.patterns[r].bin);var n=t.potpack(e),o=n.w,i=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:i||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,p=this.images[s].data,f=p.width,d=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:l,y:c},{width:f,height:d}),t.RGBAImage.copy(p,a,{x:0,y:d-1},{x:l,y:c-1},{width:f,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:l,y:c+d},{width:f,height:1}),t.RGBAImage.copy(p,a,{x:f-1,y:0},{x:l-1,y:c},{width:1,height:d}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:l+f,y:c},{width:1,height:d})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(t){for(var e=0,r=t;e<r.length;e+=1){var n=r[e];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var o=this.images[n];h(o)&&this.updateImage(n,o)}}},i}(t.Evented),P=m,T=m,D=1e20;function m(t,e,r,n,o,i){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(t,e,r,n,o,i,a){for(var s=0;s<e;s++){for(var u=0;u<r;u++)n[u]=t[u*e+s];for(v(n,o,i,a,r),u=0;u<r;u++)t[u*e+s]=o[u]}for(u=0;u<r;u++){for(s=0;s<e;s++)n[s]=t[u*e+s];for(v(n,o,i,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(o[s])}}function v(t,e,r,n,o){r[0]=0,n[0]=-D,n[1]=+D;for(var i=1,a=0;i<o;i++){for(var s=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);s<=n[a];)a--,s=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,n[a]=s,n[a+1]=+D}for(i=0,a=0;i<o;i++){for(;n[a+1]<i;)a++;e[i]=(i-r[a])*(i-r[a])+t[r[a]]}}m.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?D:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?D:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var i=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r},P.default=T;var M=function y(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};M.prototype.setURL=function(t){this.url=t},M.prototype.getGlyphs=function(e,r){var n=this,o=[];for(var i in e)for(var a=0,s=e[i];a<s.length;a+=1){var u=s[a];o.push({stack:i,id:u})}t.asyncAll(o,(function(t,e){var r=t.stack,o=t.id,i=n.entries[r];i||(i=n.entries[r]={glyphs:{},requests:{}});var a=i.glyphs[o];if(void 0===a){if(a=n._tinySDF(i,r,o))return i.glyphs[o]=a,void e(null,{stack:r,id:o,glyph:a});var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var u=i.requests[s];u||(u=i.requests[s]=[],M.loadGlyphRange(r,s,n.url,n.requestManager,(function(t,e){if(e)for(var r in e)n._doesCharSupportLocalGlyph(+r)||(i.glyphs[+r]=e[+r]);for(var o=0,a=u;o<a.length;o+=1)(0,a[o])(t,e);delete i.requests[s]}))),u.push((function(t,n){t?e(t):n&&e(null,{stack:r,id:o,glyph:n[o]||null})}))}}else e(null,{stack:r,id:o,glyph:a})}),(function(t,e){if(t)r(t);else if(e){for(var n={},o=0,i=e;o<i.length;o+=1){var a=i[o],s=a.stack,u=a.id,l=a.glyph;(n[s]||(n[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}r(null,n)}}))},M.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},M.prototype._tinySDF=function(e,r,n){var o=this.localIdeographFontFamily;if(o&&this._doesCharSupportLocalGlyph(n)){var i=e.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),i=e.tinySDF=new M.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=function(e,r,n,o,i){var a=256*r,s=a+255,u=o.transformRequest(o.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,r){if(e)i(e);else if(r){for(var n={},o=0,a=t.parseGlyphPBF(r);o<a.length;o+=1){var s=a[o];n[s.id]=s}i(null,n)}}))},M.TinySDF=P;var A=function x(){this.specification=t.styleSpec.light.position};A.prototype.possiblyEvaluate=function(e,r){return t.sphericalToCartesian(e.expression.evaluate(r))},A.prototype.interpolate=function(e,r,n){return{x:t.number(e.x,r.x,n),y:t.number(e.y,r.y,n),z:t.number(e.z,r.z,n)}};var R=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new A,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),L=function(e){function i(r){e.call(this),this._transitionable=new t.Transitionable(R),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e,r){if(void 0===r&&(r={}),!this._validate(t.validateLight,e,r))for(var n in e){var o=e[n];t.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),o):this._transitionable.setValue(n,o)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,r,n){return(!n||!1!==n.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),N=function E(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};N.prototype.getDash=function(t,e){var r=t.join(",")+String(e);return this.positions[r]||(this.positions[r]=this.addDash(t,e)),this.positions[r]},N.prototype.addDash=function(e,r){var n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var i=0,a=0;a<e.length;a++)i+=e[a];for(var s=this.width/i,u=s/2,l=e.length%2==1,c=-n;c<=n;c++)for(var p=this.nextRow+n+c,f=this.width*p,d=l?-e[e.length-1]:0,h=e[0],m=1,y=0;y<this.width;y++){for(;h<y/s;)d=h,h+=e[m],l&&m===e.length-1&&(h+=e[0]),m++;var g=Math.abs(y-d*s),v=Math.abs(y-h*s),_=Math.min(g,v),b=m%2==1,S=void 0;if(r){var x=n?c/n*(u+1):0;if(b){var w=u-Math.abs(x);S=Math.sqrt(_*_+w*w)}else S=u-Math.sqrt(_*_+x*x)}else S=(b?1:-1)*_;this.data[3+4*(f+y)]=Math.max(0,Math.min(255,S+128))}var E={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=o,this.dirty=!0,E},N.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var U=function e(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),i=0;i<o.length;i++){var a=o[i],s=new e.Actor(a,n,this.id);s.name="Worker "+i,this.actors.push(s)}};function I(e,n,o){var i=function r(i,a){if(i)return o(i);if(a){var s=t.pick(t.extend(a,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(s.vectorLayers=a.vector_layers,s.vectorLayerIds=s.vectorLayers.map((function(t){return t.id}))),e.url&&(s.tiles=n.canonicalizeTileset(s,e.url)),o(null,s)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}U.prototype.broadcast=function(e,r,n){n=n||function(){},t.asyncAll(this.actors,(function(t,n){t.send(e,r,n)}),n)},U.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},U.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},U.Actor=t.Actor;var z=function C(e,r,n){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=r||0,this.maxzoom=n||24};z.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},z.prototype.contains=function(e){var r=Math.pow(2,e.z),n=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*r),o=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*r),i=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*r);return e.x>=n&&e.x<i&&e.y>=o&&e.y<a};var j=function(e){function i(r,n,o,i){if(e.call(this),this.id=r,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(r,n){e._tileJSONRequest=null,e._loaded=!0,r?e.fire(new t.ErrorEvent(r)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new z(n.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(n.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(n.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,r){var n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,null),o={request:this.map._requestManager.transformRequest(n,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(n,o){return delete e.request,e.aborted?r(null):n&&404!==n.status?r(n):(o&&o.resourceTiming&&(e.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&o&&e.setExpiryData(o),e.loadVectorData(o,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=r:e.request=e.actor.send("reloadTile",o,a.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",o,a.bind(this)))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),G=function(e){function i(r,n,o,i){e.call(this),this.id=r,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(r,n){e._tileJSONRequest=null,e._loaded=!0,r?e.fire(new t.ErrorEvent(r)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new z(n.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(n.tiles),t.postMapLoadEvent(n.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,r){var n=this,o=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(o,t.ResourceType.Tile),(function(o,i){if(delete e.request,e.aborted)e.state="unloaded",r(null);else if(o)e.state="errored",r(o);else if(i){n.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var a=n.map.painter.context,s=a.gl;e.texture=n.map.painter.getTileTexture(i.width),e.texture?e.texture.update(i,{useMipmap:!0}):(e.texture=new t.Texture(a,i,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),V=function(e){function i(r,n,o,i){e.call(this,r,n,o,i),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,n){var o=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function r(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(o,t.ResourceType.Tile),function(o,i){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(o)e.state="errored",n(o);else if(i){this.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var a=t.browser.getImageData(i,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,r.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var r=e.canonical,n=Math.pow(2,r.z),o=(r.x-1+n)%n,i=0===r.x?e.wrap-1:e.wrap,a=(r.x+1+n)%n,s=r.x+1===n?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),u},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},i}(G),W=function(e){function i(r,n,o,i){e.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(i),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(n.clusterRadius||50)*a,log:!1},clusterProperties:n.clusterProperties},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)e.fire(new t.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var r=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)r.fire(new t.ErrorEvent(e));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new t.Event("data",n))}})),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},i.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},i.prototype.getClusterLeaves=function(t,e,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:r},n),this},i.prototype._updateWorkerData=function(e){var r=this;this._loaded=!1;var n=t.extend({},this.workerOptions),o=this._data;"string"==typeof o?(n.request=this.map._requestManager.transformRequest(t.browser.resolveURL(o),t.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.actor.send(this.type+".loadData",n,(function(t,o){r._removed||o&&o.abandoned||(r._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[r.id]&&(r._resourceTiming=o.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),e(t))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(e,r){var n=this,o=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var i={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.request=this.actor.send(o,i,(function(t,i){return delete e.request,e.unloadVectorData(),e.aborted?r(null):t?r(t):(e.loadVectorData(i,n.map.painter,"reloadTile"===o),r(null))}))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),q=function(e){function i(t,r,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=r}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(e,r){var n=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(o,i){n._loaded=!0,o?n.fire(new t.ErrorEvent(o)):i&&(n.image=i,e&&(n.coordinates=e),r&&r(),n._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){var r=this;this.coordinates=e;var n=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var r=1/0,n=1/0,o=-1/0,i=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];r=Math.min(r,u.x),n=Math.min(n,u.y),o=Math.max(o,u.x),i=Math.max(i,u.y)}var l=o-r,c=i-n,p=Math.max(l,c),f=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),d=Math.pow(2,f);return new t.CanonicalTileID(f,Math.floor((r+o)/2*d),Math.floor((n+i)/2*d))}(n),this.minzoom=this.maxzoom=this.tileID.z;var o=n.map((function(t){return r.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(o[2].x,o[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,r=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),H=function(e){function i(t,r,n,o){e.call(this,t,r,n,o),this.roundZoom=!0,this.type="video",this.options=r}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,o=r.urls;n<o.length;n+=1){var i=o[n];this.urls.push(this.map._requestManager.transformRequest(i,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(r,n){e._loaded=!0,r?e.fire(new t.ErrorEvent(r)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(e){if(this.video){var r=this.video.seekable;e<r.start(0)||e>r.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=e}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,r=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(q),K=function(e){function i(r,n,o,i){e.call(this,r,n,o,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var i=this.tiles[o];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var r=e[t];if(isNaN(r)||r<=0)return!0}return!1},i}(q),Y={vector:j,raster:G,"raster-dem":V,geojson:W,video:H,image:q,canvas:K},Z=function k(e,r,n,o){var i=new Y[r.type](e,r,n,o);if(i.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+i.id);return t.bindAll(["load","abort","unload","serialize","prepare"],i),i};function B(e,r){var n=t.identity([]);return t.translate(n,n,[1,1,0]),t.scale(n,n,[.5*e.width,.5*e.height,1]),t.multiply(n,n,e.calculatePosMatrix(r.toUnwrapped()))}function O(t,e,r,n,o){var i=function(t,e,r){if(t)for(var n=0,o=t;n<o.length;n+=1){var i=e[o[n]];if(i&&i.source===r&&"fill-extrusion"===i.type)return!0}else for(var a in e){var s=e[a];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,e,t.id),a=o.maxPitchScaleFactor(),s=t.tilesIn(r,a,i);s.sort(F);for(var u=[],l=0,c=s;l<c.length;l+=1){var p=c[l];u.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,o,a,B(t.transform,p.tileID))})}var f=function(t){for(var e={},r={},n=0,o=t;n<o.length;n+=1){var i=o[n],a=i.queryResults,s=i.wrappedTileID,u=r[s]=r[s]||{};for(var l in a)for(var c=a[l],p=u[l]=u[l]||{},f=e[l]=e[l]||[],d=0,h=c;d<h.length;d+=1){var m=h[d];p[m.featureIndex]||(p[m.featureIndex]=!0,f.push(m))}}return e}(u);for(var d in f)f[d].forEach((function(e){var r=e.feature,n=t.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return f}function F(t,e){var r=t.tileID,n=e.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var X=function U(t,e){this.max=t,this.onRemove=e,this.reset()};X.prototype.reset=function(){for(var t in this.data)for(var e=0,r=this.data[t];e<r.length;e+=1){var n=r[e];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},X.prototype.add=function(t,e,r){var n=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var i={value:e,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((function(){n.remove(t,i)}),r)),this.data[o].push(i),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},X.prototype.has=function(t){return t.wrapped().key in this.data},X.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},X.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},X.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},X.prototype.remove=function(t,e){if(!this.has(t))return this;var r=t.wrapped().key,n=void 0===e?0:this.data[r].indexOf(e),o=this.data[r][n];return this.data[r].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(o.value),this.order.splice(this.order.indexOf(r),1),this},X.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var Q=function N(t,e,r){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Q.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Q.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},Q.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var $={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},J=function V(t,e,r,n){this.length=e.length,this.attributes=r,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};J.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},J.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},J.prototype.enableAttributes=function(t,e){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},J.prototype.setVertexAttribPointers=function(t,e,r){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],i=e.attributes[o.name];void 0!==i&&t.vertexAttribPointer(i,o.components,t[$[o.type]],!1,this.itemSize,o.offset+this.itemSize*(r||0))}},J.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var tt=function q(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};tt.prototype.get=function(){return this.current},tt.prototype.set=function(t){},tt.prototype.getDefault=function(){return this.default},tt.prototype.setDefault=function(){this.set(this.default)};var et=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(tt),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(tt),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(tt),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(tt),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(tt),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(tt),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(tt),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(tt),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(tt),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(tt),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(tt),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(tt),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(tt),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(tt),mt=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(tt),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(tt),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(tt),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(tt),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(tt),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(tt),St=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(tt),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(tt),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(tt),Et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(tt),Pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(tt),Ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(tt),At=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(tt),Lt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(tt),It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(tt),kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(tt),Bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(tt),Ut=function(t){function e(e,r){t.call(this,e),this.context=e,this.parent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e}(tt),Ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(Ut),ae=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(Ut),fe=function Tt(t,e,r){this.context=t,this.width=e,this.height=r;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new Ht(t,o),this.depthAttachment=new ae(t,o)};fe.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var r=this.depthAttachment.get();r&&t.deleteRenderbuffer(r),t.deleteFramebuffer(this.framebuffer)};var de=function It(t,e,r){this.func=t,this.mask=e,this.range=r};de.ReadOnly=!1,de.ReadWrite=!0,de.disabled=new de(519,de.ReadOnly,[0,1]);var he=function Ct(t,e,r,n,o,i){this.test=t,this.ref=e,this.mask=r,this.fail=n,this.depthFail=o,this.pass=i};he.disabled=new he({func:519,mask:0},0,0,7680,7680,7680);var _e=function St(t,e,r){this.blendFunction=t,this.blendColor=e,this.mask=r};_e.disabled=new _e(_e.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),_e.unblended=new _e(_e.Replace,t.Color.transparent,[!0,!0,!0,!0]),_e.alphaBlended=new _e([1,771],t.Color.transparent,[!0,!0,!0,!0]);var be=function Pt(t,e,r){this.enable=t,this.mode=e,this.frontFace=r};be.disabled=new be(!1,1029,2305),be.backCCW=new be(!0,1029,2305);var xe=function zt(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new et(this),this.clearDepth=new rt(this),this.clearStencil=new nt(this),this.colorMask=new ot(this),this.depthMask=new it(this),this.stencilMask=new at(this),this.stencilFunc=new st(this),this.stencilOp=new ut(this),this.stencilTest=new lt(this),this.depthRange=new ct(this),this.depthTest=new pt(this),this.depthFunc=new ft(this),this.blend=new dt(this),this.blendFunc=new ht(this),this.blendColor=new mt(this),this.blendEquation=new yt(this),this.cullFace=new gt(this),this.cullFaceSide=new vt(this),this.frontFace=new _t(this),this.program=new bt(this),this.activeTexture=new St(this),this.viewport=new xt(this),this.bindFramebuffer=new wt(this),this.bindRenderbuffer=new Et(this),this.bindTexture=new Pt(this),this.bindVertexBuffer=new Ct(this),this.bindElementBuffer=new At(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Lt(this),this.pixelStoreUnpack=new It(this),this.pixelStoreUnpackPremultiplyAlpha=new kt(this),this.pixelStoreUnpackFlipY=new Bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};xe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},xe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},xe.prototype.createIndexBuffer=function(t,e){return new Q(this,t,e)},xe.prototype.createVertexBuffer=function(t,e,r){return new J(this,t,e,r)},xe.prototype.createRenderbuffer=function(t,e,r){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,r),this.bindRenderbuffer.set(null),o},xe.prototype.createFramebuffer=function(t,e){return new fe(this,t,e)},xe.prototype.clear=function(t){var e=t.color,r=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(o|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(o)},xe.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},xe.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},xe.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},xe.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,_e.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},xe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var we=function(e){function i(r,n,o){var i=this;e.call(this),this.id=r,this.dispatcher=o,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))})),this.on("error",(function(){i._sourceErrored=!0})),this._source=Z(r,n,o,this),this._tiles={},this._cache=new X(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[e];r.upload(t),r.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Dt)},i.prototype.getRenderableIds=function(e){var r=this,n=[];for(var o in this._tiles)this._isIdRenderable(+o,e)&&n.push(+o);return e?n.sort((function(e,n){var o=r._tiles[e].tileID,i=r._tiles[n].tileID,a=new t.Point(o.canonical.x,o.canonical.y)._rotate(r.transform.angle),s=new t.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle);return o.overscaledZ-i.overscaledZ||s.y-a.y||s.x-a.x})):n.sort(Dt)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var r=this._tiles[t];r&&("loading"!==r.state&&(r.state=e),this._loadTile(r,this._tileLoaded.bind(this,r,t,e)))},i.prototype._tileLoaded=function(e,r,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(r,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),r=0;r<e.length;r++){var n=e[r];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);a(t,o),a(o,t)}}function a(t,e){t.needsHillshadePrepare=!0;var r=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),i=e.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,r,n),t.neighboringTiles&&t.neighboringTiles[i]&&(t.neighboringTiles[i].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(t,e,r,n){for(var o in this._tiles){var i=this._tiles[o];if(!(n[o]||!i.hasData()||i.tileID.overscaledZ<=e||i.tileID.overscaledZ>r)){for(var a=i.tileID;i&&i.tileID.overscaledZ>e+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){n[a.key]=a;break}}}},i.prototype.findLoadedParent=function(t,e){for(var r=t.overscaledZ-1;r>=e;r--){var n=t.scaledTo(r);if(!n)return;var o=String(n.key),i=this._tiles[o];if(i&&i.hasData())return i;if(this._cache.has(n))return this._cache.get(n)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),r=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,r=Math.round(e);if(this._prevLng=t,r){var n={};for(var o in this._tiles){var i=this._tiles[o];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},i.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(n=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter((function(t){return r._source.hasTile(t)})))):n=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-i.maxOverzooming,this._source.minzoom),s=Math.max(o+i.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(n,o);if(Mt(this._source.type)){for(var l={},c={},p=0,f=Object.keys(u);p<f.length;p+=1){var d=f[p],h=u[d],m=this._tiles[d];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var y=this.findLoadedParent(h,a);y&&(this._addTile(y.tileID),l[y.tileID.key]=y.tileID),c[d]=h}}for(var g in this._retainLoadedChildren(c,o,s,u),l)u[g]||(this._coveredTiles[g]=!0,u[g]=l[g])}for(var v in u)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,u);_<b.length;_+=1){var S=b[_],x=this._tiles[S];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(S)}}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},i.prototype._updateRetainedTiles=function(t,e){for(var r={},n={},o=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},u=0,l=t;u<l.length;u+=1){var c=l[u],p=this._addTile(c);r[c.key]=c,p.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var f=0,d=t;f<d.length;f+=1){var h=d[f],m=this._tiles[h.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var y=h.children(this._source.maxzoom)[0],g=this.getTile(y);if(g&&g.hasData()){r[y.key]=y;continue}}else{var v=h.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var _=m.wasRequested(),b=h.overscaledZ-1;b>=o;--b){var S=h.scaledTo(b);if(n[S.key])break;if(n[S.key]=!0,!(m=this.getTile(S))&&_&&(m=this._addTile(S)),m&&(r[S.key]=S,_=m.wasRequested(),m.hasData()))break}}}return r},i.prototype._addTile=function(e){var r=this._tiles[e.key];if(r)return r;(r=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,r),r.tileID=e,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,r)));var n=Boolean(r);return n||(r=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,e.key,r.state))),r?(r.uses++,this._tiles[e.key]=r,n||this._source.fire(new t.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},i.prototype._setTileReloadTimer=function(t,e){var r=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout((function(){r._reloadTile(t,"expired"),delete r._timers[t]}),n))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,r,n){var o=this,i=[],a=this.transform;if(!a)return i;for(var s=n?a.getCameraQueryGeometry(e):e,u=e.map((function(t){return a.pointCoordinate(t)})),l=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),p=1/0,f=1/0,d=-1/0,h=-1/0,m=0,y=l;m<y.length;m+=1){var g=y[m];p=Math.min(p,g.x),f=Math.min(f,g.y),d=Math.max(d,g.x),h=Math.max(h,g.y)}for(var _=function v(e){var n=o._tiles[c[e]];if(!n.holdingForFade()){var s=n.tileID,m=Math.pow(2,a.zoom-n.tileID.overscaledZ),y=r*n.queryPadding*t.EXTENT/n.tileSize/m,g=[s.getTilePoint(new t.MercatorCoordinate(p,f)),s.getTilePoint(new t.MercatorCoordinate(d,h))];if(g[0].x-y<t.EXTENT&&g[0].y-y<t.EXTENT&&g[1].x+y>=0&&g[1].y+y>=0){var v=u.map((function(t){return s.getTilePoint(t)})),_=l.map((function(t){return s.getTilePoint(t)}));i.push({tile:n,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:m})}}},b=0;b<c.length;b++)_(b);return i},i.prototype.getVisibleCoordinates=function(t){for(var e=this,r=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),n=0,o=r;n<o.length;n+=1){var i=o[n];i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}return r},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Mt(this._source.type))for(var e in this._tiles){var r=this._tiles[e];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=t.browser.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,r){t=t||"_geojsonTileLayer",this._state.updateState(t,e,r)},i.prototype.removeFeatureState=function(t,e,r){t=t||"_geojsonTileLayer",this._state.removeFeatureState(t,e,r)},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);function Dt(t,e){return t%32-e%32||e-t}function Mt(t){return"raster"===t||"image"===t||"video"===t}function Rt(){return new t.window.Worker(Hn.workerUrl)}we.maxOverzooming=10,we.maxUnderzooming=3;var Ee=function At(){this.active={}};Ee.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Ee.workerCount;)this.workers.push(new Rt);return this.active[t]=!0,this.workers.slice()},Ee.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Pe,Ce=Math.floor(t.browser.hardwareConcurrency/2);function Ot(e,r){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.refProperties.forEach((function(t){t in r&&(n[t]=r[t])})),n}function Ft(t){t=t.slice();for(var e=Object.create(null),r=0;r<t.length;r++)e[t[r].id]=t[r];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=Ot(t[n],e[t[n].ref]));return t}Ee.workerCount=Math.max(Math.min(Ce,6),1);var Te={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Nt(t,e,r){r.push({command:Te.addSource,args:[t,e[t]]})}function Zt(t,e,r){e.push({command:Te.removeSource,args:[t]}),r[t]=!0}function Vt(t,e,r,n){Zt(t,r,n),Nt(t,e,r)}function qt(e,r,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],r[n][o]))return!1;for(o in r[n])if(r[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],r[n][o]))return!1;return!0}function jt(e,r,n,o,i,a){var s;for(s in r=r||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}))}function Gt(t){return t.id}function Wt(t,e){return t[e.id]=e,t}var De=function Ht(t,e,r){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(e/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Kt(e,r,n,o,i){var a=t.create();return r?(t.scale(a,a,[1/i,1/i,1]),n||t.rotateZ(a,a,o.angle)):t.multiply(a,o.labelPlaneMatrix,e),a}function Jt(e,r,n,o,i){if(r){var a=t.clone(e);return t.scale(a,a,[i,i,1]),n||t.rotateZ(a,a,-o.angle),a}return o.glCoordMatrix}function Yt(e,r){var n=[e.x,e.y,0,1];se(n,n,r);var o=n[3];return{point:new t.Point(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function Qt(t,e){var r=t[0]/t[3],n=t[1]/t[3];return r>=-e[0]&&r<=e[0]&&n>=-e[1]&&n<=e[1]}function $t(e,r,n,o,i,a,s,u){var l=o?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],f=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;f.clear();for(var d=e.lineVertexArray,h=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,y=!1,g=0;g<h.length;g++){var v=h.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!y)ne(v.numGlyphs,f);else{y=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,r),Qt(_,p)){var b=.5+_[3]/n.transform.cameraToCenterDistance*.5,S=t.evaluateSizeForFeature(l,c,v),x=s?S*b:S/b,w=new t.Point(v.anchorX,v.anchorY),E=Yt(w,i).point,P={},C=ie(v,x,!1,u,r,i,a,e.glyphOffsetArray,d,f,E,w,P,m);y=C.useVertical,(C.notEnoughRoom||y||C.needsFlipping&&ie(v,x,!0,u,r,i,a,e.glyphOffsetArray,d,f,E,w,P,m).notEnoughRoom)&&ne(v.numGlyphs,f)}else ne(v.numGlyphs,f)}}o?e.text.dynamicLayoutVertexBuffer.updateData(f):e.icon.dynamicLayoutVertexBuffer.updateData(f)}function te(t,e,r,n,o,i,a,s,u,l,c,p){var f=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(f-1),g=re(t*m,r,n,o,i,a,s.segment,d,h,u,l,c,p);if(!g)return null;var v=re(t*y,r,n,o,i,a,s.segment,d,h,u,l,c,p);return v?{first:g,last:v}:null}function ee(e,r,n,o){return e===t.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*o?{useVertical:!0}:(e===t.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function ie(e,r,n,o,i,a,s,u,l,c,p,f,d,h){var m,y=r/24,g=e.lineOffsetX*y,v=e.lineOffsetY*y;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,S=e.lineStartIndex+e.lineLength,x=te(y,u,g,v,n,p,f,e,l,a,d,!1);if(!x)return{notEnoughRoom:!0};var w=Yt(x.first.point,s).point,E=Yt(x.last.point,s).point;if(o&&!n){var P=ee(e.writingMode,w,E,h);if(P)return P}m=[x.first];for(var C=e.glyphStartIndex+1;C<_-1;C++)m.push(re(y*u.getoffsetX(C),g,v,n,p,f,e.segment,b,S,l,a,d,!1));m.push(x.last)}else{if(o&&!n){var T=Yt(f,i).point,D=e.lineStartIndex+e.segment+1,M=new t.Point(l.getx(D),l.gety(D)),A=Yt(M,i),R=A.signedDistanceFromCamera>0?A.point:oe(f,M,T,1,i),L=ee(e.writingMode,T,R,h);if(L)return L}var I=re(y*u.getoffsetX(e.glyphStartIndex),g,v,n,p,f,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,d,!1);if(!I)return{notEnoughRoom:!0};m=[I]}for(var O=0,k=m;O<k.length;O+=1){var F=k[O];t.addDynamicAttributes(c,F.point,F.angle)}return{}}function oe(t,e,r,n,o){var i=Yt(t.add(t.sub(e)._unit()),o).point,a=r.sub(i);return r.add(a._mult(n/a.mag()))}function re(e,r,n,o,i,a,s,u,l,c,p,f,d){var h=o?e-r:e+r,m=h>0?1:-1,y=0;o&&(m*=-1,y=Math.PI),m<0&&(y+=Math.PI);for(var g=m>0?u+s:u+s+1,v=g,_=i,b=i,S=0,x=0,w=Math.abs(h);S+x<=w;){if((g+=m)<u||g>=l)return null;if(b=_,void 0===(_=f[g])){var E=new t.Point(c.getx(g),c.gety(g)),P=Yt(E,p);if(P.signedDistanceFromCamera>0)_=f[g]=P.point;else{var C=g-m;_=oe(0===S?a:new t.Point(c.getx(C),c.gety(C)),E,b,w-S+1,p)}}S+=x,x=b.dist(_)}var T=(w-S)/x,D=_.sub(b),M=D.mult(T)._add(b);return M._add(D._unit()._perp()._mult(n*m)),{point:M,angle:y+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:d?{prevTileDistance:g-m===v?0:c.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:w-S}:null}}De.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},De.prototype.insert=function(t,e,r,n,o){this._forEachCell(e,r,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},De.prototype.insertCircle=function(t,e,r,n){this._forEachCell(e-n,r-n,e+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(r),this.circles.push(n)},De.prototype._insertBoxCell=function(t,e,r,n,o,i){this.boxCells[o].push(i)},De.prototype._insertCircleCell=function(t,e,r,n,o,i){this.circleCells[o].push(i)},De.prototype._query=function(t,e,r,n,o,i){if(r<0||t>this.width||n<0||e>this.height)return!o&&[];var a=[];if(t<=0&&e<=0&&this.width<=r&&this.height<=n){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],p=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-p,y1:c-p,x2:l+p,y2:c+p})}return i?a.filter(i):a}var f={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,r,n,this._queryCell,a,f,i),o?a.length>0:a},De.prototype._queryCircle=function(t,e,r,n,o){var i=t-r,a=t+r,s=e-r,u=e+r;if(a<0||i>this.width||u<0||s>this.height)return!n&&[];var l=[],c={hitTest:n,circle:{x:t,y:e,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,a,u,this._queryCellCircle,l,c,o),n?l.length>0:l},De.prototype.query=function(t,e,r,n,o){return this._query(t,e,r,n,!1,o)},De.prototype.hitTest=function(t,e,r,n,o){return this._query(t,e,r,n,!0,o)},De.prototype.hitTestCircle=function(t,e,r,n){return this._queryCircle(t,e,r,!0,n)},De.prototype._queryCell=function(t,e,r,n,o,i,a,s){var u=a.seenUids,l=this.boxCells[o];if(null!==l)for(var c=this.bboxes,p=0,f=l;p<f.length;p+=1){var d=f[p];if(!u.box[d]){u.box[d]=!0;var h=4*d;if(t<=c[h+2]&&e<=c[h+3]&&r>=c[h+0]&&n>=c[h+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[d],x1:c[h],y1:c[h+1],x2:c[h+2],y2:c[h+3]})}}}var m=this.circleCells[o];if(null!==m)for(var y=this.circles,g=0,v=m;g<v.length;g+=1){var _=v[g];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(y[b],y[b+1],y[b+2],t,e,r,n)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return i.push(!0),!0;var S=y[b],x=y[b+1],w=y[b+2];i.push({key:this.circleKeys[_],x1:S-w,y1:x-w,x2:S+w,y2:x+w})}}}},De.prototype._queryCellCircle=function(t,e,r,n,o,i,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var p=this.bboxes,f=0,d=c;f<d.length;f+=1){var h=d[f];if(!l.box[h]){l.box[h]=!0;var m=4*h;if(this._circleAndRectCollide(u.x,u.y,u.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[h])))return i.push(!0),!0}}var y=this.circleCells[o];if(null!==y)for(var g=this.circles,v=0,_=y;v<_.length;v+=1){var b=_[v];if(!l.circle[b]){l.circle[b]=!0;var S=3*b;if(this._circlesCollide(g[S],g[S+1],g[S+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return i.push(!0),!0}}},De.prototype._forEachCell=function(t,e,r,n,o,i,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(r),p=this._convertToYCellCoord(n),f=u;f<=c;f++)for(var d=l;d<=p;d++){var h=this.xCellCount*d+f;if(o.call(this,t,e,r,n,h,i,a,s))return}},De.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},De.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},De.prototype._circlesCollide=function(t,e,r,n,o,i){var a=n-t,s=o-e,u=r+i;return u*u>a*a+s*s},De.prototype._circleAndRectCollide=function(t,e,r,n,o,i,a){var s=(i-n)/2,u=Math.abs(t-(n+s));if(u>s+r)return!1;var l=(a-o)/2,c=Math.abs(e-(o+l));if(c>l+r)return!1;if(u<=s||c<=l)return!0;var p=u-s,f=c-l;return p*p+f*f<=r*r};var Me=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ne(t,e){for(var r=0;r<t;r++){var n=e.length;e.resize(n+4),e.float32.set(Me,3*n)}}function se(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t[3]=r[3]*n+r[7]*o+r[15],t}var Re=function le(t,e,r){void 0===e&&(e=new De(t.width+200,t.height+200,25)),void 0===r&&(r=new De(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=r,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function ce(t,e,r){t[e+4]=r?1:0}function ue(e,r,n){return r*(t.EXTENT/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}Re.prototype.placeCollisionBox=function(t,e,r,n,o){var i=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),a=r*i.perspectiveRatio,s=t.x1*a+i.point.x,u=t.y1*a+i.point.y,l=t.x2*a+i.point.x,c=t.y2*a+i.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,o)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},Re.prototype.approximateTileDistance=function(t,e,r,n,o){var i=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*r;return t.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(e))},Re.prototype.placeCollisionCircles=function(e,r,n,o,i,a,s,u,l,c,p,f,d){var h=[],m=this.projectAnchor(l,i.anchorX,i.anchorY),y=u/24,g=i.lineOffsetX*u,v=i.lineOffsetY*u,_=new t.Point(i.anchorX,i.anchorY),b=te(y,s,g,v,!1,Yt(_,c).point,_,i,a,c,{},!0),S=!1,x=!1,w=!0,E=m.perspectiveRatio*o,P=1/(o*n),C=0,T=0;b&&(C=this.approximateTileDistance(b.first.tileDistance,b.first.angle,P,m.cameraDistance,f),T=this.approximateTileDistance(b.last.tileDistance,b.last.angle,P,m.cameraDistance,f));for(var D=0;D<e.length;D+=5){var M=e[D],A=e[D+1],R=e[D+2],L=e[D+3];if(!b||L<-C||L>T)ce(e,D,!1);else{var I=this.projectPoint(l,M,A),O=R*E;if(h.length>0){var k=I.x-h[h.length-4],F=I.y-h[h.length-3];if(O*O*2>k*k+F*F&&D+8<e.length){var N=e[D+8];if(N>-C&&N<T){ce(e,D,!1);continue}}}var B=D/5;h.push(I.x,I.y,O,B),ce(e,D,!0);var U=I.x-O,z=I.y-O,j=I.x+O,G=I.y+O;if(w=w&&this.isOffscreen(U,z,j,G),x=x||this.isInsideGrid(U,z,j,G),!r&&this.grid.hitTestCircle(I.x,I.y,O,d)){if(!p)return{circles:[],offscreen:!1};S=!0}}}return{circles:S||!x?[]:h,offscreen:w}},Re.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,o=1/0,i=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.Point(l.x+100,l.y+100);n=Math.min(n,c.x),o=Math.min(o,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y),r.push(c)}for(var p={},f={},d=0,h=this.grid.query(n,o,i,a).concat(this.ignoredGrid.query(n,o,i,a));d<h.length;d+=1){var m=h[d],y=m.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var g=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(r,g)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===f[y.bucketInstanceId]&&(f[y.bucketInstanceId]=[]),f[y.bucketInstanceId].push(y.featureIndex))}}return f},Re.prototype.insertCollisionBox=function(t,e,r,n,o){var i={bucketInstanceId:r,featureIndex:n,collisionGroupID:o};(e?this.ignoredGrid:this.grid).insert(i,t[0],t[1],t[2],t[3])},Re.prototype.insertCollisionCircles=function(t,e,r,n,o){for(var i=e?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:o},s=0;s<t.length;s+=4)i.insertCircle(a,t[s],t[s+1],t[s+2])},Re.prototype.projectAnchor=function(t,e,r){var n=[e,r,0,1];return se(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},Re.prototype.projectPoint=function(e,r,n){var o=[r,n,0,1];return se(o,o,e),new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},Re.prototype.projectAndGetPerspectiveRatio=function(e,r,n){var o=[r,n,0,1];return se(o,o,e),{point:new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},Re.prototype.isOffscreen=function(t,e,r,n){return r<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary},Re.prototype.isInsideGrid=function(t,e,r,n){return r>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary};var Le=function he(t,e,r,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&r?1:0,this.placed=r};Le.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Ie=function pe(t,e,r,n,o){this.text=new Le(t?t.text:null,e,r,o),this.icon=new Le(t?t.icon:null,e,n,o)};Ie.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Oe=function de(t,e,r){this.text=t,this.icon=e,this.skipFade=r},Fe=function _e(t,e,r,n,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=o},Ne=function fe(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function me(e,r,n,o,i){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*r,u=-(a.verticalAlign-.5)*n,l=t.evaluateVariableOffset(e,o);return new t.Point(s+l[0]*i,u+l[1]*i)}function ge(e,r,n,o,i,a){var s=e.x1,u=e.x2,l=e.y1,c=e.y2,p=e.anchorPointX,f=e.anchorPointY,d=new t.Point(r,n);return o&&d._rotate(i?a:-a),{x1:s+d.x,y1:l+d.y,x2:u+d.x,y2:c+d.y,anchorPointX:p,anchorPointY:f}}Ne.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function predicate(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var Be=function ve(t,e,r,n){this.transform=t.clone(),this.collisionIndex=new Re(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Ne(r),this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function ye(t,e,r,n,o){t.emplaceBack(e?1:0,r?1:0,n||0,o||0),t.emplaceBack(e?1:0,r?1:0,n||0,o||0),t.emplaceBack(e?1:0,r?1:0,n||0,o||0),t.emplaceBack(e?1:0,r?1:0,n||0,o||0)}Be.prototype.placeLayerTile=function(e,r,n,o){var i=r.getBucket(e),a=r.latestFeatureIndex;if(i&&a&&e.id===i.layerIds[0]){var s=r.collisionBoxArray,u=i.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f=Kt(p,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ue(r,1,this.transform.zoom)),d=Kt(p,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ue(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new Fe(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,p,f,d,l,c,n,r.holdingForFade(),o,s)}},Be.prototype.attemptAnchorPlacement=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d){var h,m=[p.textOffset0,p.textOffset1],y=me(t,r,n,m,o),g=this.collisionIndex.placeCollisionBox(ge(e,y.x,y.y,i,a,this.transform.angle),c,s,u,l.predicate);if(g.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(h=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:m,width:r,height:n,anchor:t,textBoxScale:o,prevAnchor:h},this.markUsedJustification(f,t,p,d),f.allowVerticalPlacement&&(this.markUsedOrientation(f,d,p),this.placedOrientations[p.crossTileID]=d),{shift:y,placedGlyphBoxes:g}},Be.prototype.placeLayerBucket=function(e,r,n,o,i,a,s,u,l,c){var p=this,f=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom),h=f.get("text-optional"),m=f.get("icon-optional"),y=f.get("text-allow-overlap"),g=f.get("icon-allow-overlap"),v=y&&(g||!e.hasIconData()||m),_=g&&(y||!e.hasTextData()||h),b=this.collisionGroups.get(e.sourceID),S="map"===f.get("text-rotation-alignment"),x="map"===f.get("text-pitch-alignment"),w="none"!==f.get("icon-text-fit"),E="viewport-y"===f.get("symbol-z-order");!e.collisionArrays&&c&&e.deserializeCollisionBoxes(c);var P=function I(o,c){if(!l[o.crossTileID])if(u)p.placements[o.crossTileID]=new Oe(!1,!1,!1);else{var g,E=!1,I=!1,P=!0,C=null,T={box:null,offscreen:null},D={box:null,offscreen:null},M=null,A=null,R=0,L=0,k=0;c.textFeatureIndex&&(R=c.textFeatureIndex),c.verticalTextFeatureIndex&&(L=c.verticalTextFeatureIndex);var F=c.textBox;if(F){var U=function B(r){var n=t.WritingMode.horizontal;if(e.allowVerticalPlacement&&!r&&p.prevPlacement){var i=p.prevPlacement.placedOrientations[o.crossTileID];i&&(p.placedOrientations[o.crossTileID]=i,n=i,p.markUsedOrientation(e,n,o))}return n},z=function O(r,n){if(e.allowVerticalPlacement&&o.numVerticalGlyphVertices>0&&c.verticalTextBox)for(var i=0,a=e.writingModes;i<a.length&&(a[i]===t.WritingMode.vertical?(T=n(),D=T):T=r(),!(T&&T.box&&T.box.length));i+=1);else T=r()};if(f.get("text-variable-anchor")){var j=f.get("text-variable-anchor");if(p.prevPlacement&&p.prevPlacement.variableOffsets[o.crossTileID]){var G=p.prevPlacement.variableOffsets[o.crossTileID];j.indexOf(G.anchor)>0&&(j=j.filter((function(t){return t!==G.anchor}))).unshift(G.anchor)}var V=function N(t,n){for(var i=t.x2-t.x1,s=t.y2-t.y1,u=o.textBoxScale,l={box:[],offscreen:!1},c=y?2*j.length:j.length,f=0;f<c;++f){var d=j[f%j.length],h=f>=j.length,m=p.attemptAnchorPlacement(d,t,i,s,u,S,x,a,r,b,h,o,e,n);if(m&&(l=m.placedGlyphBoxes)&&l.box&&l.box.length){E=!0,C=m.shift;break}}return l};z((function(){return V(F,t.WritingMode.horizontal)}),(function(){var r=c.verticalTextBox,n=T&&T.box&&T.box.length;return e.allowVerticalPlacement&&!n&&o.numVerticalGlyphVertices>0&&r?V(r,t.WritingMode.vertical):{box:null,offscreen:null}})),T&&(E=T.box,P=T.offscreen);var W=U(T&&T.box);if(!E&&p.prevPlacement){var H=p.prevPlacement.variableOffsets[o.crossTileID];H&&(p.variableOffsets[o.crossTileID]=H,p.markUsedJustification(e,H.anchor,o,W))}}else{var K=function q(t,n){var i=p.collisionIndex.placeCollisionBox(t,f.get("text-allow-overlap"),a,r,b.predicate);return i&&i.box&&i.box.length&&(p.markUsedOrientation(e,n,o),p.placedOrientations[o.crossTileID]=n),i};z((function(){return K(F,t.WritingMode.horizontal)}),(function(){var r=c.verticalTextBox;return e.allowVerticalPlacement&&o.numVerticalGlyphVertices>0&&r?K(r,t.WritingMode.vertical):{box:null,offscreen:null}})),U(T&&T.box&&T.box.length)}}E=(g=T)&&g.box&&g.box.length>0,P=g&&g.offscreen;var Y=c.textCircles;if(Y){var Z=e.text.placedSymbolArray.get(o.centerJustifiedTextSymbolIndex),X=t.evaluateSizeForFeature(e.textSizeData,d,Z);M=p.collisionIndex.placeCollisionCircles(Y,f.get("text-allow-overlap"),i,a,Z,e.lineVertexArray,e.glyphOffsetArray,X,r,n,s,x,b.predicate),E=f.get("text-allow-overlap")||M.circles.length>0,P=P&&M.offscreen}if(c.iconFeatureIndex&&(k=c.iconFeatureIndex),c.iconBox){var Q=w&&C?ge(c.iconBox,C.x,C.y,S,x,p.transform.angle):c.iconBox;I=(A=p.collisionIndex.placeCollisionBox(Q,f.get("icon-allow-overlap"),a,r,b.predicate)).box.length>0,P=P&&A.offscreen}var $=h||0===o.numHorizontalGlyphVertices&&0===o.numVerticalGlyphVertices,J=m||0===o.numIconVertices;$||J?J?$||(I=I&&E):E=I&&E:I=E=I&&E,E&&g&&g.box&&(D&&D.box&&L?p.collisionIndex.insertCollisionBox(g.box,f.get("text-ignore-placement"),e.bucketInstanceId,L,b.ID):p.collisionIndex.insertCollisionBox(g.box,f.get("text-ignore-placement"),e.bucketInstanceId,R,b.ID)),I&&A&&p.collisionIndex.insertCollisionBox(A.box,f.get("icon-ignore-placement"),e.bucketInstanceId,k,b.ID),E&&M&&p.collisionIndex.insertCollisionCircles(M.circles,f.get("text-ignore-placement"),e.bucketInstanceId,R,b.ID),p.placements[o.crossTileID]=new Oe(E||v,I||_,P||e.justReloaded),l[o.crossTileID]=!0}};if(E)for(var C=e.getSortedSymbolIndexes(this.transform.angle),T=C.length-1;T>=0;--T){var D=C[T];P(e.symbolInstances.get(D),e.collisionArrays[D])}else for(var M=0;M<e.symbolInstances.length;++M)P(e.symbolInstances.get(M),e.collisionArrays[M]);e.justReloaded=!1},Be.prototype.markUsedJustification=function(e,r,n,o){var i,a={left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex};i=o===t.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:a[t.getAnchorJustification(r)];for(var s=0,u=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];s<u.length;s+=1){var l=u[s];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=i>=0&&l!==i?0:n.crossTileID)}},Be.prototype.markUsedOrientation=function(e,r,n){for(var o=r===t.WritingMode.horizontal||r===t.WritingMode.horizontalOnly?r:0,i=r===t.WritingMode.vertical?r:0,a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];a<s.length;a+=1){var u=s[a];e.text.placedSymbolArray.get(u).placedOrientation=o}n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=i)},Be.prototype.commit=function(t){this.commitTime=t;var e=this.prevPlacement,r=!1,n=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,o=e?e.opacities:{},i=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=o[s];l?(this.opacities[s]=new Ie(l,n,u.text,u.icon),r=r||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new Ie(null,n,u.text,u.icon,u.skipFade),r=r||u.text||u.icon)}for(var c in o){var p=o[c];if(!this.opacities[c]){var f=new Ie(p,n,!1,!1);f.isHidden()||(this.opacities[c]=f,r=r||p.text.placed||p.icon.placed)}}for(var d in i)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=i[d]);for(var h in a)this.placedOrientations[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.placedOrientations[h]=a[h]);r?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},Be.prototype.updateLayerOpacities=function(t,e){for(var r={},n=0,o=e;n<o.length;n+=1){var i=o[n],a=i.getBucket(t);a&&i.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,i.collisionBoxArray)}},Be.prototype.updateBucketOpacities=function(e,r,n){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear(),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexArray.clear(),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexArray.clear();var o=e.layers[0].layout,i=new Ie(null,0,!1,!1,!0),a=o.get("text-allow-overlap"),s=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),l="map"===o.get("text-rotation-alignment"),c="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),f=new Ie(null,0,a&&(s||!e.hasIconData()||o.get("icon-optional")),s&&(a||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&n&&(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData())&&e.deserializeCollisionBoxes(n);for(var d=0;d<e.symbolInstances.length;d++){var h=e.symbolInstances.get(d),m=h.numHorizontalGlyphVertices,y=h.numVerticalGlyphVertices,g=h.crossTileID,v=r[g],_=this.opacities[g];v?_=i:_||(_=f,this.opacities[g]=_),r[g]=!0;var b=m>0||y>0,S=h.numIconVertices>0;if(b){for(var x=Se(_.text),w=(m+y)/4,E=0;E<w;E++)e.text.opacityVertexArray.emplaceBack(x);var P=_.text.isHidden()?1:0,C=this.placedOrientations[h.crossTileID],T=C===t.WritingMode.horizontal||C===t.WritingMode.horizontalOnly?1:0,D=C===t.WritingMode.vertical?1:0;[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=P||D)})),h.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).hidden=P||T);var M=this.variableOffsets[h.crossTileID];M&&this.markUsedJustification(e,M.anchor,h,C);var A=this.placedOrientations[h.crossTileID];A&&(this.markUsedJustification(e,"left",h,A),this.markUsedOrientation(e,A,h))}if(S){for(var R=Se(_.icon),L=0;L<h.numIconVertices/4;L++)e.icon.opacityVertexArray.emplaceBack(R);e.icon.placedSymbolArray.get(d).hidden=_.icon.isHidden()}if(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData()){var I=e.collisionArrays[d];if(I){var O=new t.Point(0,0);if(I.textBox){var k=!0;if(u){var F=this.variableOffsets[g];F?(O=me(F.anchor,F.width,F.height,F.textOffset,F.textBoxScale),l&&O._rotate(c?this.transform.angle:-this.transform.angle)):k=!1}ye(e.textCollisionBox.collisionVertexArray,_.text.placed,!k,O.x,O.y)}I.iconBox&&ye(e.iconCollisionBox.collisionVertexArray,_.icon.placed,!1,p?O.x:0,p?O.y:0);var N=I.textCircles;if(N&&e.hasTextCollisionCircleData())for(var B=0;B<N.length;B+=5){var U=v||0===N[B+4];ye(e.textCollisionCircle.collisionVertexArray,_.text.placed,U)}}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexBuffer&&e.iconCollisionCircle.collisionVertexBuffer.updateData(e.iconCollisionCircle.collisionVertexArray),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexBuffer&&e.textCollisionCircle.collisionVertexBuffer.updateData(e.textCollisionCircle.collisionVertexArray)},Be.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Be.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Be.prototype.stillRecent=function(t){return this.commitTime+this.fadeDuration>t},Be.prototype.setStale=function(){this.stale=!0};var Ue=Math.pow(2,25),je=Math.pow(2,24),Ge=Math.pow(2,17),Ve=Math.pow(2,16),We=Math.pow(2,9),qe=Math.pow(2,8),He=Math.pow(2,1);function Se(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,r=Math.floor(127*t.opacity);return r*Ue+e*je+r*Ge+e*Ve+r*We+e*qe+r*He+e}var Ke=function Pe(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Ke.prototype.continuePlacement=function(t,e,r,n,o){for(;this._currentTileIndex<t.length;){var i=t[this._currentTileIndex];if(e.placeLayerTile(n,i,r,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var Ye=function ze(t,e,r,n,o,i,a){this.placement=new Be(t,o,i,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Ye.prototype.isDone=function(){return this._done},Ye.prototype.continuePlacement=function(e,r,o){for(var i=this,a=t.browser.now(),s=function n(){var e=t.browser.now()-a;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var u=r[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=l)&&(!u.maxzoom||u.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Ke),this._inProgressLayer.continuePlacement(o[u.source],this.placement,this._showCollisionBoxes,u,s))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ye.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Ze=512/t.EXTENT/2,Xe=function De(t,e,r){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<e.length;n++){var o=e.get(n),i=o.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}};Xe.prototype.getScaledCoordinates=function(e,r){var n=r.canonical.z-this.tileID.canonical.z,o=Ze/Math.pow(2,n);return{x:Math.floor((r.canonical.x*t.EXTENT+e.anchorX)*o),y:Math.floor((r.canonical.y*t.EXTENT+e.anchorY)*o)}},Xe.prototype.findMatches=function(t,e,r){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0;o<t.length;o++){var i=t.get(o);if(!i.crossTileID){var a=this.indexedSymbolInstances[i.key];if(a)for(var s=this.getScaledCoordinates(i,e),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=n&&Math.abs(c.coord.y-s.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,i.crossTileID=c.crossTileID;break}}}}};var Qe=function Me(){this.maxCrossTileID=0};Qe.prototype.generate=function(){return++this.maxCrossTileID};var $e=function Re(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};$e.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var r in this.indexes){var n=this.indexes[r],o={};for(var i in n){var a=n[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),o[a.tileID.key]=a}this.indexes[r]=o}this.lng=t},$e.prototype.addBucket=function(t,e,r){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0;n<e.symbolInstances.length;n++)e.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var i in this.indexes){var a=this.indexes[i];if(Number(i)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,o)}else{var l=a[t.scaledTo(Number(i)).key];l&&l.findMatches(e.symbolInstances,t,o)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=r.generate(),o[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Xe(t,e.symbolInstances,e.bucketInstanceId),!0},$e.prototype.removeBucketCrossTileIDs=function(t,e){for(var r in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[r];n<o.length;n+=1){var i=o[n];delete this.usedCrossTileIDs[t][i.crossTileID]}},$e.prototype.removeStaleBuckets=function(t){var e=!1;for(var r in this.indexes){var n=this.indexes[r];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[o]),delete n[o],e=!0)}return e};var Je=function Ae(){this.layerIndexes={},this.crossTileIDs=new Qe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Je.prototype.addLayer=function(t,e,r){var n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new $e);var o=!1,i={};n.handleWrapJump(r);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(u.tileID,l,this.crossTileIDs)&&(o=!0),i[l.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(o=!0),o},Je.prototype.pruneUnusedLayers=function(t){var e={};for(var r in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[r]||delete this.layerIndexes[r]};var er=function ke(e,r){return t.emitValidationErrors(e,r&&r.filter((function(t){return"source.canvas"!==t.identifier})))},rr=t.pick(Te,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),nr=t.pick(Te,["setCenter","setZoom","setBearing","setPitch"]),or=function(e){function i(r,n){var o=this;void 0===n&&(n={}),e.call(this),this.map=r,this.dispatcher=new U((Pe||(Pe=new Ee),Pe),this),this.imageManager=new E,this.imageManager.setEventedParent(this),this.glyphManager=new M(r._requestManager,n.localIdeographFontFamily),this.lineAtlas=new N(256,512),this.crossTileSymbolIndex=new Je,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var r=e.getSource();if(r&&r.vectorLayerIds)for(var n in o._layers){var i=o._layers[n];i.source===r.id&&o._validateLayer(i)}}}}))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,r){var n=this;void 0===r&&(r={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof r.validate?r.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,r.accessToken);var i=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(i,(function(e,r){n._request=null,e?n.fire(new t.ErrorEvent(e)):r&&n._load(r,o)}))},i.prototype.loadJSON=function(e,r){var n=this;void 0===r&&(r={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){n._request=null,n._load(e,!1!==r.validate)}))},i.prototype._load=function(e,r){var n=this;if(!r||!er(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(o,e.sources[o],{validate:!1});e.sprite?this._spriteRequest=function(e,r,n){var o,i,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(r.transformRequest(r.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,o=e,u())})),c=t.getImage(r.transformRequest(r.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){c=null,a||(a=t,i=e,u())}));function u(){if(a)n(a);else if(o&&i){var e=t.browser.getImageData(i),r={};for(var s in o){var u=o[s],l=u.width,c=u.height,p=u.x,f=u.y,d=u.sdf,h=u.pixelRatio,m=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,m,{x:p,y:f},{x:0,y:0},{width:l,height:c}),r[s]={data:m,pixelRatio:h,sdf:d}}n(null,r)}}return{cancel:function cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e.sprite,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var o in r)n.imageManager.addImage(o,r[o]);n.imageManager.setLoaded(!0),n.dispatcher.broadcast("setImages",n.imageManager.listImages()),n.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=Ft(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={};for(var a=0,s=i;a<s.length;a+=1){var u=s[a];(u=t.createStyleLayer(u)).setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new L(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var r=this.sourceCaches[e.source];if(r){var n=e.sourceLayer;if(n){var o=r.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){for(var e=[],r=0,n=t;r<n.length;r+=1){var o=n[r],i=this._layers[o];"custom"!==i.type&&e.push(i.serialize())}return e},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var i in(n.length||o.length)&&this._updateWorkerLayers(n,o),this._updatedSources){var a=this._updatedSources[i];"reload"===a?this._reloadSource(i):"clear"===a&&this._clearSource(i)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var u in this.sourceCaches)this.sourceCaches[u].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var p=c[l],f=this._layers[p];f.recalculate(e,this.imageManager.listImages()),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,r&&this.fire(new t.Event("data",{dataType:"style"}))}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var r=this;if(this._checkLoaded(),er(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Ft(e.layers);var n=function Xt(e,r){if(!e)return[{command:Te.setStyle,args:[r]}];var n=[];try{if(!t.deepEqual(e.version,r.version))return[{command:Te.setStyle,args:[r]}];t.deepEqual(e.center,r.center)||n.push({command:Te.setCenter,args:[r.center]}),t.deepEqual(e.zoom,r.zoom)||n.push({command:Te.setZoom,args:[r.zoom]}),t.deepEqual(e.bearing,r.bearing)||n.push({command:Te.setBearing,args:[r.bearing]}),t.deepEqual(e.pitch,r.pitch)||n.push({command:Te.setPitch,args:[r.pitch]}),t.deepEqual(e.sprite,r.sprite)||n.push({command:Te.setSprite,args:[r.sprite]}),t.deepEqual(e.glyphs,r.glyphs)||n.push({command:Te.setGlyphs,args:[r.glyphs]}),t.deepEqual(e.transition,r.transition)||n.push({command:Te.setTransition,args:[r.transition]}),t.deepEqual(e.light,r.light)||n.push({command:Te.setLight,args:[r.light]});var o={},i=[];!function(e,r,n,o){var i;for(i in r=r||{},e=e||{})e.hasOwnProperty(i)&&(r.hasOwnProperty(i)||Zt(i,n,o));for(i in r)r.hasOwnProperty(i)&&(e.hasOwnProperty(i)?t.deepEqual(e[i],r[i])||("geojson"===e[i].type&&"geojson"===r[i].type&&qt(e,r,i)?n.push({command:Te.setGeoJSONSourceData,args:[i,r[i].data]}):Vt(i,r,n,o)):Nt(i,r,n))}(e.sources,r.sources,i,o);var a=[];e.layers&&e.layers.forEach((function(t){o[t.source]?n.push({command:Te.removeLayer,args:[t.id]}):a.push(t)})),n=n.concat(i),function(e,r,n){r=r||[];var o,i,a,s,u,l,c,p=(e=e||[]).map(Gt),f=r.map(Gt),d=e.reduce(Wt,{}),h=r.reduce(Wt,{}),m=p.slice(),y=Object.create(null);for(o=0,i=0;o<p.length;o++)a=p[o],h.hasOwnProperty(a)?i++:(n.push({command:Te.removeLayer,args:[a]}),m.splice(m.indexOf(a,i),1));for(o=0,i=0;o<f.length;o++)a=f[f.length-1-o],m[m.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:Te.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-i),1)):i++,l=m[m.length-o],n.push({command:Te.addLayer,args:[h[a],l]}),m.splice(m.length-o,0,a),y[a]=!0);for(o=0;o<f.length;o++)if(s=d[a=f[o]],u=h[a],!y[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(c in jt(s.layout,u.layout,n,a,null,Te.setLayoutProperty),jt(s.paint,u.paint,n,a,null,Te.setPaintProperty),t.deepEqual(s.filter,u.filter)||n.push({command:Te.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||n.push({command:Te.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],u[c],n,a,c.slice(6),Te.setPaintProperty):t.deepEqual(s[c],u[c])||n.push({command:Te.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?jt(s[c],u[c],n,a,c.slice(6),Te.setPaintProperty):t.deepEqual(s[c],u[c])||n.push({command:Te.setLayerProperty,args:[a,c,u[c]]}))}else n.push({command:Te.removeLayer,args:[a]}),l=m[m.lastIndexOf(a)+1],n.push({command:Te.addLayer,args:[u,l]})}(a,r.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Te.setStyle,args:[r]}]}return n}(this.serialize(),e).filter((function(t){return!(t.command in nr)}));if(0===n.length)return!1;var o=n.filter((function(t){return!(t.command in rr)}));if(o.length>0)throw new Error("Unimplemented: "+o.map((function(t){return t.command})).join(", ")+".");return n.forEach((function(t){"setTransition"!==t.command&&r[t.command].apply(r,t.args)})),this.stylesheet=e,!0},i.prototype.addImage=function(e,r){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,r),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,r,n){var o=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,r,null,n)){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[e]=new we(e,r,this.dispatcher);i.style=this,i.setEventedParent(this,(function(){return{isSourceLoaded:o.loaded(),source:i.serialize(),sourceId:e}})),i.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,r,n){void 0===n&&(n={}),this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else{var i;if("custom"===e.type){if(er(this,t.validateCustomStyleLayer(e)))return;i=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone$1(e),e=t.extend(e,{source:o})),this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n))return;i=t.createStyleLayer(e),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}})}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source&&"custom"!==i.type){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}},i.prototype.moveLayer=function(e,r){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==r){var n=this._order.indexOf(e);this._order.splice(n,1);var o=r?this._order.indexOf(r):this._order.length;r&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var r=this._layers[e];if(r){r.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=r,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],r.onRemove&&r.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,r,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===r&&o.maxzoom===n||(null!=r&&(o.minzoom=r),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,r,n){void 0===n&&(n={}),this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.deepEqual(o.filter,r))return null==r?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(t.validateStyle.filter,"layers."+o.id+".filter",r,null,n)||(o.filter=t.clone$1(r),this._updateLayer(o)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(e);i?t.deepEqual(i.getLayoutProperty(r),n)||(i.setLayoutProperty(r,n,o),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(e,r){var n=this.getLayer(e);if(n)return n.getLayoutProperty(r);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(e,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(e);i?t.deepEqual(i.getPaintProperty(r),n)||(i.setPaintProperty(r,n,o)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,r){this._checkLoaded();var n=e.source,o=e.sourceLayer,i=this.sourceCaches[n],a=parseInt(e.id,10);if(void 0!==i){var s=i.getSource().type;"geojson"===s&&o?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||o?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(o,a,r):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(e,r){this._checkLoaded();var n=e.source,o=this.sourceCaches[n];if(void 0!==o){var i=o.getSource().type,a="vector"===i?e.sourceLayer:void 0,s=parseInt(e.id,10);"vector"!==i||a?void 0!==e.id&&isNaN(s)||s<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be non-negative."))):r&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):o.removeFeatureState(a,s,r):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var r=e.source,n=e.sourceLayer,o=this.sourceCaches[r],i=parseInt(e.id,10);if(void 0!==o)if("vector"!==o.getSource().type||n){if(!(isNaN(i)||i<0))return o.getFeatureState(n,i);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,r=function i(t){return"fill-extrusion"===e._layers[t].type},n={},o=[],a=this._order.length-1;a>=0;a--){var s=this._order[a];if(r(s)){n[s]=a;for(var u=0,l=t;u<l.length;u+=1){var c=l[u][s];if(c)for(var p=0,f=c;p<f.length;p+=1){var d=f[p];o.push(d)}}}}o.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var h=[],m=this._order.length-1;m>=0;m--){var y=this._order[m];if(r(y))for(var g=o.length-1;g>=0;g--){var v=o[g].feature;if(n[v.layer.id]<m)break;h.push(v),o.pop()}else for(var _=0,b=t;_<b.length;_+=1){var S=b[_][y];if(S)for(var x=0,w=S;x<w.length;x+=1){var E=w[x];h.push(E.feature)}}}return h},i.prototype.queryRenderedFeatures=function(e,r,n){r&&r.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var o={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,a=r.layers;i<a.length;i+=1){var s=a[i],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[u.source]=!0}}var l=[];for(var c in this.sourceCaches)r.layers&&!o[c]||l.push(O(this.sourceCaches[c],this._layers,e,r,n));return this.placement&&l.push(function(t,e,r,n,o,i){for(var a={},s=o.queryRenderedSymbols(r),u=[],l=0,c=Object.keys(s).map(Number);l<c.length;l+=1){var d=c[l];u.push(i[d])}u.sort(F);for(var h=function p(){var e=y[m],r=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,n.filter,n.layers,t);for(var o in r){var i=a[o]=a[o]||[],u=r[o];u.sort((function(t,r){var n=e.featureSortOrder;if(n){var o=n.indexOf(t.featureIndex);return n.indexOf(r.featureIndex)-o}return r.featureIndex-t.featureIndex}));for(var l=0,c=u;l<c.length;l+=1){var f=c[l];i.push(f)}}},m=0,y=u;m<y.length;m+=1)h();var g=function f(r){a[r].forEach((function(n){var o=n.feature,i=t[r],a=e[i.source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=a}))};for(var v in a)g(v);return a}(this._layers,this.sourceCaches,e,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},i.prototype.querySourceFeatures=function(e,r){r&&r.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[e];return n?function(t,e){for(var r=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),n=[],o={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,r):[]},i.prototype.addSourceType=function(t,e,r){return i.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),o=!1;for(var i in e)if(!t.deepEqual(e[i],n[i])){o=!0;break}if(o){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,r),this.light.updateTransitions(a)}},i.prototype._validate=function(e,r,n,o,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&er(this,e.call(t.validateStyle,t.extend({key:r,style:this.serialize(),value:n,styleSpec:t.styleSpec},o)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(e,r,n,o){for(var i=!1,a=!1,s={},u=0,l=this._order;u<l.length;u+=1){var c=l[u],p=this._layers[c];if("symbol"===p.type){if(!s[p.source]){var f=this.sourceCaches[p.source];s[p.source]=f.getRenderableIds(!0).map((function(t){return f.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(p,s[p.source],e.center.lng);i=i||d}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var h=this._layerOrderChanged||0===n;if((h||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new Ye(e,this._order,h,r,n,o,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),a=!0),i&&this.pauseablePlacement.placement.setStale()),a||i)for(var m=0,y=this._order;m<y.length;m+=1){var g=y[m],v=this._layers[g];"symbol"===v.type&&this.placement.updateLayerOpacities(v,s[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},i.prototype.getImages=function(t,e,r){this.imageManager.getImages(e.icons,r)},i.prototype.getGlyphs=function(t,e,r){this.glyphManager.getGlyphs(e.stacks,r)},i.prototype.getResource=function(e,r,n){return t.makeRequest(r,n)},i}(t.Evented);or.getSourceType=function(t){return Y[t]},or.setSourceType=function(t,e){Y[t]=e},or.registerForPluginAvailability=t.registerForPluginAvailability;var ir=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),ar=hi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),sr=hi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ur=hi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),lr=hi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),cr=hi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),pr=hi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),fr=hi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),dr=hi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),hr=hi("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),mr=hi("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),yr=hi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),gr=hi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),vr=hi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),_r=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),br=hi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Sr=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),xr=hi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),wr=hi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Er=hi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Pr=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Cr=hi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),Tr=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Dr=hi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Mr=hi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ar=hi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function hi(t,e){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n={};return{fragmentSource:t=t.replace(r,(function(t,e,r,o,i){return n[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(r,(function(t,e,r,o,i){var a="float"===o?"vec2":"vec4",s=i.match(/color/)?"color":a;return n[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = unpack_mix_"+s+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"}))}}var Rr=Object.freeze({prelude:ar,background:sr,backgroundPattern:ur,circle:lr,clippingMask:cr,heatmap:pr,heatmapTexture:fr,collisionBox:dr,collisionCircle:hr,debug:mr,fill:yr,fillOutline:gr,fillOutlinePattern:vr,fillPattern:_r,fillExtrusion:br,fillExtrusionPattern:Sr,hillshadePrepare:xr,hillshade:wr,line:Er,lineGradient:Pr,linePattern:Cr,lineSDF:Tr,raster:Dr,symbolIcon:Mr,symbolSDF:Ar}),Lr=function di(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Lr.prototype.bind=function(t,e,r,n,o,i,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==n.length,l=0;!u&&l<n.length;l++)this.boundPaintVertexBuffers[l]!==n[l]&&(u=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==r||u||this.boundIndexBuffer!==o||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,r,n,o,i,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},Lr.prototype.freshBind=function(t,e,r,n,o,i,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var p=u;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var f=0,d=r;f<d.length;f+=1)d[f].enableAttributes(c,t);i&&i.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,o);for(var h=0,m=r;h<m.length;h+=1){var y=m[h];y.bind(),y.setVertexAttribPointers(c,t,o)}i&&(i.bind(),i.setVertexAttribPointers(c,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,o)),l.currentNumAttributes=u},Lr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ir=function _i(t,e,r,n,o){var i=t.gl;this.program=i.createProgram();var a=r.defines();o&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(ar.fragmentSource,e.fragmentSource).join("\n"),u=a.concat(ar.vertexSource,e.vertexSource).join("\n"),l=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(l,s),i.compileShader(l),i.attachShader(this.program,l);var c=i.createShader(i.VERTEX_SHADER);i.shaderSource(c,u),i.compileShader(c),i.attachShader(this.program,c);for(var p=r.layoutAttributes||[],f=0;f<p.length;f++)i.bindAttribLocation(this.program,f,p[f].name);i.linkProgram(this.program),this.numAttributes=i.getProgramParameter(this.program,i.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},h=0;h<this.numAttributes;h++){var m=i.getActiveAttrib(this.program,h);m&&(this.attributes[m.name]=i.getAttribLocation(this.program,m.name))}for(var y=i.getProgramParameter(this.program,i.ACTIVE_UNIFORMS),g=0;g<y;g++){var v=i.getActiveUniform(this.program,g);v&&(d[v.name]=i.getUniformLocation(this.program,v.name))}this.fixedUniforms=n(t,d),this.binderUniforms=r.getUniforms(t,d)};function fi(e,r,n){var o=1/ue(n,1,r.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,r.transform.tileZoom)/i,s=a*(n.tileID.canonical.x+n.tileID.wrap*i),u=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,u>>16],u_pixel_coord_lower:[65535&s,65535&u]}}Ir.prototype.draw=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d,h,m){var y,g=t.gl;for(var v in t.program.set(this.program),t.setDepthMode(r),t.setStencilMode(n),t.setColorMode(o),t.setCullFace(i),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);d&&d.setUniforms(t,this.binderUniforms,p,{zoom:f});for(var _=(y={},y[g.LINES]=2,y[g.TRIANGLES]=3,y[g.LINE_STRIP]=1,y)[e],b=0,S=c.get();b<S.length;b+=1){var x=S[b],w=x.vaos||(x.vaos={});(w[s]||(w[s]=new Lr)).bind(t,this,u,d?d.getPaintVertexBuffers():[],l,x.vertexOffset,h,m),g.drawElements(e,x.primitiveLength*_,g.UNSIGNED_SHORT,x.primitiveOffset*_*2)}};var Or=function mi(e,r,n,o){var i=r.style.light,a=i.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===i.properties.get("anchor")&&t.fromRotation(u,-r.transform.angle),t.transformMat3(s,s,u);var l=i.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+n,u_opacity:o}},kr=function gi(e,r,n,o,i,a,s){return t.extend(Or(e,r,n,o),fi(a,r,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8})},Fr=function vi(t){return{u_matrix:t}},Nr=function yi(e,r,n,o){return t.extend(Fr(e),fi(n,r,o))},Br=function xi(t,e){return{u_matrix:t,u_world:e}},Ur=function bi(e,r,n,o,i){return t.extend(Nr(e,r,n,o),{u_world:i})},zr=function wi(e,r,n,o){var i,a,s=e.transform;if("map"===o.paint.get("circle-pitch-alignment")){var u=ue(n,1,s.zoom);i=!0,a=[u,u]}else i=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===o.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(r.posMatrix,n,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},jr=function Ei(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,r.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,r.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,r.u_overscale_factor)}},Gr=function Ti(t,e,r){var n=ue(r,1,e.zoom),o=Math.pow(2,e.zoom-r.tileID.overscaledZ),i=r.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[e.pixelsToGLUnits[0]/(n*o),e.pixelsToGLUnits[1]/(n*o)],u_overscale_factor:i}},Vr=function Ii(t,e){return{u_matrix:t,u_color:e}},Wr=function Ci(t){return{u_matrix:t}},qr=function Si(t,e,r,n){return{u_matrix:t,u_extrude_scale:ue(e,1,r),u_intensity:n}},Hr=function zi(t,e,r){var n=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),i=r.paint.get("hillshade-accent-color"),a=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);var s=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),s),u_image:0,u_latrange:Di(0,e.tileID),u_light:[r.paint.get("hillshade-exaggeration"),a],u_shadow:n,u_highlight:o,u_accent:i}},Kr=function Li(e,r,n){var o=r.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[o,o],u_zoom:e.overscaledZ,u_maxzoom:n,u_unpack:r.getUnpackVector()}};function Di(e,r){var n=Math.pow(2,r.canonical.z),o=r.canonical.y;return[new t.MercatorCoordinate(0,o/n).toLngLat().lat,new t.MercatorCoordinate(0,(o+1)/n).toLngLat().lat]}var Yr=function Mi(e,r,n){var o=e.transform;return{u_matrix:Oi(e,r,n),u_ratio:1/ue(r,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Zr=function Ri(e,r,n){return t.extend(Yr(e,r,n),{u_image:0})},Xr=function Ai(e,r,n,o){var i=e.transform,a=Bi(r,i);return{u_matrix:Oi(e,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/ue(r,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[t.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Qr=function ki(e,r,n,o,i){var a=e.transform,s=e.lineAtlas,u=Bi(r,a),l="round"===n.layout.get("line-cap"),c=s.getDash(o.from,l),p=s.getDash(o.to,l),f=c.width*i.fromScale,d=p.width*i.toScale;return t.extend(Yr(e,r,n),{u_patternscale_a:[u/f,-c.height/2],u_patternscale_b:[u/d,-p.height/2],u_sdfgamma:s.width/(256*Math.min(f,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:p.y,u_mix:i.t})};function Bi(t,e){return 1/ue(t,1,e.tileZoom)}function Oi(t,e,r){return t.translatePosMatrix(e.tileID.posMatrix,e,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var $r=function Fi(t,e,r,n,o){return{u_matrix:t,u_tl_parent:e,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(i=o.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:Ui(o.paint.get("raster-hue-rotate"))};var i,a};function Ui(t){t*=Math.PI/180;var e=Math.sin(t),r=Math.cos(t);return[(2*r+1)/3,(-Math.sqrt(3)*e-r+1)/3,(Math.sqrt(3)*e-r+1)/3]}var Jr=function Ni(t,e,r,n,o,i,a,s,u,l){var c=o.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+n,u_texsize:l,u_texture:0}},tn=function Zi(e,r,n,o,i,a,s,u,l,c,p){var f=i.transform;return t.extend(Jr(e,r,n,o,i,a,s,u,l,c),{u_gamma_scale:o?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+p})},en=function Vi(t,e,r){return{u_matrix:t,u_opacity:e,u_color:r}},rn=function qi(e,r,n,o,i,a){return t.extend(function(t,e,r,n){var o=r.imageManager.getPattern(t.from.toString()),i=r.imageManager.getPattern(t.to.toString()),a=r.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/l,p=c*(n.tileID.canonical.x+n.tileID.wrap*l),f=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/ue(n,1,r.transform.tileZoom),u_pixel_coord_upper:[p>>16,f>>16],u_pixel_coord_lower:[65535&p,65535&f]}}(o,a,n,i),{u_matrix:e,u_opacity:r})},nn={fillExtrusion:function fillExtrusion(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_lightpos:new t.Uniform3f(e,r.u_lightpos),u_lightintensity:new t.Uniform1f(e,r.u_lightintensity),u_lightcolor:new t.Uniform3f(e,r.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,r.u_vertical_gradient),u_opacity:new t.Uniform1f(e,r.u_opacity)}},fillExtrusionPattern:function fillExtrusionPattern(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_lightpos:new t.Uniform3f(e,r.u_lightpos),u_lightintensity:new t.Uniform1f(e,r.u_lightintensity),u_lightcolor:new t.Uniform3f(e,r.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,r.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,r.u_height_factor),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade),u_opacity:new t.Uniform1f(e,r.u_opacity)}},fill:function fill(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},fillPattern:function fillPattern(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade)}},fillOutline:function fillOutline(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_world:new t.Uniform2f(e,r.u_world)}},fillOutlinePattern:function fillOutlinePattern(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_world:new t.Uniform2f(e,r.u_world),u_image:new t.Uniform1i(e,r.u_image),u_texsize:new t.Uniform2f(e,r.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade)}},circle:function circle(e,r){return{u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,r.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,r.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,r.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},collisionBox:jr,collisionCircle:jr,debug:function debug(e,r){return{u_color:new t.UniformColor(e,r.u_color),u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},clippingMask:function clippingMask(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},heatmap:function heatmap(e,r){return{u_extrude_scale:new t.Uniform1f(e,r.u_extrude_scale),u_intensity:new t.Uniform1f(e,r.u_intensity),u_matrix:new t.UniformMatrix4f(e,r.u_matrix)}},heatmapTexture:function heatmapTexture(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_world:new t.Uniform2f(e,r.u_world),u_image:new t.Uniform1i(e,r.u_image),u_color_ramp:new t.Uniform1i(e,r.u_color_ramp),u_opacity:new t.Uniform1f(e,r.u_opacity)}},hillshade:function hillshade(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_image:new t.Uniform1i(e,r.u_image),u_latrange:new t.Uniform2f(e,r.u_latrange),u_light:new t.Uniform2f(e,r.u_light),u_shadow:new t.UniformColor(e,r.u_shadow),u_highlight:new t.UniformColor(e,r.u_highlight),u_accent:new t.UniformColor(e,r.u_accent)}},hillshadePrepare:function hillshadePrepare(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_image:new t.Uniform1i(e,r.u_image),u_dimension:new t.Uniform2f(e,r.u_dimension),u_zoom:new t.Uniform1f(e,r.u_zoom),u_maxzoom:new t.Uniform1f(e,r.u_maxzoom),u_unpack:new t.Uniform4f(e,r.u_unpack)}},line:function line(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_ratio:new t.Uniform1f(e,r.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,r.u_units_to_pixels)}},lineGradient:function lineGradient(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_ratio:new t.Uniform1f(e,r.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,r.u_units_to_pixels),u_image:new t.Uniform1i(e,r.u_image)}},linePattern:function linePattern(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_texsize:new t.Uniform2f(e,r.u_texsize),u_ratio:new t.Uniform1f(e,r.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_image:new t.Uniform1i(e,r.u_image),u_units_to_pixels:new t.Uniform2f(e,r.u_units_to_pixels),u_scale:new t.Uniform4f(e,r.u_scale),u_fade:new t.Uniform1f(e,r.u_fade)}},lineSDF:function lineSDF(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_ratio:new t.Uniform1f(e,r.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,r.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,r.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,r.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,r.u_sdfgamma),u_image:new t.Uniform1i(e,r.u_image),u_tex_y_a:new t.Uniform1f(e,r.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,r.u_tex_y_b),u_mix:new t.Uniform1f(e,r.u_mix)}},raster:function raster(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_tl_parent:new t.Uniform2f(e,r.u_tl_parent),u_scale_parent:new t.Uniform1f(e,r.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,r.u_buffer_scale),u_fade_t:new t.Uniform1f(e,r.u_fade_t),u_opacity:new t.Uniform1f(e,r.u_opacity),u_image0:new t.Uniform1i(e,r.u_image0),u_image1:new t.Uniform1i(e,r.u_image1),u_brightness_low:new t.Uniform1f(e,r.u_brightness_low),u_brightness_high:new t.Uniform1f(e,r.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,r.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,r.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,r.u_spin_weights)}},symbolIcon:function symbolIcon(e,r){return{u_is_size_zoom_constant:new t.Uniform1i(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,r.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,r.u_size_t),u_size:new t.Uniform1f(e,r.u_size),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,r.u_pitch),u_rotate_symbol:new t.Uniform1i(e,r.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,r.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,r.u_fade_change),u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,r.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,r.u_coord_matrix),u_is_text:new t.Uniform1f(e,r.u_is_text),u_pitch_with_map:new t.Uniform1i(e,r.u_pitch_with_map),u_texsize:new t.Uniform2f(e,r.u_texsize),u_texture:new t.Uniform1i(e,r.u_texture)}},symbolSDF:function symbolSDF(e,r){return{u_is_size_zoom_constant:new t.Uniform1i(e,r.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,r.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,r.u_size_t),u_size:new t.Uniform1f(e,r.u_size),u_camera_to_center_distance:new t.Uniform1f(e,r.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,r.u_pitch),u_rotate_symbol:new t.Uniform1i(e,r.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,r.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,r.u_fade_change),u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,r.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,r.u_coord_matrix),u_is_text:new t.Uniform1f(e,r.u_is_text),u_pitch_with_map:new t.Uniform1i(e,r.u_pitch_with_map),u_texsize:new t.Uniform2f(e,r.u_texsize),u_texture:new t.Uniform1i(e,r.u_texture),u_gamma_scale:new t.Uniform1f(e,r.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,r.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,r.u_is_halo)}},background:function background(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_opacity:new t.Uniform1f(e,r.u_opacity),u_color:new t.UniformColor(e,r.u_color)}},backgroundPattern:function backgroundPattern(e,r){return{u_matrix:new t.UniformMatrix4f(e,r.u_matrix),u_opacity:new t.Uniform1f(e,r.u_opacity),u_image:new t.Uniform1i(e,r.u_image),u_pattern_tl_a:new t.Uniform2f(e,r.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,r.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,r.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,r.u_pattern_br_b),u_texsize:new t.Uniform2f(e,r.u_texsize),u_mix:new t.Uniform1f(e,r.u_mix),u_pattern_size_a:new t.Uniform2f(e,r.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,r.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,r.u_scale_a),u_scale_b:new t.Uniform1f(e,r.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,r.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,r.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,r.u_tile_units_to_pixels)}}};function Gi(e,r){for(var n=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),o=0;o<n.length;o++){var i={},a=n[o],s=n.slice(o+1);Wi(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),i),a.setMask(i,r)}}function Wi(e,r,n,o,i){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var u=r.children(1/0),l=0;l<u.length;l++)Wi(e,u[l],n.slice(a),o,i);return}}var c=r.overscaledZ-e.overscaledZ,p=new t.CanonicalTileID(c,r.canonical.x-(e.canonical.x<<c),r.canonical.y-(e.canonical.y<<c));i[p.key]=i[p.key]||p}function Xi(t,e,r,n,o,i,a,s){for(var u=t.context,l=u.gl,c=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),p=0;p<n.length;p++){var f=n[p],d=e.getTile(f),h=d.getBucket(r);if(h){var m=o?s?h.textCollisionCircle:h.iconCollisionCircle:s?h.textCollisionBox:h.iconCollisionBox;if(m){var y=f.posMatrix;0===i[0]&&0===i[1]||(y=t.translatePosMatrix(f.posMatrix,d,i,a)),c.draw(u,o?l.TRIANGLES:l.LINES,de.disabled,he.disabled,t.colorModeForRenderPass(),be.disabled,Gr(y,t.transform,d),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,t.transform.zoom,null,null,m.collisionVertexBuffer)}}}}function Hi(t,e,r,n,o,i,a){Xi(t,e,r,n,!1,o,i,a),Xi(t,e,r,n,!0,o,i,a)}var on=t.identity(new Float32Array(16));function Ji(e,r,n,o,i,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*r,l=-(s.verticalAlign-.5)*n,c=t.evaluateVariableOffset(e,o);return new t.Point((u/i+c[0])*a,(l/i+c[1])*a)}function Yi(e,r,n,o,i,a,s,u,l,c,p){var f=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,h=e.icon.dynamicLayoutVertexArray,m={};d.clear();for(var y=0;y<f.length;y++){var g=f.get(y),v=e.allowVerticalPlacement&&!g.placedOrientation,_=g.hidden||!g.crossTileID||v?null:o[g.crossTileID];if(_){var b=new t.Point(g.anchorX,g.anchorY),S=Yt(b,n?u:s),x=.5+a.cameraToCenterDistance/S.signedDistanceFromCamera*.5,w=i.evaluateSizeForFeature(e.textSizeData,c,g)*x/t.ONE_EM;n&&(w*=e.tilePixelRatio/l);for(var E=_.width,P=_.height,C=Ji(_.anchor,E,P,_.textOffset,_.textBoxScale,w),T=n?Yt(b.add(C),s).point:S.point.add(r?C.rotate(-a.angle):C),D=e.allowVerticalPlacement&&g.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,M=0;M<g.numGlyphs;M++)t.addDynamicAttributes(d,T,D);p&&g.associatedIconIndex>=0&&(m[g.associatedIconIndex]={shiftedAnchor:T,angle:D})}else ne(g.numGlyphs,d)}if(p){h.clear();for(var A=e.icon.placedSymbolArray,R=0;R<A.length;R++){var L=A.get(R);if(L.hidden)ne(L.numGlyphs,h);else{var I=m[R];if(I)for(var O=0;O<L.numGlyphs;O++)t.addDynamicAttributes(h,I.shiftedAnchor,I.angle);else ne(L.numGlyphs,h)}}e.icon.dynamicLayoutVertexBuffer.updateData(h)}e.text.dynamicLayoutVertexBuffer.updateData(d)}function Qi(e){var r=e.text.placedSymbolArray,n=e.text.dynamicLayoutVertexArray;n.clear();for(var o=0;o<r.length;o++){var i=r.get(o);if(i.hidden||!i.placedOrientation)ne(i.numGlyphs,n);else for(var a=new t.Point(i.anchorX,i.anchorY),s=e.allowVerticalPlacement&&i.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,u=0;u<i.numGlyphs;u++)t.addDynamicAttributes(n,a,s)}e.text.dynamicLayoutVertexBuffer.updateData(n)}function $i(e,r,n,o,i,a,s,u,l,c,p,f){for(var d,h,m=e.context,y=m.gl,g=e.transform,v="map"===u,_="map"===l,b=v&&"point"!==n.layout.get("symbol-placement"),S=v&&!_&&!b,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1),w=e.depthModeForSublayer(0,de.ReadOnly),E=n.layout.get("text-variable-anchor"),P=[],C=0,T=o;C<T.length;C+=1){var D=T[C],M=r.getTile(D),A=M.getBucket(n);if(A){var R=i?A.text:A.icon;if(R&&R.segments.get().length){var L=R.programConfigurations.get(n.id),I=i||A.sdfIcons,O=i?A.textSizeData:A.iconSizeData;d||(d=e.useProgram(I?"symbolSDF":"symbolIcon",L),h=t.evaluateSizeForZoom(O,g.zoom)),m.activeTexture.set(y.TEXTURE0);var k=void 0,F=void 0,N=void 0;if(i)F=M.glyphAtlasTexture,N=y.LINEAR,k=M.glyphAtlasTexture.size;else{var B=1!==n.layout.get("icon-size").constantOr(0)||A.iconsNeedLinear,U=_||0!==g.pitch;F=M.imageAtlasTexture,N=I||e.options.rotating||e.options.zooming||B||U?y.LINEAR:y.NEAREST,k=M.imageAtlasTexture.size}var z=ue(M,1,e.transform.zoom),j=Kt(D.posMatrix,_,v,e.transform,z),G=Jt(D.posMatrix,_,v,e.transform,z),V=E&&A.hasTextData(),W="none"!==n.layout.get("icon-text-fit")&&V&&A.hasIconData();b?$t(A,D.posMatrix,e,i,j,G,_,c):i&&h&&A.allowVerticalPlacement&&!E&&Qi(A);var q=e.translatePosMatrix(D.posMatrix,M,a,s),H=b||i&&E||W?on:j,K=e.translatePosMatrix(G,M,a,s,!0),Y=I&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),Z={program:d,buffers:R,uniformValues:I?tn(O.kind,h,S,_,e,q,H,K,i,k,!0):Jr(O.kind,h,S,_,e,q,H,K,i,k),atlasTexture:F,atlasInterpolation:N,isSDF:I,hasHalo:Y};if(x)for(var X=0,Q=R.segments.get();X<Q.length;X+=1){var $=Q[X];P.push({segments:new t.SegmentVector([$]),sortKey:$.sortKey,state:Z})}else P.push({segments:R.segments,sortKey:0,state:Z})}}}x&&P.sort((function(t,e){return t.sortKey-e.sortKey}));for(var J=0,tt=P;J<tt.length;J+=1){var et=tt[J],rt=et.state;if(rt.atlasTexture.bind(rt.atlasInterpolation,y.CLAMP_TO_EDGE),rt.isSDF){var nt=rt.uniformValues;rt.hasHalo&&(nt.u_is_halo=1,to(rt.buffers,et.segments,n,e,rt.program,w,p,f,nt)),nt.u_is_halo=0}to(rt.buffers,et.segments,n,e,rt.program,w,p,f,rt.uniformValues)}}function to(t,e,r,n,o,i,a,s,u){var l=n.context,c=l.gl;o.draw(l,c.TRIANGLES,i,a,s,be.disabled,u,r.id,t.layoutVertexBuffer,t.indexBuffer,e,r.paint,n.transform.zoom,t.programConfigurations.get(r.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function eo(t,e,r,n,o,i,a){var s,u,l,c,p,f=t.context.gl,d=r.paint.get("fill-pattern"),h=d&&d.constantOr(1),m=r.getCrossfadeParameters();a?(u=h&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=f.LINES):(u=h?"fillPattern":"fill",s=f.TRIANGLES);for(var y=0,g=n;y<g.length;y+=1){var v=g[y],_=e.getTile(v);if(!h||_.patternsLoaded()){var b=_.getBucket(r);if(b){var S=b.programConfigurations.get(r.id),x=t.useProgram(u,S);h&&(t.context.activeTexture.set(f.TEXTURE0),_.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),S.updatePatternPaintBuffers(m));var w=d.constantOr(null);if(w&&_.imageAtlas){var E=_.imageAtlas,P=E.patternPositions[w.to.toString()],C=E.patternPositions[w.from.toString()];P&&C&&S.setConstantPatternPositions(P,C)}var T=t.translatePosMatrix(v.posMatrix,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var D=[f.drawingBufferWidth,f.drawingBufferHeight];l="fillOutlinePattern"===u&&h?Ur(T,t,m,_,D):Br(T,D)}else c=b.indexBuffer,p=b.segments,l=h?Nr(T,t,m,_):Fr(T);x.draw(t.context,s,o,t.stencilModeForClipping(v),i,be.disabled,l,r.id,b.layoutVertexBuffer,c,p,r.paint,t.transform.zoom,S)}}}}function io(t,e,r,n,o,i,a){for(var s=t.context,u=s.gl,l=r.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),p=r.getCrossfadeParameters(),f=r.paint.get("fill-extrusion-opacity"),d=0,h=n;d<h.length;d+=1){var m=h[d],y=e.getTile(m),g=y.getBucket(r);if(g){var v=g.programConfigurations.get(r.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(u.TEXTURE0),y.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(p));var b=l.constantOr(null);if(b&&y.imageAtlas){var S=y.imageAtlas,x=S.patternPositions[b.to.toString()],w=S.patternPositions[b.from.toString()];x&&w&&v.setConstantPatternPositions(x,w)}var E=t.translatePosMatrix(m.posMatrix,y,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),P=r.paint.get("fill-extrusion-vertical-gradient"),C=c?kr(E,t,P,f,m,p,y):Or(E,t,P,f);_.draw(s,s.gl.TRIANGLES,o,i,a,be.backCCW,C,r.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,r.paint,t.transform.zoom,v)}}}function oo(t,e,r,n,o,i){var a=t.context,s=a.gl,u=e.fbo;if(u){var l=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var c=Hr(t,e,r);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?l.draw(a,s.TRIANGLES,n,o,i,be.disabled,c,r.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):l.draw(a,s.TRIANGLES,n,o,i,be.disabled,c,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function ro(e,r,n,o,i,a,s){var u=e.context,l=u.gl,c=r.dem;if(c&&c.data){var p=c.dim,f=c.stride,d=c.getPixels();if(u.activeTexture.set(l.TEXTURE1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||e.getTileTexture(f),r.demTexture){var h=r.demTexture;h.update(d,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else r.demTexture=new t.Texture(u,d,l.RGBA,{premultiply:!1}),r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);u.activeTexture.set(l.TEXTURE0);var m=r.fbo;if(!m){var y=new t.Texture(u,{width:p,height:p,data:null},l.RGBA);y.bind(l.LINEAR,l.CLAMP_TO_EDGE),(m=r.fbo=u.createFramebuffer(p,p)).colorAttachment.set(y.texture)}u.bindFramebuffer.set(m.framebuffer),u.viewport.set([0,0,p,p]),e.useProgram("hillshadePrepare").draw(u,l.TRIANGLES,i,a,s,be.disabled,Kr(r.tileID,c,o),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function ao(e,r,n,o,i){var a=o.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,l=r?(s-r.timeAdded)/a:-1,c=n.getSource(),p=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),f=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),d=f&&e.refreshedUponExpiration?1:t.clamp(f?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),r?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}function no(e,r,n){var o=e.context,i=o.gl,a=n.posMatrix,s=e.useProgram("debug"),u=de.disabled,l=he.disabled,c=e.colorModeForRenderPass(),p="$debug";s.draw(o,i.LINE_STRIP,u,l,c,be.disabled,Vr(a,t.Color.red),p,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var f=r.getTileByID(n.key).latestRawTileData,d=f&&f.byteLength||0,h=Math.floor(d/1024),m=r.getTile(n).tileSize,y=512/Math.min(m,512),g=function(t,e,r,n){n=n||1;var o,i,a,s,u,l,c,p,f=[];for(o=0,i=t.length;o<i;o++)if(u=an[t[o]]){for(p=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?p=null:(l=e+u[1][a]*n,c=r-u[1][a+1]*n,p&&f.push(p.x,p.y,l,c),p={x:l,y:c});e+=u[0]*n}return f}(n.toString()+" "+h+"kb",50,200*y,5*y),v=new t.StructArrayLayout2i4,_=new t.StructArrayLayout2ui4,b=0;b<g.length;b+=2)v.emplaceBack(g[b],g[b+1]),_.emplaceBack(b,b+1);for(var S=o.createVertexBuffer(v,ir.members),x=o.createIndexBuffer(_),w=t.SegmentVector.simpleSegment(0,0,v.length/2,v.length/2),E=t.EXTENT/(Math.pow(2,e.transform.zoom-n.overscaledZ)*m*y),P=[],C=-1;C<=1;C++)for(var T=-1;T<=1&&(0!==C||0!==T);T++)P.push([C,T]);for(var D=0;D<P.length;D++){var M=P[D];s.draw(o,i.LINES,u,l,c,be.disabled,Vr(t.translate([],a,[E*M[0],E*M[1],0]),t.Color.white),p,S,x,w)}s.draw(o,i.LINES,u,l,c,be.disabled,Vr(a,t.Color.black),p,S,x,w)}var an={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},sn={symbol:function symbol(e,r,n,o,i){if("translucent"===e.renderPass){var a=he.disabled,s=e.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(e,r,n,o,i,a,s){for(var u=r.transform,l="map"===i,c="map"===a,p=0,f=e;p<f.length;p+=1){var d=f[p],h=o.getTile(d),m=h.getBucket(n);if(m&&m.text&&m.text.segments.get().length){var y=m.textSizeData,g=t.evaluateSizeForZoom(y,u.zoom),v=ue(h,1,r.transform.zoom),_=Kt(d.posMatrix,c,l,r.transform,v),b="none"!==n.layout.get("icon-text-fit")&&m.hasIconData();if(g){var S=Math.pow(2,u.zoom-h.tileID.overscaledZ);Yi(m,l,c,s,t.symbolSize,u,_,d.posMatrix,S,g,b)}}}}(o,e,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),i),0!==n.paint.get("icon-opacity").constantOr(1)&&$i(e,r,n,o,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&$i(e,r,n,o,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(Hi(e,r,n,o,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Hi(e,r,n,o,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function circle(e,r,n,o){if("translucent"===e.renderPass){var i=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),u=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==i.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,c=l.gl,p=e.depthModeForSublayer(0,de.ReadOnly),f=he.disabled,d=e.colorModeForRenderPass(),h=[],m=0;m<o.length;m++){var y=o[m],g=r.getTile(y),v=g.getBucket(n);if(v){var _=v.programConfigurations.get(n.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:zr(e,y,g,n)};if(u)for(var S=0,x=v.segments.get();S<x.length;S+=1){var w=x[S];h.push({segments:new t.SegmentVector([w]),sortKey:w.sortKey,state:b})}else h.push({segments:v.segments,sortKey:0,state:b})}}u&&h.sort((function(t,e){return t.sortKey-e.sortKey}));for(var E=0,P=h;E<P.length;E+=1){var C=P[E],T=C.state,D=T.programConfiguration,M=T.program,A=T.layoutVertexBuffer,R=T.indexBuffer,L=T.uniformValues,I=C.segments;M.draw(l,c.TRIANGLES,p,f,d,be.disabled,L,n.id,A,R,I,n.paint,e.transform.zoom,D)}}}},heatmap:function heatmap(e,r,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var i=e.context,a=i.gl,s=e.depthModeForSublayer(0,de.ReadOnly),u=he.disabled,l=new _e([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,r){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=r.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=r.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,r,n,o){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,r,n,o))}(t,e,i,o)}}(i,e,n),i.clear({color:t.Color.transparent});for(var c=0;c<o.length;c++){var p=o[c];if(!r.hasRenderableParent(p)){var f=r.getTile(p),d=f.getBucket(n);if(d){var h=d.programConfigurations.get(n.id),m=e.useProgram("heatmap",h),y=e.transform.zoom;m.draw(i,a.TRIANGLES,s,u,l,be.disabled,qr(p.posMatrix,f,y,n.paint.get("heatmap-intensity")),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,e.transform.zoom,h)}}}i.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,r){var n=e.context,o=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new t.Texture(n,r.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,o.TRIANGLES,de.disabled,he.disabled,e.colorModeForRenderPass(),be.disabled,function Pi(e,r,n,o){var i=t.create();t.ortho(i,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:i,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:o,u_opacity:r.paint.get("heatmap-opacity")}}(e,r,0,1),r.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,r.paint,e.transform.zoom)}}(e,n))},line:function line(e,r,n,o){if("translucent"===e.renderPass){var i=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,de.ReadOnly),u=e.colorModeForRenderPass(),l=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern"),p=c.constantOr(1),f=n.paint.get("line-gradient"),d=n.getCrossfadeParameters(),h=l?"lineSDF":p?"linePattern":f?"lineGradient":"line",m=e.context,y=m.gl,g=!0;if(f){m.activeTexture.set(y.TEXTURE0);var v=n.gradientTexture;if(!n.gradient)return;v||(v=n.gradientTexture=new t.Texture(m,n.gradient,y.RGBA)),v.bind(y.LINEAR,y.CLAMP_TO_EDGE)}for(var _=0,b=o;_<b.length;_+=1){var S=b[_],x=r.getTile(S);if(!p||x.patternsLoaded()){var w=x.getBucket(n);if(w){var E=w.programConfigurations.get(n.id),P=e.context.program.get(),C=e.useProgram(h,E),T=g||C.program!==P,D=c.constantOr(null);if(D&&x.imageAtlas){var M=x.imageAtlas,A=M.patternPositions[D.to.toString()],R=M.patternPositions[D.from.toString()];A&&R&&E.setConstantPatternPositions(A,R)}var L=l?Qr(e,x,n,l,d):p?Xr(e,x,n,d):f?Zr(e,x,n):Yr(e,x,n);l&&(T||e.lineAtlas.dirty)?(m.activeTexture.set(y.TEXTURE0),e.lineAtlas.bind(m)):p&&(m.activeTexture.set(y.TEXTURE0),x.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),E.updatePatternPaintBuffers(d)),C.draw(m,y.TRIANGLES,s,e.stencilModeForClipping(S),u,be.disabled,L,n.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,n.paint,e.transform.zoom,E),g=!1}}}}}},fill:function fill(e,r,n,o){var i=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=n.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===i.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?de.ReadWrite:de.ReadOnly);eo(e,r,n,o,c,s,!1)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){var p=e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,de.ReadOnly);eo(e,r,n,o,p,s,!0)}}},"fill-extrusion":function fillExtrusion(t,e,r,n){var o=r.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){var i=new de(t.context.gl.LEQUAL,de.ReadWrite,t.depthRangeFor3D);if(1!==o||r.paint.get("fill-extrusion-pattern").constantOr(1))io(t,e,r,n,i,he.disabled,_e.disabled),io(t,e,r,n,i,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();io(t,e,r,n,i,he.disabled,a)}}},hillshade:function hillshade(t,e,r,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var o=t.context,i=e.getSource().maxzoom,a=t.depthModeForSublayer(0,de.ReadOnly),s=he.disabled,u=t.colorModeForRenderPass(),l=0,c=n;l<c.length;l+=1){var p=c[l],f=e.getTile(p);f.needsHillshadePrepare&&"offscreen"===t.renderPass?ro(t,f,r,i,a,s,u):"translucent"===t.renderPass&&oo(t,f,r,a,s,u)}o.viewport.set([0,0,t.width,t.height])}},raster:function raster(t,e,r,n){if("translucent"===t.renderPass&&0!==r.paint.get("raster-opacity"))for(var o=t.context,i=o.gl,a=e.getSource(),s=t.useProgram("raster"),u=he.disabled,l=t.colorModeForRenderPass(),c=n.length&&n[0].overscaledZ,p=!t.options.moving,f=0,d=n;f<d.length;f+=1){var h=d[f],m=t.depthModeForSublayer(h.overscaledZ-c,1===r.paint.get("raster-opacity")?de.ReadWrite:de.ReadOnly,i.LESS),y=e.getTile(h),g=t.transform.calculatePosMatrix(h.toUnwrapped(),p);y.registerFadeDuration(r.paint.get("raster-fade-duration"));var v=e.findLoadedParent(h,0),_=ao(y,v,e,r,t.transform),b=void 0,S=void 0,x="nearest"===r.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;o.activeTexture.set(i.TEXTURE0),y.texture.bind(x,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(i.TEXTURE1),v?(v.texture.bind(x,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),S=[y.tileID.canonical.x*b%1,y.tileID.canonical.y*b%1]):y.texture.bind(x,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var w=$r(g,S||[0,0],b||1,_,r);a instanceof q?s.draw(o,i.TRIANGLES,m,u,l,be.disabled,w,r.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments?s.draw(o,i.TRIANGLES,m,u,l,be.disabled,w,r.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments,r.paint,t.transform.zoom):s.draw(o,i.TRIANGLES,m,u,l,be.disabled,w,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function background(t,e,r){var n=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var i=t.context,a=i.gl,s=t.transform,u=s.tileSize,l=r.paint.get("background-pattern");if(!t.isPatternMissing(l)){var c=!l&&1===n.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var p=he.disabled,f=t.depthModeForSublayer(0,"opaque"===c?de.ReadWrite:de.ReadOnly),d=t.colorModeForRenderPass(),h=t.useProgram(l?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});l&&(i.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var y=r.getCrossfadeParameters(),g=0,v=m;g<v.length;g+=1){var _=v[g],b=t.transform.calculatePosMatrix(_.toUnwrapped()),S=l?rn(b,o,t,l,{tileID:_,tileSize:u},y):en(b,o,n);h.draw(i,a.TRIANGLES,f,p,d,be.disabled,S,r.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function debug(t,e,r){for(var n=0;n<r.length;n++)no(t,e,r[n])},custom:function custom(t,e,r){var n=t.context,o=r.implementation;if("offscreen"===t.renderPass){var i=o.prerender;i&&(t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),i.call(o,n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),n.setStencilMode(he.disabled);var a="3d"===o.renderingMode?new de(t.context.gl.LEQUAL,de.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,de.ReadOnly);n.setDepthMode(a),o.render(n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState(),n.bindFramebuffer.set(null)}}},un=function co(e,r){this.context=new xe(e),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=we.maxUnderzooming+we.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Je};function uo(t,e){if(t.y>e.y){var r=t;t=e,e=r}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function ho(t,e,r,n,o){var i=Math.max(r,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,p=e.dx<0,f=i;f<a;f++){var d=u*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,h=l*Math.max(0,Math.min(e.dy,f+p-e.y0))+e.x0;o(Math.floor(h),Math.ceil(d),f)}}function po(t,e,r,n,o,i){var a,s=uo(t,e),u=uo(e,r),l=uo(r,t);s.dy>u.dy&&(a=s,s=u,u=a),s.dy>l.dy&&(a=s,s=l,l=a),u.dy>l.dy&&(a=u,u=l,l=a),s.dy&&ho(l,s,n,o,i),u.dy&&ho(l,u,n,o,i)}un.prototype.resize=function(e,r){var n=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=r*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,i=this.style._order;o<i.length;o+=1){var a=i[o];this.style._layers[a].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},un.prototype.setup=function(){var e=this.context,r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(r,ir.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(n,ir.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var o=new t.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(t.EXTENT,0,t.EXTENT,0),o.emplaceBack(0,t.EXTENT,0,t.EXTENT),o.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(o,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(i,ir.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var u=this.context.gl;this.stencilClearMode=new he({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},un.prototype.clearStencil=function(){var e=this.context,r=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=t.create();t.ortho(n,0,this.width,this.height,0,0,1),t.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,r.TRIANGLES,de.disabled,this.stencilClearMode,_e.disabled,be.disabled,Wr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},un.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var r=this.context,n=r.gl;this.nextStencilID+e.length>256&&this.clearStencil(),r.setColorMode(_e.disabled),r.setDepthMode(de.disabled);var o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var i=0,a=e;i<a.length;i+=1){var s=a[i],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;o.draw(r,n.TRIANGLES,de.disabled,new he({func:n.ALWAYS,mask:0},u,255,n.KEEP,n.KEEP,n.REPLACE),_e.disabled,be.disabled,Wr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},un.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new he({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},un.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new he({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},un.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new _e([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?_e.unblended:_e.alphaBlended},un.prototype.depthModeForSublayer=function(t,e,r){if(!this.opaquePassEnabledForLayer())return de.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new de(r||this.context.gl.LEQUAL,e,[n,n])},un.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},un.prototype.render=function(e,r){this.style=e,this.options=r,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var n=this.style._order,o=this.style.sourceCaches;for(var i in o){var a=o[i];a.used&&a.prepare(this.context)}var s={},u={},l={};for(var c in o){var p=o[c];s[c]=p.getVisibleCoordinates(),u[c]=s[c].slice().reverse(),l[c]=p.getVisibleCoordinates(!0).reverse()}for(var f in o){var d=o[f],h=d.getSource();if("raster"===h.type||"raster-dem"===h.type){for(var m=[],y=0,g=s[f];y<g.length;y+=1){var v=g[y];m.push(d.getTile(v))}Gi(m,this.context)}}this.opaquePassCutoff=1/0;for(var _=0;_<n.length;_++){var b=n[_];if(this.style._layers[b].is3D()){this.opaquePassCutoff=_;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var S=0,x=n;S<x.length;S+=1){var w=x[S],E=this.style._layers[w];if(E.hasOffscreenPass()&&!E.isHidden(this.transform.zoom)){var P=u[E.source];("custom"===E.type||P.length)&&this.renderLayer(this,o[E.source],E,P)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var C=this.style._layers[n[this.currentLayer]],T=o[C.source],D=s[C.source];this._renderTileClippingMasks(C,D),this.renderLayer(this,T,C,D)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){var M=this.style._layers[n[this.currentLayer]],A=o[M.source],R=("symbol"===M.type?l:u)[M.source];this._renderTileClippingMasks(M,s[M.source]),this.renderLayer(this,A,M,R)}if(this.options.showTileBoundaries)for(var L in o){sn.debug(this,o[L],s[L]);break}this.context.setDefault()},un.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},un.prototype.renderLayer=function(t,e,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,sn[r.type](t,e,r,n,this.style.placement.variableOffsets))},un.prototype.translatePosMatrix=function(e,r,n,o,i){if(!n[0]&&!n[1])return e;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);n=[n[0]*u-n[1]*s,n[0]*s+n[1]*u]}var l=[i?n[0]:ue(r,n[0],this.transform.zoom),i?n[1]:ue(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,l),c},un.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},un.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},un.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from.toString()),r=this.imageManager.getPattern(t.to.toString());return!e||!r},un.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new Ir(this.context,Rr[t],e,nn[t],this._showOverdrawInspector)),this.cache[r]},un.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},un.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var ln=function _o(e,r,n){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=r||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},cn={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ln.prototype.clone=function(){var t=new ln(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},cn.minZoom.get=function(){return this._minZoom},cn.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},cn.maxZoom.get=function(){return this._maxZoom},cn.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},cn.renderWorldCopies.get=function(){return this._renderWorldCopies},cn.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},cn.worldSize.get=function(){return this.tileSize*this.scale},cn.centerPoint.get=function(){return this.size._div(2)},cn.size.get=function(){return new t.Point(this.width,this.height)},cn.bearing.get=function(){return-this.angle/Math.PI*180},cn.bearing.set=function(e){var r=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},cn.pitch.get=function(){return this._pitch/Math.PI*180},cn.pitch.set=function(e){var r=t.clamp(e,0,60)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},cn.fov.get=function(){return this._fov/Math.PI*180},cn.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},cn.zoom.get=function(){return this._zoom},cn.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},cn.center.get=function(){return this._center},cn.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},ln.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},ln.prototype.getVisibleUnwrappedCoordinates=function(e){var r=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new t.Point(0,0)),o=this.pointCoordinate(new t.Point(this.width,0)),i=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(n.x,o.x,i.x,a.x)),u=Math.floor(Math.max(n.x,o.x,i.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&r.push(new t.UnwrappedTileID(l,e));return r},ln.prototype.coveringTiles=function(e){var r=this.coveringZoomLevel(e),n=r;if(void 0!==e.minzoom&&r<e.minzoom)return[];void 0!==e.maxzoom&&r>e.maxzoom&&(r=e.maxzoom);var o=t.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,r),a=new t.Point(i*o.x-.5,i*o.y-.5);return function(e,r,n,o){void 0===o&&(o=!0);var i=1<<e,a={};function s(r,s,u){var l,c,p,f;if(u>=0&&u<=i)for(l=r;l<s;l++)c=Math.floor(l/i),p=(l%i+i)%i,0!==c&&!0!==o||(f=new t.OverscaledTileID(n,c,e,p,u),a[f.key]=f)}var u=r.map((function(e){return new t.Point(e.x,e.y)._mult(i)}));return po(u[0],u[1],u[2],0,i,s),po(u[2],u[3],u[0],0,i,s),Object.keys(a).map((function(t){return a[t]}))}(r,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?n:r,this._renderWorldCopies).sort((function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)}))},ln.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},cn.unmodified.get=function(){return this._unmodified},ln.prototype.zoomScale=function(t){return Math.pow(2,t)},ln.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},ln.prototype.project=function(e){var r=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(r)*this.worldSize)},ln.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},cn.point.get=function(){return this.project(this.center)},ln.prototype.setLocationAtPoint=function(e,r){var n=this.pointCoordinate(r),o=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(e),a=new t.MercatorCoordinate(i.x-(n.x-o.x),i.y-(n.y-o.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},ln.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},ln.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},ln.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},ln.prototype.coordinateLocation=function(t){return t.toLngLat()},ln.prototype.pointCoordinate=function(e){var r=[e.x,e.y,0,1],n=[e.x,e.y,1,1];t.transformMat4(r,r,this.pixelMatrixInverse),t.transformMat4(n,n,this.pixelMatrixInverse);var o=r[3],i=n[3],a=r[0]/o,s=n[0]/i,u=r[1]/o,l=n[1]/i,c=r[2]/o,p=n[2]/i,f=c===p?0:(0-c)/(p-c);return new t.MercatorCoordinate(t.number(a,s,f)/this.worldSize,t.number(u,l,f)/this.worldSize)},ln.prototype.coordinatePoint=function(e){var r=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(r,r,this.pixelMatrix),new t.Point(r[0]/r[3],r[1]/r[3])},ln.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},ln.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ln.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ln.prototype.calculatePosMatrix=function(e,r){void 0===r&&(r=!1);var n=e.key,o=r?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var i=e.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,i.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,r?this.alignedProjMatrix:this.projMatrix,u),o[n]=new Float32Array(u),o[n]},ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ln.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,r,n,o,i=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-i<l.y?l.y/(a-i):0}if(this.lngRange){var f=this.lngRange;s=t.mercatorXfromLng(f[0])*this.worldSize,r=(u=t.mercatorXfromLng(f[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var d=this.point,h=Math.max(r||0,e||0);if(h)return this.center=this.unproject(new t.Point(r?(u+s)/2:d.x,e?(a+i)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=d.y,y=l.y/2;m-y<i&&(o=i+y),m+y>a&&(o=a-y)}if(this.lngRange){var g=d.x,v=l.x/2;g-v<s&&(n=s+v),g+v>u&&(n=u-v)}void 0===n&&void 0===o||(this.center=this.unproject(new t.Point(void 0!==n?n:d.x,void 0!==o?o:d.y))),this._unmodified=c,this._constraining=!1}},ln.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,r=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-r-e),o=this.point,i=o.x,a=o.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),u=this.height/50,l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,u,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-i,-a,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var c=this.width%2/2,p=this.height%2/2,f=Math.cos(this.angle),d=Math.sin(this.angle),h=i-Math.round(i)+f*c+d*p,m=a-Math.round(a)+f*p+d*c,y=new Float64Array(l);if(t.translate(y,y,[h>.5?h-1:h,m>.5?m-1:m,0]),this.alignedProjMatrix=y,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=t.create(),t.scale(l,l,[1,-1,1]),t.translate(l,l,[-1,-1,0]),t.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),r=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},ln.prototype.getCameraPoint=function(){var e=this._pitch,r=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,r))},ln.prototype.getCameraQueryGeometry=function(e){var r=this.getCameraPoint();if(1===e.length)return[e[0],r];for(var n=r.x,o=r.y,i=r.x,a=r.y,s=0,u=e;s<u.length;s+=1){var l=u[s];n=Math.min(n,l.x),o=Math.min(o,l.y),i=Math.max(i,l.x),a=Math.max(a,l.y)}return[new t.Point(n,o),new t.Point(i,o),new t.Point(i,a),new t.Point(n,a),new t.Point(n,o)]},Object.defineProperties(ln.prototype,cn);var pn=function mo(){var e,r,n,o;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),r=!1,n=null,o=function a(){n=null,r&&(e(),n=setTimeout(o,300),r=!1)},function(){return r=!0,n||o(),n})};pn.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},pn.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},pn.prototype.getHashString=function(t){var e=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),i=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=t?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},pn.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},pn.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var fn=function(e){function o(r,n,o,i){void 0===i&&(i={});var a=c.mousePos(n.getCanvasContainer(),o),s=n.unproject(a);e.call(this,r,t.extend({point:a,lngLat:s,originalEvent:o},i)),this._defaultPrevented=!1,this.target=n}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var r={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,r),o}(t.Event),dn=function(e){function o(r,n,o){var i=c.touchPos(n.getCanvasContainer(),o),a=i.map((function(t){return n.unproject(t)})),s=i.reduce((function(t,e,r,n){return t.add(e.div(n.length))}),new t.Point(0,0)),u=n.unproject(s);e.call(this,r,{points:i,point:s,lngLats:a,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var r={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,r),o}(t.Event),hn=function(t){function e(e,r,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,r),e}(t.Event),mn=function xo(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};mn.prototype.setZoomRate=function(t){this._defaultZoomRate=t},mn.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},mn.prototype.isEnabled=function(){return!!this._enabled},mn.prototype.isActive=function(){return!!this._active},mn.prototype.isZooming=function(){return!!this._zooming},mn.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},mn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},mn.prototype.onWheel=function(e){if(this.isEnabled()){var r=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=t.browser.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),e.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=e,this._delta-=r,this.isActive()||this._start(e)),e.preventDefault()}},mn.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},mn.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=c.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},mn.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var i="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*o))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,u=this._easing,l=!1;if("wheel"===this._type&&s&&u){var c=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=u(c);r.zoom=t.number(s,a,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else r.zoom=a,l=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},mn.prototype._smoothOutEasing=function(e){var r=t.ease;if(this._prevEase){var n=this._prevEase,o=(t.browser.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:r},r};var yn=function bo(e,r){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=r.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};yn.prototype.isEnabled=function(){return!!this._enabled},yn.prototype.isActive=function(){return!!this._active},yn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},yn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},yn.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),c.disableDrag(),this._startPos=this._lastPos=c.mousePos(this._el,e),this._active=!0)},yn.prototype._onMouseMove=function(t){var e=c.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=e,this._box||(this._box=c.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(r.x,e.x),o=Math.max(r.x,e.x),i=Math.min(r.y,e.y),a=Math.max(r.y,e.y);c.setTransform(this._box,"translate("+n+"px,"+i+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-i+"px"}},yn.prototype._onMouseUp=function(e){if(0===e.button){var r=this._startPos,n=c.mousePos(this._el,e);this._finish(),c.suppressClick(),r.x===n.x&&r.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(r,n,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},yn.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},yn.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(c.remove(this._box),this._box=null),c.enableDrag(),delete this._startPos,delete this._lastPos},yn.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,{originalEvent:r}))};var gn=t.bezier(0,0,.25,1),vn=function Eo(e,r){this._map=e,this._el=r.element||e.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};vn.prototype.isEnabled=function(){return"disabled"!==this._state},vn.prototype.isActive=function(){return"active"===this._state},vn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},vn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},vn.prototype.onMouseDown=function(e){if("enabled"===this._state){var r="touchstart"===e.type;if(r)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=c.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==c.mouseButton(e))return;this._eventButton=0}c.disableDrag(),r?(t.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("touchend",this._onMouseUp)):(t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp)),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=c.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},vn.prototype._onMouseMove=function(t){var e=c.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},vn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var r=this._map.transform,n=this._prevPos,o=this._lastPos,i=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=r.bearing-i,u=r.pitch-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([t.browser.now(),this._map._normalizeBearing(s,c[1])]),r.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),r.pitch=u),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._prevPos=this._lastPos}},vn.prototype._onMouseUp=function(t){if("touchend"===t.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),c.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},vn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},vn.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("touchend",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),c.enableDrag()},vn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},vn.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),o=this._inertia,i=function a(){Math.abs(n)<e._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)i();else{var s=o[0],u=o[o.length-1],l=o[o.length-2],c=r._normalizeBearing(n,l[1]),p=u[1]-s[1],f=p<0?-1:1,d=(u[0]-s[0])/1e3;if(0!==p&&0!==d){var h=Math.abs(p*(.25/d));h>180&&(h=180);var m=h/180;c+=f*h*(m/2),Math.abs(r._normalizeBearing(c,0))<this._bearingSnap&&(c=r._normalizeBearing(0,c)),r.rotateTo(c,{duration:1e3*m,easing:gn,noMoveStart:!0},{originalEvent:t})}else i()}},vn.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,r?{originalEvent:r}:{}))},vn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,r=t.browser.now();e.length>0&&r-e[0][0]>160;)e.shift()};var _n=t.bezier(0,0,.3,1),bn=function Io(e,r){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};bn.prototype.isEnabled=function(){return"disabled"!==this._state},bn.prototype.isActive=function(){return"active"===this._state},bn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},bn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},bn.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==c.mouseButton(e)||(c.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),c.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},bn.prototype.onTouchStart=function(e){this.isEnabled()&&(e.touches&&e.touches.length>1&&("pending"===this._state||"active"===this._state)||(c.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},bn.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=c.mousePos(this._el,e),this._startTouch=this._lastTouch=t.window.TouchEvent&&e instanceof t.window.TouchEvent?c.touchPos(this._el,e):null,this._inertia=[[t.browser.now(),this._startPos]]},bn.prototype._touchesMatch=function(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,r){return e[r]===t}))},bn.prototype._onMove=function(e){e.preventDefault();var r=t.window.TouchEvent&&e instanceof t.window.TouchEvent?c.touchPos(this._el,e):null,n=c.mousePos(this._el,e);(r?this._touchesMatch(this._lastTouch,r):this._lastPos.equals(n))||"pending"===this._state&&n.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=n,this._lastTouch=r,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},bn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t)if(this._map.touchZoomRotate.isActive())this._abort(t);else if(this._shouldStart&&(this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._shouldStart=!1),this.isActive()){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._prevPos=this._lastPos,delete this._lastMoveEvent}},bn.prototype._onMouseUp=function(t){if(0===c.mouseButton(t))switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},bn.prototype._onTouchEnd=function(t){if(t.touches&&0!==t.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(t)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},bn.prototype._abort=function(e){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",e),this._fireEvent("moveend",e)),this._unbind(),this._deactivate(),t.window.TouchEvent&&e instanceof t.window.TouchEvent&&e.touches.length>1&&c.addEventListener(t.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},bn.prototype._onBlur=function(t){this._abort(t)},bn.prototype._unbind=function(){c.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.removeEventListener(t.window.document,"touchend",this._onTouchEnd),c.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),c.removeEventListener(t.window.document,"mouseup",this._onMouseUp),c.removeEventListener(t.window,"blur",this._onBlur)},bn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},bn.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var r=e[e.length-1],n=e[0],o=r[1].sub(n[1]),i=(r[0]-n[0])/1e3;if(0===i||r[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/i),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var u=s/750,l=a.mult(-u/2);this._map.panBy(l,{duration:1e3*u,easing:_n,noMoveStart:!0},{originalEvent:t})}}},bn.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,r?{originalEvent:r}:{}))},bn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,r=t.browser.now();e.length>0&&r-e[0][0]>160;)e.shift()};var Sn=function Co(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function So(t){return t*(2-t)}Sn.prototype.isEnabled=function(){return!!this._enabled},Sn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Sn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Sn.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,r=0,n=0,o=0,i=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),i=-1);break;case 40:t.shiftKey?n=-1:(i=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:So,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*r,pitch:a.getPitch()+10*n,offset:[100*-o,100*-i],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var xn=function Po(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};xn.prototype.isEnabled=function(){return!!this._enabled},xn.prototype.isActive=function(){return!!this._active},xn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},xn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},xn.prototype.onTouchStart=function(t){var e=this;if(this.isEnabled()&&!(t.points.length>1))if(this._tapped){var n=t.points[0],o=this._tappedPoint;if(o&&o.dist(n)<=30){t.originalEvent.preventDefault();var i=function r(){e._tapped&&e._zoom(t),e._map.off("touchcancel",s),e._resetTapped()},s=function a(){e._map.off("touchend",i),e._resetTapped()};this._map.once("touchend",i),this._map.once("touchcancel",s)}else this._resetTapped()}else this._tappedPoint=t.points[0],this._tapped=setTimeout((function(){e._tapped=null,e._tappedPoint=null}),300)},xn.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},xn.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},xn.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},xn.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var wn=t.bezier(0,0,.15,1),En=function Lo(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};En.prototype.isEnabled=function(){return!!this._enabled},En.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},En.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},En.prototype.disableRotation=function(){this._rotationDisabled=!0},En.prototype.enableRotation=function(){this._rotationDisabled=!1},En.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},En.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var r=c.mousePos(this._el,e.touches[0]),n=c.mousePos(this._el,e.touches[1]),o=r.add(n).div(2);this._startVec=r.sub(n),this._startAround=this._map.transform.pointLocation(o),this._gestureIntent=void 0,this._inertia=[],c.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),c.addEventListener(t.window.document,"touchend",this._onEnd)}},En.prototype._getTouchEventData=function(t){var e=c.mousePos(this._el,t.touches[0]),r=c.mousePos(this._el,t.touches[1]),n=e.sub(r);return{vec:n,center:e.add(r).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},En.prototype._onMove=function(e){if(2===e.touches.length){var r=this._getTouchEventData(e),n=r.vec,o=r.scale,i=r.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==o||Math.abs(1-o)>.15;Math.abs(i)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},En.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,i=n.bearing,a=n.scale,s=r.pointLocation(o),u=r.locationPoint(s);"rotate"===e&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*a),r.setLocationAtPoint(this._startAround,u),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,o])}},En.prototype._onEnd=function(e){c.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),c.removeEventListener(t.window.document,"touchend",this._onEnd);var r=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new t.Event(r+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,i=this._map;if(o.length<2)i.snapToNorth({},{originalEvent:e});else{var a=o[o.length-1],s=o[0],u=i.transform.scaleZoom(n*a[1]),l=i.transform.scaleZoom(n*s[1]),p=u-l,f=(a[0]-s[0])/1e3,d=a[2];if(0!==f&&u!==l){var h=.15*p/f;Math.abs(h)>2.5&&(h=h>0?2.5:-2.5);var m=1e3*Math.abs(h/(12*.15)),y=u+h*m/2e3;y<0&&(y=0),i.easeTo({zoom:y,duration:m,easing:wn,around:this._aroundCenter?i.getCenter():i.unproject(d),noMoveStart:!0},{originalEvent:e})}else i.snapToNorth({},{originalEvent:e})}}},En.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,r=t.browser.now();e.length>2&&r-e[0][0]>160;)e.shift()};var Pn={scrollZoom:mn,boxZoom:yn,dragRotate:vn,dragPan:bn,keyboard:Sn,doubleClickZoom:xn,touchZoomRotate:En},Cn=function(e){function i(r,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,r,n){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},r),n)},i.prototype.panTo=function(e,r,n){return this.easeTo(t.extend({center:e},r),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,r,n){return this.easeTo(t.extend({zoom:e},r),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,r,n){return this.easeTo(t.extend({bearing:e},r),n)},i.prototype.resetNorth=function(e,r){return this.rotateTo(0,t.extend({duration:1e3},e),r),this},i.prototype.resetNorthPitch=function(e,r){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),r),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(e,r){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,r)},i.prototype._cameraForBoxAndBearing=function(e,r,n,o){if("number"==typeof(o=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var i=o.padding;o.padding={top:i,bottom:i,right:i,left:i}}if(t.deepEqual(Object.keys(o.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(t.LngLat.convert(e)),u=a.project(t.LngLat.convert(r)),l=s.rotate(-n*Math.PI/180),c=u.rotate(-n*Math.PI/180),p=new t.Point(Math.max(l.x,c.x),Math.max(l.y,c.y)),f=new t.Point(Math.min(l.x,c.x),Math.min(l.y,c.y)),d=p.sub(f),h=(a.width-o.padding.left-o.padding.right)/d.x,m=(a.height-o.padding.top-o.padding.bottom)/d.y;if(!(m<0||h<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(h,m)),o.maxZoom),g=t.Point.convert(o.offset),v=(o.padding.left-o.padding.right)/2,_=(o.padding.top-o.padding.bottom)/2,b=new t.Point(g.x+v,g.y+_).mult(a.scale/a.zoomScale(y));return{center:a.unproject(s.add(u).div(2).sub(b)),zoom:y,bearing:n}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},i.prototype.fitBounds=function(t,e,r){return this._fitInternal(this.cameraForBounds(t,e),e,r)},i.prototype.fitScreenCoordinates=function(e,r,n,o,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(r)),n,o),o,i)},i.prototype._fitInternal=function(e,r,n){return e?(r=t.extend(e,r)).linear?this.easeTo(r,n):this.flyTo(r,n):this},i.prototype.jumpTo=function(e,r){this.stop();var n=this.transform,o=!1,i=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=t.LngLat.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",r)).fire(new t.Event("move",r)),o&&this.fire(new t.Event("zoomstart",r)).fire(new t.Event("zoom",r)).fire(new t.Event("zoomend",r)),i&&this.fire(new t.Event("rotatestart",r)).fire(new t.Event("rotate",r)).fire(new t.Event("rotateend",r)),a&&this.fire(new t.Event("pitchstart",r)).fire(new t.Event("pitch",r)).fire(new t.Event("pitchend",r)),this.fire(new t.Event("moveend",r))},i.prototype.easeTo=function(e,r){var n=this;this.stop(),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||t.browser.prefersReducedMotion)&&(e.duration=0);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?+e.zoom:i,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=o.centerPoint.add(t.Point.convert(e.offset)),f=o.pointLocation(p),d=t.LngLat.convert(e.center||f);this._normalizeCenter(d);var h,m,y=o.project(f),g=o.project(d).sub(y),v=o.zoomScale(u-i);return e.around&&(h=t.LngLat.convert(e.around),m=o.locationPoint(h)),this._zooming=u!==i,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(r,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(n._zooming&&(o.zoom=t.number(i,u,e)),n._rotating&&(o.bearing=t.number(a,l,e)),n._pitching&&(o.pitch=t.number(s,c,e)),h)o.setLocationAtPoint(h,m);else{var f=o.zoomScale(o.zoom-i),d=u>i?Math.min(2,v):Math.max(.5,v),_=Math.pow(d,1-e),b=o.unproject(y.add(g.mult(e*_)).mult(f));o.setLocationAtPoint(o.renderWorldCopies?b.wrap():b,p)}n._fireMoveEvents(r)}),(function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout((function(){return n._afterEase(r)}),e.delayEndEvents):n._afterEase(r)}),e),this},i.prototype._prepareEase=function(e,r){this._moving=!0,r||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var r=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,r){var n=this;if(t.browser.prefersReducedMotion){var o=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(o,r)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var i=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,i.minZoom,i.maxZoom):a,c="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:u,f=i.zoomScale(l-a),d=i.centerPoint.add(t.Point.convert(e.offset)),h=i.pointLocation(d),m=t.LngLat.convert(e.center||h);this._normalizeCenter(m);var y=i.project(h),g=i.project(m).sub(y),v=e.curve,_=Math.max(i.width,i.height),b=_/f,x=g.mag();if("minZoom"in e){var w=t.clamp(Math.min(e.minZoom,a,l),i.minZoom,i.maxZoom),E=_/i.zoomScale(w-a);v=Math.sqrt(E/x*2)}var P=v*v;function I(t){var e=(b*b-_*_+(t?-1:1)*P*P*x*x)/(2*(t?b:_)*P*x);return Math.log(Math.sqrt(e*e+1)-e)}function C(t){return(Math.exp(t)-Math.exp(-t))/2}function S(t){return(Math.exp(t)+Math.exp(-t))/2}var T=I(0),D=function z(t){return S(T)/S(T+v*t)},M=function L(t){return _*((S(T)*(C(e=T+v*t)/S(e))-C(T))/P)/x;var e},A=(I(1)-T)/v;if(Math.abs(x)<1e-6||!isFinite(A)){if(Math.abs(_-b)<1e-6)return this.easeTo(e,r);var R=b<_?-1:1;A=Math.abs(Math.log(b/_))/v,M=function L(){return 0},D=function z(t){return Math.exp(R*v*t)}}if("duration"in e)e.duration=+e.duration;else{var O="screenSpeed"in e?+e.screenSpeed/v:+e.speed;e.duration=1e3*A/O}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=p!==u,this._prepareEase(r,!1),this._ease((function(e){var o=e*A,f=1/D(o);i.zoom=1===e?l:a+i.scaleZoom(f),n._rotating&&(i.bearing=t.number(s,c,e)),n._pitching&&(i.pitch=t.number(u,p,e));var h=1===e?m:i.unproject(y.add(g.mult(M(o))).mult(f));i.setLocationAtPoint(i.renderWorldCopies?h.wrap():h,d),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(e,r,n){!1===n.animate||0===n.duration?(e(1),r()):(this._easeStart=t.browser.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,r){e=t.wrap(e,-180,180);var n=Math.abs(e-r);return Math.abs(e-360-r)<n&&(e-=360),Math.abs(e+360-r)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var r=t.lng-e.center.lng;t.lng+=r>180?-360:r<-180?360:0}},i}(t.Evented),Tn=function Ro(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Tn.prototype.getDefaultPosition=function(){return"bottom-right"},Tn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=c.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Tn.prototype.onRemove=function(){c.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Tn.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var n=r.reduce((function(t,e,n){return e.value&&(t+=e.key+"="+e.value+(n<r.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},Tn.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Tn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var r=this._map.style.sourceCaches;for(var n in r){var o=r[n];if(o.used){var i=o.getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,r){for(var n=r+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Tn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Dn=function Ao(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Dn.prototype.onAdd=function(t){this._map=t,this._container=c.create("div","mapboxgl-ctrl");var e=c.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Dn.prototype.onRemove=function(){c.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Dn.prototype.getDefaultPosition=function(){return"bottom-left"},Dn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Dn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Dn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Mn=function ko(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Mn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Mn.prototype.remove=function(t){for(var e=this._currentlyRunning,r=0,n=e?this._queue.concat(e):this._queue;r<n.length;r+=1){var o=n[r];if(o.id===t)return void(o.cancelled=!0)}},Mn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,r=t;e<r.length;e+=1){var n=r[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Mn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var An=t.window.HTMLImageElement,Rn=t.window.HTMLElement,Ln={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},In=function(e){function r(r){var n=this;if(null!=(r=t.extend({},Ln,r)).minZoom&&null!=r.maxZoom&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new ln(r.minZoom,r.maxZoom,r.renderWorldCopies);if(e.call(this,o,r),this._interactive=r.interactive,this._maxTileCacheSize=r.maxTileCacheSize,this._failIfMajorPerformanceCaveat=r.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=r.preserveDrawingBuffer,this._antialias=r.antialias,this._trackResize=r.trackResize,this._bearingSnap=r.bearingSnap,this._refreshExpiredTiles=r.refreshExpiredTiles,this._fadeDuration=r.fadeDuration,this._crossSourceCollisions=r.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=r.collectResourceTiming,this._renderTaskQueue=new Mn,this._controls=[],this._mapId=t.uniqueId(),this._requestManager=new t.RequestManager(r.transformRequest,r.accessToken),"string"==typeof r.container){if(this._container=t.window.document.getElementById(r.container),!this._container)throw new Error("Container '"+r.container+"' not found.")}else{if(!(r.container instanceof Rn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r.container}if(r.maxBounds&&this.setMaxBounds(r.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var r=t.getCanvasContainer(),n=null,o=!1,i=null;for(var a in Pn)t[a]=new Pn[a](t,e),e.interactive&&e[a]&&t[a].enable(e[a]);c.addEventListener(r,"mouseout",(function(e){t.fire(new fn("mouseout",t,e))})),c.addEventListener(r,"mousedown",(function(n){o=!0,i=c.mousePos(r,n);var a=new fn("mousedown",t,n);t.fire(a),a.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(n),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(n),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(n))})),c.addEventListener(r,"mouseup",(function(e){var r=t.dragRotate.isActive();n&&!r&&t.fire(new fn("contextmenu",t,n)),n=null,o=!1,t.fire(new fn("mouseup",t,e))})),c.addEventListener(r,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new fn("mousemove",t,e))}})),c.addEventListener(r,"mouseover",(function(e){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new fn("mouseover",t,e))})),c.addEventListener(r,"touchstart",(function(r){var n=new dn("touchstart",t,r);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(r),t.touchZoomRotate.onStart(r),t.doubleClickZoom.onTouchStart(n))}),{passive:!1}),c.addEventListener(r,"touchmove",(function(e){t.fire(new dn("touchmove",t,e))}),{passive:!1}),c.addEventListener(r,"touchend",(function(e){t.fire(new dn("touchend",t,e))})),c.addEventListener(r,"touchcancel",(function(e){t.fire(new dn("touchcancel",t,e))})),c.addEventListener(r,"click",(function(n){var o=c.mousePos(r,n);(!i||o.equals(i)||o.dist(i)<e.clickTolerance)&&t.fire(new fn("click",t,n))})),c.addEventListener(r,"dblclick",(function(e){var r=new fn("dblclick",t,e);t.fire(r),r.defaultPrevented||t.doubleClickZoom.onDblClick(r)})),c.addEventListener(r,"contextmenu",(function(e){var r=t.dragRotate.isActive();o||r?o&&(n=e):t.fire(new fn("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),c.addEventListener(r,"wheel",(function(r){e.interactive&&t.stop();var n=new hn("wheel",t,r);t.fire(n),n.defaultPrevented||t.scrollZoom.onWheel(r)}),{passive:!1})}(this,r),this._hash=r.hash&&(new pn).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}),r.bounds&&(this.resize(),this.fitBounds(r.bounds,t.extend({},r.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=r.localIdeographFontFamily,r.style&&this.setStyle(r.style,{localIdeographFontFamily:r.localIdeographFontFamily}),r.attributionControl&&this.addControl(new Tn({customAttribution:r.customAttribution})),this.addControl(new Dn,r.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){n.fire(new t.Event(e.dataType+"dataloading",e))}))}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var n={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(e,r){if(void 0===r&&e.getDefaultPosition&&(r=e.getDefaultPosition()),void 0===r&&(r="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=e.onAdd(this);this._controls.push(e);var o=this._controlPositions[r];return-1!==r.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this},r.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(e);return r>-1&&this._controls.splice(r,1),e.onRemove(this),this},r.prototype.resize=function(e){var r=this._containerDimensions(),n=r[0],o=r[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},r.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},r.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},r.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype.on=function(t,r,n){var o=this;if(void 0===n)return e.prototype.on.call(this,t,r);var i=function(){var e;if("mouseenter"===t||"mouseover"===t){var i=!1;return{layer:r,listener:n,delegates:{mousemove:function mousemove(e){var a=o.getLayer(r)?o.queryRenderedFeatures(e.point,{layers:[r]}):[];a.length?i||(i=!0,n.call(o,new fn(t,o,e.originalEvent,{features:a}))):i=!1},mouseout:function mouseout(){i=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:r,listener:n,delegates:{mousemove:function mousemove(e){(o.getLayer(r)?o.queryRenderedFeatures(e.point,{layers:[r]}):[]).length?a=!0:a&&(a=!1,n.call(o,new fn(t,o,e.originalEvent)))},mouseout:function mouseout(e){a&&(a=!1,n.call(o,new fn(t,o,e.originalEvent)))}}}}return{layer:r,listener:n,delegates:(e={},e[t]=function(t){var e=o.getLayer(r)?o.queryRenderedFeatures(t.point,{layers:[r]}):[];e.length&&(t.features=e,n.call(o,t),delete t.features)},e)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i),i.delegates)this.on(a,i.delegates[a]);return this},r.prototype.off=function(t,r,n){if(void 0===n)return e.prototype.off.call(this,t,r);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],i=0;i<o.length;i++){var a=o[i];if(a.layer===r&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(i,1),this}}return this},r.prototype.queryRenderedFeatures=function(e,r){if(!this.style)return[];var n;if(void 0!==r||void 0===e||e instanceof t.Point||Array.isArray(e)||(r=e,e=void 0),r=r||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])n=[t.Point.convert(e)];else{var o=t.Point.convert(e[0]),i=t.Point.convert(e[1]);n=[o,new t.Point(i.x,o.y),i,new t.Point(o.x,i.y),o]}return this.style.queryRenderedFeatures(n,r,this.transform)},r.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},r.prototype.setStyle=function(e,r){return!1!==(r=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(e,r))},r.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new or(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},r.prototype._diffStyle=function(e,r){var n=this;if("string"==typeof e){var o=this._requestManager.normalizeStyleURL(e),i=this._requestManager.transformRequest(o,t.ResourceType.Style);t.getJSON(i,(function(e,o){e?n.fire(new t.ErrorEvent(e)):o&&n._updateDiff(o,r)}))}else"object"==typeof e&&this._updateDiff(e,r)},r.prototype._updateDiff=function(r,n){try{this.style.setState(r)&&this._update(!0)}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch."),this._updateStyle(r,n)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},r.prototype.isSourceLoaded=function(e){var r=this.style&&this.style.sourceCaches[e];if(void 0!==r)return r.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},r.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var r=t[e]._tiles;for(var n in r){var o=r[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},r.prototype.addSourceType=function(t,e,r){return this.style.addSourceType(t,e,r)},r.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},r.prototype.getSource=function(t){return this.style.getSource(t)},r.prototype.addImage=function(e,r,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var i=n.sdf;if(void 0===i&&(i=!1),r instanceof An){var a=t.browser.getImageData(r),s=a.width,u=a.height,l=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:u},l),pixelRatio:o,sdf:i,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=r.width,p=r.height,f=r.data,d=r;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:p},new Uint8Array(f)),pixelRatio:o,sdf:i,version:0,userImage:d}),d.onAdd&&d.onAdd(this,e)}},r.prototype.updateImage=function(e,r){var n=this.style.getImage(e);if(!n)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var o=r instanceof An?t.browser.getImageData(r):r,i=o.width,a=o.height,s=o.data;if(void 0===i||void 0===a)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==n.data.width||a!==n.data.height)return this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var u=!(r instanceof An);n.data.replace(s,u),this.style.updateImage(e,n)},r.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(t){this.style.removeImage(t)},r.prototype.loadImage=function(e,r){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),r)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},r.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},r.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},r.prototype.getLayer=function(t){return this.style.getLayer(t)},r.prototype.setLayerZoomRange=function(t,e,r){return this.style.setLayerZoomRange(t,e,r),this._update(!0)},r.prototype.setFilter=function(t,e,r){return void 0===r&&(r={}),this.style.setFilter(t,e,r),this._update(!0)},r.prototype.getFilter=function(t){return this.style.getFilter(t)},r.prototype.setPaintProperty=function(t,e,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(t,e,r,n),this._update(!0)},r.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},r.prototype.setLayoutProperty=function(t,e,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(t,e,r,n),this._update(!0)},r.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},r.prototype.setLight=function(t,e){return void 0===e&&(e={}),this.style.setLight(t,e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},r.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},r.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=c.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var n=this._controlContainer=c.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=c.create("div","mapboxgl-ctrl-"+t,n)}))},r.prototype._resizeCanvas=function(e,r){var n=t.window.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*r,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px"},r.prototype._setupPainter=function(){var e=t.extend({},l.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);r?(this.painter=new un(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},r.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},r.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},r.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,n=t.browser.now();this.style.zoomHistory.update(r,n);var o=new t.EvaluationParameters(r,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=o.crossFadingFactor();1===i&&i===this._crossFadingFactor||(e=!0,this._crossFadingFactor=i),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),this},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,r=this._controls;e<r.length;e+=1)r[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),No(this._canvasContainer),No(this._controlContainer),No(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},r.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(){e._frame=null,e._render()})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},r.prototype._setCacheLimits=function(e,r){t.setCacheLimits(e,r)},n.version.get=function(){return t.version},Object.defineProperties(r.prototype,n),r}(Cn);function No(t){t.parentNode&&t.parentNode.removeChild(t)}var On={showCompass:!0,showZoom:!0,visualizePitch:!1},kn=function Vo(e){var r=this;this.options=t.extend({},On,e),this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(t){return r._map.zoomOut({},{originalEvent:t})}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassArrow=c.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function qo(e,r,n){if(e=new t.LngLat(e.lng,e.lat),r){var o=new t.LngLat(e.lng-360,e.lat),i=new t.LngLat(e.lng+360,e.lat),a=n.locationPoint(e).distSqr(r);n.locationPoint(o).distSqr(r)<a?e=o:n.locationPoint(i).distSqr(r)<a&&(e=i)}for(;Math.abs(e.lng-n.center.lng)>180;){var s=n.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}kn.prototype._updateZoomButtons=function(){var t=this._map.getZoom();t===this._map.getMaxZoom()?this._zoomInButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomInButton.classList.remove("mapboxgl-ctrl-icon-disabled"),t===this._map.getMinZoom()?this._zoomOutButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomOutButton.classList.remove("mapboxgl-ctrl-icon-disabled")},kn.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},kn.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vn(t,{button:"left",element:this._compass}),c.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),c.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},kn.prototype.onRemove=function(){c.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),c.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),c.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},kn.prototype._createButton=function(t,e,r){var n=c.create("button",t,this._container);return n.type="button",n.title=e,n.setAttribute("aria-label",e),n.addEventListener("click",r),n};var Fn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Go(t,e,r){var n=t.classList;for(var o in Fn)n.remove("mapboxgl-"+r+"-anchor-"+o);n.add("mapboxgl-"+r+"-anchor-"+e)}var Nn,Bn=function(e){function o(r,n){if(e.call(this),(r instanceof t.window.HTMLElement||n)&&(r=t.extend({element:r},n)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=c.create("div");var o=c.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var i=c.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");var a=c.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=c.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<l.length;u+=1){var p=l[u],f=c.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",p.rx),f.setAttributeNS(null,"ry",p.ry),s.appendChild(f)}var d=c.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var h=c.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(h);var m=c.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var y=c.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(y);var g=c.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var v=c.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=c.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=c.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(b),a.appendChild(s),a.appendChild(d),a.appendChild(m),a.appendChild(g),a.appendChild(v),o.appendChild(a),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),Go(this._element,this._anchor,"marker"),this._popup=null}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),c.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},o.prototype._onMapClick=function(t){var e=t.originalEvent.target,r=this._element;this._popup&&(e===r||r.contains(e))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},o.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=qo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),c.setTransform(this._element,Fn[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},o.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o}(t.Evented),Un={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},zn=function(e){function o(r){e.call(this),this.options=t.extend({},Un,r),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.onAdd=function(e){var r;return this._map=e,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Nn?r(Nn):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){Nn="denied"!==t.state,r(Nn)})):(Nn=!!t.window.navigator.geolocation,r(Nn)),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),c.remove(this._container),this._map=void 0},o.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},o.prototype._updateCamera=function(e){var r=new t.LngLat(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,o=this._map.getBearing(),i=t.extend({bearing:o},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),i,{geolocateSource:!0})},o.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},o.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(e){var r=this;!1!==e?(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=c.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.title="Find my location",this._geolocateButton.setAttribute("aria-label","Find my location"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=c.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Bn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){var n=e.originalEvent&&"resize"===e.originalEvent.type;e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||n||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},o.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(t.Evented),jn={maxWidth:100,unit:"metric"},Gn=function Yo(e){this.options=t.extend({},jn,e),t.bindAll(["_onMove","setUnit"],this)};function Qo(t,e,r){var n,o,i,a,s,u,l=r&&r.maxWidth||100,c=t._container.clientHeight/2,p=(n=t.unproject([0,c]),o=t.unproject([l,c]),i=Math.PI/180,a=n.lat*i,s=o.lat*i,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*i),6371e3*Math.acos(Math.min(u,1)));if(r&&"imperial"===r.unit){var f=3.2808*p;f>5280?$o(e,l,f/5280,"mi"):$o(e,l,f,"ft")}else r&&"nautical"===r.unit?$o(e,l,p/1852,"nm"):$o(e,l,p,"m")}function $o(t,e,r,n){var o,i,a,s=(o=r,(i=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/i)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),u=s/r;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*u+"px",t.innerHTML=s+n}Gn.prototype.getDefaultPosition=function(){return"bottom-left"},Gn.prototype._onMove=function(){Qo(this._map,this._container,this.options)},Gn.prototype.onAdd=function(t){return this._map=t,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Gn.prototype.onRemove=function(){c.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Gn.prototype.setUnit=function(t){this.options.unit=t,Qo(this._map,this._container,this.options)};var Vn=function tr(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Vn.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=c.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Vn.prototype.onRemove=function(){c.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Vn.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Vn.prototype._setupUI=function(){(this._fullscreenButton=c.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Vn.prototype._updateTitle=function(){var t=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Vn.prototype._isFullscreen=function(){return this._fullscreen},Vn.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Vn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Wn={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},qn=function(e){function o(r){e.call(this),this.options=t.extend(Object.create(Wn),r),t.bindAll(["_update","_onClickClose","remove"],this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.addTo=function(e){var r=this;return this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(t){r._update(t.point)})),this._map.on("mouseup",(function(t){r._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&c.remove(this._content),this._container&&(c.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new t.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){var t=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(e){t._update(e.point)})),this._map.on("drag",(function(e){t._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},o.prototype.setHTML=function(e){var r,n=t.window.document.createDocumentFragment(),o=t.window.document.createElement("body");for(o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return this.setDOMContent(n)},o.prototype.getMaxWidth=function(){return this._container.style.maxWidth},o.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},o.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},o.prototype._createContent=function(){this._content&&c.remove(this._content),this._content=c.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=c.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},o.prototype._update=function(e){var r=this,n=this._lngLat||this._trackPointer;if(this._map&&n&&this._content&&(this._container||(this._container=c.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=c.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qo(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var o=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),i=this.options.anchor,a=function e(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new t.Point(0,0),top:new t.Point(0,r),"top-left":new t.Point(n,n),"top-right":new t.Point(-n,n),bottom:new t.Point(0,-r),"bottom-left":new t.Point(n,-n),"bottom-right":new t.Point(-n,-n),left:new t.Point(r,0),right:new t.Point(-r,0)}}if(r instanceof t.Point||Array.isArray(r)){var o=t.Point.convert(r);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.Point.convert(r.center||[0,0]),top:t.Point.convert(r.top||[0,0]),"top-left":t.Point.convert(r["top-left"]||[0,0]),"top-right":t.Point.convert(r["top-right"]||[0,0]),bottom:t.Point.convert(r.bottom||[0,0]),"bottom-left":t.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(r["bottom-right"]||[0,0]),left:t.Point.convert(r.left||[0,0]),right:t.Point.convert(r.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!i){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=o.y+a.bottom.y<l?["top"]:o.y>this._map.transform.height-l?["bottom"]:[],o.x<u/2?s.push("left"):o.x>this._map.transform.width-u/2&&s.push("right"),i=0===s.length?"bottom":s.join("-")}var p=o.add(a[i]).round();c.setTransform(this._container,Fn[i]+" translate("+p.x+"px,"+p.y+"px)"),Go(this._container,i,"popup")}},o.prototype._onClickClose=function(){this.remove()},o}(t.Evented),Hn={version:t.version,supported:l,setRTLTextPlugin:t.setRTLTextPlugin,Map:In,NavigationControl:kn,GeolocateControl:zn,AttributionControl:Tn,ScaleControl:Gn,FullscreenControl:Vn,Popup:qn,Marker:Bn,Style:or,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Ee.workerCount},set workerCount(t){Ee.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function clearStorage(e){t.clearTileCache(e)},workerUrl:""};return Hn})),r}()},function(t,e,r){"use strict";var n=r(962);function emptyFunction(){}t.exports=function(){function shim(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return t.checkPropTypes=emptyFunction,t.PropTypes=t,t}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function fromValues(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},function(t,e){t.exports=function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function length(t){var e=t[0],r=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+r*r+n*n+o*o)}},function(t,e){t.exports=function squaredLength(t){var e=t[0],r=t[1],n=t[2],o=t[3];return e*e+r*r+n*n+o*o}},function(t,e){t.exports=function dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},function(t,e){t.exports=function normalize(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r*r+n*n+o*o+i*i;a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=o*a,t[3]=i*a);return t}},function(t,e){t.exports=function add(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}},function(t,e){t.exports=function lerp(t,e,r,n){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t[3]=s+n*(r[3]-s),t}},function(t,e){t.exports=function set(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t}},function(t,e,r){(function(e){var i;i=function(){"use strict";var t,r,n;function define(e,o){if(t)if(r){var i="var sharedChunk = {}; ("+t+")(sharedChunk); ("+r+")(sharedChunk);",a={};t(a),(n=o(a)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else r=o;else t=o}return define(0,(function(i){var a="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var s=o;function o(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n}o.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},o.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},o.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},o.prototype.solveCurveX=function(t,e){var r,n,o,i,a;for(void 0===e&&(e=1e-6),o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=t)<(r=0))return r;if(o>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?r=o:n=o,o=.5*(n-r)+r}return o},o.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var f=function a(t,e,r){this.column=t,this.row=e,this.zoom=r};f.prototype.clone=function(){return new f(this.column,this.row,this.zoom)},f.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},f.prototype.sub=function(t){return this.clone()._sub(t)},f.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},f.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var E=u;function u(t,e){this.x=t,this.y=e}function l(t,e,r,n){var o=new s(t,e,r,n);return function(t){return o.solve(t)}}u.prototype={clone:function clone(){return new u(this.x,this.y)},add:function add(t){return this.clone()._add(t)},sub:function sub(t){return this.clone()._sub(t)},multByPoint:function multByPoint(t){return this.clone()._multByPoint(t)},divByPoint:function divByPoint(t){return this.clone()._divByPoint(t)},mult:function mult(t){return this.clone()._mult(t)},div:function div(t){return this.clone()._div(t)},rotate:function rotate(t){return this.clone()._rotate(t)},rotateAround:function rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult:function matMult(t){return this.clone()._matMult(t)},unit:function unit(){return this.clone()._unit()},perp:function perp(){return this.clone()._perp()},round:function round(){return this.clone()._round()},mag:function mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function equals(t){return this.x===t.x&&this.y===t.y},dist:function dist(t){return Math.sqrt(this.distSqr(t))},distSqr:function distSqr(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function angle(){return Math.atan2(this.y,this.x)},angleTo:function angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function _matMult(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function _add(t){return this.x+=t.x,this.y+=t.y,this},_sub:function _sub(t){return this.x-=t.x,this.y-=t.y,this},_mult:function _mult(t){return this.x*=t,this.y*=t,this},_div:function _div(t){return this.x/=t,this.y/=t,this},_multByPoint:function _multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function _divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit:function _unit(){return this._div(this.mag()),this},_perp:function _perp(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function _rotate(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,o=r*this.x+e*this.y;return this.x=n,this.y=o,this},_rotateAround:function _rotateAround(t,e){var r=Math.cos(t),n=Math.sin(t),o=e.x+r*(this.x-e.x)-n*(this.y-e.y),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=o,this.y=i,this},_round:function _round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(t){return t instanceof u?t:Array.isArray(t)?new u(t[0],t[1]):t};var C=l(.25,.1,.25,1);function c(t,e,r){return Math.min(r,Math.max(e,t))}function h(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,o=e;n<o.length;n+=1){var i=o[n];for(var a in i)t[a]=i[a]}return t}var D=1;function y(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function d(t,e){return-1!==t.indexOf(e,t.length-e.length)}function v(t,e,r){var n={};for(var o in t)n[o]=e.call(r||this,t[o],o,t);return n}function m(t,e,r){var n={};for(var o in t)e.call(r||this,t[o],o,t)&&(n[o]=t[o]);return n}function g(t){return Array.isArray(t)?t.map(g):"object"==typeof t&&t?v(t,g):t}var A={};function b(t){A[t]||("undefined"!=typeof console&&console.warn(t),A[t]=!0)}function w(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function _(t){for(var e=0,r=0,n=t.length,o=n-1,i=void 0,a=void 0;r<n;o=r++)i=t[r],e+=((a=t[o]).x-i.x)*(i.y+a.y);return e}var R={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(R);var I=function(t){function e(e,r,n){t.call(this,e),this.status=r,this.url=n,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function z(t){var e=new self.XMLHttpRequest;for(var r in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(r,t.headers[r]);return e.withCredentials="include"===t.credentials,e}var k=function S(t,e){var r=z(t);return r.responseType="arraybuffer",r.onerror=function(){e(new Error(r.statusText))},r.onload=function(){var n=r.response;if(0===n.byteLength&&200===r.status)return e(new Error("http status 200 returned without content."));r.status>=200&&r.status<300&&r.response?e(null,{data:n,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):e(new I(r.statusText,r.status,t.url))},r.send(),r};function M(t,e,r){r[t]=r[t]||[],r[t].push(e)}function V(t,e,r){if(r&&r[t]){var n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1)}}var F=function B(t,e){void 0===e&&(e={}),h(this,e),this.type=t},N=function(t){function e(e,r){void 0===r&&(r={}),t.call(this,"error",h({error:e},r))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(F),U=function I(){};U.prototype.on=function(t,e){return this._listeners=this._listeners||{},M(t,e,this._listeners),this},U.prototype.off=function(t,e){return V(t,e,this._listeners),V(t,e,this._oneTimeListeners),this},U.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},M(t,e,this._oneTimeListeners),this},U.prototype.fire=function(t){"string"==typeof t&&(t=new F(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){t.target=this;for(var r=0,n=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];r<n.length;r+=1)n[r].call(this,t);for(var o=0,i=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];o<i.length;o+=1){var a=i[o];V(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(h(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else d(e,"error")?console.error(t&&t.error||t||"Empty error event"):d(e,"warning")&&console.warn(t&&t.warning||t||"Empty warning event");return this},U.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},U.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var j={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"line-gradient":{type:"color",function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}]}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}}},G=function F(t,e,r,n){this.message=(t?t+": ":"")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)};function P(t){var e=t.key,r=t.value;return r?[new G(e,r,"constants have been deprecated as of v8")]:[]}function T(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,o=e;n<o.length;n+=1){var i=o[n];for(var a in i)t[a]=i[a]}return t}function O(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function L(t){return Array.isArray(t)?t.map(L):O(t)}var W=function(t){function e(e,r){t.call(this,r),this.message=r,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),q=function q(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o[0],a=o[1];this.bindings[i]=a}};q.prototype.concat=function(t){return new q(this,t)},q.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},q.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var K={kind:"null"},Z={kind:"number"},Q={kind:"string"},$={kind:"boolean"},J={kind:"color"},tt={kind:"object"},ot={kind:"value"},it={kind:"collator"};function H(t,e){return{kind:"array",itemType:t,N:e}}function X(t){if("array"===t.kind){var e=X(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var at=[K,Z,Q,$,J,tt,H(ot)];function Y(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!Y(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var r=0,n=at;r<n.length;r+=1)if(!Y(n[r],e))return null}return"Expected "+X(t)+" but found "+X(e)+" instead."}var st=n((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),p=i.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[o(p[0]),o(p[1]),o(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var d=(parseFloat(p[0])%360+360)%360/360,h=a(p[1]),m=a(p[2]),y=m<=.5?m*(h+1):m+h-m*h,g=2*m-y;return[n(255*s(g,y,d+1/3)),n(255*s(g,y,d)),n(255*s(g,y,d-1/3)),f];default:return null}}return null}}catch(t){}})).parseCSSColor,ut=function Q(t,e,r,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=r,this.a=n};ut.parse=function(t){if(t){if(t instanceof ut)return t;if("string"==typeof t){var e=st(t);if(e)return new ut(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ut.prototype.toString=function(){var t=this.toArray(),e=t[0],r=t[1],n=t[2],o=t[3];return"rgba("+Math.round(e)+","+Math.round(r)+","+Math.round(n)+","+o+")"},ut.prototype.toArray=function(){var t=this.r,e=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]},ut.black=new ut(0,0,0,1),ut.white=new ut(1,1,1,1),ut.transparent=new ut(0,0,0,0);var lt=function tt(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};lt.prototype.compare=function(t,e){return this.collator.compare(t,e)},lt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ct=function et(t,e,r){this.type=it,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e};function rt(t,e,r,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[t,e,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,r,n]:[t,e,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function nt(t){if(null===t)return K;if("string"==typeof t)return Q;if("boolean"==typeof t)return $;if("number"==typeof t)return Z;if(t instanceof ut)return J;if(t instanceof lt)return it;if(Array.isArray(t)){for(var e,r=t.length,n=0,o=t;n<o.length;n+=1){var i=nt(o[n]);if(e){if(e===i)continue;e=ot;break}e=i}return H(e||ot,r)}return tt}ct.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");var n=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,$);if(!n)return null;var o=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,$);if(!o)return null;var i=null;return r.locale&&!(i=e.parse(r.locale,1,Q))?null:new ct(n,o,i)},ct.prototype.evaluate=function(t){return new lt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ct.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ct.prototype.possibleOutputs=function(){return[void 0]},ct.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var pt=function it(t,e){this.type=t,this.value=e};pt.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ut)return!0;if(e instanceof lt)return!0;if(Array.isArray(e)){for(var r=0,n=e;r<n.length;r+=1)if(!t(n[r]))return!1;return!0}if("object"==typeof e){for(var o in e)if(!t(e[o]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var r=t[1],n=nt(r),o=e.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(n=o),new pt(n,r)},pt.prototype.evaluate=function(){return this.value},pt.prototype.eachChild=function(){},pt.prototype.possibleOutputs=function(){return[this.value]},pt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ut?["rgba"].concat(this.value.toArray()):this.value};var ft=function ot(t){this.name="ExpressionEvaluationError",this.message=t};ft.prototype.toJSON=function(){return this.message};var ht={string:Q,number:Z,boolean:$,object:tt},mt=function st(t,e){this.type=t,this.args=e};mt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var r=t[0],n=ht[r],o=[],i=1;i<t.length;i++){var a=e.parse(t[i],i,ot);if(!a)return null;o.push(a)}return new mt(n,o)},mt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var r=this.args[e].evaluate(t);if(!Y(this.type,nt(r)))return r;if(e===this.args.length-1)throw new ft("Expected value to be of type "+X(this.type)+", but found "+X(nt(r))+" instead.")}return null},mt.prototype.eachChild=function(t){this.args.forEach(t)},mt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},mt.prototype.serialize=function(){return[this.type.kind].concat(this.args.map((function(t){return t.serialize()})))};var yt={string:Q,number:Z,boolean:$},_t=function lt(t,e){this.type=t,this.input=e};_t.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var r,n;if(t.length>2){var o=t[1];if("string"!=typeof o||!(o in yt))return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=yt[o]}else r=ot;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);n=t[2]}var i=H(r,n),a=e.parse(t[t.length-1],t.length-1,ot);return a?new _t(i,a):null},_t.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(Y(this.type,nt(e)))throw new ft("Expected value to be of type "+X(this.type)+", but found "+X(nt(e))+" instead.");return e},_t.prototype.eachChild=function(t){t(this.input)},_t.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},_t.prototype.serialize=function(){var t=["array"],e=this.type.itemType;if("string"===e.kind||"number"===e.kind||"boolean"===e.kind){t.push(e.kind);var r=this.type.N;"number"==typeof r&&t.push(r)}return t.push(this.input.serialize()),t};var bt={"to-number":Z,"to-color":J},St=function ct(t,e){this.type=t,this.args=e};St.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var r=t[0],n=bt[r],o=[],i=1;i<t.length;i++){var a=e.parse(t[i],i,ot);if(!a)return null;o.push(a)}return new St(n,o)},St.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,r,n=0,o=this.args;n<o.length;n+=1)if(r=null,"string"==typeof(e=o[n].evaluate(t))){var i=t.parseColor(e);if(i)return i}else if(Array.isArray(e)&&!(r=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":rt(e[0],e[1],e[2],e[3])))return new ut(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new ft(r||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}for(var a=null,s=0,u=this.args;s<u.length;s+=1)if(null!==(a=u[s].evaluate(t))){var l=Number(a);if(!isNaN(l))return l}throw new ft("Could not convert "+JSON.stringify(a)+" to number.")},St.prototype.eachChild=function(t){this.args.forEach(t)},St.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},St.prototype.serialize=function(){var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Et=["Unknown","Point","LineString","Polygon"],Tt=function ft(){this._parseColorCache={}};Tt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Tt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Et[this.feature.type]:this.feature.type:null},Tt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Tt.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ut.parse(t)),e};var Mt=function yt(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n};function dt(t){if(t instanceof Mt){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!dt(t)&&(e=!1)})),e}function vt(t,e){if(t instanceof Mt&&e.indexOf(t.name)>=0)return!1;var r=!0;return t.eachChild((function(t){r&&!vt(t,e)&&(r=!1)})),r}Mt.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Mt.prototype.eachChild=function(t){this.args.forEach(t)},Mt.prototype.possibleOutputs=function(){return[void 0]},Mt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},Mt.parse=function(t,e){var r=t[0],n=Mt.definitions[r];if(!n)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(n)?n[0]:n.type,i=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=i.filter((function(e){var r=e[0];return!Array.isArray(r)||r.length===t.length-1})),s=[],u=1;u<t.length;u++){var l=t[u],c=void 0;if(1===a.length){var p=a[0][0];c=Array.isArray(p)?p[u-1]:p.type}var f=e.parse(l,1+s.length,c);if(!f)return null;s.push(f)}for(var d=null,h=0,m=a;h<m.length;h+=1){var y=m[h],g=y[0],v=y[1];if(d=new Ft(e.registry,e.path,null,e.scope),Array.isArray(g)&&g.length!==s.length)d.error("Expected "+g.length+" arguments, but found "+s.length+" instead.");else{for(var _=0;_<s.length;_++){var b=Array.isArray(g)?g[_]:g.type,S=s[_];d.concat(_+1).checkSubtype(b,S.type)}if(0===d.errors.length)return new Mt(r,o,v,s)}}if(1===a.length)e.errors.push.apply(e.errors,d.errors);else{var x=(a.length?a:i).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(X).join(", ")+")":"("+X(e.type)+"...)"})).join(" | "),w=s.map((function(t){return X(t.type)})).join(", ");e.error("Expected arguments of type "+x+", but found ("+w+") instead.")}return null},Mt.register=function(t,e){for(var r in Mt.definitions=e,e)t[r]=Mt};var At=function mt(t,e){this.type=e.type,this.name=t,this.boundExpression=e};At.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var r=t[1];return e.scope.has(r)?new At(r,e.scope.get(r)):e.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},At.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},At.prototype.eachChild=function(){},At.prototype.possibleOutputs=function(){return[void 0]},At.prototype.serialize=function(){return["var",this.name]};var Ft=function gt(t,e,r,n,o){void 0===e&&(e=[]),void 0===n&&(n=new q),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=n,this.errors=o,this.expectedType=r};function xt(t,e){for(var r,n,o=0,i=t.length-1,a=0;o<=i;){if(r=t[a=Math.floor((o+i)/2)],n=t[a+1],e===r||e>r&&e<n)return a;if(r<e)o=a+1;else{if(!(r>e))throw new ft("Input is not a number.");i=a-1}}return Math.max(a-1,0)}Ft.prototype.parse=function(t,e,r,n,o){return void 0===o&&(o={}),e?this.concat(e,r,n)._parse(t,o):this._parse(t,o)},Ft.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var n=this.registry[r];if(n){var o=n.parse(t,this);if(!o)return null;if(this.expectedType){var i=this.expectedType,a=o.type;if("string"!==i.kind&&"number"!==i.kind&&"boolean"!==i.kind&&"object"!==i.kind||"value"!==a.kind)if("array"===i.kind&&"value"===a.kind)e.omitTypeAnnotations||(o=new _t(i,o));else if("color"!==i.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,o.type))return null}else e.omitTypeAnnotations||(o=new St(i,[o]));else e.omitTypeAnnotations||(o=new mt(i,[o]))}if(!(o instanceof pt)&&function t(e){if(e instanceof At)return t(e.boundExpression);if(e instanceof Mt&&"error"===e.name)return!1;if(e instanceof ct)return!1;var r=e instanceof St||e instanceof mt||e instanceof _t,n=!0;return e.eachChild((function(e){n=r?n&&t(e):n&&e instanceof pt})),!!n&&dt(e)&&vt(e,["zoom","heatmap-density","line-progress","is-supported-script"])}(o)){var s=new Tt;try{o=new pt(o.type,o.evaluate(s))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Ft.prototype.concat=function(t,e,r){var n="number"==typeof t?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new Ft(this.registry,n,e||null,o,this.errors)},Ft.prototype.error=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var n=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new W(n,t))},Ft.prototype.checkSubtype=function(t,e){var r=Y(t,e);return r&&this.error(r),r};var Bt=function bt(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var n=0,o=r;n<o.length;n+=1){var i=o[n],a=i[0],s=i[1];this.labels.push(a),this.outputs.push(s)}};function wt(t,e,r){return t*(1-r)+e*r}Bt.parse=function(t,e){var r=t[1],n=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,1,Z)))return null;var o=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType),n.unshift(-1/0);for(var a=0;a<n.length;a+=2){var s=n[a],u=n[a+1],l=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(o.length&&o[o.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var p=e.parse(u,c,i);if(!p)return null;i=i||p.type,o.push([s,p])}return new Bt(i,r,o)},Bt.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var o=e.length;return n>=e[o-1]?r[o-1].evaluate(t):r[xt(e,n)].evaluate(t)},Bt.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1)t(r[e])},Bt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})));var t},Bt.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var zt=Object.freeze({number:wt,color:function color(t,e,r){return new ut(wt(t.r,e.r,r),wt(t.g,e.g,r),wt(t.b,e.b,r),wt(t.a,e.a,r))},array:function array(t,e,r){return t.map((function(t,n){return wt(t,e[n],r)}))}}),Gt=function At(t,e,r,n){this.type=t,this.interpolation=e,this.input=r,this.labels=[],this.outputs=[];for(var o=0,i=n;o<i.length;o+=1){var a=i[o],s=a[0],u=a[1];this.labels.push(s),this.outputs.push(u)}};function kt(t,e,r,n){var o=n-r,i=t-r;return 0===o?0:1===e?i/o:(Math.pow(e,i)-1)/(Math.pow(e,o)-1)}Gt.interpolationFactor=function(t,e,r,n){var o=0;if("exponential"===t.name)o=kt(e,t.base,r,n);else if("linear"===t.name)o=kt(e,1,r,n);else if("cubic-bezier"===t.name){var i=t.controlPoints;o=new s(i[0],i[1],i[2],i[3]).solve(kt(e,1,r,n))}return o},Gt.parse=function(t,e){var r=t[1],n=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var i=r[1];if("number"!=typeof i)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:i}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var a=r.slice(1);if(4!==a.length||a.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,2,Z)))return null;var s=[],u=null;e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var l=0;l<o.length;l+=2){var c=o[l],p=o[l+1],f=l+3,d=l+4;if("number"!=typeof c)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(s.length&&s[s.length-1][0]>=c)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var h=e.parse(p,d,u);if(!h)return null;u=u||h.type,s.push([c,h])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Gt(u,r,n,s):e.error("Type "+X(u)+" is not interpolatable.")},Gt.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var o=e.length;if(n>=e[o-1])return r[o-1].evaluate(t);var i=xt(e,n),a=e[i],s=e[i+1],u=Gt.interpolationFactor(this.interpolation,n,a,s),l=r[i].evaluate(t),c=r[i+1].evaluate(t);return zt[this.type.kind.toLowerCase()](l,c,u)},Gt.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1)t(r[e])},Gt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})));var t},Gt.prototype.serialize=function(){for(var t=["interpolate","linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints),this.input.serialize()],e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t};var Vt=function zt(t,e){this.type=t,this.args=e};Vt.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var r=null,n=e.expectedType;n&&"value"!==n.kind&&(r=n);for(var o=[],i=0,a=t.slice(1);i<a.length;i+=1){var s=a[i],u=e.parse(s,1+o.length,r,void 0,{omitTypeAnnotations:!0});if(!u)return null;r=r||u.type,o.push(u)}var l=n&&o.some((function(t){return Y(n,t.type)}));return new Vt(l?ot:r,o)},Vt.prototype.evaluate=function(t){for(var e=null,r=0,n=this.args;r<n.length&&null===(e=n[r].evaluate(t));r+=1);return e},Vt.prototype.eachChild=function(t){this.args.forEach(t)},Vt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})));var t},Vt.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Wt=function St(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Wt.prototype.evaluate=function(t){return this.result.evaluate(t)},Wt.prototype.eachChild=function(t){for(var e=0,r=this.bindings;e<r.length;e+=1)t(r[e][1]);t(this.result)},Wt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],n=1;n<t.length-1;n+=2){var o=t[n];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=e.parse(t[n+1],n+1);if(!i)return null;r.push([o,i])}var a=e.parse(t[t.length-1],t.length-1,void 0,r);return a?new Wt(r,a):null},Wt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Wt.prototype.serialize=function(){for(var t=["let"],e=0,r=this.bindings;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];t.push(o,i.serialize())}return t.push(this.result.serialize()),t};var Ht=function Mt(t,e,r){this.type=t,this.index=e,this.input=r};Ht.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1,Z),n=e.parse(t[2],2,H(e.expectedType||ot));if(!r||!n)return null;var o=n.type;return new Ht(o.itemType,r,n)},Ht.prototype.evaluate=function(t){var e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new ft("Array index out of bounds: "+e+" < 0.");if(e>=r.length)throw new ft("Array index out of bounds: "+e+" > "+(r.length-1)+".");if(e!==Math.floor(e))throw new ft("Array index must be an integer, but found "+e+" instead.");return r[e]},Ht.prototype.eachChild=function(t){t(this.index),t(this.input)},Ht.prototype.possibleOutputs=function(){return[void 0]},Ht.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Yt=function Vt(t,e,r,n,o,i){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=o,this.otherwise=i};Yt.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var r,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var o={},i=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var f=p[c];if("number"!=typeof f&&"string"!=typeof f)return l.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,nt(f)))return null}else r=nt(f);if(void 0!==o[String(f)])return l.error("Branch labels must be unique.");o[String(f)]=i.length}var d=e.parse(u,a,n);if(!d)return null;n=n||d.type,i.push(d)}var h=e.parse(t[1],1,r);if(!h)return null;var m=e.parse(t[t.length-1],t.length-1,n);return m?new Yt(r,n,h,o,i,m):null},Yt.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Yt.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Yt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs());var t},Yt.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],r=[],n={},o=0,i=Object.keys(this.cases).sort();o<i.length;o+=1){var a=i[o],s=n[t.cases[a]];void 0===s?(n[t.cases[a]]=r.length,r.push([t.cases[a],[a]])):r[s][1].push(a)}for(var l=function u(e){return"number"===t.input.type.kind?Number(e):e},c=0,p=r;c<p.length;c+=1){var f=p[c],d=f[0],h=f[1];1===h.length?e.push(l(h[0])):e.push(h.map(l)),e.push(t.outputs[d].serialize())}return e.push(this.otherwise.serialize()),e};var Xt=function Bt(t,e,r){this.type=t,this.branches=e,this.otherwise=r};function Ct(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function It(t,e){return function(){function r(t,e,r){this.type=$,this.lhs=t,this.rhs=e,this.collator=r}return r.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=e.parse(t[1],1,ot);if(!n)return null;var o=e.parse(t[2],2,ot);if(!o)return null;if(!Ct(n.type)&&!Ct(o.type))return e.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+X(n.type)+", "+X(o.type)+") instead.");if(n.type.kind!==o.type.kind&&"value"!==n.type.kind&&"value"!==o.type.kind)return e.error("Cannot compare "+X(n.type)+" and "+X(o.type)+".");var i=null;if(4===t.length){if("string"!==n.type.kind&&"string"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(i=e.parse(t[3],3,it)))return null}return new r(n,o,i)},r.prototype.evaluate=function(t){var r=this.collator?0===this.collator.evaluate(t).compare(this.lhs.evaluate(t),this.rhs.evaluate(t)):this.lhs.evaluate(t)===this.rhs.evaluate(t);return e?!r:r},r.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},r.prototype.possibleOutputs=function(){return[!0,!1]},r.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},r}()}Xt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n=[],o=1;o<t.length-1;o+=2){var i=e.parse(t[o],o,$);if(!i)return null;var a=e.parse(t[o+1],o+1,r);if(!a)return null;n.push([i,a]),r=r||a.type}var s=e.parse(t[t.length-1],t.length-1,r);return s?new Xt(r,n,s):null},Xt.prototype.evaluate=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];if(o.evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},Xt.prototype.eachChild=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],o=n[0],i=n[1];t(o),t(i)}t(this.otherwise)},Xt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs());var t},Xt.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Qt=It("==",!1),$t=It("!=",!0),Jt=function Pt(t){this.type=Z,this.input=t};Jt.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error("Expected argument of type string or array, but found "+X(r.type)+" instead."):new Jt(r):null},Jt.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ft("Expected value to be of type string or array, but found "+X(nt(e))+" instead.")},Jt.prototype.eachChild=function(t){t(this.input)},Jt.prototype.possibleOutputs=function(){return[void 0]},Jt.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var te={"==":Qt,"!=":$t,array:_t,at:Ht,boolean:mt,case:Xt,coalesce:Vt,collator:ct,interpolate:Gt,length:Jt,let:Wt,literal:pt,match:Yt,number:mt,object:mt,step:Bt,string:mt,"to-color":St,"to-number":St,var:At};function Ot(t,e){var r=e[0],n=e[1],o=e[2],i=e[3];r=r.evaluate(t),n=n.evaluate(t),o=o.evaluate(t);var a=i?i.evaluate(t):1,s=rt(r,n,o,a);if(s)throw new ft(s);return new ut(r/255*a,n/255*a,o/255*a,a)}function Lt(t,e){return t in e}function jt(t,e){var r=e[t];return void 0===r?null:r}function qt(t,e){var r=e[0],n=e[1];return r.evaluate(t)<n.evaluate(t)}function Rt(t,e){var r=e[0],n=e[1];return r.evaluate(t)>n.evaluate(t)}function Ut(t,e){var r=e[0],n=e[1];return r.evaluate(t)<=n.evaluate(t)}function Dt(t,e){var r=e[0],n=e[1];return r.evaluate(t)>=n.evaluate(t)}function Nt(t){return{type:t}}function Zt(t){return{result:"success",value:t}}function Kt(t){return{result:"error",value:t}}Mt.register(te,{error:[{kind:"error"},[Q],function(t,e){var r=e[0];throw new ft(r.evaluate(t))}],typeof:[Q,[ot],function(t,e){return X(nt(e[0].evaluate(t)))}],"to-string":[Q,[ot],function(t,e){var r=e[0],n=typeof(r=r.evaluate(t));return null===r?"":"string"===n||"number"===n||"boolean"===n?String(r):r instanceof ut?r.toString():JSON.stringify(r)}],"to-boolean":[$,[ot],function(t,e){var r=e[0];return Boolean(r.evaluate(t))}],"to-rgba":[H(Z,4),[J],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[J,[Z,Z,Z],Ot],rgba:[J,[Z,Z,Z,Z],Ot],has:{type:$,overloads:[[[Q],function(t,e){return Lt(e[0].evaluate(t),t.properties())}],[[Q,tt],function(t,e){var r=e[0],n=e[1];return Lt(r.evaluate(t),n.evaluate(t))}]]},get:{type:ot,overloads:[[[Q],function(t,e){return jt(e[0].evaluate(t),t.properties())}],[[Q,tt],function(t,e){var r=e[0],n=e[1];return jt(r.evaluate(t),n.evaluate(t))}]]},properties:[tt,[],function(t){return t.properties()}],"geometry-type":[Q,[],function(t){return t.geometryType()}],id:[ot,[],function(t){return t.id()}],zoom:[Z,[],function(t){return t.globals.zoom}],"heatmap-density":[Z,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Z,[],function(t){return t.globals.lineProgress||0}],"+":[Z,Nt(Z),function(t,e){for(var r=0,n=0,o=e;n<o.length;n+=1)r+=o[n].evaluate(t);return r}],"*":[Z,Nt(Z),function(t,e){for(var r=1,n=0,o=e;n<o.length;n+=1)r*=o[n].evaluate(t);return r}],"-":{type:Z,overloads:[[[Z,Z],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)-n.evaluate(t)}],[[Z],function(t,e){return-e[0].evaluate(t)}]]},"/":[Z,[Z,Z],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)/n.evaluate(t)}],"%":[Z,[Z,Z],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)%n.evaluate(t)}],ln2:[Z,[],function(){return Math.LN2}],pi:[Z,[],function(){return Math.PI}],e:[Z,[],function(){return Math.E}],"^":[Z,[Z,Z],function(t,e){var r=e[0],n=e[1];return Math.pow(r.evaluate(t),n.evaluate(t))}],sqrt:[Z,[Z],function(t,e){var r=e[0];return Math.sqrt(r.evaluate(t))}],log10:[Z,[Z],function(t,e){var r=e[0];return Math.log10(r.evaluate(t))}],ln:[Z,[Z],function(t,e){var r=e[0];return Math.log(r.evaluate(t))}],log2:[Z,[Z],function(t,e){var r=e[0];return Math.log2(r.evaluate(t))}],sin:[Z,[Z],function(t,e){var r=e[0];return Math.sin(r.evaluate(t))}],cos:[Z,[Z],function(t,e){var r=e[0];return Math.cos(r.evaluate(t))}],tan:[Z,[Z],function(t,e){var r=e[0];return Math.tan(r.evaluate(t))}],asin:[Z,[Z],function(t,e){var r=e[0];return Math.asin(r.evaluate(t))}],acos:[Z,[Z],function(t,e){var r=e[0];return Math.acos(r.evaluate(t))}],atan:[Z,[Z],function(t,e){var r=e[0];return Math.atan(r.evaluate(t))}],min:[Z,Nt(Z),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Z,Nt(Z),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Z,[Z],function(t,e){var r=e[0];return Math.abs(r.evaluate(t))}],round:[Z,[Z],function(t,e){var r=e[0].evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[Z,[Z],function(t,e){var r=e[0];return Math.floor(r.evaluate(t))}],ceil:[Z,[Z],function(t,e){var r=e[0];return Math.ceil(r.evaluate(t))}],"filter-==":[$,[Q,ot],function(t,e){var r=e[0],n=e[1];return t.properties()[r.value]===n.value}],"filter-id-==":[$,[ot],function(t,e){var r=e[0];return t.id()===r.value}],"filter-type-==":[$,[Q],function(t,e){var r=e[0];return t.geometryType()===r.value}],"filter-<":[$,[Q,ot],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o<i}],"filter-id-<":[$,[ot],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n<o}],"filter->":[$,[Q,ot],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o>i}],"filter-id->":[$,[ot],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n>o}],"filter-<=":[$,[Q,ot],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o<=i}],"filter-id-<=":[$,[ot],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n<=o}],"filter->=":[$,[Q,ot],function(t,e){var r=e[0],n=e[1],o=t.properties()[r.value],i=n.value;return typeof o==typeof i&&o>=i}],"filter-id->=":[$,[ot],function(t,e){var r=e[0],n=t.id(),o=r.value;return typeof n==typeof o&&n>=o}],"filter-has":[$,[ot],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[$,[],function(t){return null!==t.id()}],"filter-type-in":[$,[H(Q)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[$,[H(ot)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[$,[Q,H(ot)],function(t,e){var r=e[0];return e[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[$,[Q,H(ot)],function(t,e){var r=e[0],n=e[1];return function(t,e,r,n){for(;r<=n;){var o=r+n>>1;if(e[o]===t)return!0;e[o]>t?n=o-1:r=o+1}return!1}(t.properties()[r.value],n.value,0,n.value.length-1)}],">":{type:$,overloads:[[[Z,Z],Rt],[[Q,Q],Rt],[[Q,Q,it],function(t,e){var r=e[0],n=e[1];return e[2].evaluate(t).compare(r.evaluate(t),n.evaluate(t))>0}]]},"<":{type:$,overloads:[[[Z,Z],qt],[[Q,Q],qt],[[Q,Q,it],function(t,e){var r=e[0],n=e[1];return e[2].evaluate(t).compare(r.evaluate(t),n.evaluate(t))<0}]]},">=":{type:$,overloads:[[[Z,Z],Dt],[[Q,Q],Dt],[[Q,Q,it],function(t,e){var r=e[0],n=e[1];return e[2].evaluate(t).compare(r.evaluate(t),n.evaluate(t))>=0}]]},"<=":{type:$,overloads:[[[Z,Z],Ut],[[Q,Q],Ut],[[Q,Q,it],function(t,e){var r=e[0],n=e[1];return e[2].evaluate(t).compare(r.evaluate(t),n.evaluate(t))<=0}]]},all:{type:$,overloads:[[[$,$],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)&&n.evaluate(t)}],[Nt($),function(t,e){for(var r=0,n=e;r<n.length;r+=1)if(!n[r].evaluate(t))return!1;return!0}]]},any:{type:$,overloads:[[[$,$],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)||n.evaluate(t)}],[Nt($),function(t,e){for(var r=0,n=e;r<n.length;r+=1)if(n[r].evaluate(t))return!0;return!1}]]},"!":[$,[$],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[$,[Q],function(t,e){var r=e[0],n=t.globals&&t.globals.isSupportedScript;return!n||n(r.evaluate(t))}],upcase:[Q,[Q],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Q,[Q],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Q,Nt(Q),function(t,e){return e.map((function(e){return e.evaluate(t)})).join("")}],"resolved-locale":[Q,[it],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var se=.95047,ue=1,le=1.08883,_e=4/29,Pe=6/29,Ge=3*Pe*Pe,rr=Pe*Pe*Pe,nr=Math.PI/180,or=180/Math.PI;function ee(t){return t>rr?Math.pow(t,1/3):t/Ge+_e}function re(t){return t>Pe?t*t*t:Ge*(t-_e)}function ne(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ie(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function oe(t){var e=ie(t.r),r=ie(t.g),n=ie(t.b),o=ee((.4124564*e+.3575761*r+.1804375*n)/se),i=ee((.2126729*e+.7151522*r+.072175*n)/ue);return{l:116*i-16,a:500*(o-i),b:200*(i-ee((.0193339*e+.119192*r+.9503041*n)/le)),alpha:t.a}}function ae(t){var e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=ue*re(e),r=se*re(r),n=le*re(n),new ut(ne(3.2404542*r-1.5371385*e-.4985314*n),ne(-.969266*r+1.8760108*e+.041556*n),ne(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}var ir={forward:oe,reverse:ae,interpolate:function interpolate(t,e,r){return{l:wt(t.l,e.l,r),a:wt(t.a,e.a,r),b:wt(t.b,e.b,r),alpha:wt(t.alpha,e.alpha,r)}}},sr={forward:function forward(t){var e=oe(t),r=e.l,n=e.a,o=e.b,i=Math.atan2(o,n)*or;return{h:i<0?i+360:i,c:Math.sqrt(n*n+o*o),l:r,alpha:t.a}},reverse:function reverse(t){var e=t.h*nr,r=t.c;return ae({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function interpolate(t,e,r){return{h:function(t,e,r){var n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}(t.h,e.h,r),c:wt(t.c,e.c,r),l:wt(t.l,e.l,r),alpha:wt(t.alpha,e.alpha,r)}}},ur=Object.freeze({lab:ir,hcl:sr});function pe(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ce(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function he(t){return t}function fe(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function ye(t,e,r,n,o){return fe(typeof r===o?n[r]:void 0,t.default,e.default)}function de(t,e,r){if("number"!==pe(r))return fe(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];var o=ge(t.stops,r);return t.stops[o][1]}function ve(t,e,r){var n=void 0!==t.base?t.base:1;if("number"!==pe(r))return fe(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[o-1][0])return t.stops[o-1][1];var i=ge(t.stops,r),a=function(t,e,r,n){var o=n-r,i=t-r;return 0===o?0:1===e?i/o:(Math.pow(e,i)-1)/(Math.pow(e,o)-1)}(r,n,t.stops[i][0],t.stops[i+1][0]),s=t.stops[i][1],u=t.stops[i+1][1],c=zt[e.type]||he;if(t.colorSpace&&"rgb"!==t.colorSpace){var p=ur[t.colorSpace];c=function l(t,e){return p.reverse(p.interpolate(p.forward(t),p.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function evaluate(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=s.evaluate.apply(void 0,t),n=u.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==n)return c(r,n,a)}}:c(s,u,a)}function me(t,e,r){return"color"===e.type?r=ut.parse(r):pe(r)===e.type||"enum"===e.type&&e.values[r]||(r=void 0),fe(r,t.default,e.default)}function ge(t,e){for(var r,n,o=0,i=t.length-1,a=0;o<=i;){if(r=t[a=Math.floor((o+i)/2)][0],n=t[a+1][0],e===r||e>r&&e<n)return a;r<e?o=a+1:r>e&&(i=a-1)}return Math.max(a-1,0)}var cr=function xe(t,e){var r;this.expression=t,this._warningHistory={},this._defaultValue="color"===(r=e).type&&ce(r.default)?new ut(0,0,0,0):"color"===r.type?ut.parse(r.default)||null:void 0===r.default?null:r.default,"enum"===e.type&&(this._enumValues=e.values)};function be(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in te}function we(t,e){var r=new Ft(te,[],function(t){var e={color:J,string:Q,number:Z,enum:Q,boolean:$};return"array"===t.type?H(e[t.value]||ot,t.length):e[t.type]||null}(e)),n=r.parse(t);return n?Zt(new cr(n,e)):Kt(r.errors)}cr.prototype.evaluateWithoutErrorHandling=function(t,e){return this._evaluator||(this._evaluator=new Tt),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)},cr.prototype.evaluate=function(t,e){this._evaluator||(this._evaluator=new Tt),this._evaluator.globals=t,this._evaluator.feature=e;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new ft("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var pr=function _e(t,e){this.kind=t,this._styleExpression=e};pr.prototype.evaluateWithoutErrorHandling=function(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)},pr.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)};var fr=function Ae(t,e,r){this.kind=t,this.zoomStops=r.labels,this._styleExpression=e,r instanceof Gt&&(this._interpolationType=r.interpolation)};function ke(t,e){if("error"===(t=we(t,e)).result)return t;var r=t.value.expression,n=dt(r);if(!n&&!e["property-function"])return Kt([new W("","property expressions not supported")]);var o=vt(r,["zoom"]);if(!o&&!1===e["zoom-function"])return Kt([new W("","zoom expressions not supported")]);var i=function t(e){var r=null;if(e instanceof Wt)r=t(e.result);else if(e instanceof Vt)for(var n=0,o=e.args;n<o.length;n+=1){var i=o[n];if(r=t(i))break}else(e instanceof Bt||e instanceof Gt)&&e.input instanceof Mt&&"zoom"===e.input.name&&(r=e);return r instanceof W?r:(e.eachChild((function(e){var n=t(e);n instanceof W?r=n:!r&&n?r=new W("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new W("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r)}(r);return i||o?i instanceof W?Kt([i]):i instanceof Gt&&"piecewise-constant"===e.function?Kt([new W("",'"interpolate" expressions cannot be used with this property')]):Zt(i?new fr(n?"camera":"composite",t.value,i):new pr(n?"constant":"source",t.value)):Kt([new W("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}fr.prototype.evaluateWithoutErrorHandling=function(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)},fr.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)},fr.prototype.interpolationFactor=function(t,e,r){return this._interpolationType?Gt.interpolationFactor(this._interpolationType,t,e,r):0};var mr=function ze(t,e){this._parameters=t,this._specification=e,T(this,function t(e,r){var n,o,i,a="color"===r.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,c=e.type||("interpolated"===r.function?"exponential":"interval");if(a&&((e=T({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],ut.parse(t[1])]}))),e.default?e.default=ut.parse(e.default):e.default=ut.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!ur[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)n=ve;else if("interval"===c)n=de;else if("categorical"===c){n=ye,o=Object.create(null);for(var p=0,f=e.stops;p<f.length;p+=1){var d=f[p];o[d[0]]=d[1]}i=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=me}if(s){for(var h={},m=[],y=0;y<e.stops.length;y++){var g=e.stops[y],v=g[0].zoom;void 0===h[v]&&(h[v]={zoom:v,type:e.type,property:e.property,default:e.default,stops:[]},m.push(v)),h[v].stops.push([g[0].value,g[1]])}for(var _=[],b=0,S=m;b<S.length;b+=1){var x=S[b];_.push([h[x].zoom,t(h[x],r)])}return{kind:"composite",interpolationFactor:Gt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map((function(t){return t[0]})),evaluate:function evaluate(t,n){var o=t.zoom;return ve({stops:_,base:e.base},r,o).evaluate(o,n)}}}return l?{kind:"camera",interpolationFactor:"exponential"===c?Gt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function evaluate(t){var a=t.zoom;return n(e,r,a,o,i)}}:{kind:"source",evaluate:function evaluate(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?fe(e.default,r.default):n(e,r,s,o,i)}}}(this._parameters,this._specification))};function Se(t,e){if(ce(t))return new mr(t,e);if(be(t)){var r=ke(t,e);if("error"===r.result)throw new Error(r.value.map((function(t){return t.key+": "+t.message})).join(", "));return r.value}var n=t;return"string"==typeof t&&"color"===e.type&&(n=ut.parse(t)),{kind:"constant",evaluate:function evaluate(){return n}}}function Me(t){var e=t.key,r=t.value,n=t.valueSpec||{},o=t.objectElementValidators||{},i=t.style,a=t.styleSpec,s=[],u=pe(r);if("object"!==u)return[new G(e,r,"object expected, "+u+" found")];for(var l in r){var c=l.split(".")[0],p=n[c]||n["*"],f=void 0;if(o[c])f=o[c];else if(n[c])f=Ye;else if(o["*"])f=o["*"];else{if(!n["*"]){s.push(new G(e,r[l],'unknown property "'+l+'"'));continue}f=Ye}s=s.concat(f({key:(e?e+".":e)+l,value:r[l],valueSpec:p,style:i,styleSpec:a,object:r,objectKey:l},r))}for(var d in n)o[d]||n[d].required&&void 0===n[d].default&&void 0===r[d]&&s.push(new G(e,r,'missing required property "'+d+'"'));return s}function Ve(t){var e=t.value,r=t.valueSpec,n=t.style,o=t.styleSpec,i=t.key,a=t.arrayElementValidator||Ye;if("array"!==pe(e))return[new G(i,e,"array expected, "+pe(e)+" found")];if(r.length&&e.length!==r.length)return[new G(i,e,"array length "+r.length+" expected, length "+e.length+" found")];if(r["min-length"]&&e.length<r["min-length"])return[new G(i,e,"array length at least "+r["min-length"]+" expected, length "+e.length+" found")];var s={type:r.value};o.$version<7&&(s.function=r.function),"object"===pe(r.value)&&(s=r.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:n,styleSpec:o,key:i+"["+l+"]"}));return u}function Be(t){var e=t.key,r=t.value,n=t.valueSpec,o=pe(r);return"number"!==o?[new G(e,r,"number expected, "+o+" found")]:"minimum"in n&&r<n.minimum?[new G(e,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new G(e,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Ce(t){var e,r,n,o=t.valueSpec,i=O(t.value.type),a={},s="categorical"!==i&&void 0===t.value.property,u=!s,l="array"===pe(t.value.stops)&&"array"===pe(t.value.stops[0])&&"object"===pe(t.value.stops[0][0]),p=Me({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function stops(t){if("identity"===i)return[new G(t.key,t.value,'identity function may not have a "stops" property')];var e=[],r=t.value;return e=e.concat(Ve({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:c})),"array"===pe(r)&&0===r.length&&e.push(new G(t.key,r,"array must have at least one stop")),e},default:function _default(t){return Ye({key:t.key,value:t.value,valueSpec:o,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===i&&s&&p.push(new G(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||p.push(new G(t.key,t.value,'missing required property "stops"')),"exponential"===i&&"piecewise-constant"===t.valueSpec.function&&p.push(new G(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!t.valueSpec["property-function"]?p.push(new G(t.key,t.value,"property functions not supported")):s&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&"line-gradient"!==t.objectKey&&p.push(new G(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!l||void 0!==t.value.property||p.push(new G(t.key,t.value,'"property" property is required')),p;function c(t){var e=[],i=t.value,s=t.key;if("array"!==pe(i))return[new G(s,i,"array expected, "+pe(i)+" found")];if(2!==i.length)return[new G(s,i,"array length 2 expected, length "+i.length+" found")];if(l){if("object"!==pe(i[0]))return[new G(s,i,"object expected, "+pe(i[0])+" found")];if(void 0===i[0].zoom)return[new G(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new G(s,i,"object stop key must have value")];if(n&&n>O(i[0].zoom))return[new G(s,i[0].zoom,"stop zoom values must appear in ascending order")];O(i[0].zoom)!==n&&(n=O(i[0].zoom),r=void 0,a={}),e=e.concat(Me({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Be,value:h}}))}else e=e.concat(h({key:s+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return e.concat(Ye({key:s+"[1]",value:i[1],valueSpec:o,style:t.style,styleSpec:t.styleSpec}))}function h(t,n){var s=pe(t.value),u=O(t.value),l=null!==t.value?t.value:n;if(e){if(s!==e)return[new G(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new G(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, "+s+" found";return o["property-function"]&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new G(t.key,l,c)]}return"categorical"!==i||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==i&&"number"===s&&void 0!==r&&u<r?[new G(t.key,l,"stop domain values must appear in ascending order")]:(r=u,"categorical"===i&&u in a?[new G(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new G(t.key,l,"integer expected, found "+u)]}}function Ie(t){var e=("property"===t.expressionContext?ke:we)(L(t.value),t.valueSpec);return"error"===e.result?e.value.map((function(e){return new G(""+t.key+e.key,t.value,e.message)})):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new G(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}function Ee(t){var e=t.key,r=t.value,n=t.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(O(r))&&o.push(new G(e,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(O(r))&&o.push(new G(e,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),o}function Fe(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,r=t.slice(1);e<r.length;e+=1){var n=r[e];if(!Fe(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}mr.deserialize=function(t){return new mr(t._parameters,t._specification)},mr.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var vr={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0};function Te(t){if(!t)return function(){return!0};Fe(t)||(t=Le(t));var e=we(t,vr);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,r){return e.value.evaluate(t,r)}}function Oe(t,e){return t<e?-1:t>e?1:0}function Le(t){if(!t)return!0;var e,r=t[0];return t.length<=1?"any"!==r:"=="===r?je(t[1],t[2],"=="):"!="===r?Ue(je(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?je(t[1],t[2],r):"any"===r?(e=t.slice(1),["any"].concat(e.map(Le))):"all"===r?["all"].concat(t.slice(1).map(Le)):"none"===r?["all"].concat(t.slice(1).map(Le).map(Ue)):"in"===r?qe(t[1],t.slice(2)):"!in"===r?Ue(qe(t[1],t.slice(2))):"has"===r?Re(t[1]):"!has"!==r||Ue(Re(t[1]))}function je(t,e,r){switch(t){case"$type":return["filter-type-"+r,e];case"$id":return["filter-id-"+r,e];default:return["filter-"+r,t,e]}}function qe(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Oe)]]:["filter-in-small",t,["literal",e]]}}function Re(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ue(t){return["!",t]}function De(t){return Fe(L(t.value))?Ie(T({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var r=e.value,n=e.key;if("array"!==pe(r))return[new G(n,r,"array expected, "+pe(r)+" found")];var o,i=e.styleSpec,a=[];if(r.length<1)return[new G(n,r,"filter array must have at least 1 element")];switch(a=a.concat(Ee({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),O(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===O(r[1])&&a.push(new G(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new G(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(o=pe(r[1]))&&a.push(new G(n+"[1]",r[1],"string expected, "+o+" found"));for(var s=2;s<r.length;s++)o=pe(r[s]),"$type"===O(r[1])?a=a.concat(Ee({key:n+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new G(n+"["+s+"]",r[s],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var u=1;u<r.length;u++)a=a.concat(t({key:n+"["+u+"]",value:r[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":o=pe(r[1]),2!==r.length?a.push(new G(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==o&&a.push(new G(n+"[1]",r[1],"string expected, "+o+" found"))}return a}(t)}function Ne(t,e){var r=t.key,n=t.style,o=t.styleSpec,i=t.value,a=t.objectKey,s=o[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return Ye({key:r,value:i,valueSpec:o.transition,style:n,styleSpec:o});var l,c=t.valueSpec||s[a];if(!c)return[new G(r,i,'unknown property "'+a+'"')];if("string"===pe(i)&&c["property-function"]&&!c.tokens&&(l=/^{([^}]+)}$/.exec(i)))return[new G(r,i,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&n&&!n.glyphs&&p.push(new G(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ce(L(i))&&"identity"===O(i.type)&&p.push(new G(r,i,'"text-font" does not support identity functions'))),p.concat(Ye({key:t.key,value:i,valueSpec:c,style:n,styleSpec:o,expressionContext:"property",propertyKey:a}))}function Ze(t){return Ne(t,"paint")}function Ke(t){return Ne(t,"layout")}function Je(t){var e=[],r=t.value,n=t.key,o=t.style,i=t.styleSpec;r.type||r.ref||e.push(new G(n,r,'either "type" or "ref" is required'));var a,s=O(r.type),u=O(r.ref);if(r.id)for(var l=O(r.id),c=0;c<t.arrayIndex;c++){var p=o.layers[c];O(p.id)===l&&e.push(new G(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(t){t in r&&e.push(new G(n,r[t],'"'+t+'" is prohibited for ref layers'))})),o.layers.forEach((function(t){O(t.id)===u&&(a=t)})),a?a.ref?e.push(new G(n,r.ref,"ref cannot reference another ref layer")):s=O(a.type):e.push(new G(n,r.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(r.source){var f=o.sources&&o.sources[r.source],d=f&&O(f.type);f?"vector"===d&&"raster"===s?e.push(new G(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new G(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==d||r["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new G(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===d&&f.lineMetrics||e.push(new G(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new G(n,r,'layer "'+r.id+'" must specify a "source-layer"')):e.push(new G(n,r.source,'source "'+r.source+'" not found'))}else e.push(new G(n,r,'missing required property "source"'));return e=e.concat(Me({key:n,value:r,valueSpec:i.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(){return[]},type:function type(){return Ye({key:n+".type",value:r.type,valueSpec:i.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"})},filter:De,layout:function layout(t){return Me({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Ke(T({layerType:s},t))}}})},paint:function paint(t){return Me({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function _(t){return Ze(T({layerType:s},t))}}})}}}))}function $e(t){var e=t.value,r=t.key,n=t.styleSpec,o=t.style;if(!e.type)return[new G(r,e,'"type" is required')];var i=O(e.type),a=[];switch(i){case"vector":case"raster":case"raster-dem":if(a=a.concat(Me({key:r,value:e,valueSpec:n["source_"+i.replace("-","_")],style:t.style,styleSpec:n})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new G(r+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return Me({key:r,value:e,valueSpec:n.source_geojson,style:o,styleSpec:n});case"video":return Me({key:r,value:e,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return Me({key:r,value:e,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return a.push(new G(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return Ee({key:r+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function He(t){var e=t.value,r=t.styleSpec,n=r.light,o=t.style,i=[],a=pe(e);if(void 0===e)return i;if("object"!==a)return i.concat([new G("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);i=u&&n[u[1]]&&n[u[1]].transition?i.concat(Ye({key:s,value:e[s],valueSpec:r.transition,style:o,styleSpec:r})):n[s]?i.concat(Ye({key:s,value:e[s],valueSpec:n[s],style:o,styleSpec:r})):i.concat([new G(s,e[s],'unknown property "'+s+'"')])}return i}function Xe(t){var e=t.value,r=t.key,n=pe(e);return"string"!==n?[new G(r,e,"string expected, "+n+" found")]:[]}var Sr={"*":function _(){return[]},array:Ve,boolean:function boolean(t){var e=t.value,r=t.key,n=pe(e);return"boolean"!==n?[new G(r,e,"boolean expected, "+n+" found")]:[]},number:Be,color:function color(t){var e=t.key,r=t.value,n=pe(r);return"string"!==n?[new G(e,r,"color expected, "+n+" found")]:null===st(r)?[new G(e,r,'color expected, "'+r+'" found')]:[]},constants:P,enum:Ee,filter:De,function:Ce,layer:Je,object:Me,source:$e,light:He,string:Xe};function Ye(t){var e=t.value,r=t.valueSpec,n=t.styleSpec;return r.function&&ce(O(e))?Ce(t):r.function&&be(L(e))?Ie(t):r.type&&Sr[r.type]?Sr[r.type](t):Me(T({},t,{valueSpec:r.type?n[r.type]:r}))}function We(t){var e=t.value,r=t.key,n=Xe(t);return n.length?n:(-1===e.indexOf("{fontstack}")&&n.push(new G(r,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new G(r,e,'"glyphs" url must include a "{range}" token')),n)}function Qe(t,e){e=e||j;var r=[];return r=r.concat(Ye({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:We,"*":function _(){return[]}}})),t.constants&&(r=r.concat(P({key:"constants",value:t.constants,style:t,styleSpec:e}))),tr(r)}function tr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function er(t){return function(){return tr(t.apply(this,arguments))}}Qe.source=er($e),Qe.light=er(He),Qe.layer=er(Je),Qe.filter=er(De),Qe.paintProperty=er(Ze),Qe.layoutProperty=er(Ke);var Er=Qe,Pr=Qe.light,Tr=Qe.paintProperty,Mr=Qe.layoutProperty;function ar(t,e){var r=!1;if(e&&e.length)for(var n=0,o=e;n<o.length;n+=1){var i=o[n];t.fire(new N(new Error(i.message))),r=!0}return r}var Rr=lr,Lr=3;function lr(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],r=o[2],this.d=e+2*r;for(var i=0;i<this.d*this.d;i++){var a=o[Lr+i],s=o[Lr+i+1];n.push(a===s?null:o.subarray(a,s))}var u=o[Lr+n.length],l=o[Lr+n.length+1];this.keys=o.subarray(u,l),this.bboxes=o.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var p=r/e*t;this.min=-p,this.max=t+p}lr.prototype.insert=function(t,e,r,n,o){this._forEachCell(e,r,n,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},lr.prototype._insertCell=function(t,e,r,n,o,i){this.cells[o].push(i)},lr.prototype.query=function(t,e,r,n){var o=this.min,i=this.max;if(t<=o&&e<=o&&i<=r&&i<=n)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,r,n,this._queryCell,a,{}),a},lr.prototype._queryCell=function(t,e,r,n,o,i,a){var s=this.cells[o];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var f=4*p;t<=l[f+2]&&e<=l[f+3]&&r>=l[f+0]&&n>=l[f+1]?(a[p]=!0,i.push(u[p])):a[p]=!1}}},lr.prototype._forEachCell=function(t,e,r,n,o,i,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(r),c=this._convertToCellCoord(n),p=s;p<=l;p++)for(var f=u;f<=c;f++){var d=this.d*f+p;if(o.call(this,t,e,r,n,d,i,a))return}},lr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Lr+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var o=new Int32Array(e+r+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=e,a=0;a<t.length;a++){var s=t[a];o[Lr+a]=i,o.set(s,i),i+=s.length}return o[Lr+t.length]=i,o.set(this.keys,i),i+=this.keys.length,o[Lr+t.length+1]=i,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer};var Or=self.ImageData,kr={};function hr(t,e,r){void 0===r&&(r={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),kr[t]={klass:e,omit:r.omit||[],shallow:r.shallow||[]}}for(var Fr in hr("Object",Object),Rr.serialize=function(t,e){var r=t.toArrayBuffer();return e&&e.push(r),r},Rr.deserialize=function(t){return new Rr(t)},hr("Grid",Rr),hr("Color",ut),hr("Error",Error),hr("StylePropertyFunction",mr),hr("StyleExpression",cr,{omit:["_evaluator"]}),hr("ZoomDependentExpression",fr),hr("ZoomConstantExpression",pr),hr("CompoundExpression",Mt,{omit:["_evaluate"]}),te)te[Fr]._classRegistryKey||hr("Expression_"+Fr,te[Fr]);function yr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return e&&e.push(r.buffer),r}if(t instanceof Or)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],o=0,i=t;o<i.length;o+=1){var a=i[o];n.push(yr(a,e))}return n}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l={};if(s.serialize)l._serialized=s.serialize(t,e);else{for(var c in t)if(t.hasOwnProperty(c)&&!(kr[u].omit.indexOf(c)>=0)){var p=t[c];l[c]=kr[u].shallow.indexOf(c)>=0?p:yr(p,e)}t instanceof Error&&(l.message=t.message)}return{name:u,properties:l}}throw new Error("can't serialize object of type "+typeof t)}function dr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof Or)return t;if(Array.isArray(t))return t.map((function(t){return dr(t)}));if("object"==typeof t){var e=t,r=e.name,n=e.properties;if(!r)throw new Error("can't deserialize object of anonymous class");var o=kr[r].klass;if(!o)throw new Error("can't deserialize unregistered class "+r);if(o.deserialize)return o.deserialize(n._serialized);for(var i=Object.create(o.prototype),a=0,s=Object.keys(n);a<s.length;a+=1){var u=s[a];i[u]=kr[r].shallow.indexOf(u)>=0?n[u]:dr(n[u])}return i}throw new Error("can't deserialize object of type "+typeof t)}var Nr=function vr(){this.first=!0};Nr.prototype.update=function(t,e){var r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))};var Ur={"Latin-1 Supplement":function Latin1Supplement(t){return t>=128&&t<=255},Arabic:function Arabic(t){return t>=1536&&t<=1791},"Arabic Supplement":function ArabicSupplement(t){return t>=1872&&t<=1919},"Arabic Extended-A":function ArabicExtendedA(t){return t>=2208&&t<=2303},"Hangul Jamo":function HangulJamo(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function UnifiedCanadianAboriginalSyllabics(t){return t>=5120&&t<=5759},Khmer:function Khmer(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function UnifiedCanadianAboriginalSyllabicsExtended(t){return t>=6320&&t<=6399},"General Punctuation":function GeneralPunctuation(t){return t>=8192&&t<=8303},"Letterlike Symbols":function LetterlikeSymbols(t){return t>=8448&&t<=8527},"Number Forms":function NumberForms(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function MiscellaneousTechnical(t){return t>=8960&&t<=9215},"Control Pictures":function ControlPictures(t){return t>=9216&&t<=9279},"Optical Character Recognition":function OpticalCharacterRecognition(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function EnclosedAlphanumerics(t){return t>=9312&&t<=9471},"Geometric Shapes":function GeometricShapes(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function MiscellaneousSymbols(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function MiscellaneousSymbolsAndArrows(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function CJKRadicalsSupplement(t){return t>=11904&&t<=12031},"Kangxi Radicals":function KangxiRadicals(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function IdeographicDescriptionCharacters(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function CJKSymbolsAndPunctuation(t){return t>=12288&&t<=12351},Hiragana:function Hiragana(t){return t>=12352&&t<=12447},Katakana:function Katakana(t){return t>=12448&&t<=12543},Bopomofo:function Bopomofo(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function HangulCompatibilityJamo(t){return t>=12592&&t<=12687},Kanbun:function Kanbun(t){return t>=12688&&t<=12703},"Bopomofo Extended":function BopomofoExtended(t){return t>=12704&&t<=12735},"CJK Strokes":function CJKStrokes(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function KatakanaPhoneticExtensions(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function EnclosedCJKLettersAndMonths(t){return t>=12800&&t<=13055},"CJK Compatibility":function CJKCompatibility(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function CJKUnifiedIdeographsExtensionA(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function YijingHexagramSymbols(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function CJKUnifiedIdeographs(t){return t>=19968&&t<=40959},"Yi Syllables":function YiSyllables(t){return t>=40960&&t<=42127},"Yi Radicals":function YiRadicals(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function HangulJamoExtendedA(t){return t>=43360&&t<=43391},"Hangul Syllables":function HangulSyllables(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function HangulJamoExtendedB(t){return t>=55216&&t<=55295},"Private Use Area":function PrivateUseArea(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function CJKCompatibilityIdeographs(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function ArabicPresentationFormsA(t){return t>=64336&&t<=65023},"Vertical Forms":function VerticalForms(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function CJKCompatibilityForms(t){return t>=65072&&t<=65103},"Small Form Variants":function SmallFormVariants(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function ArabicPresentationFormsB(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function HalfwidthAndFullwidthForms(t){return t>=65280&&t<=65519}};function gr(t){for(var e=0,r=t;e<r.length;e+=1)if(br(r[e].charCodeAt(0)))return!0;return!1}function xr(t){return!Ur.Arabic(t)&&!Ur["Arabic Supplement"](t)&&!Ur["Arabic Extended-A"](t)&&!Ur["Arabic Presentation Forms-A"](t)&&!Ur["Arabic Presentation Forms-B"](t)}function br(t){return 746===t||747===t||!(t<4352)&&(!!Ur["Bopomofo Extended"](t)||!!Ur.Bopomofo(t)||!(!Ur["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!Ur["CJK Compatibility Ideographs"](t)||!!Ur["CJK Compatibility"](t)||!!Ur["CJK Radicals Supplement"](t)||!!Ur["CJK Strokes"](t)||!(!Ur["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!Ur["CJK Unified Ideographs Extension A"](t)||!!Ur["CJK Unified Ideographs"](t)||!!Ur["Enclosed CJK Letters and Months"](t)||!!Ur["Hangul Compatibility Jamo"](t)||!!Ur["Hangul Jamo Extended-A"](t)||!!Ur["Hangul Jamo Extended-B"](t)||!!Ur["Hangul Jamo"](t)||!!Ur["Hangul Syllables"](t)||!!Ur.Hiragana(t)||!!Ur["Ideographic Description Characters"](t)||!!Ur.Kanbun(t)||!!Ur["Kangxi Radicals"](t)||!!Ur["Katakana Phonetic Extensions"](t)||!(!Ur.Katakana(t)||12540===t)||!(!Ur["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Ur["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!Ur["Unified Canadian Aboriginal Syllabics"](t)||!!Ur["Unified Canadian Aboriginal Syllabics Extended"](t)||!!Ur["Vertical Forms"](t)||!!Ur["Yijing Hexagram Symbols"](t)||!!Ur["Yi Syllables"](t)||!!Ur["Yi Radicals"](t))}function wr(t){return!(br(t)||function(t){return!!(Ur["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Ur["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Ur["Letterlike Symbols"](t)||Ur["Number Forms"](t)||Ur["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Ur["Control Pictures"](t)&&9251!==t||Ur["Optical Character Recognition"](t)||Ur["Enclosed Alphanumerics"](t)||Ur["Geometric Shapes"](t)||Ur["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Ur["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ur["CJK Symbols and Punctuation"](t)||Ur.Katakana(t)||Ur["Private Use Area"](t)||Ur["CJK Compatibility Forms"](t)||Ur["Small Form Variants"](t)||Ur["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function _r(t,e){return!(!e&&(t>=1424&&t<=2303||Ur["Arabic Presentation Forms-A"](t)||Ur["Arabic Presentation Forms-B"](t)))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||Ur.Khmer(t))}var zr,jr=!1,Gr=null,Vr=!1,Wr=new U,qr={applyArabicShaping:null,processBidirectionalText:null,isLoaded:function isLoaded(){return Vr||null!=qr.applyArabicShaping}},Kr=function Br(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Nr,this.transition={})};Kr.prototype.isSupportedScript=function(t){return function(t,e){for(var r=0,n=t;r<n.length;r+=1)if(!_r(n[r].charCodeAt(0),e))return!1;return!0}(t,qr.isLoaded())},Kr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)};var Yr=function Cr(t,e){this.property=t,this.value=e,this.expression=Se(void 0===e?t.specification.default:e,t.specification)};Yr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Yr.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var Zr=function Ir(t){this.property=t,this.value=new Yr(t,void 0)};Zr.prototype.transitioned=function(t,e){return new Qr(this.property,this.value,e,h({},t.transition,this.transition),t.now)},Zr.prototype.untransitioned=function(){return new Qr(this.property,this.value,null,{},0)};var Xr=function Er(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Xr.prototype.getValue=function(t){return g(this._values[t].value.value)},Xr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Zr(this._values[t].property)),this._values[t].value=new Yr(this._values[t].property,null===e?void 0:g(e))},Xr.prototype.getTransition=function(t){return g(this._values[t].transition)},Xr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Zr(this._values[t].property)),this._values[t].transition=g(e)||void 0},Xr.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],o=this.getValue(n);void 0!==o&&(t[n]=o);var i=this.getTransition(n);void 0!==i&&(t[n+"-transition"]=i)}return t},Xr.prototype.transitioned=function(t,e){for(var r=new Jr(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].transitioned(t,e._values[i])}return r},Xr.prototype.untransitioned=function(){for(var t=new Jr(this._properties),e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e];t._values[n]=this._values[n].untransitioned()}return t};var Qr=function Fr(t,e,r,n,o){this.property=t,this.value=e,this.begin=o+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};Qr.prototype.possiblyEvaluate=function(t){var e=t.now||0,r=this.value.possiblyEvaluate(t),n=this.prior;if(n){if(e>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(e<this.begin)return n.possiblyEvaluate(t);var o=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(t),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}(o))}return r};var Jr=function Pr(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Jr.prototype.possiblyEvaluate=function(t){for(var e=new rn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];e._values[o]=this._values[o].possiblyEvaluate(t)}return e},Jr.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var r=e[t];if(this._values[r].prior)return!0}return!1};var tn=function Tr(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};tn.prototype.getValue=function(t){return g(this._values[t].value)},tn.prototype.setValue=function(t,e){this._values[t]=new Yr(this._values[t].property,null===e?void 0:g(e))},tn.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],o=this.getValue(n);void 0!==o&&(t[n]=o)}return t},tn.prototype.possiblyEvaluate=function(t){for(var e=new rn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];e._values[o]=this._values[o].possiblyEvaluate(t)}return e};var en=function Or(t,e,r){this.property=t,this.value=e,this.globals=r};en.prototype.isConstant=function(){return"constant"===this.value.kind},en.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},en.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var rn=function Lr(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};rn.prototype.get=function(t){return this._values[t]};var nn=function jr(t){this.specification=t};nn.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},nn.prototype.interpolate=function(t,e,r){var n=zt[this.specification.type];return n?n(t,e,r):t};var on=function qr(t){this.specification=t};on.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new en(this,{kind:"constant",value:t.expression.evaluate(e)},e):new en(this,t.expression,e)},on.prototype.interpolate=function(t,e,r){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new en(this,{kind:"constant",value:void 0},t.globals);var n=zt[this.specification.type];return n?new en(this,{kind:"constant",value:n(t.value.value,e.value.value,r)},t.globals):t},on.prototype.evaluate=function(t,e,r){return"constant"===t.kind?t.value:t.evaluate(e,r)};var an=function Rr(t){this.specification=t};an.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new Kr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Kr(Math.floor(e.zoom),e)),t.expression.evaluate(new Kr(Math.floor(e.zoom+1),e)),e)}},an.prototype._calculate=function(t,e,r,n){var o=n.zoom,i=o-Math.floor(o),a=n.crossFadingFactor();return o>n.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:i+(1-i)*a}:{from:r,to:e,fromScale:.5,toScale:1,t:1-(1-a)*i}},an.prototype.interpolate=function(t){return t};var sn=function Ur(t){this.specification=t};sn.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},sn.prototype.interpolate=function(){return!1};var un=function Dr(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var r=t[e],n=this.defaultPropertyValues[e]=new Yr(r,void 0),o=this.defaultTransitionablePropertyValues[e]=new Zr(r);this.defaultTransitioningPropertyValues[e]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}};hr("DataDrivenProperty",on),hr("DataConstantProperty",nn),hr("CrossFadedProperty",an),hr("ColorRampProperty",sn);var ln=function(t){function e(e,r){for(var n in t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},r.layout&&(this._unevaluatedLayout=new tn(r.layout)),this._transitionablePaint=new Xr(r.paint),e.paint)this.setPaintProperty(n,e.paint[n],{validate:!1});for(var o in e.layout)this.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,r){if(null!=e){var n="layers."+this.id+".layout."+t;if(this._validate(Mr,n,t,e,r))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},e.prototype.getPaintProperty=function(t){return d(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,r){if(null!=e){var n="layers."+this.id+".paint."+t;if(this._validate(Tr,n,t,e,r))return}d(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),m(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,r,n,o){return(!o||!1!==o.validate)&&ar(this,t.call(Er,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:j,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(U),cn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},pn=function Kr(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},fn=function Jr(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function $r(t,e){void 0===e&&(e=1);var r=0,n=0;return{members:t.map((function(t){var o,i=(o=t.type,cn[o].BYTES_PER_ELEMENT),a=r=Hr(r,Math.max(e,i)),s=t.components||1;return n=Math.max(n,i),r+=i*s,{name:t.name,type:t.type,components:s,offset:a}})),size:Hr(r,Math.max(n,e)),alignment:e}}function Hr(t,e){return Math.ceil(t/e)*e}fn.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},fn.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},fn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},fn.prototype.clear=function(){this.length=0},fn.prototype.resize=function(t){this.reserve(t),this.length=t},fn.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},fn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var dn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.int16[n+0]=t,this.int16[n+1]=e,r},e}(fn);dn.prototype.bytesPerElement=4,hr("StructArrayLayout2i4",dn);var hn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var o=this.length;this.resize(o+1);var i=4*o;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=r,this.int16[i+3]=n,o},e}(fn);hn.prototype.bytesPerElement=8,hr("StructArrayLayout4i8",hn);var mn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=i,a},e}(fn);mn.prototype.bytesPerElement=12,hr("StructArrayLayout2i4i12",mn);var yn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s){var u=this.length;this.resize(u+1);var l=6*u,c=12*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=r,this.int16[l+3]=n,this.uint8[c+8]=o,this.uint8[c+9]=i,this.uint8[c+10]=a,this.uint8[c+11]=s,u},e}(fn);yn.prototype.bytesPerElement=12,hr("StructArrayLayout4i4ub12",yn);var gn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s){var u=this.length;this.resize(u+1);var l=8*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=r,this.int16[l+3]=n,this.uint16[l+4]=o,this.uint16[l+5]=i,this.uint16[l+6]=a,this.uint16[l+7]=s,u},e}(fn);gn.prototype.bytesPerElement=16,hr("StructArrayLayout4i4ui16",gn);var vn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var o=3*n;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=r,n},e}(fn);vn.prototype.bytesPerElement=12,hr("StructArrayLayout3f12",vn);var _n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var r=1*e;return this.uint32[r+0]=t,e},e}(fn);_n.prototype.bytesPerElement=4,hr("StructArrayLayout1ul4",_n);var bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s,u,l,c){var p=this.length;this.resize(p+1);var f=12*p,d=6*p;return this.int16[f+0]=t,this.int16[f+1]=e,this.int16[f+2]=r,this.int16[f+3]=n,this.int16[f+4]=o,this.int16[f+5]=i,this.uint32[d+3]=a,this.uint16[f+8]=s,this.uint16[f+9]=u,this.int16[f+10]=l,this.int16[f+11]=c,p},e}(fn);bn.prototype.bytesPerElement=24,hr("StructArrayLayout6i1ul2ui2i24",bn);var xn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=i,a},e}(fn);xn.prototype.bytesPerElement=12,hr("StructArrayLayout2i2i2i12",xn);var wn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=4*r;return this.uint8[n+0]=t,this.uint8[n+1]=e,r},e}(fn);wn.prototype.bytesPerElement=4,hr("StructArrayLayout2ub4",wn);var Pn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,o,i,a,s,u,l,c,p,f,d){var h=this.length;this.resize(h+1);var m=20*h,y=10*h,g=40*h;return this.int16[m+0]=t,this.int16[m+1]=e,this.uint16[m+2]=r,this.uint16[m+3]=n,this.uint32[y+2]=o,this.uint32[y+3]=i,this.uint32[y+4]=a,this.uint16[m+10]=s,this.uint16[m+11]=u,this.uint16[m+12]=l,this.float32[y+7]=c,this.float32[y+8]=p,this.uint8[g+36]=f,this.uint8[g+37]=d,h},e}(fn);Pn.prototype.bytesPerElement=40,hr("StructArrayLayout2i2ui3ul3ui2f2ub40",Pn);var Tn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var r=1*e;return this.float32[r+0]=t,e},e}(fn);Tn.prototype.bytesPerElement=4,hr("StructArrayLayout1f4",Tn);var An=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var o=3*n;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=r,n},e}(fn);An.prototype.bytesPerElement=6,hr("StructArrayLayout3i6",An);var In=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var o=2*n,i=4*n;return this.uint32[o+0]=t,this.uint16[i+2]=e,this.uint16[i+3]=r,n},e}(fn);In.prototype.bytesPerElement=8,hr("StructArrayLayout1ul2ui8",In);var On=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var o=3*n;return this.uint16[o+0]=t,this.uint16[o+1]=e,this.uint16[o+2]=r,n},e}(fn);On.prototype.bytesPerElement=6,hr("StructArrayLayout3ui6",On);var kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.uint16[n+0]=t,this.uint16[n+1]=e,r},e}(fn);kn.prototype.bytesPerElement=4,hr("StructArrayLayout2ui4",kn);var zn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.float32[n+0]=t,this.float32[n+1]=e,r},e}(fn);zn.prototype.bytesPerElement=8,hr("StructArrayLayout2f8",zn);var Vn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var o=this.length;this.resize(o+1);var i=4*o;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=r,this.float32[i+3]=n,o},e}(fn);Vn.prototype.bytesPerElement=16,hr("StructArrayLayout4f16",Vn);var Qn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},r.anchorPoint.get=function(){return new E(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,r),e}(pn);Qn.prototype.size=24;var oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Qn(this,t)},e}(bn);hr("CollisionBoxArray",oo);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,r),e}(pn);io.prototype.size=40;var ao=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(Pn);hr("PlacedSymbolArray",ao);var so=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,r),e}(pn);so.prototype.size=4;var co=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new so(this,t)},e}(Tn);hr("GlyphOffsetArray",co);var mo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(t){this._structArray.int16[this._pos2+0]=t},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(t){this._structArray.int16[this._pos2+1]=t},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,r),e}(pn);mo.prototype.size=6;var go=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new mo(this,t)},e}(An);hr("SymbolLineVertexArray",go);var vo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,r),e}(pn);vo.prototype.size=8;var bo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new vo(this,t)},e}(In);hr("FeatureIndexArray",bo);var So=$r([{name:"a_pos",components:2,type:"Int16"}],4).members,xo=function zn(t){void 0===t&&(t=[]),this.segments=t};xo.prototype.prepareSegment=function(t,e,r){var n=this.segments[this.segments.length-1];return t>xo.MAX_VERTEX_ARRAY_LENGTH&&b("Max vertices per segment is "+xo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!n||n.vertexLength+t>xo.MAX_VERTEX_ARRAY_LENGTH)&&(n={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(n)),n},xo.prototype.get=function(){return this.segments},xo.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var r=e[t];for(var n in r.vaos)r.vaos[n].destroy()}},xo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hr("SegmentVector",xo);var wo=function Sn(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)};function Mn(t){return[wo(255*t.r,255*t.g),wo(255*t.b,255*t.a)]}var Eo=function Vn(t,e,r){this.value=t,this.name=e,this.type=r,this.statistics={max:-1/0}};Eo.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},Eo.prototype.populatePaintArray=function(){},Eo.prototype.upload=function(){},Eo.prototype.destroy=function(){},Eo.prototype.setUniforms=function(t,e,r,n){var o=n.constantOr(this.value),i=t.gl;"color"===this.type?i.uniform4f(e.uniforms["u_"+this.name],o.r,o.g,o.b,o.a):i.uniform1f(e.uniforms["u_"+this.name],o)};var Po=function Bn(t,e,r){this.expression=t,this.name=e,this.type=r,this.statistics={max:-1/0};var n="color"===r?zn:Tn;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}],this.paintVertexArray=new n};Po.prototype.defines=function(){return[]},Po.prototype.populatePaintArray=function(t,e){var r=this.paintVertexArray,n=r.length;r.reserve(t);var o=this.expression.evaluate(new Kr(0),e);if("color"===this.type)for(var i=Mn(o),a=n;a<t;a++)r.emplaceBack(i[0],i[1]);else{for(var s=n;s<t;s++)r.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},Po.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Po.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var Co=function Cn(t,e,r,n,o){this.expression=t,this.name=e,this.type=r,this.useIntegerZoom=n,this.zoom=o,this.statistics={max:-1/0};var i="color"===r?Vn:zn;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}],this.paintVertexArray=new i};Co.prototype.defines=function(){return[]},Co.prototype.populatePaintArray=function(t,e){var r=this.paintVertexArray,n=r.length;r.reserve(t);var o=this.expression.evaluate(new Kr(this.zoom),e),i=this.expression.evaluate(new Kr(this.zoom+1),e);if("color"===this.type)for(var a=Mn(o),s=Mn(i),u=n;u<t;u++)r.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=n;l<t;l++)r.emplaceBack(o,i);this.statistics.max=Math.max(this.statistics.max,o,i)}},Co.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},Co.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Co.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Co.prototype.setUniforms=function(t,e,r){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(r.zoom))};var Mo=function In(){this.binders={},this.cacheKey="",this._buffers=[]};Mo.createDynamic=function(t,e,r){var n=new Mo,o=[];for(var i in t.paint._values)if(r(i)){var a=t.paint.get(i);if(a instanceof en&&a.property.specification["property-function"]){var s=Fn(i,t.type),u=a.property.specification.type,l=a.property.useIntegerZoom;"constant"===a.value.kind?(n.binders[i]=new Eo(a.value,s,u),o.push("/u_"+s)):"source"===a.value.kind?(n.binders[i]=new Po(a.value,s,u),o.push("/a_"+s)):(n.binders[i]=new Co(a.value,s,u,l,e),o.push("/z_"+s))}}return n.cacheKey=o.sort().join(""),n},Mo.prototype.populatePaintArrays=function(t,e){for(var r in this.binders)this.binders[r].populatePaintArray(t,e)},Mo.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Mo.prototype.setUniforms=function(t,e,r,n){for(var o in this.binders)this.binders[o].setUniforms(t,e,n,r.get(o))},Mo.prototype.getPaintVertexBuffers=function(){return this._buffers},Mo.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var r=[];for(var n in this.binders){var o=this.binders[n];(o instanceof Po||o instanceof Co)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},Mo.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Ro=function En(t,e,r,n){void 0===n&&(n=function n(){return!0}),this.programConfigurations={};for(var o=0,i=e;o<i.length;o+=1){var a=i[o];this.programConfigurations[a.id]=Mo.createDynamic(a,r,n),this.programConfigurations[a.id].layoutAttributes=t}};function Fn(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace(e+"-","").replace(/-/g,"_")}Ro.prototype.populatePaintArrays=function(t,e){for(var r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e)},Ro.prototype.get=function(t){return this.programConfigurations[t]},Ro.prototype.upload=function(t){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t)},Ro.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},hr("ConstantBinder",Eo),hr("SourceExpressionBinder",Po),hr("CompositeExpressionBinder",Co),hr("ProgramConfiguration",Mo,{omit:["_buffers"]}),hr("ProgramConfigurationSet",Ro);var Lo=8192,Io={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function Ln(t){for(var e=Lo/t.extent,r=t.loadGeometry(),n=0;n<r.length;n++)for(var o=r[n],i=0;i<o.length;i++){var a=o[i];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<Io.min||a.x>Io.max||a.y<Io.min||a.y>Io.max)&&b("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function jn(t,e,r,n,o){t.emplaceBack(2*e+(n+1)/2,2*r+(o+1)/2)}var Oo=function qn(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new dn,this.indexArray=new On,this.segments=new xo,this.programConfigurations=new Ro(So,t.layers,t.zoom)};function Rn(t,e,r){for(var n=0;n<t.length;n++){var o=t[n];if(Xn(o,e))return!0;if(Jn(e,o,r))return!0}return!1}function Un(t,e){if(1===t.length&&1===t[0].length)return Hn(e,t[0][0]);for(var r=0;r<e.length;r++)for(var n=e[r],o=0;o<n.length;o++)if(Hn(t,n[o]))return!0;for(var i=0;i<t.length;i++){for(var a=t[i],s=0;s<a.length;s++)if(Hn(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(Zn(a,e[u]))return!0}return!1}function Dn(t,e,r){for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<t.length;i++){var a=t[i];if(a.length>=3)for(var s=0;s<o.length;s++)if(Xn(a,o[s]))return!0;if(Nn(a,o,r))return!0}return!1}function Nn(t,e,r){if(t.length>1){if(Zn(t,e))return!0;for(var n=0;n<e.length;n++)if(Jn(e[n],t,r))return!0}for(var o=0;o<t.length;o++)if(Jn(t[o],e,r))return!0;return!1}function Zn(t,e){if(0===t.length||0===e.length)return!1;for(var r=0;r<t.length-1;r++)for(var n=t[r],o=t[r+1],i=0;i<e.length-1;i++)if(Kn(n,o,e[i],e[i+1]))return!0;return!1}function Kn(t,e,r,n){return w(t,r,n)!==w(e,r,n)&&w(t,e,r)!==w(t,e,n)}function Jn(t,e,r){var n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(var o=1;o<e.length;o++)if($n(t,e[o-1],e[o])<n)return!0;return!1}function $n(t,e,r){var n=e.distSqr(r);if(0===n)return t.distSqr(e);var o=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return o<0?t.distSqr(e):o>1?t.distSqr(r):t.distSqr(r.sub(e)._mult(o)._add(e))}function Hn(t,e){for(var r,n,o,i=!1,a=0;a<t.length;a++)for(var s=0,u=(r=t[a]).length-1;s<r.length;u=s++)n=r[s],o=r[u],n.y>e.y!=o.y>e.y&&e.x<(o.x-n.x)*(e.y-n.y)/(o.y-n.y)+n.x&&(i=!i);return i}function Xn(t,e){for(var r=!1,n=0,o=t.length-1;n<t.length;o=n++){var i=t[n],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function Gn(t,e,r){var n=e.paint.get(t).value;return"constant"===n.kind?n.value:r.programConfigurations.get(e.id).binders[t].statistics.max}function Yn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Wn(t,e,r,n,o){if(!e[0]&&!e[1])return t;var i=E.convert(e);"viewport"===r&&i._rotate(-n);for(var a=[],s=0;s<t.length;s++){for(var u=t[s],l=[],c=0;c<u.length;c++)l.push(u[c].sub(i._mult(o)));a.push(l)}return a}Oo.prototype.populate=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Kr(this.zoom),i)){var u=Ln(i);this.addFeature(i,u),e.featureIndex.insert(i,u,a,s,this.index)}}},Oo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oo.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,So),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},Oo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Oo.prototype.addFeature=function(t,e){for(var r=0,n=e;r<n.length;r+=1)for(var o=0,i=n[r];o<i.length;o+=1){var a=i[o],s=a.x,u=a.y;if(!(s<0||s>=Lo||u<0||u>=Lo)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=l.vertexLength;jn(this.layoutVertexArray,s,u,-1,-1),jn(this.layoutVertexArray,s,u,1,-1),jn(this.layoutVertexArray,s,u,1,1),jn(this.layoutVertexArray,s,u,-1,1),this.indexArray.emplaceBack(c,c+1,c+2),this.indexArray.emplaceBack(c,c+3,c+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("CircleBucket",Oo,{omit:["layers"]});var Fo={paint:new un({"circle-radius":new on(j.paint_circle["circle-radius"]),"circle-color":new on(j.paint_circle["circle-color"]),"circle-blur":new on(j.paint_circle["circle-blur"]),"circle-opacity":new on(j.paint_circle["circle-opacity"]),"circle-translate":new nn(j.paint_circle["circle-translate"]),"circle-translate-anchor":new nn(j.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new nn(j.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new nn(j.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new on(j.paint_circle["circle-stroke-width"]),"circle-stroke-color":new on(j.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new on(j.paint_circle["circle-stroke-opacity"])})},zo=n((function(t,e){var r;t.exports=((r=new Float32Array(3))[0]=0,r[1]=0,r[2]=0,function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:function transformMat3(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t}},vec4:{transformMat4:function transformMat4(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,t[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,t[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,t[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,t}},mat2:{create:function create(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},rotate:function rotate(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=o*u+a*s,t[2]=n*-s+i*u,t[3]=o*-s+a*u,t},scale:function scale(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=o*s,t[2]=i*u,t[3]=a*u,t}},mat3:{create:function create(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromRotation:function fromRotation(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},mat4:{create:function create(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},identity:function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},translate:function translate(t,e,r){var n,o,i,a,s,u,l,c,p,f,d,h,m=r[0],y=r[1],g=r[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*g+e[12],t[13]=e[1]*m+e[5]*y+e[9]*g+e[13],t[14]=e[2]*m+e[6]*y+e[10]*g+e[14],t[15]=e[3]*m+e[7]*y+e[11]*g+e[15]):(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=p,t[9]=f,t[10]=d,t[11]=h,t[12]=n*m+s*y+p*g+e[12],t[13]=o*m+u*y+f*g+e[13],t[14]=i*m+l*y+d*g+e[14],t[15]=a*m+c*y+h*g+e[15]),t},scale:function scale(t,e,r){var n=r[0],o=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},multiply:function multiply(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=e[9],d=e[10],h=e[11],m=e[12],y=e[13],g=e[14],v=e[15],_=r[0],b=r[1],S=r[2],x=r[3];return t[0]=_*n+b*s+S*p+x*m,t[1]=_*o+b*u+S*f+x*y,t[2]=_*i+b*l+S*d+x*g,t[3]=_*a+b*c+S*h+x*v,_=r[4],b=r[5],S=r[6],x=r[7],t[4]=_*n+b*s+S*p+x*m,t[5]=_*o+b*u+S*f+x*y,t[6]=_*i+b*l+S*d+x*g,t[7]=_*a+b*c+S*h+x*v,_=r[8],b=r[9],S=r[10],x=r[11],t[8]=_*n+b*s+S*p+x*m,t[9]=_*o+b*u+S*f+x*y,t[10]=_*i+b*l+S*d+x*g,t[11]=_*a+b*c+S*h+x*v,_=r[12],b=r[13],S=r[14],x=r[15],t[12]=_*n+b*s+S*p+x*m,t[13]=_*o+b*u+S*f+x*y,t[14]=_*i+b*l+S*d+x*g,t[15]=_*a+b*c+S*h+x*v,t},perspective:function perspective(t,e,r,n,o){var i=1/Math.tan(e/2),a=1/(n-o);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*a,t[15]=0,t},rotateX:function rotateX(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+l*n,t[5]=a*o+c*n,t[6]=s*o+p*n,t[7]=u*o+f*n,t[8]=l*o-i*n,t[9]=c*o-a*n,t[10]=p*o-s*n,t[11]=f*o-u*n,t},rotateZ:function rotateZ(t,e,r){var n=Math.sin(r),o=Math.cos(r),i=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+l*n,t[1]=a*o+c*n,t[2]=s*o+p*n,t[3]=u*o+f*n,t[4]=l*o-i*n,t[5]=c*o-a*n,t[6]=p*o-s*n,t[7]=f*o-u*n,t},invert:function invert(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],p=e[9],f=e[10],d=e[11],h=e[12],m=e[13],y=e[14],g=e[15],v=r*s-n*a,_=r*u-o*a,b=r*l-i*a,S=n*u-o*s,x=n*l-i*s,w=o*l-i*u,E=c*m-p*h,P=c*y-f*h,C=c*g-d*h,T=p*y-f*m,D=p*g-d*m,M=f*g-d*y,A=v*M-_*D+b*T+S*C-x*P+w*E;return A?(A=1/A,t[0]=(s*M-u*D+l*T)*A,t[1]=(o*D-n*M-i*T)*A,t[2]=(m*w-y*x+g*S)*A,t[3]=(f*x-p*w-d*S)*A,t[4]=(u*C-a*M-l*P)*A,t[5]=(r*M-o*C+i*P)*A,t[6]=(y*b-h*w-g*_)*A,t[7]=(c*w-f*b+d*_)*A,t[8]=(a*D-s*C+l*E)*A,t[9]=(n*C-r*D-i*E)*A,t[10]=(h*x-m*b+g*v)*A,t[11]=(p*b-c*x-d*v)*A,t[12]=(s*P-a*T-u*E)*A,t[13]=(r*T-n*P+o*E)*A,t[14]=(m*_-h*S-y*v)*A,t[15]=(c*S-p*_+f*v)*A,t):null},ortho:function ortho(t,e,r,n,o,i,a){var s=1/(e-r),u=1/(n-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(o+n)*u,t[14]=(a+i)*l,t[15]=1,t}}})})),Go=(zo.vec3,zo.vec4),Vo=(zo.mat2,zo.mat3,zo.mat4),Wo=function(t){function e(e){t.call(this,e,Fo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Oo(t)},e.prototype.queryRadius=function(t){var e=t;return Gn("circle-radius",this,e)+Gn("circle-stroke-width",this,e)+Yn(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i,a){for(var s=Wn(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,i),u=this.paint.get("circle-radius").evaluate(e)+this.paint.get("circle-stroke-width").evaluate(e),l="map"===this.paint.get("circle-pitch-alignment"),c=l?s:function(t,e,r){return t.map((function(t){return t.map((function(t){return ii(t,e,r)}))}))}(s,a,o),p=l?u*i:u,f=0,d=r;f<d.length;f+=1)for(var h=0,m=d[f];h<m.length;h+=1){var y=m[h],g=l?y:ii(y,a,o),v=p,_=Go.transformMat4([],[y.x,y.y,0,1],a);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=_[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/_[3]),Rn(c,g,v))return!0}return!1},e}(ln);function ii(t,e,r){var n=Go.transformMat4([],[t.x,t.y,0,1],e);return new E((n[0]/n[3]+1)*r.width*.5,(n[1]/n[3]+1)*r.height*.5)}var qo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Oo);function ai(t,e,r,n){var o=e.width,i=e.height;if(n){if(n.length!==o*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*i*r);return t.width=o,t.height=i,t.data=n,t}function si(t,e,r){var n=e.width,o=e.height;if(n!==t.width||o!==t.height){var i=ai({},{width:n,height:o},r);ui(t,i,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,o)},r),t.width=n,t.height=o,t.data=i.data}}function ui(t,e,r,n,o,i){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||r.x>t.width-o.width||r.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||n.x>e.width-o.width||n.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<o.height;u++)for(var l=((r.y+u)*t.width+r.x)*i,c=((n.y+u)*e.width+n.x)*i,p=0;p<o.width*i;p++)s[c+p]=a[l+p];return e}hr("HeatmapBucket",qo,{omit:["layers"]});var Ho=function li(t,e){ai(this,t,1,e)};Ho.prototype.resize=function(t){si(this,t,1)},Ho.prototype.clone=function(){return new Ho({width:this.width,height:this.height},new Uint8Array(this.data))},Ho.copy=function(t,e,r,n,o){ui(t,e,r,n,o,1)};var Yo=function pi(t,e){ai(this,t,4,e)};Yo.prototype.resize=function(t){si(this,t,4)},Yo.prototype.clone=function(){return new Yo({width:this.width,height:this.height},new Uint8Array(this.data))},Yo.copy=function(t,e,r,n,o){ui(t,e,r,n,o,4)},hr("AlphaImage",Ho),hr("RGBAImage",Yo);var Xo={paint:new un({"heatmap-radius":new on(j.paint_heatmap["heatmap-radius"]),"heatmap-weight":new on(j.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new nn(j.paint_heatmap["heatmap-intensity"]),"heatmap-color":new sn(j.paint_heatmap["heatmap-color"]),"heatmap-opacity":new nn(j.paint_heatmap["heatmap-opacity"])})};function hi(t,e){for(var r=new Uint8Array(1024),n={},o=0,i=0;o<256;o++,i+=4){n[e]=o/255;var a=t.evaluate(n);r[i+0]=Math.floor(255*a.r/a.a),r[i+1]=Math.floor(255*a.g/a.a),r[i+2]=Math.floor(255*a.b/a.a),r[i+3]=Math.floor(255*a.a)}return new Yo({width:256,height:1},r)}var Qo=function(t){function e(e){t.call(this,e,Xo),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new qo(t)},e.prototype.setPaintProperty=function(e,r,n){t.prototype.setPaintProperty.call(this,e,r,n),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=hi(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(ln),$o={paint:new un({"hillshade-illumination-direction":new nn(j.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new nn(j.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new nn(j.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new nn(j.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new nn(j.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new nn(j.paint_hillshade["hillshade-accent-color"])})},Jo=function(t){function e(e){t.call(this,e,$o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(ln),ti=$r([{name:"a_pos",components:2,type:"Int16"}],4).members,ei=xi,ri=xi;function xi(t,e,r){r=r||2;var n,o,i,a,s,u,l,c=e&&e.length,p=c?e[0]*r:t.length,f=bi(t,0,p,r,!0),d=[];if(!f)return d;if(c&&(f=function(t,e,r,n){var o,i,a,s=[];for(o=0,i=e.length;o<i;o++)(a=bi(t,e[o]*n,o<i-1?e[o+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),s.push(Ci(a));for(s.sort(Mi),o=0;o<s.length;o++)Vi(s[o],r),r=wi(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=i=t[0],o=a=t[1];for(var h=r;h<p;h+=r)(s=t[h])<n&&(n=s),(u=t[h+1])<o&&(o=u),s>i&&(i=s),u>a&&(a=u);l=0!==(l=Math.max(i-n,a-o))?1/l:0}return _i(f,d,r,n,o,l),d}function bi(t,e,r,n,o){var i,a;if(o===Ui(t,e,r,n)>0)for(i=e;i<r;i+=n)a=ji(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=ji(i,t[i],t[i+1],a);return a&&Pi(a,a.next)&&(qi(a),a=a.next),a}function wi(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Pi(n,n.next)&&0!==Fi(n.prev,n,n.next))n=n.next;else{if(qi(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function _i(t,e,r,n,o,i,a){if(t){!a&&i&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=Bi(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,s,u,l=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(a>1)}(o)}(t,n,o,i);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,i?ki(t,n,o,i):Ai(t))e.push(s.i/r),e.push(t.i/r),e.push(u.i/r),qi(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?_i(t=zi(t,e,r),e,r,n,o,i,2):2===a&&Si(t,e,r,n,o,i):_i(wi(t),e,r,n,o,i,1);break}}}function Ai(t){var e=t.prev,r=t,n=t.next;if(Fi(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(Ii(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&Fi(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function ki(t,e,r,n){var o=t.prev,i=t,a=t.next;if(Fi(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,l=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=Bi(s,u,e,r,n),f=Bi(l,c,e,r,n),d=t.prevZ,h=t.nextZ;d&&d.z>=p&&h&&h.z<=f;){if(d!==t.prev&&d!==t.next&&Ii(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&Fi(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&Ii(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Fi(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=p;){if(d!==t.prev&&d!==t.next&&Ii(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&Fi(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=f;){if(h!==t.prev&&h!==t.next&&Ii(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Fi(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function zi(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!Pi(o,i)&&Ti(o,n,n.next,i)&&Oi(o,i)&&Oi(i,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(i.i/r),qi(n),qi(n.next),n=t=i),n=n.next}while(n!==t);return n}function Si(t,e,r,n,o,i){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ei(a,s)){var u=Li(a,s);return a=wi(a,a.next),u=wi(u,u.next),_i(a,e,r,n,o,i),void _i(u,e,r,n,o,i)}s=s.next}a=a.next}while(a!==t)}function Mi(t,e){return t.x-e.x}function Vi(t,e){if(e=function(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r.prev;var u,l=r,c=r.x,p=r.y,f=1/0;for(n=r.next;n!==l;)o>=n.x&&n.x>=c&&o!==n.x&&Ii(i<p?o:a,i,c,p,i<p?a:o,i,n.x,n.y)&&((u=Math.abs(i-n.y)/(o-n.x))<f||u===f&&n.x>r.x)&&Oi(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=Li(e,t);wi(r,r.next)}}function Bi(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ci(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function Ii(t,e,r,n,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function Ei(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Ti(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Oi(t,e)&&Oi(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function Fi(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Pi(t,e){return t.x===e.x&&t.y===e.y}function Ti(t,e,r,n){return!!(Pi(t,e)&&Pi(r,n)||Pi(t,n)&&Pi(r,e))||Fi(t,e,r)>0!=Fi(t,e,n)>0&&Fi(r,n,t)>0!=Fi(r,n,e)>0}function Oi(t,e){return Fi(t.prev,t,t.next)<0?Fi(t,e,t.next)>=0&&Fi(t,t.prev,e)>=0:Fi(t,e,t.prev)<0||Fi(t,t.next,e)<0}function Li(t,e){var r=new Ri(t.i,t.x,t.y),n=new Ri(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function ji(t,e,r,n){var o=new Ri(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function qi(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ri(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ui(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}xi.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(Ui(t,0,i,r));if(o)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(Ui(t,l,c,r))}var p=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,h=n[s+2]*r;p+=Math.abs((t[f]-t[h])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[h+1]-t[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},xi.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r},ei.default=ri;var ni=Zi,oi=Zi;function Zi(t,e,r,n,o){!function t(e,r,n,o,i){for(;o>n;){if(o-n>600){var a=o-n+1,s=r-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,r,Math.max(n,Math.floor(r-s*l/a+c)),Math.min(o,Math.floor(r+(a-s)*l/a+c)),i)}var p=e[r],f=n,d=o;for(Ki(e,n,r),i(e[o],p)>0&&Ki(e,n,o);f<d;){for(Ki(e,f,d),f++,d--;i(e[f],p)<0;)f++;for(;i(e[d],p)>0;)d--}0===i(e[n],p)?Ki(e,n,d):Ki(e,++d,o),d<=r&&(n=d+1),r<=d&&(o=d-1)}}(t,e,r||0,n||t.length-1,o||Ji)}function Ki(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ji(t,e){return t<e?-1:t>e?1:0}function $i(t,e){var r=t.length;if(r<=1)return[t];for(var n,o,i=[],a=0;a<r;a++){var s=_(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(n&&i.push(n),n=[t[a]]):n.push(t[a]))}if(n&&i.push(n),e>1)for(var u=0;u<i.length;u++)i[u].length<=e||(ni(i[u],e,1,i[u].length-1,Hi),i[u]=i[u].slice(0,e));return i}function Hi(t,e){return e.area-t.area}ni.default=oi;var ci=function Xi(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new dn,this.indexArray=new On,this.indexArray2=new kn,this.programConfigurations=new Ro(ti,t.layers,t.zoom),this.segments=new xo,this.segments2=new xo};ci.prototype.populate=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Kr(this.zoom),i)){var u=Ln(i);this.addFeature(i,u),e.featureIndex.insert(i,u,a,s,this.index)}}},ci.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ci.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ti),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)},ci.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ci.prototype.addFeature=function(t,e){for(var r=0,n=$i(e,500);r<n.length;r+=1){for(var o=n[r],i=0,a=0,s=o;a<s.length;a+=1)i+=s[a].length;for(var u=this.segments.prepareSegment(i,this.layoutVertexArray,this.indexArray),l=u.vertexLength,c=[],p=[],f=0,d=o;f<d.length;f+=1){var h=d[f];if(0!==h.length){h!==o[0]&&p.push(c.length/2);var m=this.segments2.prepareSegment(h.length,this.layoutVertexArray,this.indexArray2),y=m.vertexLength;this.layoutVertexArray.emplaceBack(h[0].x,h[0].y),this.indexArray2.emplaceBack(y+h.length-1,y),c.push(h[0].x),c.push(h[0].y);for(var g=1;g<h.length;g++)this.layoutVertexArray.emplaceBack(h[g].x,h[g].y),this.indexArray2.emplaceBack(y+g-1,y+g),c.push(h[g].x),c.push(h[g].y);m.vertexLength+=h.length,m.primitiveLength+=h.length}}for(var v=ei(c,p),_=0;_<v.length;_+=3)this.indexArray.emplaceBack(l+v[_],l+v[_+1],l+v[_+2]);u.vertexLength+=i,u.primitiveLength+=v.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("FillBucket",ci,{omit:["layers"]});var fi={paint:new un({"fill-antialias":new nn(j.paint_fill["fill-antialias"]),"fill-opacity":new on(j.paint_fill["fill-opacity"]),"fill-color":new on(j.paint_fill["fill-color"]),"fill-outline-color":new on(j.paint_fill["fill-outline-color"]),"fill-translate":new nn(j.paint_fill["fill-translate"]),"fill-translate-anchor":new nn(j.paint_fill["fill-translate-anchor"]),"fill-pattern":new an(j.paint_fill["fill-pattern"])})},di=function(t){function e(e){t.call(this,e,fi)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t);var e=this.paint._values["fill-outline-color"];"constant"===e.value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ci(t)},e.prototype.queryRadius=function(){return Yn(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i){return Un(Wn(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,i),r)},e}(ln),mi=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,yi=Math.pow(2,13);function to(t,e,r,n,o,i,a,s){t.emplaceBack(e,r,2*Math.floor(n*yi)+a,o*yi*2,i*yi*2,Math.round(s))}var gi=function eo(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new mn,this.indexArray=new On,this.programConfigurations=new Ro(mi,t.layers,t.zoom),this.segments=new xo};function ro(t,e){return t.x===e.x&&(t.x<0||t.x>Lo)||t.y===e.y&&(t.y<0||t.y>Lo)}function no(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>Lo}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>Lo}))}gi.prototype.populate=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Kr(this.zoom),i)){var u=Ln(i);this.addFeature(i,u),e.featureIndex.insert(i,u,a,s,this.index)}}},gi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},gi.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,mi),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},gi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},gi.prototype.addFeature=function(t,e){for(var r=0,n=$i(e,500);r<n.length;r+=1){for(var o=n[r],i=0,a=0,s=o;a<s.length;a+=1)i+=s[a].length;for(var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),l=0,c=o;l<c.length;l+=1){var p=c[l];if(0!==p.length&&!no(p))for(var f=0,d=0;d<p.length;d++){var h=p[d];if(d>=1){var m=p[d-1];if(!ro(h,m)){u.vertexLength+4>xo.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=h.sub(m)._perp()._unit(),g=m.dist(h);f+g>32768&&(f=0),to(this.layoutVertexArray,h.x,h.y,y.x,y.y,0,0,f),to(this.layoutVertexArray,h.x,h.y,y.x,y.y,0,1,f),f+=g,to(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,0,f),to(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,1,f);var v=u.vertexLength;this.indexArray.emplaceBack(v,v+1,v+2),this.indexArray.emplaceBack(v+1,v+2,v+3),u.vertexLength+=4,u.primitiveLength+=2}}}}u.vertexLength+i>xo.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(i,this.layoutVertexArray,this.indexArray));for(var _=[],b=[],S=u.vertexLength,x=0,w=o;x<w.length;x+=1){var E=w[x];if(0!==E.length){E!==o[0]&&b.push(_.length/2);for(var P=0;P<E.length;P++){var C=E[P];to(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),_.push(C.x),_.push(C.y)}}}for(var T=ei(_,b),D=0;D<T.length;D+=3)this.indexArray.emplaceBack(S+T[D],S+T[D+1],S+T[D+2]);u.primitiveLength+=T.length/3,u.vertexLength+=i}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},hr("FillExtrusionBucket",gi,{omit:["layers"]});var vi={paint:new un({"fill-extrusion-opacity":new nn(j["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new on(j["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new nn(j["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new nn(j["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new an(j["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new on(j["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new on(j["paint_fill-extrusion"]["fill-extrusion-base"])})},Di=function(t){function e(e){t.call(this,e,vi)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new gi(t)},e.prototype.queryRadius=function(){return Yn(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i){return Un(Wn(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,i),r)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(ln),Ni=$r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Gi=uo;function uo(t,e,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(lo,this,e)}function lo(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function po(t){for(var e,r,n=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n+=((r=t[a]).x-e.x)*(e.y+r.y);return n}uo.types=["Unknown","Point","LineString","Polygon"],uo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,o=0,i=0,a=0,s=[];t.pos<r;){if(o<=0){var u=t.readVarint();n=7&u,o=u>>3}if(o--,1===n||2===n)i+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new E(i,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},uo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,o=0,i=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(o+=t.readSVarint())<a&&(a=o),o>s&&(s=o),(i+=t.readSVarint())<u&&(u=i),i>l&&(l=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,u,s,l]},uo.prototype.toGeoJSON=function(t,e,r){var n,o,i=this.extent*Math.pow(2,r),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=uo.types[this.type];function p(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+s)/i;t[e]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(n=0;n<u.length;n++)c[n]=u[n][0];p(u=c);break;case 2:for(n=0;n<u.length;n++)p(u[n]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var r,n,o=[],i=0;i<e;i++){var a=po(t[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[t[i]]):r.push(t[i]))}return r&&o.push(r),o}(u),n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)p(u[n][o])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var Wi=ho;function ho(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(fo,this,e),this.length=this._features.length}function fo(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(r))}function yo(t,e,r){if(3===t){var n=new Wi(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}ho.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Gi(this._pbf,e,this.extent,this._keys,this._values)};var Yi={VectorTile:function VectorTile(t,e){this.layers=t.readFields(yo,{},e)},VectorTileFeature:Gi,VectorTileLayer:Wi},Qi=Yi.VectorTileFeature.types,ta=63,ea=Math.cos(Math.PI/180*37.5),na=.5,oa=Math.pow(2,14)/na;function _o(t,e,r,n,o,i,a){t.emplaceBack(e.x,e.y,n?1:0,o?1:-1,Math.round(ta*r.x)+128,Math.round(ta*r.y)+128,1+(0===i?0:i<0?-1:1)|(a*na&63)<<2,a*na>>6)}var ia=function Ao(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.layoutVertexArray=new yn,this.indexArray=new On,this.programConfigurations=new Ro(Ni,t.layers,t.zoom),this.segments=new xo};function ko(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(oa-1)}ia.prototype.populate=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Kr(this.zoom),i)){var u=Ln(i);this.addFeature(i,u),e.featureIndex.insert(i,u,a,s,this.index)}}},ia.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ia.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ni),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},ia.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ia.prototype.addFeature=function(t,e){for(var r=this.layers[0].layout,n=r.get("line-join").evaluate(t),o=r.get("line-cap"),i=r.get("line-miter-limit"),a=r.get("line-round-limit"),s=0,u=e;s<u.length;s+=1){var l=u[s];this.addLine(l,t,n,o,i,a)}},ia.prototype.addLine=function(t,e,r,n,o,i){var a=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(a={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var s="Polygon"===Qi[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){a&&(a.tileTotal=function(t,e,r){for(var n,o,i=0,a=e;a<r-1;a++)n=t[a],o=t[a+1],i+=n.dist(o);return i}(t,l,u)),"bevel"===r&&(o=1.05);var c=Lo/(512*this.overscaling)*15,p=t[l],f=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.distance=0;var d,h,m,y=n,g=s?"butt":n,v=!0,_=void 0,b=void 0,S=void 0,x=void 0;this.e1=this.e2=this.e3=-1,s&&(d=t[u-2],x=p.sub(d)._unit()._perp());for(var w=l;w<u;w++)if(!(b=s&&w===u-1?t[l+1]:t[w+1])||!t[w].equals(b)){x&&(S=x),d&&(_=d),d=t[w],x=b?b.sub(d)._unit()._perp():S;var E=(S=S||x).add(x);0===E.x&&0===E.y||E._unit();var P=E.x*x.x+E.y*x.y,C=0!==P?1/P:1/0,T=P<ea&&_&&b;if(T&&w>l){var D=d.dist(_);if(D>2*c){var M=d.sub(d.sub(_)._mult(c/D)._round());this.distance+=M.dist(_),this.addCurrentVertex(M,this.distance,S.mult(1),0,0,!1,f,a),_=M}}var A=_&&b,R=A?r:b?y:g;if(A&&"round"===R&&(C<i?R="miter":C<=2&&(R="fakeround")),"miter"===R&&C>o&&(R="bevel"),"bevel"===R&&(C>2&&(R="flipbevel"),C<o&&(R="miter")),_&&(this.distance+=d.dist(_)),"miter"===R)E._mult(C),this.addCurrentVertex(d,this.distance,E,0,0,!1,f,a);else if("flipbevel"===R){if(C>100)E=x.clone().mult(-1);else{var L=S.x*x.y-S.y*x.x>0?-1:1,I=C*S.add(x).mag()/S.sub(x).mag();E._perp()._mult(I*L)}this.addCurrentVertex(d,this.distance,E,0,0,!1,f,a),this.addCurrentVertex(d,this.distance,E.mult(-1),0,0,!1,f,a)}else if("bevel"===R||"fakeround"===R){var O=S.x*x.y-S.y*x.x>0,k=-Math.sqrt(C*C-1);if(O?(m=0,h=k):(h=0,m=k),v||this.addCurrentVertex(d,this.distance,S,h,m,!1,f,a),"fakeround"===R){for(var F=Math.floor(8*(.5-(P-.5))),N=void 0,B=0;B<F;B++)N=x.mult((B+1)/(F+1))._add(S)._unit(),this.addPieSliceVertex(d,this.distance,N,O,f,a);this.addPieSliceVertex(d,this.distance,E,O,f,a);for(var U=F-1;U>=0;U--)N=S.mult((U+1)/(F+1))._add(x)._unit(),this.addPieSliceVertex(d,this.distance,N,O,f,a)}b&&this.addCurrentVertex(d,this.distance,x,-h,-m,!1,f,a)}else"butt"===R?(v||this.addCurrentVertex(d,this.distance,S,0,0,!1,f,a),b&&this.addCurrentVertex(d,this.distance,x,0,0,!1,f,a)):"square"===R?(v||(this.addCurrentVertex(d,this.distance,S,1,1,!1,f,a),this.e1=this.e2=-1),b&&this.addCurrentVertex(d,this.distance,x,-1,-1,!1,f,a)):"round"===R&&(v||(this.addCurrentVertex(d,this.distance,S,0,0,!1,f,a),this.addCurrentVertex(d,this.distance,S,1,1,!0,f,a),this.e1=this.e2=-1),b&&(this.addCurrentVertex(d,this.distance,x,-1,-1,!0,f,a),this.addCurrentVertex(d,this.distance,x,0,0,!1,f,a)));if(T&&w<u-1){var z=d.dist(b);if(z>2*c){var j=d.add(b.sub(d)._mult(c/z)._round());this.distance+=j.dist(d),this.addCurrentVertex(j,this.distance,x.mult(1),0,0,!1,f,a),d=j}}v=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},ia.prototype.addCurrentVertex=function(t,e,r,n,o,i,a,s){var u,l=this.layoutVertexArray,c=this.indexArray;s&&(e=ko(e,s)),u=r.clone(),n&&u._sub(r.perp()._mult(n)),_o(l,t,u,i,!1,n,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=r.mult(-1),o&&u._sub(r.perp()._mult(o)),_o(l,t,u,i,!0,-o,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>oa/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,r,n,o,i,a))},ia.prototype.addPieSliceVertex=function(t,e,r,n,o,i){r=r.mult(n?-1:1);var a=this.layoutVertexArray,s=this.indexArray;i&&(e=ko(e,i)),_o(a,t,r,!1,n,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},hr("LineBucket",ia,{omit:["layers"]});var _a=new un({"line-cap":new nn(j.layout_line["line-cap"]),"line-join":new on(j.layout_line["line-join"]),"line-miter-limit":new nn(j.layout_line["line-miter-limit"]),"line-round-limit":new nn(j.layout_line["line-round-limit"])}),Sa={paint:new un({"line-opacity":new on(j.paint_line["line-opacity"]),"line-color":new on(j.paint_line["line-color"]),"line-translate":new nn(j.paint_line["line-translate"]),"line-translate-anchor":new nn(j.paint_line["line-translate-anchor"]),"line-width":new on(j.paint_line["line-width"]),"line-gap-width":new on(j.paint_line["line-gap-width"]),"line-offset":new on(j.paint_line["line-offset"]),"line-blur":new on(j.paint_line["line-blur"]),"line-dasharray":new an(j.paint_line["line-dasharray"]),"line-pattern":new an(j.paint_line["line-pattern"]),"line-gradient":new sn(j.paint_line["line-gradient"])}),layout:_a},Ta=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,r){return r=new Kr(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),t.prototype.possiblyEvaluate.call(this,e,r)},e.prototype.evaluate=function(e,r,n){return r=h({},r,{zoom:Math.floor(r.zoom)}),t.prototype.evaluate.call(this,e,r,n)},e}(on))(Sa.paint.properties["line-width"].specification);Ta.useIntegerZoom=!0;var Da=function(t){function e(e){t.call(this,e,Sa)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setPaintProperty=function(e,r,n){t.prototype.setPaintProperty.call(this,e,r,n),"line-gradient"===e&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=hi(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Ta.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new ia(t)},e.prototype.queryRadius=function(t){var e=t,r=Bo(Gn("line-width",this,e),Gn("line-gap-width",this,e)),n=Gn("line-offset",this,e);return r/2+Math.abs(n)+Yn(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,o,i){var a=Wn(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,i),s=i/2*Bo(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),u=this.paint.get("line-offset").evaluate(e);return u&&(r=function(t,e){for(var r=[],n=new E(0,0),o=0;o<t.length;o++){for(var i=t[o],a=[],s=0;s<i.length;s++){var u=i[s-1],l=i[s],c=i[s+1],p=0===s?n:l.sub(u)._unit()._perp(),f=s===i.length-1?n:c.sub(l)._unit()._perp(),d=p._add(f)._unit(),h=d.x*f.x+d.y*f.y;d._mult(1/h),a.push(d._mult(e)._add(l))}r.push(a)}return r}(r,u*i)),Dn(a,r,s)},e}(ln);function Bo(t,e){return e>0?e+2*t:t}var Ra=$r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),La=$r([{name:"a_projected_pos",components:3,type:"Float32"}],4),Oa=($r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),$r([{name:"a_placed",components:2,type:"Uint8"}],4)),Fa=($r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ua=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function To(t,e,r){var n=e.layout.get("text-transform").evaluate(r);return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),qr.applyArabicShaping&&(t=qr.applyArabicShaping(t)),t}$r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),$r([{type:"Float32",name:"offsetX"}]),$r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ga={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Va=function(t){function e(e,r,n,o){t.call(this,e,r),this.angle=n,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(E);function jo(t,e){var r=e.expression;if("constant"===r.kind)return{functionType:"constant",layoutSize:r.evaluate(new Kr(t+1))};if("source"===r.kind)return{functionType:"source"};for(var n=r.zoomStops,o=0;o<n.length&&n[o]<=t;)o++;for(var i=o=Math.max(0,o-1);i<n.length&&n[i]<t+1;)i++;i=Math.min(n.length-1,i);var a={min:n[o],max:n[i]};return"composite"===r.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:r.evaluate(new Kr(t+1)),zoomRange:a,sizeRange:{min:r.evaluate(new Kr(a.min)),max:r.evaluate(new Kr(a.max))},propertyValue:e.value}}hr("Anchor",Va);var Wa=Yi.VectorTileFeature.types,Ya=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Uo(t,e,r,n,o,i,a,s){t.emplaceBack(e,r,Math.round(32*n),Math.round(32*o),i,a,s?s[0]:0,s?s[1]:0)}function Do(t,e,r){t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r)}var Xa=function No(t){this.layoutVertexArray=new gn,this.indexArray=new On,this.programConfigurations=t,this.segments=new xo,this.dynamicLayoutVertexArray=new vn,this.opacityVertexArray=new _n,this.placedSymbolArray=new ao};Xa.prototype.upload=function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ra.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,La.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Ya,!0),this.opacityVertexBuffer.itemSize=1},Xa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},hr("SymbolBuffers",Xa);var Qa=function Zo(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new xo,this.collisionVertexArray=new wn};Qa.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Oa.members,!0)},Qa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},hr("CollisionBuffers",Qa);var ts=function Ko(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=jo(this.zoom,e["text-size"]),this.iconSizeData=jo(this.zoom,e["icon-size"]);var r=this.layers[0].layout;this.sortFeaturesByY=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")};ts.prototype.createArrays=function(){this.text=new Xa(new Ro(Ra.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new Xa(new Ro(Ra.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.collisionBox=new Qa(xn,Fa.members,kn),this.collisionCircle=new Qa(xn,Ua.members,On),this.glyphOffsetArray=new co,this.lineVertexArray=new go},ts.prototype.populate=function(t,e){var r=this.layers[0],n=r.layout,o=n.get("text-font"),i=n.get("text-field"),a=n.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||u){for(var l=e.iconDependencies,c=e.glyphDependencies,p=new Kr(this.zoom),f=0,d=t;f<d.length;f+=1){var h=d[f],m=h.feature,y=h.index,g=h.sourceLayerIndex;if(r._featureFilter(p,m)){var v=void 0;s&&(v=To(v=r.getValueAndResolveTokens("text-field",m),r,m));var _=void 0;if(u&&(_=r.getValueAndResolveTokens("icon-image",m)),v||_){var b={text:v,icon:_,index:y,sourceLayerIndex:g,geometry:Ln(m),properties:m.properties,type:Wa[m.type]};if(void 0!==m.id&&(b.id=m.id),this.features.push(b),_&&(l[_]=!0),v)for(var S=o.evaluate(m).join(","),x=c[S]=c[S]||{},w="map"===n.get("text-rotation-alignment")&&"line"===n.get("symbol-placement"),E=gr(v),P=0;P<v.length;P++)if(x[v.charCodeAt(P)]=!0,w&&E){var C=Ga[v.charAt(P)];C&&(x[C.charCodeAt(0)]=!0)}}}}"line"===n.get("symbol-placement")&&(this.features=function(t){var e={},r={},n=[],i=0;function o(e){n.push(t[e]),i++}function a(t,e,o){var i=r[t];return delete r[t],r[e]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(o[0]),i}function s(t,r,o){var i=e[r];return delete e[r],e[t]=i,n[i].geometry[0].shift(),n[i].geometry[0]=o[0].concat(n[i].geometry[0]),i}function u(t,e,r){var n=r?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var l=0;l<t.length;l++){var c=t[l],p=c.geometry,f=c.text;if(f){var d=u(f,p),h=u(f,p,!0);if(d in r&&h in e&&r[d]!==e[h]){var m=s(d,h,p),y=a(d,h,n[m].geometry);delete e[d],delete r[h],r[u(f,n[y].geometry,!0)]=y,n[m].geometry=null}else d in r?a(d,h,p):h in e?s(d,h,p):(o(l),e[d]=i-1,r[h]=i-1)}else o(l)}return n.filter((function(t){return t.geometry}))}(this.features))}},ts.prototype.isEmpty=function(){return 0===this.symbolInstances.length},ts.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},ts.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},ts.prototype.addToLineVertexArray=function(t,e){var r=this.lineVertexArray.length;if(void 0!==t.segment){for(var n=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),i={},a=t.segment+1;a<e.length;a++)i[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:n},a<e.length-1&&(n+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)i[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:o},s>0&&(o+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=i[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},ts.prototype.addSymbols=function(t,e,r,n,o,i,a,s,u,l){for(var c=t.indexArray,p=t.layoutVertexArray,f=t.dynamicLayoutVertexArray,d=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),h=this.glyphOffsetArray.length,m=d.vertexLength,y=0,g=e;y<g.length;y+=1){var v=g[y],_=v.tl,b=v.tr,S=v.bl,x=v.br,w=v.tex,E=d.vertexLength,P=v.glyphOffset[1];Uo(p,s.x,s.y,_.x,P+_.y,w.x,w.y,r),Uo(p,s.x,s.y,b.x,P+b.y,w.x+w.w,w.y,r),Uo(p,s.x,s.y,S.x,P+S.y,w.x,w.y+w.h,r),Uo(p,s.x,s.y,x.x,P+x.y,w.x+w.w,w.y+w.h,r),Do(f,s,0),c.emplaceBack(E,E+1,E+2),c.emplaceBack(E+1,E+2,E+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(v.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,h,this.glyphOffsetArray.length-h,m,u,l,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,i)},ts.prototype._addCollisionDebugVertex=function(t,e,r,n,o){return e.emplaceBack(0,0),t.emplaceBack(r.x,r.y,n.x,n.y,Math.round(o.x),Math.round(o.y))},ts.prototype.addCollisionDebugVertices=function(t,e,r,n,o,i,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,p=o.collisionVertexArray;if(this._addCollisionDebugVertex(c,p,i,a.anchor,new E(t,e)),this._addCollisionDebugVertex(c,p,i,a.anchor,new E(r,e)),this._addCollisionDebugVertex(c,p,i,a.anchor,new E(r,n)),this._addCollisionDebugVertex(c,p,i,a.anchor,new E(t,n)),u.vertexLength+=4,s){var f=o.indexArray;f.emplaceBack(l,l+1,l+2),f.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var d=o.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),u.primitiveLength+=4}},ts.prototype.generateCollisionDebugBuffers=function(){for(var t=0,e=this.symbolInstances;t<e.length;t+=1){var r=e[t];r.textCollisionFeature={boxStartIndex:r.textBoxStartIndex,boxEndIndex:r.textBoxEndIndex},r.iconCollisionFeature={boxStartIndex:r.iconBoxStartIndex,boxEndIndex:r.iconBoxEndIndex};for(var n=0;n<2;n++){var o=r[0===n?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var i=o.boxStartIndex;i<o.boxEndIndex;i++){var a=this.collisionBoxArray.get(i),s=a.x1,u=a.y1,l=a.x2,c=a.y2,p=a.radius>0;this.addCollisionDebugVertices(s,u,l,c,p?this.collisionCircle:this.collisionBox,a.anchorPoint,r,p)}}}},ts.prototype.deserializeCollisionBoxes=function(t,e,r,n,o){for(var i={},a=e;a<r;a++){var s=t.get(a);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},i.textFeatureIndex=s.featureIndex;break}i.textCircles||(i.textCircles=[],i.textFeatureIndex=s.featureIndex),i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=n;u<o;u++){var l=t.get(u);if(0===l.radius){i.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},i.iconFeatureIndex=l.featureIndex;break}}return i},ts.prototype.hasTextData=function(){return this.text.segments.get().length>0},ts.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ts.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},ts.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},ts.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var r=[],n=0;n<this.symbolInstances.length;n++)r.push(n);var o=Math.sin(t),i=Math.cos(t);r.sort((function(t,r){var n=e.symbolInstances[t],a=e.symbolInstances[r];return(o*n.anchor.x+i*n.anchor.y|0)-(o*a.anchor.x+i*a.anchor.y|0)||a.featureIndex-n.featureIndex})),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.symbolInstances[u];e.featureSortOrder.push(l.featureIndex);for(var c=0,p=l.placedTextSymbolIndices;c<p.length;c+=1)for(var f=p[c],d=e.text.placedSymbolArray.get(f),h=d.vertexStartIndex+4*d.numGlyphs,m=d.vertexStartIndex;m<h;m+=4)e.text.indexArray.emplaceBack(m,m+1,m+2),e.text.indexArray.emplaceBack(m+1,m+2,m+3);var y=e.icon.placedSymbolArray.get(u);if(y.numGlyphs){var g=y.vertexStartIndex;e.icon.indexArray.emplaceBack(g,g+1,g+2),e.icon.indexArray.emplaceBack(g+1,g+2,g+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},hr("SymbolBucket",ts,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),ts.MAX_GLYPHS=65535,ts.addDynamicAttributes=Do;var es=new un({"symbol-placement":new nn(j.layout_symbol["symbol-placement"]),"symbol-spacing":new nn(j.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new nn(j.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new nn(j.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new nn(j.layout_symbol["icon-ignore-placement"]),"icon-optional":new nn(j.layout_symbol["icon-optional"]),"icon-rotation-alignment":new nn(j.layout_symbol["icon-rotation-alignment"]),"icon-size":new on(j.layout_symbol["icon-size"]),"icon-text-fit":new nn(j.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new nn(j.layout_symbol["icon-text-fit-padding"]),"icon-image":new on(j.layout_symbol["icon-image"]),"icon-rotate":new on(j.layout_symbol["icon-rotate"]),"icon-padding":new nn(j.layout_symbol["icon-padding"]),"icon-keep-upright":new nn(j.layout_symbol["icon-keep-upright"]),"icon-offset":new on(j.layout_symbol["icon-offset"]),"icon-anchor":new on(j.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new nn(j.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new nn(j.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new nn(j.layout_symbol["text-rotation-alignment"]),"text-field":new on(j.layout_symbol["text-field"]),"text-font":new on(j.layout_symbol["text-font"]),"text-size":new on(j.layout_symbol["text-size"]),"text-max-width":new on(j.layout_symbol["text-max-width"]),"text-line-height":new nn(j.layout_symbol["text-line-height"]),"text-letter-spacing":new on(j.layout_symbol["text-letter-spacing"]),"text-justify":new on(j.layout_symbol["text-justify"]),"text-anchor":new on(j.layout_symbol["text-anchor"]),"text-max-angle":new nn(j.layout_symbol["text-max-angle"]),"text-rotate":new on(j.layout_symbol["text-rotate"]),"text-padding":new nn(j.layout_symbol["text-padding"]),"text-keep-upright":new nn(j.layout_symbol["text-keep-upright"]),"text-transform":new on(j.layout_symbol["text-transform"]),"text-offset":new on(j.layout_symbol["text-offset"]),"text-allow-overlap":new nn(j.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new nn(j.layout_symbol["text-ignore-placement"]),"text-optional":new nn(j.layout_symbol["text-optional"])}),rs={paint:new un({"icon-opacity":new on(j.paint_symbol["icon-opacity"]),"icon-color":new on(j.paint_symbol["icon-color"]),"icon-halo-color":new on(j.paint_symbol["icon-halo-color"]),"icon-halo-width":new on(j.paint_symbol["icon-halo-width"]),"icon-halo-blur":new on(j.paint_symbol["icon-halo-blur"]),"icon-translate":new nn(j.paint_symbol["icon-translate"]),"icon-translate-anchor":new nn(j.paint_symbol["icon-translate-anchor"]),"text-opacity":new on(j.paint_symbol["text-opacity"]),"text-color":new on(j.paint_symbol["text-color"]),"text-halo-color":new on(j.paint_symbol["text-halo-color"]),"text-halo-width":new on(j.paint_symbol["text-halo-width"]),"text-halo-blur":new on(j.paint_symbol["text-halo-blur"]),"text-translate":new nn(j.paint_symbol["text-translate"]),"text-translate-anchor":new nn(j.paint_symbol["text-translate-anchor"])}),layout:es},ns=function(t){function e(e){t.call(this,e,rs)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var r,n=this.layout.get(t).evaluate(e),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||be(o.value)?n:(r=e.properties,n.replace(/{([^{}]+)}/g,(function(t,e){return e in r?String(r[e]):""})))},e.prototype.createBucket=function(t){return new ts(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(ln),os={paint:new un({"background-color":new nn(j.paint_background["background-color"]),"background-pattern":new an(j.paint_background["background-pattern"]),"background-opacity":new nn(j.paint_background["background-opacity"])})},is=function(t){function e(e){t.call(this,e,os)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ln),as={paint:new un({"raster-opacity":new nn(j.paint_raster["raster-opacity"]),"raster-hue-rotate":new nn(j.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new nn(j.paint_raster["raster-brightness-min"]),"raster-brightness-max":new nn(j.paint_raster["raster-brightness-max"]),"raster-saturation":new nn(j.paint_raster["raster-saturation"]),"raster-contrast":new nn(j.paint_raster["raster-contrast"]),"raster-fade-duration":new nn(j.paint_raster["raster-fade-duration"])})},ss={circle:Wo,heatmap:Qo,hillshade:Jo,fill:di,"fill-extrusion":Di,line:Da,symbol:ns,background:is,raster:function(t){function e(e){t.call(this,e,as)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ln)},us=n((function(t,e){t.exports=function(){function t(t,e,r){r=r||{},this.w=t||64,this.h=e||64,this.autoResize=!!r.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,r){this.x=0,this.y=t,this.w=this.free=e,this.h=r}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var r,n,o,i,a=[],s=0;s<t.length;s++)if(r=t[s].w||t[s].width,n=t[s].h||t[s].height,o=t[s].id,r&&n){if(!(i=this.packOne(r,n,o)))continue;e.inPlace&&(t[s].x=i.x,t[s].y=i.y,t[s].id=i.id),a.push(i)}return this.shrink(),a},t.prototype.packOne=function(t,r,n){var o,i,a,s,u,l,c,p,f={freebin:-1,shelf:-1,waste:1/0},d=0;if("string"==typeof n||"number"==typeof n){if(o=this.getBin(n))return this.ref(o),o;"number"==typeof n&&(this.maxId=Math.max(n,this.maxId))}else n=++this.maxId;for(s=0;s<this.freebins.length;s++){if(r===(o=this.freebins[s]).maxh&&t===o.maxw)return this.allocFreebin(s,t,r,n);r>o.maxh||t>o.maxw||r<=o.maxh&&t<=o.maxw&&(a=o.maxw*o.maxh-t*r)<f.waste&&(f.waste=a,f.freebin=s)}for(s=0;s<this.shelves.length;s++)if(d+=(i=this.shelves[s]).h,!(t>i.free)){if(r===i.h)return this.allocShelf(s,t,r,n);r>i.h||r<i.h&&(a=(i.h-r)*t)<f.waste&&(f.freebin=-1,f.waste=a,f.shelf=s)}return-1!==f.freebin?this.allocFreebin(f.freebin,t,r,n):-1!==f.shelf?this.allocShelf(f.shelf,t,r,n):r<=this.h-d&&t<=this.w?(i=new e(d,this.w,r),this.allocShelf(this.shelves.push(i)-1,t,r,n)):this.autoResize?(u=l=this.h,((c=p=this.w)<=u||t>c)&&(p=2*Math.max(t,c)),(u<c||r>u)&&(l=2*Math.max(r,u)),this.resize(p,l),this.packOne(t,r,n)):null},t.prototype.allocFreebin=function(t,e,r,n){var o=this.freebins.splice(t,1)[0];return o.id=n,o.w=e,o.h=r,o.refcount=0,this.bins[n]=o,this.ref(o),o},t.prototype.allocShelf=function(t,e,r,n){var o=this.shelves[t].alloc(e,r,n);return this.bins[n]=o,this.ref(o),o},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,r=0;r<this.shelves.length;r++){var n=this.shelves[r];e+=n.h,t=Math.max(n.w-n.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var r=0;r<this.shelves.length;r++)this.shelves[r].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var n=this.x;return this.x+=t,this.free-=t,new function(t,e,r,n,o,i,a){this.id=t,this.x=e,this.y=r,this.w=n,this.h=o,this.maxw=i||n,this.maxh=a||o,this.refcount=0}(r,n,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t}()})),ls=function ta(t,e){var r=e.pixelRatio;this.paddedRect=t,this.pixelRatio=r},cs={tl:{configurable:!0},br:{configurable:!0},displaySize:{configurable:!0}};cs.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},cs.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},cs.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ls.prototype,cs);var ps=function ra(t){var e=new Yo({width:0,height:0}),r={},n=new us(0,0,{autoResize:!0});for(var o in t){var i=t[o],a=n.packOne(i.data.width+2,i.data.height+2);e.resize({width:n.w,height:n.h}),Yo.copy(i.data,e,{x:0,y:0},{x:a.x+1,y:a.y+1},i.data),r[o]=new ls(a,i)}n.shrink(),e.resize({width:n.w,height:n.h}),this.image=e,this.positions=r};hr("ImagePosition",ls),hr("ImageAtlas",ps);var fs=function na(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,p=r?o-1:0,f=r?-1:1,d=t[e+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+t[e+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=l}return(d?-1:1)*a*Math.pow(2,i-n)},ds=function ia(t,e,r,n,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*u-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[r+d]=255&a,d+=h,a/=256,l-=8);t[r+d-h]|=128*m},hs=aa;function aa(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function sa(t){return t.type===aa.Bytes?t.readVarint()+t.pos:t.pos+1}function ua(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function la(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=t;o--)r.buf[o+n]=r.buf[o]}function pa(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function ca(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function ha(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function fa(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function ya(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function da(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function va(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function ma(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function ga(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function xa(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ba(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function wa(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}aa.Varint=0,aa.Fixed64=1,aa.Bytes=2,aa.Fixed32=5,aa.prototype={destroy:function destroy(){this.buf=null},readFields:function readFields(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,t(o,e,this),this.pos===i&&this.skip(n)}return e},readMessage:function readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function readFixed32(){var t=xa(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function readSFixed32(){var t=wa(this.buf,this.pos);return this.pos+=4,t},readFixed64:function readFixed64(){var t=xa(this.buf,this.pos)+4294967296*xa(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function readSFixed64(){var t=xa(this.buf,this.pos)+4294967296*wa(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function readFloat(){var t=fs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function readDouble(){var t=fs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function readVarint(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,o,i=r.buf;if(n=(112&(o=i[r.pos++]))>>4,o<128)return ua(t,n,e);if(n|=(127&(o=i[r.pos++]))<<3,o<128)return ua(t,n,e);if(n|=(127&(o=i[r.pos++]))<<10,o<128)return ua(t,n,e);if(n|=(127&(o=i[r.pos++]))<<17,o<128)return ua(t,n,e);if(n|=(127&(o=i[r.pos++]))<<24,o<128)return ua(t,n,e);if(n|=(1&(o=i[r.pos++]))<<31,o<128)return ua(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function readVarint64(){return this.readVarint(!0)},readSVarint:function readSVarint(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function readBoolean(){return Boolean(this.readVarint())},readString:function readString(){var t=this.readVarint()+this.pos,e=function(t,e,r){for(var n="",o=e;o<r;){var i,a,s,u=t[o],l=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c>r)break;1===c?u<128&&(l=u):2===c?128==(192&(i=t[o+1]))&&(l=(31&u)<<6|63&i)<=127&&(l=null):3===c?(i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&((l=(15&u)<<12|(63&i)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,n+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),n+=String.fromCharCode(l),o+=c}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function readBytes(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function readPackedVarint(t,e){var r=sa(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function readPackedSVarint(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function readPackedBoolean(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function readPackedFloat(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function readPackedDouble(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function readPackedFixed32(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function readPackedSFixed32(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function readPackedFixed64(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function readPackedSFixed64(t){var e=sa(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function skip(t){var e=7&t;if(e===aa.Varint)for(;this.buf[this.pos++]>127;);else if(e===aa.Bytes)this.pos=this.readVarint()+this.pos;else if(e===aa.Fixed32)this.pos+=4;else{if(e!==aa.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function writeTag(t,e){this.writeVarint(t<<3|e)},realloc:function realloc(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function writeFixed32(t){this.realloc(4),ba(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function writeSFixed32(t){this.realloc(4),ba(this.buf,t,this.pos),this.pos+=4},writeFixed64:function writeFixed64(t){this.realloc(8),ba(this.buf,-1&t,this.pos),ba(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function writeSFixed64(t){this.realloc(8),ba(this.buf,-1&t,this.pos),ba(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function writeVarint(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function writeSVarint(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function writeBoolean(t){this.writeVarint(Boolean(t))},writeString:function writeString(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,o,i=0;i<e.length;i++){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):o=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[r++]=239,t[r++]=191,t[r++]=189,o=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&la(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function writeFloat(t){this.realloc(4),ds(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function writeDouble(t){this.realloc(8),ds(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function writeBytes(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function writeRawMessage(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&la(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function writeMessage(t,e,r){this.writeTag(t,aa.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function writePackedVarint(t,e){this.writeMessage(t,pa,e)},writePackedSVarint:function writePackedSVarint(t,e){this.writeMessage(t,ca,e)},writePackedBoolean:function writePackedBoolean(t,e){this.writeMessage(t,ya,e)},writePackedFloat:function writePackedFloat(t,e){this.writeMessage(t,ha,e)},writePackedDouble:function writePackedDouble(t,e){this.writeMessage(t,fa,e)},writePackedFixed32:function writePackedFixed32(t,e){this.writeMessage(t,da,e)},writePackedSFixed32:function writePackedSFixed32(t,e){this.writeMessage(t,va,e)},writePackedFixed64:function writePackedFixed64(t,e){this.writeMessage(t,ma,e)},writePackedSFixed64:function writePackedSFixed64(t,e){this.writeMessage(t,ga,e)},writeBytesField:function writeBytesField(t,e){this.writeTag(t,aa.Bytes),this.writeBytes(e)},writeFixed32Field:function writeFixed32Field(t,e){this.writeTag(t,aa.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function writeSFixed32Field(t,e){this.writeTag(t,aa.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function writeFixed64Field(t,e){this.writeTag(t,aa.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function writeSFixed64Field(t,e){this.writeTag(t,aa.Fixed64),this.writeSFixed64(e)},writeVarintField:function writeVarintField(t,e){this.writeTag(t,aa.Varint),this.writeVarint(e)},writeSVarintField:function writeSVarintField(t,e){this.writeTag(t,aa.Varint),this.writeSVarint(e)},writeStringField:function writeStringField(t,e){this.writeTag(t,aa.Bytes),this.writeString(e)},writeFloatField:function writeFloatField(t,e){this.writeTag(t,aa.Fixed32),this.writeFloat(e)},writeDoubleField:function writeDoubleField(t,e){this.writeTag(t,aa.Fixed64),this.writeDouble(e)},writeBooleanField:function writeBooleanField(t,e){this.writeVarintField(t,Boolean(e))}};var ms=3;function Aa(t,e,r){1===t&&r.readMessage(ka,e)}function ka(t,e,r){if(3===t){var n=r.readMessage(za,{}),o=n.id,i=n.bitmap,a=n.width,s=n.height,u=n.left,l=n.top,c=n.advance;e.push({id:o,bitmap:new Ho({width:a+2*ms,height:s+2*ms},i),metrics:{width:a,height:s,left:u,top:l,advance:c}})}}function za(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint())}var ys=ms,gs=function Ma(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.callbackID=0,y(["receive"],this),this.target.addEventListener("message",this.receive,!1)};gs.prototype.send=function(t,e,r,n){var o=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[o]=r);var i=[];this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:t,id:String(o),data:yr(e,i)},i)},gs.prototype.receive=function(t){var e,r=this,n=t.data,i=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var a=function o(t,e){var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(i),error:t?yr(t):null,data:yr(e,n)},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(dr(n.error)):e&&e(null,dr(n.data));else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,dr(n.data),a);else if(void 0!==n.id&&this.parent.getWorkerSource){var s=n.type.split(".");this.parent.getWorkerSource(n.sourceMapId,s[0],s[1])[s[2]](dr(n.data),a)}else this.parent[n.type](dr(n.data))}},gs.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var vs=r(n((function(t,e){!function(t){function e(t,e,n){var o=r(256*t,256*(e=Math.pow(2,n)-e-1),n),i=r(256*(t+1),256*(e+1),n);return o[0]+","+o[1]+","+i[0]+","+i[1]}function r(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}t.getURL=function(t,r,n,o,i,a){return a=a||{},t+"?"+["bbox="+e(n,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+r].join("&")},t.getTileBBox=e,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})}(e)}))),_s=function Ba(t,e,r){this.z=t,this.x=e,this.y=r,this.key=Ea(0,t,e,r)};_s.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},_s.prototype.url=function(t,e){var r=vs.getTileBBox(this.x,this.y,this.z),n=function(t,e,r){for(var n,o="",i=t;i>0;i--)o+=(e&(n=1<<i-1)?1:0)+(r&n?2:0);return o}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",r)};var bs=function Ca(t,e){this.wrap=t,this.canonical=e,this.key=Ea(t,e.z,e.x,e.y)},Ss=function Ia(t,e,r,n,o){this.overscaledZ=t,this.wrap=e,this.canonical=new _s(r,+n,+o),this.key=Ea(e,t,n,o)};function Ea(t,e,r,n){(t*=2)<0&&(t=-1*t-1);var o=1<<e;return 32*(o*o*t+o*n+r)+e}Ss.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Ss.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Ss(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ss(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Ss.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Ss.prototype.children=function(t){if(this.overscaledZ>=t)return[new Ss(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Ss(e,this.wrap,e,r,n),new Ss(e,this.wrap,e,r+1,n),new Ss(e,this.wrap,e,r,n+1),new Ss(e,this.wrap,e,r+1,n+1)]},Ss.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Ss.prototype.wrapped=function(){return new Ss(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ss.prototype.unwrapTo=function(t){return new Ss(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Ss.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ss.prototype.toUnwrapped=function(){return new bs(this.wrap,this.canonical)},Ss.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ss.prototype.toCoordinate=function(){return new f(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},hr("CanonicalTileID",_s),hr("OverscaledTileID",Ss,{omit:["posMatrix"]});var xs=function Fa(t,e,r){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=r||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};xs.prototype.set=function(t,e,r){this.data[this._idx(t,e)]=r+65536},xs.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},xs.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},hr("Level",xs);var ws=function Pa(t,e,r){this.uid=t,this.scale=e||1,this.level=r||new xs(256,512),this.loaded=!!r};ws.prototype.loadFromImage=function(t,e){if(t.height!==t.width)throw new RangeError("DEM tiles must be square");if(e&&"mapbox"!==e&&"terrarium"!==e)return b('"'+e+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.level=new xs(t.width,t.width/2),n=t.data;this._unpackData(r,n,e||"mapbox");for(var o=0;o<r.dim;o++)r.set(-1,o,r.get(0,o)),r.set(r.dim,o,r.get(r.dim-1,o)),r.set(o,-1,r.get(o,0)),r.set(o,r.dim,r.get(o,r.dim-1));r.set(-1,-1,r.get(0,0)),r.set(r.dim,-1,r.get(r.dim-1,0)),r.set(-1,r.dim,r.get(0,r.dim-1)),r.set(r.dim,r.dim,r.get(r.dim-1,r.dim-1)),this.loaded=!0},ws.prototype._unpackMapbox=function(t,e,r){return(256*t*256+256*e+r)/10-1e4},ws.prototype._unpackTerrarium=function(t,e,r){return 256*t+e+r/256-32768},ws.prototype._unpackData=function(t,e,r){for(var n={mapbox:this._unpackMapbox,terrarium:this._unpackTerrarium}[r],o=0;o<t.dim;o++)for(var i=0;i<t.dim;i++){var a=4*(o*t.dim+i);t.set(i,o,this.scale*n(e[a],e[a+1],e[a+2]))}},ws.prototype.getPixels=function(){return new Yo({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},ws.prototype.backfillBorder=function(t,e,r){var n=this.level,o=t.level;if(n.dim!==o.dim)throw new Error("level mismatch (dem dimension)");var i=e*n.dim,a=e*n.dim+n.dim,s=r*n.dim,u=r*n.dim+n.dim;switch(e){case-1:i=a-1;break;case 1:a=i+1}switch(r){case-1:s=u-1;break;case 1:u=s+1}for(var l=c(i,-n.border,n.dim+n.border),p=c(a,-n.border,n.dim+n.border),f=c(s,-n.border,n.dim+n.border),d=c(u,-n.border,n.dim+n.border),h=-e*n.dim,m=-r*n.dim,y=f;y<d;y++)for(var g=l;g<p;g++)n.set(g,y,o.get(g+h,y+m))},hr("DEMData",ws);var Es=function Ta(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r}};Es.prototype.encode=function(t){return this._stringToNumber[t]},Es.prototype.decode=function(t){return this._numberToString[t]};var Ps=function Oa(t,e,r,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},Cs={geometry:{configurable:!0}};Cs.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Cs.geometry.set=function(t){this._geometry=t},Ps.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Ps.prototype,Cs);var Ts=function ja(t,e,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new Rr(Lo,16,0),this.featureIndexArray=r||new bo};function qa(t,e){return e-t}Ts.prototype.insert=function(t,e,r,n,o){var i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,o);for(var a=0;a<e.length;a++){for(var s=e[a],u=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var c=s[l];u[0]=Math.min(u[0],c.x),u[1]=Math.min(u[1],c.y),u[2]=Math.max(u[2],c.x),u[3]=Math.max(u[3],c.y)}u[0]<Lo&&u[1]<Lo&&u[2]>=0&&u[3]>=0&&this.grid.insert(i,u[0],u[1],u[2],u[3])}},Ts.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Yi.VectorTile(new hs(this.rawTileData)).layers,this.sourceLayerCoder=new Es(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ts.prototype.query=function(t,e){var r=this;this.loadVTLayers();for(var n=t.params||{},o=Lo/t.tileSize/t.scale,i=Te(n.filter),a=t.queryGeometry,s=t.queryPadding*o,u=1/0,l=1/0,c=-1/0,p=-1/0,f=0;f<a.length;f++)for(var d=a[f],h=0;h<d.length;h++){var m=d[h];u=Math.min(u,m.x),l=Math.min(l,m.y),c=Math.max(c,m.x),p=Math.max(p,m.y)}var y=this.grid.query(u-s,l-s,c+s,p+s);y.sort(qa);for(var g,v={},_=function x(s){var u=y[s];if(u!==g){g=u;var l=r.featureIndexArray.get(u),c=null;r.loadMatchingFeature(v,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,i,n.layers,e,(function(e,n){return c||(c=Ln(e)),n.queryIntersectsFeature(a,e,c,r.z,t.transform,o,t.posMatrix)}))}},b=0;b<y.length;b++)_(b);return v},Ts.prototype.loadMatchingFeature=function(t,e,r,n,o,i,a,s){var u=this.bucketLayerIDs[e];if(!i||function(t,e){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return!0;return!1}(i,u)){var l=this.sourceLayerCoder.decode(r),c=this.vtLayers[l].feature(n);if(o(new Kr(this.tileID.overscaledZ),c))for(var p=0;p<u.length;p++){var f=u[p];if(!(i&&i.indexOf(f)<0)){var d=a[f];if(d&&(!s||s(c,d))){var h=new Ps(c,this.z,this.x,this.y);h.layer=d.serialize();var m=t[f];void 0===m&&(m=t[f]=[]),m.push({featureIndex:n,feature:h})}}}}},Ts.prototype.lookupSymbolFeatures=function(t,e,r,n,o,i){var a={};this.loadVTLayers();for(var s=Te(n),u=0,l=t;u<l.length;u+=1){var c=l[u];this.loadMatchingFeature(a,e,r,c,s,o,i)}return a},Ts.prototype.hasLayer=function(t){for(var e=0,r=this.bucketLayerIDs;e<r.length;e+=1)for(var n=0,o=r[e];n<o.length;n+=1)if(t===o[n])return!0;return!1},hr("FeatureIndex",Ts,{omit:["rawTileData","sourceLayerCoder"]});var Ds={horizontal:1,vertical:2,horizontalOnly:3},Ms={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},As={};function Na(t,e,r,n){var o=Math.pow(t-e,2);return n?t<e?o/2:2*o:o+Math.abs(r)*r}function Za(t,e){var r=0;return 10===t&&(r-=1e4),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Ka(t,e,r,n,o,i){for(var a=null,s=Na(e,r,o,i),u=0,l=n;u<l.length;u+=1){var c=l[u],p=Na(e-c.x,r,o,i)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Ja(t,e,r,n){if(!r)return[];if(!t)return[];for(var o,i=[],a=function(t,e,r,n){for(var o=0,i=0;i<t.length;i++){var a=n[t.charCodeAt(i)];a&&(o+=a.metrics.advance+e)}return o/Math.max(1,Math.ceil(o/r))}(t,e,r,n),s=0,u=0;u<t.length;u++){var l=t.charCodeAt(u),c=n[l];c&&!Ms[l]&&(s+=c.metrics.advance+e),u<t.length-1&&(As[l]||!((o=l)<11904)&&(Ur["Bopomofo Extended"](o)||Ur.Bopomofo(o)||Ur["CJK Compatibility Forms"](o)||Ur["CJK Compatibility Ideographs"](o)||Ur["CJK Compatibility"](o)||Ur["CJK Radicals Supplement"](o)||Ur["CJK Strokes"](o)||Ur["CJK Symbols and Punctuation"](o)||Ur["CJK Unified Ideographs Extension A"](o)||Ur["CJK Unified Ideographs"](o)||Ur["Enclosed CJK Letters and Months"](o)||Ur["Halfwidth and Fullwidth Forms"](o)||Ur.Hiragana(o)||Ur["Ideographic Description Characters"](o)||Ur["Kangxi Radicals"](o)||Ur["Katakana Phonetic Extensions"](o)||Ur.Katakana(o)||Ur["Vertical Forms"](o)||Ur["Yi Radicals"](o)||Ur["Yi Syllables"](o)))&&i.push(Ka(u+1,s,a,i,Za(l,t.charCodeAt(u+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Ka(t.length,s,a,i,0,!0))}function $a(t){var e=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:e,verticalAlign:r}}function Ha(t,e,r,n,o){if(o){var i=e[t[n].glyph];if(i)for(var a=i.metrics.advance,s=(t[n].x+a)*o,u=r;u<=n;u++)t[u].x-=s}}As[10]=!0,As[32]=!0,As[38]=!0,As[40]=!0,As[41]=!0,As[43]=!0,As[45]=!0,As[47]=!0,As[173]=!0,As[183]=!0,As[8203]=!0,As[8208]=!0,As[8211]=!0,As[8231]=!0,i.commonjsGlobal=a,i.unwrapExports=r,i.createCommonjsModule=n,i.default=self,i.default$1=E,i.getJSON=function(t,e){var r=z(t);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){e(new Error(r.statusText))},r.onload=function(){if(r.status>=200&&r.status<300&&r.response){var n;try{n=JSON.parse(r.response)}catch(t){return e(t)}e(null,n)}else 401===r.status&&t.url.match(/mapbox.com/)?e(new I(r.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",r.status,t.url)):e(new I(r.statusText,r.status,t.url))},r.send(),r},i.getImage=function(t,e){return k(t,(function(t,r){if(t)e(t);else if(r){var n=new self.Image,o=self.URL||self.webkitURL;n.onload=function(){e(null,n),o.revokeObjectURL(n.src)};var i=new self.Blob([new Uint8Array(r.data)],{type:"image/png"});n.cacheControl=r.cacheControl,n.expires=r.expires,n.src=r.data.byteLength?o.createObjectURL(i):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}))},i.ResourceType=R,i.RGBAImage=Yo,i.default$2=us,i.ImagePosition=ls,i.getArrayBuffer=k,i.default$3=function(t){return new hs(t).readFields(Aa,[])},i.default$4=Ur,i.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var n=t.length,o=new Array(t.length),i=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(i=t),o[a]=e,0==--n&&r(i,o)}))}))},i.AlphaImage=Ho,i.default$5=j,i.endsWith=d,i.extend=h,i.sphericalToCartesian=function(t){var e=t[0],r=t[1],n=t[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n)}},i.Evented=U,i.validateStyle=Er,i.validateLight=Pr,i.emitValidationErrors=ar,i.default$6=ut,i.number=wt,i.Properties=un,i.Transitionable=Xr,i.Transitioning=Jr,i.PossiblyEvaluated=rn,i.DataConstantProperty=nn,i.warnOnce=b,i.uniqueId=function(){return D++},i.default$7=gs,i.pick=function(t,e){for(var r={},n=0;n<e.length;n++){var o=e[n];o in t&&(r[o]=t[o])}return r},i.wrap=function(t,e,r){var n=r-e,o=((t-e)%n+n)%n+e;return o===e?r:o},i.clamp=c,i.Event=F,i.ErrorEvent=N,i.OverscaledTileID=Ss,i.default$8=Lo,i.createLayout=$r,i.getCoordinatesCenter=function(t){for(var e=1/0,r=1/0,n=-1/0,o=-1/0,i=0;i<t.length;i++)e=Math.min(e,t[i].column),r=Math.min(r,t[i].row),n=Math.max(n,t[i].column),o=Math.max(o,t[i].row);var a=n-e,s=o-r,u=Math.max(a,s),l=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new f((e+n)/2,(r+o)/2,0).zoomTo(l)},i.CanonicalTileID=_s,i.RasterBoundsArray=hn,i.getVideo=function(t,e){var r,n,o=self.document.createElement("video");o.onloadstart=function(){e(null,o)};for(var i=0;i<t.length;i++){var a=self.document.createElement("source");r=t[i],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(o.crossOrigin="Anonymous"),a.src=t[i],o.appendChild(a)}return o},i.default$9=G,i.bindAll=y,i.default$10=function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var o in e)if(!t(e[o],r[o]))return!1;return!0}return e===r},i.parseCacheControl=function(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,r,n,o){var i=n||o;return e[r]=!i||i.toLowerCase(),""})),e["max-age"]){var r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r}return e},i.default$11=Ts,i.default$12=Ps,i.default$13=Te,i.default$14=ts,i.CollisionBoxArray=oo,i.default$15=xo,i.TriangleIndexArray=On,i.default$16=Kr,i.default$17=f,i.keysDifference=function(t,e){var r=[];for(var n in t)n in e||r.push(n);return r},i.default$18=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.mat4=Vo,i.vec4=Go,i.getSizeData=jo,i.evaluateSizeForFeature=function(t,e,r){var n=e;return"source"===t.functionType?r.lowerSize/10:"composite"===t.functionType?wt(r.lowerSize/10,r.upperSize/10,n.uSizeT):n.uSize},i.evaluateSizeForZoom=function(t,e,r){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var n=t.propertyValue,o=t.zoomRange,i=t.sizeRange,a=c(Se(n,r.specification).interpolationFactor(e,o.min,o.max),0,1);return{uSizeT:0,uSize:i.min+a*(i.max-i.min)}}var s=t.propertyValue,u=t.zoomRange;return{uSizeT:c(Se(s,r.specification).interpolationFactor(e,u.min,u.max),0,1),uSize:0}},i.addDynamicAttributes=Do,i.default$19=rs,i.WritingMode=Ds,i.multiPolygonIntersectsBufferedPoint=Rn,i.multiPolygonIntersectsMultiPolygon=Un,i.multiPolygonIntersectsBufferedMultiLine=Dn,i.polygonIntersectsPolygon=function(t,e){for(var r=0;r<t.length;r++)if(Xn(e,t[r]))return!0;for(var n=0;n<e.length;n++)if(Xn(t,e[n]))return!0;return!!Zn(t,e)},i.distToSegmentSquared=$n,i.default$20=zo,i.default$21=ln,i.default$22=function(t){return new ss[t.type](t)},i.clone=g,i.filterObject=m,i.mapObject=v,i.registerForPluginAvailability=function(t){return Gr?t({pluginURL:Gr,completionCallback:zr}):Wr.once("pluginAvailable",t),t},i.evented=Wr,i.default$23=Nr,i.default$24=Mo,i.PosArray=dn,i.UnwrappedTileID=bs,i.ease=C,i.bezier=l,i.setRTLTextPlugin=function(t,e){if(jr)throw new Error("setRTLTextPlugin cannot be called multiple times.");jr=!0,Gr=t,zr=function Ar(t){t?(jr=!1,Gr=null,e&&e(t)):Vr=!0},Wr.fire(new F("pluginAvailable",{pluginURL:Gr,completionCallback:zr}))},i.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},i.default$25=Va,i.register=hr,i.GLYPH_PBF_BORDER=ys,i.shapeText=function(t,e,r,n,o,i,a,s,u,l){var c=t.trim();l===Ds.vertical&&(c=function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r+1)||null,o=t.charCodeAt(r-1)||null;n&&wr(n)&&!Ga[t[r+1]]||o&&wr(o)&&!Ga[t[r-1]]||!Ga[t[r]]?e+=t[r]:e+=Ga[t[r]]}return e}(c));var p=[],f={positionedGlyphs:p,text:c,top:s[1],bottom:s[1],left:s[0],right:s[0],writingMode:l},d=qr.processBidirectionalText;return function(t,e,r,n,o,i,a,s,u){for(var l=0,c=-17,p=0,f=t.positionedGlyphs,d="right"===i?1:"left"===i?0:.5,h=0,m=r;h<m.length;h+=1){var y=m[h];if((y=y.trim()).length){for(var g=f.length,v=0;v<y.length;v++){var _=y.charCodeAt(v),b=e[_];b&&(br(_)&&a!==Ds.horizontal?(f.push({glyph:_,x:l,y:0,vertical:!0}),l+=u+s):(f.push({glyph:_,x:l,y:c,vertical:!1}),l+=b.metrics.advance+s))}if(f.length!==g){var S=l-s;p=Math.max(S,p),Ha(f,e,g,f.length-1,d)}l=0,c+=n}else c+=n}var x=$a(o),w=x.horizontalAlign,E=x.verticalAlign;!function(t,e,r,n,o,i,a){for(var s=(e-r)*o,u=(-n*a+.5)*i,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(f,d,w,E,p,n,r.length);var P=r.length*n;t.top+=-E*P,t.bottom=t.top+P,t.left+=-w*p,t.right=t.left+p}(f,e,d?d(c,Ja(c,a,r,e)):function(t,e){for(var r=[],n=0,o=0,i=e;o<i.length;o+=1){var a=i[o];r.push(t.substring(n,a)),n=a}return n<t.length&&r.push(t.substring(n,t.length)),r}(c,Ja(c,a,r,e)),n,o,i,l,a,u),!!p.length&&f},i.shapeIcon=function(t,e,r){var n=$a(r),o=n.horizontalAlign,i=n.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*o,l=u+t.displaySize[0],c=s-t.displaySize[1]*i;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}},i.allowsVerticalWritingMode=gr,i.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1)if(!xr(r[e].charCodeAt(0)))return!1;return!0},i.default$26=$i,i.default$27=Es,i.default$28=ps,i.default$29=Yi,i.default$30=hs,i.default$31=ws,i.__moduleExports=Yi,i.default$32=E,i.__moduleExports$1=hs,i.plugin=qr})),define(0,(function(r){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",o=0,i=e;o<i.length;o+=1)n+=t(i[o])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function i(e){for(var n="",o=0,i=r.default$18;o<i.length;o+=1)n+="/"+t(e[i[o]]);return n}var a=function r(t){t&&this.replace(t)};function n(t,e,r,n,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<r/2;){var c=t[a-1],p=t[a],f=t[a+1];if(!f)return!1;var d=c.angleTo(p)-p.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>n;)l-=u.shift().angleDelta;if(l>o)return!1;a++,s+=p.dist(f)}return!0}function o(t,e,o,i,a,s,u,l,c){var p=i?.6*s*u:0,f=Math.max(i?i.right-i.left:0,a?a.right-a.left:0),d=0===t[0].x||t[0].x===c||0===t[0].y||t[0].y===c;return e-f*u<e/4&&(e=f*u+e/4),function t(e,o,i,a,s,u,l,c,p){for(var f=u/2,d=0,h=0;h<e.length-1;h++)d+=e[h].dist(e[h+1]);for(var m=0,y=o-i,g=[],v=0;v<e.length-1;v++){for(var _=e[v],b=e[v+1],S=_.dist(b),x=b.angleTo(_);y+i<m+S;){var w=((y+=i)-m)/S,E=r.number(_.x,b.x,w),P=r.number(_.y,b.y,w);if(E>=0&&E<p&&P>=0&&P<p&&y-f>=0&&y+f<=d){var C=new r.default$25(E,P,x,v);C._round(),a&&!n(e,C,u,a,s)||g.push(C)}}m+=S}return c||g.length||l||(g=t(e,m/2,i,a,s,u,l,!0,p)),g}(t,d?e/2*l%e:(f/2+2*s)*u*l%e,e,p,o,f*u,d,!1,c)}a.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},a.prototype.update=function(t,e){for(var n=this,o=0,a=t;o<a.length;o+=1){var s=a[o];n._layerConfigs[s.id]=s;var u=n._layers[s.id]=r.default$22(s);u._featureFilter=r.default$13(u.filter)}for(var l=0,c=e;l<c.length;l+=1){var p=c[l];delete n._layerConfigs[p],delete n._layers[p]}this.familiesBySource={};for(var f=0,d=function(t){for(var e={},r=0;r<t.length;r++){var n=i(t[r]),o=e[n];o||(o=e[n]=[]),o.push(t[r])}var a=[];for(var s in e)a.push(e[s]);return a}(r.values(this._layerConfigs));f<d.length;f+=1){var h=d[f].map((function(t){return n._layers[t.id]})),m=h[0];if("none"!==m.visibility){var y=m.source||"",g=n.familiesBySource[y];g||(g=n.familiesBySource[y]={});var v=m.sourceLayer||"_geojsonTileLayer",_=g[v];_||(_=g[v]=[]),_.push(h)}}};var s=function a(){this.opacity=0,this.targetOpacity=0,this.time=0};s.prototype.clone=function(){var t=new s;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},r.register("OpacityState",s);var u=function s(t,e,r,n,o,i,a,u,l,c,p){var f=a.top*u-l,d=a.bottom*u+l,h=a.left*u-l,m=a.right*u+l;if(this.boxStartIndex=t.length,c){var y=d-f,g=m-h;y>0&&(y=Math.max(10*u,y),this._addLineCollisionCircles(t,e,r,r.segment,g,y,n,o,i,p))}else t.emplaceBack(r.x,r.y,h,f,m,d,n,o,i,0,0);this.boxEndIndex=t.length};u.prototype._addLineCollisionCircles=function(t,e,r,n,o,i,a,s,u,l){var c=i/2,p=Math.floor(o/c),f=1+.4*Math.log(l)/Math.LN2,d=Math.floor(p*f/2),h=-i/2,m=r,y=n+1,g=h,v=-o/2,_=v-o/4;do{if(--y<0){if(g>v)return;y=0;break}g-=e[y].dist(m),m=e[y]}while(g>_);for(var b=e[y].dist(e[y+1]),S=-d;S<p+d;S++){var x=S*c,w=v+x;if(x<0&&(w+=x),x>o&&(w+=x-o),!(w<g)){for(;g+b<w;){if(g+=b,++y+1>=e.length)return;b=e[y].dist(e[y+1])}var E=w-g,P=e[y],C=e[y+1].sub(P)._unit()._mult(E)._add(P)._round(),T=Math.abs(w-h)<c?0:.8*(w-h);t.emplaceBack(C.x,C.y,-i/2,-i/2,i/2,i/2,a,s,u,i/2,T)}}};var l=h,M=h;function h(t,e){if(!(this instanceof h))return new h(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||c,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function c(t,e){return t<e?-1:t>e?1:0}function f(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var o=1/0,i=1/0,a=-1/0,s=-1/0,u=t[0],c=0;c<u.length;c++){var f=u[c];(!c||f.x<o)&&(o=f.x),(!c||f.y<i)&&(i=f.y),(!c||f.x>a)&&(a=f.x),(!c||f.y>s)&&(s=f.y)}var h=a-o,m=s-i,y=Math.min(h,m),g=y/2,v=new l(null,p);if(0===y)return new r.default$1(o,i);for(var _=o;_<a;_+=y)for(var b=i;b<s;b+=y)v.push(new d(_+g,b+g,g,t));for(var S=function(t){for(var e=0,r=0,n=0,o=t[0],i=0,a=o.length,s=a-1;i<a;s=i++){var u=o[i],l=o[s],c=u.x*l.y-l.x*u.y;r+=(u.x+l.x)*c,n+=(u.y+l.y)*c,e+=3*c}return new d(r/e,n/e,0,t)}(t),x=v.length;v.length;){var w=v.pop();(w.d>S.d||!S.d)&&(S=w,n&&console.log("found best %d after %d probes",Math.round(1e4*w.d)/1e4,x)),w.max-S.d<=e||(g=w.h/2,v.push(new d(w.p.x-g,w.p.y-g,g,t)),v.push(new d(w.p.x+g,w.p.y-g,g,t)),v.push(new d(w.p.x-g,w.p.y+g,g,t)),v.push(new d(w.p.x+g,w.p.y+g,g,t)),x+=4)}return n&&(console.log("num probes: "+x),console.log("best distance: "+S.d)),S.p}function p(t,e){return e.max-t.max}function d(t,e,n,o){this.p=new r.default$1(t,e),this.h=n,this.d=function(t,e){for(var n=!1,o=1/0,i=0;i<e.length;i++)for(var a=e[i],s=0,u=a.length,l=u-1;s<u;l=s++){var c=a[s],p=a[l];c.y>t.y!=p.y>t.y&&t.x<(p.x-c.x)*(t.y-c.y)/(p.y-c.y)+c.x&&(n=!n),o=Math.min(o,r.distToSegmentSquared(t,c,p))}return(n?1:-1)*Math.sqrt(o)}(this.p,o),this.max=this.d+this.h*Math.SQRT2}function g(t,e,n,o,i,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=r.default$8/s,t.compareText={},t.iconsNeedLinear=!1;var u=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var p=t.textSizeData.zoomRange,f=p.min,d=p.max;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new r.default$16(f)),l["text-size"].possiblyEvaluate(new r.default$16(d))]}if("composite"===t.iconSizeData.functionType){var h=t.iconSizeData.zoomRange,m=h.min,y=h.max;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new r.default$16(m)),l["icon-size"].possiblyEvaluate(new r.default$16(y))]}c.layoutTextSize=l["text-size"].possiblyEvaluate(new r.default$16(t.zoom+1)),c.layoutIconSize=l["icon-size"].possiblyEvaluate(new r.default$16(t.zoom+1)),c.textMaxSize=l["text-size"].possiblyEvaluate(new r.default$16(18));for(var g=24*u.get("text-line-height"),_="map"===u.get("text-rotation-alignment")&&"line"===u.get("symbol-placement"),b=u.get("text-keep-upright"),S=0,x=t.features;S<x.length;S+=1){var w=x[S],E=u.get("text-font").evaluate(w).join(","),P=e[E]||{},C=n[E]||{},T={},D=w.text;if(D){var M=u.get("text-offset").evaluate(w).map((function(t){return 24*t})),A=24*u.get("text-letter-spacing").evaluate(w),R=r.allowsLetterSpacing(D)?A:0,L=u.get("text-anchor").evaluate(w),I=u.get("text-justify").evaluate(w),O="line"!==u.get("symbol-placement")?24*u.get("text-max-width").evaluate(w):0;T.horizontal=r.shapeText(D,P,O,g,L,I,R,M,24,r.WritingMode.horizontal),r.allowsVerticalWritingMode(D)&&_&&b&&(T.vertical=r.shapeText(D,P,O,g,L,I,R,M,24,r.WritingMode.vertical))}var k=void 0;if(w.icon){var F=o[w.icon];F&&(k=r.shapeIcon(i[w.icon],u.get("icon-offset").evaluate(w),u.get("icon-anchor").evaluate(w)),void 0===t.sdfIcons?t.sdfIcons=F.sdf:t.sdfIcons!==F.sdf&&r.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),F.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==u.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(T.horizontal||k)&&v(t,w,T,k,C,c)}a&&t.generateCollisionDebugBuffers()}function v(t,e,n,i,a,l){var c=l.layoutTextSize.evaluate(e),p=l.layoutIconSize.evaluate(e),d=l.textMaxSize.evaluate(e);void 0===d&&(d=c);var h=t.layers[0].layout,g=h.get("text-offset").evaluate(e),v=h.get("icon-offset").evaluate(e),_=c/24,b=t.tilePixelRatio*_,S=t.tilePixelRatio*d/24,x=t.tilePixelRatio*p,w=t.tilePixelRatio*h.get("symbol-spacing"),E=h.get("text-padding")*t.tilePixelRatio,P=h.get("icon-padding")*t.tilePixelRatio,C=h.get("text-max-angle")/180*Math.PI,T="map"===h.get("text-rotation-alignment")&&"line"===h.get("symbol-placement"),D="map"===h.get("icon-rotation-alignment")&&"line"===h.get("symbol-placement"),M=w/2,A=function L(o,c){c.x<0||c.x>=r.default$8||c.y<0||c.y>=r.default$8||t.symbolInstances.push(function(t,e,n,o,i,a,l,c,p,f,d,h,m,g,v,_,b,S,x,w,E){var P,C,T=t.addToLineVertexArray(e,n),D=0,M=0,A=0,R=o.horizontal?o.horizontal.text:"",L=[];o.horizontal&&(P=new u(l,n,e,c,p,f,o.horizontal,d,h,m,t.overscaling),M+=y(t,e,o.horizontal,a,m,x,g,T,o.vertical?r.WritingMode.horizontal:r.WritingMode.horizontalOnly,L,w,E),o.vertical&&(A+=y(t,e,o.vertical,a,m,x,g,T,r.WritingMode.vertical,L,w,E)));var I=P?P.boxStartIndex:t.collisionBoxArray.length,O=P?P.boxEndIndex:t.collisionBoxArray.length;if(i){var k=function(t,e,n,o,i,a){var s,u,l,c,p=e.image,f=n.layout,d=e.top-1/p.pixelRatio,h=e.left-1/p.pixelRatio,m=e.bottom+1/p.pixelRatio,y=e.right+1/p.pixelRatio;if("none"!==f.get("icon-text-fit")&&i){var g=y-h,v=m-d,_=f.get("text-size").evaluate(a)/24,b=i.left*_,S=i.right*_,x=i.top*_,w=S-b,E=i.bottom*_-x,P=f.get("icon-text-fit-padding")[0],C=f.get("icon-text-fit-padding")[1],T=f.get("icon-text-fit-padding")[2],D=f.get("icon-text-fit-padding")[3],M="width"===f.get("icon-text-fit")?.5*(E-v):0,A="height"===f.get("icon-text-fit")?.5*(w-g):0,R="width"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?w:g,L="height"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?E:v;s=new r.default$1(b+A-D,x+M-P),u=new r.default$1(b+A+C+R,x+M-P),l=new r.default$1(b+A+C+R,x+M+T+L),c=new r.default$1(b+A-D,x+M+T+L)}else s=new r.default$1(h,d),u=new r.default$1(y,d),l=new r.default$1(y,m),c=new r.default$1(h,m);var I=n.layout.get("icon-rotate").evaluate(a)*Math.PI/180;if(I){var O=Math.sin(I),k=Math.cos(I),F=[k,-O,O,k];s._matMult(F),u._matMult(F),c._matMult(F),l._matMult(F)}return[{tl:s,tr:u,bl:c,br:l,tex:p.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,a,0,o.horizontal,x);C=new u(l,n,e,c,p,f,i,v,_,!1,t.overscaling),D=4*k.length;var F=t.iconSizeData,N=null;"source"===F.functionType?N=[10*a.layout.get("icon-size").evaluate(x)]:"composite"===F.functionType&&(N=[10*E.compositeIconSizes[0].evaluate(x),10*E.compositeIconSizes[1].evaluate(x)]),t.addSymbols(t.icon,k,N,S,b,x,!1,e,T.lineStartIndex,T.lineLength)}var B=C?C.boxStartIndex:t.collisionBoxArray.length,U=C?C.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=r.default$14.MAX_GLYPHS&&r.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:R,textBoxStartIndex:I,textBoxEndIndex:O,iconBoxStartIndex:B,iconBoxEndIndex:U,textOffset:g,iconOffset:S,anchor:e,line:n,featureIndex:c,feature:x,numGlyphVertices:M,numVerticalGlyphVertices:A,numIconVertices:D,textOpacityState:new s,iconOpacityState:new s,isDuplicate:!1,placedTextSymbolIndices:L,crossTileID:0}}(t,c,o,n,i,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,b,E,T,g,x,P,D,v,e,a,l))};if("line"===h.get("symbol-placement"))for(var R=0,I=function(t,e,n,o,i){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var p=u[c],f=u[c+1];p.x<0&&f.x<0||(p.x<0?p=new r.default$1(0,p.y+(f.y-p.y)*((0-p.x)/(f.x-p.x)))._round():f.x<0&&(f=new r.default$1(0,p.y+(f.y-p.y)*((0-p.x)/(f.x-p.x)))._round()),p.y<0&&f.y<0||(p.y<0?p=new r.default$1(p.x+(f.x-p.x)*((0-p.y)/(f.y-p.y)),0)._round():f.y<0&&(f=new r.default$1(p.x+(f.x-p.x)*((0-p.y)/(f.y-p.y)),0)._round()),p.x>=o&&f.x>=o||(p.x>=o?p=new r.default$1(o,p.y+(f.y-p.y)*((o-p.x)/(f.x-p.x)))._round():f.x>=o&&(f=new r.default$1(o,p.y+(f.y-p.y)*((o-p.x)/(f.x-p.x)))._round()),p.y>=i&&f.y>=i||(p.y>=i?p=new r.default$1(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round():f.y>=i&&(f=new r.default$1(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round()),l&&p.equals(l[l.length-1])||(l=[p],a.push(l)),l.push(f)))))}return a}(e.geometry,0,0,r.default$8,r.default$8);R<I.length;R+=1)for(var O=I[R],k=0,F=o(O,w,C,n.vertical||n.horizontal,i,24,S,t.overscaling,r.default$8);k<F.length;k+=1){var N=F[k],B=n.horizontal;B&&m(t,B.text,M,N)||A(O,N)}else if("Polygon"===e.type)for(var U=0,z=r.default$26(e.geometry,0);U<z.length;U+=1){var j=z[U],G=f(j,16);A(j[0],new r.default$25(G.x,G.y,0))}else if("LineString"===e.type)for(var V=0,W=e.geometry;V<W.length;V+=1){var q=W[V];A(q,new r.default$25(q[0].x,q[0].y,0))}else if("Point"===e.type)for(var H=0,K=e.geometry;H<K.length;H+=1)for(var Y=0,Z=K[H];Y<Z.length;Y+=1){var X=Z[Y];A([X],new r.default$25(X.x,X.y,0))}}function y(t,e,n,o,i,a,s,u,l,c,p,f){var d=function(t,e,n,o,i,a){for(var s=n.layout.get("text-rotate").evaluate(i)*Math.PI/180,u=n.layout.get("text-offset").evaluate(i).map((function(t){return 24*t})),l=e.positionedGlyphs,c=[],p=0;p<l.length;p++){var f=l[p],d=a[f.glyph];if(d){var h=d.rect;if(h){var m=r.GLYPH_PBF_BORDER+1,y=d.metrics.advance/2,g=o?[f.x+y,f.y]:[0,0],v=o?[0,0]:[f.x+y+u[0],f.y+u[1]],_=d.metrics.left-m-y+v[0],b=-d.metrics.top-m+v[1],S=_+h.w,x=b+h.h,w=new r.default$1(_,b),E=new r.default$1(S,b),P=new r.default$1(_,x),C=new r.default$1(S,x);if(o&&f.vertical){var T=new r.default$1(-y,y),D=-Math.PI/2,M=new r.default$1(5,0);w._rotateAround(D,T)._add(M),E._rotateAround(D,T)._add(M),P._rotateAround(D,T)._add(M),C._rotateAround(D,T)._add(M)}if(s){var A=Math.sin(s),R=Math.cos(s),L=[R,-A,A,R];w._matMult(L),E._matMult(L),P._matMult(L),C._matMult(L)}c.push({tl:w,tr:E,bl:P,br:C,tex:h,writingMode:e.writingMode,glyphOffset:g})}}}return c}(0,n,o,i,a,p),h=t.textSizeData,m=null;return"source"===h.functionType?m=[10*o.layout.get("text-size").evaluate(a)]:"composite"===h.functionType&&(m=[10*f.compositeTextSizes[0].evaluate(a),10*f.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,d,m,s,i,a,l,e,u.lineStartIndex,u.lineLength),c.push(t.text.placedSymbolArray.length-1),4*d.length}function m(t,e,r,n){var o=t.compareText;if(e in o){for(var i=o[e],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return!0}else o[e]=[];return o[e].push(n),!1}h.prototype={push:function push(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function pop(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function peek(){return this.data[0]},_up:function _up(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var o=t-1>>1,i=e[o];if(r(n,i)>=0)break;e[t]=i,t=o}e[t]=n},_down:function _down(t){for(var e=this.data,r=this.compare,n=this.length>>1,o=e[t];t<n;){var i=1+(t<<1),a=i+1,s=e[i];if(a<this.length&&r(e[a],s)<0&&(i=a,s=e[a]),r(s,o)>=0)break;e[t]=s,t=i}e[t]=o}},l.default=M;var A=function x(t){var e=new r.AlphaImage({width:0,height:0}),n={},o=new r.default$2(0,0,{autoResize:!0});for(var i in t){var a=t[i],s=n[i]={};for(var u in a){var l=a[+u];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var c=o.packOne(l.bitmap.width+2,l.bitmap.height+2);e.resize({width:o.w,height:o.h}),r.AlphaImage.copy(l.bitmap,e,{x:0,y:0},{x:c.x+1,y:c.y+1},l.bitmap),s[u]={rect:c,metrics:l.metrics}}}}o.shrink(),e.resize({width:o.w,height:o.h}),this.image=e,this.positions=n};r.register("GlyphAtlas",A);var R=function w(t){this.tileID=new r.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};function S(t,e){for(var n=new r.default$16(e),o=0,i=t;o<i.length;o+=1)i[o].recalculate(n)}R.prototype.parse=function(t,e,n,o){var i=this;this.status="parsing",this.data=t,this.collisionBoxArray=new r.CollisionBoxArray;var a=new r.default$27(Object.keys(t.layers).sort()),s=new r.default$11(this.tileID);s.bucketLayerIDs=[];var u,l,c,p={},f={featureIndex:s,iconDependencies:{},glyphDependencies:{}},d=e.familiesBySource[this.source];for(var h in d){var m=t.layers[h];if(m){1===m.version&&r.warnOnce('Vector tile source "'+i.source+'" layer "'+h+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var y=a.encode(h),v=[],_=0;_<m.length;_++){var b=m.feature(_);v.push({feature:b,index:_,sourceLayerIndex:y})}for(var x=0,w=d[h];x<w.length;x+=1){var E=w[x],P=E[0];P.minzoom&&i.zoom<Math.floor(P.minzoom)||P.maxzoom&&i.zoom>=P.maxzoom||"none"!==P.visibility&&(S(E,i.zoom),(p[P.id]=P.createBucket({index:s.bucketLayerIDs.length,layers:E,zoom:i.zoom,pixelRatio:i.pixelRatio,overscaling:i.overscaling,collisionBoxArray:i.collisionBoxArray,sourceLayerIndex:y})).populate(v,f),s.bucketLayerIDs.push(E.map((function(t){return t.id}))))}}}var C=r.mapObject(f.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(C).length?n.send("getGlyphs",{uid:this.uid,stacks:C},(function(t,e){u||(u=t,l=e,k.call(i))})):l={};var T=Object.keys(f.iconDependencies);function k(){if(u)return o(u);if(l&&c){var t=new A(l),e=new r.default$28(c);for(var n in p){var i=p[n];i instanceof r.default$14&&(S(i.layers,this.zoom),g(i,l,t.positions,c,e.positions,this.showCollisionBoxes))}this.status="done",o(null,{buckets:r.values(p).filter((function(t){return!t.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,iconAtlasImage:e.image})}}T.length?n.send("getImages",{icons:T},(function(t,e){u||(u=t,c=e,k.call(i))})):c={},k.call(this)};var I=function M(t){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(t)};function b(t,e){var n=r.getArrayBuffer(t.request,(function(t,n){t?e(t):n&&e(null,{vectorTile:new r.default$29.VectorTile(new r.default$30(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})}));return function(){n.abort(),e()}}var B=function _(t,e,r){this.actor=t,this.layerIndex=e,this.loadVectorData=r||b,this.loading={},this.loaded={}};B.prototype.loadTile=function(t,e){var n=this,o=t.uid;this.loading||(this.loading={});var i=this.loading[o]=new R(t);i.abort=this.loadVectorData(t,(function(a,s){if(delete n.loading[o],a||!s)return e(a);var u=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var c={};if(t.request&&t.request.collectResourceTiming){var p=I(t.request.url);p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}i.vectorTile=s.vectorTile,i.parse(s.vectorTile,n.layerIndex,n.actor,(function(t,n){if(t||!n)return e(t);e(null,r.extend({rawTileData:u.slice(0)},n,l,c))})),n.loaded=n.loaded||{},n.loaded[o]=i}))},B.prototype.reloadTile=function(t,e){var r=this.loaded,n=t.uid,o=this;if(r&&r[n]){var i=r[n];i.showCollisionBoxes=t.showCollisionBoxes;var s=function a(t,r){var n=i.reloadCallback;n&&(delete i.reloadCallback,i.parse(i.vectorTile,o.layerIndex,o.actor,n)),e(t,r)};"parsing"===i.status?i.reloadCallback=s:"done"===i.status&&i.parse(i.vectorTile,this.layerIndex,this.actor,s)}},B.prototype.abortTile=function(t,e){var r=this.loading,n=t.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),e()},B.prototype.removeTile=function(t,e){var r=this.loaded,n=t.uid;r&&r[n]&&delete r[n],e()};var z=function I(){this.loading={},this.loaded={}};z.prototype.loadTile=function(t,e){var n=t.uid,o=t.encoding,i=new r.default$31(n);this.loading[n]=i,i.loadFromImage(t.rawImageData,o),delete this.loading[n],this.loaded=this.loaded||{},this.loaded[n]=i,e(null,i)},z.prototype.removeTile=function(t){var e=this.loaded,r=t.uid;e&&e[r]&&delete e[r]};var V={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function T(t){var e=0;if(t&&t.length>0){e+=Math.abs(P(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(P(t[r]))}return e}function P(t){var e,r,n,o,i,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(n=u-2,o=u-1,i=0):a===u-1?(n=u-1,o=0,i=1):(n=a,o=a+1,i=a+2),e=t[n],r=t[o],s+=(k(t[i][0])-k(e[0]))*Math.sin(k(r[1]));s=s*V.RADIUS*V.RADIUS/2}return s}function k(t){return t*Math.PI/180}var Y={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return T(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=T(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:P};function D(t,e){return function(r){return t(r,e)}}function O(t,e){e=!!e,t[0]=C(t[0],e);for(var r=1;r<t.length;r++)t[r]=C(t[r],!e);return t}function C(t,e){return function(t){return Y.ring(t)>=0}(t)===e?t:t.reverse()}var $=r.default$29.VectorTileFeature.prototype.toGeoJSON,J=function E(t){this._feature=t,this.extent=r.default$8,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};J.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,n=this._feature.geometry;e<n.length;e+=1){var o=n[e];t.push([new r.default$1(o[0],o[1])])}return t}for(var i=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var p=c[l];u.push(new r.default$1(p[0],p[1]))}i.push(u)}return i},J.prototype.toGeoJSON=function(t,e,r){return $.call(this,t,e,r)};var tt=function N(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=r.default$8,this.length=t.length,this._features=t};tt.prototype.feature=function(t){return new J(this._features[t])};var et=r.__moduleExports.VectorTileFeature,rt=F;function F(t,e){this.options=e||{},this.features=t,this.length=t.length}function G(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}F.prototype.feature=function(t){return new G(this.features[t],this.options.extent)},G.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],o=[],i=0;i<n.length;i++)o.push(new r.default$32(n[i][0],n[i][1]));this.geometry.push(o)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),r=Math.max(r,u.x),n=Math.min(n,u.y),o=Math.max(o,u.y)}return[e,n,r,o]},G.prototype.toGeoJSON=et.prototype.toGeoJSON;var nt=Z,ot=Z,it=rt;function Z(t){var e=new r.__moduleExports$1;return function(t,e){for(var r in t.layers)e.writeMessage(3,j,t.layers[r])}(t,e),e.finish()}function j(t,e){var r;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<t.length;r++)n.feature=t.feature(r),e.writeMessage(2,X,n);var o=n.keys;for(r=0;r<o.length;r++)e.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)e.writeMessage(4,K,i[r])}function X(t,e){var r=t.feature;void 0!==r.id&&e.writeVarintField(1,r.id),e.writeMessage(2,q,t),e.writeVarintField(3,r.type),e.writeMessage(4,Q,r)}function q(t,e){var r=t.feature,n=t.keys,o=t.values,i=t.keycache,a=t.valuecache;for(var s in r.properties){var u=i[s];void 0===u&&(n.push(s),u=n.length-1,i[s]=u),e.writeVarint(u);var l=r.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var p=c+":"+l,f=a[p];void 0===f&&(o.push(l),f=o.length-1,a[p]=f),e.writeVarint(f)}}function U(t,e){return(e<<3)+(7&t)}function H(t){return t<<1^t>>31}function Q(t,e){for(var r=t.loadGeometry(),n=t.type,o=0,i=0,a=r.length,s=0;s<a;s++){var u=r[s],l=1;1===n&&(l=u.length),e.writeVarint(U(1,l));for(var c=3===n?u.length-1:u.length,p=0;p<c;p++){1===p&&1!==n&&e.writeVarint(U(2,c-1));var f=u[p].x-o,d=u[p].y-i;e.writeVarint(H(f)),e.writeVarint(H(d)),o+=f,i+=d}3===n&&e.writeVarint(U(7,0))}}function K(t,e){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(7,t):"number"===r&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}nt.fromVectorTileJs=ot,nt.fromGeojsonVt=function W(t,e){e=e||{};var r={};for(var n in t)r[n]=new rt(t[n].features,e),r[n].name=n,r[n].version=e.version,r[n].extent=e.extent;return Z({layers:r})},nt.GeoJSONWrapper=it;var at=function e(t,r,n,o,i,a){if(!(i-o<=n)){var s=Math.floor((o+i)/2);!function e(t,r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,r,n,Math.max(o,Math.floor(n-u*c/s+p)),Math.min(i,Math.floor(n+(s-u)*c/s+p)),a)}var f=r[2*n+a],d=o,h=i;for(te(t,r,o,n),r[2*i+a]>f&&te(t,r,o,i);d<h;){for(te(t,r,d,h),d++,h--;r[2*d+a]<f;)d++;for(;r[2*h+a]>f;)h--}r[2*o+a]===f?te(t,r,o,h):te(t,r,++h,i),h<=n&&(o=h+1),n<=h&&(i=h-1)}}(t,r,s,o,i,a%2),e(t,r,n,o,s-1,a+1),e(t,r,n,s+1,i,a+1)}};function te(t,e,r,n){ie(t,r,n),ie(e,2*r,2*n),ie(e,2*r+1,2*n+1)}function ie(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function oe(t,e,r,n){var o=t-r,i=e-n;return o*o+i*i}var st=function ae(t,e,r,n,o){return new se(t,e,r,n,o)};function se(t,e,r,n,o){e=e||le,r=r||ue,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var i=0;i<t.length;i++)this.ids[i]=i,this.coords[2*i]=e(t[i]),this.coords[2*i+1]=r(t[i]);at(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function le(t){return t[0]}function ue(t){return t[1]}function ce(t){this.options=me(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function fe(t,e,r,n,o){return{x:t,y:e,zoom:1/0,id:n,properties:o,parentId:-1,numPoints:r}}function pe(t,e){var r=t.geometry.coordinates;return{x:ve(r[0]),y:ye(r[1]),zoom:1/0,id:e,parentId:-1}}function de(t){return{type:"Feature",properties:ge(t),geometry:{type:"Point",coordinates:[(n=t.x,360*(n-.5)),(e=t.y,r=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var e,r,n}function ge(t){var e=t.numPoints,r=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return me(me({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function ve(t){return t/360+.5}function ye(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function me(t,e){for(var r in e)t[r]=e[r];return t}function xe(t){return t.x}function we(t){return t.y}function Se(t,e,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var u=((t-r)*a+(e-n)*s)/(a*a+s*s);u>1?(r=o,n=i):u>0&&(r+=a*u,n+=s*u)}return(a=t-r)*a+(s=e-n)*s}function Me(t,e,r,n){var o={id:t||null,type:e,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,r=t.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)be(t,e);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<e.length;n++)be(t,e[n]);else if("MultiPolygon"===r)for(n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)be(t,e[n][o])}(o),o}function be(t,e){for(var r=0;r<e.length;r+=3)t.minX=Math.min(t.minX,e[r]),t.minY=Math.min(t.minY,e[r+1]),t.maxX=Math.max(t.maxX,e[r]),t.maxY=Math.max(t.maxY,e[r+1])}function _e(t,e,r){if(e.geometry){var n=e.geometry.coordinates,o=e.geometry.type,i=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),a=[];if("Point"===o)Ie(n,a);else if("MultiPoint"===o)for(var s=0;s<n.length;s++)Ie(n[s],a);else if("LineString"===o)ze(n,a,i,!1);else if("MultiLineString"===o)if(r.lineMetrics)for(s=0;s<n.length;s++)return a=[],ze(n[s],a,i,!1),void t.push(Me(e.id,"LineString",a,e.properties));else Te(n,a,i,!1);else if("Polygon"===o)Te(n,a,i,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(s=0;s<e.geometry.geometries.length;s++)_e(t,{id:e.id,geometry:e.geometry.geometries[s],properties:e.properties},r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(s=0;s<n.length;s++){var u=[];Te(n[s],u,i,!0),a.push(u)}}t.push(Me(e.id,o,a,e.properties))}}function Ie(t,e){e.push(Pe(t[0])),e.push(ke(t[1])),e.push(0)}function ze(t,e,r,n){for(var o,i,a=0,s=0;s<t.length;s++){var u=Pe(t[s][0]),l=ke(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=n?(o*l-u*i)/2:Math.sqrt(Math.pow(u-o,2)+Math.pow(l-i,2))),o=u,i=l}var c=e.length-3;e[2]=1,function e(t,r,n,o){for(var i,a=o,s=t[r],u=t[r+1],l=t[n],c=t[n+1],p=r+3;p<n;p+=3){var f=Se(t[p],t[p+1],s,u,l,c);f>a&&(i=p,a=f)}a>o&&(i-r>3&&e(t,r,i,o),t[i+2]=a,n-i>3&&e(t,i,n,o))}(e,0,c,r),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Te(t,e,r,n){for(var o=0;o<t.length;o++){var i=[];ze(t[o],i,r,n),e.push(i)}}function Pe(t){return t/360+.5}function ke(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Le(t,e,r,n,o,i,a,s){if(n/=e,i>=(r/=e)&&a<=n)return t;if(i>n||a<r)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],p=c.geometry,f=c.type,d=0===o?c.minX:c.minY,h=0===o?c.maxX:c.maxY;if(d>=r&&h<=n)u.push(c);else if(!(d>n||h<r)){var m=[];if("Point"===f||"MultiPoint"===f)$e(p,m,r,n,o);else if("LineString"===f)De(p,m,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===f)Ce(p,m,r,n,o,!1);else if("Polygon"===f)Ce(p,m,r,n,o,!0);else if("MultiPolygon"===f)for(var y=0;y<p.length;y++){var g=[];Ce(p[y],g,r,n,o,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(y=0;y<m.length;y++)u.push(Me(c.id,f,m[y],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),u.push(Me(c.id,f,m,c.tags))}}}return u.length?u:null}function $e(t,e,r,n,o){for(var i=0;i<t.length;i+=3){var a=t[i+o];a>=r&&a<=n&&(e.push(t[i]),e.push(t[i+1]),e.push(t[i+2]))}}function De(t,e,r,n,o,i,a){for(var s,u,l=Oe(t),c=0===o?Ee:Ne,p=t.start,f=0;f<t.length-3;f+=3){var d=t[f],h=t[f+1],m=t[f+2],y=t[f+3],g=t[f+4],v=0===o?d:h,_=0===o?y:g,b=!1;a&&(s=Math.sqrt(Math.pow(d-y,2)+Math.pow(h-g,2))),v<r?_>=r&&(u=c(l,d,h,y,g,r),a&&(l.start=p+s*u)):v>n?_<=n&&(u=c(l,d,h,y,g,n),a&&(l.start=p+s*u)):Ae(l,d,h,m),_<r&&v>=r&&(u=c(l,d,h,y,g,r),b=!0),_>n&&v<=n&&(u=c(l,d,h,y,g,n),b=!0),!i&&b&&(a&&(l.end=p+s*u),e.push(l),l=Oe(t)),a&&(p+=s)}var S=t.length-3;d=t[S],h=t[S+1],m=t[S+2],(v=0===o?d:h)>=r&&v<=n&&Ae(l,d,h,m),S=l.length-3,i&&S>=3&&(l[S]!==l[0]||l[S+1]!==l[1])&&Ae(l,l[0],l[1],l[2]),l.length&&e.push(l)}function Oe(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Ce(t,e,r,n,o,i){for(var a=0;a<t.length;a++)De(t[a],e,r,n,o,i,!1)}function Ae(t,e,r,n){t.push(e),t.push(r),t.push(n)}function Ee(t,e,r,n,o,i){var a=(i-e)/(n-e);return t.push(i),t.push(r+(o-r)*a),t.push(1),a}function Ne(t,e,r,n,o,i){var a=(i-r)/(o-r);return t.push(e+(n-e)*a),t.push(i),t.push(1),a}function Re(t,e){for(var r=[],n=0;n<t.length;n++){var o,i=t[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=Be(i.geometry,e);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(Be(i.geometry[s],e))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var u=[],l=0;l<i.geometry[s].length;l++)u.push(Be(i.geometry[s][l],e));o.push(u)}r.push(Me(i.id,a,o,i.tags))}return r}function Be(t,e){var r=[];r.size=t.size,void 0!==t.start&&(r.start=t.start,r.end=t.end);for(var n=0;n<t.length;n+=3)r.push(t[n]+e,t[n+1],t[n+2]);return r}function Fe(t,e){if(t.transformed)return t;var r,n,o,i=1<<t.z,a=t.x,s=t.y;for(r=0;r<t.features.length;r++){var u=t.features[r],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(n=0;n<l.length;n+=2)u.geometry.push(Ge(l[n],l[n+1],e,i,a,s));else for(n=0;n<l.length;n++){var p=[];for(o=0;o<l[n].length;o+=2)p.push(Ge(l[n][o],l[n][o+1],e,i,a,s));u.geometry.push(p)}}return t.transformed=!0,t}function Ge(t,e,r,n,o,i){return[Math.round(r*(t*n-o)),Math.round(r*(e*n-i))]}function Ve(t,e,r,n,o){for(var i=e===o.maxZoom?0:o.tolerance/((1<<e)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Je(a,t[s],i,o);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,p=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Je(t,e,r,n){var o=e.geometry,i=e.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===i)We(a,o,t,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)We(a,o[s],t,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var u=0;u<o.length;u++){var l=o[u];for(s=0;s<l.length;s++)We(a,l[s],t,r,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===i&&n.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var f={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==e.id&&(f.id=e.id),t.features.push(f)}}function We(t,e,r,n,o,i){var a=n*n;if(n>0&&e.size<(o?a:n))r.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===n||e[u+2]>a)&&(r.numSimplified++,s.push(e[u]),s.push(e[u+1])),r.numPoints++;o&&function(t,e){for(var r=0,n=0,o=t.length,i=o-2;n<o;i=n,n+=2)r+=(t[n]-t[i])*(t[n+1]+t[i+1]);if(r>0===e)for(n=0,o=t.length;n<o/2;n+=2){var a=t[n],s=t[n+1];t[n]=t[o-2-n],t[n+1]=t[o-1-n],t[o-2-n]=a,t[o-1-n]=s}}(s,i),t.push(s)}}function Ye(t,e){var r=(e=this.options=function(t,e){for(var r in e)t[r]=e[r];return t}(Object.create(this.options),e)).debug;if(r&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var n=function(t,e){var r=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)_e(r,t.features[n],e);else"Feature"===t.type?_e(r,t,e):_e(r,{geometry:t},e);return r}(t,e);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(t,e){var r=e.buffer/e.extent,n=t,o=Le(t,1,-1-r,r,0,-1,2,e),i=Le(t,1,1-r,2+r,0,-1,2,e);return(o||i)&&(n=Le(t,1,-r,1+r,0,-1,2,e)||[],o&&(n=Re(o,1).concat(n)),i&&(n=n.concat(Re(i,-1)))),n}(n,e)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ze(t,e,r){return 32*((1<<t)*r+e)+t}function je(t,e){var r=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return e(null,null);var o=new tt(n.features),i=nt(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),e(null,{vectorTile:o,rawData:i.buffer})}se.prototype={range:function range(t,e,r,n){return function re(t,e,r,n,o,i,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var p=l.pop(),f=l.pop(),d=l.pop();if(f-d<=a)for(var h=d;h<=f;h++)s=e[2*h],u=e[2*h+1],s>=r&&s<=o&&u>=n&&u<=i&&c.push(t[h]);else{var m=Math.floor((d+f)/2);s=e[2*m],u=e[2*m+1],s>=r&&s<=o&&u>=n&&u<=i&&c.push(t[m]);var y=(p+1)%2;(0===p?r<=s:n<=u)&&(l.push(d),l.push(m-1),l.push(y)),(0===p?o>=s:i>=u)&&(l.push(m+1),l.push(f),l.push(y))}}return c}(this.ids,this.coords,t,e,r,n,this.nodeSize)},within:function within(t,e,r){return function ne(t,e,r,n,o,i){for(var a=[0,t.length-1,0],s=[],u=o*o;a.length;){var l=a.pop(),c=a.pop(),p=a.pop();if(c-p<=i)for(var f=p;f<=c;f++)oe(e[2*f],e[2*f+1],r,n)<=u&&s.push(t[f]);else{var d=Math.floor((p+c)/2),h=e[2*d],m=e[2*d+1];oe(h,m,r,n)<=u&&s.push(t[d]);var y=(l+1)%2;(0===l?r-o<=h:n-o<=m)&&(a.push(p),a.push(d-1),a.push(y)),(0===l?r+o>=h:n+o>=m)&&(a.push(d+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,t,e,r,this.nodeSize)}},ce.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function initial(){return{}},map:function map(t){return t}},load:function load(t){var e=this.options.log;e&&console.time("total time");var r="prepare "+t.length+" points";e&&console.time(r),this.points=t;var n=t.map(pe);e&&console.timeEnd(r);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=st(n,xe,we,this.options.nodeSize,Float32Array),n=this._cluster(n,o),e&&console.log("z%d: %d clusters in %dms",o,n.length,+Date.now()-i)}return this.trees[this.options.minZoom]=st(n,xe,we,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function getClusters(t,e){for(var r=this.trees[this._limitZoom(e)],n=r.range(ve(t[0]),ye(t[3]),ve(t[2]),ye(t[1])),o=[],i=0;i<n.length;i++){var a=r.points[n[i]];o.push(a.numPoints?de(a):this.points[a.id])}return o},getChildren:function getChildren(t,e){for(var r=this.trees[e+1].points[t],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=this.trees[e+1].within(r.x,r.y,n),i=[],a=0;a<o.length;a++){var s=this.trees[e+1].points[o[a]];s.parentId===t&&i.push(s.numPoints?de(s):this.points[s.id])}return i},getLeaves:function getLeaves(t,e,r,n){r=r||10,n=n||0;var o=[];return this._appendLeaves(o,t,e,r,n,0),o},getTile:function getTile(t,e,r){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),i=this.options.extent,a=this.options.radius/i,s=(r-a)/o,u=(r+1+a)/o,l={features:[]};return this._addTileFeatures(n.range((e-a)/o,s,(e+1+a)/o,u),n.points,e,r,o,l),0===e&&this._addTileFeatures(n.range(1-a/o,s,1,u),n.points,o,r,o,l),e===o-1&&this._addTileFeatures(n.range(0,s,a/o,u),n.points,-1,r,o,l),l.features.length?l:null},getClusterExpansionZoom:function getClusterExpansionZoom(t,e){for(;e<this.options.maxZoom;){var r=this.getChildren(t,e);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e},_appendLeaves:function _appendLeaves(t,e,r,n,o,i){for(var a=this.getChildren(e,r),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?i+u.point_count<=o?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,r+1,n,o,i):i<o?i++:t.push(a[s]),t.length===n)break}return i},_addTileFeatures:function _addTileFeatures(t,e,r,n,o,i){for(var a=0;a<t.length;a++){var s=e[t[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*o-r)),Math.round(this.options.extent*(s.y*o-n))]],tags:s.numPoints?ge(s):this.points[s.id].properties})}},_limitZoom:function _limitZoom(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function _cluster(t,e){for(var r=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var i=t[o];if(!(i.zoom<=e)){i.zoom=e;var a=this.trees[e+1],s=a.within(i.x,i.y,n),u=i.numPoints||1,l=i.x*u,c=i.y*u,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,i));for(var f=0;f<s.length;f++){var d=a.points[s[f]];if(e<d.zoom){var h=d.numPoints||1;d.zoom=e,l+=d.x*h,c+=d.y*h,u+=h,d.parentId=o,this.options.reduce&&this._accumulate(p,d)}}1===u?r.push(i):(i.parentId=o,r.push(fe(l/u,c/u,u,o,p)))}}return r},_accumulate:function _accumulate(t,e){var r=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,r)}},Ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,debug:0},Ye.prototype.splitTile=function(t,e,r,n,o,i,a){for(var s=[t,e,r,n],u=this.options,l=u.debug;s.length;){n=s.pop(),r=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=Ze(e,r,n),f=this.tiles[p];if(!f&&(l>1&&console.time("creation"),f=this.tiles[p]=Ve(t,e,r,n,u),this.tileCoords.push({z:e,x:r,y:n}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,r,n,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(f.source=t,o){if(e===u.maxZoom||e===o)continue;var h=1<<o-e;if(r!==Math.floor(i/h)||n!==Math.floor(a/h))continue}else if(e===u.indexMaxZoom||f.numPoints<=u.indexMaxPoints)continue;if(f.source=null,0!==t.length){l>1&&console.time("clipping");var m,y,g,v,_,b,S=.5*u.buffer/u.extent,x=.5-S,w=.5+S,E=1+S;m=y=g=v=null,_=Le(t,c,r-S,r+w,0,f.minX,f.maxX,u),b=Le(t,c,r+x,r+E,0,f.minX,f.maxX,u),t=null,_&&(m=Le(_,c,n-S,n+w,1,f.minY,f.maxY,u),y=Le(_,c,n+x,n+E,1,f.minY,f.maxY,u),_=null),b&&(g=Le(b,c,n-S,n+w,1,f.minY,f.maxY,u),v=Le(b,c,n+x,n+E,1,f.minY,f.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*r,2*n),s.push(y||[],e+1,2*r,2*n+1),s.push(g||[],e+1,2*r+1,2*n),s.push(v||[],e+1,2*r+1,2*n+1)}}},Ye.prototype.getTile=function(t,e,r){var n=this.options,o=n.extent,i=n.debug;if(t<0||t>24)return null;var a=1<<t,s=Ze(t,e=(e%a+a)%a,r);if(this.tiles[s])return Fe(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",t,e,r);for(var u,l=t,c=e,p=r;!u&&l>0;)l--,c=Math.floor(c/2),p=Math.floor(p/2),u=this.tiles[Ze(l,c,p)];return u&&u.source?(i>1&&console.log("found parent tile z%d-%d-%d",l,c,p),i>1&&console.time("drilling down"),this.splitTile(u.source,l,c,p,t,e,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?Fe(this.tiles[s],o):null):null};var ut=function(t){function i(e,r,n){t.call(this,e,r,je),n&&(this.loadGeoJSON=n)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},i.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams,this.loadGeoJSON(r,(function(n,o){if(n||!o)return e(n);if("object"!=typeof o)return e(new Error("Input data is not a valid GeoJSON object."));!function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(D(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=O(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(D(O,e))),t}(t,r);default:return t}}(o,!0);try{t._geoJSONIndex=r.cluster?function he(t){return new ce(t)}(r.superclusterOptions).load(o.features):function(t,e){return new Ye(t,e)}(o,r.geojsonVtOptions)}catch(n){return e(n)}t.loaded={};var i={};if(r.request&&r.request.collectResourceTiming){var a=I(r.request.url);a&&(i.resourceTiming={},i.resourceTiming[r.source]=JSON.parse(JSON.stringify(a)))}e(null,i)}))}},i.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},i.prototype.reloadTile=function(e,r){var n=this.loaded,o=e.uid;return n&&n[o]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},i.prototype.loadGeoJSON=function(t,e){if(t.request)r.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(r){return e(new Error("Input data is not a valid GeoJSON object."))}}},i.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},i}(B),lt=function qe(t){var e=this;this.self=t,this.actor=new r.default$7(t,this),this.layerIndexes={},this.workerSourceTypes={vector:B,geojson:ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,r){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=r},this.self.registerRTLTextPlugin=function(t){if(r.plugin.isLoaded())throw new Error("RTL text plugin already registered.");r.plugin.applyArabicShaping=t.applyArabicShaping,r.plugin.processBidirectionalText=t.processBidirectionalText}};return lt.prototype.setLayers=function(t,e,r){this.getLayerIndex(t).replace(e),r()},lt.prototype.updateLayers=function(t,e,r){this.getLayerIndex(t).update(e.layers,e.removedIds),r()},lt.prototype.loadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).loadTile(e,r)},lt.prototype.loadDEMTile=function(t,e,r){this.getDEMWorkerSource(t,e.source).loadTile(e,r)},lt.prototype.reloadTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).reloadTile(e,r)},lt.prototype.abortTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).abortTile(e,r)},lt.prototype.removeTile=function(t,e,r){this.getWorkerSource(t,e.type,e.source).removeTile(e,r)},lt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},lt.prototype.removeSource=function(t,e,r){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var n=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==n.removeSource?n.removeSource(e,r):r()}},lt.prototype.loadWorkerSource=function(t,e,r){try{this.self.importScripts(e.url),r()}catch(t){r(t.toString())}},lt.prototype.loadRTLTextPlugin=function(t,e,n){try{r.plugin.isLoaded()||(this.self.importScripts(e),n(r.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(r){n(r.toString())}},lt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new a),e},lt.prototype.getWorkerSource=function(t,e,r){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][r]){var o={send:function send(e,r,o){n.actor.send(e,r,o,t)}};this.workerSources[t][e][r]=new this.workerSourceTypes[e](o,this.getLayerIndex(t))}return this.workerSources[t][e][r]},lt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new z),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new lt(self),lt})),define(0,(function(t){var r=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{e=new Worker(n),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&function(t){return void 0===r[t]&&(r[t]=function(t){var r=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(t)),r[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),u=t.default.performance&&t.default.performance.now?t.default.performance.now.bind(t.default.performance):Date.now.bind(Date),l=t.default.requestAnimationFrame||t.default.mozRequestAnimationFrame||t.default.webkitRequestAnimationFrame||t.default.msRequestAnimationFrame,p=t.default.cancelAnimationFrame||t.default.mozCancelAnimationFrame||t.default.webkitCancelAnimationFrame||t.default.msCancelAnimationFrame,f={now:u,frame:function frame(t){return l(t)},cancelFrame:function cancelFrame(t){return p(t)},getImageData:function getImageData(e){var r=t.default.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},hardwareConcurrency:t.default.navigator.hardwareConcurrency||4,get devicePixelRatio(){return t.default.devicePixelRatio},supportsWebp:!1};if(t.default.document){var d=t.default.document.createElement("img");d.onload=function(){f.supportsWebp=!0},d.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var h={create:function create(e,r,n){var o=t.default.document.createElement(e);return r&&(o.className=r),n&&n.appendChild(o),o},createNS:function createNS(e,r){return t.default.document.createElementNS(e,r)}},g=t.default.document?t.default.document.documentElement.style:null;function c(t){if(!g)return null;for(var e=0;e<t.length;e++)if(t[e]in g)return t[e];return t[0]}var _,E=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);h.disableDrag=function(){g&&E&&(_=g[E],g[E]="none")},h.enableDrag=function(){g&&E&&(g[E]=_)};var P=c(["transform","WebkitTransform"]);h.setTransform=function(t,e){t.style[P]=e};var D=!1;try{var M=Object.defineProperty({},"passive",{get:function get(){D=!0}});t.default.addEventListener("test",M,M),t.default.removeEventListener("test",M,M)}catch(t){D=!1}h.addEventListener=function(t,e,r,n){void 0===n&&(n={}),"passive"in n&&D?t.addEventListener(e,r,n):t.addEventListener(e,r,n.capture)},h.removeEventListener=function(t,e,r,n){void 0===n&&(n={}),"passive"in n&&D?t.removeEventListener(e,r,n):t.removeEventListener(e,r,n.capture)};var A=function m(e){e.preventDefault(),e.stopPropagation(),t.default.removeEventListener("click",m,!0)};h.suppressClick=function(){t.default.addEventListener("click",A,!0),t.default.setTimeout((function(){t.default.removeEventListener("click",A,!0)}),0)},h.mousePos=function(e,r){var n=e.getBoundingClientRect();return r=r.touches?r.touches[0]:r,new t.default$1(r.clientX-n.left-e.clientLeft,r.clientY-n.top-e.clientTop)},h.touchPos=function(e,r){for(var n=e.getBoundingClientRect(),o=[],i="touchend"===r.type?r.changedTouches:r.touches,a=0;a<i.length;a++)o.push(new t.default$1(i[a].clientX-n.left-e.clientLeft,i[a].clientY-n.top-e.clientTop));return o},h.mouseButton=function(e){return void 0!==t.default.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},h.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var R={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},k="See https://www.mapbox.com/api-documentation/#access-tokens";function v(t,e){var r=C(R.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"/"!==r.path&&(t.path=""+r.path+t.path),!R.REQUIRE_ACCESS_TOKEN)return S(t);if(!(e=e||R.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+k);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+k);return t.params.push("access_token="+e),S(t)}function y(t){return 0===t.indexOf("mapbox:")}var N=function b(t,e){if(!y(t))return t;var r=C(t);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),v(r,e)},z=function w(t,e,r,n){var o=C(t);return y(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+r,v(o,n)):(o.path+=""+e+r,S(o))},j=/(\.(png|jpg)\d*)(?=$)/,V=function T(t,e,r){if(!e||!y(e))return t;var n=C(t),o=f.devicePixelRatio>=2||512===r?"@2x":"",i=f.supportsWebp?".webp":"$1";return n.path=n.path.replace(j,""+o+i),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(R.ACCESS_TOKEN||""))}(n.params),S(n)},W=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var e=t.match(W);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function S(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var q=t.default.HTMLImageElement,H=t.default.HTMLCanvasElement,K=t.default.HTMLVideoElement,Y=t.default.ImageData,Z=function M(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n)};Z.prototype.update=function(t,e){var r=t.width,n=t.height,o=!this.size||this.size[0]!==r||this.size[1]!==n,i=this.context,a=i.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),o?(this.size=[r,n],i.pixelStoreUnpack.set(1),this.format!==a.RGBA||e&&!1===e.premultiply||i.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof q||t instanceof H||t instanceof K||t instanceof Y?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,r,n,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof q||t instanceof H||t instanceof K||t instanceof Y?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,r,n,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Z.prototype.bind=function(t,e,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},Z.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Z.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Q=function L(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$2(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};Q.prototype.isLoaded=function(){return this.loaded},Q.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,r=this.requestors;e<r.length;e+=1){var n=r[e],o=n.ids,i=n.callback;this._notify(o,i)}this.requestors=[]}},Q.prototype.getImage=function(t){return this.images[t]},Q.prototype.addImage=function(t,e){this.images[t]=e},Q.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},Q.prototype.getImages=function(t,e){var r=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var i=o[n];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(t,e):this.requestors.push({ids:t,callback:e})},Q.prototype._notify=function(t,e){for(var r={},n=0,o=t;n<o.length;n+=1){var i=o[n],a=this.images[i];a&&(r[i]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,r)},Q.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},Q.prototype.getPattern=function(e){var r=this.patterns[e];if(r)return r.position;var n=this.getImage(e);if(!n)return null;var o=n.data.width+2,i=n.data.height+2,a=this.shelfPack.packOne(o,i);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=n.data,u=this.atlasImage,l=a.x+1,c=a.y+1,p=s.width,f=s.height;t.RGBAImage.copy(s,u,{x:0,y:0},{x:l,y:c},{width:p,height:f}),t.RGBAImage.copy(s,u,{x:0,y:f-1},{x:l,y:c-1},{width:p,height:1}),t.RGBAImage.copy(s,u,{x:0,y:0},{x:l,y:c+f},{width:p,height:1}),t.RGBAImage.copy(s,u,{x:p-1,y:0},{x:l-1,y:c},{width:1,height:f}),t.RGBAImage.copy(s,u,{x:0,y:0},{x:l+p,y:c},{width:1,height:f}),this.dirty=!0;var d=new t.ImagePosition(a,n);return this.patterns[e]={bin:a,position:d},d},Q.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Z(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var $=B,J=1e20;function B(t,e,r,n,o,i){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function O(t,e,r,n,o,i,a){for(var s=0;s<e;s++){for(var u=0;u<r;u++)n[u]=t[u*e+s];for(F(n,o,i,a,r),u=0;u<r;u++)t[u*e+s]=o[u]}for(u=0;u<r;u++){for(s=0;s<e;s++)n[s]=t[u*e+s];for(F(n,o,i,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(o[s])}}function F(t,e,r,n,o){r[0]=0,n[0]=-J,n[1]=+J;for(var i=1,a=0;i<o;i++){for(var s=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);s<=n[a];)a--,s=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,n[a]=s,n[a+1]=+J}for(i=0,a=0;i<o;i++){for(;n[a+1]<i;)a++;e[i]=(i-r[a])*(i-r[a])+t[r[a]]}}B.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?J:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?J:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(O(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),O(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var i=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r};var tt=function N(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};tt.prototype.setURL=function(t){this.url=t},tt.prototype.getGlyphs=function(e,r){var n=this,o=[];for(var i in e)for(var a=0,s=e[i];a<s.length;a+=1){var u=s[a];o.push({stack:i,id:u})}t.asyncAll(o,(function(t,e){var r=t.stack,o=t.id,i=n.entries[r];i||(i=n.entries[r]={glyphs:{},requests:{}});var a=i.glyphs[o];if(void 0===a)if(a=n._tinySDF(i,r,o))e(null,{stack:r,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var u=i.requests[s];u||(u=i.requests[s]=[],tt.loadGlyphRange(r,s,n.url,n.requestTransform,(function(t,e){if(e)for(var r in e)i.glyphs[+r]=e[+r];for(var n=0,o=u;n<o.length;n+=1)(0,o[n])(t,e);delete i.requests[s]}))),u.push((function(t,n){t?e(t):n&&e(null,{stack:r,id:o,glyph:n[o]||null})}))}}else e(null,{stack:r,id:o,glyph:a})}),(function(t,e){if(t)r(t);else if(e){for(var n={},o=0,i=e;o<i.length;o+=1){var a=i[o],s=a.stack,u=a.id,l=a.glyph;(n[s]||(n[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}r(null,n)}}))},tt.prototype._tinySDF=function(e,r,n){var o=this.localIdeographFontFamily;if(o&&(t.default$4["CJK Unified Ideographs"](n)||t.default$4["Hangul Syllables"](n))){var i=e.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),i=e.tinySDF=new tt.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},tt.loadGlyphRange=function(e,r,n,o,i){var a=256*r,s=a+255,u=o(function x(t,e){if(!y(t))return t;var r=C(t);return r.path="/fonts/v1"+r.path,v(r,e)}(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,r){if(e)i(e);else if(r){for(var n={},o=0,a=t.default$3(r.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}i(null,n)}}))},tt.TinySDF=$;var et=function U(){this.specification=t.default$5.light.position};et.prototype.possiblyEvaluate=function(e,r){return t.sphericalToCartesian(e.expression.evaluate(r))},et.prototype.interpolate=function(e,r,n){return{x:t.number(e.x,r.x,n),y:t.number(e.y,r.y,n),z:t.number(e.z,r.z,n)}};var nt=new t.Properties({anchor:new t.DataConstantProperty(t.default$5.light.anchor),position:new et,color:new t.DataConstantProperty(t.default$5.light.color),intensity:new t.DataConstantProperty(t.default$5.light.intensity)}),ot=function(e){function i(r){e.call(this),this._transitionable=new t.Transitionable(nt),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var r in e){var n=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),n):this._transitionable.setValue(r,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,r){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:t.default$5})))},i}(t.Evented),it=function j(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};it.prototype.getDash=function(t,e){var r=t.join(",")+String(e);return this.positions[r]||(this.positions[r]=this.addDash(t,e)),this.positions[r]},it.prototype.addDash=function(e,r){var n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var i=0,a=0;a<e.length;a++)i+=e[a];for(var s=this.width/i,u=s/2,l=e.length%2==1,c=-n;c<=n;c++)for(var p=this.nextRow+n+c,f=this.width*p,d=l?-e[e.length-1]:0,h=e[0],m=1,y=0;y<this.width;y++){for(;h<y/s;)d=h,h+=e[m],l&&m===e.length-1&&(h+=e[0]),m++;var g=Math.abs(y-d*s),v=Math.abs(y-h*s),_=Math.min(g,v),b=m%2==1,S=void 0;if(r){var x=n?c/n*(u+1):0;if(b){var w=u-Math.abs(x);S=Math.sqrt(_*_+w*w)}else S=u-Math.sqrt(_*_+x*x)}else S=(b?1:-1)*_;this.data[3+4*(f+y)]=Math.max(0,Math.min(255,S+128))}var E={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=o,this.dirty=!0,E},it.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var ut=function e(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),i=0;i<o.length;i++){var a=o[i],s=new e.Actor(a,n,this.id);s.name="Worker "+i,this.actors.push(s)}};function G(e,r,n){var i=function o(e,r){if(e)return n(e);if(r){var o=t.pick(r,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(t){return t.id}))),n(null,o)}};e.url?t.getJSON(r(N(e.url),t.ResourceType.Source),i):f.frame((function(){return i(null,e)}))}ut.prototype.broadcast=function(e,r,n){n=n||function(){},t.asyncAll(this.actors,(function(t,n){t.send(e,r,n)}),n)},ut.prototype.send=function(t,e,r,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,r),n},ut.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},ut.Actor=t.default$7;var ct=function W(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ct.prototype.wrap=function(){return new ct(t.wrap(this.lng,-180,180),this.lat)},ct.prototype.toArray=function(){return[this.lng,this.lat]},ct.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ct.prototype.toBounds=function(t){var e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new pt(new ct(this.lng-r,this.lat-e),new ct(this.lng+r,this.lat+e))},ct.convert=function(t){if(t instanceof ct)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new ct(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new ct(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var pt=function q(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};pt.prototype.setNorthEast=function(t){return this._ne=t instanceof ct?new ct(t.lng,t.lat):ct.convert(t),this},pt.prototype.setSouthWest=function(t){return this._sw=t instanceof ct?new ct(t.lng,t.lat):ct.convert(t),this},pt.prototype.extend=function(t){var e,r,n=this._sw,o=this._ne;if(t instanceof ct)e=t,r=t;else{if(!(t instanceof pt))return Array.isArray(t)?t.every(Array.isArray)?this.extend(pt.convert(t)):this.extend(ct.convert(t)):this;if(e=t._sw,r=t._ne,!e||!r)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this._sw=new ct(e.lng,e.lat),this._ne=new ct(r.lng,r.lat)),this},pt.prototype.getCenter=function(){return new ct((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},pt.prototype.getSouthWest=function(){return this._sw},pt.prototype.getNorthEast=function(){return this._ne},pt.prototype.getNorthWest=function(){return new ct(this.getWest(),this.getNorth())},pt.prototype.getSouthEast=function(){return new ct(this.getEast(),this.getSouth())},pt.prototype.getWest=function(){return this._sw.lng},pt.prototype.getSouth=function(){return this._sw.lat},pt.prototype.getEast=function(){return this._ne.lng},pt.prototype.getNorth=function(){return this._ne.lat},pt.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},pt.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},pt.prototype.isEmpty=function(){return!(this._sw&&this._ne)},pt.convert=function(t){return!t||t instanceof pt?t:new pt(t)};var ft=function X(t,e,r){this.bounds=pt.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=r||24};ft.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},ft.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),r=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=r&&t.y<o},ft.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},ft.prototype.latY=function(e,r){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,r)/(2*Math.PI);return Math.pow(2,r-1)+.5*Math.log((1+n)/(1-n))*-o};var ht=function(e){function i(r,n,o,i){if(e.call(this),this.id=r,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,(function(r,n){r?e.fire(new t.ErrorEvent(r)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new ft(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,r){var n=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(t,n){return e.aborted?r(null):t?r(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),r(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",o,a.bind(this)):"loading"===e.state?e.reloadCallback=r:this.dispatcher.send("reloadTile",o,a.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),mt=function(e){function i(r,n,o,i){e.call(this),this.id=r,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,(function(r,n){r?e.fire(new t.ErrorEvent(r)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new ft(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,r){var n=this,o=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),(function(t,o){if(delete e.request,e.aborted)e.state="unloaded",r(null);else if(t)e.state="errored",r(t);else if(o){n.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var i=n.map.painter.context,a=i.gl;e.texture=n.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new Z(i,o,a.RGBA,{useMipmap:!0}),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax)),e.state="loaded",r(null)}}))},i.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),yt=function(e){function i(r,n,o,i){e.call(this,r,n,o,i),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,r){var n=V(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(t,n){if(delete e.request,e.aborted)e.state="unloaded",r(null);else if(t)e.state="errored",r(t);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=f.getImageData(n),i={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",i,function(t,n){t&&(e.state="errored",r(t)),n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",r(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var r=e.canonical,n=Math.pow(2,r.z),o=(r.x-1+n)%n,i=0===r.x?e.wrap-1:e.wrap,a=(r.x+1+n)%n,s=r.x+1===n?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(u[new t.OverscaledTileID(e.overscaledZ,i,r.z,o,r.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),u},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(mt),gt=function(e){function i(r,n,o,i){e.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(i),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=t.default$8/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.default$8,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$8,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)e.fire(new t.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var r=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)return r.fire(new t.ErrorEvent(e));var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new t.Event("data",n))})),this},i.prototype._updateWorkerData=function(e){var r,n,o=this,i=t.extend({},this.workerOptions),a=this._data;"string"==typeof a?(i.request=this.map._transformRequest((r=a,(n=t.default.document.createElement("a")).href=r,n.href),t.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+"."+i.source+".loadData",i,(function(t,r){o._removed||r&&r.abandoned||(o._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[o.id]&&(o._resourceTiming=r.resourceTiming[o.id].slice(0)),o.dispatcher.send(o.type+"."+i.source+".coalesce",null,null,o.workerID),e(t))}),this.workerID)},i.prototype.loadTile=function(t,e){var r=this,n=void 0===t.workerID?"loadTile":"reloadTile",o={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,o,(function(o,i){return t.unloadVectorData(),t.aborted?e(null):o?e(o):(t.loadVectorData(i,r.map.painter,"reloadTile"===n),e(null))}),this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),vt=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),_t=function tt(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};_t.prototype.bind=function(t,e,r,n,o,i,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==n.length,l=0;!u&&l<n.length;l++)this.boundPaintVertexBuffers[l]!==n[l]&&(u=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==r||u||this.boundIndexBuffer!==o||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,r,n,o,i,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},_t.prototype.freshBind=function(t,e,r,n,o,i,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var p=u;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var f=0,d=r;f<d.length;f+=1)d[f].enableAttributes(c,t);i&&i.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,o);for(var h=0,m=r;h<m.length;h+=1){var y=m[h];y.bind(),y.setVertexAttribPointers(c,t,o)}i&&(i.bind(),i.setVertexAttribPointers(c,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,o)),l.currentNumAttributes=u},_t.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bt=function(e){function i(t,r,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=r}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),(function(r,n){r?e.fire(new t.ErrorEvent(r)):n&&(e.image=f.getImageData(n),e._finishLoading())}))},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var r=this.map,n=e.map((function(t){return r.transform.locationCoordinate(ct.convert(t)).zoomTo(0)})),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var i=n.map((function(e){var r=e.zoomTo(o.zoom);return new t.default$1(Math.round((r.column-o.column)*t.default$8),Math.round((r.row-o.row)*t.default$8))}));return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.default$8,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.default$8),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.default$8,t.default$8),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture||(this.texture=new Z(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),xt=function(e){function i(t,r,n,o){e.call(this,t,r,n,o),this.roundZoom=!0,this.type="video",this.options=r}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,r=this.options;this.urls=[];for(var n=0,o=r.urls;n<o.length;n+=1){var i=o[n];e.urls.push(e.map._transformRequest(i,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(r,n){r?e.fire(new t.ErrorEvent(r)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map._rerender()})),e.map&&e.video.play(),e._finishLoading())}))},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new Z(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(bt),wt=function(e){function i(r,n,o,i){e.call(this,r,n,o,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.default$9("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.default$9("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.default$9("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.default.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.default$9("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.default$9("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.default.HTMLCanvasElement?this.options.canvas:t.default.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,r=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,vt.members)),this.boundsVAO||(this.boundsVAO=new _t),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.canvas)):(this.texture=new Z(e,this.canvas,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var r=e[t];if(isNaN(r)||r<=0)return!0}return!1},i}(bt),Et={vector:ht,raster:mt,"raster-dem":yt,geojson:gt,video:xt,image:bt,canvas:wt},Pt=function rt(e,r,n,o){var i=new Et[r.type](e,r,n,o);if(i.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+i.id);return t.bindAll(["load","abort","unload","serialize","prepare"],i),i};function at(t,e,r,n,o){var i=o.maxPitchScaleFactor(),a=t.tilesIn(r,i);a.sort(st);for(var s=[],u=0,l=a;u<l.length;u+=1){var c=l[u];s.push({wrappedTileID:c.tileID.wrapped().key,queryResults:c.tile.queryRenderedFeatures(e,c.queryGeometry,c.scale,n,o,i,t.transform.calculatePosMatrix(c.tileID.toUnwrapped()))})}return function(t){for(var e={},r={},n=0,o=t;n<o.length;n+=1){var i=o[n],a=i.queryResults,s=i.wrappedTileID,u=r[s]=r[s]||{};for(var l in a)for(var c=a[l],p=u[l]=u[l]||{},f=e[l]=e[l]||[],d=0,h=c;d<h.length;d+=1){var m=h[d];p[m.featureIndex]||(p[m.featureIndex]=!0,f.push(m.feature))}}return e}(s)}function st(t,e){var r=t.tileID,n=e.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var Ct=function lt(e,r){this.tileID=e,this.uid=t.uniqueId(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};Ct.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<f.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Ct.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ct.prototype.loadVectorData=function(e,r,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(t,e){var r={};if(!e)return r;for(var n=0,o=t;n<o.length;n+=1){var i=o[n],a=i.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==a.length){i.layers=a;for(var s=0,u=a;s<u.length;s+=1)r[u[s].id]=i}}return r}(e.buckets,r.style),n)for(var o in this.buckets){var i=this.buckets[o];i instanceof t.default$14&&(i.justReloaded=!0)}for(var a in this.queryPadding=0,this.buckets){var s=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(s.layerIds[0]).queryRadius(s))}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.CollisionBoxArray},Ct.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ct.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Ct.prototype.getBucket=function(t){return this.buckets[t.id]},Ct.prototype.upload=function(t){for(var e in this.buckets){var r=this.buckets[e];r.uploaded||(r.upload(t),r.uploaded=!0)}var n=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new Z(t,this.iconAtlasImage,n.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Z(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},Ct.prototype.queryRenderedFeatures=function(t,e,r,n,o,i,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:e,scale:r,tileSize:this.tileSize,posMatrix:a,transform:o,params:n,queryPadding:this.queryPadding*i},t):{}},Ct.prototype.querySourceFeatures=function(e,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),o=r?r.sourceLayer:"",i=n._geojsonTileLayer||n[o];if(i)for(var a=t.default$13(r&&r.filter),s={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},u=0;u<i.length;u++){var l=i.feature(u);if(a(new t.default$16(this.tileID.overscaledZ),l)){var c=new t.default$12(l,s.z,s.x,s.y);c.tile=s,e.push(c)}}}},Ct.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Ct.prototype.setMask=function(e,r){if(!t.default$10(this.mask,e)&&(this.mask=e,this.clearMask(),!t.default$10(e,{0:!0}))){var n=new t.RasterBoundsArray,o=new t.TriangleIndexArray;this.segments=new t.default$15,this.segments.prepareSegment(0,n,o);for(var i=Object.keys(e),a=0;a<i.length;a++){var s=e[i[a]],u=t.default$8>>s.z,l=new t.default$1(s.x*u,s.y*u),c=new t.default$1(l.x+u,l.y+u),p=this.segments.prepareSegment(4,n,o);n.emplaceBack(l.x,l.y,l.x,l.y),n.emplaceBack(c.x,l.y,c.x,l.y),n.emplaceBack(l.x,c.y,l.x,c.y),n.emplaceBack(c.x,c.y,c.x,c.y);var f=p.vertexLength;o.emplaceBack(f,f+1,f+2),o.emplaceBack(f+1,f+2,f+3),p.vertexLength+=4,p.primitiveLength+=2}this.maskedBoundsBuffer=r.createVertexBuffer(n,vt.members),this.maskedIndexBuffer=r.createIndexBuffer(o)}},Ct.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ct.prototype.setExpiryData=function(e){var r=this.expirationTime;if(e.cacheControl){var n=t.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),i=!1;if(this.expirationTime>o)i=!1;else if(r)if(this.expirationTime<r)i=!0;else{var a=this.expirationTime-r;a?this.expirationTime=o+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ct.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)};var Tt=function ct(t,e){this.max=t,this.onRemove=e,this.reset()};Tt.prototype.reset=function(){for(var t in this.data)for(var e=0,r=this.data[t];e<r.length;e+=1){var n=r[e];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},Tt.prototype.add=function(t,e,r){var n=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var i={value:e,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((function(){n.remove(t,i)}),r)),this.data[o].push(i),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Tt.prototype.has=function(t){return t.wrapped().key in this.data},Tt.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},Tt.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},Tt.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},Tt.prototype.remove=function(t,e){if(!this.has(t))return this;var r=t.wrapped().key,n=void 0===e?0:this.data[r].indexOf(e),o=this.data[r][n];return this.data[r].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(o.value),this.order.splice(this.order.indexOf(r),1),this},Tt.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var Dt=function ut(t,e,r){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Dt.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},Dt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Dt.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},Dt.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Mt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function pt(t,e,r,n){this.length=e.length,this.attributes=r,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},At.prototype.enableAttributes=function(t,e){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},At.prototype.setVertexAttribPointers=function(t,e,r){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],i=e.attributes[o.name];void 0!==i&&t.vertexAttribPointer(i,o.components,t[Mt[o.type]],!1,this.itemSize,o.offset+this.itemSize*(r||0))}},At.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Rt=function dt(e){this.context=e,this.current=t.default$6.transparent};Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Lt=function ft(t){this.context=t,this.current=1};Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var It=function mt(t){this.context=t,this.current=0};It.prototype.get=function(){return this.current},It.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var Ot=function _t(t){this.context=t,this.current=[!0,!0,!0,!0]};Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var kt=function gt(t){this.context=t,this.current=!0};kt.prototype.get=function(){return this.current},kt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var Ft=function vt(t){this.context=t,this.current=255};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var Nt=function yt(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var Bt=function xt(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var Ut=function bt(t){this.context=t,this.current=!1};Ut.prototype.get=function(){return this.current},Ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var zt=function wt(t){this.context=t,this.current=[0,1]};zt.prototype.get=function(){return this.current},zt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var Gt=function Et(t){this.context=t,this.current=!1};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var Vt=function Tt(t){this.context=t,this.current=t.gl.LESS};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Wt=function It(t){this.context=t,this.current=!1};Wt.prototype.get=function(){return this.current},Wt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var Zt=function Ct(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};Zt.prototype.get=function(){return this.current},Zt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var Xt=function St(e){this.context=e,this.current=t.default$6.transparent};Xt.prototype.get=function(){return this.current},Xt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var Qt=function zt(t){this.context=t,this.current=null};Qt.prototype.get=function(){return this.current},Qt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var $t=function At(t){this.context=t,this.current=1};$t.prototype.get=function(){return this.current},$t.prototype.set=function(e){var r=this.context.lineWidthRange,n=t.clamp(e,r[0],r[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=e)};var Jt=function Rt(t){this.context=t,this.current=t.gl.TEXTURE0};Jt.prototype.get=function(){return this.current},Jt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var ie=function Dt(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};ie.prototype.get=function(){return this.current},ie.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var pe=function Mt(t){this.context=t,this.current=null};pe.prototype.get=function(){return this.current},pe.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var he=function Lt(t){this.context=t,this.current=null};he.prototype.get=function(){return this.current},he.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var Ee=function Pt(t){this.context=t,this.current=null};Ee.prototype.get=function(){return this.current},Ee.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var Me=function kt(t){this.context=t,this.current=null};Me.prototype.get=function(){return this.current},Me.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var Ae=function Bt(t){this.context=t,this.current=null};Ae.prototype.get=function(){return this.current},Ae.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var Re=function Ot(t){this.context=t,this.current=null};Re.prototype.get=function(){return this.current},Re.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var Oe=function Ft(t){this.context=t,this.current=4};Oe.prototype.get=function(){return this.current},Oe.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var ke=function Nt(t){this.context=t,this.current=!1};ke.prototype.get=function(){return this.current},ke.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var Fe=function Ut(t,e){this.context=t,this.current=null,this.parent=e};Fe.prototype.get=function(){return this.current};var Ne=function(t){function e(e,r){t.call(this,e,r),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(Fe),Be=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(Fe),Ue=function jt(t,e,r){this.context=t,this.width=e,this.height=r;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new Ne(t,o),this.depthAttachment=new Be(t,o)};Ue.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var r=this.depthAttachment.get();r&&t.deleteRenderbuffer(r),t.deleteFramebuffer(this.framebuffer)};var je=function $t(t,e,r){this.func=t,this.mask=e,this.range=r};je.ReadOnly=!1,je.ReadWrite=!0,je.disabled=new je(519,je.ReadOnly,[0,1]);var Ge=function Gt(t,e,r,n,o,i){this.test=t,this.ref=e,this.mask=r,this.fail=n,this.depthFail=o,this.pass=i};Ge.disabled=new Ge({func:519,mask:0},0,0,7680,7680,7680);var We=function Wt(t,e,r){this.blendFunction=t,this.blendColor=e,this.mask=r};We.disabled=new We(We.Replace=[1,0],t.default$6.transparent,[!1,!1,!1,!1]),We.unblended=new We(We.Replace,t.default$6.transparent,[!0,!0,!0,!0]),We.alphaBlended=new We([1,771],t.default$6.transparent,[!0,!0,!0,!0]);var qe=function qt(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new Rt(this),this.clearDepth=new Lt(this),this.clearStencil=new It(this),this.colorMask=new Ot(this),this.depthMask=new kt(this),this.stencilMask=new Ft(this),this.stencilFunc=new Nt(this),this.stencilOp=new Bt(this),this.stencilTest=new Ut(this),this.depthRange=new zt(this),this.depthTest=new Gt(this),this.depthFunc=new Vt(this),this.blend=new Wt(this),this.blendFunc=new Zt(this),this.blendColor=new Xt(this),this.program=new Qt(this),this.lineWidth=new $t(this),this.activeTexture=new Jt(this),this.viewport=new ie(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new he(this),this.bindTexture=new Ee(this),this.bindVertexBuffer=new Me(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Re(this),this.pixelStoreUnpack=new Oe(this),this.pixelStoreUnpackPremultiplyAlpha=new ke(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};qe.prototype.createIndexBuffer=function(t,e){return new Dt(this,t,e)},qe.prototype.createVertexBuffer=function(t,e,r){return new At(this,t,e,r)},qe.prototype.createRenderbuffer=function(t,e,r){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,r),this.bindRenderbuffer.set(null),o},qe.prototype.createFramebuffer=function(t,e){return new Ue(this,t,e)},qe.prototype.clear=function(t){var e=t.color,r=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(o)},qe.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},qe.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},qe.prototype.setColorMode=function(e){t.default$10(e.blendFunction,We.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var Ye=function(e){function i(t,r,n){var o=this;e.call(this),this.id=t,this.dispatcher=n,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=Pt(t,r,n,this),this._tiles={},this._cache=new Tt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort((function(r,n){var o=e._tiles[r].tileID,i=e._tiles[n].tileID,a=new t.default$1(o.canonical.x,o.canonical.y).rotate(e.transform.angle),s=new t.default$1(i.canonical.x,i.canonical.y).rotate(e.transform.angle);return o.overscaledZ-i.overscaledZ||s.y-a.y||s.x-a.x}))},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var r=this._tiles[t];r&&("loading"!==r.state&&(r.state=e),this._loadTile(r,this._tileLoaded.bind(this,r,t,e)))},i.prototype._tileLoaded=function(e,r,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=f.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(r,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var o=e[n];if(t.neighboringTiles&&t.neighboringTiles[o]){var i=this.getTileByID(o);r(t,i),r(i,t)}}function r(t,e){t.needsHillshadePrepare=!0;var r=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),i=e.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,r,n),t.neighboringTiles&&t.neighboringTiles[i]&&(t.neighboringTiles[i].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,r){var n=!1;for(var o in this._tiles){var i=this._tiles[o];if(!(r[o]||!i.hasData()||i.tileID.overscaledZ<=t.overscaledZ||i.tileID.overscaledZ>e)){var a=Math.pow(2,i.tileID.canonical.z-t.canonical.z);if(Math.floor(i.tileID.canonical.x/a)===t.canonical.x&&Math.floor(i.tileID.canonical.y/a)===t.canonical.y)for(r[o]=i.tileID,n=!0;i&&i.tileID.overscaledZ-1>t.overscaledZ;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);if(!s)break;(i=this._tiles[s.key])&&i.hasData()&&(delete r[o],r[s.key]=s)}}}return n},i.prototype.findLoadedParent=function(t,e,r){for(var n=t.overscaledZ-1;n>=e;n--){var o=t.scaledTo(n);if(!o)return;var i=String(o.key),a=this._tiles[i];if(a&&a.hasData())return r[i]=o,a;if(this._cache.has(o))return r[i]=o,this._cache.get(o)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),r=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,r=Math.round(e);if(this._prevLng=t,r){var n={};for(var o in this._tiles){var i=this._tiles[o];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},i.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(n=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter((function(t){return r._source.hasTile(t)})))):n=[];var o,a=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),s=Math.max(a-i.maxOverzooming,this._source.minzoom),u=Math.max(a+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(n,a),c={};if(Kt(this._source.type))for(var p=Object.keys(l),d=0;d<p.length;d++){var h=p[d],m=l[h],y=r._tiles[h];if(y&&(void 0===y.fadeEndTime||y.fadeEndTime>=f.now())){r._findLoadedChildren(m,u,l)&&(l[h]=m);var g=r.findLoadedParent(m,s,c);g&&r._addTile(g.tileID)}}for(o in c)l[o]||(r._coveredTiles[o]=!0);for(o in c)l[o]=c[o];for(var v=t.keysDifference(this._tiles,l),_=0;_<v.length;_++)r._removeTile(v[_])}},i.prototype._updateRetainedTiles=function(t,e){for(var r={},n={},o=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s=0;s<t.length;s++){var u=t[s],l=this._addTile(u),c=!1;if(l.hasData())r[u.key]=u;else{c=l.wasRequested(),r[u.key]=u;var p=!0;if(e+1>this._source.maxzoom){var f=u.children(this._source.maxzoom)[0],d=this.getTile(f);d&&d.hasData()?r[f.key]=f:p=!1}else{this._findLoadedChildren(u,a,r);for(var h=u.children(this._source.maxzoom),m=0;m<h.length;m++)if(!r[h[m].key]){p=!1;break}}if(!p)for(var y=u.overscaledZ-1;y>=o;--y){var g=u.scaledTo(y);if(n[g.key])break;if(n[g.key]=!0,!(l=this.getTile(g))&&c&&(l=this._addTile(g)),l&&(r[g.key]=g,c=l.wasRequested(),l.hasData()))break}}}return r},i.prototype._addTile=function(e){var r=this._tiles[e.key];if(r)return r;(r=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,r),r.tileID=e);var n=Boolean(r);return n||(r=new Ct(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,e.key,r.state))),r?(r.uses++,this._tiles[e.key]=r,n||this._source.fire(new t.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},i.prototype._setTileReloadTimer=function(t,e){var r=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout((function(){r._reloadTile(t,"expired"),delete r._timers[t]}),n))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,r){for(var n=[],o=this.getIds(),i=1/0,a=1/0,s=-1/0,u=-1/0,l=e[0].zoom,c=0;c<e.length;c++){var p=e[c];i=Math.min(i,p.column),a=Math.min(a,p.row),s=Math.max(s,p.column),u=Math.max(u,p.row)}for(var f=0;f<o.length;f++){var d=this._tiles[o[f]],h=d.tileID,m=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),y=r*d.queryPadding*t.default$8/d.tileSize/m,g=[Ht(h,new t.default$17(i,a,l)),Ht(h,new t.default$17(s,u,l))];if(g[0].x-y<t.default$8&&g[0].y-y<t.default$8&&g[1].x+y>=0&&g[1].y+y>=0){for(var v=[],_=0;_<e.length;_++)v.push(Ht(h,e[_]));n.push({tile:d,tileID:h,queryGeometry:[v],scale:m})}}return n},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map((function(e){return t._tiles[e].tileID})),r=0,n=e;r<n.length;r+=1){var o=n[r];o.posMatrix=t.transform.calculatePosMatrix(o.toUnwrapped())}return e},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Kt(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=f.now())return!0}return!1},i}(t.Evented);function Ht(e,r){var n=r.zoomTo(e.canonical.z);return new t.default$1((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$8,(n.row-e.canonical.y)*t.default$8)}function Kt(t){return"raster"===t||"image"===t||"video"===t}function Yt(){return new t.default.Worker(Wn.workerUrl)}Ye.maxOverzooming=10,Ye.maxUnderzooming=3;var Ze,Xe=function Qt(){this.active={}};function te(e,r){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.default$18.forEach((function(t){t in r&&(n[t]=r[t])})),n}function ee(t){t=t.slice();for(var e=Object.create(null),r=0;r<t.length;r++)e[t[r].id]=t[r];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=te(t[n],e[t[n].ref]));return t}Xe.prototype.acquire=function(t){if(!this.workers){var e=Wn.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new Yt)}return this.active[t]=!0,this.workers.slice()},Xe.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Qe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ne(t,e,r){r.push({command:Qe.addSource,args:[t,e[t]]})}function oe(t,e,r){e.push({command:Qe.removeSource,args:[t]}),r[t]=!0}function re(t,e,r,n){oe(t,r,n),ne(t,e,r)}function ae(e,r,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.default$10(e[n][o],r[n][o]))return!1;for(o in r[n])if(r[n].hasOwnProperty(o)&&"data"!==o&&!t.default$10(e[n][o],r[n][o]))return!1;return!0}function se(e,r,n,o,i,a){var s;for(s in r=r||{},e=e||{})e.hasOwnProperty(s)&&(t.default$10(e[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$10(e[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}))}function le(t){return t.id}function ce(t,e){return t[e.id]=e,t}var Je=function he(t,e,r){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(e/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};Je.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Je.prototype.insert=function(t,e,r,n,o){this._forEachCell(e,r,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},Je.prototype.insertCircle=function(t,e,r,n){this._forEachCell(e-n,r-n,e+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(r),this.circles.push(n)},Je.prototype._insertBoxCell=function(t,e,r,n,o,i){this.boxCells[o].push(i)},Je.prototype._insertCircleCell=function(t,e,r,n,o,i){this.circleCells[o].push(i)},Je.prototype._query=function(t,e,r,n,o){if(r<0||t>this.width||n<0||e>this.height)return!o&&[];var i=[];if(t<=0&&e<=0&&this.width<=r&&this.height<=n){if(o)return!0;for(var a=0;a<this.boxKeys.length;a++)i.push({key:this.boxKeys[a],x1:this.bboxes[4*a],y1:this.bboxes[4*a+1],x2:this.bboxes[4*a+2],y2:this.bboxes[4*a+3]});for(var s=0;s<this.circleKeys.length;s++){var u=this.circles[3*s],l=this.circles[3*s+1],c=this.circles[3*s+2];i.push({key:this.circleKeys[s],x1:u-c,y1:l-c,x2:u+c,y2:l+c})}}else{var p={hitTest:o,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,r,n,this._queryCell,i,p)}return o?i.length>0:i},Je.prototype._queryCircle=function(t,e,r,n){var o=t-r,i=t+r,a=e-r,s=e+r;if(i<0||o>this.width||s<0||a>this.height)return!n&&[];var u=[],l={hitTest:n,circle:{x:t,y:e,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(o,a,i,s,this._queryCellCircle,u,l),n?u.length>0:u},Je.prototype.query=function(t,e,r,n){return this._query(t,e,r,n,!1)},Je.prototype.hitTest=function(t,e,r,n){return this._query(t,e,r,n,!0)},Je.prototype.hitTestCircle=function(t,e,r){return this._queryCircle(t,e,r,!0)},Je.prototype._queryCell=function(t,e,r,n,o,i,a){var s=a.seenUids,u=this.boxCells[o];if(null!==u)for(var l=this.bboxes,c=0,p=u;c<p.length;c+=1){var f=p[c];if(!s.box[f]){s.box[f]=!0;var d=4*f;if(t<=l[d+2]&&e<=l[d+3]&&r>=l[d+0]&&n>=l[d+1]){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[f],x1:l[d],y1:l[d+1],x2:l[d+2],y2:l[d+3]})}}}var h=this.circleCells[o];if(null!==h)for(var m=this.circles,y=0,g=h;y<g.length;y+=1){var v=g[y];if(!s.circle[v]){s.circle[v]=!0;var _=3*v;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],t,e,r,n)){if(a.hitTest)return i.push(!0),!0;var b=m[_],S=m[_+1],x=m[_+2];i.push({key:this.circleKeys[v],x1:b-x,y1:S-x,x2:b+x,y2:S+x})}}}},Je.prototype._queryCellCircle=function(t,e,r,n,o,i,a){var s=a.circle,u=a.seenUids,l=this.boxCells[o];if(null!==l)for(var c=this.bboxes,p=0,f=l;p<f.length;p+=1){var d=f[p];if(!u.box[d]){u.box[d]=!0;var h=4*d;if(this._circleAndRectCollide(s.x,s.y,s.radius,c[h+0],c[h+1],c[h+2],c[h+3]))return i.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var y=this.circles,g=0,v=m;g<v.length;g+=1){var _=v[g];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circlesCollide(y[b],y[b+1],y[b+2],s.x,s.y,s.radius))return i.push(!0),!0}}},Je.prototype._forEachCell=function(t,e,r,n,o,i,a){for(var s=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),l=this._convertToXCellCoord(r),c=this._convertToYCellCoord(n),p=s;p<=l;p++)for(var f=u;f<=c;f++){var d=this.xCellCount*f+p;if(o.call(this,t,e,r,n,d,i,a))return}},Je.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Je.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Je.prototype._circlesCollide=function(t,e,r,n,o,i){var a=n-t,s=o-e,u=r+i;return u*u>a*a+s*s},Je.prototype._circleAndRectCollide=function(t,e,r,n,o,i,a){var s=(i-n)/2,u=Math.abs(t-(n+s));if(u>s+r)return!1;var l=(a-o)/2,c=Math.abs(e-(o+l));if(c>l+r)return!1;if(u<=s||c<=l)return!0;var p=u-s,f=c-l;return p*p+f*f<=r*r};var tr=t.default$19.layout;function de(e,r,n,o,i){var a=t.mat4.identity(new Float32Array(16));return r?(t.mat4.identity(a),t.mat4.scale(a,a,[1/i,1/i,1]),n||t.mat4.rotateZ(a,a,o.angle)):(t.mat4.scale(a,a,[o.width/2,-o.height/2,1]),t.mat4.translate(a,a,[1,-1,0]),t.mat4.multiply(a,a,e)),a}function fe(e,r,n,o,i){var a=t.mat4.identity(new Float32Array(16));return r?(t.mat4.multiply(a,a,e),t.mat4.scale(a,a,[i,i,1]),n||t.mat4.rotateZ(a,a,-o.angle)):(t.mat4.scale(a,a,[1,-1,1]),t.mat4.translate(a,a,[-1,-1,0]),t.mat4.scale(a,a,[2/o.width,2/o.height,1])),a}function me(e,r){var n=[e.x,e.y,0,1];Ie(n,n,r);var o=n[3];return{point:new t.default$1(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function _e(t,e){var r=t[0]/t[3],n=t[1]/t[3];return r>=-e[0]&&r<=e[0]&&n>=-e[1]&&n<=e[1]}function ge(e,r,n,o,i,a,s,u){var l=o?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,n.transform.zoom,tr.properties[o?"text-size":"icon-size"]),p=[256/n.width*2+1,256/n.height*2+1],f=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;f.clear();for(var d=e.lineVertexArray,h=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,y=!1,g=0;g<h.length;g++){var v=h.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!y)Te(v.numGlyphs,f);else{y=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.vec4.transformMat4(_,_,r),_e(_,p)){var b=.5+_[3]/n.transform.cameraToCenterDistance*.5,S=t.evaluateSizeForFeature(l,c,v),x=s?S*b:S/b,w=new t.default$1(v.anchorX,v.anchorY),E=me(w,i).point,P={},C=xe(v,x,!1,u,r,i,a,e.glyphOffsetArray,d,f,E,w,P,m);y=C.useVertical,(C.notEnoughRoom||y||C.needsFlipping&&xe(v,x,!0,u,r,i,a,e.glyphOffsetArray,d,f,E,w,P,m).notEnoughRoom)&&Te(v.numGlyphs,f)}else Te(v.numGlyphs,f)}}o?e.text.dynamicLayoutVertexBuffer.updateData(f):e.icon.dynamicLayoutVertexBuffer.updateData(f)}function ve(t,e,r,n,o,i,a,s,u,l,c,p){var f=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(f-1),g=we(t*m,r,n,o,i,a,s.segment,d,h,u,l,c,p);if(!g)return null;var v=we(t*y,r,n,o,i,a,s.segment,d,h,u,l,c,p);return v?{first:g,last:v}:null}function ye(e,r,n,o){return e===t.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*o?{useVertical:!0}:(e===t.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function xe(e,r,n,o,i,a,s,u,l,c,p,f,d,h){var m,y=r/24,g=e.lineOffsetX*r,v=e.lineOffsetY*r;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,S=e.lineStartIndex+e.lineLength,x=ve(y,u,g,v,n,p,f,e,l,a,d,!1);if(!x)return{notEnoughRoom:!0};var w=me(x.first.point,s).point,E=me(x.last.point,s).point;if(o&&!n){var P=ye(e.writingMode,w,E,h);if(P)return P}m=[x.first];for(var C=e.glyphStartIndex+1;C<_-1;C++)m.push(we(y*u.getoffsetX(C),g,v,n,p,f,e.segment,b,S,l,a,d,!1));m.push(x.last)}else{if(o&&!n){var T=me(f,i).point,D=e.lineStartIndex+e.segment+1,M=new t.default$1(l.getx(D),l.gety(D)),A=me(M,i),R=A.signedDistanceFromCamera>0?A.point:be(f,M,T,1,i),L=ye(e.writingMode,T,R,h);if(L)return L}var I=we(y*u.getoffsetX(e.glyphStartIndex),g,v,n,p,f,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,d,!1);if(!I)return{notEnoughRoom:!0};m=[I]}for(var O=0,k=m;O<k.length;O+=1){var F=k[O];t.addDynamicAttributes(c,F.point,F.angle)}return{}}function be(t,e,r,n,o){var i=me(t.add(t.sub(e)._unit()),o).point,a=r.sub(i);return r.add(a._mult(n/a.mag()))}function we(e,r,n,o,i,a,s,u,l,c,p,f,d){var h=o?e-r:e+r,m=h>0?1:-1,y=0;o&&(m*=-1,y=Math.PI),m<0&&(y+=Math.PI);for(var g=m>0?u+s:u+s+1,v=g,_=i,b=i,S=0,x=0,w=Math.abs(h);S+x<=w;){if((g+=m)<u||g>=l)return null;if(b=_,void 0===(_=f[g])){var E=new t.default$1(c.getx(g),c.gety(g)),P=me(E,p);if(P.signedDistanceFromCamera>0)_=f[g]=P.point;else{var C=g-m;_=be(0===S?a:new t.default$1(c.getx(C),c.gety(C)),E,b,w-S+1,p)}}S+=x,x=b.dist(_)}var T=(w-S)/x,D=_.sub(b),M=D.mult(T)._add(b);return M._add(D._unit()._perp()._mult(n*m)),{point:M,angle:y+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:d?{prevTileDistance:g-m===v?0:c.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:w-S}:null}}var er=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Te(t,e){for(var r=0;r<t;r++){var n=e.length;e.resize(n+4),e.float32.set(er,3*n)}}function Ie(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t[3]=r[3]*n+r[7]*o+r[15],t}t.default$20.mat4;var rr=function Ce(t,e,r){void 0===e&&(e=new Je(t.width+200,t.height+200,25)),void 0===r&&(r=new Je(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=r,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};function Se(t,e,r){t[e+4]=r?1:0}function ze(e,r,n){return r*(t.default$8/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}rr.prototype.placeCollisionBox=function(t,e,r,n){var o=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),i=r*o.perspectiveRatio,a=t.x1*i+o.point.x,s=t.y1*i+o.point.y,u=t.x2*i+o.point.x,l=t.y2*i+o.point.y;return!e&&this.grid.hitTest(a,s,u,l)?{box:[],offscreen:!1}:{box:[a,s,u,l],offscreen:this.isOffscreen(a,s,u,l)}},rr.prototype.approximateTileDistance=function(t,e,r,n,o){var i=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*r;return t.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(e))},rr.prototype.placeCollisionCircles=function(e,r,n,o,i,a,s,u,l,c,p,f,d){var h=[],m=this.projectAnchor(c,a.anchorX,a.anchorY),y=l/24,g=a.lineOffsetX*l,v=a.lineOffsetY*l,_=new t.default$1(a.anchorX,a.anchorY),b=ve(y,u,g,v,!1,me(_,p).point,_,a,s,p,{},!0),S=!1,x=!0,w=m.perspectiveRatio*o,E=1/(o*n),P=0,C=0;b&&(P=this.approximateTileDistance(b.first.tileDistance,b.first.angle,E,m.cameraDistance,d),C=this.approximateTileDistance(b.last.tileDistance,b.last.angle,E,m.cameraDistance,d));for(var T=0;T<e.length;T+=5){var D=e[T],M=e[T+1],A=e[T+2],R=e[T+3];if(!b||R<-P||R>C)Se(e,T,!1);else{var L=this.projectPoint(c,D,M),I=A*w;if(h.length>0){var O=L.x-h[h.length-4],k=L.y-h[h.length-3];if(I*I*2>O*O+k*k&&T+8<e.length){var F=e[T+8];if(F>-P&&F<C){Se(e,T,!1);continue}}}var N=T/5;if(h.push(L.x,L.y,I,N),Se(e,T,!0),x=x&&this.isOffscreen(L.x-I,L.y-I,L.x+I,L.y+I),!r&&this.grid.hitTestCircle(L.x,L.y,I)){if(!f)return{circles:[],offscreen:!1};S=!0}}}return{circles:S?[]:h,offscreen:x}},rr.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,o=1/0,i=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.default$1(l.x+100,l.y+100);n=Math.min(n,c.x),o=Math.min(o,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y),r.push(c)}for(var p={},f={},d=0,h=this.grid.query(n,o,i,a).concat(this.ignoredGrid.query(n,o,i,a));d<h.length;d+=1){var m=h[d],y=m.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var g=[new t.default$1(m.x1,m.y1),new t.default$1(m.x2,m.y1),new t.default$1(m.x2,m.y2),new t.default$1(m.x1,m.y2)];t.polygonIntersectsPolygon(r,g)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===f[y.bucketInstanceId]&&(f[y.bucketInstanceId]=[]),f[y.bucketInstanceId].push(y.featureIndex))}}return f},rr.prototype.insertCollisionBox=function(t,e,r,n){var o={bucketInstanceId:r,featureIndex:n};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},rr.prototype.insertCollisionCircles=function(t,e,r,n){for(var o=e?this.ignoredGrid:this.grid,i={bucketInstanceId:r,featureIndex:n},a=0;a<t.length;a+=4)o.insertCircle(i,t[a],t[a+1],t[a+2])},rr.prototype.projectAnchor=function(t,e,r){var n=[e,r,0,1];return Ie(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},rr.prototype.projectPoint=function(e,r,n){var o=[r,n,0,1];return Ie(o,o,e),new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},rr.prototype.projectAndGetPerspectiveRatio=function(e,r,n){var o=[r,n,0,1];return Ie(o,o,e),{point:new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},rr.prototype.isOffscreen=function(t,e,r,n){return r<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary};var nr=t.default$19.layout,or=function Re(t,e,r,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&r?1:0,this.placed=r};or.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ir=function De(t,e,r,n,o){this.text=new or(t?t.text:null,e,r,o),this.icon=new or(t?t.icon:null,e,n,o)};ir.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ar=function Me(t,e,r){this.text=t,this.icon=e,this.skipFade=r},sr=function Le(t,e){this.transform=t.clone(),this.collisionIndex=new rr(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={}};function Pe(t,e,r){t.emplaceBack(e?1:0,r?1:0),t.emplaceBack(e?1:0,r?1:0),t.emplaceBack(e?1:0,r?1:0),t.emplaceBack(e?1:0,r?1:0)}sr.prototype.placeLayerTile=function(e,r,n,o){var i=r.getBucket(e),a=r.latestFeatureIndex;if(i&&a&&e.id===i.layerIds[0]){var s=r.collisionBoxArray,u=i.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.default$8,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f=de(p,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ze(r,1,this.transform.zoom)),d=de(p,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ze(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new function(t,e,r,n,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=o}(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,p,f,d,l,c,n,o,s)}},sr.prototype.placeLayerBucket=function(e,r,n,o,i,a,s,u,l){for(var c=e.layers[0].layout,p=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,nr.properties["text-size"]),f=!e.hasTextData()||c.get("text-optional"),d=!e.hasIconData()||c.get("icon-optional"),h=0,m=e.symbolInstances;h<m.length;h+=1){var y=m[h];if(!u[y.crossTileID]){var g=void 0!==y.feature.text,v=void 0!==y.feature.icon,_=!0,b=null,S=null,x=null,w=0,E=0;y.collisionArrays||(y.collisionArrays=e.deserializeCollisionBoxes(l,y.textBoxStartIndex,y.textBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex)),y.collisionArrays.textFeatureIndex&&(w=y.collisionArrays.textFeatureIndex),y.collisionArrays.textBox&&(g=(b=this.collisionIndex.placeCollisionBox(y.collisionArrays.textBox,c.get("text-allow-overlap"),a,r)).box.length>0,_=_&&b.offscreen);var P=y.collisionArrays.textCircles;if(P){var C=e.text.placedSymbolArray.get(y.placedTextSymbolIndices[0]),T=t.evaluateSizeForFeature(e.textSizeData,p,C);S=this.collisionIndex.placeCollisionCircles(P,c.get("text-allow-overlap"),i,a,y.key,C,e.lineVertexArray,e.glyphOffsetArray,T,r,n,s,"map"===c.get("text-pitch-alignment")),g=c.get("text-allow-overlap")||S.circles.length>0,_=_&&S.offscreen}y.collisionArrays.iconFeatureIndex&&(E=y.collisionArrays.iconFeatureIndex),y.collisionArrays.iconBox&&(v=(x=this.collisionIndex.placeCollisionBox(y.collisionArrays.iconBox,c.get("icon-allow-overlap"),a,r)).box.length>0,_=_&&x.offscreen),f||d?d?f||(v=v&&g):g=v&&g:v=g=v&&g,g&&b&&this.collisionIndex.insertCollisionBox(b.box,c.get("text-ignore-placement"),e.bucketInstanceId,w),v&&x&&this.collisionIndex.insertCollisionBox(x.box,c.get("icon-ignore-placement"),e.bucketInstanceId,E),g&&S&&this.collisionIndex.insertCollisionCircles(S.circles,c.get("text-ignore-placement"),e.bucketInstanceId,w),this.placements[y.crossTileID]=new ar(g,v,_||e.justReloaded),u[y.crossTileID]=!0}}e.justReloaded=!1},sr.prototype.commit=function(t,e){this.commitTime=e;var r=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var i in this.placements){var a=this.placements[i],s=o[i];s?(this.opacities[i]=new ir(s,n,a.text,a.icon),r=r||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[i]=new ir(null,n,a.text,a.icon,a.skipFade),r=r||a.text||a.icon)}for(var u in o){var l=o[u];if(!this.opacities[u]){var c=new ir(l,n,!1,!1);c.isHidden()||(this.opacities[u]=c,r=r||l.text.placed||l.icon.placed)}}r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},sr.prototype.updateLayerOpacities=function(t,e){for(var r={},n=0,o=e;n<o.length;n+=1){var i=o[n],a=i.getBucket(t);a&&i.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,i.collisionBoxArray)}},sr.prototype.updateBucketOpacities=function(t,e,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var n=t.layers[0].layout,o=new ir(null,0,!1,!1,!0),i=new ir(null,0,n.get("text-allow-overlap"),n.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],u=e[s.crossTileID],l=this.opacities[s.crossTileID];u?l=o:l||(l=i,this.opacities[s.crossTileID]=l),e[s.crossTileID]=!0;var c=s.numGlyphVertices>0||s.numVerticalGlyphVertices>0,p=s.numIconVertices>0;if(c){for(var f=Ve(l.text),d=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,h=0;h<d;h++)t.text.opacityVertexArray.emplaceBack(f);for(var m=0,y=s.placedTextSymbolIndices;m<y.length;m+=1){var g=y[m];t.text.placedSymbolArray.get(g).hidden=l.text.isHidden()}}if(p){for(var v=Ve(l.icon),_=0;_<s.numIconVertices/4;_++)t.icon.opacityVertexArray.emplaceBack(v);t.icon.placedSymbolArray.get(a).hidden=l.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(r,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var b=s.collisionArrays;if(b){b.textBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,l.text.placed,!1),b.iconBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,l.icon.placed,!1);var S=b.textCircles;if(S&&t.hasCollisionCircleData())for(var x=0;x<S.length;x+=5){var w=u||0===S[x+4];Pe(t.collisionCircle.collisionVertexArray,l.text.placed,w)}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},sr.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},sr.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},sr.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},sr.prototype.setStale=function(){this.stale=!0};var ur=Math.pow(2,25),lr=Math.pow(2,24),cr=Math.pow(2,17),pr=Math.pow(2,16),fr=Math.pow(2,9),dr=Math.pow(2,8),hr=Math.pow(2,1);function Ve(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,r=Math.floor(127*t.opacity);return r*ur+e*lr+r*cr+e*pr+r*fr+e*dr+r*hr+e}var mr=function je(){this._currentTileIndex=0,this._seenCrossTileIDs={}};mr.prototype.continuePlacement=function(t,e,r,n,o){for(;this._currentTileIndex<t.length;){var i=t[this._currentTileIndex];if(e.placeLayerTile(n,i,r,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var yr=function $e(t,e,r,n,o){this.placement=new sr(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};yr.prototype.isDone=function(){return this._done},yr.prototype.continuePlacement=function(t,e,r){for(var n=this,o=f.now(),i=function a(){var t=f.now()-o;return!n._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=e[t[n._currentPlacementIndex]],u=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(n._inProgressLayer||(n._inProgressLayer=new mr),n._inProgressLayer.continuePlacement(r[s.source],n.placement,n._showCollisionBoxes,s,i))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},yr.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var gr=512/t.default$8/2,vr=function We(t,e,r){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0,o=e;n<o.length;n+=1){var i=o[n],a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};vr.prototype.getScaledCoordinates=function(e,r){var n=r.canonical.z-this.tileID.canonical.z,o=gr/Math.pow(2,n),i=e.anchor;return{x:Math.floor((r.canonical.x*t.default$8+i.x)*o),y:Math.floor((r.canonical.y*t.default$8+i.y)*o)}},vr.prototype.findMatches=function(t,e,r){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,i=t;o<i.length;o+=1){var a=i[o];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var u=this.getScaledCoordinates(a,e),l=0,c=s;l<c.length;l+=1){var p=c[l];if(Math.abs(p.coord.x-u.x)<=n&&Math.abs(p.coord.y-u.y)<=n&&!r[p.crossTileID]){r[p.crossTileID]=!0,a.crossTileID=p.crossTileID;break}}}}};var _r=function qe(){this.maxCrossTileID=0};_r.prototype.generate=function(){return++this.maxCrossTileID};var br=function Xe(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};br.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var r in this.indexes){var n=this.indexes[r],o={};for(var i in n){var a=n[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),o[a.tileID.key]=a}this.indexes[r]=o}this.lng=t},br.prototype.addBucket=function(t,e,r){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0,o=e.symbolInstances;n<o.length;n+=1)o[n].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var u in s){var l=s[u];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var c=s[t.scaledTo(Number(a)).key];c&&c.findMatches(e.symbolInstances,t,i)}}for(var p=0,f=e.symbolInstances;p<f.length;p+=1){var d=f[p];d.crossTileID||(d.crossTileID=r.generate(),i[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new vr(t,e.symbolInstances,e.bucketInstanceId),!0},br.prototype.removeBucketCrossTileIDs=function(t,e){for(var r in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[r];n<o.length;n+=1){var i=o[n];delete this.usedCrossTileIDs[t][i.crossTileID]}},br.prototype.removeStaleBuckets=function(t){var e=!1;for(var r in this.indexes){var n=this.indexes[r];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[o]),delete n[o],e=!0)}return e};var Sr=function He(){this.layerIndexes={},this.crossTileIDs=new _r,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Sr.prototype.addLayer=function(t,e,r){var n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new br);var o=!1,i={};n.handleWrapJump(r);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(u.tileID,l,this.crossTileIDs)&&(o=!0),i[l.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(o=!0),o},Sr.prototype.pruneUnusedLayers=function(t){var e={};for(var r in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[r]||delete this.layerIndexes[r]};var xr=function Ke(e,r){return t.emitValidationErrors(e,r&&r.filter((function(t){return"source.canvas"!==t.identifier})))},wr=t.pick(Qe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Er=t.pick(Qe,["setCenter","setZoom","setBearing","setPitch"]),Pr=function(e){function i(r,n){var o=this;void 0===n&&(n={}),e.call(this),this.map=r,this.dispatcher=new ut((Ze||(Ze=new Xe),Ze),this),this.imageManager=new Q,this.glyphManager=new tt(r._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new it(256,512),this.crossTileSymbolIndex=new Sr,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$23,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var r=e.getSource();if(r&&r.vectorLayerIds)for(var n in o._layers){var i=o._layers[n];i.source===r.id&&o._validateLayer(i)}}}}))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,r){var n=this;void 0===r&&(r={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof r.validate?r.validate:!y(e);e=function(t,e){if(!y(t))return t;var r=C(t);return r.path="/styles/v1"+r.path,v(r,e)}(e,r.accessToken);var i=this.map._transformRequest(e,t.ResourceType.Style);t.getJSON(i,(function(e,r){e?n.fire(new t.ErrorEvent(e)):r&&n._load(r,o)}))},i.prototype.loadJSON=function(e,r){var n=this;void 0===r&&(r={}),this.fire(new t.Event("dataloading",{dataType:"style"})),f.frame((function(){n._load(e,!1!==r.validate)}))},i.prototype._load=function(e,r){var n=this;if(!r||!xr(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?function(e,r,n){var o,i,a,s=f.devicePixelRatio>1?"@2x":"";function c(){if(a)n(a);else if(o&&i){var e=f.getImageData(i),r={};for(var s in o){var u=o[s],l=u.width,c=u.height,p=u.x,d=u.y,h=u.sdf,m=u.pixelRatio,y=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,y,{x:p,y:d},{x:0,y:0},{width:l,height:c}),r[s]={data:y,pixelRatio:m,sdf:h}}n(null,r)}}t.getJSON(r(z(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){a||(a=t,o=e,c())})),t.getImage(r(z(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){a||(a=t,i=e,c())}))}(e.sprite,this.map._transformRequest,(function(e,r){if(e)n.fire(new t.ErrorEvent(e));else if(r)for(var o in r)n.imageManager.addImage(o,r[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=ee(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={};for(var a=0,s=i;a<s.length;a+=1){var u=s[a];(u=t.default$22(u)).setEventedParent(n,{layer:{id:u.id}}),n._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ot(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var r=this.sourceCaches[e.source];if(r){var n=e.sourceLayer;if(n){var o=r.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map((function(t){return e._layers[t].serialize()}))},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var r=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(r.length||n.length)&&this._updateWorkerLayers(r,n),this._updatedSources){var i=this._updatedSources[o];"reload"===i?this._reloadSource(o):"clear"===i&&this._clearSource(o)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var u=0,l=this._order;u<l.length;u+=1){var c=l[u],p=this._layers[c];p.recalculate(e),!p.isHidden(e.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var r=this;if(this._checkLoaded(),xr(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=ee(e.layers);var n=function ue(e,r){if(!e)return[{command:Qe.setStyle,args:[r]}];var n=[];try{if(!t.default$10(e.version,r.version))return[{command:Qe.setStyle,args:[r]}];t.default$10(e.center,r.center)||n.push({command:Qe.setCenter,args:[r.center]}),t.default$10(e.zoom,r.zoom)||n.push({command:Qe.setZoom,args:[r.zoom]}),t.default$10(e.bearing,r.bearing)||n.push({command:Qe.setBearing,args:[r.bearing]}),t.default$10(e.pitch,r.pitch)||n.push({command:Qe.setPitch,args:[r.pitch]}),t.default$10(e.sprite,r.sprite)||n.push({command:Qe.setSprite,args:[r.sprite]}),t.default$10(e.glyphs,r.glyphs)||n.push({command:Qe.setGlyphs,args:[r.glyphs]}),t.default$10(e.transition,r.transition)||n.push({command:Qe.setTransition,args:[r.transition]}),t.default$10(e.light,r.light)||n.push({command:Qe.setLight,args:[r.light]});var o={},i=[];!function(e,r,n,o){var i;for(i in r=r||{},e=e||{})e.hasOwnProperty(i)&&(r.hasOwnProperty(i)||oe(i,n,o));for(i in r)r.hasOwnProperty(i)&&(e.hasOwnProperty(i)?t.default$10(e[i],r[i])||("geojson"===e[i].type&&"geojson"===r[i].type&&ae(e,r,i)?n.push({command:Qe.setGeoJSONSourceData,args:[i,r[i].data]}):re(i,r,n,o)):ne(i,r,n))}(e.sources,r.sources,i,o);var a=[];e.layers&&e.layers.forEach((function(t){o[t.source]?n.push({command:Qe.removeLayer,args:[t.id]}):a.push(t)})),n=n.concat(i),function(e,r,n){r=r||[];var o,i,a,s,u,l,c,p=(e=e||[]).map(le),f=r.map(le),d=e.reduce(ce,{}),h=r.reduce(ce,{}),m=p.slice(),y=Object.create(null);for(o=0,i=0;o<p.length;o++)a=p[o],h.hasOwnProperty(a)?i++:(n.push({command:Qe.removeLayer,args:[a]}),m.splice(m.indexOf(a,i),1));for(o=0,i=0;o<f.length;o++)a=f[f.length-1-o],m[m.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:Qe.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-i),1)):i++,l=m[m.length-o],n.push({command:Qe.addLayer,args:[h[a],l]}),m.splice(m.length-o,0,a),y[a]=!0);for(o=0;o<f.length;o++)if(s=d[a=f[o]],u=h[a],!y[a]&&!t.default$10(s,u))if(t.default$10(s.source,u.source)&&t.default$10(s["source-layer"],u["source-layer"])&&t.default$10(s.type,u.type)){for(c in se(s.layout,u.layout,n,a,null,Qe.setLayoutProperty),se(s.paint,u.paint,n,a,null,Qe.setPaintProperty),t.default$10(s.filter,u.filter)||n.push({command:Qe.setFilter,args:[a,u.filter]}),t.default$10(s.minzoom,u.minzoom)&&t.default$10(s.maxzoom,u.maxzoom)||n.push({command:Qe.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?se(s[c],u[c],n,a,c.slice(6),Qe.setPaintProperty):t.default$10(s[c],u[c])||n.push({command:Qe.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?se(s[c],u[c],n,a,c.slice(6),Qe.setPaintProperty):t.default$10(s[c],u[c])||n.push({command:Qe.setLayerProperty,args:[a,c,u[c]]}))}else n.push({command:Qe.removeLayer,args:[a]}),l=m[m.lastIndexOf(a)+1],n.push({command:Qe.addLayer,args:[u,l]})}(a,r.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Qe.setStyle,args:[r]}]}return n}(this.serialize(),e).filter((function(t){return!(t.command in Er)}));if(0===n.length)return!1;var o=n.filter((function(t){return!(t.command in wr)}));if(o.length>0)throw new Error("Unimplemented: "+o.map((function(t){return t.command})).join(", ")+".");return n.forEach((function(t){"setTransition"!==t.command&&r[t.command].apply(r,t.args)})),this.stylesheet=e,!0},i.prototype.addImage=function(e,r){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,r),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.addSource=function(e,r,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,r,null,n)){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[e]=new Ye(e,r,this.dispatcher);i.style=this,i.setEventedParent(this,(function(){return{isSourceLoaded:o.loaded(),source:i.serialize(),sourceId:e}})),i.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,r,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var i=t.default$22(e);this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}});var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}}},i.prototype.moveLayer=function(e,r){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==r){var n=this._order.indexOf(e);this._order.splice(n,1);var o=r?this._order.indexOf(r):this._order.length;r&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var r=this._layers[e];if(r){r.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=r,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,r,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===r&&o.maxzoom===n||(null!=r&&(o.minzoom=r),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,r){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.default$10(n.filter,r))return null==r?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",r)||(n.filter=t.clone(r),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,r,n){this._checkLoaded();var o=this.getLayer(e);o?t.default$10(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,r,n){this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.default$10(o.getPaintProperty(r),n)){var i=o._transitionablePaint._values[r].value.isDataDriven();o.setPaintProperty(r,n),(o._transitionablePaint._values[r].value.isDataDriven()||i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._order.map((function(t){return e._layers[t].serialize()}))},(function(t){return void 0!==t}))},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],r=this._order.length-1;r>=0;r--)for(var n=this._order[r],o=0,i=t;o<i.length;o+=1){var a=i[o][n];if(a)for(var s=0,u=a;s<u.length;s+=1){var l=u[s];e.push(l)}}return e},i.prototype.queryRenderedFeatures=function(e,r,n){r&&r.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",r.filter);var o={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,a=r.layers;i<a.length;i+=1){var s=a[i],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[u.source]=!0}}var l=[];for(var c in this.sourceCaches)r.layers&&!o[c]||l.push(at(this.sourceCaches[c],this._layers,e.worldCoordinate,r,n));return this.placement&&l.push(function(t,e,r,n,o){for(var i={},a=n.queryRenderedSymbols(e),s=[],u=0,l=Object.keys(a).map(Number);u<l.length;u+=1){var c=l[u];s.push(o[c])}s.sort(st);for(var p=function h(){var e=d[f],n=e.featureIndex.lookupSymbolFeatures(a[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var o in n){var s=i[o]=i[o]||[],u=n[o];u.sort((function(t,r){var n=e.featureSortOrder;if(n){var o=n.indexOf(t.featureIndex);return n.indexOf(r.featureIndex)-o}return r.featureIndex-t.featureIndex}));for(var l=0,c=u;l<c.length;l+=1){var h=c[l];s.push(h.feature)}}},f=0,d=s;f<d.length;f+=1)p();return i}(this._layers,e.viewport,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(l)},i.prototype.querySourceFeatures=function(e,r){r&&r.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",r.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var r=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),n=[],o={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,r):[]},i.prototype.addSourceType=function(t,e,r){return i.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var r=this.light.getLight(),n=!1;for(var o in e)if(!t.default$10(e[o],r[o])){n=!0;break}if(n){var i={now:f.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(i)}},i.prototype._validate=function(e,r,n,o,i){return(!i||!1!==i.validate)&&xr(this,e.call(t.validateStyle,t.extend({key:r,style:this.serialize(),value:n,styleSpec:t.default$5},o)))},i.prototype._remove=function(){for(var e in t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,r){for(var n=!1,o=!1,i={},a=0,s=this._order;a<s.length;a+=1){var u=s[a],l=this._layers[u];if("symbol"===l.type){if(!i[l.source]){var c=this.sourceCaches[l.source];i[l.source]=c.getRenderableIds().map((function(t){return c.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var p=this.crossTileSymbolIndex.addLayer(l,i[l.source],t.center.lng);n=n||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.now()))&&(this.pauseablePlacement=new yr(t,this._order,d,e,r),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,i),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,f.now()),o=!0),n&&this.pauseablePlacement.placement.setStale()),o||n)for(var h=0,m=this._order;h<m.length;h+=1){var y=m[h],g=this._layers[y];"symbol"===g.type&&this.placement.updateLayerOpacities(g,i[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.now())},i.prototype.getImages=function(t,e,r){this.imageManager.getImages(e.icons,r)},i.prototype.getGlyphs=function(t,e,r){this.glyphManager.getGlyphs(e.stacks,r)},i}(t.Evented);Pr.getSourceType=function(t){return Et[t]},Pr.setSourceType=function(t,e){Et[t]=e},Pr.registerForPluginAvailability=t.registerForPluginAvailability;var Cr=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Tr={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},Dr=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Mr=function ni(t){var e=Tr[t],r={};e.fragmentSource=e.fragmentSource.replace(Dr,(function(t,e,n,o,i){return r[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+o+" "+i+";\n#else\nuniform "+n+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+o+" "+i+" = u_"+i+";\n#endif\n"})),e.vertexSource=e.vertexSource.replace(Dr,(function(t,e,n,o,i){var a="float"===o?"vec2":"vec4";return r[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+a+" a_"+i+";\nvarying "+n+" "+o+" "+i+";\n#else\nuniform "+n+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+a+" a_"+i+";\n#else\nuniform "+n+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+o+" "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+o+" "+i+" = u_"+i+";\n#endif\n"}))};for(var Ar in Tr)Mr(Ar);var Rr=Tr,Lr=function ai(t,e,r,n){var o=t.gl;this.program=o.createProgram();var i=r.defines().concat("#define DEVICE_PIXEL_RATIO "+f.devicePixelRatio.toFixed(1));n&&i.push("#define OVERDRAW_INSPECTOR;");var a=i.concat(Rr.prelude.fragmentSource,e.fragmentSource).join("\n"),s=i.concat(Rr.prelude.vertexSource,e.vertexSource).join("\n"),u=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(u,a),o.compileShader(u),o.attachShader(this.program,u);var l=o.createShader(o.VERTEX_SHADER);o.shaderSource(l,s),o.compileShader(l),o.attachShader(this.program,l);for(var c=r.layoutAttributes||[],p=0;p<c.length;p++)o.bindAttribLocation(this.program,p,c[p].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var h=o.getActiveAttrib(this.program,d);h&&(this.attributes[h.name]=o.getAttribLocation(this.program,h.name))}for(var m=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),y=0;y<m;y++){var g=o.getActiveUniform(this.program,y);g&&(this.uniforms[g.name]=o.getUniformLocation(this.program,g.name))}};function si(e,r,n,o,i){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var u=r.children(1/0),l=0;l<u.length;l++)si(e,u[l],n.slice(a),o,i);return}}var c=r.overscaledZ-e.overscaledZ,p=new t.CanonicalTileID(c,r.canonical.x-(e.canonical.x<<c),r.canonical.y-(e.canonical.y<<c));i[p.key]=i[p.key]||p}function li(t,e,r,n,o){var i=t.context,a=i.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox");i.setDepthMode(je.disabled),i.setStencilMode(Ge.disabled),i.setColorMode(t.colorModeForRenderPass());for(var u=0;u<n.length;u++){var l=n[u],c=e.getTile(l),p=c.getBucket(r);if(p){var f=o?p.collisionCircle:p.collisionBox;if(f){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,l.posMatrix),o||i.lineWidth.set(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var d=ze(c,1,t.transform.zoom),h=Math.pow(2,t.transform.zoom-c.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,d),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(d*h),t.transform.pixelsToGLUnits[1]/(d*h)),a.uniform1f(s.uniforms.u_overscale_factor,c.tileID.overscaleFactor()),s.draw(i,o?a.TRIANGLES:a.LINES,r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,null,f.collisionVertexBuffer,null)}}}}Lr.prototype.draw=function(t,e,r,n,o,i,a,s,u){for(var l,c=t.gl,p=(l={},l[c.LINES]=2,l[c.TRIANGLES]=3,l)[e],f=0,d=i.get();f<d.length;f+=1){var h=d[f],m=h.vaos||(h.vaos={});(m[r]||(m[r]=new _t)).bind(t,this,n,a?a.getPaintVertexBuffers():[],o,h.vertexOffset,s,u),c.drawElements(e,h.primitiveLength*p,c.UNSIGNED_SHORT,h.primitiveOffset*p*2)}};var Ir=t.mat4.identity(new Float32Array(16)),Or=t.default$19.layout;function hi(t,e,r,n,o,i,a,s,u,l){var c,p=t.context,f=p.gl,d=t.transform,h="map"===s,m="map"===u,y=h&&"line"===r.layout.get("symbol-placement"),g=h&&!m&&!y,v=m;p.setDepthMode(v?t.depthModeForSublayer(0,je.ReadOnly):je.disabled);for(var _=0,b=n;_<b.length;_+=1){var S=b[_],x=e.getTile(S),w=x.getBucket(r);if(w){var E=o?w.text:w.icon;if(E&&E.segments.get().length){var P=E.programConfigurations.get(r.id),C=o||w.sdfIcons,T=o?w.textSizeData:w.iconSizeData;if(c||(c=t.useProgram(C?"symbolSDF":"symbolIcon",P),P.setUniforms(t.context,c,r.paint,{zoom:t.transform.zoom}),pi(c,t,0,o,g,m,T)),p.activeTexture.set(f.TEXTURE0),f.uniform1i(c.uniforms.u_texture,0),o)x.glyphAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.uniform2fv(c.uniforms.u_texsize,x.glyphAtlasTexture.size);else{var D=1!==r.layout.get("icon-size").constantOr(0)||w.iconsNeedLinear,M=m||0!==d.pitch;x.iconAtlasTexture.bind(C||t.options.rotating||t.options.zooming||D||M?f.LINEAR:f.NEAREST,f.CLAMP_TO_EDGE),f.uniform2fv(c.uniforms.u_texsize,x.iconAtlasTexture.size)}f.uniformMatrix4fv(c.uniforms.u_matrix,!1,t.translatePosMatrix(S.posMatrix,x,i,a));var A=ze(x,1,t.transform.zoom),R=de(S.posMatrix,m,h,t.transform,A),L=fe(S.posMatrix,m,h,t.transform,A);f.uniformMatrix4fv(c.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(L,x,i,a,!0)),y?(f.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,Ir),ge(w,S.posMatrix,t,o,R,L,m,l)):f.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,R),f.uniform1f(c.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),di(c,0,t,r,0,E,o,C,m)}}}}function pi(e,r,n,o,i,a,s){var u=r.context.gl,l=r.transform;u.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),u.uniform1f(e.uniforms.u_is_text,o?1:0),u.uniform1f(e.uniforms.u_pitch,l.pitch/360*2*Math.PI);var c="constant"===s.functionType||"source"===s.functionType,p="constant"===s.functionType||"camera"===s.functionType;u.uniform1i(e.uniforms.u_is_size_zoom_constant,c?1:0),u.uniform1i(e.uniforms.u_is_size_feature_constant,p?1:0),u.uniform1f(e.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var f=t.evaluateSizeForZoom(s,l.zoom,Or.properties[o?"text-size":"icon-size"]);void 0!==f.uSizeT&&u.uniform1f(e.uniforms.u_size_t,f.uSizeT),void 0!==f.uSize&&u.uniform1f(e.uniforms.u_size,f.uSize),u.uniform1f(e.uniforms.u_aspect_ratio,l.width/l.height),u.uniform1i(e.uniforms.u_rotate_symbol,i?1:0)}function di(t,e,r,n,o,i,a,s,u){var l=r.context,c=l.gl,p=r.transform;if(s){var f=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=u?Math.cos(p._pitch)*p.cameraToCenterDistance:1;c.uniform1f(t.uniforms.u_gamma_scale,d),f&&(c.uniform1f(t.uniforms.u_is_halo,1),fi(i,n,l,t)),c.uniform1f(t.uniforms.u_is_halo,0)}fi(i,n,l,t)}function fi(t,e,r,n){n.draw(r,r.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function mi(t,e,r,n,o,i,a,s,u){var l,c,p,d,h=e.context,m=h.gl,y=o.paint.get("line-dasharray"),g=o.paint.get("line-pattern");if(s||u){var v=1/ze(r,1,e.transform.tileZoom);if(y){l=e.lineAtlas.getDash(y.from,"round"===o.layout.get("line-cap")),c=e.lineAtlas.getDash(y.to,"round"===o.layout.get("line-cap"));var _=l.width*y.fromScale,b=c.width*y.toScale;m.uniform2f(t.uniforms.u_patternscale_a,v/_,-l.height/2),m.uniform2f(t.uniforms.u_patternscale_b,v/b,-c.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*f.devicePixelRatio)/2)}else if(g){if(p=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!p||!d)return;m.uniform2f(t.uniforms.u_pattern_size_a,p.displaySize[0]*g.fromScale/v,p.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/v,d.displaySize[1]);var S=e.imageManager.getPixelSize(),x=S.width,w=S.height;m.uniform2fv(t.uniforms.u_texsize,[x,w])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}s&&(y?(m.uniform1i(t.uniforms.u_image,0),h.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(h),m.uniform1f(t.uniforms.u_tex_y_a,l.y),m.uniform1f(t.uniforms.u_tex_y_b,c.y),m.uniform1f(t.uniforms.u_mix,y.t)):g&&(m.uniform1i(t.uniforms.u_image,0),h.activeTexture.set(m.TEXTURE0),e.imageManager.bind(h),m.uniform2fv(t.uniforms.u_pattern_tl_a,p.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,p.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,d.br),m.uniform1f(t.uniforms.u_fade,g.t))),h.setStencilMode(e.stencilModeForClipping(i));var E=e.translatePosMatrix(i.posMatrix,r,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"));if(m.uniformMatrix4fv(t.uniforms.u_matrix,!1,E),m.uniform1f(t.uniforms.u_ratio,1/ze(r,1,e.transform.zoom)),o.paint.get("line-gradient")){h.activeTexture.set(m.TEXTURE0);var P=o.gradientTexture;if(!o.gradient)return;P||(P=o.gradientTexture=new Z(h,o.gradient,m.RGBA)),P.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.uniform1i(t.uniforms.u_image,0)}t.draw(h,m.TRIANGLES,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,a)}var kr=function _i(t,e){if(!t)return!1;var r=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!r||!n},Fr=function gi(t,e,r){var n=e.context,o=n.gl,i=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);o.uniform1i(r.uniforms.u_image,0),o.uniform2fv(r.uniforms.u_pattern_tl_a,i.tl),o.uniform2fv(r.uniforms.u_pattern_br_a,i.br),o.uniform2fv(r.uniforms.u_pattern_tl_b,a.tl),o.uniform2fv(r.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),u=s.width,l=s.height;o.uniform2fv(r.uniforms.u_texsize,[u,l]),o.uniform1f(r.uniforms.u_mix,t.t),o.uniform2fv(r.uniforms.u_pattern_size_a,i.displaySize),o.uniform2fv(r.uniforms.u_pattern_size_b,a.displaySize),o.uniform1f(r.uniforms.u_scale_a,t.fromScale),o.uniform1f(r.uniforms.u_scale_b,t.toScale),n.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context)},Nr=function vi(t,e,r){var n=e.context.gl;n.uniform1f(r.uniforms.u_tile_units_to_pixels,1/ze(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),i=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=i*(t.tileID.canonical.x+t.tileID.wrap*o),s=i*t.tileID.canonical.y;n.uniform2f(r.uniforms.u_pixel_coord_upper,a>>16,s>>16),n.uniform2f(r.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function yi(t,e,r,n,o){if(!kr(r.paint.get("fill-pattern"),t))for(var i=!0,a=0,s=n;a<s.length;a+=1){var u=s[a],l=e.getTile(u),c=l.getBucket(r);c&&(t.context.setStencilMode(t.stencilModeForClipping(u)),o(t,e,r,l,u,c,i),i=!1)}}function xi(t,e,r,n,o,i,a){var s=t.context.gl,u=i.programConfigurations.get(r.id);wi("fill",r.paint.get("fill-pattern"),t,u,r,n,o,a).draw(t.context,s.TRIANGLES,r.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,u)}function bi(t,e,r,n,o,i,a){var s=t.context.gl,u=i.programConfigurations.get(r.id),l=wi("fillOutline",r.getPaintProperty("fill-outline-color")?null:r.paint.get("fill-pattern"),t,u,r,n,o,a);s.uniform2f(l.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),l.draw(t.context,s.LINES,r.id,i.layoutVertexBuffer,i.indexBuffer2,i.segments2,u)}function wi(t,e,r,n,o,i,a,s){var u,l=r.context.program.get();return e?(u=r.useProgram(t+"Pattern",n),(s||u.program!==l)&&(n.setUniforms(r.context,u,o.paint,{zoom:r.transform.zoom}),Fr(e,r,u)),Nr(i,r,u)):(u=r.useProgram(t,n),(s||u.program!==l)&&n.setUniforms(r.context,u,o.paint,{zoom:r.transform.zoom})),r.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,r.translatePosMatrix(a.posMatrix,i,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"))),u}var Br=t.default$20.mat3,Ur=t.default$20.mat4,zr=t.default$20.vec3;function Ci(t,e,r,n,o,i,a){var s=t.context,u=s.gl,l=r.paint.get("fill-extrusion-pattern"),c=t.context.program.get(),p=i.programConfigurations.get(r.id),f=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",p);if((a||f.program!==c)&&p.setUniforms(s,f,r.paint,{zoom:t.transform.zoom}),l){if(kr(l,t))return;Fr(l,t,f),Nr(n,t,f),u.uniform1f(f.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.translatePosMatrix(o.posMatrix,n,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var r=e.context.gl,n=e.style.light,o=n.properties.get("position"),i=[o.x,o.y,o.z],a=Br.create();"viewport"===n.properties.get("anchor")&&Br.fromRotation(a,-e.transform.angle),zr.transformMat3(i,i,a);var s=n.properties.get("color");r.uniform3fv(t.uniforms.u_lightpos,i),r.uniform1f(t.uniforms.u_lightintensity,n.properties.get("intensity")),r.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(f,t),f.draw(s,u.TRIANGLES,r.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,p)}function Si(e,r,n){var o=e.context,i=o.gl,a=r.fbo;if(a){var s=e.useProgram("hillshade"),u=e.transform.calculatePosMatrix(r.tileID.toUnwrapped(),!0);!function(t,e,r){var n=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,r.paint.get("hillshade-exaggeration"),n)}(s,e,n);var l=function(e,r){var n=r.toCoordinate(),o=new t.default$17(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,r.tileID);o.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),i.uniformMatrix4fv(s.uniforms.u_matrix,!1,u),i.uniform2fv(s.uniforms.u_latrange,l),i.uniform1i(s.uniforms.u_image,0);var c=n.paint.get("hillshade-shadow-color");i.uniform4f(s.uniforms.u_shadow,c.r,c.g,c.b,c.a);var p=n.paint.get("hillshade-highlight-color");i.uniform4f(s.uniforms.u_highlight,p.r,p.g,p.b,p.a);var f=n.paint.get("hillshade-accent-color");if(i.uniform4f(s.uniforms.u_accent,f.r,f.g,f.b,f.a),r.maskedBoundsBuffer&&r.maskedIndexBuffer&&r.segments)s.draw(o,i.TRIANGLES,n.id,r.maskedBoundsBuffer,r.maskedIndexBuffer,r.segments);else{var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,s,d,[]),i.drawArrays(i.TRIANGLE_STRIP,0,d.length)}}}function zi(e,r,n){var o=e.context,i=o.gl;if(r.dem&&r.dem.level){var a=r.dem.level.dim,s=r.dem.getPixels();if(o.activeTexture.set(i.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||e.getTileTexture(r.tileSize),r.demTexture){var u=r.demTexture;u.update(s,{premultiply:!1}),u.bind(i.NEAREST,i.CLAMP_TO_EDGE)}else r.demTexture=new Z(o,s,i.RGBA,{premultiply:!1}),r.demTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE);o.activeTexture.set(i.TEXTURE0);var l=r.fbo;if(!l){var c=new Z(o,{width:a,height:a,data:null},i.RGBA);c.bind(i.LINEAR,i.CLAMP_TO_EDGE),(l=r.fbo=o.createFramebuffer(a,a)).colorAttachment.set(c.texture)}o.bindFramebuffer.set(l.framebuffer),o.viewport.set([0,0,a,a]);var p=t.mat4.create();t.mat4.ortho(p,0,t.default$8,-t.default$8,0,0,1),t.mat4.translate(p,p,[0,-t.default$8,0]);var f=e.useProgram("hillshadePrepare");i.uniformMatrix4fv(f.uniforms.u_matrix,!1,p),i.uniform1f(f.uniforms.u_zoom,r.tileID.overscaledZ),i.uniform2fv(f.uniforms.u_dimension,[2*a,2*a]),i.uniform1i(f.uniforms.u_image,1),i.uniform1f(f.uniforms.u_maxzoom,n);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,f,d,[]),i.drawArrays(i.TRIANGLE_STRIP,0,d.length),r.needsHillshadePrepare=!1}}function Ai(e,r,n,o,i){var a=o.paint.get("raster-fade-duration");if(a>0){var s=f.now(),u=(s-e.timeAdded)/a,l=r?(s-r.timeAdded)/a:-1,c=n.getSource(),p=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),h=d&&e.refreshedUponExpiration?1:t.clamp(d?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),r?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function Ri(e,r,n){var o=e.context,i=o.gl;o.lineWidth.set(1*f.devicePixelRatio);var a=n.posMatrix,s=e.useProgram("debug");o.setDepthMode(je.disabled),o.setStencilMode(Ge.disabled),o.setColorMode(e.colorModeForRenderPass()),i.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),i.uniform4f(s.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,s,e.debugBuffer,[]),i.drawArrays(i.LINE_STRIP,0,e.debugBuffer.length);for(var u=function(t,e,r,n){n=n||1;var o,i,a,s,u,l,c,p,f=[];for(o=0,i=t.length;o<i;o++)if(u=jr[t[o]]){for(p=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?p=null:(l=e+u[1][a]*n,c=200-u[1][a+1]*n,p&&f.push(p.x,p.y,l,c),p={x:l,y:c});e+=u[0]*n}return f}(n.toString(),50,0,5),l=new t.PosArray,c=0;c<u.length;c+=2)l.emplaceBack(u[c],u[c+1]);var p=o.createVertexBuffer(l,Cr.members);(new _t).bind(o,s,p,[]),i.uniform4f(s.uniforms.u_color,1,1,1,1);for(var d=r.getTile(n).tileSize,h=t.default$8/(Math.pow(2,e.transform.zoom-n.overscaledZ)*d),m=[[-1,-1],[-1,1],[1,-1],[1,1]],y=0;y<m.length;y++){var g=m[y];i.uniformMatrix4fv(s.uniforms.u_matrix,!1,t.mat4.translate([],a,[h*g[0],h*g[1],0])),i.drawArrays(i.LINES,0,p.length)}i.uniform4f(s.uniforms.u_color,0,0,0,1),i.uniformMatrix4fv(s.uniforms.u_matrix,!1,a),i.drawArrays(i.LINES,0,p.length)}var jr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Gr={symbol:function symbol(t,e,r,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(Ge.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==r.paint.get("icon-opacity").constantOr(1)&&hi(t,e,r,n,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright")),0!==r.paint.get("text-opacity").constantOr(1)&&hi(t,e,r,n,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&function(t,e,r,n){li(t,e,r,n,!1),li(t,e,r,n,!0)}(t,e,r,n)}},circle:function circle(t,e,r,n){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),i=r.paint.get("circle-stroke-width"),a=r.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,u=s.gl;s.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),s.setStencilMode(Ge.disabled),s.setColorMode(t.colorModeForRenderPass());for(var l=!0,c=0;c<n.length;c++){var p=n[c],f=e.getTile(p),d=f.getBucket(r);if(d){var h=t.context.program.get(),m=d.programConfigurations.get(r.id),y=t.useProgram("circle",m);if((l||y.program!==h)&&(m.setUniforms(s,y,r.paint,{zoom:t.transform.zoom}),l=!1),u.uniform1f(y.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),u.uniform1i(y.uniforms.u_scale_with_map,"map"===r.paint.get("circle-pitch-scale")?1:0),"map"===r.paint.get("circle-pitch-alignment")){u.uniform1i(y.uniforms.u_pitch_with_map,1);var g=ze(f,1,t.transform.zoom);u.uniform2f(y.uniforms.u_extrude_scale,g,g)}else u.uniform1i(y.uniforms.u_pitch_with_map,0),u.uniform2fv(y.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);u.uniformMatrix4fv(y.uniforms.u_matrix,!1,t.translatePosMatrix(p.posMatrix,f,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor"))),y.draw(s,u.TRIANGLES,r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,m)}}}}},heatmap:function heatmap(e,r,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var i=e.context,a=i.gl;i.setDepthMode(e.depthModeForSublayer(0,je.ReadOnly)),i.setStencilMode(Ge.disabled),function(t,e,r){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=r.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=r.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,r,n,o){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,r,n,o))}(t,e,i,o)}}(i,e,n),i.clear({color:t.default$6.transparent}),i.setColorMode(new We([a.ONE,a.ONE],t.default$6.transparent,[!0,!0,!0,!0]));for(var s=!0,u=0;u<o.length;u++){var l=o[u];if(!r.hasRenderableParent(l)){var c=r.getTile(l),p=c.getBucket(n);if(p){var f=e.context.program.get(),d=p.programConfigurations.get(n.id),h=e.useProgram("heatmap",d),m=e.transform.zoom;(s||h.program!==f)&&(d.setUniforms(e.context,h,n.paint,{zoom:m}),s=!1),a.uniform1f(h.uniforms.u_extrude_scale,ze(c,1,m)),a.uniform1f(h.uniforms.u_intensity,n.paint.get("heatmap-intensity")),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,l.posMatrix),h.draw(i,a.TRIANGLES,n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,d)}}}i.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,r){var n=e.context,o=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new Z(n,r.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(je.disabled);var s=e.useProgram("heatmapTexture"),u=r.paint.get("heatmap-opacity");o.uniform1f(s.uniforms.u_opacity,u),o.uniform1i(s.uniforms.u_image,0),o.uniform1i(s.uniforms.u_color_ramp,1);var l=t.mat4.create();t.mat4.ortho(l,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,l),o.uniform2f(s.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n))},line:function line(t,e,r,n){if("translucent"===t.renderPass&&0!==r.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var i,a=r.paint.get("line-dasharray")?"lineSDF":r.paint.get("line-pattern")?"linePattern":r.paint.get("line-gradient")?"lineGradient":"line",s=!0,u=0,l=n;u<l.length;u+=1){var c=l[u],p=e.getTile(c),f=p.getBucket(r);if(f){var d=f.programConfigurations.get(r.id),h=t.context.program.get(),m=t.useProgram(a,d),y=s||m.program!==h,g=i!==p.tileID.overscaledZ;y&&d.setUniforms(t.context,m,r.paint,{zoom:t.transform.zoom}),mi(m,t,p,f,r,c,d,y,g),i=p.tileID.overscaledZ,s=!1}}}},fill:function fill(e,r,n,o){var i=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var u=n.paint.get("fill-pattern")||1!==i.constantOr(t.default$6.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===u&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?je.ReadWrite:je.ReadOnly)),yi(e,r,n,o,xi)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(s.lineWidth.set(2),s.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,je.ReadOnly)),yi(e,r,n,o,bi))}},"fill-extrusion":function fillExtrusion(e,r,n,o){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,r){var n=e.context,o=n.gl,i=r.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!i){var a=new Z(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(i=r.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.default$6.transparent}),n.setStencilMode(Ge.disabled),n.setDepthMode(new je(o.LEQUAL,je.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}(e,n);for(var i=!0,a=0,s=o;a<s.length;a+=1){var u=s[a],l=r.getTile(u),c=l.getBucket(n);c&&(Ci(e,0,n,l,u,c,i),i=!1)}}else"translucent"===e.renderPass&&function(t,e){var r=e.viewportFrame;if(r){var n=t.context,o=n.gl,i=t.useProgram("extrusionTexture");n.setStencilMode(Ge.disabled),n.setDepthMode(je.disabled),n.setColorMode(t.colorModeForRenderPass()),n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),o.uniform1f(i.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),o.uniform1i(i.uniforms.u_image,0);var a=Ur.create();Ur.ortho(a,0,t.width,t.height,0,0,1),o.uniformMatrix4fv(i.uniforms.u_matrix,!1,a),o.uniform2f(i.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),t.viewportVAO.bind(n,i,t.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n)},hillshade:function hillshade(t,e,r,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o=t.context,i=e.getSource().maxzoom;o.setDepthMode(t.depthModeForSublayer(0,je.ReadOnly)),o.setStencilMode(Ge.disabled),o.setColorMode(t.colorModeForRenderPass());for(var a=0,s=n;a<s.length;a+=1){var u=s[a],l=e.getTile(u);l.needsHillshadePrepare&&"offscreen"===t.renderPass?zi(t,l,i):"translucent"===t.renderPass&&Si(t,l,r)}o.viewport.set([0,0,t.width,t.height])}},raster:function raster(t,e,r,n){if("translucent"===t.renderPass&&0!==r.paint.get("raster-opacity")){var o,i,a=t.context,s=a.gl,u=e.getSource(),l=t.useProgram("raster");a.setStencilMode(Ge.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(l.uniforms.u_brightness_low,r.paint.get("raster-brightness-min")),s.uniform1f(l.uniforms.u_brightness_high,r.paint.get("raster-brightness-max")),s.uniform1f(l.uniforms.u_saturation_factor,(o=r.paint.get("raster-saturation"))>0?1-1/(1.001-o):-o),s.uniform1f(l.uniforms.u_contrast_factor,(i=r.paint.get("raster-contrast"))>0?1/(1-i):1+i),s.uniform3fv(l.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),r=Math.cos(t);return[(2*r+1)/3,(-Math.sqrt(3)*e-r+1)/3,(Math.sqrt(3)*e-r+1)/3]}(r.paint.get("raster-hue-rotate"))),s.uniform1f(l.uniforms.u_buffer_scale,1),s.uniform1i(l.uniforms.u_image0,0),s.uniform1i(l.uniforms.u_image1,1);for(var c=n.length&&n[0].overscaledZ,p=0,f=n;p<f.length;p+=1){var d=f[p];a.setDepthMode(t.depthModeForSublayer(d.overscaledZ-c,1===r.paint.get("raster-opacity")?je.ReadWrite:je.ReadOnly,s.LESS));var h=e.getTile(d),m=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);h.registerFadeDuration(r.paint.get("raster-fade-duration")),s.uniformMatrix4fv(l.uniforms.u_matrix,!1,m);var y=e.findLoadedParent(d,0,{}),g=Ai(h,y,e,r,t.transform),v=void 0,_=void 0;if(a.activeTexture.set(s.TEXTURE0),h.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),y?(y.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,y.tileID.overscaledZ-h.tileID.overscaledZ),_=[h.tileID.canonical.x*v%1,h.tileID.canonical.y*v%1]):h.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(l.uniforms.u_tl_parent,_||[0,0]),s.uniform1f(l.uniforms.u_scale_parent,v||1),s.uniform1f(l.uniforms.u_fade_t,g.mix),s.uniform1f(l.uniforms.u_opacity,g.opacity*r.paint.get("raster-opacity")),u instanceof bt){var b=u.boundsBuffer;u.boundsVAO.bind(a,l,b,[]),s.drawArrays(s.TRIANGLE_STRIP,0,b.length)}else if(h.maskedBoundsBuffer&&h.maskedIndexBuffer&&h.segments)l.draw(a,s.TRIANGLES,r.id,h.maskedBoundsBuffer,h.maskedIndexBuffer,h.segments);else{var S=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,l,S,[]),s.drawArrays(s.TRIANGLE_STRIP,0,S.length)}}}},background:function background(t,e,r){var n=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var i=t.context,a=i.gl,s=t.transform,u=s.tileSize,l=r.paint.get("background-pattern"),c=l||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===c){var p;if(i.setStencilMode(Ge.disabled),i.setDepthMode(t.depthModeForSublayer(0,"opaque"===c?je.ReadWrite:je.ReadOnly)),i.setColorMode(t.colorModeForRenderPass()),l){if(kr(l,t))return;p=t.useProgram("backgroundPattern"),Fr(l,t,p),t.tileExtentPatternVAO.bind(i,p,t.tileExtentBuffer,[])}else p=t.useProgram("background"),a.uniform4fv(p.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(i,p,t.tileExtentBuffer,[]);a.uniform1f(p.uniforms.u_opacity,o);for(var f=0,d=s.coveringTiles({tileSize:u});f<d.length;f+=1){var h=d[f];l&&Nr({tileID:h,tileSize:u},t,p),a.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(h.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function debug(t,e,r){for(var n=0;n<r.length;n++)Ri(t,e,r[n])}},Vr=function Li(e,r){this.context=new qe(e),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=Ye.maxUnderzooming+Ye.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$24,this.crossTileSymbolIndex=new Sr};function Pi(t,e){if(t.row>e.row){var r=t;t=e,e=r}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function ki(t,e,r,n,o){var i=Math.max(r,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,p=e.dx<0,f=i;f<a;f++){var d=u*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,h=l*Math.max(0,Math.min(e.dy,f+p-e.y0))+e.x0;o(Math.floor(h),Math.ceil(d),f)}}function Bi(t,e,r,n,o,i){var a,s=Pi(t,e),u=Pi(e,r),l=Pi(r,t);s.dy>u.dy&&(a=s,s=u,u=a),s.dy>l.dy&&(a=s,s=l,l=a),u.dy>l.dy&&(a=u,u=l,l=a),s.dy&&ki(l,s,n,o,i),u.dy&&ki(l,u,n,o,i)}Vr.prototype.resize=function(t,e){var r=this.context.gl;if(this.width=t*f.devicePixelRatio,this.height=e*f.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var i=o[n];this.style._layers[i].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Vr.prototype.setup=function(){var e=this.context,r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(t.default$8,0),r.emplaceBack(0,t.default$8),r.emplaceBack(t.default$8,t.default$8),this.tileExtentBuffer=e.createVertexBuffer(r,Cr.members),this.tileExtentVAO=new _t,this.tileExtentPatternVAO=new _t;var n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$8,0),n.emplaceBack(t.default$8,t.default$8),n.emplaceBack(0,t.default$8),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,Cr.members),this.debugVAO=new _t;var o=new t.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(t.default$8,0,t.default$8,0),o.emplaceBack(0,t.default$8,0,t.default$8),o.emplaceBack(t.default$8,t.default$8,t.default$8,t.default$8),this.rasterBoundsBuffer=e.createVertexBuffer(o,vt.members),this.rasterBoundsVAO=new _t;var i=new t.PosArray;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(i,Cr.members),this.viewportVAO=new _t},Vr.prototype.clearStencil=function(){var e=this.context,r=e.gl;e.setColorMode(We.disabled),e.setDepthMode(je.disabled),e.setStencilMode(new Ge({func:r.ALWAYS,mask:0},0,255,r.ZERO,r.ZERO,r.ZERO));var n=t.mat4.create();t.mat4.ortho(n,0,this.width,this.height,0,0,1),t.mat4.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]);var o=this.useProgram("clippingMask");r.uniformMatrix4fv(o.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)},Vr.prototype._renderTileClippingMasks=function(t){var e=this.context,r=e.gl;e.setColorMode(We.disabled),e.setDepthMode(je.disabled);var n=1;this._tileClippingMaskIDs={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=this._tileClippingMaskIDs[a.key]=n++;e.setStencilMode(new Ge({func:r.ALWAYS,mask:0},s,255,r.KEEP,r.KEEP,r.REPLACE));var u=this.useProgram("clippingMask");r.uniformMatrix4fv(u.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,u,this.tileExtentBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},Vr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ge({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Vr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new We([e.CONSTANT_COLOR,e.ONE],new t.default$6(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?We.unblended:We.alphaBlended},Vr.prototype.depthModeForSublayer=function(t,e,r){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new je(r||this.context.gl.LEQUAL,e,[o,n])},Vr.prototype.render=function(e,r){var n=this;for(var o in this.style=e,this.options=r,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(f.now()),e.sourceCaches){var i=n.style.sourceCaches[o];i.used&&i.prepare(n.context)}var a=this.style._order,s=t.filterObject(this.style.sourceCaches,(function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type})),u=function c(e){var r=s[e];!function(e,r){for(var n=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),o=0;o<n.length;o++){var i={},a=n[o],s=n.slice(o+1);si(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),i),a.setMask(i,r)}}(r.getVisibleCoordinates().map((function(t){return r.getTile(t)})),n.context)};for(var l in s)u(l);this.renderPass="offscreen";var p,d=[];this.depthRboNeedsClear=!0;for(var h=0;h<a.length;h++){var m=n.style._layers[a[h]];m.hasOffscreenPass()&&!m.isHidden(n.transform.zoom)&&(m.source!==(p&&p.id)&&(d=[],(p=n.style.sourceCaches[m.source])&&(d=p.getVisibleCoordinates()).reverse()),d.length&&n.renderLayer(n,p,m,d))}this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?t.default$6.black:t.default$6.transparent,depth:1}),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var y,g=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var v=n.style._layers[a[n.currentLayer]];v.source!==(y&&y.id)&&(g=[],(y=n.style.sourceCaches[v.source])&&(n.clearStencil(),g=y.getVisibleCoordinates(),y.getSource().isTileClipped&&n._renderTileClippingMasks(g))),n.renderLayer(n,y,v,g)}this.renderPass="translucent";var _,b=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var S=n.style._layers[a[n.currentLayer]];S.source!==(_&&_.id)&&(b=[],(_=n.style.sourceCaches[S.source])&&(n.clearStencil(),b=_.getVisibleCoordinates(),_.getSource().isTileClipped&&n._renderTileClippingMasks(b)),b.reverse()),n.renderLayer(n,_,S,b)}if(this.options.showTileBoundaries){var x=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];x&&Gr.debug(this,x,x.getVisibleCoordinates())}},Vr.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Vr.prototype.renderLayer=function(t,e,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||n.length)&&(this.id=r.id,Gr[r.type](t,e,r,n))},Vr.prototype.translatePosMatrix=function(e,r,n,o,i){if(!n[0]&&!n[1])return e;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);n=[n[0]*u-n[1]*s,n[0]*s+n[1]*u]}var l=[i?n[0]:ze(r,n[0],this.transform.zoom),i?n[1]:ze(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return t.mat4.translate(c,e,l),c},Vr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Vr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Vr.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var r=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new Lr(this.context,Rr[t],e,this._showOverdrawInspector)),this.cache[r]},Vr.prototype.useProgram=function(t,e){var r=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(r.program),r};var Wr=t.default$20.vec4,qr=t.default$20.mat4,Hr=t.default$20.mat2,Kr=function Ui(t,e,r){this.tileSize=512,this._renderWorldCopies=void 0===r||r,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new ct(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Yr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Kr.prototype.clone=function(){var t=new Kr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Yr.minZoom.get=function(){return this._minZoom},Yr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Yr.maxZoom.get=function(){return this._maxZoom},Yr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Yr.renderWorldCopies.get=function(){return this._renderWorldCopies},Yr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Yr.worldSize.get=function(){return this.tileSize*this.scale},Yr.centerPoint.get=function(){return this.size._div(2)},Yr.size.get=function(){return new t.default$1(this.width,this.height)},Yr.bearing.get=function(){return-this.angle/Math.PI*180},Yr.bearing.set=function(e){var r=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=Hr.create(),Hr.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Yr.pitch.get=function(){return this._pitch/Math.PI*180},Yr.pitch.set=function(e){var r=t.clamp(e,0,60)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},Yr.fov.get=function(){return this._fov/Math.PI*180},Yr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Yr.zoom.get=function(){return this._zoom},Yr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Yr.center.get=function(){return this._center},Yr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Kr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Kr.prototype.getVisibleUnwrappedCoordinates=function(e){var r=this.pointCoordinate(new t.default$1(0,0),0),n=this.pointCoordinate(new t.default$1(this.width,0),0),o=Math.floor(r.column),i=Math.floor(n.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=o;s<=i;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},Kr.prototype.coveringTiles=function(e){var r=this.coveringZoomLevel(e),n=r;if(void 0!==e.minzoom&&r<e.minzoom)return[];void 0!==e.maxzoom&&r>e.maxzoom&&(r=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,r),i=new t.default$1(o.column-.5,o.row-.5);return function(e,r,n,o){void 0===o&&(o=!0);var i=1<<e,a={};function s(r,s,u){var l,c,p,f;if(u>=0&&u<=i)for(l=r;l<s;l++)c=Math.floor(l/i),p=(l%i+i)%i,0!==c&&!0!==o||(f=new t.OverscaledTileID(n,c,e,p,u),a[f.key]=f)}return Bi(r[0],r[1],r[2],0,i,s),Bi(r[2],r[3],r[0],0,i,s),Object.keys(a).map((function(t){return a[t]}))}(r,[this.pointCoordinate(new t.default$1(0,0),r),this.pointCoordinate(new t.default$1(this.width,0),r),this.pointCoordinate(new t.default$1(this.width,this.height),r),this.pointCoordinate(new t.default$1(0,this.height),r)],e.reparseOverscaled?n:r,this._renderWorldCopies).sort((function(t,e){return i.dist(t.canonical)-i.dist(e.canonical)}))},Kr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Yr.unmodified.get=function(){return this._unmodified},Kr.prototype.zoomScale=function(t){return Math.pow(2,t)},Kr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Kr.prototype.project=function(e){return new t.default$1(this.lngX(e.lng),this.latY(e.lat))},Kr.prototype.unproject=function(t){return new ct(this.xLng(t.x),this.yLat(t.y))},Yr.x.get=function(){return this.lngX(this.center.lng)},Yr.y.get=function(){return this.latY(this.center.lat)},Yr.point.get=function(){return new t.default$1(this.x,this.y)},Kr.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Kr.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Kr.prototype.xLng=function(t){return 360*t/this.worldSize-180},Kr.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Kr.prototype.setLocationAtPoint=function(t,e){var r=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(r)),this._renderWorldCopies&&(this.center=this.center.wrap())},Kr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Kr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Kr.prototype.locationCoordinate=function(e){return new t.default$17(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Kr.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new ct(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Kr.prototype.pointCoordinate=function(e,r){void 0===r&&(r=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];Wr.transformMat4(n,n,this.pixelMatrixInverse),Wr.transformMat4(o,o,this.pixelMatrixInverse);var i=n[3],a=o[3],s=n[0]/i,u=o[0]/a,l=n[1]/i,c=o[1]/a,p=n[2]/i,f=o[2]/a,d=p===f?0:(0-p)/(f-p);return new t.default$17(t.number(s,u,d)/this.tileSize,t.number(l,c,d)/this.tileSize,this.zoom)._zoomTo(r)},Kr.prototype.coordinatePoint=function(e){var r=e.zoomTo(this.zoom),n=[r.column*this.tileSize,r.row*this.tileSize,0,1];return Wr.transformMat4(n,n,this.pixelMatrix),new t.default$1(n[0]/n[3],n[1]/n[3])},Kr.prototype.calculatePosMatrix=function(e,r){void 0===r&&(r=!1);var n=e.key,o=r?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var i=e.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*e.wrap,u=qr.identity(new Float64Array(16));return qr.translate(u,u,[s*a,i.y*a,0]),qr.scale(u,u,[a/t.default$8,a/t.default$8,1]),qr.multiply(u,r?this.alignedProjMatrix:this.projMatrix,u),o[n]=new Float32Array(u),o[n]},Kr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,r,n,o,i=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=this.latY(p[1]),e=(a=this.latY(p[0]))-i<l.y?l.y/(a-i):0}if(this.lngRange){var f=this.lngRange;s=this.lngX(f[0]),r=(u=this.lngX(f[1]))-s<l.x?l.x/(u-s):0}var d=Math.max(r||0,e||0);if(d)return this.center=this.unproject(new t.default$1(r?(u+s)/2:this.x,e?(a+i)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var h=this.y,m=l.y/2;h-m<i&&(o=i+m),h+m>a&&(o=a-m)}if(this.lngRange){var y=this.x,g=l.x/2;y-g<s&&(n=s+g),y+g>u&&(n=u-g)}void 0===n&&void 0===o||(this.center=this.unproject(new t.default$1(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=c,this._constraining=!1}},Kr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,r=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=this.x,o=this.y,i=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),a=new Float64Array(16);qr.perspective(a,this._fov,this.width/this.height,1,i),qr.scale(a,a,[1,-1,1]),qr.translate(a,a,[0,0,-this.cameraToCenterDistance]),qr.rotateX(a,a,this._pitch),qr.rotateZ(a,a,this.angle),qr.translate(a,a,[-n,-o,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));qr.scale(a,a,[1,1,s,1]),this.projMatrix=a;var u=this.width%2/2,l=this.height%2/2,c=Math.cos(this.angle),p=Math.sin(this.angle),f=n-Math.round(n)+c*u+p*l,d=o-Math.round(o)+c*l+p*u,h=new Float64Array(a);if(qr.translate(h,h,[f>.5?f-1:f,d>.5?d-1:d,0]),this.alignedProjMatrix=h,a=qr.create(),qr.scale(a,a,[this.width/2,-this.height/2,1]),qr.translate(a,a,[1,-1,0]),this.pixelMatrix=qr.multiply(new Float64Array(16),a,this.projMatrix),!(a=qr.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Kr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.default$1(0,0)).zoomTo(this.zoom),r=[e.column*this.tileSize,e.row*this.tileSize,0,1];return Wr.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Kr.prototype,Yr);var Zr=function Vi(){var e,n,o,i;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),n=!1,o=0,i=function r(){o=0,n&&(e(),o=setTimeout(i,300),n=!1)},function(){return n=!0,o||i(),o})};Zr.prototype.addTo=function(e){return this._map=e,t.default.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Zr.prototype.remove=function(){return t.default.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Zr.prototype.getHashString=function(t){var e=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),i=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=t?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},Zr.prototype._onHashChange=function(){var e=t.default.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},Zr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default.history.replaceState(t.default.history.state,"",e)};var Xr=function(e){function i(r,n,o,i){void 0===i&&(i={});var a=h.mousePos(n.getCanvasContainer(),o),s=n.unproject(a);e.call(this,r,t.extend({point:a,lngLat:s,originalEvent:o},i)),this._defaultPrevented=!1,this.target=n}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Qr=function(e){function i(r,n,o){var i=h.touchPos(n.getCanvasContainer(),o),a=i.map((function(t){return n.unproject(t)})),s=i.reduce((function(t,e,r,n){return t.add(e.div(n.length))}),new t.default$1(0,0)),u=n.unproject(s);e.call(this,r,{points:i,point:s,lngLats:a,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),$r=function(t){function e(e,r,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,r),e}(t.Event),Jr=function Wi(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Jr.prototype.isEnabled=function(){return!!this._enabled},Jr.prototype.isActive=function(){return!!this._active},Jr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Jr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Jr.prototype.onWheel=function(e){if(this.isEnabled()){var r=e.deltaMode===t.default.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=f.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),e.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=e,this._delta-=r,this.isActive()||this._start(e)),e.preventDefault()}},Jr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Jr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=h.mousePos(this._el,e);this._around=ct.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Jr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var i="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*o))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a=!1;if("wheel"===this._type){var s=Math.min((f.now()-this._lastWheelEventTime)/200,1),u=this._easing(s);r.zoom=t.number(this._startZoom,this._targetZoom,u),s<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):a=!0}else r.zoom=this._targetZoom,a=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),a&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},Jr.prototype._smoothOutEasing=function(e){var r=t.ease;if(this._prevEase){var n=this._prevEase,o=(f.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=t.bezier(a,s,.25,1)}return this._prevEase={start:f.now(),duration:e,easing:r},r};var en=function qi(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};en.prototype.isEnabled=function(){return!!this._enabled},en.prototype.isActive=function(){return!!this._active},en.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},en.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},en.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default.document.addEventListener("mousemove",this._onMouseMove,!1),t.default.document.addEventListener("keydown",this._onKeyDown,!1),t.default.document.addEventListener("mouseup",this._onMouseUp,!1),h.disableDrag(),this._startPos=h.mousePos(this._el,e),this._active=!0)},en.prototype._onMouseMove=function(t){var e=this._startPos,r=h.mousePos(this._el,t);this._box||(this._box=h.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,r.x),o=Math.max(e.x,r.x),i=Math.min(e.y,r.y),a=Math.max(e.y,r.y);h.setTransform(this._box,"translate("+n+"px,"+i+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-i+"px"},en.prototype._onMouseUp=function(e){if(0===e.button){var r=this._startPos,n=h.mousePos(this._el,e),o=(new pt).extend(this._map.unproject(r)).extend(this._map.unproject(n));this._finish(),h.suppressClick(),r.x===n.x&&r.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:o}))}},en.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},en.prototype._finish=function(){this._active=!1,t.default.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default.document.removeEventListener("keydown",this._onKeyDown,!1),t.default.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag()},en.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,{originalEvent:r}))};var rn=t.bezier(0,0,.25,1),on=function Hi(e,r){this._map=e,this._el=r.element||e.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,t.bindAll(["_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};on.prototype.isEnabled=function(){return"disabled"!==this._state},on.prototype.isActive=function(){return"active"===this._state},on.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},on.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},on.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=h.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==h.mouseButton(e))return;this._eventButton=0}h.disableDrag(),t.default.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.addEventListener("mouseup",this._onMouseUp),t.default.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[f.now(),this._map.getBearing()]],this._previousPos=h.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},on.prototype._onMouseMove=function(t){this._lastMoveEvent=t,this._pos=h.mousePos(this._el,t),"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},on.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,r=this._previousPos,n=this._pos,o=.8*(r.x-n.x),i=-.5*(r.y-n.y),a=e.bearing-o,s=e.pitch-i,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([f.now(),this._map._normalizeBearing(a,l[1])]),e.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=s),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},on.prototype._onMouseUp=function(t){if(h.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",h.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},on.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},on.prototype._unbind=function(){t.default.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.removeEventListener("mouseup",this._onMouseUp),t.default.removeEventListener("blur",this._onBlur),h.enableDrag()},on.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos},on.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,o=n.getBearing(),i=this._inertia,a=function r(){Math.abs(o)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)a();else{var s=i[0],u=i[i.length-1],l=i[i.length-2],c=n._normalizeBearing(o,l[1]),p=u[1]-s[1],f=p<0?-1:1,d=(u[0]-s[0])/1e3;if(0!==p&&0!==d){var h=Math.abs(p*(.25/d));h>180&&(h=180);var m=h/180;c+=f*h*(m/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*m,easing:rn,noMoveStart:!0},{originalEvent:t})}else a()}},on.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,r?{originalEvent:r}:{}))},on.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=f.now();t.length>0&&e-t[0][0]>160;)t.shift()};var un=t.bezier(0,0,.3,1),ln=function Yi(e){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};ln.prototype.isEnabled=function(){return"disabled"!==this._state},ln.prototype.isActive=function(){return"active"===this._state},ln.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},ln.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},ln.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==h.mouseButton(e)||(h.addEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),h.addEventListener(t.default.document,"mouseup",this._onMouseUp),this._start(e)))},ln.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(h.addEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),h.addEventListener(t.default.document,"touchend",this._onTouchEnd),this._start(e)))},ln.prototype._start=function(e){t.default.addEventListener("blur",this._onBlur),this._state="pending",this._previousPos=h.mousePos(this._el,e),this._inertia=[[f.now(),this._previousPos]]},ln.prototype._onMove=function(t){this._lastMoveEvent=t,t.preventDefault(),this._pos=h.mousePos(this._el,t),this._drainInertiaBuffer(),this._inertia.push([f.now(),this._pos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},ln.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent}},ln.prototype._onMouseUp=function(t){if(0===h.mouseButton(t))switch(this._state){case"active":this._state="enabled",h.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},ln.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},ln.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},ln.prototype._unbind=function(){h.removeEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),h.removeEventListener(t.default.document,"touchend",this._onTouchEnd),h.removeEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),h.removeEventListener(t.default.document,"mouseup",this._onMouseUp),h.removeEventListener(t.default,"blur",this._onBlur)},ln.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos,delete this._pos},ln.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var r=e[e.length-1],n=e[0],o=r[1].sub(n[1]),i=(r[0]-n[0])/1e3;if(0===i||r[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/i),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var u=s/750,l=a.mult(-u/2);this._map.panBy(l,{duration:1e3*u,easing:un,noMoveStart:!0},{originalEvent:t})}}},ln.prototype._fireEvent=function(e,r){return this._map.fire(new t.Event(e,r?{originalEvent:r}:{}))},ln.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=f.now();t.length>0&&e-t[0][0]>160;)t.shift()};var cn=function Ji(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Qi(t){return t*(2-t)}cn.prototype.isEnabled=function(){return!!this._enabled},cn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},cn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},cn.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,r=0,n=0,o=0,i=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),i=-1);break;case 40:t.shiftKey?n=-1:(i=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:Qi,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*r,pitch:a.getPitch()+10*n,offset:[100*-o,100*-i],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var pn=function tn(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};pn.prototype.isEnabled=function(){return!!this._enabled},pn.prototype.isActive=function(){return!!this._active},pn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},pn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pn.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout((function(){e._tapped=null}),300)))},pn.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},pn.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},pn.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var fn=t.bezier(0,0,.15,1),hn=function nn(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};hn.prototype.isEnabled=function(){return!!this._enabled},hn.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},hn.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},hn.prototype.disableRotation=function(){this._rotationDisabled=!0},hn.prototype.enableRotation=function(){this._rotationDisabled=!1},hn.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var r=h.mousePos(this._el,e.touches[0]),n=h.mousePos(this._el,e.touches[1]);this._startVec=r.sub(n),this._gestureIntent=void 0,this._inertia=[],h.addEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),h.addEventListener(t.default.document,"touchend",this._onEnd)}},hn.prototype._getTouchEventData=function(t){var e=h.mousePos(this._el,t.touches[0]),r=h.mousePos(this._el,t.touches[1]),n=e.sub(r);return{vec:n,center:e.add(r).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},hn.prototype._onMove=function(e){if(2===e.touches.length){var r=this._getTouchEventData(e),n=r.vec,o=r.scale,i=r.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(i)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},hn.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,i=n.bearing,a=n.scale,s=r.pointLocation(o),u=r.locationPoint(s);"rotate"===e&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*a),r.setLocationAtPoint(s,u),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([f.now(),a,o])}},hn.prototype._onEnd=function(e){h.removeEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),h.removeEventListener(t.default.document,"touchend",this._onEnd);var r=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new t.Event(r+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,i=this._map;if(o.length<2)i.snapToNorth({},{originalEvent:e});else{var a=o[o.length-1],s=o[0],u=i.transform.scaleZoom(n*a[1]),l=i.transform.scaleZoom(n*s[1]),c=u-l,p=(a[0]-s[0])/1e3,f=a[2];if(0!==p&&u!==l){var d=.15*c/p;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var m=1e3*Math.abs(d/(12*.15)),y=u+d*m/2e3;y<0&&(y=0),i.easeTo({zoom:y,duration:m,easing:fn,around:this._aroundCenter?i.getCenter():i.unproject(f),noMoveStart:!0},{originalEvent:e})}else i.snapToNorth({},{originalEvent:e})}}},hn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=f.now();t.length>2&&e-t[0][0]>160;)t.shift()};var gn={scrollZoom:Jr,boxZoom:en,dragRotate:on,dragPan:ln,keyboard:cn,doubleClickZoom:pn,touchZoomRotate:hn},bn=function(e){function i(r,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,r,n){return e=t.default$1.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},r),n)},i.prototype.panTo=function(e,r,n){return this.easeTo(t.extend({center:e},r),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,r,n){return this.easeTo(t.extend({zoom:e},r),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,r,n){return this.easeTo(t.extend({bearing:e},r),n)},i.prototype.resetNorth=function(e,r){return this.rotateTo(0,t.extend({duration:1e3},e),r),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.fitBounds=function(e,r,n){if("number"==typeof(r=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var o=r.padding;r.padding={top:o,bottom:o,right:o,left:o}}if(!t.default$10(Object.keys(r.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"]))return t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=pt.convert(e);var i=[(r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2],a=Math.min(r.padding.right,r.padding.left),s=Math.min(r.padding.top,r.padding.bottom);r.offset=[r.offset[0]+i[0],r.offset[1]+i[1]];var u=t.default$1.convert(r.offset),l=this.transform,c=l.project(e.getNorthWest()),p=l.project(e.getSouthEast()),f=p.sub(c),d=(l.width-2*a-2*Math.abs(u.x))/f.x,h=(l.height-2*s-2*Math.abs(u.y))/f.y;return h<0||d<0?(t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(r.center=l.unproject(c.add(p).div(2)),r.zoom=Math.min(l.scaleZoom(l.scale*Math.min(d,h)),r.maxZoom),r.bearing=0,r.linear?this.easeTo(r,n):this.flyTo(r,n))},i.prototype.jumpTo=function(e,r){this.stop();var n=this.transform,o=!1,i=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=ct.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",r)).fire(new t.Event("move",r)),o&&this.fire(new t.Event("zoomstart",r)).fire(new t.Event("zoom",r)).fire(new t.Event("zoomend",r)),i&&this.fire(new t.Event("rotatestart",r)).fire(new t.Event("rotate",r)).fire(new t.Event("rotateend",r)),a&&this.fire(new t.Event("pitchstart",r)).fire(new t.Event("pitch",r)).fire(new t.Event("pitchend",r)),this.fire(new t.Event("moveend",r))},i.prototype.easeTo=function(e,r){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?+e.zoom:i,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=o.centerPoint.add(t.default$1.convert(e.offset)),f=o.pointLocation(p),d=ct.convert(e.center||f);this._normalizeCenter(d);var h,m,y=o.project(f),g=o.project(d).sub(y),v=o.zoomScale(u-i);return e.around&&(h=ct.convert(e.around),m=o.locationPoint(h)),this._zooming=u!==i,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(r,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(n._zooming&&(o.zoom=t.number(i,u,e)),n._rotating&&(o.bearing=t.number(a,l,e)),n._pitching&&(o.pitch=t.number(s,c,e)),h)o.setLocationAtPoint(h,m);else{var f=o.zoomScale(o.zoom-i),d=u>i?Math.min(2,v):Math.max(.5,v),_=Math.pow(d,1-e),b=o.unproject(y.add(g.mult(e*_)).mult(f));o.setLocationAtPoint(o.renderWorldCopies?b.wrap():b,p)}n._fireMoveEvents(r)}),(function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout((function(){return n._afterEase(r)}),e.delayEndEvents):n._afterEase(r)}),e),this},i.prototype._prepareEase=function(e,r){this._moving=!0,r||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var r=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,r){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):i,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=o.zoomScale(u-i),f=o.centerPoint.add(t.default$1.convert(e.offset)),d=o.pointLocation(f),h=ct.convert(e.center||d);this._normalizeCenter(h);var m=o.project(d),y=o.project(h).sub(m),g=e.curve,v=Math.max(o.width,o.height),_=v/p,b=y.mag();if("minZoom"in e){var S=t.clamp(Math.min(e.minZoom,i,u),o.minZoom,o.maxZoom),x=v/o.zoomScale(S-i);g=Math.sqrt(x/b*2)}var w=g*g;function T(t){var e=(_*_-v*v+(t?-1:1)*w*w*b*b)/(2*(t?_:v)*w*b);return Math.log(Math.sqrt(e*e+1)-e)}function I(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var E=T(0),P=function z(t){return C(E)/C(E+g*t)},D=function A(t){return v*((C(E)*(I(e=E+g*t)/C(e))-I(E))/w)/b;var e},M=(T(1)-E)/g;if(Math.abs(b)<1e-6||!isFinite(M)){if(Math.abs(v-_)<1e-6)return this.easeTo(e,r);var R=_<v?-1:1;M=Math.abs(Math.log(_/v))/g,D=function A(){return 0},P=function z(t){return Math.exp(R*g*t)}}if("duration"in e)e.duration=+e.duration;else{var L="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*M/L}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==l,this._pitching=c!==s,this._prepareEase(r,!1),this._ease((function(e){var u=e*M,p=1/P(u);o.zoom=i+o.scaleZoom(p),n._rotating&&(o.bearing=t.number(a,l,e)),n._pitching&&(o.pitch=t.number(s,c,e));var d=o.unproject(m.add(y.mult(D(u))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?d.wrap():d,f),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(t,e,r){!1===r.animate||0===r.duration?(t(1),e()):(this._easeStart=f.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((f.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,r){e=t.wrap(e,-180,180);var n=Math.abs(e-r);return Math.abs(e-360-r)<n&&(e-=360),Math.abs(e+360-r)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var r=t.lng-e.center.lng;t.lng+=r>180?-360:r<-180?360:0}},i}(t.Evented),xn=function an(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};xn.prototype.getDefaultPosition=function(){return"bottom-right"},xn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},xn.prototype.onRemove=function(){h.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},xn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:R.ACCESS_TOKEN}];if(t){var r=e.reduce((function(t,r,n){return r.value&&(t+=r.key+"="+r.value+(n<e.length-1?"&":"")),t}),"?");t.href="https://www.mapbox.com/feedback/"+r+(this._map._hash?this._map._hash.getHashString(!0):"")}},xn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},xn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var r=this._map.style.sourceCaches;for(var n in r){var o=r[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort((function(t,e){return t.length-e.length})),(t=t.filter((function(e,r){for(var n=r+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}))).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},xn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var wn=function sn(){t.bindAll(["_updateLogo"],this)};wn.prototype.onAdd=function(t){this._map=t,this._container=h.create("div","mapboxgl-ctrl");var e=h.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},wn.prototype.onRemove=function(){h.remove(this._container),this._map.off("sourcedata",this._updateLogo)},wn.prototype.getDefaultPosition=function(){return"bottom-left"},wn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},wn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}};var En=function ln(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};En.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},En.prototype.remove=function(t){for(var e=this._currentlyRunning,r=0,n=e?this._queue.concat(e):this._queue;r<n.length;r+=1){var o=n[r];if(o.id===t)return void(o.cancelled=!0)}},En.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,r=t;e<r.length;e+=1){var n=r[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},En.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Pn=t.default.HTMLImageElement,Dn=t.default.HTMLElement,Mn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},An=function(e){function n(r){if(null!=(r=t.extend({},Mn,r)).minZoom&&null!=r.maxZoom&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Kr(r.minZoom,r.maxZoom,r.renderWorldCopies);e.call(this,n,r),this._interactive=r.interactive,this._maxTileCacheSize=r.maxTileCacheSize,this._failIfMajorPerformanceCaveat=r.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=r.preserveDrawingBuffer,this._trackResize=r.trackResize,this._bearingSnap=r.bearingSnap,this._refreshExpiredTiles=r.refreshExpiredTiles,this._fadeDuration=r.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=r.collectResourceTiming,this._renderTaskQueue=new En;var o=r.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof r.container){var i=t.default.document.getElementById(r.container);if(!i)throw new Error("Container '"+r.container+"' not found.");this._container=i}else{if(!(r.container instanceof Dn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r.container}r.maxBounds&&this.setMaxBounds(r.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==t.default&&(t.default.addEventListener("online",this._onWindowOnline,!1),t.default.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var r=t.getCanvasContainer(),n=null,o=!1;for(var i in gn)t[i]=new gn[i](t,e),e.interactive&&e[i]&&t[i].enable(e[i]);h.addEventListener(r,"mouseout",(function(e){t.fire(new Xr("mouseout",t,e))})),h.addEventListener(r,"mousedown",(function(r){o=!0;var n=new Xr("mousedown",t,r);t.fire(n),n.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(r),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(r),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(r))})),h.addEventListener(r,"mouseup",(function(e){var r=t.dragRotate.isActive();n&&!r&&t.fire(new Xr("contextmenu",t,n)),n=null,o=!1,t.fire(new Xr("mouseup",t,e))})),h.addEventListener(r,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.toElement||e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new Xr("mousemove",t,e))}})),h.addEventListener(r,"mouseover",(function(e){for(var n=e.toElement||e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new Xr("mouseover",t,e))})),h.addEventListener(r,"touchstart",(function(r){var n=new Qr("touchstart",t,r);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(r),t.touchZoomRotate.onStart(r),t.doubleClickZoom.onTouchStart(n))}),{passive:!1}),h.addEventListener(r,"touchmove",(function(e){t.fire(new Qr("touchmove",t,e))}),{passive:!1}),h.addEventListener(r,"touchend",(function(e){t.fire(new Qr("touchend",t,e))})),h.addEventListener(r,"touchcancel",(function(e){t.fire(new Qr("touchcancel",t,e))})),h.addEventListener(r,"click",(function(e){t.fire(new Xr("click",t,e))})),h.addEventListener(r,"dblclick",(function(e){var r=new Xr("dblclick",t,e);t.fire(r),r.defaultPrevented||t.doubleClickZoom.onDblClick(r)})),h.addEventListener(r,"contextmenu",(function(e){var r=t.dragRotate.isActive();o||r?o&&(n=e):t.fire(new Xr("contextmenu",t,e)),e.preventDefault()})),h.addEventListener(r,"wheel",(function(e){var r=new $r("wheel",t,e);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(e)}),{passive:!1})}(this,r),this._hash=r.hash&&(new Zr).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}),this.resize(),r.style&&this.setStyle(r.style,{localIdeographFontFamily:r.localIdeographFontFamily}),r.attributionControl&&this.addControl(new xn),this.addControl(new wn,r.logoPosition),this.on("style.load",(function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return n.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var r=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(r,n.firstChild):n.appendChild(r),this},n.prototype.removeControl=function(t){return t.onRemove(this),this},n.prototype.resize=function(e){var r=this._containerDimensions(),n=r[0],o=r[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e))},n.prototype.getBounds=function(){var e=new pt(this.transform.pointLocation(new t.default$1(0,this.transform.height)),this.transform.pointLocation(new t.default$1(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new t.default$1(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new t.default$1(0,this.transform.size.y)))),e},n.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new pt([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},n.prototype.setMaxBounds=function(t){if(t){var e=pt.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null==t&&(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},n.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.project=function(t){return this.transform.locationPoint(ct.convert(t))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.default$1.convert(e))},n.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},n.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},n.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},n.prototype.on=function(t,r,n){var o,i=this;if(void 0===n)return e.prototype.on.call(this,t,r);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1;return{layer:r,listener:n,delegates:{mousemove:function mousemove(o){var a=i.getLayer(r)?i.queryRenderedFeatures(o.point,{layers:[r]}):[];a.length?e||(e=!0,n.call(i,new Xr(t,i,o.originalEvent,{features:a}))):e=!1},mouseout:function mouseout(){e=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:r,listener:n,delegates:{mousemove:function mousemove(e){(i.getLayer(r)?i.queryRenderedFeatures(e.point,{layers:[r]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Xr(t,i,e.originalEvent)))},mouseout:function mouseout(e){a&&(a=!1,n.call(i,new Xr(t,i,e.originalEvent)))}}}}return{layer:r,listener:n,delegates:(o={},o[t]=function(t){var e=i.getLayer(r)?i.queryRenderedFeatures(t.point,{layers:[r]}):[];e.length&&(t.features=e,n.call(i,t),delete t.features)},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)i.on(s,a.delegates[s]);return this},n.prototype.off=function(t,r,n){if(void 0===n)return e.prototype.off.call(this,t,r);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],i=0;i<o.length;i++){var a=o[i];if(a.layer===r&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(i,1),this}}return this},n.prototype.queryRenderedFeatures=function(e,r){var n;return 2===arguments.length?(e=arguments[0],r=arguments[1]):1===arguments.length&&((n=arguments[0])instanceof t.default$1||Array.isArray(n))?(e=arguments[0],r={}):1===arguments.length?(e=void 0,r=arguments[0]):(e=void 0,r={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),r,this.transform):[]},n.prototype._makeQueryGeometry=function(e){var r,n=this;if(void 0===e&&(e=[t.default$1.convert([0,0]),t.default$1.convert([this.transform.width,this.transform.height])]),e instanceof t.default$1||"number"==typeof e[0])r=[t.default$1.convert(e)];else{var o=[t.default$1.convert(e[0]),t.default$1.convert(e[1])];r=[o[0],new t.default$1(o[1].x,o[0].y),o[1],new t.default$1(o[0].x,o[1].y),o[0]]}return{viewport:r,worldCoordinate:r.map((function(t){return n.transform.pointCoordinate(t)}))}},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,r){if((!r||!1!==r.diff&&!r.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Pr(this,r||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},n.prototype.isSourceLoaded=function(e){var r=this.style&&this.style.sourceCaches[e];if(void 0!==r)return r.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var r=t[e]._tiles;for(var n in r){var o=r[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,r){return this.style.addSourceType(t,e,r)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,r,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var i=n.sdf;if(void 0===i&&(i=!1),r instanceof Pn){var a=f.getImageData(r),s=a.width,u=a.height,l=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:u},l),pixelRatio:o,sdf:i})}else{if(void 0===r.width||void 0===r.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=r.width,p=r.height,d=r.data;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:p},d.slice(0)),pixelRatio:o,sdf:i})}},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,r){t.getImage(this._transformRequest(e,t.ResourceType.Image),r)},n.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},n.prototype.setLayerZoomRange=function(t,e,r){return this.style.setLayerZoomRange(t,e,r),this._update(!0),this},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,r){return this.style.setPaintProperty(t,e,r),this._update(!0),this},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,r){return this.style.setLayoutProperty(t,e,r),this._update(!0),this},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=h.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=h.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=h.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var n=this._controlContainer=h.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=h.create("div","mapboxgl-ctrl-"+t,n)}))},n.prototype._resizeCanvas=function(e,r){var n=t.default.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*r,this._canvas.style.width=e+"px",this._canvas.style.height=r+"px"},n.prototype._setupPainter=function(){var e=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},r.webGLContextAttributes),n=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);n?this.painter=new Vr(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(f.cancelFrame(this._frameId),this._frameId=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},n.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,n=f.now();this.style.zoomHistory.update(r,n);var o=new t.default$16(r,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=o.crossFadingFactor();1===i&&i===this._crossFadingFactor||(e=!0,this._crossFadingFactor=i),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},n.prototype.remove=function(){this._hash&&this._hash.remove(),f.cancelFrame(this._frameId),this._renderTaskQueue.clear(),this._frameId=null,this.setStyle(null),void 0!==t.default&&(t.default.removeEventListener("resize",this._onWindowResize,!1),t.default.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),dn(this._canvasContainer),dn(this._controlContainer),dn(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=f.frame((function(){t._frameId=null,t._render()})))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},n.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(n.prototype,o),n}(bn);function dn(t){t.parentNode&&t.parentNode.removeChild(t)}var Rn={showCompass:!0,showZoom:!0},Ln=function mn(e){var r=this;this.options=t.extend({},Rn,e),this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",(function(){return r._map.zoomIn()})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",(function(){return r._map.zoomOut()}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",(function(){return r._map.resetNorth()})),this._compassArrow=h.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function _n(t,e,r){if(t=new ct(t.lng,t.lat),e){var n=new ct(t.lng-360,t.lat),o=new ct(t.lng+360,t.lat),i=r.locationPoint(t).distSqr(e);r.locationPoint(n).distSqr(e)<i?t=n:r.locationPoint(o).distSqr(e)<i&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var a=r.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=r.width&&a.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Ln.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Ln.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new on(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},Ln.prototype.onRemove=function(){h.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},Ln.prototype._createButton=function(t,e,r){var n=h.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",r),n};var On={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vn(t,e,r){var n=t.classList;for(var o in On)n.remove("mapboxgl-"+r+"-anchor-"+o);n.add("mapboxgl-"+r+"-anchor-"+e)}var kn=function yn(e){if((arguments[0]instanceof t.default.HTMLElement||2===arguments.length)&&(e=t.extend({element:e},arguments[1])),t.bindAll(["_update","_onMapClick"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",e&&e.element)this._element=e.element,this._offset=t.default$1.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div");var r=h.createNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"height","41px"),r.setAttributeNS(null,"width","27px"),r.setAttributeNS(null,"viewBox","0 0 27 41");var n=h.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var o=h.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");var i=h.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"transform","translate(3.0, 29.0)"),i.setAttributeNS(null,"fill","#000000");for(var a=0,s=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];a<s.length;a+=1){var u=s[a],l=h.createNS("http://www.w3.org/2000/svg","ellipse");l.setAttributeNS(null,"opacity","0.04"),l.setAttributeNS(null,"cx","10.5"),l.setAttributeNS(null,"cy","5.80029008"),l.setAttributeNS(null,"rx",u.rx),l.setAttributeNS(null,"ry",u.ry),i.appendChild(l)}var c=h.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);var p=h.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(p);var f=h.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var d=h.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(d);var m=h.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var y=h.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var g=h.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");var v=h.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),y.appendChild(g),y.appendChild(v),o.appendChild(i),o.appendChild(c),o.appendChild(f),o.appendChild(m),o.appendChild(y),r.appendChild(o),this._element.appendChild(r),this._offset=t.default$1.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null};kn.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},kn.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this},kn.prototype.getLngLat=function(){return this._lngLat},kn.prototype.setLngLat=function(t){return this._lngLat=ct.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},kn.prototype.getElement=function(){return this._element},kn.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},kn.prototype._onMapClick=function(t){var e=t.originalEvent.target,r=this._element;this._popup&&(e===r||r.contains(e))&&this.togglePopup()},kn.prototype.getPopup=function(){return this._popup},kn.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},kn.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=_n(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),h.setTransform(this._element,On[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),vn(this._element,this._anchor,"marker"))},kn.prototype.getOffset=function(){return this._offset},kn.prototype.setOffset=function(e){return this._offset=t.default$1.convert(e),this._update(),this};var Fn,Nn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Bn=function(e){function i(r){e.call(this),this.options=t.extend({},Nn,r),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var r;return this._map=e,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Fn?r(Fn):void 0!==t.default.navigator.permissions?t.default.navigator.permissions.query({name:"geolocation"}).then((function(t){Fn="denied"!==t.state,r(Fn)})):(Fn=!!t.default.navigator.geolocation,r(Fn)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),h.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new ct(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy;this._map.fitBounds(e.toBounds(r),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var r=this;!1!==e&&(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=h.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new kn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))})))},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Un={maxWidth:100,unit:"metric"},zn=function Tn(e){this.options=t.extend({},Un,e),t.bindAll(["_onMove","setUnit"],this)};function In(t,e,r){var n,o,i,a,s,u,l=r&&r.maxWidth||100,c=t._container.clientHeight/2,p=(n=t.unproject([0,c]),o=t.unproject([l,c]),i=Math.PI/180,a=n.lat*i,s=o.lat*i,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*i),6371e3*Math.acos(Math.min(u,1)));if(r&&"imperial"===r.unit){var f=3.2808*p;f>5280?Cn(e,l,f/5280,"mi"):Cn(e,l,f,"ft")}else r&&"nautical"===r.unit?Cn(e,l,p/1852,"nm"):Cn(e,l,p,"m")}function Cn(t,e,r,n){var o,i,a,s=(o=r,(i=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/i)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),u=s/r;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*u+"px",t.innerHTML=s+n}zn.prototype.getDefaultPosition=function(){return"bottom-left"},zn.prototype._onMove=function(){In(this._map,this._container,this.options)},zn.prototype.onAdd=function(t){return this._map=t,this._container=h.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},zn.prototype.onRemove=function(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},zn.prototype.setUnit=function(t){this.options.unit=t,In(this._map,this._container,this.options)};var jn=function Sn(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};jn.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=h.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},jn.prototype.onRemove=function(){h.remove(this._container),this._map=null,t.default.document.removeEventListener(this._fullscreenchange,this._changeIcon)},jn.prototype._checkFullscreenSupport=function(){return!!(t.default.document.fullscreenEnabled||t.default.document.mozFullScreenEnabled||t.default.document.msFullscreenEnabled||t.default.document.webkitFullscreenEnabled)},jn.prototype._setupUI=function(){var e=this._fullscreenButton=h.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default.document.addEventListener(this._fullscreenchange,this._changeIcon)},jn.prototype._isFullscreen=function(){return this._fullscreen},jn.prototype._changeIcon=function(){(t.default.document.fullscreenElement||t.default.document.mozFullScreenElement||t.default.document.webkitFullscreenElement||t.default.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},jn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default.document.exitFullscreen?t.default.document.exitFullscreen():t.default.document.mozCancelFullScreen?t.default.document.mozCancelFullScreen():t.default.document.msExitFullscreen?t.default.document.msExitFullscreen():t.default.document.webkitCancelFullScreen&&t.default.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Gn={closeButton:!0,closeOnClick:!0},Vn=function(e){function i(r){e.call(this),this.options=t.extend(Object.create(Gn),r),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=ct.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default.document.createTextNode(e))},i.prototype.setHTML=function(e){var r,n=t.default.document.createDocumentFragment(),o=t.default.document.createElement("body");for(o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return this.setDOMContent(n)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&h.remove(this._content),this._content=h.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=h.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=h.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=h.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=_n(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),r=this.options.anchor,n=function e(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new t.default$1(0,0),top:new t.default$1(0,r),"top-left":new t.default$1(n,n),"top-right":new t.default$1(-n,n),bottom:new t.default$1(0,-r),"bottom-left":new t.default$1(n,-n),"bottom-right":new t.default$1(-n,-n),left:new t.default$1(r,0),right:new t.default$1(-r,0)}}if(r instanceof t.default$1||Array.isArray(r)){var o=t.default$1.convert(r);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.default$1.convert(r.center||[0,0]),top:t.default$1.convert(r.top||[0,0]),"top-left":t.default$1.convert(r["top-left"]||[0,0]),"top-right":t.default$1.convert(r["top-right"]||[0,0]),bottom:t.default$1.convert(r.bottom||[0,0]),"bottom-left":t.default$1.convert(r["bottom-left"]||[0,0]),"bottom-right":t.default$1.convert(r["bottom-right"]||[0,0]),left:t.default$1.convert(r.left||[0,0]),right:t.default$1.convert(r.right||[0,0])}}return e(new t.default$1(0,0))}(this.options.offset);if(!r){var o,i=this._container.offsetWidth,a=this._container.offsetHeight;o=e.y+n.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<i/2?o.push("left"):e.x>this._map.transform.width-i/2&&o.push("right"),r=0===o.length?"bottom":o.join("-")}var s=e.add(n[r]).round();h.setTransform(this._container,On[r]+" translate("+s.x+"px,"+s.y+"px)"),vn(this._container,r,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented),Wn={version:"0.45.0",supported:r,workerCount:Math.max(Math.floor(f.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:An,NavigationControl:Ln,GeolocateControl:Bn,AttributionControl:xn,ScaleControl:zn,FullscreenControl:jn,Popup:Vn,Marker:kn,Style:Pr,LngLat:ct,LngLatBounds:pt,Point:t.default$1,Evented:t.Evented,config:R,get accessToken(){return R.ACCESS_TOKEN},set accessToken(t){R.ACCESS_TOKEN=t},workerUrl:""};return Wn})),n},t.exports=i()}).call(this,r(32))},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!isString(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(inspect(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}})),s=n[r];r<i;s=n[++r])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},e.deprecate=function(r,n){if("undefined"!==typeof t&&!0===t.noDeprecation)return r;if("undefined"===typeof t)return function(){return e.deprecate(r,n).apply(this,arguments)};var o=!1;return function deprecated(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var i,a={};function inspect(t,r){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(r)?n.showHidden=r:r&&e._extend(n,r),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}function stylizeWithColor(t,e){var r=inspect.styles[e];return r?"\x1b["+inspect.colors[r][0]+"m"+t+"\x1b["+inspect.colors[r][1]+"m":t}function stylizeNoColor(t,e){return t}function formatValue(t,r,n){if(t.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return isString(o)||(o=formatValue(t,o,n)),o}var i=function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}(t,r);if(i)return i;var a=Object.keys(r),s=function arrayToHash(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),isError(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(r);if(0===a.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(isRegExp(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return t.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var l,c="",p=!1,f=["{","}"];(isArray(r)&&(p=!0,f=["[","]"]),isFunction(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0!==a.length||p&&0!=r.length?n<0?isRegExp(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),l=p?function formatArray(t,e,r,n,o){for(var i=[],a=0,s=e.length;a<s;++a)hasOwnProperty(e,String(a))?i.push(formatProperty(t,e,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(formatProperty(t,e,r,n,o,!0))})),i}(t,r,n,s,a):a.map((function(e){return formatProperty(t,r,n,s,e,p)})),t.seen.pop(),function reduceToSingleString(t,e,r){if(t.reduce((function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(l,c,f)):f[0]+c+f[1]}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatProperty(t,e,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),hasOwnProperty(n,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=isNull(r)?formatValue(t,u.value,null):formatValue(t,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),isUndefined(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"===typeof t}function isNull(t){return null===t}function isNumber(t){return"number"===typeof t}function isString(t){return"string"===typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===typeof t&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"===typeof t}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(isUndefined(i)&&(i=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_VIDEO_CDN:"https://my-comma-video.azureedge.net",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY29tbWFhaSIsImEiOiJjangyYXV0c20wMGU2NDluMWR4amUydGl5In0.6Vb11S6tdX6Arpj6trRE_g"}).NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=t.pid;a[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else a[r]=function(){};return a[r]},e.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=isArray,e.isBoolean=isBoolean,e.isNull=isNull,e.isNullOrUndefined=function isNullOrUndefined(t){return null==t},e.isNumber=isNumber,e.isString=isString,e.isSymbol=function isSymbol(t){return"symbol"===typeof t},e.isUndefined=isUndefined,e.isRegExp=isRegExp,e.isObject=isObject,e.isDate=isDate,e.isError=isError,e.isFunction=isFunction,e.isPrimitive=function isPrimitive(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=r(974);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),s[t.getMonth()],e].join(" ")}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",timestamp(),e.format.apply(e,arguments))},e.inherits=r(975),e._extend=function(t,e){if(!e||!isObject(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var u="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function promisify(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(u&&t[u]){var e;if("function"!==typeof(e=t[u]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,u,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(a){r(a)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),u&&Object.defineProperty(e,u,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=u,e.callbackify=function callbackify(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!==typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function cb(){return o.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(callbackifyOnRejected,e,a)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(e)),Object.defineProperties(callbackified,n(e)),callbackified}}).call(this,r(114))},function(t,e){t.exports=function isBuffer(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){"function"===typeof Object.create?t.exports=function inherits(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(t,e){t.super_=e;var r=function TempCtor(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"isBrowserMainThread",(function(){return a}));var n=r(483),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=!("object"===("undefined"===typeof t?"undefined":o(t))&&"[object process]"===String(t)&&!t.browser)||n.a,a=i&&"undefined"!==typeof document;e.default=i}.call(this,r(114))},function(t,e,r){var n;!function(o,i,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),p="function",f=Math.round,d=Math.abs,h=Date.now;function setTimeoutContext(t,e,r){return setTimeout(bindFn(t,r),e)}function invokeArrayArg(t,e,r){return!!Array.isArray(t)&&(each(t,r[e],r),!0)}function each(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==s)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function deprecate(t,e,r){var n="DEPRECATED METHOD: "+e+"\n"+r+" AT \n";return function(){var e=new Error("get-stack-trace"),r=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,n,r),t.apply(this,arguments)}}u="function"!==typeof Object.assign?function assign(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(n!==s&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var m=deprecate((function extend(t,e,r){for(var n=Object.keys(e),o=0;o<n.length;)(!r||r&&t[n[o]]===s)&&(t[n[o]]=e[n[o]]),o++;return t}),"extend","Use `assign`."),y=deprecate((function merge(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function inherit(t,e,r){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,r&&u(n,r)}function bindFn(t,e){return function boundFn(){return t.apply(e,arguments)}}function boolOrFn(t,e){return typeof t==p?t.apply(e&&e[0]||s,e):t}function ifUndefined(t,e){return t===s?e:t}function addEventListeners(t,e,r){each(splitStr(e),(function(e){t.addEventListener(e,r,!1)}))}function removeEventListeners(t,e,r){each(splitStr(e),(function(e){t.removeEventListener(e,r,!1)}))}function hasParent(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function inStr(t,e){return t.indexOf(e)>-1}function splitStr(t){return t.trim().split(/\s+/g)}function inArray(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}function toArray(t){return Array.prototype.slice.call(t,0)}function uniqueArray(t,e,r){for(var n=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];inArray(o,a)<0&&n.push(t[i]),o[i]=a,i++}return r&&(n=e?n.sort((function sortUniqueArray(t,r){return t[e]>r[e]})):n.sort()),n}function prefixed(t,e){for(var r,n,o=e[0].toUpperCase()+e.slice(1),i=0;i<l.length;){if((n=(r=l[i])?r+o:e)in t)return n;i++}return s}var g=1;function getWindowForElement(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var v="ontouchstart"in o,_=prefixed(o,"PointerEvent")!==s,b=v&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),S=25,x=1,w=2,E=4,P=8,C=1,T=2,D=4,M=8,A=16,R=T|D,L=M|A,I=R|L,O=["x","y"],k=["clientX","clientY"];function Input(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){boolOrFn(t.options.enable,[t])&&r.handler(e)},this.init()}function inputHandler(t,e,r){var n=r.pointers.length,o=r.changedPointers.length,i=e&x&&n-o===0,a=e&(E|P)&&n-o===0;r.isFirst=!!i,r.isFinal=!!a,i&&(t.session={}),r.eventType=e,function computeInputData(t,e){var r=t.session,n=e.pointers,o=n.length;r.firstInput||(r.firstInput=simpleCloneInputData(e));o>1&&!r.firstMultiple?r.firstMultiple=simpleCloneInputData(e):1===o&&(r.firstMultiple=!1);var i=r.firstInput,a=r.firstMultiple,u=a?a.center:i.center,l=e.center=getCenter(n);e.timeStamp=h(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=getAngle(u,l),e.distance=getDistance(u,l),function computeDeltaXY(t,e){var r=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==x&&i.eventType!==E||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y});e.deltaX=o.x+(r.x-n.x),e.deltaY=o.y+(r.y-n.y)}(r,e),e.offsetDirection=getDirection(e.deltaX,e.deltaY);var c=getVelocity(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,e.scale=a?function getScale(t,e){return getDistance(e[0],e[1],k)/getDistance(t[0],t[1],k)}(a.pointers,n):1,e.rotation=a?function getRotation(t,e){return getAngle(e[1],e[0],k)+getAngle(t[1],t[0],k)}(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function computeIntervalInputData(t,e){var r,n,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=P&&(u>S||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,p=getVelocity(u,l,c);n=p.x,o=p.y,r=d(p.x)>d(p.y)?p.x:p.y,i=getDirection(l,c),t.lastInterval=e}else r=a.velocity,n=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=r,e.velocityX=n,e.velocityY=o,e.direction=i}(r,e);var p=t.element;hasParent(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function simpleCloneInputData(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:f(t.pointers[r].clientX),clientY:f(t.pointers[r].clientY)},r++;return{timeStamp:h(),pointers:e,center:getCenter(e),deltaX:t.deltaX,deltaY:t.deltaY}}function getCenter(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var r=0,n=0,o=0;o<e;)r+=t[o].clientX,n+=t[o].clientY,o++;return{x:f(r/e),y:f(n/e)}}function getVelocity(t,e,r){return{x:e/t||0,y:r/t||0}}function getDirection(t,e){return t===e?C:d(t)>=d(e)?t<0?T:D:e<0?M:A}function getDistance(t,e,r){r||(r=O);var n=e[r[0]]-t[r[0]],o=e[r[1]]-t[r[1]];return Math.sqrt(n*n+o*o)}function getAngle(t,e,r){r||(r=O);var n=e[r[0]]-t[r[0]],o=e[r[1]]-t[r[1]];return 180*Math.atan2(o,n)/Math.PI}Input.prototype={handler:function handler(){},init:function init(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function destroy(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var F={mousedown:x,mousemove:w,mouseup:E},N="mousedown",B="mousemove mouseup";function MouseInput(){this.evEl=N,this.evWin=B,this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(t){var e=F[t.type];e&x&&0===t.button&&(this.pressed=!0),e&w&&1!==t.which&&(e=E),this.pressed&&(e&E&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var U={pointerdown:x,pointermove:w,pointerup:E,pointercancel:P,pointerout:P},z={2:"touch",3:"pen",4:"mouse",5:"kinect"},j="pointerdown",G="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=j,this.evWin=G,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(j="MSPointerDown",G="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(t){var e=this.store,r=!1,n=t.type.toLowerCase().replace("ms",""),o=U[n],i=z[t.pointerType]||t.pointerType,a="touch"==i,s=inArray(e,t.pointerId,"pointerId");o&x&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(E|P)&&(r=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),r&&e.splice(s,1))}});var V={touchstart:x,touchmove:w,touchend:E,touchcancel:P},W="touchstart",q="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=W,this.evWin=q,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(t,e){var r=toArray(t.touches),n=toArray(t.changedTouches);return e&(E|P)&&(r=uniqueArray(r.concat(n),"identifier",!0)),[r,n]}inherit(SingleTouchInput,Input,{handler:function TEhandler(t){var e=V[t.type];if(e===x&&(this.started=!0),this.started){var r=normalizeSingleTouches.call(this,t,e);e&(E|P)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}}});var H={touchstart:x,touchmove:w,touchend:E,touchcancel:P},K="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=K,this.targetIds={},Input.apply(this,arguments)}function getTouches(t,e){var r=toArray(t.touches),n=this.targetIds;if(e&(x|w)&&1===r.length)return n[r[0].identifier]=!0,[r,r];var o,i,a=toArray(t.changedTouches),s=[],u=this.target;if(i=r.filter((function(t){return hasParent(t.target,u)})),e===x)for(o=0;o<i.length;)n[i[o].identifier]=!0,o++;for(o=0;o<a.length;)n[a[o].identifier]&&s.push(a[o]),e&(E|P)&&delete n[a[o].identifier],o++;return s.length?[uniqueArray(i.concat(s),"identifier",!0),s]:void 0}inherit(TouchInput,Input,{handler:function MTEhandler(t){var e=H[t.type],r=getTouches.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}});var Y=2500,Z=25;function TouchMouseInput(){Input.apply(this,arguments);var t=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,t),this.mouse=new MouseInput(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function recordTouches(t,e){t&x?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch.call(this,e)):t&(E|P)&&setLastTouch.call(this,e)}function setLastTouch(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout((function removeLastTouch(){var t=n.indexOf(r);t>-1&&n.splice(t,1)}),Y)}}function isSyntheticEvent(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],i=Math.abs(e-o.x),a=Math.abs(r-o.y);if(i<=Z&&a<=Z)return!0}return!1}inherit(TouchMouseInput,Input,{handler:function TMEhandler(t,e,r){var n="touch"==r.pointerType,o="mouse"==r.pointerType;if(!(o&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)recordTouches.call(this,e,r);else if(o&&isSyntheticEvent.call(this,r))return;this.callback(t,e,r)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var X=prefixed(c.style,"touchAction"),Q=X!==s,$="auto",J="manipulation",tt="none",et="pan-x",rt="pan-y",nt=function getTouchActionProps(){if(!Q)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){t[r]=!e||o.CSS.supports("touch-action",r)})),t}();function TouchAction(t,e){this.manager=t,this.set(e)}TouchAction.prototype={set:function set(t){"compute"==t&&(t=this.compute()),Q&&this.manager.element.style&&nt[t]&&(this.manager.element.style[X]=t),this.actions=t.toLowerCase().trim()},update:function update(){this.set(this.manager.options.touchAction)},compute:function compute(){var t=[];return each(this.manager.recognizers,(function(e){boolOrFn(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function cleanTouchActions(t){if(inStr(t,tt))return tt;var e=inStr(t,et),r=inStr(t,rt);if(e&&r)return tt;if(e||r)return e?et:rt;if(inStr(t,J))return J;return $}(t.join(" "))},preventDefaults:function preventDefaults(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=inStr(n,tt)&&!nt[tt],i=inStr(n,rt)&&!nt[rt],a=inStr(n,et)&&!nt[et];if(o){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!i)return o||i&&r&R||a&&r&L?this.preventSrc(e):void 0}},preventSrc:function preventSrc(t){this.manager.session.prevented=!0,t.preventDefault()}};var ot=1,it=2,at=4,st=8,ut=st,lt=16;function Recognizer(t){this.options=u({},this.defaults,t||{}),this.id=function uniqueId(){return g++}(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function stateStr(t){return t&lt?"cancel":t&st?"end":t&at?"move":t&it?"start":""}function directionStr(t){return t==A?"down":t==M?"up":t==T?"left":t==D?"right":""}function getRecognizerByNameIfManager(t,e){var r=e.manager;return r?r.get(t):t}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(t,e){return(e=e||{}).recognizers=ifUndefined(e.recognizers,Hammer.defaults.preset),new Manager(t,e)}Recognizer.prototype={defaults:{},set:function set(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function recognizeWith(t){if(invokeArrayArg(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=getRecognizerByNameIfManager(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function dropRecognizeWith(t){return invokeArrayArg(t,"dropRecognizeWith",this)?this:(t=getRecognizerByNameIfManager(t,this),delete this.simultaneous[t.id],this)},requireFailure:function requireFailure(t){if(invokeArrayArg(t,"requireFailure",this))return this;var e=this.requireFail;return-1===inArray(e,t=getRecognizerByNameIfManager(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function dropRequireFailure(t){if(invokeArrayArg(t,"dropRequireFailure",this))return this;t=getRecognizerByNameIfManager(t,this);var e=inArray(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function hasRequireFailures(){return this.requireFail.length>0},canRecognizeWith:function canRecognizeWith(t){return!!this.simultaneous[t.id]},emit:function emit(t){var e=this,r=this.state;function emit(r){e.manager.emit(r,t)}r<st&&emit(e.options.event+stateStr(r)),emit(e.options.event),t.additionalEvent&&emit(t.additionalEvent),r>=st&&emit(e.options.event+stateStr(r))},tryEmit:function tryEmit(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function canEmit(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ot)))return!1;t++}return!0},recognize:function recognize(t){var e=u({},t);if(!boolOrFn(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ut|lt|32)&&(this.state=ot),this.state=this.process(e),this.state&(it|at|st|lt)&&this.tryEmit(e)},process:function process(t){},getTouchAction:function getTouchAction(){},reset:function reset(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function attrTest(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function process(t){var e=this.state,r=t.eventType,n=e&(it|at),o=this.attrTest(t);return n&&(r&P||!o)?e|lt:n||o?r&E?e|st:e&it?e|at:it:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:I},getTouchAction:function getTouchAction(){var t=this.options.direction,e=[];return t&R&&e.push(rt),t&L&&e.push(et),e},directionTest:function directionTest(t){var e=this.options,r=!0,n=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&R?(o=0===i?C:i<0?T:D,r=i!=this.pX,n=Math.abs(t.deltaX)):(o=0===a?C:a<0?M:A,r=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,r&&n>e.threshold&&o&e.direction},attrTest:function attrTest(t){return AttrRecognizer.prototype.attrTest.call(this,t)&&(this.state&it||!(this.state&it)&&this.directionTest(t))},emit:function emit(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=directionStr(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[tt]},attrTest:function attrTest(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&it)},emit:function emit(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function getTouchAction(){return[$]},process:function process(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!r||t.eventType&(E|P)&&!o)this.reset();else if(t.eventType&x)this.reset(),this._timer=setTimeoutContext((function(){this.state=ut,this.tryEmit()}),e.time,this);else if(t.eventType&E)return ut;return 32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(t){this.state===ut&&(t&&t.eventType&E?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[tt]},attrTest:function attrTest(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&it)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:R|L,pointers:1},getTouchAction:function getTouchAction(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function attrTest(t){var e,r=this.options.direction;return r&(R|L)?e=t.overallVelocity:r&R?e=t.overallVelocityX:r&L&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&E},emit:function emit(t){var e=directionStr(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function getTouchAction(){return[J]},process:function process(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&x&&0===this.count)return this.failTimeout();if(n&&o&&r){if(t.eventType!=E)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||getDistance(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext((function(){this.state=ut,this.tryEmit()}),e.interval,this),it):ut}return 32},failTimeout:function failTimeout(){return this._timer=setTimeoutContext((function(){this.state=32}),this.options.interval,this),32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(){this.state==ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:R}],[PanRecognizer,{direction:R},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Manager(t,e){this.options=u({},Hammer.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function createInputInstance(t){var e=t.options.inputClass;return new(e||(_?PointerEventInput:b?TouchInput:v?TouchMouseInput:MouseInput))(t,inputHandler)}(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function toggleCssProps(t,e){var r,n=t.element;n.style&&(each(t.options.cssProps,(function(o,i){r=prefixed(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}Manager.prototype={set:function set(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function stop(t){this.session.stopped=t?2:1},recognize:function recognize(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&ut)&&(o=e.curRecognizer=null);for(var i=0;i<n.length;)r=n[i],2===e.stopped||o&&r!=o&&!r.canRecognizeWith(o)?r.reset():r.recognize(t),!o&&r.state&(it|at|st)&&(o=e.curRecognizer=r),i++}},get:function get(t){if(t instanceof Recognizer)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function add(t){if(invokeArrayArg(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function remove(t){if(invokeArrayArg(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,r=inArray(e,t);-1!==r&&(e.splice(r,1),this.touchAction.update())}return this},on:function on(t,e){if(t!==s&&e!==s){var r=this.handlers;return each(splitStr(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function off(t,e){if(t!==s){var r=this.handlers;return each(splitStr(t),(function(t){e?r[t]&&r[t].splice(inArray(r[t],e),1):delete r[t]})),this}},emit:function emit(t,e){this.options.domEvents&&function triggerDomEvent(t,e){var r=i.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<r.length;)r[n](e),n++}},destroy:function destroy(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Hammer,{INPUT_START:x,INPUT_MOVE:w,INPUT_END:E,INPUT_CANCEL:P,STATE_POSSIBLE:ot,STATE_BEGAN:it,STATE_CHANGED:at,STATE_ENDED:st,STATE_RECOGNIZED:ut,STATE_CANCELLED:lt,STATE_FAILED:32,DIRECTION_NONE:C,DIRECTION_LEFT:T,DIRECTION_RIGHT:D,DIRECTION_UP:M,DIRECTION_DOWN:A,DIRECTION_HORIZONTAL:R,DIRECTION_VERTICAL:L,DIRECTION_ALL:I,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:y,extend:m,assign:u,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),("undefined"!==typeof o?o:"undefined"!==typeof self?self:{}).Hammer=Hammer,(n=function(){return Hammer}.call(e,r,e,t))===s||(t.exports=n)}(window,document)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(115)),a=o(r(271)),s=o(r(272)),u=o(r(47)),l=o(r(48)),c=o(r(55)),p=o(r(57)),f=o(r(56)),d=o(r(58)),h=o(r(29)),m=n(r(0)),y=o(r(3)),g=o(r(983)),v=o(r(389)),_=o(r(390)),b=o(r(391)),S=o(r(392)),x=o(r(394)),w=o(r(395)),E=o(r(396)),P=n(r(996)),C=r(202),T=r(92),D=o(r(388)),M={children:h.default.any,width:h.default.oneOfType([h.default.string,h.default.number]),height:h.default.oneOfType([h.default.string,h.default.number]),fluid:h.default.bool,muted:h.default.bool,playsInline:h.default.bool,aspectRatio:h.default.string,className:h.default.string,videoId:h.default.string,startTime:h.default.number,loop:h.default.bool,autoPlay:h.default.bool,src:h.default.string,poster:h.default.string,preload:h.default.oneOf(["auto","metadata","none"]),onLoadStart:h.default.func,onWaiting:h.default.func,onCanPlay:h.default.func,onCanPlayThrough:h.default.func,onPlaying:h.default.func,onEnded:h.default.func,onSeeking:h.default.func,onSeeked:h.default.func,onPlay:h.default.func,onPause:h.default.func,onProgress:h.default.func,onDurationChange:h.default.func,onError:h.default.func,onSuspend:h.default.func,onAbort:h.default.func,onEmptied:h.default.func,onStalled:h.default.func,onLoadedMetadata:h.default.func,onLoadedData:h.default.func,onTimeUpdate:h.default.func,onRateChange:h.default.func,onVolumeChange:h.default.func,store:h.default.object},A=function(t){function Player(t){var e;return(0,u.default)(this,Player),(e=(0,c.default)(this,(0,p.default)(Player).call(this,t))).controlsHideTimer=null,e.video=null,e.manager=new g.default(t.store),e.actions=e.manager.getActions(),e.manager.subscribeToPlayerStateChange(e.handleStateChange.bind((0,f.default)(e))),e.getStyle=e.getStyle.bind((0,f.default)(e)),e.handleResize=e.handleResize.bind((0,f.default)(e)),e.getChildren=e.getChildren.bind((0,f.default)(e)),e.handleMouseMove=(0,T.throttle)(e.handleMouseMove.bind((0,f.default)(e)),250),e.handleMouseDown=e.handleMouseDown.bind((0,f.default)(e)),e.startControlsTimer=e.startControlsTimer.bind((0,f.default)(e)),e.handleFullScreenChange=e.handleFullScreenChange.bind((0,f.default)(e)),e.handleKeyDown=e.handleKeyDown.bind((0,f.default)(e)),e.handleFocus=e.handleFocus.bind((0,f.default)(e)),e.handleBlur=e.handleBlur.bind((0,f.default)(e)),e}return(0,d.default)(Player,t),(0,l.default)(Player,[{key:"componentDidMount",value:function componentDidMount(){this.handleResize(),window.addEventListener("resize",this.handleResize),D.default.addEventListener(this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleResize),D.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"getDefaultChildren",value:function getDefaultChildren(t){var e=this;return[m.default.createElement(S.default,{ref:function ref(t){e.video=t,e.manager.video=e.video},key:"video",order:0},t),m.default.createElement(b.default,{key:"poster-image",order:1}),m.default.createElement(_.default,{key:"loading-spinner",order:2}),m.default.createElement(x.default,{key:"bezel",order:3}),m.default.createElement(v.default,{key:"big-play-button",order:4}),m.default.createElement(E.default,{key:"control-bar",order:5}),m.default.createElement(w.default,{key:"shortcut",order:99})]}},{key:"getChildren",value:function getChildren(t){t.className;var e=t.children,r=(0,s.default)(t,["className","children"]),n=m.default.Children.toArray(this.props.children).filter((function(t){return!(0,T.isVideoChild)(t)})),o=this.getDefaultChildren(e);return(0,T.mergeAndSortChildren)(o,n,r)}},{key:"setWidthOrHeight",value:function setWidthOrHeight(t,e,r){var n;"string"===typeof r?"auto"===r?n="auto":r.match(/\d+%/)&&(n=r):"number"===typeof r&&(n="".concat(r,"px")),Object.assign(t,(0,a.default)({},e,n))}},{key:"getStyle",value:function getStyle(){var t,e,r=this.props,n=r.fluid,o=r.aspectRatio,i=r.height,a=r.width,s=this.manager.getState().player,u={},l=(void 0!==o&&"auto"!==o?o:s.videoWidth?"".concat(s.videoWidth,":").concat(s.videoHeight):"16:9").split(":"),c=l[1]/l[0];return t=void 0!==a?a:void 0!==i?i/c:s.videoWidth||400,e=void 0!==i?i:t*c,n?u.paddingTop="".concat(100*c,"%"):(this.setWidthOrHeight(u,"width",t),this.setWidthOrHeight(u,"height",e)),u}},{key:"getState",value:function getState(){return this.manager.getState()}},{key:"play",value:function play(){this.video.play()}},{key:"pause",value:function pause(){this.video.pause()}},{key:"load",value:function load(){this.video.load()}},{key:"addTextTrack",value:function addTextTrack(){var t;(t=this.video).addTextTrack.apply(t,arguments)}},{key:"canPlayType",value:function canPlayType(){var t;(t=this.video).canPlayType.apply(t,arguments)}},{key:"seek",value:function seek(t){this.video.seek(t)}},{key:"forward",value:function forward(t){this.video.forward(t)}},{key:"replay",value:function replay(t){this.video.replay(t)}},{key:"toggleFullscreen",value:function toggleFullscreen(){this.video.toggleFullscreen()}},{key:"subscribeToStateChange",value:function subscribeToStateChange(t){return this.manager.subscribeToPlayerStateChange(t)}},{key:"handleResize",value:function handleResize(){}},{key:"handleFullScreenChange",value:function handleFullScreenChange(t){t.target===this.manager.rootElement&&this.actions.handleFullscreenChange(D.default.isFullscreen)}},{key:"handleMouseDown",value:function handleMouseDown(){this.startControlsTimer()}},{key:"handleMouseMove",value:function handleMouseMove(){this.startControlsTimer()}},{key:"handleKeyDown",value:function handleKeyDown(){this.startControlsTimer()}},{key:"startControlsTimer",value:function startControlsTimer(){var t=this,e=3e3;m.default.Children.forEach(this.props.children,(function(t){if(m.default.isValidElement(t)&&t.type===E.default){var r=t.props.autoHideTime;"number"===typeof r&&(e=r)}})),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout((function(){t.actions.userActivate(!1)}),e)}},{key:"handleStateChange",value:function handleStateChange(t,e){t.isFullscreen!==e.isFullscreen&&(this.handleResize(),(0,C.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:"handleFocus",value:function handleFocus(){this.actions.activate(!0)}},{key:"handleBlur",value:function handleBlur(){this.actions.activate(!1)}},{key:"render",value:function render(){var t=this,e=this.props.fluid,r=this.manager.getState().player,n=r.paused,o=r.hasStarted,a=r.waiting,s=r.seeking,u=r.isFullscreen,l=r.userActivity,c=(0,i.default)({},this.props,{player:r,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),p=this.getChildren(c);return m.default.createElement("div",{className:(0,y.default)({"video-react-controls-enabled":!0,"video-react-has-started":o,"video-react-paused":n,"video-react-playing":!n,"video-react-waiting":a,"video-react-seeking":s,"video-react-fluid":e,"video-react-fullscreen":u,"video-react-user-inactive":!l,"video-react-user-active":l,"video-react-workinghover":!P.IS_IOS},"video-react",this.props.className),style:this.getStyle(),ref:function ref(e){t.manager.rootElement=e},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},p)}},{key:"playbackRate",get:function get(){return this.video.playbackRate},set:function set(t){this.video.playbackRate=t}},{key:"muted",get:function get(){return this.video.muted},set:function set(t){this.video.muted=t}},{key:"volume",get:function get(){return this.video.volume},set:function set(t){this.video.volume=t}},{key:"videoWidth",get:function get(){return this.video.videoWidth}},{key:"videoHeight",get:function get(){return this.video.videoHeight}}]),Player}(m.Component);e.default=A,A.contextTypes={store:h.default.object},A.propTypes=M,A.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},A.displayName="Player"},function(t,e){t.exports=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}},function(t,e){function _typeof2(t){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(115)),a=o(r(47)),s=o(r(48)),u=r(984),l=o(r(387)),c=n(r(201)),p=n(r(273)),f=function(){function Manager(t){(0,a.default)(this,Manager),this.store=t||(0,u.createStore)(l.default),this.video=null,this.rootElement=null}return(0,s.default)(Manager,[{key:"getActions",value:function getActions(){var t=this,e=this.store.dispatch,r=(0,i.default)({},c,p);return Object.keys(r).filter((function(t){return"function"===typeof r[t]})).reduce((function(n,o){return n[o]=function bindActionCreator(r){return function bindAction(){var n=r.apply(t,arguments);"undefined"!==typeof n&&e(n)}}(r[o]),n}),{})}},{key:"getState",value:function getState(){return this.store.getState()}},{key:"subscribeToStateChange",value:function subscribeToStateChange(t,e){e||(e=this.getState.bind(this));var r=e();return this.store.subscribe((function handleChange(){var n=e();if(n!==r){var o=r;r=n,t(n,o)}}))}},{key:"subscribeToOperationStateChange",value:function subscribeToOperationStateChange(t){var e=this;return this.subscribeToStateChange(t,(function(){return e.getState().operation}))}},{key:"subscribeToPlayerStateChange",value:function subscribeToPlayerStateChange(t){var e=this;return this.subscribeToStateChange(t,(function(){return e.getState().player}))}}]),Manager}();e.default=f},function(t,e,r){"use strict";r.r(e),r.d(e,"__DO_NOT_USE__ActionTypes",(function(){return i})),r.d(e,"applyMiddleware",(function(){return applyMiddleware})),r.d(e,"bindActionCreators",(function(){return bindActionCreators})),r.d(e,"combineReducers",(function(){return combineReducers})),r.d(e,"compose",(function(){return compose})),r.d(e,"createStore",(function(){return createStore}));var n=r(125),o=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function isPlainObject(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,r){var o;if("function"===typeof e&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof e&&"undefined"===typeof r&&(r=e,e=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var a=t,s=e,u=[],l=u,c=!1;function ensureCanMutateNextListeners(){l===u&&(l=u.slice())}function getState(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function subscribe(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return ensureCanMutateNextListeners(),l.push(t),function unsubscribe(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,ensureCanMutateNextListeners();var r=l.indexOf(t);l.splice(r,1)}}}function dispatch(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,s=a(s,t)}finally{c=!1}for(var e=u=l,r=0;r<e.length;r++){(0,e[r])()}return t}return dispatch({type:i.INIT}),(o={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");a=t,dispatch({type:i.REPLACE})}})[n.default]=function observable(){var t,e=subscribe;return(t={subscribe:function subscribe(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function observeState(){t.next&&t.next(getState())}return observeState(),{unsubscribe:e(observeState)}}})[n.default]=function(){return this},t},o}function getUndefinedStateErrorMessage(t,e){var r=e&&e.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var o=e[n];0,"function"===typeof t[o]&&(r[o]=t[o])}var a,s=Object.keys(r);try{!function assertReducerShape(t){Object.keys(t).forEach((function(e){var r=t[e];if("undefined"===typeof r(void 0,{type:i.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(u){a=u}return function combination(t,e){if(void 0===t&&(t={}),a)throw a;for(var n=!1,o={},i=0;i<s.length;i++){var u=s[i],l=r[u],c=t[u],p=l(c,e);if("undefined"===typeof p){var f=getUndefinedStateErrorMessage(u,e);throw new Error(f)}o[u]=p,n=n||p!==c}return n?o:t}}function bindActionCreator(t,e){return function(){return e(t.apply(this,arguments))}}function bindActionCreators(t,e){if("function"===typeof t)return bindActionCreator(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in t){var o=t[n];"function"===typeof o&&(r[n]=bindActionCreator(o,e))}return r}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ownKeys(t,e){var r=Object.keys(t);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(t)),e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function compose(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function applyMiddleware(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),n=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function dispatch(){return n.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return _objectSpread2({},r,{dispatch:n=compose.apply(void 0,i)(r.dispatch)})}}}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function player(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.USER_ACTIVATE:return(0,o.default)({},t,{userActivity:e.activity});case a.PLAYER_ACTIVATE:return(0,o.default)({},t,{isActive:e.activity});case a.FULLSCREEN_CHANGE:return(0,o.default)({},t,{isFullscreen:!!e.isFullscreen});case i.SEEKING_TIME:return(0,o.default)({},t,{seekingTime:e.time});case i.END_SEEKING:return(0,o.default)({},t,{seekingTime:0});case i.LOAD_START:return(0,o.default)({},t,e.videoProps,{hasStarted:!1,ended:!1});case i.CAN_PLAY:return(0,o.default)({},t,e.videoProps,{waiting:!1});case i.WAITING:return(0,o.default)({},t,e.videoProps,{waiting:!0});case i.CAN_PLAY_THROUGH:case i.PLAYING:return(0,o.default)({},t,e.videoProps,{waiting:!1});case i.PLAY:return(0,o.default)({},t,e.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case i.PAUSE:return(0,o.default)({},t,e.videoProps,{paused:!0});case i.END:return(0,o.default)({},t,e.videoProps,{ended:!0});case i.SEEKING:return(0,o.default)({},t,e.videoProps,{seeking:!0});case i.SEEKED:return(0,o.default)({},t,e.videoProps,{seeking:!1});case i.ERROR:return(0,o.default)({},t,e.videoProps,{error:"UNKNOWN ERROR",ended:!0});case i.DURATION_CHANGE:case i.TIME_UPDATE:case i.VOLUME_CHANGE:case i.PROGRESS_CHANGE:case i.RATE_CHANGE:case i.SUSPEND:case i.ABORT:case i.EMPTIED:case i.STALLED:case i.LOADED_META_DATA:case i.LOADED_DATA:case i.RESIZE:return(0,o.default)({},t,e.videoProps);case i.ACTIVATE_TEXT_TRACK:return(0,o.default)({},t,{activeTextTrack:e.textTrack});default:return t}};var o=n(r(115)),i=r(273),a=r(201),s={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function operation(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.OPERATE:return(0,o.default)({},t,{count:t.count+1,operation:(0,o.default)({},t.operation,e.operation)});default:return t}};var o=n(r(115)),i=r(201),a={count:0,operation:{action:"",source:""}}},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=PopupButton;var o=n(r(166)),i=n(r(115)),a=n(r(29)),s=n(r(0)),u=n(r(3)),l=n(r(412)),c=n(r(991)),p={inline:a.default.bool,onClick:a.default.func.isRequired,onFocus:a.default.func,onBlur:a.default.func,className:a.default.string};function PopupButton(t){var e=t.inline,r=t.className,n=(0,i.default)({},t);return delete n.children,delete n.inline,delete n.className,s.default.createElement(l.default,(0,o.default)({className:(0,u.default)(r,{"video-react-menu-button-inline":!!e,"video-react-menu-button-popup":!e},"video-react-control video-react-button video-react-menu-button")},n),s.default.createElement(c.default,t))}PopupButton.propTypes=p,PopupButton.defaultProps={inline:!0},PopupButton.displayName="PopupButton"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d={player:p.default.object,children:p.default.any},h=function(t){function Popup(t,e){var r;return(0,i.default)(this,Popup),(r=(0,s.default)(this,(0,u.default)(Popup).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(Popup,t),(0,a.default)(Popup,[{key:"handleClick",value:function handleClick(t){t.preventDefault()}},{key:"render",value:function render(){var t=this.props.children;return f.default.createElement("div",{className:"video-react-menu",onClick:this.handleClick},f.default.createElement("div",{className:"video-react-menu-content"},t))}}]),Popup}(f.Component);e.default=h,h.propTypes=d,h.displayName="Popup"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(166)),a=o(r(47)),s=o(r(48)),u=o(r(55)),l=o(r(57)),c=o(r(56)),p=o(r(58)),f=o(r(29)),d=n(r(0)),h=o(r(3)),m=o(r(274)),y=o(r(993)),g={actions:f.default.object,player:f.default.object,className:f.default.string,onFocus:f.default.func,onBlur:f.default.func},v=function(t){function VolumeBar(t,e){var r;return(0,a.default)(this,VolumeBar),(r=(0,u.default)(this,(0,l.default)(VolumeBar).call(this,t,e))).state={percentage:"0%"},r.handleMouseMove=r.handleMouseMove.bind((0,c.default)(r)),r.handlePercentageChange=r.handlePercentageChange.bind((0,c.default)(r)),r.checkMuted=r.checkMuted.bind((0,c.default)(r)),r.getPercent=r.getPercent.bind((0,c.default)(r)),r.stepForward=r.stepForward.bind((0,c.default)(r)),r.stepBack=r.stepBack.bind((0,c.default)(r)),r.handleFocus=r.handleFocus.bind((0,c.default)(r)),r.handleBlur=r.handleBlur.bind((0,c.default)(r)),r.handleClick=r.handleClick.bind((0,c.default)(r)),r}return(0,p.default)(VolumeBar,t),(0,s.default)(VolumeBar,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"getPercent",value:function getPercent(){var t=this.props.player;return t.muted?0:t.volume}},{key:"checkMuted",value:function checkMuted(){var t=this.props,e=t.player,r=t.actions;e.muted&&r.mute(!1)}},{key:"handleMouseMove",value:function handleMouseMove(t){var e=this.props.actions;this.checkMuted();var r=this.slider.calculateDistance(t);e.changeVolume(r)}},{key:"stepForward",value:function stepForward(){var t=this.props,e=t.player,r=t.actions;this.checkMuted(),r.changeVolume(e.volume+.1)}},{key:"stepBack",value:function stepBack(){var t=this.props,e=t.player,r=t.actions;this.checkMuted(),r.changeVolume(e.volume-.1)}},{key:"handleFocus",value:function handleFocus(t){this.props.onFocus&&this.props.onFocus(t)}},{key:"handleBlur",value:function handleBlur(t){this.props.onBlur&&this.props.onBlur(t)}},{key:"handlePercentageChange",value:function handlePercentageChange(t){t!==this.state.percentage&&this.setState({percentage:t})}},{key:"handleClick",value:function handleClick(t){t.stopPropagation()}},{key:"render",value:function render(){var t=this,e=this.props,r=e.player,n=e.className,o=(100*r.volume).toFixed(2);return d.default.createElement(m.default,(0,i.default)({ref:function ref(e){t.slider=e},label:"volume level",valuenow:o,valuetext:"".concat(o,"%"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,h.default)(n,"video-react-volume-bar video-react-slider-bar")}),d.default.createElement(y.default,this.props))}}]),VolumeBar}(d.Component);v.propTypes=g,v.displayName="VolumeBar";var _=v;e.default=_},function(t,e,r){"use strict";var n=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(29)),i=n(r(0)),a=n(r(3)),s={percentage:o.default.string,vertical:o.default.bool,className:o.default.string};function VolumeLevel(t){var e=t.percentage,r=t.vertical,n=t.className,o={};return r?o.height=e:o.width=e,i.default.createElement("div",{className:(0,a.default)(n,"video-react-volume-level"),style:o},i.default.createElement("span",{className:"video-react-control-text"}))}VolumeLevel.propTypes=s,VolumeLevel.defaultProps={percentage:"100%",vertical:!1},VolumeLevel.displayName="VolumeLevel";var u=VolumeLevel;e.default=u},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d={children:p.default.any},h=function(t){function Menu(t,e){var r;return(0,i.default)(this,Menu),(r=(0,s.default)(this,(0,u.default)(Menu).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(Menu,t),(0,a.default)(Menu,[{key:"handleClick",value:function handleClick(t){t.preventDefault()}},{key:"render",value:function render(){return f.default.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},f.default.createElement("ul",{className:"video-react-menu-content"},this.props.children))}}]),Menu}(f.Component);e.default=h,h.propTypes=d,h.displayName="Menu"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h={item:p.default.object,index:p.default.number,activateIndex:p.default.number,onSelectItem:p.default.func},m=function(t){function MenuItem(t,e){var r;return(0,i.default)(this,MenuItem),(r=(0,s.default)(this,(0,u.default)(MenuItem).call(this,t,e))).handleClick=r.handleClick.bind((0,l.default)(r)),r}return(0,c.default)(MenuItem,t),(0,a.default)(MenuItem,[{key:"handleClick",value:function handleClick(){var t=this.props,e=t.index;(0,t.onSelectItem)(e)}},{key:"render",value:function render(){var t=this.props,e=t.item,r=t.index,n=t.activateIndex;return f.default.createElement("li",{className:(0,d.default)({"video-react-menu-item":!0,"video-react-selected":r===n}),role:"menuitem",onClick:this.handleClick},e.label,f.default.createElement("span",{className:"video-react-control-text"}))}}]),MenuItem}(f.Component);e.default=m,m.propTypes=h,m.displayName="MenuItem"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_IOS=e.IS_IPOD=e.IS_IPHONE=e.IS_IPAD=void 0;var n="undefined"!==typeof window&&window.navigator?window.navigator.userAgent:"",o=/iPad/i.test(n);e.IS_IPAD=o;var i=/iPhone/i.test(n)&&!o;e.IS_IPHONE=i;var a=/iPod/i.test(n);e.IS_IPOD=a;var s=i||o||a;e.IS_IOS=s},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(58)),c=n(r(0)),p=o(r(275)),f=r(92),d=function(t){function PlaybackRate(t,e){var r;return(0,i.default)(this,PlaybackRate),r=(0,s.default)(this,(0,u.default)(PlaybackRate).call(this,t,e)),(0,f.deprecatedWarning)("PlaybackRate","PlaybackRateMenuButton"),r}return(0,l.default)(PlaybackRate,t),(0,a.default)(PlaybackRate,[{key:"render",value:function render(){return c.default.createElement(p.default,this.props)}}]),PlaybackRate}(c.Component);e.default=d,d.displayName="PlaybackRate"},function(t,e,r){"use strict";var n=r(51),o=r(14);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(47)),a=o(r(48)),s=o(r(55)),u=o(r(57)),l=o(r(56)),c=o(r(58)),p=o(r(29)),f=n(r(0)),d=o(r(3)),h=o(r(276)),m={player:p.default.object,actions:p.default.object,className:p.default.string,offMenuText:p.default.string,showOffMenu:p.default.bool,kinds:p.default.array},y=function(t){function ClosedCaptionButton(t,e){var r;return(0,i.default)(this,ClosedCaptionButton),(r=(0,s.default)(this,(0,u.default)(ClosedCaptionButton).call(this,t,e))).getTextTrackItems=r.getTextTrackItems.bind((0,l.default)(r)),r.updateState=r.updateState.bind((0,l.default)(r)),r.handleSelectItem=r.handleSelectItem.bind((0,l.default)(r)),r.state=r.getTextTrackItems(),r}return(0,c.default)(ClosedCaptionButton,t),(0,a.default)(ClosedCaptionButton,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateState()}},{key:"getTextTrackItems",value:function getTextTrackItems(){var t=this.props,e=t.kinds,r=t.player,n=t.offMenuText,o=t.showOffMenu,i=r.textTracks,a=r.activeTextTrack,s={items:[],selectedIndex:0},u=Array.from(i||[]);return 0===u.length?s:(o&&s.items.push({label:n||"Off",value:null}),u.forEach((function(t){e.length&&!e.includes(t.kind)||s.items.push({label:t.label,value:t.language})})),s.selectedIndex=s.items.findIndex((function(t){return a&&a.language===t.value})),-1===s.selectedIndex&&(s.selectedIndex=0),s)}},{key:"updateState",value:function updateState(){var t=this.getTextTrackItems();t.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(t.items,this.state.items)||this.setState(t)}},{key:"textTrackItemsAreEqual",value:function textTrackItemsAreEqual(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!e[r]||t[r].label!==e[r].label||t[r].value!==e[r].value)return!1;return!0}},{key:"handleSelectItem",value:function handleSelectItem(t){var e=this.props,r=e.player,n=e.actions,o=e.showOffMenu,i=r.textTracks;Array.from(i).forEach((function(e,r){t===(o?r+1:r)?(e.mode="showing",n.activateTextTrack(e)):e.mode="hidden"}))}},{key:"render",value:function render(){var t=this.state,e=t.items,r=t.selectedIndex;return f.default.createElement(h.default,{className:(0,d.default)("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:e,selectedIndex:r},f.default.createElement("span",{className:"video-react-control-text"},"Closed Caption"))}}]),ClosedCaptionButton}(f.Component);y.propTypes=m,y.defaultProps={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},y.displayName="ClosedCaptionButton";var g=y;e.default=g},function(t,e,r){},,,function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(28)),p=n(r(36)),f=n(r(0)),d=(n(r(9)),n(r(3))),h=n(r(113)),m=n(r(8)),y=r(140),g=n(r(277)),v=r(73),_=n(r(278)),b=n(r(279)),S=function styles(t){var e=3*t.spacing.unit,r={top:0},n={bottom:0},o={justifyContent:"flex-end"},i={justifyContent:"flex-start"},a={top:e},s={bottom:e},u={right:e},l={left:e},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:0,right:0,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,p.default)({},r,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({},f))),anchorOriginBottomCenter:(0,p.default)({},n,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({},f))),anchorOriginTopRight:(0,p.default)({},r,o,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({left:"auto"},a,u))),anchorOriginBottomRight:(0,p.default)({},n,o,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({left:"auto"},s,u))),anchorOriginTopLeft:(0,p.default)({},r,i,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({right:"auto"},a,l))),anchorOriginBottomLeft:(0,p.default)({},n,i,(0,c.default)({},t.breakpoints.up("md"),(0,p.default)({right:"auto"},s,l)))}};e.styles=S;var x=function(t){function Snackbar(){var t,e,r;(0,a.default)(this,Snackbar);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,u.default)(r,(e=r=(0,u.default)(this,(t=Snackbar.__proto__||Object.getPrototypeOf(Snackbar)).call.apply(t,[this].concat(o))),r.timerAutoHide=null,r.state={},r.handleMouseEnter=function(t){r.props.onMouseEnter&&r.props.onMouseEnter(t),r.handlePause()},r.handleMouseLeave=function(t){r.props.onMouseLeave&&r.props.onMouseLeave(t),r.handleResume()},r.handleClickAway=function(t){r.props.onClose&&r.props.onClose(t,"clickaway")},r.handlePause=function(){clearTimeout(r.timerAutoHide)},r.handleResume=function(){if(null!=r.props.autoHideDuration){if(void 0!==r.props.resumeHideDuration)return void r.setAutoHideTimer(r.props.resumeHideDuration);r.setAutoHideTimer(.5*(r.props.autoHideDuration||0))}},r.handleExited=function(){r.setState({exited:!0})},e))}return(0,l.default)(Snackbar,t),(0,s.default)(Snackbar,[{key:"componentDidMount",value:function componentDidMount(){this.props.open&&this.setAutoHideTimer()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function setAutoHideTimer(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onClose&&null!=this.props.autoHideDuration&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout((function(){t.props.onClose&&null!=t.props.autoHideDuration&&t.props.onClose(null,"timeout")}),e||this.props.autoHideDuration||0))}},{key:"render",value:function render(){var t=this.props,e=t.action,r=t.anchorOrigin,n=r.vertical,a=r.horizontal,s=(t.autoHideDuration,t.children),u=t.classes,l=t.className,c=t.ContentProps,p=t.disableWindowBlurListener,m=t.message,y=(t.onClose,t.onEnter),_=t.onEntered,S=t.onEntering,x=t.onExit,w=t.onExited,E=t.onExiting,P=(t.onMouseEnter,t.onMouseLeave,t.open),C=(t.resumeHideDuration,t.TransitionComponent),T=t.transitionDuration,D=t.TransitionProps,M=(0,i.default)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]);return!P&&this.state.exited?null:f.default.createElement(g.default,{onClickAway:this.handleClickAway},f.default.createElement("div",(0,o.default)({className:(0,d.default)(u.root,u["anchorOrigin".concat((0,v.capitalize)(n)).concat((0,v.capitalize)(a))],l),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},M),f.default.createElement(h.default,{target:"window",onFocus:p?void 0:this.handleResume,onBlur:p?void 0:this.handlePause}),f.default.createElement(C,(0,o.default)({appear:!0,in:P,onEnter:y,onEntered:_,onEntering:S,onExit:x,onExited:(0,v.createChainedFunction)(this.handleExited,w),onExiting:E,timeout:T,direction:"top"===n?"down":"up"},D),s||f.default.createElement(b.default,(0,o.default)({message:m,action:e},c)))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(t,e){return"undefined"===typeof e.exited?{exited:!t.open}:t.open?{exited:!1}:null}}]),Snackbar}(f.default.Component);x.propTypes={},x.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"center"},disableWindowBlurListener:!1,TransitionComponent:_.default,transitionDuration:{enter:y.duration.enteringScreen,exit:y.duration.leavingScreen}};var w=(0,m.default)(S,{flip:!1,name:"MuiSnackbar"})(x);e.default=w},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(37)),s=n(r(38)),u=n(r(40)),l=n(r(41)),c=n(r(0)),p=n(r(52)),f=(n(r(9)),n(r(113))),d=n(r(103)),h=function(t){function ClickAwayListener(){var t,e,r;(0,a.default)(this,ClickAwayListener);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,u.default)(r,(e=r=(0,u.default)(this,(t=ClickAwayListener.__proto__||Object.getPrototypeOf(ClickAwayListener)).call.apply(t,[this].concat(o))),r.node=null,r.mounted=null,r.handleClickAway=function(t){if(!t.defaultPrevented&&r.mounted&&r.node){var e=(0,d.default)(r.node);e.documentElement&&e.documentElement.contains(t.target)&&!r.node.contains(t.target)&&r.props.onClickAway(t)}},e))}return(0,l.default)(ClickAwayListener,t),(0,s.default)(ClickAwayListener,[{key:"componentDidMount",value:function componentDidMount(){this.node=p.default.findDOMNode(this),this.mounted=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"render",value:function render(){var t=this.props,e=t.children,r=t.mouseEvent,n=t.touchEvent,a=(t.onClickAway,(0,i.default)(t,["children","mouseEvent","touchEvent","onClickAway"])),s={};return!1!==r&&(s[r]=this.handleClickAway),!1!==n&&(s[n]=this.handleClickAway),c.default.createElement(f.default,(0,o.default)({target:"document"},s,a),e)}}]),ClickAwayListener}(c.default.Component);h.propTypes={},h.defaultProps={mouseEvent:"onMouseUp",touchEvent:"onTouchEnd"};var m=h;e.default=m},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.setTranslateValue=setTranslateValue,e.default=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(36)),s=n(r(37)),u=n(r(38)),l=n(r(40)),c=n(r(41)),p=n(r(0)),f=(n(r(9)),n(r(52))),d=n(r(113)),h=n(r(87)),m=n(r(162)),y=n(r(190)),g=n(r(147)),v=r(140),_=r(196),b=24;function setTranslateValue(t,e){var r=function getTranslateValue(t,e){var r,n=t.direction,o=e.getBoundingClientRect();if(e.fakeTransform)r=e.fakeTransform;else{var i=(0,y.default)(e).getComputedStyle(e);r=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,s=0;if(r&&"none"!==r&&"string"===typeof r){var u=r.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),s=parseInt(u[5],10)}return"left"===n?"translateX(100vw) translateX(-".concat(o.left-a,"px)"):"right"===n?"translateX(-".concat(o.left+o.width+b-a,"px)"):"up"===n?"translateY(100vh) translateY(-".concat(o.top-s,"px)"):"translateY(-".concat(o.top+o.height+b-s,"px)")}(t,e);r&&(e.style.webkitTransform=r,e.style.transform=r)}var S=function(t){function Slide(){var t,e,r;(0,s.default)(this,Slide);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(0,l.default)(r,(e=r=(0,l.default)(this,(t=Slide.__proto__||Object.getPrototypeOf(Slide)).call.apply(t,[this].concat(o))),r.mounted=!1,r.transition=null,r.handleResize=(0,h.default)((function(){if(!r.props.in&&"down"!==r.props.direction&&"right"!==r.props.direction){var t=f.default.findDOMNode(r.transition);t&&setTranslateValue(r.props,t)}}),166),r.handleEnter=function(t){setTranslateValue(r.props,t),(0,_.reflow)(t),r.props.onEnter&&r.props.onEnter(t)},r.handleEntering=function(t){var e=r.props.theme,n=(0,_.getTransitionProps)(r.props,{mode:"enter"});t.style.webkitTransition=e.transitions.create("-webkit-transform",(0,a.default)({},n,{easing:e.transitions.easing.easeOut})),t.style.transition=e.transitions.create("transform",(0,a.default)({},n,{easing:e.transitions.easing.easeOut})),t.style.webkitTransform="translate(0, 0)",t.style.transform="translate(0, 0)",r.props.onEntering&&r.props.onEntering(t)},r.handleExit=function(t){var e=r.props.theme,n=(0,_.getTransitionProps)(r.props,{mode:"exit"});t.style.webkitTransition=e.transitions.create("-webkit-transform",(0,a.default)({},n,{easing:e.transitions.easing.sharp})),t.style.transition=e.transitions.create("transform",(0,a.default)({},n,{easing:e.transitions.easing.sharp})),setTranslateValue(r.props,t),r.props.onExit&&r.props.onExit(t)},r.handleExited=function(t){t.style.webkitTransition="",t.style.transition="",r.props.onExited&&r.props.onExited(t)},e))}return(0,c.default)(Slide,t),(0,u.default)(Slide,[{key:"componentDidMount",value:function componentDidMount(){this.props.in||this.updatePosition(),this.mounted=!0}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.direction===this.props.direction||this.props.in||this.updatePosition()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.handleResize.clear()}},{key:"updatePosition",value:function updatePosition(){var t=f.default.findDOMNode(this.transition);t&&(t.style.visibility="inherit",setTranslateValue(this.props,t))}},{key:"render",value:function render(){var t=this,e=this.props,r=e.children,n=(e.onEnter,e.onEntering,e.onExit,e.onExited,e.style),s=(e.theme,(0,i.default)(e,["children","onEnter","onEntering","onExit","onExited","style","theme"])),u={};return this.props.in||this.mounted||(u.visibility="hidden"),u=(0,a.default)({},u,n,p.default.isValidElement(r)?r.props.style:{}),p.default.createElement(d.default,{target:"window",onResize:this.handleResize},p.default.createElement(m.default,(0,o.default)({onEnter:this.handleEnter,onEntering:this.handleEntering,onExit:this.handleExit,onExited:this.handleExited,appear:!0,style:u,ref:function ref(e){t.transition=e}},s),r))}}]),Slide}(p.default.Component);S.propTypes={},S.defaultProps={direction:"down",timeout:{enter:v.duration.enteringScreen,exit:v.duration.leavingScreen}};var x=(0,g.default)()(S);e.default=x},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.styles=void 0;var o=n(r(13)),i=n(r(11)),a=n(r(28)),s=n(r(0)),u=(n(r(9)),n(r(3))),l=n(r(8)),c=n(r(74)),p=n(r(18)),f=r(139),d=function styles(t){var e,r="light"===t.palette.type?.8:.98,n=(0,f.emphasize)(t.palette.background.default,r);return{root:(e={pointerEvents:"initial",color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px ".concat(3*t.spacing.unit,"px")},(0,a.default)(e,t.breakpoints.up("md"),{minWidth:288,maxWidth:568,borderRadius:t.shape.borderRadius}),(0,a.default)(e,t.breakpoints.down("sm"),{flexGrow:1}),e),message:{padding:"".concat(t.spacing.unit,"px 0")},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:3*t.spacing.unit,marginRight:-t.spacing.unit}}};function SnackbarContent(t){var e=t.action,r=t.classes,n=t.className,a=t.message,l=(0,i.default)(t,["action","classes","className","message"]);return s.default.createElement(c.default,(0,o.default)({component:p.default,headlineMapping:{body1:"div"},role:"alertdialog",square:!0,elevation:6,className:(0,u.default)(r.root,n)},l),s.default.createElement("div",{className:r.message},a),e?s.default.createElement("div",{className:r.action},e):null)}e.styles=d,SnackbarContent.propTypes={};var h=(0,l.default)(d,{name:"MuiSnackbarContent"})(SnackbarContent);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e.addEventListener=function addEventListener(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)},e.removeEventListener=function removeEventListener(t,e,r){return t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent("on"+e,r)},e.getConfirmation=function getConfirmation(t,e){return e(window.confirm(t))},e.supportsHistory=function supportsHistory(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function isExtraneousPopstateEvent(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(37)),i=n(r(38)),a=n(r(40)),s=n(r(41)),u=n(r(0)),l=(n(r(9)),r(23)),c=(n(r(193)),function(t){function CssBaseline(){return(0,o.default)(this,CssBaseline),(0,a.default)(this,(CssBaseline.__proto__||Object.getPrototypeOf(CssBaseline)).apply(this,arguments))}return(0,s.default)(CssBaseline,t),(0,i.default)(CssBaseline,[{key:"render",value:function render(){return this.props.children}}]),CssBaseline}(u.default.Component));c.propTypes={},c.propTypes={},c.defaultProps={children:null};var p=(0,l.withStyles)((function styles(t){return{"@global":{html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},"*, *::before, *::after":{boxSizing:"inherit"},body:{margin:0,backgroundColor:t.palette.background.default,"@media print":{backgroundColor:t.palette.common.white}}}}}),{name:"MuiCssBaseline"})(c);e.default=p},,function(t,e,r){"use strict";(function custom(t){function polyIn(e){return Math.pow(e,t)}return t=+t,polyIn.exponent=custom,polyIn})(3),function custom(t){function polyOut(e){return 1-Math.pow(1-e,t)}return t=+t,polyOut.exponent=custom,polyOut}(3),function custom(t){function polyInOut(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,polyInOut.exponent=custom,polyInOut}(3),Math.PI;(function custom(t){function backIn(e){return e*e*((t+1)*e-t)}return t=+t,backIn.overshoot=custom,backIn})(1.70158),function custom(t){function backOut(e){return--e*e*((t+1)*e+t)+1}return t=+t,backOut.overshoot=custom,backOut}(1.70158),function custom(t){function backInOut(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,backInOut.overshoot=custom,backInOut}(1.70158);var n=2*Math.PI;(function custom(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=n);function elasticIn(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}return elasticIn.amplitude=function(t){return custom(t,e*n)},elasticIn.period=function(e){return custom(t,e)},elasticIn})(1,.3),function custom(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=n);function elasticOut(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}return elasticOut.amplitude=function(t){return custom(t,e*n)},elasticOut.period=function(e){return custom(t,e)},elasticOut}(1,.3),function custom(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=n);function elasticInOut(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}return elasticInOut.amplitude=function(t){return custom(t,e*n)},elasticInOut.period=function(e){return custom(t,e)},elasticInOut}(1,.3)},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r(22),i=r.n(o),a=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var s=function(t){function Manager(){var t,e,r;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Manager);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=_possibleConstructorReturn(this,(t=Manager.__proto__||Object.getPrototypeOf(Manager)).call.apply(t,[this].concat(o))),r._setTargetNode=function(t){r._targetNode=t},r._getTargetNode=function(){return r._targetNode},_possibleConstructorReturn(r,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Manager,t),a(Manager,[{key:"getChildContext",value:function getChildContext(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function render(){var t=this.props,e=t.tag,r=t.children,o=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["tag","children"]);return!1!==e?Object(n.createElement)(e,o,r):r}}]),Manager}(n.Component);s.childContextTypes={popperManager:i.a.object.isRequired},s.propTypes={tag:i.a.oneOfType([i.a.string,i.a.bool]),children:i.a.oneOfType([i.a.node,i.a.func])},s.defaultProps={tag:"div"};var u=s,l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var c=function Target(t,e){var r=t.component,o=void 0===r?"div":r,i=t.innerRef,a=t.children,s=function Target_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["component","innerRef","children"]),u=e.popperManager,c=function targetRef(t){u.setTargetNode(t),"function"===typeof i&&i(t)};if("function"===typeof a)return a({targetProps:{ref:c},restProps:s});var p=l({},s);return"string"===typeof o?p.ref=c:p.innerRef=c,Object(n.createElement)(o,p,a)};c.contextTypes={popperManager:i.a.object.isRequired},c.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,children:i.a.oneOfType([i.a.node,i.a.func])};var p=c,f=r(300),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();function Popper_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=f.a.placements,y=function(t){function Popper(){var t,e,r;!function Popper_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Popper);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=Popper_possibleConstructorReturn(this,(t=Popper.__proto__||Object.getPrototypeOf(Popper)).call.apply(t,[this].concat(o))),r.state={},r._setArrowNode=function(t){r._arrowNode=t},r._getTargetNode=function(){if(r.props.target)return r.props.target;if(!r.context.popperManager||!r.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return r.context.popperManager.getTargetNode()},r._getOffsets=function(t){return Object.keys(t.offsets).map((function(e){return t.offsets[e]}))},r._isDataDirty=function(t){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(t))},r._updateStateModifier={enabled:!0,order:900,fn:function fn(t){return r._isDataDirty(t)&&r.setState({data:t}),t}},r._getPopperStyle=function(){var t=r.state.data;return r._popper&&t?d({position:t.offsets.popper.position},t.styles):{position:"absolute",pointerEvents:"none",opacity:0}},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var t=r.state.data.offsets.arrow;return{top:t.top,left:t.left}}return{}},r._handlePopperRef=function(t){r._popperNode=t,t?r._createPopper():r._destroyPopper(),r.props.innerRef&&r.props.innerRef(t)},r._scheduleUpdate=function(){r._popper&&r._popper.scheduleUpdate()},Popper_possibleConstructorReturn(r,e)}return function Popper_inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Popper,t),h(Popper,[{key:"getChildContext",value:function getChildContext(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function componentDidUpdate(t){t.placement===this.props.placement&&t.eventsEnabled===this.props.eventsEnabled&&t.target===this.props.target||(this._destroyPopper(),this._createPopper()),t.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._destroyPopper()}},{key:"_createPopper",value:function _createPopper(){var t=this,e=this.props,r=e.placement,n=e.eventsEnabled,o=e.positionFixed,i=d({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(i.arrow=d({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new f.a(this._getTargetNode(),this._popperNode,{placement:r,positionFixed:o,eventsEnabled:n,modifiers:i}),setTimeout((function(){return t._scheduleUpdate()}))}},{key:"_destroyPopper",value:function _destroyPopper(){this._popper&&this._popper.destroy()}},{key:"render",value:function render(){var t=this.props,e=t.component,r=(t.innerRef,t.placement,t.eventsEnabled,t.positionFixed,t.modifiers,t.children),o=function Popper_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["component","innerRef","placement","eventsEnabled","positionFixed","modifiers","children"]),i=this._getPopperStyle(),a=this._getPopperPlacement(),s=this._getPopperHide();if("function"===typeof r)return r({popperProps:{ref:this._handlePopperRef,style:i,"data-placement":a,"data-x-out-of-boundaries":s},restProps:o,scheduleUpdate:this._scheduleUpdate});var u=d({},o,{style:d({},o.style,i),"data-placement":a,"data-x-out-of-boundaries":s});return"string"===typeof e?u.ref=this._handlePopperRef:u.innerRef=this._handlePopperRef,Object(n.createElement)(e,u,r)}}]),Popper}(n.Component);y.contextTypes={popperManager:i.a.object},y.childContextTypes={popper:i.a.object.isRequired},y.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,placement:i.a.oneOf(m),eventsEnabled:i.a.bool,positionFixed:i.a.bool,modifiers:i.a.object,children:i.a.oneOfType([i.a.node,i.a.func]),target:i.a.oneOfType([i.a.instanceOf("undefined"!==typeof Element?Element:Object),i.a.shape({getBoundingClientRect:i.a.func.isRequired,clientWidth:i.a.number.isRequired,clientHeight:i.a.number.isRequired})])},y.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,positionFixed:!1,modifiers:{}};var g=y,v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var _=function Arrow(t,e){var r=t.component,o=void 0===r?"span":r,i=t.innerRef,a=t.children,s=function Arrow_objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["component","innerRef","children"]),u=e.popper,l=function arrowRef(t){u.setArrowNode(t),"function"===typeof i&&i(t)},c=u.getArrowStyle();if("function"===typeof a)return a({arrowProps:{ref:l,style:c},restProps:s});var p=v({},s,{style:v({},c,s.style)});return"string"===typeof o?p.ref=l:p.innerRef=l,Object(n.createElement)(o,p,a)};_.contextTypes={popper:i.a.object.isRequired},_.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,children:i.a.oneOfType([i.a.node,i.a.func])};var b=_;r.d(e,"Manager",(function(){return u})),r.d(e,"Target",(function(){return p})),r.d(e,"Popper",(function(){return g})),r.d(e,"placements",(function(){return m})),r.d(e,"Arrow",(function(){return b}))},,,,function(t,e,r){"use strict";var n=r(0),o=r.n(n),i=r(70),a=r.n(i),s=r(49),u=r.n(s),l=r(152),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var p=function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},f=function(t){function Link(){var e,r;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Link);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=r=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!p(t)){t.preventDefault();var e=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?e.replace(i):e.push(i)}},_possibleConstructorReturn(r,e)}return function _inherits(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Link,t),Link.prototype.render=function render(){var t=this.props,e=(t.replace,t.to),r=t.innerRef,n=function _objectWithoutProperties(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==e,'You must specify the "to" property');var i=this.context.router.history,a="string"===typeof e?Object(l.a)(e,null,null,i.location):e,s=i.createHref(a);return o.a.createElement("a",c({},n,{onClick:this.handleClick,href:s,ref:r}))},Link}(o.a.Component);f.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},e.a=f},function(t,e,r){"use strict";var n={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function _typeof(t){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function isNumber(t){return"number"===typeof t}function isBigNumber(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function isComplex(t){return t&&"object"===_typeof(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function isFraction(t){return t&&"object"===_typeof(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function isUnit(t){return t&&!0===t.constructor.prototype.isUnit||!1}function isString(t){return"string"===typeof t}var o=Array.isArray;function isMatrix(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function isDenseMatrix(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function isSparseMatrix(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function isRange(t){return t&&!0===t.constructor.prototype.isRange||!1}function isIndex(t){return t&&!0===t.constructor.prototype.isIndex||!1}function isBoolean(t){return"boolean"===typeof t}function isResultSet(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function isHelp(t){return t&&!0===t.constructor.prototype.isHelp||!1}function isFunction(t){return"function"===typeof t}function isDate(t){return t instanceof Date}function isRegExp(t){return t instanceof RegExp}function isObject(t){return!(!t||"object"!==_typeof(t)||t.constructor!==Object||isComplex(t)||isFraction(t))}function isNull(t){return null===t}function isUndefined(t){return void 0===t}function isAccessorNode(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function isArrayNode(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function isAssignmentNode(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function isBlockNode(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function isConditionalNode(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function isConstantNode(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function isFunctionNode(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function isIndexNode(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function isNode(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function isObjectNode(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function isOperatorNode(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function isParenthesisNode(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function isRangeNode(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function isSymbolNode(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function isChain(t){return t&&!0===t.constructor.prototype.isChain||!1}function typeOf(t){var e=_typeof(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":isBigNumber(t)?"BigNumber":isComplex(t)?"Complex":isFraction(t)?"Fraction":isMatrix(t)?"Matrix":isUnit(t)?"Unit":isIndex(t)?"Index":isRange(t)?"Range":isResultSet(t)?"ResultSet":isNode(t)?t.type:isChain(t)?"Chain":isHelp(t)?"Help":"Object":"function"===e?"Function":e}function object_typeof(t){return(object_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function clone(t){var e=object_typeof(t);if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"===typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return clone(t)}));if(t instanceof Date)return new Date(t.valueOf());if(isBigNumber(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return mapObject(t,clone)}function mapObject(t,e){var r={};for(var n in t)object_hasOwnProperty(t,n)&&(r[n]=e(t[n]));return r}function extend(t,e){for(var r in e)object_hasOwnProperty(e,r)&&(t[r]=e[r]);return t}function deepStrictEqual(t,e){var r,n,o;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(n=0,o=t.length;n<o;n++)if(!deepStrictEqual(t[n],e[n]))return!1;return!0}if("function"===typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!deepStrictEqual(t[r],e[r]))return!1;for(r in e)if(!(r in t)||!deepStrictEqual(t[r],e[r]))return!1;return!0}return t===e}function object_hasOwnProperty(t,e){return t&&Object.hasOwnProperty.call(t,e)}var i=["Matrix","Array"],a=["number","BigNumber","Fraction"];function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var s=function config(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(n)};function number_isInteger(t){return"boolean"===typeof t||!!isFinite(t)&&t===Math.round(t)}_extends(s,n,{MATRIX_OPTIONS:i,NUMBER_OPTIONS:a});var u=Math.sign||function(t){return t>0?1:t<0?-1:0},l=Math.log2||function log2(t){return Math.log(t)/Math.LN2},c=Math.log10||function log10(t){return Math.log(t)/Math.LN10},p=(Math.log1p,Math.cbrt||function cbrt(t){if(0===t)return t;var e,r=t<0;return r&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,r?-e:e}),f=Math.expm1||function expm1(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function number_format(t,e){if("function"===typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),isNumber(e)?r=e:isNumber(e.precision)&&(r=e.precision)),n){case"fixed":return toFixed(t,r);case"exponential":return toExponential(t,r);case"engineering":return function toEngineering(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=roundDigits(splitNumber(t),e),n=r.exponent,o=r.coefficients,i=n%3===0?n:n<0?n-3-n%3:n-n%3;if(isNumber(e))for(;e>o.length||n-i+1>o.length;)o.push(0);else for(var a=n>=0?n:Math.abs(i);o.length-1<a;)o.push(0);var s=Math.abs(n-i),u=1;for(;s>0;)u++,s--;var l=o.slice(u).join(""),c=isNumber(e)&&l.length||l.match(/[1-9]/)?"."+l:"",p=o.slice(0,u).join("")+c+"e"+(n>=0?"+":"")+i.toString();return r.sign+p}(t,r);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=mapObject(e,(function(t){return t}));return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),toPrecision(t,r,o)}return toPrecision(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function splitNumber(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],o=parseFloat(e[4]||"0"),i=n.indexOf(".");o+=-1!==i?i-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return o-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),o++),{sign:r,coefficients:a,exponent:o}}function toFixed(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=splitNumber(t),n="number"===typeof e?roundDigits(r,r.exponent+1+e):r,o=n.coefficients,i=n.exponent+1,a=i+(e||0);return o.length<a&&(o=o.concat(number_zeros(a-o.length))),i<0&&(o=number_zeros(1-i).concat(o),i=1),i<o.length&&o.splice(i,0,0===i?"0.":"."),n.sign+o.join("")}function toExponential(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=splitNumber(t),n=e?roundDigits(r,e):r,o=n.coefficients,i=n.exponent;o.length<e&&(o=o.concat(number_zeros(e-o.length)));var a=o.shift();return n.sign+a+(o.length>0?"."+o.join(""):"")+"e"+(i>=0?"+":"")+i}function toPrecision(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,o=r&&void 0!==r.upperExp?r.upperExp:5,i=splitNumber(t),a=e?roundDigits(i,e):i;if(a.exponent<n||a.exponent>=o)return toExponential(t,e);var s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(number_zeros(e-s.length))),s=s.concat(number_zeros(u-s.length+1+(s.length<e?e-s.length:0)));var l=u>0?u:0;return l<(s=number_zeros(-u).concat(s)).length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}function roundDigits(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var o=e-1;for(n[o]++;10===n[o];)n.pop(),0===o&&(n.unshift(0),r.exponent++,o++),n[--o]++}return r}function number_zeros(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var d=Number.EPSILON||2220446049250313e-31;function nearlyEqual(t,e,r){if(null===r||void 0===r)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<d||n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var h=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},m=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},y=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},g=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function formatter_format(t,e){if("function"===typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"===typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function formatter_toFixed(t,e){return t.toFixed(e)}(t,r);case"exponential":return formatter_toExponential(t,r);case"engineering":return function formatter_toEngineering(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,o=t.mul(Math.pow(10,-n)),i=o.toPrecision(e);-1!==i.indexOf("e")&&(i=o.toString());return i+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=mapObject(e,(function(t){return t}));return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),formatter_format(t,o)}var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(r),u=s.e;return(u>=i&&u<a?s.toFixed():formatter_toExponential(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function formatter_toExponential(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function string_typeof(t){return(string_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function string_format(t,e){return"number"===typeof t?number_format(t,e):isBigNumber(t)?formatter_format(t,e):function looksLikeFraction(t){return t&&"object"===string_typeof(t)&&"number"===typeof t.s&&"number"===typeof t.n&&"number"===typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function formatArray(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,o=0;o<n;o++)0!==o&&(r+=", "),r+=formatArray(t[o],e);return r+="]"}return string_format(t,e)}(t,e):isString(t)?'"'+t+'"':"function"===typeof t?t.syntax?String(t.syntax):"function":t&&"object"===string_typeof(t)?"function"===typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(r){return'"'+r+'": '+string_format(t[r],e)})).join(", ")+"}":String(t)}function DimensionError(t,e,r){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function IndexError(t,e,r){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function arraySize(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function utils_array_validate(t,e){if(0===e.length){if(Array.isArray(t))throw new DimensionError(t.length,0)}else!function array_validate(t,e,r){var n,o=t.length;if(o!==e[r])throw new DimensionError(o,e[r]);if(r<e.length-1){var i=r+1;for(n=0;n<o;n++){var a=t[n];if(!Array.isArray(a))throw new DimensionError(e.length-1,e.length,"<");array_validate(t[n],e,i)}}else for(n=0;n<o;n++)if(Array.isArray(t[n]))throw new DimensionError(e.length+1,e.length,">")}(t,e,0)}function validateIndex(t,e){if(!isNumber(t)||!number_isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"===typeof e&&t>=e)throw new IndexError(t,e)}function array_resize(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!isNumber(t)||!number_isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(e)+")")})),function utils_array_resize(t,e,r,n){var o;var i;var a=t.length;var s=e[r];var u=Math.min(a,s);t.length=s;if(r<e.length-1){var l=r+1;for(o=0;o<u;o++)i=t[o],Array.isArray(i)||(i=[i],t[o]=i),utils_array_resize(i,e,l,n);for(o=u;o<s;o++)i=[],t[o]=i,utils_array_resize(i,e,l,n)}else{for(o=0;o<u;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=u;o<s;o++)t[o]=n}}(t,e,0,void 0!==r?r:0),t}function reshape(t,e){var r,n=flatten(t);function product(t){return t.reduce((function(t,e){return t*e}))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new DimensionError(0,product(arraySize(t)),"!=");for(var o=1,i=0;i<e.length;i++)o*=e[i];if(n.length!==o)throw new DimensionError(product(e),product(arraySize(t)),"!=");try{r=function _reshape(t,e){for(var r,n=t,o=e.length-1;o>0;o--){var i=e[o];r=[];for(var a=n.length/i,s=0;s<a;s++)r.push(n.slice(s*i,(s+1)*i));n=r}return n}(n,e)}catch(a){if(a instanceof DimensionError)throw new DimensionError(product(e),product(arraySize(t)),"!=");throw a}return r}function unsqueeze(t,e,r,n){var o=n||arraySize(t);if(r)for(var i=0;i<r;i++)t=[t],o.unshift(1);for(t=function _unsqueeze(t,e,r){var n,o;if(Array.isArray(t)){var i=r+1;for(n=0,o=t.length;n<o;n++)t[n]=_unsqueeze(t[n],e,i)}else for(var a=r;a<e;a++)t=[t];return t}(t,e,0);o.length<e;)o.push(1);return t}function flatten(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function callback(t){Array.isArray(t)?t.forEach(callback):e.push(t)})),e}function getArrayDataType(t,e){for(var r,n=0,o=0;o<t.length;o++){var i=t[o],a=Array.isArray(i);if(0===o&&a&&(n=i.length),a&&i.length!==n)return;var s=a?getArrayDataType(i,e):e(i);if(void 0===r)r=s;else if(r!==s)return"mixed"}return r}function factory_factory(t,e,r,n){function assertAndCreate(n){var o=function pickShallow(t,e){for(var r={},n=0;n<e.length;n++){var o=e[n],i=t[o];void 0!==i&&(r[o]=i)}return r}(n,e.map(stripOptionalNotation));return function assertDependencies(t,e,r){if(!e.filter((function(t){return!function isOptionalDependency(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==r[t]}))){var n=e.filter((function(t){return void 0===r[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,n),r(o)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=t,assertAndCreate.dependencies=e.slice().sort(),n&&(assertAndCreate.meta=n),assertAndCreate}function stripOptionalNotation(t){return t&&"?"===t[0]?t.slice(1):t}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0;var v=r(71),_=r.n(v);function Complex_typeof(t){return(Complex_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=factory_factory("Complex",[],(function(){return _.a.prototype.type="Complex",_.a.prototype.isComplex=!0,_.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},_.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},_.a.prototype.format=function(t){var e=this.im,r=this.re,n=number_format(this.re,t),o=number_format(this.im,t),i=isNumber(t)?t:t?t.precision:null;if(null!==i){var a=Math.pow(10,-i);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0)}return 0===e?n:0===r?1===e?"i":-1===e?"-i":o+"i":e<0?-1===e?n+" - i":n+" - "+o.substring(1)+"i":1===e?n+" + i":n+" + "+o+"i"},_.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===Complex_typeof(e))return _()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(isNumber(r)){if(isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),isNumber(n))return new _.a({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},_.a.prototype.valueOf=_.a.prototype.toString,_.a.fromJSON=function(t){return new _.a(t)},_.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},_.a}),{isClass:!0});function function_typeof(t){return(function_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function memoize(t,e){return function memoize(){"object"!==function_typeof(memoize.cache)&&(memoize.cache={});for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e?e(r):JSON.stringify(r);return o in memoize.cache||(memoize.cache[o]=t.apply(t,r)),memoize.cache[o]}}memoize((function(t){return new t(1).exp()}),hasher),memoize((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),hasher);var S=memoize((function(t){return t.acos(-1)}),hasher);memoize((function(t){return S(t).times(2)}),hasher);function hasher(t){return t[0].precision}Math.PI,Math.PI,Math.E;var x=r(484),w=r.n(x),E=factory_factory("BigNumber",["?on","config"],(function(t){var e=t.on,r=t.config,n=w.a.clone({precision:r.precision});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision})})),n}),{isClass:!0}),P=factory_factory("Matrix",[],(function(){function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.storage=function(t){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix}),{isClass:!0});numberFactory("fineStructure",.0072973525693),numberFactory("weakMixingAngle",.2229),numberFactory("efimovFactor",22.7),numberFactory("sackurTetrode",-1.16487052358);function numberFactory(t,e){return factory_factory(t,["config","BigNumber"],(function(t){var r=t.config,n=t.BigNumber;return"BigNumber"===r.number?new n(e):e}))}var C=r(133),T=r.n(C),D=factory_factory("Fraction",[],(function(){return T.a.prototype.type="Fraction",T.a.prototype.isFraction=!0,T.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},T.a.fromJSON=function(t){return new T.a(t)},T.a}),{isClass:!0}),M=factory_factory("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function DenseMatrix(t,e){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!isString(e))throw new Error("Invalid datatype: "+e);if(isMatrix(t))"DenseMatrix"===t.type?(this._data=clone(t._data),this._size=clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&o(t.data)&&o(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(o(t))this._data=function preprocess(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];o(n)?t[e]=preprocess(n):n&&!0===n.isMatrix&&(t[e]=preprocess(n.valueOf()))}return t}(t),this._size=arraySize(this._data),utils_array_validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+typeOf(t)+")");this._data=[],this._size=[0],this._datatype=e}}function _get(t,e){if(!isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new DimensionError(r.length,t._size.length);for(var n=e.min(),o=e.max(),i=0,a=t._size.length;i<a;i++)validateIndex(n[i],t._size[i]),validateIndex(o[i],t._size[i]);return new DenseMatrix(function _getSubmatrix(t,e,r,n){var o=n===r-1;var i=e.dimension(n);return o?i.map((function(e){return validateIndex(e,t.length),t[e]})).valueOf():i.map((function(o){validateIndex(o,t.length);var i=t[o];return _getSubmatrix(i,e,r,n+1)})).valueOf()}(t._data,e,r.length,0),t._datatype)}function _set(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,i=e.size(),a=e.isScalar();if(isMatrix(r)?(o=r.size(),r=r.valueOf()):o=arraySize(r),a){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n)}else{if(i.length<t._size.length)throw new DimensionError(i.length,t._size.length,"<");if(o.length<i.length){for(var s=0,u=0;1===i[s]&&1===o[s];)s++;for(;1===i[s];)u++,s++;r=unsqueeze(r,i.length,u,o)}if(!deepStrictEqual(i,o))throw new DimensionError(i,o,">");_fit(t,e.max().map((function(t){return t+1})),n);var l=i.length;!function _setSubmatrix(t,e,r,n,o){var i=o===n-1;var a=e.dimension(o);i?a.forEach((function(e,n){validateIndex(e),t[e]=r[n[0]]})):a.forEach((function(i,a){validateIndex(i),_setSubmatrix(t[i],e,r[a[0]],n,o+1)}))}(t._data,e,r,l,0)}return t}function _resize(t,e,r){if(0===e.length){for(var n=t._data;o(n);)n=n[0];return n}return t._size=e.slice(0),t._data=array_resize(t._data,t._size,r),t}function _fit(t,e,r){for(var n=t._size.slice(0),o=!1;n.length<e.length;)n.push(0),o=!0;for(var i=0,a=e.length;i<a;i++)e[i]>n[i]&&(n[i]=e[i],o=!0);o&&_resize(t,n,r)}return DenseMatrix.prototype=new e,DenseMatrix.prototype.createDenseMatrix=function(t,e){return new DenseMatrix(t,e)},DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(t,e){return new DenseMatrix(t,e)},DenseMatrix.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return _get(this,t);case 2:case 3:return _set(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(t){if(!o(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);for(var e=0;e<t.length;e++)validateIndex(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var a=t[n];validateIndex(a,r.length),r=r[a]}return r},DenseMatrix.prototype.set=function(t,e,r){if(!o(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new DimensionError(t.length,this._size.length,"<");var n,i,a;_fit(this,t.map((function(t){return t+1})),r);var s=this._data;for(n=0,i=t.length-1;n<i;n++)validateIndex(a=t[n],s.length),s=s[a];return validateIndex(a=t[t.length-1],s.length),s[a]=e,this},DenseMatrix.prototype.resize=function(t,e,r){if(!o(t))throw new TypeError("Array expected");return _resize(r?this.clone():this,t,e)},DenseMatrix.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=reshape(r._data,t),r._size=t.slice(0),r},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:clone(this._data),size:clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(t){var e=this;return new DenseMatrix({data:function recurse(r,n){return o(r)?r.map((function(t,e){return recurse(t,n.concat(e))})):t(r,n,e)}(this._data,[]),size:clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.forEach=function(t){var e=this;!function recurse(r,n){o(r)?r.forEach((function(t,e){recurse(t,n.concat(e))})):t(r,n,e)}(this._data,[])},DenseMatrix.prototype.toArray=function(){return clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(t){return string_format(this._data,t)},DenseMatrix.prototype.toString=function(){return string_format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(t){if(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],o=this._size[1],i=Math.min(n-r,o-e),a=[],s=0;s<i;s++)a[s]=this._data[s+r][s+e];return new DenseMatrix({data:a,size:[i],datatype:this._datatype})},DenseMatrix.diagonal=function(t,e,r,n){if(!o(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(isBigNumber(r)&&(r=r.toNumber()),!isNumber(r)||!number_isInteger(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,a=r>0?r:0,s=r<0?-r:0,u=t[0],l=t[1],c=Math.min(u-s,l-a);if(o(e)){if(e.length!==c)throw new Error("Invalid value array length");i=function _value(t){return e[t]}}else if(isMatrix(e)){var p=e.size();if(1!==p.length||p[0]!==c)throw new Error("Invalid matrix length");i=function _value(t){return e.get([t])}}else i=function _value(){return e};n||(n=isBigNumber(i(0))?i(0).mul(0):0);var f=[];if(t.length>0){f=array_resize(f,t,n);for(var d=0;d<c;d++)f[d+s][d+a]=i(d)}return new DenseMatrix({data:f,size:[u,l]})},DenseMatrix.fromJSON=function(t){return new DenseMatrix(t)},DenseMatrix.prototype.swapRows=function(t,e){if(!isNumber(t)||!number_isInteger(t)||!isNumber(e)||!number_isInteger(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(t,this._size[0]),validateIndex(e,this._size[0]),DenseMatrix._swapRows(t,e,this._data),this},DenseMatrix._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},DenseMatrix}),{isClass:!0}),A=r(305),R=r.n(A),L=function _createTyped(){return L=R.a.create,R.a},I=factory_factory("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function createTyped(t){var e=t.BigNumber,r=t.Complex,n=t.DenseMatrix,i=t.Fraction,a=L();return a.types=[{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:o},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"SymbolNode",test:isSymbolNode},{name:"Object",test:isObject}],a.conversions=[{from:"number",to:"BigNumber",convert:function convert(t){if(e||throwNoBignumber(t),function digits(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function convert(t){return r||throwNoComplex(t),new r(t,0)}},{from:"number",to:"string",convert:function convert(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function convert(t){return r||throwNoComplex(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function convert(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function convert(t){return r||throwNoComplex(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function convert(t){i||throwNoFraction(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function convert(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function convert(t){e||throwNoBignumber(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function convert(t){i||throwNoFraction(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function convert(t){r||throwNoComplex(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function convert(t){return+t}},{from:"boolean",to:"BigNumber",convert:function convert(t){return e||throwNoBignumber(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function convert(t){return i||throwNoFraction(t),new i(+t)}},{from:"boolean",to:"string",convert:function convert(t){return String(t)}},{from:"Array",to:"Matrix",convert:function convert(t){return n||function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function convert(t){return t.valueOf()}}],a}));function throwNoBignumber(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var O="number";function isNegativeNumber(t){return t<0}function isPositiveNumber(t){return t>0}function isZeroNumber(t){return 0===t}function isNaNNumber(t){return Number.isNaN(t)}isNegativeNumber.signature=O,isPositiveNumber.signature=O,isZeroNumber.signature=O,isNaNNumber.signature=O;function nearlyEqual_nearlyEqual(t,e,r){if(null===r||void 0===r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return n.lte(o.times(r))}return!1}var k=factory_factory("equalScalar",["typed","config"],(function(t){var e=t.typed,r=t.config,n=e("equalScalar",{"boolean, boolean":function booleanBoolean(t,e){return t===e},"number, number":function numberNumber(t,e){return nearlyEqual(t,e,r.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.eq(e)||nearlyEqual_nearlyEqual(t,e,r.epsilon)},"Fraction, Fraction":function FractionFraction(t,e){return t.equals(e)},"Complex, Complex":function ComplexComplex(t,e){return function complexEquals(t,e,r){return nearlyEqual(t.re,e.re,r)&&nearlyEqual(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function UnitUnit(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return n(t.value,e.value)}});return n})),F=(factory_factory("equalScalar",["typed","config"],(function(t){var e=t.typed,r=t.config;return e("equalScalar",{"number, number":function numberNumber(t,e){return nearlyEqual(t,e,r.epsilon)}})})),"number, number");function absNumber(t){return Math.abs(t)}function addNumber(t,e){return t+e}function multiplyNumber(t,e){return t*e}function unaryMinusNumber(t){return-t}function unaryPlusNumber(t){return t}function cbrtNumber(t){return p(t)}function ceilNumber(t){return Math.ceil(t)}function cubeNumber(t){return t*t*t}function expNumber(t){return Math.exp(t)}function expm1Number(t){return f(t)}function gcdNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==e;)r=t%e,t=e,e=r;return t<0?-t:t}function lcmNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var r,n=t*e;0!==e;)e=t%(r=e),t=r;return Math.abs(n/t)}function logNumber(t){return Math.log(t)}function log10Number(t){return c(t)}function log2Number(t){return l(t)}function modNumber(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function nthRootNumber(t,e){var r=e<0;if(r&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===t)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function signNumber(t){return u(t)}function squareNumber(t){return t*t}function xgcdNumber(t,e){var r,n,o,i=0,a=1,s=1,u=0;if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)o=t-(n=Math.floor(t/e))*e,r=i,i=a-n*i,a=r,r=s,s=u-n*s,u=r,t=e,e=o;return t<0?[-t,-a,-u]:[t,t?a:0,u]}function powNumber(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function roundNumber(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(toFixed(t,e))}absNumber.signature="number",addNumber.signature=F,multiplyNumber.signature=F,unaryMinusNumber.signature="number",unaryPlusNumber.signature="number",cbrtNumber.signature="number",ceilNumber.signature="number",cubeNumber.signature="number",expNumber.signature="number",expm1Number.signature="number",gcdNumber.signature=F,lcmNumber.signature=F,logNumber.signature="number",log10Number.signature="number",log2Number.signature="number",modNumber.signature=F,nthRootNumber.signature=F,signNumber.signature="number",squareNumber.signature="number",xgcdNumber.signature=F,powNumber.signature=F,roundNumber.signature=F;var N=factory_factory("multiplyScalar",["typed"],(function(t){var e=(0,t.typed)("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function ComplexComplex(t,e){return t.mul(e)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.times(e)},"Fraction, Fraction":function FractionFraction(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function numberFractionBigNumberComplexUnit(t,r){var n=r.clone();return n.value=null===n.value?n._normalize(t):e(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function UnitNumberFractionBigNumberComplex(t,r){var n=t.clone();return n.value=null===n.value?n._normalize(r):e(n.value,r),n},"Unit, Unit":function UnitUnit(t,e){return t.multiply(e)}});return e}));var B="number, number";function bitAndNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitAnd");return t&e}function bitNotNumber(t){if(!number_isInteger(t))throw new Error("Integer expected in function bitNot");return~t}function bitOrNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitOr");return t|e}function bitXorNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function bitXor");return t^e}function leftShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function leftShift");return t<<e}function rightArithShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function rightLogShiftNumber(t,e){if(!number_isInteger(t)||!number_isInteger(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}bitAndNumber.signature=B,bitNotNumber.signature="number",bitOrNumber.signature=B,bitXorNumber.signature=B,leftShiftNumber.signature=B,rightArithShiftNumber.signature=B,rightLogShiftNumber.signature=B;function notNumber(t){return!t}function orNumber(t,e){return!(!t&&!e)}function xorNumber(t,e){return!!t!==!!e}function andNumber(t,e){return!(!t||!e)}notNumber.signature="number",orNumber.signature="number, number",xorNumber.signature="number, number",andNumber.signature="number, number";Math.pow(2,53);function acoshNumber(t){return h(t)}function acotNumber(t){return Math.atan(1/t)}function acothNumber(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function acscNumber(t){return Math.asin(1/t)}function acschNumber(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function asecNumber(t){return Math.acos(1/t)}function asechNumber(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}function asinhNumber(t){return m(t)}function atanhNumber(t){return y(t)}function cotNumber(t){return 1/Math.tan(t)}function cothNumber(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function cscNumber(t){return 1/Math.sin(t)}function cschNumber(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*u(t)}function secNumber(t){return 1/Math.cos(t)}function sechNumber(t){return 2/(Math.exp(t)+Math.exp(-t))}function sinhNumber(t){return g(t)}acoshNumber.signature="number",acotNumber.signature="number",acothNumber.signature="number",acscNumber.signature="number",acschNumber.signature="number",asecNumber.signature="number",asechNumber.signature="number",asinhNumber.signature="number",atanhNumber.signature="number",cotNumber.signature="number",cothNumber.signature="number",cscNumber.signature="number",cschNumber.signature="number",secNumber.signature="number",sechNumber.signature="number",sinhNumber.signature="number";function product_product(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return product_product(t,r)*product_product(r+1,e)}function combinationsNumber(t,e){if(!number_isInteger(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!number_isInteger(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");var r=t-e;return e<r?product_product(r+1,t)/product_product(1,e):product_product(e+1,t)/product_product(1,r)}combinationsNumber.signature="number, number";r(306);!function(){var t={}}();var U=factory_factory("addScalar",["typed"],(function(t){var e=(0,t.typed)("addScalar",{"number, number":addNumber,"Complex, Complex":function ComplexComplex(t,e){return t.add(e)},"BigNumber, BigNumber":function BigNumberBigNumber(t,e){return t.plus(e)},"Fraction, Fraction":function FractionFraction(t,e){return t.add(e)},"Unit, Unit":function UnitUnit(t,r){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var n=t.clone();return n.value=e(n.value,r.value),n.fixPrefix=!1,n}});return e}));var z=factory_factory("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,r=t.equalScalar,n=t.Matrix;function SparseMatrix(t,e){if(!(this instanceof SparseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!isString(e))throw new Error("Invalid datatype: "+e);if(isMatrix(t))!function _createFromMatrix(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?clone(e._values):void 0,t._index=clone(e._index),t._ptr=clone(e._ptr),t._size=clone(e._size),t._datatype=r||e._datatype):_createFromArray(t,e.valueOf(),r||e._datatype)}(this,t,e);else if(t&&o(t.index)&&o(t.ptr)&&o(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(o(t))_createFromArray(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+typeOf(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function _createFromArray(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var a=n.length,s=0,u=r,l=0;if(isString(i)&&(u=e.find(r,[i,i])||r,l=e.convert(0,i)),a>0){var c=0;do{t._ptr.push(t._index.length);for(var p=0;p<a;p++){var f=n[p];if(o(f)){if(0===c&&s<f.length&&(s=f.length),c<f.length){var d=f[c];u(d,l)||(t._values.push(d),t._index.push(p))}}else 0===c&&s<1&&(s=1),u(f,l)||(t._values.push(f),t._index.push(p))}c++}while(c<s)}t._ptr.push(t._index.length),t._size=[a,s]}function _getsubset(t,e){if(!isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,o,i,a=e.size();if(a.length!==t._size.length)throw new DimensionError(a.length,t._size.length);var s=e.min(),u=e.max();for(r=0,n=t._size.length;r<n;r++)validateIndex(s[r],t._size[r]),validateIndex(u[r],t._size[r]);var l=t._values,c=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),h=[],m=[];f.forEach((function(t,e){m[t]=e[0],h[t]=!0}));var y=l?[]:void 0,g=[],v=[];return d.forEach((function(t){for(v.push(g.length),o=p[t],i=p[t+1];o<i;o++)r=c[o],!0===h[r]&&(g.push(m[r]),y&&y.push(l[o]))})),v.push(g.length),new SparseMatrix({values:y,index:g,ptr:v,size:a,datatype:t._datatype})}function _setsubset(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,i=e.size(),a=e.isScalar();if(isMatrix(r)?(o=r.size(),r=r.toArray()):o=arraySize(r),a){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n)}else{if(1!==i.length&&2!==i.length)throw new DimensionError(i.length,t._size.length,"<");if(o.length<i.length){for(var s=0,u=0;1===i[s]&&1===o[s];)s++;for(;1===i[s];)u++,s++;r=unsqueeze(r,i.length,u,o)}if(!deepStrictEqual(i,o))throw new DimensionError(i,o,">");for(var l=e.min()[0],c=e.min()[1],p=o[0],f=o[1],d=0;d<p;d++)for(var h=0;h<f;h++){var m=r[d][h];t.set([d+l,h+c],m,n)}}return t}function _getValueIndex(t,e,r,n){if(r-e===0)return r;for(var o=e;o<r;o++)if(n[o]===t)return o;return e}function _insert(t,e,r,n,o,i,a){o.splice(t,0,n),i.splice(t,0,e);for(var s=r+1;s<a.length;s++)a[s]++}function _resize(t,n,o,i){var a=i||0,s=r,u=0;isString(t._datatype)&&(s=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,c,p,f=!s(a,u),d=t._size[0],h=t._size[1];if(o>h){for(c=h;c<o;c++)if(t._ptr[c]=t._values.length,f)for(l=0;l<d;l++)t._values.push(a),t._index.push(l);t._ptr[o]=t._values.length}else o<h&&(t._ptr.splice(o+1,h-o),t._values.splice(t._ptr[o],t._values.length),t._index.splice(t._ptr[o],t._index.length));if(h=o,n>d){if(f){var m=0;for(c=0;c<h;c++){t._ptr[c]=t._ptr[c]+m,p=t._ptr[c+1]+m;var y=0;for(l=d;l<n;l++,y++)t._values.splice(p+y,0,a),t._index.splice(p+y,0,l),m++}t._ptr[h]=t._values.length}}else if(n<d){var g=0;for(c=0;c<h;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],_=t._ptr[c+1]-g;for(p=v;p<_;p++)(l=t._index[p])>n-1&&(t._values.splice(p,1),t._index.splice(p,1),g++)}t._ptr[c]=t._values.length}return t._size[0]=n,t._size[1]=o,t}function _toArray(t,e,r,n,o){var i,a,s=n[0],u=n[1],l=[];for(i=0;i<s;i++)for(l[i]=[],a=0;a<u;a++)l[i][a]=0;for(a=0;a<u;a++)for(var c=r[a],p=r[a+1],f=c;f<p;f++)l[i=e[f]][a]=t?o?clone(t[f]):t[f]:1;return l}return SparseMatrix.prototype=new n,SparseMatrix.prototype.createSparseMatrix=function(t,e){return new SparseMatrix(t,e)},SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(t,e){return new SparseMatrix(t,e)},SparseMatrix.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},SparseMatrix.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return _getsubset(this,t);case 2:case 3:return _setsubset(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(t){if(!o(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];validateIndex(e,this._size[0]),validateIndex(r,this._size[1]);var n=_getValueIndex(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},SparseMatrix.prototype.set=function(t,n,i){if(!o(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new DimensionError(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=t[0],s=t[1],u=this._size[0],l=this._size[1],c=r,p=0;isString(this._datatype)&&(c=e.find(r,[this._datatype,this._datatype])||r,p=e.convert(0,this._datatype)),(a>u-1||s>l-1)&&(_resize(this,Math.max(a+1,u),Math.max(s+1,l),i),u=this._size[0],l=this._size[1]),validateIndex(a,u),validateIndex(s,l);var f=_getValueIndex(a,this._ptr[s],this._ptr[s+1],this._index);return f<this._ptr[s+1]&&this._index[f]===a?c(n,p)?function _remove(t,e,r,n,o){r.splice(t,1),n.splice(t,1);for(var i=e+1;i<o.length;i++)o[i]--}(f,s,this._values,this._index,this._ptr):this._values[f]=n:_insert(f,a,s,n,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(t,e,r){if(!o(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach((function(e){if(!isNumber(e)||!number_isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(t)+")")})),_resize(r?this.clone():this,t[0],t[1],e)},SparseMatrix.prototype.reshape=function(t,e){if(!o(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!isNumber(e)||!number_isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+string_format(t)+")")})),this._size[0]*this._size[1]!==t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var a=0;a<r._ptr[i+1]-r._ptr[i];a++)n.push(i);for(var s=r._values.slice(),u=r._index.slice(),l=0;l<r._index.length;l++){var c=u[l],p=n[l],f=c*r._size[1]+p;n[l]=f%t[1],u[l]=Math.floor(f/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var h=0;h<s.length;h++){var m=u[h],y=n[h],g=s[h];_insert(_getValueIndex(m,r._ptr[y],r._ptr[y+1],r._index),m,y,g,r._values,r._index,r._ptr)}return r},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?clone(this._values):void 0,index:clone(this._index),ptr:clone(this._ptr),size:clone(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function _map(t,n,o,i,a,s,u){var l=[],c=[],p=[],f=r,d=0;isString(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var h=function invoke(t,e,r){t=s(t,e,r),f(t,d)||(l.push(t),c.push(e))},m=i;m<=a;m++){p.push(l.length);var y=t._ptr[m],g=t._ptr[m+1];if(u)for(var v=y;v<g;v++){var _=t._index[v];_>=n&&_<=o&&h(t._values[v],_-n,m-i)}else{for(var b={},S=y;S<g;S++){var x=t._index[S];b[x]=t._values[S]}for(var w=n;w<=o;w++){var E=w in b?b[w]:0;h(E,w-n,m-i)}}}return p.push(l.length),new SparseMatrix({values:l,index:c,ptr:p,size:[o-n+1,a-i+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function invoke(e,r,n){return t(e,[r,n],o)}),n)},SparseMatrix.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],o=0;o<n;o++){var i=this._ptr[o],a=this._ptr[o+1];if(e)for(var s=i;s<a;s++){var u=this._index[s];t(this._values[s],[u,o],this)}else{for(var l={},c=i;c<a;c++){l[this._index[c]]=this._values[c]}for(var p=0;p<r;p++){t(p in l?l[p]:0,[p,o],this)}}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),o="Sparse Matrix ["+string_format(e,t)+" x "+string_format(r,t)+"] density: "+string_format(n,t)+"\n",i=0;i<r;i++)for(var a=this._ptr[i],s=this._ptr[i+1],u=a;u<s;u++){o+="\n    ("+string_format(this._index[u],t)+", "+string_format(i,t)+") ==> "+(this._values?string_format(this._values[u],t):"X")}return o},SparseMatrix.prototype.toString=function(){return string_format(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(t){if(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],o=this._size[1],i=Math.min(n-r,o-e),a=[],s=[],u=[];u[0]=0;for(var l=e;l<o&&a.length<i;l++)for(var c=this._ptr[l],p=this._ptr[l+1],f=c;f<p;f++){var d=this._index[f];if(d===l-e+r){a.push(this._values[f]),s[a.length-1]=d-r;break}}return u.push(a.length),new SparseMatrix({values:a,index:s,ptr:u,size:[i,1]})},SparseMatrix.fromJSON=function(t){return new SparseMatrix(t)},SparseMatrix.diagonal=function(t,n,i,a,s){if(!o(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!number_isInteger(t)||t<1)throw new Error("Size values must be positive integers");return t})),i){if(isBigNumber(i)&&(i=i.toNumber()),!isNumber(i)||!number_isInteger(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var u=r,l=0;isString(s)&&(u=e.find(r,[s,s])||r,l=e.convert(0,s));var c,p=i>0?i:0,f=i<0?-i:0,d=t[0],h=t[1],m=Math.min(d-f,h-p);if(o(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function _value(t){return n[t]}}else if(isMatrix(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function _value(t){return n.get([t])}}else c=function _value(){return n};for(var g=[],v=[],_=[],b=0;b<h;b++){_.push(g.length);var S=b-p;if(S>=0&&S<m){var x=c(S);u(x,l)||(v.push(S+f),g.push(x))}}return _.push(g.length),new SparseMatrix({values:g,index:v,ptr:_,size:[d,h]})},SparseMatrix.prototype.swapRows=function(t,e){if(!isNumber(t)||!number_isInteger(t)||!isNumber(e)||!number_isInteger(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(t,this._size[0]),validateIndex(e,this._size[0]),SparseMatrix._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(t,e,r,n,o){for(var i=n[t],a=n[t+1],s=i;s<a;s++)o(r[s],e[s])},SparseMatrix._swapRows=function(t,e,r,n,o,i){for(var a=0;a<r;a++){var s=i[a],u=i[a+1],l=_getValueIndex(t,s,u,o),c=_getValueIndex(e,s,u,o);if(l<u&&c<u&&o[l]===t&&o[c]===e){if(n){var p=n[l];n[l]=n[c],n[c]=p}}else if(l<u&&o[l]===t&&(c>=u||o[c]!==e)){var f=n?n[l]:void 0;o.splice(c,0,e),n&&n.splice(c,0,f),o.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1)}else if(c<u&&o[c]===e&&(l>=u||o[l]!==t)){var d=n?n[c]:void 0;o.splice(l,0,t),n&&n.splice(l,0,d),o.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)}}},SparseMatrix}),{isClass:!0}),j=factory_factory("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,r=(t.Matrix,t.DenseMatrix),n=t.SparseMatrix;return e("matrix",{"":function _(){return _create([])},string:function string(t){return _create([],t)},"string, string":function stringString(t,e){return _create([],t,e)},Array:function Array(t){return _create(t)},Matrix:function Matrix(t){return _create(t,t.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(t,e,o){if("dense"===e||"default"===e||void 0===e)return new r(t,o);if("sparse"===e)return new n(t,o);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),G=factory_factory("algorithm14",["typed"],(function(t){var e=t.typed;return function algorithm14(t,r,n,o){var i,a=t._data,s=t._size,u=t._datatype,l=n;"string"===typeof u&&(i=u,r=e.convert(r,i),l=e.find(n,[i,i]));var c=s.length>0?function _iterate(t,e,r,n,o,i,a){var s=[];if(e===r.length-1)for(var u=0;u<n;u++)s[u]=a?t(i,o[u]):t(o[u],i);else for(var l=0;l<n;l++)s[l]=_iterate(t,e+1,r,r[e+1],o[l],i,a);return s}(l,0,s,s[0],a,r,o):[];return t.createDenseMatrix({data:c,size:clone(s),datatype:i})}})),V=factory_factory("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,r=t.equalScalar;return function algorithm11(t,n,o,i){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=l[0],d=l[1],h=r,m=0,y=o;"string"===typeof c&&(p=c,h=e.find(r,[p,p]),m=e.convert(0,p),n=e.convert(n,p),y=e.find(o,[p,p]));for(var g=[],v=[],_=[],b=t.createSparseMatrix({values:g,index:v,ptr:_,size:[f,d],datatype:p}),S=0;S<d;S++){_[S]=v.length;for(var x=u[S],w=u[S+1],E=x;E<w;E++){var P=s[E],C=i?y(n,a[E]):y(a[E],n);h(C,m)||(v.push(P),g.push(C))}}return _[d]=v.length,b}}));factory_factory("unequal",["typed","equalScalar"],(function(t){var e=t.typed,r=t.equalScalar;return e("unequal",{"any, any":function anyAny(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!r(t,e)}})}));var W=factory_factory("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(t){var e=t.typed,r=t.matrix,n=t.addScalar,o=t.multiplyScalar,i=t.equalScalar,a=V({typed:e,equalScalar:i}),s=G({typed:e}),u=e("multiply",extend({"Array, Array":function ArrayArray(t,e){_validateMatrixDimensions(arraySize(t),arraySize(e));var n=u(r(t),r(e));return isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function MatrixMatrix(t,r){var i=t.size(),a=r.size();return _validateMatrixDimensions(i,a),1===i.length?1===a.length?function _multiplyVectorVector(t,r,i){if(0===i)throw new Error("Cannot multiply two empty vectors");var a,s=t._data,u=t._datatype,l=r._data,c=r._datatype,p=n,f=o;u&&c&&u===c&&"string"===typeof u&&(a=u,p=e.find(n,[a,a]),f=e.find(o,[a,a]));for(var d=f(s[0],l[0]),h=1;h<i;h++)d=p(d,f(s[h],l[h]));return d}(t,r,i[0]):function _multiplyVectorMatrix(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function _multiplyVectorDenseMatrix(t,r){var i,a=t._data,s=t._size,u=t._datatype,l=r._data,c=r._size,p=r._datatype,f=s[0],d=c[1],h=n,m=o;u&&p&&u===p&&"string"===typeof u&&(i=u,h=e.find(n,[i,i]),m=e.find(o,[i,i]));for(var y=[],g=0;g<d;g++){for(var v=m(a[0],l[0][g]),_=1;_<f;_++)v=h(v,m(a[_],l[_][g]));y[g]=v}return t.createDenseMatrix({data:y,size:[d],datatype:i})}(t,r)}(t,r):1===a.length?l(t,r):c(t,r)},"Matrix, Array":function MatrixArray(t,e){return u(t,r(e))},"Array, Matrix":function ArrayMatrix(t,e){return u(r(t,e.storage()),e)},"SparseMatrix, any":function SparseMatrixAny(t,e){return a(t,e,o,!1)},"DenseMatrix, any":function DenseMatrixAny(t,e){return s(t,e,o,!1)},"any, SparseMatrix":function anySparseMatrix(t,e){return a(e,t,o,!0)},"any, DenseMatrix":function anyDenseMatrix(t,e){return s(e,t,o,!0)},"Array, any":function ArrayAny(t,e){return s(r(t),e,o,!1).valueOf()},"any, Array":function anyArray(t,e){return s(r(e),t,o,!0).valueOf()},"any, any":o,"any, any, ...any":function anyAnyAny(t,e,r){for(var n=u(t,e),o=0;o<r.length;o++)n=u(n,r[o]);return n}},o.signatures));function _validateMatrixDimensions(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function _multiplyDenseMatrixVector(t,r){var i,a=t._data,s=t._size,u=t._datatype,l=r._data,c=r._datatype,p=s[0],f=s[1],d=n,h=o;u&&c&&u===c&&"string"===typeof u&&(i=u,d=e.find(n,[i,i]),h=e.find(o,[i,i]));for(var m=[],y=0;y<p;y++){for(var g=a[y],v=h(g[0],l[0]),_=1;_<f;_++)v=d(v,h(g[_],l[_]));m[y]=v}return t.createDenseMatrix({data:m,size:[p],datatype:i})},"SparseMatrix, any":function _multiplySparseMatrixVector(t,r){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,p=r._data,f=r._datatype,d=t._size[0],h=r._size[0],m=[],y=[],g=[],v=n,_=o,b=i,S=0;l&&f&&l===f&&"string"===typeof l&&(c=l,v=e.find(n,[c,c]),_=e.find(o,[c,c]),b=e.find(i,[c,c]),S=e.convert(0,c));var x=[],w=[];g[0]=0;for(var E=0;E<h;E++){var P=p[E];if(!b(P,S))for(var C=u[E],T=u[E+1],D=C;D<T;D++){var M=s[D];w[M]?x[M]=v(x[M],_(P,a[D])):(w[M]=!0,y.push(M),x[M]=_(P,a[D]))}}for(var A=y.length,R=0;R<A;R++){var L=y[R];m[R]=x[L]}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[d,1],datatype:c})}}),c=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function _multiplyDenseMatrixDenseMatrix(t,r){var i,a=t._data,s=t._size,u=t._datatype,l=r._data,c=r._size,p=r._datatype,f=s[0],d=s[1],h=c[1],m=n,y=o;u&&p&&u===p&&"string"===typeof u&&(i=u,m=e.find(n,[i,i]),y=e.find(o,[i,i]));for(var g=[],v=0;v<f;v++){var _=a[v];g[v]=[];for(var b=0;b<h;b++){for(var S=y(_[0],l[0][b]),x=1;x<d;x++)S=m(S,y(_[x],l[x][b]));g[v][b]=S}}return t.createDenseMatrix({data:g,size:[f,h],datatype:i})},"DenseMatrix, SparseMatrix":function _multiplyDenseMatrixSparseMatrix(t,r){var a=t._data,s=t._size,u=t._datatype,l=r._values,c=r._index,p=r._ptr,f=r._size,d=r._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,m=s[0],y=f[1],g=n,v=o,_=i,b=0;u&&d&&u===d&&"string"===typeof u&&(h=u,g=e.find(n,[h,h]),v=e.find(o,[h,h]),_=e.find(i,[h,h]),b=e.convert(0,h));for(var S=[],x=[],w=[],E=r.createSparseMatrix({values:S,index:x,ptr:w,size:[m,y],datatype:h}),P=0;P<y;P++){w[P]=x.length;var C=p[P],T=p[P+1];if(T>C)for(var D=0,M=0;M<m;M++){for(var A=M+1,R=void 0,L=C;L<T;L++){var I=c[L];D!==A?(R=v(a[M][I],l[L]),D=A):R=g(R,v(a[M][I],l[L]))}D!==A||_(R,b)||(x.push(M),S.push(R))}}return w[y]=x.length,E},"SparseMatrix, DenseMatrix":function _multiplySparseMatrixDenseMatrix(t,r){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,p=r._data,f=r._datatype,d=t._size[0],h=r._size[0],m=r._size[1],y=n,g=o,v=i,_=0;l&&f&&l===f&&"string"===typeof l&&(c=l,y=e.find(n,[c,c]),g=e.find(o,[c,c]),v=e.find(i,[c,c]),_=e.convert(0,c));for(var b=[],S=[],x=[],w=t.createSparseMatrix({values:b,index:S,ptr:x,size:[d,m],datatype:c}),E=[],P=[],C=0;C<m;C++){x[C]=S.length;for(var T=C+1,D=0;D<h;D++){var M=p[D][C];if(!v(M,_))for(var A=u[D],R=u[D+1],L=A;L<R;L++){var I=s[L];P[I]!==T?(P[I]=T,S.push(I),E[I]=g(M,a[L])):E[I]=y(E[I],g(M,a[L]))}}for(var O=x[C],k=S.length,F=O;F<k;F++){var N=S[F];b[F]=E[N]}}return x[m]=S.length,w},"SparseMatrix, SparseMatrix":function _multiplySparseMatrixSparseMatrix(t,r){var i,a=t._values,s=t._index,u=t._ptr,l=t._datatype,c=r._values,p=r._index,f=r._ptr,d=r._datatype,h=t._size[0],m=r._size[1],y=a&&c,g=n,v=o;l&&d&&l===d&&"string"===typeof l&&(i=l,g=e.find(n,[i,i]),v=e.find(o,[i,i]));for(var _,b,S,x,w,E,P,C,T=y?[]:void 0,D=[],M=[],A=t.createSparseMatrix({values:T,index:D,ptr:M,size:[h,m],datatype:i}),R=y?[]:void 0,L=[],I=0;I<m;I++){M[I]=D.length;var O=I+1;for(w=f[I],E=f[I+1],x=w;x<E;x++)if(C=p[x],y)for(b=u[C],S=u[C+1],_=b;_<S;_++)P=s[_],L[P]!==O?(L[P]=O,D.push(P),R[P]=v(c[x],a[_])):R[P]=g(R[P],v(c[x],a[_]));else for(b=u[C],S=u[C+1],_=b;_<S;_++)P=s[_],L[P]!==O&&(L[P]=O,D.push(P));if(y)for(var k=M[I],F=D.length,N=k;N<F;N++){var B=D[N];T[N]=R[B]}}return M[m]=D.length,A}});return u}));function ArgumentsError(t,e,r,n){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(void 0!==n&&null!==n?"-"+n:"")+" expected)",this.stack=(new Error).stack}ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0;r(134);function gammaNumber(t){var e;if(number_isInteger(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:product_product(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*gammaNumber(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,o=n*t,i=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*o)+163879/(209018880*i)+5246819/(75246796800*i*t))}--t,e=H[0];for(var a=1;a<H.length;++a)e+=H[a]/(t+a);var s=t+q+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}gammaNumber.signature="number";var q=4.7421875,H=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];factory_factory("equal",["typed","equalScalar"],(function(t){var e=t.typed,r=t.equalScalar;return e("equal",{"any, any":function anyAny(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));r.d(e,"a",(function(){return ot}));var K=b({}),Y=E({config:s}),Z=P({}),X=D({}),Q=M({Matrix:Z}),$=I({BigNumber:Y,Complex:K,DenseMatrix:Q,Fraction:X}),J=k({config:s,typed:$}),tt=N({typed:$}),et=U({typed:$}),rt=z({Matrix:Z,equalScalar:J,typed:$}),nt=j({DenseMatrix:Q,Matrix:Z,SparseMatrix:rt,typed:$}),ot=W({addScalar:et,equalScalar:J,matrix:nt,multiplyScalar:tt,typed:$})}]]);
//# sourceMappingURL=2.5d1a9f35.chunk.js.map